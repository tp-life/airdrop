/*! For license information please see 387.bundle.js.LICENSE.txt */
(self.webpackChunk_keplr_wallet_extension=self.webpackChunk_keplr_wallet_extension||[]).push([[387],{35410:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useIBCSwapAmountConfig=t.IBCSwapAmountConfig=void 0;const i=r(13268),o=r(19731),s=r(11169),c=r(2784),d=r(80075);class u extends i.AmountConfig{constructor(e,t,r,n,a,i,o,s,c,u,l,f){super(e,t,i,o),this.accountStore=r,this.ethereumAccountStore=n,this.skipQueries=a,this._outChainId=s,this._outCurrency=c,this._swapFeeBps=u,this._allowSwaps=l,this._smartSwapOptions=f,this._oldValue=this._value,(0,d.makeObservable)(this)}get maxAmount(){let e=this.queriesStore.get(this.chainId).queryBalances.getQueryBech32Address(this.senderConfig.sender).getBalanceFromCurrency(this.currency);if(this.feeConfig)for(const t of this.feeConfig.fees)e=e.sub(t);return e.toDec().lte(new o.Dec(0))?new o.CoinPretty(this.currency,"0"):e}get value(){var e;if(this.fraction>0){let t=this.maxAmount;const r=null===(e=this.getQueryIBCSwap(t))||void 0===e?void 0:e.getQueryRoute();if(null==(null==r?void 0:r.response))return this._oldValue;{const e=r.response.data.estimated_fees,n=null==e?void 0:e.reduce(((e,t)=>t.origin_asset.denom===this.currency.coinMinimalDenom?e.add(new o.CoinPretty(this.currency,new o.Dec(t.amount))):e),new o.CoinPretty(this.currency,new o.Dec(0)));n&&(t=t.sub(n))}if(t.toDec().lte(new o.Dec(0)))return"0";const n=t.mul(new o.Dec(this.fraction)).trim(!0).locale(!1).hideDenom(!0).toString();return this._oldValue=n,n}return this._oldValue=this._value,this._value}get outAmount(){const e=this.getQueryIBCSwap();return e?e.getQueryRoute().outAmount:new o.CoinPretty(this.outCurrency,"0")}get outChainId(){return this._outChainId}get outCurrency(){return this._outCurrency}get allowSwaps(){return this._allowSwaps}get smartSwapOptions(){return this._smartSwapOptions}get swapPriceImpact(){const e=this.getQueryIBCSwap();if(e)return e.getQueryRoute().swapPriceImpact}setOutChainId(e){this._outChainId=e}setOutCurrency(e){this._outCurrency=e}setSwapFeeBps(e){this._swapFeeBps=e}get swapFeeBps(){return this._swapFeeBps}get swapFee(){const e=this.getQueryIBCSwap();return e?e.getQueryRoute().swapFee:[new o.CoinPretty(this.outCurrency,"0")]}get otherFees(){const e=this.getQueryIBCSwap();return e?e.getQueryRoute().otherFees:[new o.CoinPretty(this.outCurrency,"0")]}fetch(){return a(this,void 0,void 0,(function*(){const e=this.getQueryIBCSwap();e&&(yield e.getQueryRoute().fetch())}))}get isFetchingInAmount(){var e,t,r,n;return 1===this.fraction&&null!==(n=null!==(t=null===(e=this.getQueryIBCSwap(this.maxAmount))||void 0===e?void 0:e.getQueryRoute().isFetching)&&void 0!==t?t:null===(r=this.getQueryIBCSwap())||void 0===r?void 0:r.getQueryRoute().isFetching)&&void 0!==n&&n}get isFetchingOutAmount(){var e,t;return null!==(t=null===(e=this.getQueryIBCSwap())||void 0===e?void 0:e.getQueryRoute().isFetching)&&void 0!==t&&t}get type(){const e=this.getQueryIBCSwap();if(!e)return"not-ready";const t=e.getQueryRoute().response;return t?!1===t.data.does_swap?"transfer":"swap":"not-ready"}getTx(e,t,r,n){var i;return a(this,void 0,void 0,(function*(){const a=this.getQueryIBCSwap();if(!a)throw new Error("Query IBC Swap is not initialized");const c=a.getQueryRoute().response;if(!c)throw new Error("Failed to fetch route");if(c.timestamp&&(new Date).getTime()-c.timestamp>u.QueryMsgsDirectRefreshInterval+5e3)throw new Error("The quote is expired. Please try again.");const d={},l=this.accountStore.getAccount(this.chainId);l.walletStatus===s.WalletStatus.NotInit&&(yield l.init());const f=this.chainId.startsWith("eip155:");if(f?!l.ethereumHexAddress:!l.bech32Address)throw new Error("Source account is not set");d[this.chainId.replace("eip155:","")]=f?l.ethereumHexAddress:l.bech32Address;const h=c.data.chain_ids.map((e=>{const t=Number(e);return Number.isNaN(t)||0===t?e:`eip155:${e}`}));for(const e of h){const t=this.accountStore.getAccount(e);t.walletStatus===s.WalletStatus.NotInit&&(yield t.init());const r=e.startsWith("eip155:");if(r?!t.ethereumHexAddress:!t.bech32Address)throw new Error("Destination account is not set");d[e.replace("eip155:","")]=r?t.ethereumHexAddress:t.bech32Address}n&&(d[n.chainId.replace("eip155:","")]=n.recipient);for(const e of null!==(i=c.data.swap_venues)&&void 0!==i?i:[c.data.swap_venue])if(e){const t=(()=>{const t=Number(e.chain_id);return Number.isNaN(t)||0===t?e.chain_id:`eip155:${e.chain_id}`})(),r=this.accountStore.getAccount(t);r.walletStatus===s.WalletStatus.NotInit&&(yield r.init());const n=t.startsWith("eip155:");if(n?!r.ethereumHexAddress:!r.bech32Address){const e=this.chainGetter.hasChain(t)&&this.chainGetter.getChain(t);if(r.isNanoLedger&&e&&(60===e.bip44.coinType||e.features.includes("eth-address-gen")||e.features.includes("eth-key-sign")||null!=e.evm))throw new Error("Please connect Ethereum app on Ledger with Keplr to get the address");throw new Error("Swap account is not set")}d[t.replace("eip155:","")]=n?r.ethereumHexAddress:r.bech32Address}const p=a.getQueryMsgsDirect(d,e,t);if(yield p.waitFreshResponse(),p.error)throw new Error(p.error.message);const b=this.getTxIfReady(e,t,n);if(!b)throw new Error("Tx is not ready");if(r){const n=a.getQueryMsgsDirect(d,e,t);if(!n.response)throw new Error("Can't happen: queryMsgsDirect is not ready");const i=new o.Int(n.response.data.route.amount_out);if(i.lt(r)&&i.sub(r).abs().toDec().quo(r.toDec()).gte(new o.Dec(.01)))throw new Error("Price change has been detected while building your transaction. Please try again")}return b}))}getTxIfReady(e,t,r){var n;if(!this.currency)return;if(1!==this.amount.length)return;if(this.amount[0].toDec().lte(new o.Dec(0)))return;const a=this.getQueryIBCSwap();if(!a)return;const i=a.getQueryRoute().response;if(!i)return;const c={},d=this.accountStore.getAccount(this.chainId);d.walletStatus===s.WalletStatus.NotInit&&d.init();const u=this.chainId.startsWith("eip155:");if(u?!d.ethereumHexAddress:!d.bech32Address)return;c[this.chainId.replace("eip155:","")]=u?d.ethereumHexAddress:d.bech32Address;const l=i.data.chain_ids.map((e=>{const t=Number(e);return Number.isNaN(t)||0===t?e:`eip155:${e}`}));for(const e of l){const t=this.accountStore.getAccount(e);t.walletStatus===s.WalletStatus.NotInit&&t.init();const r=e.startsWith("eip155:");if(r?!t.ethereumHexAddress:!t.bech32Address)return;c[e.replace("eip155:","")]=r?t.ethereumHexAddress:t.bech32Address}r&&(c[r.chainId.replace("eip155:","")]=r.recipient);for(const e of null!==(n=i.data.swap_venues)&&void 0!==n?n:[i.data.swap_venue])if(e){const t=(()=>{const t=Number(e.chain_id);return Number.isNaN(t)||0===t?e.chain_id:`eip155:${e.chain_id}`})(),r=this.accountStore.getAccount(t);r.walletStatus===s.WalletStatus.NotInit&&r.init();const n=t.startsWith("eip155:");if(n?!r.ethereumHexAddress:!r.bech32Address)return;c[t.replace("eip155:","")]=n?r.ethereumHexAddress:r.bech32Address}const f=a.getQueryMsgsDirect(c,e,t).msg;if(f){if("MsgTransfer"===f.type){const e=d.cosmos.makeIBCTransferTx({portId:f.sourcePort,channelId:f.sourceChannel,counterpartyChainId:f.counterpartyChainId},this.amount[0].toDec().toString(),this.amount[0].currency,f.receiver,f.memo);return e.ui.overrideType("ibc-swap"),e}if("MsgExecuteContract"===f.type){const e=d.cosmwasm.makeExecuteContractTx("unknown",f.contract,f.msg,f.funds.map((e=>e.toCoin())));return e.ui.overrideType("ibc-swap"),e}if("evmTx"===f.type){const e=this.ethereumAccountStore.getAccount(f.chainId).makeTx(f.to,f.value,f.data);return Object.assign(Object.assign({},e),{requiredErc20Approvals:f.requiredErc20Approvals})}if("MsgCCTP"===f.type)return d.cosmos.makeCCTPTx(f.msgs[0].msg,f.msgs[1].msg)}}createSwapRouteKeyFromRouteResponse(e){let t="";for(const r of e.operations)if("swap"in r)if(r.swap.swap_in)for(const e of r.swap.swap_in.swap_operations)t+=`/${e.pool}/${e.denom_in}/${e.denom_out}`;else if(r.swap.smart_swap_in)for(const e of r.swap.smart_swap_in.swap_routes)for(const r of e.swap_operations)t+=`/${r.pool}/${r.denom_in}/${r.denom_out}`;return t}createSwapRouteKeyFromMsgsDirectResponse(e){let t="";for(const r of e.txs)if(r.cosmos_tx){const e=r.cosmos_tx.msgs[0];if("/ibc.applications.transfer.v1.MsgTransfer"===e.msg_type_url){const r=JSON.parse(e.msg).memo;if(r){const e=JSON.parse(r),n=[];e.wasm&&n.push(e.wasm);let a=e.forward;if(a)for(;a;){if(a.memo){const e=JSON.parse(a.memo);e.wasm&&n.push(e.wasm)}if(a.wasm&&n.push(a.wasm),!a.next)break;{const e="string"==typeof a.next?JSON.parse(a.next):a.next;a=e.forward?e.forward:e}}for(const e of n)for(const r of e.msg.swap_and_action.user_swap.swap_exact_asset_in.operations)t+=`/${r.pool}/${r.denom_in}/${r.denom_out}`}}if("/cosmwasm.wasm.v1.MsgExecuteContract"===e.msg_type_url){const r=JSON.parse(e.msg);for(const e of r.msg.swap_and_action.user_swap.swap_exact_asset_in.operations)t+=`/${e.pool}/${e.denom_in}/${e.denom_out}`}}return t}_isUseSwapInBridge(e){var t;if(!1!==this.allowSwaps||!1!==(null===(t=this._smartSwapOptions)||void 0===t?void 0:t.evmSwaps)||!e)return!1;const r=e.operations.some((e=>"swap"in e||"evm_swap"in e));return e.does_swap||r}get uiProperties(){const e=super.uiProperties;if(1===this.fraction){const t=this.getQueryIBCSwap(this.maxAmount);if(!t)return Object.assign(Object.assign({},e),{error:new Error("Query IBC Swap is not initialized")});const r=t.getQueryRoute();if(r.isFetching)return Object.assign(Object.assign({},e),{loadingState:"loading-block"});const n=r.error;if(n){const t="Input amount is too low to cover CCTP bridge relay fee";return n.message.includes(t)?Object.assign(Object.assign({},e),{error:new Error("Input amount too low to cover the bridge fees.")}):Object.assign(Object.assign({},e),{error:new Error(n.message)})}const a=r.response;if(a){if(this._isUseSwapInBridge(a.data))return Object.assign(Object.assign({},e),{error:new Error("Swap in bridge is not allowed")});if(1!==a.data.txs_required)return Object.assign(Object.assign({},e),{error:new Error("Swap can't be executed with ibc pfm")});if(a.data.estimated_fees&&a.data.estimated_fees.length>0){const t=a.data.estimated_fees.reduce(((e,t)=>t.origin_asset.denom===this.currency.coinMinimalDenom?e.add(new o.CoinPretty(this.currency,new o.Dec(t.amount))):e),new o.CoinPretty(this.currency,new o.Dec(0)));if(t&&t.toDec().gte(this.maxAmount.toDec()))return Object.assign(Object.assign({},e),{error:new Error("Your balance is too low to cover the bridge fees.")})}}}if(e.error||e.loadingState)return e;const t=this.getQueryIBCSwap();if(!t)return Object.assign(Object.assign({},e),{error:new Error("Query IBC Swap is not initialized")});const r=t.getQueryRoute();if(r.isFetching)return Object.assign(Object.assign({},e),{loadingState:"loading-block"});const n=r.error;if(n){const t="Input amount is too low to cover CCTP bridge relay fee";return n.message.includes(t)?Object.assign(Object.assign({},e),{error:new Error("Input amount too low to cover the bridge fees.")}):Object.assign(Object.assign({},e),{error:new Error(n.message)})}const a=r.response;if(a){if(this._isUseSwapInBridge(a.data))return Object.assign(Object.assign({},e),{error:new Error("Swap in bridge is not allowed")});if(1!==(null==a?void 0:a.data.txs_required))return Object.assign(Object.assign({},e),{error:new Error("Swap can't be executed with ibc pfm")});if(a.data.estimated_fees&&a.data.estimated_fees.length>0){const t=a.data.estimated_fees.reduce(((e,t)=>t.origin_asset.denom===this.currency.coinMinimalDenom?e.add(new o.CoinPretty(this.currency,new o.Dec(t.amount))):e),new o.CoinPretty(this.currency,new o.Dec(0)));if(t&&t.toDec().gte(this.maxAmount.toDec()))return Object.assign(Object.assign({},e),{error:new Error("Your balance is too low to cover the bridge fees.")})}}return this.amount.length>0&&this.amount[0].currency.coinMinimalDenom===this.outAmount.currency.coinMinimalDenom&&this.chainGetter.getChain(this.chainId).chainIdentifier===this.chainGetter.getChain(this.outChainId).chainIdentifier?Object.assign(Object.assign({},e),{error:new Error("In and out currency is same")}):this.amount.length>0&&!this.skipQueries.queryIBCSwap.isSwappableCurrency(this.chainId,this.amount[0].currency)?Object.assign(Object.assign({},e),{error:new Error("The currency you are swapping from is currently not supported")}):this.skipQueries.queryIBCSwap.isSwapDestinationOrAlternatives(this.outChainId,this.outAmount.currency)?Object.assign({},e):Object.assign(Object.assign({},e),{error:new Error("The currency you are swapping to is currently not supported")})}getQueryIBCSwap(e){if(e||0!==this.amount.length)return this.skipQueries.queryIBCSwap.getIBCSwap(this.chainId,null!=e?e:this.amount[0],this.outChainId,this.outCurrency.coinMinimalDenom,this.swapFeeBps,this.allowSwaps,this.smartSwapOptions)}}u.QueryMsgsDirectRefreshInterval=1e4,n([d.observable],u.prototype,"_outChainId",void 0),n([d.observable.ref],u.prototype,"_outCurrency",void 0),n([d.observable],u.prototype,"_swapFeeBps",void 0),n([d.observable],u.prototype,"_allowSwaps",void 0),n([d.observable],u.prototype,"_smartSwapOptions",void 0),n([d.computed],u.prototype,"maxAmount",null),n([d.override],u.prototype,"value",null),n([d.action],u.prototype,"setOutChainId",null),n([d.action],u.prototype,"setOutCurrency",null),n([d.action],u.prototype,"setSwapFeeBps",null),n([d.override],u.prototype,"uiProperties",null),t.IBCSwapAmountConfig=u,t.useIBCSwapAmountConfig=(e,t,r,n,a,i,o,s,d,l,f,h)=>{const[p]=(0,c.useState)((()=>new u(e,t,r,n,a,i,o,s,d,l,f,h)));return p.setChain(i),p.setOutChainId(s),p.setOutCurrency(d),p.setSwapFeeBps(l),p}},79196:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(84014),t),a(r(35410),t)},84014:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIBCSwapConfig=void 0;const n=r(13268),a=r(35410);t.useIBCSwapConfig=(e,t,r,i,o,s,c,d,u,l,f,h,p)=>{const b=(0,n.useSenderConfig)(e,s,c),g=(0,a.useIBCSwapAmountConfig)(e,t,r,i,o,s,b,u,l,f,h,p),m=(0,n.useMemoConfig)(e,s),y=(0,n.useGasConfig)(e,s,d),v=(0,n.useFeeConfig)(e,t,s,b,g,y);return g.setFeeConfig(v),{amountConfig:g,memoConfig:m,gasConfig:y,feeConfig:v,senderConfig:b}}},39523:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(79196),t),a(r(90723),t)},26004:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useNobleEarnAmountConfig=t.NobleEarnAmountConfig=void 0;const a=r(13268),i=r(19731),o=r(2784),s=r(80075),c=new i.Dec(.005);class d extends a.AmountConfig{constructor(e,t,r,n,a,i){super(e,t,n,a),this.accountStore=r,this._outCurrency=i,(0,s.makeObservable)(this)}get outCurrency(){return this._outCurrency}setOutCurrency(e){this._outCurrency=e}get error(){var e,t,r;if(this.amount[0].toDec().isZero())return;const n=this.amount[0].mul(new i.Dec(.99)),a=this.querySimulateSwap(n);return(null===(e=null==a?void 0:a.error)||void 0===e?void 0:e.message.includes("min amount"))||(null===(t=null==a?void 0:a.simulatedOutAmount)||void 0===t?void 0:t.toDec().lt(n.toDec()))?new Error("Estimated out amount is less than expected"):(null==a?void 0:a.error)?new Error(null===(r=null==a?void 0:a.error)||void 0===r?void 0:r.message):void 0}get pool(){var e,t;const r=null===(e=this.queriesStore.get(this.chainId).noble)||void 0===e?void 0:e.querySwapRates.getQueryCoinMinimalDenom(this.amount[0].currency.coinMinimalDenom).rates,n=null==r?void 0:r.reduce(((e,t)=>new i.Dec(e.price).gt(new i.Dec(t.price))?t:e),null==r?void 0:r[0]),a=null===(t=this.queriesStore.get(this.chainId).noble)||void 0===t?void 0:t.querySwapPools.pools;return null==a?void 0:a.find((e=>e.algorithm===(null==n?void 0:n.algorithm)&&e.liquidity.some((e=>e.denom===this.amount[0].currency.coinMinimalDenom))&&e.liquidity.some((e=>e.denom===this.outCurrency.coinMinimalDenom))))}querySimulateSwap(e){var t;return this.pool&&(null===(t=this.queriesStore.get(this.chainId).noble)||void 0===t?void 0:t.querySwapSimulateSwap.getQuery(this.senderConfig.sender,this.amount[0].toCoin(),[{pool_id:this.pool.id,denom_to:this.outCurrency.coinMinimalDenom}],{denom:this.outCurrency.coinMinimalDenom,amount:e.toCoin().amount}))}get expectedOutAmount(){var e,t,r;if(this.amount[0].toDec().isZero())return new i.CoinPretty(this.outCurrency,"0");const n=this.amount[0].mul(new i.Dec(.99)),a=this.querySimulateSwap(n);return(null===(e=null==a?void 0:a.error)||void 0===e?void 0:e.message.includes("min amount"))||(null===(t=null==a?void 0:a.simulatedOutAmount)||void 0===t?void 0:t.toDec().lt(n.toDec()))?new i.CoinPretty(this.outCurrency,n.toCoin().amount):(null==a?void 0:a.error)?new i.CoinPretty(this.outCurrency,"0"):null!==(r=null==a?void 0:a.simulatedOutAmount)&&void 0!==r?r:new i.CoinPretty(this.outCurrency,"0")}get minOutAmount(){return this.expectedOutAmount.mul(new i.Dec(1).sub(c))}}n([s.observable.ref],d.prototype,"_outCurrency",void 0),n([s.action],d.prototype,"setOutCurrency",null),t.NobleEarnAmountConfig=d,t.useNobleEarnAmountConfig=(e,t,r,n,i,s,c)=>{const u=(0,a.useSenderConfig)(e,n,i),[l]=(0,o.useState)((()=>new d(e,t,r,n,u,c)));l.setChain(n),l.setCurrency(s),l.setOutCurrency(c);const f=(0,a.useGasConfig)(e,n,23e4),h=(0,a.useFeeConfig)(e,t,n,u,l,f);return l.setFeeConfig(h),{senderConfig:u,amountConfig:l,gasConfig:f,feeConfig:h}}},90723:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(26004),t)},75960:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TransactionTypes:()=>p,accessListify:()=>E,computeAddress:()=>v,parse:()=>k,recoverAddress:()=>_,serialize:()=>T});var n=r(63523),a=r(10528),i=r(97750),o=r(90711),s=r(59256),c=r(22951),d=r(48669),u=r(17459),l=r(78011),f=r(23006);const h=new l.Yd(f.i);var p;function b(e){return"0x"===e?null:(0,n.getAddress)(e)}function g(e){return"0x"===e?o._Y:a.O$.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(p||(p={}));const m=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],y={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function v(e){const t=(0,u.VW)(e);return(0,n.getAddress)((0,i.hexDataSlice)((0,s.w)((0,i.hexDataSlice)(t,1)),12))}function _(e,t){return v((0,u.LO)((0,i.arrayify)(e),t))}function w(e,t){const r=(0,i.stripZeros)(a.O$.from(e).toHexString());return r.length>32&&h.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function A(e,t){return{address:(0,n.getAddress)(e),storageKeys:(t||[]).map(((t,r)=>(32!==(0,i.hexDataLength)(t)&&h.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function E(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&h.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),A(e[0],e[1])):A(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return A(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function S(e){return E(e).map((e=>[e.address,e.storageKeys]))}function I(e,t){if(null!=e.gasPrice){const t=a.O$.from(e.gasPrice),r=a.O$.from(e.maxFeePerGas||0);t.eq(r)||h.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[w(e.chainId||0,"chainId"),w(e.nonce||0,"nonce"),w(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),w(e.maxFeePerGas||0,"maxFeePerGas"),w(e.gasLimit||0,"gasLimit"),null!=e.to?(0,n.getAddress)(e.to):"0x",w(e.value||0,"value"),e.data||"0x",S(e.accessList||[])];if(t){const e=(0,i.splitSignature)(t);r.push(w(e.recoveryParam,"recoveryParam")),r.push((0,i.stripZeros)(e.r)),r.push((0,i.stripZeros)(e.s))}return(0,i.hexConcat)(["0x02",d.c(r)])}function C(e,t){const r=[w(e.chainId||0,"chainId"),w(e.nonce||0,"nonce"),w(e.gasPrice||0,"gasPrice"),w(e.gasLimit||0,"gasLimit"),null!=e.to?(0,n.getAddress)(e.to):"0x",w(e.value||0,"value"),e.data||"0x",S(e.accessList||[])];if(t){const e=(0,i.splitSignature)(t);r.push(w(e.recoveryParam,"recoveryParam")),r.push((0,i.stripZeros)(e.r)),r.push((0,i.stripZeros)(e.s))}return(0,i.hexConcat)(["0x01",d.c(r)])}function T(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&h.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){(0,c.uj)(e,y);const r=[];m.forEach((function(t){let n=e[t.name]||[];const a={};t.numeric&&(a.hexPad="left"),n=(0,i.arrayify)((0,i.hexlify)(n,a)),t.length&&n.length!==t.length&&n.length>0&&h.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=(0,i.stripZeros)(n),n.length>t.maxLength&&h.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push((0,i.hexlify)(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!=typeof n&&h.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!(0,i.isBytesLike)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push((0,i.hexlify)(n)),r.push("0x"),r.push("0x")),!t)return d.c(r);const a=(0,i.splitSignature)(t);let o=27+a.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,a.v>28&&a.v!==o&&h.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):a.v!==o&&h.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,i.hexlify)(o)),r.push((0,i.stripZeros)((0,i.arrayify)(a.r))),r.push((0,i.stripZeros)((0,i.arrayify)(a.s))),d.c(r)}(e,t);switch(e.type){case 1:return C(e,t);case 2:return I(e,t)}return h.throwError(`unsupported transaction type: ${e.type}`,l.Yd.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function x(e,t,r){try{const r=g(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(e){h.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,i.hexZeroPad)(t[1],32),e.s=(0,i.hexZeroPad)(t[2],32);try{const t=(0,s.w)(r(e));e.from=_(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function k(e){const t=(0,i.arrayify)(e);if(t[0]>127)return function(e){const t=d.J(e);9!==t.length&&6!==t.length&&h.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:g(t[0]).toNumber(),gasPrice:g(t[1]),gasLimit:g(t[2]),to:b(t[3]),value:g(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=a.O$.from(t[6]).toNumber()}catch(e){return r}if(r.r=(0,i.hexZeroPad)(t[7],32),r.s=(0,i.hexZeroPad)(t[8],32),a.O$.from(r.r).isZero()&&a.O$.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const a=t.slice(0,6);0!==r.chainId&&(a.push((0,i.hexlify)(r.chainId)),a.push("0x"),a.push("0x"),n-=2*r.chainId+8);const o=(0,s.w)(d.c(a));try{r.from=_(o,{r:(0,i.hexlify)(r.r),s:(0,i.hexlify)(r.s),recoveryParam:n})}catch(e){}r.hash=(0,s.w)(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=d.J(e.slice(1));8!==t.length&&11!==t.length&&h.throwArgumentError("invalid component count for transaction type: 1","payload",(0,i.hexlify)(e));const r={type:1,chainId:g(t[0]).toNumber(),nonce:g(t[1]).toNumber(),gasPrice:g(t[2]),gasLimit:g(t[3]),to:b(t[4]),value:g(t[5]),data:t[6],accessList:E(t[7])};return 8===t.length||(r.hash=(0,s.w)(e),x(r,t.slice(8),C)),r}(t);case 2:return function(e){const t=d.J(e.slice(1));9!==t.length&&12!==t.length&&h.throwArgumentError("invalid component count for transaction type: 2","payload",(0,i.hexlify)(e));const r=g(t[2]),n=g(t[3]),a={type:2,chainId:g(t[0]).toNumber(),nonce:g(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:g(t[4]),to:b(t[5]),value:g(t[6]),data:t[7],accessList:E(t[8])};return 9===t.length||(a.hash=(0,s.w)(e),x(a,t.slice(9),I)),a}(t)}return h.throwError(`unsupported transaction type: ${t[0]}`,l.Yd.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}},52514:(e,t,r)=>{"use strict";var n,a=r(48834).Buffer,i=r(2784),o=(n=i)&&"object"==typeof n&&"default"in n?n.default:n,s=r(33440),c=r(29782),d=r(20028),u=r(94183),l=r(90538);const f=({cbor:e,type:t,capacity:r=400,interval:n=100})=>{const o=i.useMemo((()=>new s.UREncoder(new s.UR(a.from(e,"hex"),t),r)),[e,t]),[c,d]=i.useState(o.nextPart().toUpperCase());return i.useEffect((()=>{const e=setInterval((()=>{d(o.nextPart().toUpperCase())}),n);return()=>{clearInterval(e)}}),[o]),c},h=({value:e,size:t=180})=>o.createElement("div",{style:{width:t,height:t,backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement(c.QRCodeCanvas,{value:e,size:t-10})),p="qr-scanner-video",b=({handleScan:e,handleError:t,blur:r=!0,videoLoaded:n,width:a,height:s})=>{const[c,l]=i.useState(!1),f=i.useMemo((()=>{const e=new Map;return e.set(d.DecodeHintType.POSSIBLE_FORMATS,[d.BarcodeFormat.QR_CODE]),new u.BrowserQRCodeReader(e,{delayBetweenScanAttempts:50,delayBetweenScanSuccess:100})}),[]);return i.useEffect((()=>{const r=document.getElementById(p),a=()=>{l(!0),n&&n(!0)};r.addEventListener("canplay",a);const i=((null==r?void 0:r.pendingScanRequest)??Promise.resolve(void 0)).then((()=>f.decodeFromVideoDevice(void 0,r,((r,n)=>{r&&e(r.getText()),n&&t(n.message)})))).catch((e=>{console.error(e)}));return r&&(r.pendingScanRequest=i),()=>{r.removeEventListener("canplay",a),i.then((e=>{e&&e.stop()}))}}),[]),o.createElement("video",{id:p,"data-testid":p,style:{display:c?"block":"none",width:a||"auto",height:s||"auto",objectFit:"cover",transform:"rotateY(180deg)",filter:r?"blur(4px)":"none"}})};var g,m,y,v;(g=t.aL||(t.aL={})).UNEXPECTED_QRCODE="UNEXPECTED_QRCODE",g.INVALID_QR_CODE="INVALID_QR_CODE",function(e){e.ACCESSING_CAMERA="ACCESSING_CAMERA",e.NO_WEBCAM="NO_WEBCAM_FOUND",e.PERMISSION_NEEDED="NO_WEBCAM_ACCESS",e.READY="READY",e.UNKNOWN_ERROR="UNKNOWN_CAMERA_ERROR"}(m||(m={})),(y=t.Purpose||(t.Purpose={})).SYNC="sync",y.SIGN="sign",y.SOL_SYNC="sol-sync",y.SOL_SIGN="sol-sign",y.NEAR_SYNC="near-sync",y.NEAR_SIGN="near-sign",y.COSMOS_SYNC="cosmos-sync",y.COSMOS_SIGN="cosmos-sign",(v=t.URType||(t.URType={})).CRYPTO_HDKEY="crypto-hdkey",v.CRYPTO_ACCOUNT="crypto-account",v.CRYPTO_MULTI_ACCOUNTS="crypto-multi-accounts",v.ETH_SIGNATURE="eth-signature",v.SOL_SIGNATURE="sol-signature",v.NEAR_SIGNATURE="near-signature",v.COSMOS_SIGNATURE="cosmos-signature",v.EVM_SIGNATURE="evm-signature";const _={[t.Purpose.SYNC]:[t.URType.CRYPTO_HDKEY,t.URType.CRYPTO_ACCOUNT],[t.Purpose.SIGN]:[t.URType.ETH_SIGNATURE],[t.Purpose.SOL_SYNC]:[t.URType.CRYPTO_MULTI_ACCOUNTS],[t.Purpose.SOL_SIGN]:[t.URType.SOL_SIGNATURE],[t.Purpose.NEAR_SYNC]:[t.URType.CRYPTO_MULTI_ACCOUNTS],[t.Purpose.NEAR_SIGN]:[t.URType.NEAR_SIGNATURE],[t.Purpose.COSMOS_SYNC]:[t.URType.CRYPTO_MULTI_ACCOUNTS],[t.Purpose.COSMOS_SIGN]:[t.URType.COSMOS_SIGNATURE]},w=({purpose:e,urTypes:r=[],handleScan:n,handleError:a,onProgress:i})=>{let o=new l.URRegistryDecoder;return{handleScanSuccess:s=>{try{if(o.receivePart(s),!o.isComplete())return void(i&&i(Math.trunc(100*o.estimatedPercentComplete())));if(o.isError()&&a(t.aL.INVALID_QR_CODE),o.isSuccess()){const s=o.resultUR(),c=[];if(e&&_[e]&&c.push(..._[e]),c.push(...r),c.includes(s.type)){i&&i(100);try{n({type:s.type,cbor:s.cbor.toString("hex")})}catch(e){a("FAILED_TO_HANDLE_QR_CODE")}}else a(t.aL.UNEXPECTED_QRCODE);o=new l.URRegistryDecoder}}catch(e){a(t.aL.INVALID_QR_CODE),o=new l.URRegistryDecoder}},handleScanFailure:e=>{"Dimensions could be not found."!==e&&a&&e&&a(e)}}},A=async e=>{const t=((e="popup.html")=>new URL(window.location.href).pathname==="/"+e)(e),r=(()=>{const{navigator:e}=window,{userAgent:t}=e;return t.includes("Firefox")||"brave"in e})(),n=(await window.navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)),a=n.length>0,i=n.some((e=>e.label&&e.label.length>0));if(a){let e=!0;return(r&&t||t&&!i)&&(e=!1),{permissions:i,environmentReady:e}}throw new Error(m.NO_WEBCAM)};t.AnimatedQRCode=({cbor:e,type:t,options:r})=>{const n=f({cbor:e,type:t,capacity:null==r?void 0:r.capacity,interval:null==r?void 0:r.interval});return o.createElement(h,{value:n,size:null==r?void 0:r.size})},t.useAnimatedQRScanner=e=>{const[t,r]=i.useState(!1),[n,a]=i.useState(!0),s=i.useRef(t),{cameraStatus:c}=(e=>{const[t,r]=i.useState(m.ACCESSING_CAMERA),n=i.useRef(!1);let a=null;const o=async()=>{try{const{permissions:t}=await A(e);if(t){if(await new Promise((e=>setTimeout(e,2e3))),!n.current)return;r(m.READY)}else n.current&&(a=setTimeout(o,1e3),r(m.PERMISSION_NEEDED))}catch(e){n.current&&r(m.UNKNOWN_ERROR)}},s=()=>{try{o()}catch(e){if(!n.current)return;r("NotAllowedError"===(null==e?void 0:e.name)?m.PERMISSION_NEEDED:m.UNKNOWN_ERROR)}};return i.useEffect((()=>(n.current=!0,(async()=>{try{const{environmentReady:t}=await A(e);r(t?m.READY:m.PERMISSION_NEEDED)}catch(e){n.current&&r(m.UNKNOWN_ERROR)}s()})(),()=>{n.current=!1,clearTimeout(a)})),[]),i.useEffect((()=>{t===m.READY?s():t===m.PERMISSION_NEEDED&&o()}),[t]),{cameraStatus:t}})(),d=i.useMemo((()=>({purpose:t,urTypes:n,handleScan:i,handleError:c,videoLoaded:d,onProgress:u,options:l,...f})=>{const{handleScanSuccess:h,handleScanFailure:p}=w({purpose:t,urTypes:n,handleScan:e=>{s.current||(r(!0),i(e))},handleError:e=>{s.current||(r(!0),c(e))},onProgress:u});return o.createElement((null==e?void 0:e.Scanner)??b,Object.assign({handleScan:h,handleError:p,videoLoaded:e=>{a(e),"function"==typeof d&&d(e)}},null==e?void 0:e.scannerProps,l,f))}),[]);return i.useEffect((()=>{s.current=t}),[t]),i.useEffect((()=>{c!==m.PERMISSION_NEEDED&&c!==m.NO_WEBCAM||a(!1)}),[c]),{isDone:t,hasPermission:n,AnimatedQRScanner:d,setIsDone:r}}},13979:(e,t,r)=>{"use strict";e.exports=r(52514)},85997:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.KeystoneSDK=t.DerivationAlgorithm=t.Curve=void 0;const s=i(r(26565));t.utils=s;const c=r(68930);Object.defineProperty(t,"KeystoneSDK",{enumerable:!0,get:function(){return c.KeystoneSDK}}),o(r(33440),t),o(r(29632),t),o(r(37401),t);var d=r(67100);Object.defineProperty(t,"Curve",{enumerable:!0,get:function(){return d.Curve}}),Object.defineProperty(t,"DerivationAlgorithm",{enumerable:!0,get:function(){return d.DerivationAlgorithm}}),t.default=c.KeystoneSDK},28646:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(97790),a=r(96067),i=r(48246),o=r(91288),s=r(10423),c=r(48834).Buffer,d=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};const u=[{vendorId:i.An}],l=()=>{const{hid:e}=navigator;if(!e)throw new s.PS("navigator.hid is not supported","HIDNotSupported");return e};function f(){return d(this,void 0,void 0,(function*(){const e=yield l().requestDevice({filters:u});return Array.isArray(e)?e:[e]}))}function h(){return d(this,void 0,void 0,(function*(){return(yield l().getDevices()).filter((e=>e.vendorId===i.An))}))}class p extends n.ZP{constructor(e){super(),this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.inputs=[],this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise((e=>{this.inputCallback=e})),this.onInputReport=e=>{const t=c.from(e.data.buffer);this.inputCallback?(this.inputCallback(t),this.inputCallback=null):this.inputs.push(t)},this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=e=>d(this,void 0,void 0,(function*(){return yield this.exchangeAtomicImpl((()=>d(this,void 0,void 0,(function*(){const{channel:t,packetSize:r}=this;(0,o.cM)("apdu","=> "+e.toString("hex"));const n=(0,a.Z)(t,r),i=n.makeBlocks(e);for(let e=0;e<i.length;e++)yield this.device.sendReport(0,i[e]);let s,c;for(;!(s=n.getReducedResult(c));){const e=yield this.read();c=n.reduceResponse(c,e)}return(0,o.cM)("apdu","<= "+s.toString("hex")),s})))).catch((e=>{if(e&&e.message&&e.message.includes("write"))throw this._emitDisconnect(e),new s.vs(e.message);throw e}))})),this.device=e,this.deviceModel="number"==typeof e.productId?(0,i.Ht)(e.productId):void 0,e.addEventListener("inputreport",this.onInputReport)}static request(){return d(this,void 0,void 0,(function*(){const[e]=yield f();return p.open(e)}))}static openConnected(){return d(this,void 0,void 0,(function*(){const e=yield h();return 0===e.length?null:p.open(e[0])}))}static open(e){return d(this,void 0,void 0,(function*(){yield e.open();const t=new p(e),r=n=>{e===n.device&&(l().removeEventListener("disconnect",r),t._emitDisconnect(new s.qX))};return l().addEventListener("disconnect",r),t}))}close(){return d(this,void 0,void 0,(function*(){yield this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),yield this.device.close()}))}setScrambleKey(){}}p.isSupported=()=>Promise.resolve(!(!window.navigator||!window.navigator.hid)),p.list=h,p.listen=e=>{let t=!1;return function(){return d(this,void 0,void 0,(function*(){const e=yield h();return e.length>0?e[0]:(yield f())[0]}))}().then((r=>{if(r){if(!t){const t="number"==typeof r.productId?(0,i.Ht)(r.productId):void 0;e.next({type:"add",descriptor:r,deviceModel:t}),e.complete()}}else e.error(new s.FB("Access denied to use Ledger device"))}),(t=>{e.error(new s.FB(t.message))})),{unsubscribe:function(){t=!0}}};const b=p},19981:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(97790),a=r(9064),i=r(21036),o=r(91288),s=r(10423),c=r(62607),d=r(48834).Buffer,u=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};class l extends n.ZP{constructor(e,t){super(),this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.device=e,this.interfaceNumber=t,this.deviceModel=(0,i.Ht)(e.productId)}static request(){return u(this,void 0,void 0,(function*(){const e=yield(0,c.PC)();return l.open(e)}))}static openConnected(){return u(this,void 0,void 0,(function*(){const e=yield(0,c.yz)();return 0===e.length?null:l.open(e[0])}))}static open(e){return u(this,void 0,void 0,(function*(){yield e.open(),null===e.configuration&&(yield e.selectConfiguration(1)),yield h(e);const t=e.configurations[0].interfaces.find((({alternates:e})=>e.some((e=>255===e.interfaceClass))));if(!t)throw new s.$u("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const r=t.interfaceNumber;try{yield e.claimInterface(r)}catch(t){throw yield e.close(),new s.$u(t.message)}const n=new l(e,r),a=t=>{e===t.device&&(navigator.usb.removeEventListener("disconnect",a),n._emitDisconnect(new s.qX))};return navigator.usb.addEventListener("disconnect",a),n}))}close(){return u(this,void 0,void 0,(function*(){yield this.exchangeBusyPromise,yield this.device.releaseInterface(this.interfaceNumber),yield h(this.device),yield this.device.close()}))}exchange(e){return u(this,void 0,void 0,(function*(){return yield this.exchangeAtomicImpl((()=>u(this,void 0,void 0,(function*(){const{channel:t,packetSize:r}=this;(0,o.cM)("apdu","=> "+e.toString("hex"));const n=(0,a.Z)(t,r),i=n.makeBlocks(e);for(let e=0;e<i.length;e++)yield this.device.transferOut(3,i[e]);let s,c;for(;!(s=n.getReducedResult(c));){const e=yield this.device.transferIn(3,r),t=d.from(e.data.buffer);c=n.reduceResponse(c,t)}return(0,o.cM)("apdu","<= "+s.toString("hex")),s})))).catch((e=>{if(e&&e.message&&e.message.includes("disconnected"))throw this._emitDisconnect(e),new s.vs(e.message);throw e}))}))}setScrambleKey(){}}l.isSupported=c.Gb,l.list=c.yz,l.listen=e=>{let t=!1;return(0,c.DC)().then((r=>{if(!t){const t=(0,i.Ht)(r.productId);e.next({type:"add",descriptor:r,deviceModel:t}),e.complete()}}),(t=>{window.DOMException&&t instanceof window.DOMException&&18===t.code?e.error(new s.um(t.message)):e.error(new s.FB(t.message))})),{unsubscribe:function(){t=!0}}};const f=l;function h(e){return u(this,void 0,void 0,(function*(){try{yield e.reset()}catch(e){console.warn(e)}}))}},75868:(e,t,r)=>{"use strict";r.d(t,{SpringValue:()=>n.SpringValue,animated:()=>E,easings:()=>n.easings,to:()=>n.to,useSpring:()=>n.useSpring,useSpringRef:()=>n.useSpringRef,useSpringValue:()=>n.useSpringValue,useTransition:()=>n.useTransition});var n=r(39557),a=r(28316),i=r(92810),o=r(49461);function s(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}const c=["style","children","scrollTop","scrollLeft","viewBox"],d=/^--/;function u(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||d.test(e)||f.hasOwnProperty(e)&&f[e]?(""+t).trim():t+"px"}const l={};let f={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const h=["Webkit","Ms","Moz","O"];f=Object.keys(f).reduce(((e,t)=>(h.forEach((r=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(r,t)]=e[t])),e)),f);const p=["x","y","z"],b=/^(matrix|translate|scale|rotate|skew)/,g=/^(translate)/,m=/^(rotate|skew)/,y=(e,t)=>i.is.num(e)&&0!==e?e+t:e,v=(e,t)=>i.is.arr(e)?e.every((e=>v(e,t))):i.is.num(e)?e===t:parseFloat(e)===t;class _ extends o.rS{constructor(e){let{x:t,y:r,z:n}=e,a=s(e,p);const o=[],c=[];(t||r||n)&&(o.push([t||0,r||0,n||0]),c.push((e=>[`translate3d(${e.map((e=>y(e,"px"))).join(",")})`,v(e,0)]))),(0,i.rU)(a,((e,t)=>{if("transform"===t)o.push([e||""]),c.push((e=>[e,""===e]));else if(b.test(t)){if(delete a[t],i.is.und(e))return;const r=g.test(t)?"px":m.test(t)?"deg":"";o.push((0,i.qo)(e)),c.push("rotate3d"===t?([e,t,n,a])=>[`rotate3d(${e},${t},${n},${y(a,r)})`,v(a,0)]:e=>[`${t}(${e.map((e=>y(e,r))).join(",")})`,v(e,t.startsWith("scale")?1:0)])}})),o.length&&(a.transform=new w(o,c)),super(a)}}class w extends i.B0{constructor(e,t){super(),this._value=null,this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return(0,i.S6)(this.inputs,((r,n)=>{const a=(0,i.je)(r[0]),[o,s]=this.transforms[n](i.is.arr(a)?a:r.map(i.je));e+=" "+o,t=t&&s})),t?"none":e}observerAdded(e){1==e&&(0,i.S6)(this.inputs,(e=>(0,i.S6)(e,(e=>(0,i.j$)(e)&&(0,i.UI)(e,this)))))}observerRemoved(e){0==e&&(0,i.S6)(this.inputs,(e=>(0,i.S6)(e,(e=>(0,i.j$)(e)&&(0,i.iL)(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),(0,i.k0)(this,e)}}const A=["scrollTop","scrollLeft"];n.Globals.assign({batchedUpdates:a.unstable_batchedUpdates,createStringInterpolator:i.qS,colors:i.O9});const E=(0,o.Ld)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,n=t,{style:a,children:i,scrollTop:o,scrollLeft:f,viewBox:h}=n,p=s(n,c),b=Object.values(p),g=Object.keys(p).map((t=>r||e.hasAttribute(t)?t:l[t]||(l[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==i&&(e.textContent=i);for(let t in a)if(a.hasOwnProperty(t)){const r=u(t,a[t]);d.test(t)?e.style.setProperty(t,r):e.style[t]=r}g.forEach(((t,r)=>{e.setAttribute(t,b[r])})),void 0!==o&&(e.scrollTop=o),void 0!==f&&(e.scrollLeft=f),void 0!==h&&e.setAttribute("viewBox",h)},createAnimatedStyle:e=>new _(e),getComponentProps:e=>s(e,A)}).animated},16060:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}var a;r.d(t,{Ep:()=>u,RQ:()=>P,WK:()=>L,X3:()=>B,Zn:()=>T,Zq:()=>O,aU:()=>a,cP:()=>l,fp:()=>h,kG:()=>s,pC:()=>N,q_:()=>o}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const i="popstate";function o(e){return void 0===e&&(e={}),function(e,t,r,o){void 0===o&&(o={});let{window:l=document.defaultView,v5Compat:f=!1}=o,h=l.history,p=a.Pop,b=null,g=m();function m(){return(h.state||{idx:null}).idx}function y(){p=a.Pop;let e=m(),t=null==e?null:e-g;g=e,b&&b({action:p,location:_.location,delta:t})}function v(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,r="string"==typeof e?e:u(e);return s(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,h.replaceState(n({},h.state,{idx:g}),""));let _={get action(){return p},get location(){return e(l,h)},listen(e){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(i,y),b=e,()=>{l.removeEventListener(i,y),b=null}},createHref:e=>t(l,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=a.Push;let n=d(_.location,e,t);r&&r(n,e),g=m()+1;let i=c(n,g),o=_.createHref(n);try{h.pushState(i,"",o)}catch(e){l.location.assign(o)}f&&b&&b({action:p,location:_.location,delta:1})},replace:function(e,t){p=a.Replace;let n=d(_.location,e,t);r&&r(n,e),g=m();let i=c(n,g),o=_.createHref(n);h.replaceState(i,"",o),f&&b&&b({action:p,location:_.location,delta:0})},go:e=>h.go(e)};return _}((function(e,t){let{pathname:r="/",search:n="",hash:a=""}=l(e.location.hash.substr(1));return d("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"==typeof t?t:u(t))}),(function(e,t){!function(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function s(e,t){if(!1===e||null==e)throw new Error(t)}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,r,a){return void 0===r&&(r=null),n({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?l(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function l(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var f;function h(e,t,r){void 0===r&&(r="/");let n=T(("string"==typeof t?l(t):t).pathname||"/",r);if(null==n)return null;let a=p(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let e=0;null==i&&e<a.length;++e)i=S(a[e],C(n));return i}function p(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let c=P([n,o.relativePath]),d=r.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+c+'".'),p(e.children,t,d,c)),(null!=e.path||e.index)&&t.push({path:c,score:E(c,e.index),routesMeta:d})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let r of b(e.path))a(e,t,r);else a(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=b(n.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));const g=/^:\w+$/,m=3,y=2,v=1,_=10,w=-2,A=e=>"*"===e;function E(e,t){let r=e.split("/"),n=r.length;return r.some(A)&&(n+=w),t&&(n+=y),r.filter((e=>!A(e))).reduce(((e,t)=>e+(g.test(t)?m:""===t?v:_)),n)}function S(e,t){let{routesMeta:r}=e,n={},a="/",i=[];for(let e=0;e<r.length;++e){let o=r[e],s=e===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=I({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},c);if(!d)return null;Object.assign(n,d.params);let u=o.route;i.push({params:n,pathname:P([a,d.pathname]),pathnameBase:M(P([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=P([a,d.pathnameBase]))}return i}function I(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0),x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(n.push(t),"/([^\\/]+)")));return e.endsWith("*")?(n.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce(((e,t,r)=>{if("*"===t){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(r){return x(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),e}}(s[r]||"",t),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function C(e){try{return decodeURI(e)}catch(t){return x(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function x(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function k(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e,t,r,a){let i;void 0===a&&(a=!1),"string"==typeof e?i=l(e):(i=n({},e),s(!i.pathname||!i.pathname.includes("?"),k("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),k("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),k("#","search","hash",i)));let o,c=""===e||""===i.pathname,d=c?"/":i.pathname;if(a||null==d)o=r;else{let e=t.length-1;if(d.startsWith("..")){let t=d.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"==typeof e?l(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:R(n),hash:D(a)}}(i,o),f=d&&"/"!==d&&d.endsWith("/"),h=(c||"."===d)&&r.endsWith("/");return u.pathname.endsWith("/")||!f&&!h||(u.pathname+="/"),u}const P=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class B extends Error{}function L(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],U=(new Set(F),["get",...F]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,Symbol("deferred")},49168:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const a=r(20419),i=r(76469),o=r(53016),s=r(66168),c=r(4362),d=r(53272),u="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function l(e){const t=n.from(d.decode(e));if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function f(e){let t,r;try{t=c.bech32.decode(e)}catch(e){}if(t){if(r=t.words[0],0!==r)throw new TypeError(e+" uses wrong encoding")}else if(t=c.bech32m.decode(e),r=t.words[0],0===r)throw new TypeError(e+" uses wrong encoding");const a=c.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:n.from(a)}}function h(e,t,r){const n=c.bech32.toWords(e);return n.unshift(t),0===t?c.bech32.encode(r,n):c.bech32m.encode(r,n)}t.fromBase58Check=l,t.fromBech32=f,t.toBase58Check=function(e,t){(0,s.typeforce)((0,s.tuple)(s.Hash160bit,s.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),d.encode(r)},t.toBech32=h,t.fromOutputScript=function(e,t){t=t||a.bitcoin;try{return i.p2pkh({output:e,network:t}).address}catch(e){}try{return i.p2sh({output:e,network:t}).address}catch(e){}try{return i.p2wpkh({output:e,network:t}).address}catch(e){}try{return i.p2wsh({output:e,network:t}).address}catch(e){}try{return i.p2tr({output:e,network:t}).address}catch(e){}try{return function(e,t){const r=e.slice(2);if(r.length<2||r.length>40)throw new TypeError("Invalid program length for segwit address");const n=e[0]-80;if(n<2||n>16)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(u),h(r,n,t.bech32)}(e,t)}catch(e){}throw new Error(o.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let r,n;t=t||a.bitcoin;try{r=l(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return i.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return i.p2sh({hash:r.hash}).output}else{try{n=f(e)}catch(e){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return i.p2wpkh({hash:n.data}).output;if(32===n.data.length)return i.p2wsh({hash:n.data}).output}else if(1===n.version){if(32===n.data.length)return i.p2tr({pubkey:n.data}).output}else if(n.version>=2&&n.version<=16&&n.data.length>=2&&n.data.length<=40)return console.warn(u),o.compile([n.version+80,n.data])}}throw new Error(e+" has no matching Script")}},76314:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEccLib=t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;const n=r(49168);t.address=n;const a=r(82572);t.crypto=a;const i=r(20419);t.networks=i;const o=r(76469);t.payments=o;const s=r(53016);t.script=s;var c=r(485);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return c.Block}});var d=r(9468);Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return d.Psbt}});var u=r(50443);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return u.OPS}});var l=r(54457);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return l.Transaction}});var f=r(6264);Object.defineProperty(t,"initEccLib",{enumerable:!0,get:function(){return f.initEccLib}})},47617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const n=r(48834),a=r(6264),i=r(82572),o=r(19359),s=r(66168);function c(e){const r=e.version||t.LEAF_VERSION_TAPSCRIPT;return i.taggedHash("TapLeaf",n.Buffer.concat([n.Buffer.from([r]),l(e.output)]))}function d(e,t){return i.taggedHash("TapTweak",n.Buffer.concat(t?[e,t]:[e]))}function u(e,t){return i.taggedHash("TapBranch",n.Buffer.concat([e,t]))}function l(e){const t=o.varuint.encodingLength(e.length),r=n.Buffer.allocUnsafe(t);return o.varuint.encode(e.length,r),n.Buffer.concat([r,e])}t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128,t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const r=(e.length-33)/32;let n=t;for(let t=0;t<r;t++){const r=e.slice(33+32*t,65+32*t);n=n.compare(r)<0?u(n,r):u(r,n)}return n},t.toHashTree=function e(t){if((0,s.isTapleaf)(t))return{hash:c(t)};const r=[e(t[0]),e(t[1])];r.sort(((e,t)=>e.hash.compare(t.hash)));const[n,a]=r;return{hash:u(n.hash,a.hash),left:n,right:a}},t.findScriptPath=function e(t,r){if("left"in(n=t)&&"right"in n){const n=e(t.left,r);if(void 0!==n)return[...n,t.right.hash];const a=e(t.right,r);if(void 0!==a)return[...a,t.left.hash]}else if(t.hash.equals(r))return[];var n},t.tapleafHash=c,t.tapTweakHash=d,t.tweakKey=function(e,t){if(!n.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const r=d(e,t),i=(0,a.getEccLib)().xOnlyPointAddTweak(e,r);return i&&null!==i.xOnlyPubkey?{parity:i.parity,x:n.Buffer.from(i.xOnlyPubkey)}:null}},53016:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const a=r(85299),i=r(50443);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return i.OPS}});const o=r(82146),s=r(57262),c=r(59394),d=r(66168),{typeforce:u}=d,l=i.OPS.OP_RESERVED;function f(e){return d.Buffer(e)||function(e){return d.Number(e)&&(e===i.OPS.OP_0||e>=i.OPS.OP_1&&e<=i.OPS.OP_16||e===i.OPS.OP_1NEGATE)}(e)}function h(e){return d.Array(e)&&e.every(f)}function p(e){return 0===e.length?i.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?l+e[0]:129===e[0]?i.OPS.OP_1NEGATE:void 0:void 0}function b(e){return n.isBuffer(e)}function g(e){return n.isBuffer(e)}function m(e){if(b(e))return e;u(d.Array,e);const t=e.reduce(((e,t)=>g(t)?1===t.length&&void 0!==p(t)?e+1:e+o.encodingLength(t.length)+t.length:e+1),0),r=n.allocUnsafe(t);let a=0;if(e.forEach((e=>{if(g(e)){const t=p(e);if(void 0!==t)return r.writeUInt8(t,a),void(a+=1);a+=o.encode(r,e.length,a),e.copy(r,a),a+=e.length}else r.writeUInt8(e,a),a+=1})),a!==r.length)throw new Error("Could not decode chunks");return r}function y(e){if(t=e,d.Array(t))return e;var t;u(d.Buffer,e);const r=[];let n=0;for(;n<e.length;){const t=e[n];if(t>i.OPS.OP_0&&t<=i.OPS.OP_PUSHDATA4){const t=o.decode(e,n);if(null===t)return null;if(n+=t.size,n+t.number>e.length)return null;const a=e.slice(n,n+t.number);n+=t.number;const i=p(a);void 0!==i?r.push(i):r.push(a)}else r.push(t),n+=1}return r}function v(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=h,t.countNonPushOnlyOPs=function(e){return e.length-e.filter(f).length},t.compile=m,t.decompile=y,t.toASM=function(e){if(b(e)&&(e=y(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map((e=>{if(g(e)){const t=p(e);if(void 0===t)return e.toString("hex");e=t}return i.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return u(d.String,e),m(e.split(" ").map((e=>void 0!==i.OPS[e]?i.OPS[e]:(u(d.Hex,e),n.from(e,"hex")))))},t.toStack=function(e){return e=y(e),u(h,e),e.map((e=>g(e)?e:e===i.OPS.OP_0?n.allocUnsafe(0):s.encode(e-l)))},t.isCanonicalPubKey=function(e){return d.isPoint(e)},t.isDefinedHashType=v,t.isCanonicalScriptSignature=function(e){return!!n.isBuffer(e)&&!!v(e[e.length-1])&&a.check(e.slice(0,-1))},t.number=s,t.signature=c},95363:(e,t,r)=>{var n=r(48834).Buffer,a=r(87554),i=r(62197);e.exports=function(e){return new s(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function c(e,t,r){Array.isArray(e)||(e=e.toArray());var a=new n(e);if(r&&a.length<r){var i=new n(r-a.length);i.fill(0),a=n.concat([i,a])}return t?a.toString(t):a}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,r){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),c(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),c(r,e)},s.prototype.getPrivateKey=function(e){return c(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new i(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},5634:(e,t,r)=>{"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(95003),t.createHash=t.Hash=r(16162),t.createHmac=t.Hmac=r(50011);var n=r(24778),a=Object.keys(n),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);t.getHashes=function(){return i};var o=r(59532);t.pbkdf2=o.pbkdf2,t.pbkdf2Sync=o.pbkdf2Sync;var s=r(93667);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var c=r(67602);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var d=r(95263);t.createSign=d.createSign,t.Sign=d.Sign,t.createVerify=d.createVerify,t.Verify=d.Verify,t.createECDH=r(95363);var u=r(8493);t.publicEncrypt=u.publicEncrypt,t.privateEncrypt=u.privateEncrypt,t.publicDecrypt=u.publicDecrypt,t.privateDecrypt=u.privateDecrypt;var l=r(69631);t.randomFill=l.randomFill,t.randomFillSync=l.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},77257:(e,t,r)=>{"use strict";r.d(t,{Pi:()=>o.P,fv:()=>d}),r(20580);var n=r(72615),a=r(40626),i=(r(30571),r(66065)),o=r(49839),s=(r(22081),r(80075)),c=r(2784);function d(e,t){return(0,c.useState)((function(){return(0,s.observable)(e(),t,{autoBind:!0})}))[0]}r(92363),r(97432),(0,a.z0)(n.m),i.O.finalizeAllImmediately},29782:(e,t,r)=>{"use strict";r.r(t),r.d(t,{QRCodeCanvas:()=>I,QRCodeSVG:()=>C,default:()=>T});var n,a=r(2784),i=Object.defineProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(o)for(var r of o(t))c.call(t,r)&&d(e,r,t[r]);return e},l=(e,t)=>{var r={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&c.call(e,n)&&(r[n]=e[n]);return r};(e=>{const t=class{constructor(e,r,n,a){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(a<-1||a>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let e=0;e<this.size;e++)o.push(!1);for(let e=0;e<this.size;e++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const s=this.addEccAndInterleave(n);if(this.drawCodewords(s),-1==a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(a=t,e=r),this.applyMask(t)}}i(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(r,n){const a=e.QrSegment.makeSegments(r);return t.encodeSegments(a,n)}static encodeBinary(r,n){const a=e.QrSegment.makeBytes(r);return t.encodeSegments([a],n)}static encodeSegments(e,r,a=1,o=40,c=-1,d=!0){if(!(t.MIN_VERSION<=a&&a<=o&&o<=t.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");let u,l;for(u=a;;u++){const n=8*t.getNumDataCodewords(u,r),a=s.getTotalBits(e,u);if(a<=n){l=a;break}if(u>=o)throw new RangeError("Data too long")}for(const e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&l<=8*t.getNumDataCodewords(u,e)&&(r=e);let f=[];for(const t of e){n(t.mode.modeBits,4,f),n(t.numChars,t.mode.numCharCountBits(u),f);for(const e of t.getData())f.push(e)}i(f.length==l);const h=8*t.getNumDataCodewords(u,r);i(f.length<=h),n(0,Math.min(4,h-f.length),f),n(0,(8-f.length%8)%8,f),i(f.length%8==0);for(let e=236;f.length<h;e^=253)n(e,8,f);let p=[];for(;8*p.length<f.length;)p.push(0);return f.forEach(((e,t)=>p[t>>>3]|=e<<7-(7&t))),new t(u,r,p,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0==r&&0==n||0==r&&n==t-1||r==t-1&&0==n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let r=t;for(let e=0;e<10;e++)r=r<<1^1335*(r>>>9);const n=21522^(t<<10|r);i(n>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,a(n,e));this.setFunctionModule(8,7,a(n,6)),this.setFunctionModule(8,8,a(n,7)),this.setFunctionModule(7,8,a(n,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,a(n,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,a(n,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,a(n,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let e=0;e<18;e++){const r=a(t,e),n=this.size-11+e%3,i=Math.floor(e/3);this.setFunctionModule(n,i,r),this.setFunctionModule(i,n,r)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let n=-4;n<=4;n++){const a=Math.max(Math.abs(n),Math.abs(r)),i=e+n,o=t+r;0<=i&&i<this.size&&0<=o&&o<this.size&&this.setFunctionModule(i,o,2!=a&&4!=a)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){const r=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,n))throw new RangeError("Invalid argument");const a=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],o=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],s=Math.floor(t.getNumRawDataModules(r)/8),c=a-s%a,d=Math.floor(s/a);let u=[];const l=t.reedSolomonComputeDivisor(o);for(let r=0,n=0;r<a;r++){let a=e.slice(n,n+d-o+(r<c?0:1));n+=a.length;const i=t.reedSolomonComputeRemainder(a,l);r<c&&a.push(0),u.push(a.concat(i))}let f=[];for(let e=0;e<u[0].length;e++)u.forEach(((t,r)=>{(e!=d-o||r>=c)&&f.push(t[e])}));return i(f.length==s),f}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let n=0;n<this.size;n++)for(let i=0;i<2;i++){const o=t-i,s=0==(t+1&2)?this.size-1-n:n;!this.isFunction[s][o]&&r<8*e.length&&(this.modules[s][o]=a(e[r>>>3],7-(7&r)),r++)}}i(r==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let r=0;r<this.size;r++){let n=!1,a=0,i=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[r][o]==n?(a++,5==a?e+=t.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[r][o],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,i)*t.PENALTY_N3}for(let r=0;r<this.size;r++){let n=!1,a=0,i=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][r]==n?(a++,5==a?e+=t.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[o][r],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,i)*t.PENALTY_N3}for(let r=0;r<this.size-1;r++)for(let n=0;n<this.size-1;n++){const a=this.modules[r][n];a==this.modules[r][n+1]&&a==this.modules[r+1][n]&&a==this.modules[r+1][n+1]&&(e+=t.PENALTY_N2)}let r=0;for(const e of this.modules)r=e.reduce(((e,t)=>e+(t?1:0)),r);const n=this.size*this.size,a=Math.ceil(Math.abs(20*r-10*n)/n)-1;return i(0<=a&&a<=9),e+=a*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return i(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let n=1;for(let a=0;a<e;a++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],n),e+1<r.length&&(r[e]^=r[e+1]);n=t.reedSolomonMultiply(n,2)}return r}static reedSolomonComputeRemainder(e,r){let n=r.map((e=>0));for(const a of e){const e=a^n.shift();n.push(0),r.forEach(((r,a)=>n[a]^=t.reedSolomonMultiply(r,e)))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let r=0;for(let n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;return i(r>>>8==0),r}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let r=t;function n(e,t,r){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)r.push(e>>>n&1)}function a(e,t){return 0!=(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;const o=class{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(e){let t=[];for(const r of e)n(r,8,t);return new o(o.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let r=0;r<e.length;){const a=Math.min(e.length-r,3);n(parseInt(e.substr(r,a),10),3*a+1,t),r+=a}return new o(o.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,r=[];for(t=0;t+2<=e.length;t+=2){let a=45*o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));a+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),n(a,11,r)}return t<e.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,r),new o(o.Mode.ALPHANUMERIC,e.length,r)}static makeSegments(e){return""==e?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)n(e,8,t);else if(e<16384)n(2,2,t),n(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,t),n(e,21,t)}return new o(o.Mode.ECI,0,t)}static isNumeric(e){return o.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return o.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(const n of e){const e=n.mode.numCharCountBits(t);if(n.numChars>=1<<e)return 1/0;r+=4+e+n.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substr(r+1,2),16)),r+=2);return t}};let s=o;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=s})(n||(n={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let r=t;r.LOW=new t(0,1),r.MEDIUM=new t(1,0),r.QUARTILE=new t(2,3),r.HIGH=new t(3,2),e.Ecc=r})(t=e.QrCode||(e.QrCode={}))})(n||(n={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let r=t;r.NUMERIC=new t(1,[10,12,14]),r.ALPHANUMERIC=new t(2,[9,11,13]),r.BYTE=new t(4,[8,16,16]),r.KANJI=new t(8,[8,10,12]),r.ECI=new t(7,[0,0,0]),e.Mode=r})(t=e.QrSegment||(e.QrSegment={}))})(n||(n={}));var f=n,h={L:f.QrCode.Ecc.LOW,M:f.QrCode.Ecc.MEDIUM,Q:f.QrCode.Ecc.QUARTILE,H:f.QrCode.Ecc.HIGH},p=128,b="L",g="#FFFFFF",m="#000000",y=!1,v=4,_=.1;function w(e,t=0){const r=[];return e.forEach((function(e,n){let a=null;e.forEach((function(i,o){if(!i&&null!==a)return r.push(`M${a+t} ${n+t}h${o-a}v1H${a+t}z`),void(a=null);if(o!==e.length-1)i&&null===a&&(a=o);else{if(!i)return;null===a?r.push(`M${o+t},${n+t} h1v1H${o+t}z`):r.push(`M${a+t},${n+t} h${o+1-a}v1H${a+t}z`)}}))})),r.join("")}function A(e,t){return e.slice().map(((e,r)=>r<t.y||r>=t.y+t.h?e:e.map(((e,r)=>(r<t.x||r>=t.x+t.w)&&e))))}function E(e,t,r,n){if(null==n)return null;const a=r?v:0,i=e.length+2*a,o=Math.floor(t*_),s=i/t,c=(n.width||o)*s,d=(n.height||o)*s,u=null==n.x?e.length/2-c/2:n.x*s,l=null==n.y?e.length/2-d/2:n.y*s;let f=null;if(n.excavate){let e=Math.floor(u),t=Math.floor(l);f={x:e,y:t,w:Math.ceil(c+u-e),h:Math.ceil(d+l-t)}}return{x:u,y:l,h:d,w:c,excavation:f}}var S=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();function I(e){const t=e,{value:r,size:n=p,level:i=b,bgColor:o=g,fgColor:s=m,includeMargin:c=y,style:d,imageSettings:_}=t,I=l(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),C=null==_?void 0:_.src,T=(0,a.useRef)(null),x=(0,a.useRef)(null),[k,O]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(null!=T.current){const e=T.current,t=e.getContext("2d");if(!t)return;let a=f.QrCode.encodeText(r,h[i]).getModules();const d=c?v:0,u=a.length+2*d,l=E(a,n,c,_),p=x.current,b=null!=l&&null!==p&&p.complete&&0!==p.naturalHeight&&0!==p.naturalWidth;b&&null!=l.excavation&&(a=A(a,l.excavation));const g=window.devicePixelRatio||1;e.height=e.width=n*g;const m=n/u*g;t.scale(m,m),t.fillStyle=o,t.fillRect(0,0,u,u),t.fillStyle=s,S?t.fill(new Path2D(w(a,d))):a.forEach((function(e,r){e.forEach((function(e,n){e&&t.fillRect(n+d,r+d,1,1)}))})),b&&t.drawImage(p,l.x+d,l.y+d,l.w,l.h)}})),(0,a.useEffect)((()=>{O(!1)}),[C]);const N=u({height:n,width:n},d);let P=null;return null!=C&&(P=a.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{O(!0)},ref:x})),a.createElement(a.Fragment,null,a.createElement("canvas",u({style:N,height:n,width:n,ref:T},I)),P)}function C(e){const t=e,{value:r,size:n=p,level:i=b,bgColor:o=g,fgColor:s=m,includeMargin:c=y,imageSettings:d}=t,_=l(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let S=f.QrCode.encodeText(r,h[i]).getModules();const I=c?v:0,C=S.length+2*I,T=E(S,n,c,d);let x=null;null!=d&&null!=T&&(null!=T.excavation&&(S=A(S,T.excavation)),x=a.createElement("image",{xlinkHref:d.src,height:T.h,width:T.w,x:T.x+I,y:T.y+I,preserveAspectRatio:"none"}));const k=w(S,I);return a.createElement("svg",u({height:n,width:n,viewBox:`0 0 ${C} ${C}`},_),a.createElement("path",{fill:o,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),a.createElement("path",{fill:s,d:k,shapeRendering:"crispEdges"}),x)}var T=e=>{const t=e,{renderAs:r}=t,n=l(t,["renderAs"]);return"svg"===r?a.createElement(C,u({},n)):a.createElement(I,u({},n))}},56642:(e,t,r)=>{"use strict";t.decode=t.parse=r(92808),t.encode=t.stringify=r(31368)},63060:(e,t,r)=>{"use strict";r.d(t,{Ji:()=>l});var n,a,i=r(27221),o=r(2784),s=r(83112);!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(n||(n={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(a||(a={}));var c=function(e){var t=(0,s.Z)(),r=e.value,n=e.children,a=(0,i._T)(e,["value","children"]);return n(t.formatNumberToParts(r,a))};function d(e){var t=function(t){var r=(0,s.Z)(),n=t.value,a=t.children,o=(0,i._T)(t,["value","children"]),c="string"==typeof n?new Date(n||0):n;return a("formatDate"===e?r.formatDateToParts(c,o):r.formatTimeToParts(c,o))};return t.displayName=a[e],t}function u(e){var t=function(t){var r=(0,s.Z)(),n=t.value,a=t.children,c=(0,i._T)(t,["value","children"]),d=r[e](n,c);if("function"==typeof a)return a(d);var u=r.textComponent||o.Fragment;return o.createElement(u,null,d)};return t.displayName=n[e],t}c.displayName="FormattedNumberParts",c.displayName="FormattedNumberParts";var l=u("formatDate");u("formatTime"),u("formatNumber"),u("formatList"),u("formatDisplayName"),d("formatDate"),d("formatTime")},48570:(e,t,r)=>{"use strict";e.exports=r(66866)},39857:(e,t,r)=>{"use strict";r.d(t,{UT:()=>d,lr:()=>p,rU:()=>l});var n=r(2784),a=r(73557),i=r(16060);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map((e=>[r,e])):[[r,n]])}),[]))}const c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function d(e){let{basename:t,children:r,window:o}=e,s=n.useRef();null==s.current&&(s.current=(0,i.q_)({window:o,v5Compat:!0}));let c=s.current,[d,u]=n.useState({action:c.action,location:c.location});return n.useLayoutEffect((()=>c.listen(u)),[c]),n.createElement(a.F0,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:c})}const u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,l=n.forwardRef((function(e,t){let r,{onClick:s,relative:d,reloadDocument:l,replace:f,state:h,target:p,to:b,preventScrollReset:g}=e,m=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,c),y=!1;if(u&&"string"==typeof b&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(b)){r=b;let e=new URL(window.location.href),t=b.startsWith("//")?new URL(e.protocol+b):new URL(b);t.origin===e.origin?b=t.pathname+t.search+t.hash:y=!0}let v=(0,a.oQ)(b,{relative:d}),_=function(e,t){let{target:r,replace:o,state:s,preventScrollReset:c,relative:d}=void 0===t?{}:t,u=(0,a.s0)(),l=(0,a.TH)(),f=(0,a.WU)(e,{relative:d});return n.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let r=void 0!==o?o:(0,i.Ep)(l)===(0,i.Ep)(f);u(e,{replace:r,state:s,preventScrollReset:c,relative:d})}}),[l,u,f,o,s,r,e,c,d])}(b,{replace:f,state:h,target:p,preventScrollReset:g,relative:d});return n.createElement("a",o({},m,{href:r||v,onClick:y||l?s:function(e){s&&s(e),e.defaultPrevented||_(e)},ref:t,target:p}))}));var f,h;function p(e){let t=n.useRef(s(e)),r=n.useRef(!1),i=(0,a.TH)(),o=n.useMemo((()=>function(e,t){let r=s(e);if(t)for(let e of t.keys())r.has(e)||t.getAll(e).forEach((t=>{r.append(e,t)}));return r}(i.search,r.current?null:t.current)),[i.search]),c=(0,a.s0)(),d=n.useCallback(((e,t)=>{const n=s("function"==typeof e?e(o):e);r.current=!0,c("?"+n,t)}),[c,o]);return[o,d]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(f||(f={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(h||(h={}))},73557:(e,t,r)=>{"use strict";var n;r.d(t,{AW:()=>x,F0:()=>k,TH:()=>v,WU:()=>w,Z5:()=>O,oQ:()=>m,s0:()=>_});var a=r(16060),i=r(2784);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}"function"==typeof Object.is&&Object.is;const{useState:s,useEffect:c,useLayoutEffect:d,useDebugValue:u}=n||(n=r.t(i,2));"undefined"==typeof window||void 0===window.document||window.document.createElement,(n||(n=r.t(i,2))).useSyncExternalStore;const l=i.createContext(null),f=i.createContext(null),h=i.createContext(null),p=i.createContext(null),b=i.createContext({outlet:null,matches:[]}),g=i.createContext(null);function m(e,t){let{relative:r}=void 0===t?{}:t;y()||(0,a.kG)(!1);let{basename:n,navigator:o}=i.useContext(h),{hash:s,pathname:c,search:d}=w(e,{relative:r}),u=c;return"/"!==n&&(u="/"===c?n:(0,a.RQ)([n,c])),o.createHref({pathname:u,search:d,hash:s})}function y(){return null!=i.useContext(p)}function v(){return y()||(0,a.kG)(!1),i.useContext(p).location}function _(){y()||(0,a.kG)(!1);let{basename:e,navigator:t}=i.useContext(h),{matches:r}=i.useContext(b),{pathname:n}=v(),o=JSON.stringify((0,a.Zq)(r).map((e=>e.pathnameBase))),s=i.useRef(!1);return i.useEffect((()=>{s.current=!0})),i.useCallback((function(r,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof r)return void t.go(r);let c=(0,a.pC)(r,JSON.parse(o),n,"path"===i.relative);"/"!==e&&(c.pathname="/"===c.pathname?e:(0,a.RQ)([e,c.pathname])),(i.replace?t.replace:t.push)(c,i.state,i)}),[e,t,o,n])}function w(e,t){let{relative:r}=void 0===t?{}:t,{matches:n}=i.useContext(b),{pathname:o}=v(),s=JSON.stringify((0,a.Zq)(n).map((e=>e.pathnameBase)));return i.useMemo((()=>(0,a.pC)(e,JSON.parse(s),o,"path"===r)),[e,s,o,r])}function A(){let e=function(){var e;let t=i.useContext(g),r=function(e){let t=i.useContext(f);return t||(0,a.kG)(!1),t}(C.UseRouteError),n=function(e){let t=function(e){let t=i.useContext(b);return t||(0,a.kG)(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||(0,a.kG)(!1),r.route.id}(C.UseRouteError);return t||(null==(e=r.errors)?void 0:e[n])}(),t=(0,a.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),r?i.createElement("pre",{style:n},r):null,null)}class E extends i.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(b.Provider,{value:this.props.routeContext},i.createElement(g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S(e){let{routeContext:t,match:r,children:n}=e,a=i.useContext(l);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),i.createElement(b.Provider,{value:t},n)}var I,C,T;function x(e){(0,a.kG)(!1)}function k(e){let{basename:t="/",children:r=null,location:n,navigationType:o=a.aU.Pop,navigator:s,static:c=!1}=e;y()&&(0,a.kG)(!1);let d=t.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:d,navigator:s,static:c})),[d,s,c]);"string"==typeof n&&(n=(0,a.cP)(n));let{pathname:l="/",search:f="",hash:b="",state:g=null,key:m="default"}=n,v=i.useMemo((()=>{let e=(0,a.Zn)(l,d);return null==e?null:{pathname:e,search:f,hash:b,state:g,key:m}}),[d,l,f,b,g,m]);return null==v?null:i.createElement(h.Provider,{value:u},i.createElement(p.Provider,{children:r,value:{location:v,navigationType:o}}))}function O(e){let{children:t,location:r}=e,n=i.useContext(l);return function(e,t){y()||(0,a.kG)(!1);let{navigator:r}=i.useContext(h),n=i.useContext(f),{matches:s}=i.useContext(b),c=s[s.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let l,g=v();if(t){var m;let e="string"==typeof t?(0,a.cP)(t):t;"/"===u||(null==(m=e.pathname)?void 0:m.startsWith(u))||(0,a.kG)(!1),l=e}else l=g;let _=l.pathname||"/",w="/"===u?_:_.slice(u.length)||"/",I=(0,a.fp)(e,{pathname:w}),C=function(e,t,r){if(void 0===t&&(t=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let n=e,o=null==r?void 0:r.errors;if(null!=o){let e=n.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||(0,a.kG)(!1),n=n.slice(0,Math.min(n.length,e+1))}return n.reduceRight(((e,a,s)=>{let c=a.route.id?null==o?void 0:o[a.route.id]:null,d=r?a.route.errorElement||i.createElement(A,null):null,u=t.concat(n.slice(0,s+1)),l=()=>i.createElement(S,{match:a,routeContext:{outlet:e,matches:u}},c?d:void 0!==a.route.element?a.route.element:e);return r&&(a.route.errorElement||0===s)?i.createElement(E,{location:r.location,component:d,error:c,children:l(),routeContext:{outlet:null,matches:u}}):l()}),null)}(I&&I.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:(0,a.RQ)([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:(0,a.RQ)([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n||void 0);return t&&C?i.createElement(p.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:a.aU.Pop}},C):C}(n&&!t?n.router.routes:N(t),r)}function N(e,t){void 0===t&&(t=[]);let r=[];return i.Children.forEach(e,((e,n)=>{if(!i.isValidElement(e))return;if(e.type===i.Fragment)return void r.push.apply(r,N(e.props.children,t));e.type!==x&&(0,a.kG)(!1),e.props.index&&e.props.children&&(0,a.kG)(!1);let o=[...t,n],s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(s.children=N(e.props.children,o)),r.push(s)})),r}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(I||(I={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(C||(C={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(T||(T={})),new Promise((()=>{})),i.Component},6738:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l});var n=r(2784);let a;a="undefined"!=typeof window?window:"undefined"!=typeof self?self:r.g;let i=null,o=null;const s=a.clearTimeout,c=a.setTimeout,d=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame,u=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame;null==d||null==u?(i=s,o=function(e){return c(e,20)}):(i=function([e,t]){d(e),s(t)},o=function(e){const t=u((function(){s(r),e()})),r=c((function(){d(t),e()}),20);return[t,r]});class l extends n.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:r}=this.props;if(this._parentNode){const n=window.getComputedStyle(this._parentNode)||{},a=parseFloat(n.paddingLeft||"0"),i=parseFloat(n.paddingRight||"0"),o=parseFloat(n.paddingTop||"0"),s=parseFloat(n.paddingBottom||"0"),c=this._parentNode.getBoundingClientRect(),d=c.height-o-s,u=c.width-a-i,l=this._parentNode.offsetHeight-o-s,f=this._parentNode.offsetWidth-a-i;(e||this.state.height===l&&this.state.scaledHeight===d)&&(t||this.state.width===f&&this.state.scaledWidth===u)||(this.setState({height:l,width:f,scaledHeight:d,scaledWidth:u}),"function"==typeof r&&r({height:l,scaledHeight:d,scaledWidth:u,width:f}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const r=t.ownerDocument.defaultView.ResizeObserver;null!=r?(this._resizeObserver=new r((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(t)):(this._detectElementResize=function(e){let t,r,n,s,c,d,u;const l="undefined"!=typeof document&&document.attachEvent;if(!l){d=function(e){const t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,a=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=r.offsetWidth+1+"px",a.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},c=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},u=function(e){if(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;d(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=o((function(){c(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))};let e=!1,a="";n="animationstart";const l="Webkit Moz O ms".split(" ");let f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let r=0;r<l.length;r++)if(void 0!==t.style[l[r]+"AnimationName"]){h=l[r],a="-"+h.toLowerCase()+"-",n=f[r],e=!0;break}}r="resizeanim",t="@"+a+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",s=a+"animation: 1ms "+r+"; "}return{addResizeListener:function(i,o){if(l)i.attachEvent("onresize",o);else{if(!i.__resizeTriggers__){const o=i.ownerDocument,c=a.getComputedStyle(i);c&&"static"===c.position&&(i.style.position="relative"),function(r){if(!r.getElementById("detectElementResize")){const n=(t||"")+".resize-triggers { "+(s||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',a=r.head||r.getElementsByTagName("head")[0],i=r.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(r.createTextNode(n)),a.appendChild(i)}}(o),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=o.createElement("div")).className="resize-triggers";const l=o.createElement("div");l.className="expand-trigger",l.appendChild(o.createElement("div"));const f=o.createElement("div");f.className="contract-trigger",i.__resizeTriggers__.appendChild(l),i.__resizeTriggers__.appendChild(f),i.appendChild(i.__resizeTriggers__),d(i),i.addEventListener("scroll",u,!0),n&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&d(i)},i.__resizeTriggers__.addEventListener(n,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(o)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:t,defaultWidth:r,disableHeight:a=!1,disableWidth:i=!1,doNotBailOutOnEmptyChildren:o=!1,nonce:s,onResize:c,style:d={},tagName:u="div",...l}=this.props,{height:f,scaledHeight:h,scaledWidth:p,width:b}=this.state,g={overflow:"visible"},m={};let y=!1;return a||(0===f&&(y=!0),g.height=0,m.height=f,m.scaledHeight=h),i||(0===b&&(y=!0),g.width=0,m.width=b,m.scaledWidth=p),o&&(y=!1),(0,n.createElement)(u,{ref:this._setRef,style:{...g,...d},...l},!y&&e(m))}}},35097:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{t7:()=>y});var i=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(a=t[r])||i(n)&&i(a)))return!1;var n,a;return!0}const s=function(e,t){var r;void 0===t&&(t=o);var n,a=[],i=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return i&&r===this&&t(o,a)||(n=e.apply(this,o),i=!0,r=this,a=o),n}};var c=r(2784),d="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function u(e){cancelAnimationFrame(e.id)}var l=-1;function f(e){if(void 0===e&&(e=!1),-1===l||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),l=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return l}var h=null;function p(e){if(void 0===e&&(e=!1),null===h||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),a=n.style;return a.width="100px",a.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?h="positive-descending":(t.scrollLeft=1,h=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),h}return h}var b=function(e,t){return e};function g(e){var t,r=e.getItemOffset,i=e.getEstimatedTotalSize,o=e.getItemSize,l=e.getOffsetForIndexAndAlignment,h=e.getStartIndexForOffset,g=e.getStopIndexForStartIndex,y=e.initInstanceProps,v=e.shouldResetStyleCacheOnItemSizeChange,_=e.validateProps;return t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=y(n.props,a(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:a(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=s((function(e,t,r,a){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:a})})),n._callOnScroll=void 0,n._callOnScroll=s((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,a=n.props,i=a.direction,s=a.itemSize,c=a.layout,d=n._getItemStyleCache(v&&s,v&&c,v&&i);if(d.hasOwnProperty(e))t=d[e];else{var u=r(n.props,e,n._instanceProps),l=o(n.props,e,n._instanceProps),f="horizontal"===i||"horizontal"===c,h="rtl"===i,p=f?u:0;d[e]=t={position:"absolute",left:h?void 0:p,right:h?p:void 0,top:f?0:u,height:f?"100%":l,width:f?l:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=s((function(e,t,r){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,a=t.scrollLeft,i=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===a)return null;var t=n.props.direction,o=a;if("rtl"===t)switch(p()){case"negative":o=-a;break;case"positive-descending":o=i-r-a}return o=Math.max(0,Math.min(o,i-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,a=t.scrollHeight,i=t.scrollTop;n.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,a-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){var e,t,r,a;null!==n._resetIsScrollingTimeoutId&&u(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=(e=n._resetIsScrolling,t=150,r=d(),a={id:requestAnimationFrame((function n(){d()-r>=t?e.call(null):a.id=requestAnimationFrame(n)}))})},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}var w,A;A=e,(w=t).prototype=Object.create(A.prototype),w.prototype.constructor=w,w.__proto__=A,t.getDerivedStateFromProps=function(e,t){return m(e,t),_(e),null};var E=t.prototype;return E.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},E.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props,n=r.itemCount,a=r.layout,i=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1));var o=0;if(this._outerRef){var s=this._outerRef;o="vertical"===a?s.scrollWidth>s.clientWidth?f():0:s.scrollHeight>s.clientHeight?f():0}this.scrollTo(l(this.props,e,t,i,this._instanceProps,o))},E.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var a=this._outerRef;"horizontal"===t||"horizontal"===n?a.scrollLeft=r:a.scrollTop=r}this._callPropsCallbacks()},E.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,a=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(p()){case"negative":i.scrollLeft=-a;break;case"positive-ascending":i.scrollLeft=a;break;default:var o=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-o-a}else i.scrollLeft=a;else i.scrollTop=a}this._callPropsCallbacks()},E.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&u(this._resetIsScrollingTimeoutId)},E.render=function(){var e=this.props,t=e.children,r=e.className,a=e.direction,o=e.height,s=e.innerRef,d=e.innerElementType,u=e.innerTagName,l=e.itemCount,f=e.itemData,h=e.itemKey,p=void 0===h?b:h,g=e.layout,m=e.outerElementType,y=e.outerTagName,v=e.style,_=e.useIsScrolling,w=e.width,A=this.state.isScrolling,E="horizontal"===a||"horizontal"===g,S=E?this._onScrollHorizontal:this._onScrollVertical,I=this._getRangeToRender(),C=I[0],T=I[1],x=[];if(l>0)for(var k=C;k<=T;k++)x.push((0,c.createElement)(t,{data:f,key:p(k,f),index:k,isScrolling:_?A:void 0,style:this._getItemStyle(k)}));var O=i(this.props,this._instanceProps);return(0,c.createElement)(m||y||"div",{className:r,onScroll:S,ref:this._outerRefSetter,style:n({position:"relative",height:o,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},v)},(0,c.createElement)(d||u||"div",{children:x,ref:s,style:{height:E?"100%":O,pointerEvents:A?"none":void 0,width:E?O:"100%"}}))},E._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],a=e[3];this._callOnItemsRendered(t,r,n,a)}if("function"==typeof this.props.onScroll){var i=this.state,o=i.scrollDirection,s=i.scrollOffset,c=i.scrollUpdateWasRequested;this._callOnScroll(o,s,c)}},E._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,a=n.isScrolling,i=n.scrollDirection,o=n.scrollOffset;if(0===t)return[0,0,0,0];var s=h(this.props,o,this._instanceProps),c=g(this.props,s,o,this._instanceProps),d=a&&"backward"!==i?1:Math.max(1,r),u=a&&"forward"!==i?1:Math.max(1,r);return[Math.max(0,s-d),Math.max(0,Math.min(t-1,c+u)),s,c]},t}(c.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var m=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},y=g({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n,a,i){var o=e.direction,s=e.height,c=e.itemCount,d=e.itemSize,u=e.layout,l=e.width,f="horizontal"===o||"horizontal"===u?l:s,h=Math.max(0,c*d-f),p=Math.min(h,t*d),b=Math.max(0,t*d-f+d+i);switch("smart"===r&&(r=n>=b-f&&n<=p+f?"auto":"center"),r){case"start":return p;case"end":return b;case"center":var g=Math.round(b+(p-b)/2);return g<Math.ceil(f/2)?0:g>h+Math.floor(f/2)?h:g;default:return n>=b&&n<=p?n:n<b?b:p}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,a=e.height,i=e.itemCount,o=e.itemSize,s=e.layout,c=e.width,d=t*o,u="horizontal"===n||"horizontal"===s?c:a,l=Math.ceil((u+r-d)/o);return Math.max(0,Math.min(i-1,t+l-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}})},2784:(e,t,r)=>{"use strict";e.exports=r(83426)},97637:(e,t,r)=>{e.exports=r(15880)(r(39930))},39930:(e,t,r)=>{const n=new(0,r(39591).ec)("secp256k1"),a=n.curve,i=a.n.constructor;function o(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new i(t);if(r.cmp(a.p)>=0)return null;r=r.toRed(a.red);let o=r.redSqr().redIMul(r).redIAdd(a.b).redSqrt();return 3===e!==o.isOdd()&&(o=o.redNeg()),n.keyPair({pub:{x:r,y:o}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let o=new i(t),s=new i(r);if(o.cmp(a.p)>=0||s.cmp(a.p)>=0)return null;if(o=o.toRed(a.red),s=s.toRed(a.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;const c=o.redSqr().redIMul(o);return s.redSqr().redISub(c.redIAdd(a.b)).isZero()?n.keyPair({pub:{x:o,y:s}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new i(e);return t.cmp(a.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new i(e),r=a.n.sub(t).umod(a.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new i(t);if(r.cmp(a.n)>=0)return 1;if(r.iadd(new i(e)),r.cmp(a.n)>=0&&r.isub(a.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new i(t);if(r.cmp(a.n)>=0||r.isZero())return 1;r.imul(new i(e)),r.cmp(a.n)>=0&&(r=r.umod(a.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===o(e)?1:0,publicKeyCreate(e,t){const r=new i(t);return r.cmp(a.n)>=0||r.isZero()?1:(s(e,n.keyFromPrivate(t).getPublic()),0)},publicKeyConvert(e,t){const r=o(t);return null===r?1:(s(e,r.getPublic()),0)},publicKeyNegate(e,t){const r=o(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),s(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=o(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(s(e,n),0)},publicKeyTweakAdd(e,t,r){const n=o(t);if(null===n)return 1;if((r=new i(r)).cmp(a.n)>=0)return 2;const c=n.getPublic().add(a.g.mul(r));return c.isInfinity()?2:(s(e,c),0)},publicKeyTweakMul(e,t,r){const n=o(t);return null===n?1:(r=new i(r)).cmp(a.n)>=0||r.isZero()?2:(s(e,n.getPublic().mul(r)),0)},signatureNormalize(e){const t=new i(e.subarray(0,32)),r=new i(e.subarray(32,64));return t.cmp(a.n)>=0||r.cmp(a.n)>=0?1:(1===r.cmp(n.nh)&&e.set(a.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new i(r).cmp(a.n)>=0)return 1;if(new i(n).cmp(a.n)>=0)return 1;const{output:o}=e;let s=o.subarray(4,37);s[0]=0,s.set(r,1);let c=33,d=0;for(;c>1&&0===s[d]&&!(128&s[d+1]);--c,++d);if(s=s.subarray(d),128&s[0])return 1;if(c>1&&0===s[0]&&!(128&s[1]))return 1;let u=o.subarray(39,72);u[0]=0,u.set(n,1);let l=33,f=0;for(;l>1&&0===u[f]&&!(128&u[f+1]);--l,++f);return u=u.subarray(f),128&u[0]||l>1&&0===u[0]&&!(128&u[1])?1:(e.outputlen=6+c+l,o[0]=48,o[1]=e.outputlen-2,o[2]=2,o[3]=s.length,o.set(s,4),o[4+c]=2,o[5+c]=u.length,o.set(u,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let o=t.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;let s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let c=new i(o);c.cmp(a.n)>=0&&(c=new i(0));let d=new i(t.subarray(6+r));return d.cmp(a.n)>=0&&(d=new i(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(d.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,o,s){if(s){const e=s;s=n=>{const a=e(t,r,null,o,n);if(!(a instanceof Uint8Array&&32===a.length))throw new Error("This is the way");return new i(a)}}const c=new i(r);if(c.cmp(a.n)>=0||c.isZero())return 1;let d;try{d=n.sign(t,r,{canonical:!0,k:s,pers:o})}catch(e){return 1}return e.signature.set(d.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(d.s.toArrayLike(Uint8Array,"be",32),32),e.recid=d.recoveryParam,0},ecdsaVerify(e,t,r){const s={r:e.subarray(0,32),s:e.subarray(32,64)},c=new i(s.r),d=new i(s.s);if(c.cmp(a.n)>=0||d.cmp(a.n)>=0)return 1;if(1===d.cmp(n.nh)||c.isZero()||d.isZero())return 3;const u=o(r);if(null===u)return 2;const l=u.getPublic();return n.verify(t,s,l)?0:3},ecdsaRecover(e,t,r,o){const c={r:t.slice(0,32),s:t.slice(32,64)},d=new i(c.r),u=new i(c.s);if(d.cmp(a.n)>=0||u.cmp(a.n)>=0)return 1;if(d.isZero()||u.isZero())return 2;let l;try{l=n.recoverPubKey(o,c,r)}catch(e){return 2}return s(e,l),0},ecdh(e,t,r,s,c,d,u){const l=o(t);if(null===l)return 1;const f=new i(r);if(f.cmp(a.n)>=0||f.isZero())return 2;const h=l.getPublic().mul(f);if(void 0===c){const t=h.encode(null,!0),r=n.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{d||(d=new Uint8Array(32));const t=h.getX().toArray("be",32);for(let e=0;e<32;++e)d[e]=t[e];u||(u=new Uint8Array(32));const r=h.getY().toArray("be",32);for(let e=0;e<32;++e)u[e]=r[e];const n=c(d,u,s);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},15880:e=>{const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",a="Public Key could not be parsed",i="Public Key serialization error",o="Signature could not be parsed";function s(e,t){if(!e)throw new Error(t)}function c(e,t,r){if(s(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;s(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;s(t.length===r,n)}}function d(e){s("Boolean"===l(e),"Expected compressed to be a Boolean")}function u(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),c("output",e,t),e}function l(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(s(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&c("seed",t,32),1===e.contextRandomize(t))throw new Error("Unknow error on context randomization")},privateKeyVerify:t=>(c("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(c("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(c("private key",t,32),c("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(c("private key",t,32),c("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify:t=>(c("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(c("private key",t,32),d(r),n=u(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(i)}},publicKeyConvert(t,r=!0,n){switch(c("public key",t,[33,65]),d(r),n=u(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(a);case 2:throw new Error(i)}},publicKeyNegate(r,n=!0,o){switch(c("public key",r,[33,65]),d(n),o=u(o,n?33:65),e.publicKeyNegate(o,r)){case 0:return o;case 1:throw new Error(a);case 2:throw new Error(t);case 3:throw new Error(i)}},publicKeyCombine(t,r=!0,n){s(Array.isArray(t),"Expected public keys to be an Array"),s(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)c("public key",e,[33,65]);switch(d(r),n=u(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(a);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(i)}},publicKeyTweakAdd(t,n,i=!0,o){switch(c("public key",t,[33,65]),c("tweak",n,32),d(i),o=u(o,i?33:65),e.publicKeyTweakAdd(o,t,n)){case 0:return o;case 1:throw new Error(a);case 2:throw new Error(r)}},publicKeyTweakMul(t,r,i=!0,o){switch(c("public key",t,[33,65]),c("tweak",r,32),d(i),o=u(o,i?33:65),e.publicKeyTweakMul(o,t,r)){case 0:return o;case 1:throw new Error(a);case 2:throw new Error(n)}},signatureNormalize(t){switch(c("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(o)}},signatureExport(r,n){c("signature",r,64);const a={output:n=u(n,72),outputlen:72};switch(e.signatureExport(a,r)){case 0:return n.slice(0,a.outputlen);case 1:throw new Error(o);case 2:throw new Error(t)}},signatureImport(r,n){switch(c("signature",r),n=u(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(t)}},ecdsaSign(r,n,a={},i){c("message",r,32),c("private key",n,32),s("Object"===l(a),"Expected options to be an Object"),void 0!==a.data&&c("options.data",a.data),void 0!==a.noncefn&&s("Function"===l(a.noncefn),"Expected options.noncefn to be a Function");const o={signature:i=u(i,64),recid:null};switch(e.ecdsaSign(o,r,n,a.data,a.noncefn)){case 0:return o;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(c("signature",t,64),c("message",r,32),c("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(o);case 2:throw new Error(a)}},ecdsaRecover(r,n,a,i=!0,f){switch(c("signature",r,64),s("Number"===l(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),c("message",a,32),d(i),f=u(f,i?33:65),e.ecdsaRecover(f,r,n,a)){case 0:return f;case 1:throw new Error(o);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(t)}},ecdh(t,r,n={},i){switch(c("public key",t,[33,65]),c("private key",r,32),s("Object"===l(n),"Expected options to be an Object"),void 0!==n.data&&c("options.data",n.data),void 0!==n.hashfn?(s("Function"===l(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&c("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&c("options.ybuf",n.ybuf,32),c("output",i)):i=u(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(a);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}})},39591:(e,t,r)=>{"use strict";var n=t;n.version=r(41373).i8,n.utils=r(22165),n.rand=r(82745),n.curve=r(23073),n.curves=r(41900),n.ec=r(46195),n.eddsa=r(87266)},62768:(e,t,r)=>{"use strict";var n=r(62197),a=r(22165),i=a.getNAF,o=a.getJSF,s=a.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=i(t,1,this._bitLength),a=(1<<r.step+1)-(r.step%2==0?2:1);a/=3;var o,c,d=[];for(o=0;o<n.length;o+=r.step){c=0;for(var u=o+r.step-1;u>=o;u--)c=(c<<1)+n[u];d.push(c)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=a;h>0;h--){for(o=0;o<d.length;o++)(c=d[o])===h?f=f.mixedAdd(r.points[o]):c===-h&&(f=f.mixedAdd(r.points[o].neg()));l=l.add(f)}return l.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var a=n.points,o=i(t,r,this._bitLength),c=this.jpoint(null,null,null),d=o.length-1;d>=0;d--){for(var u=0;d>=0&&0===o[d];d--)u++;if(d>=0&&u++,c=c.dblp(u),d<0)break;var l=o[d];s(0!==l),c="affine"===e.type?l>0?c.mixedAdd(a[l-1>>1]):c.mixedAdd(a[-l-1>>1].neg()):l>0?c.add(a[l-1>>1]):c.add(a[-l-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,a){var s,c,d,u=this._wnafT1,l=this._wnafT2,f=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(d=t[s])._getNAFPoints(e);u[s]=p.wnd,l[s]=p.points}for(s=n-1;s>=1;s-=2){var b=s-1,g=s;if(1===u[b]&&1===u[g]){var m=[t[b],null,null,t[g]];0===t[b].y.cmp(t[g].y)?(m[1]=t[b].add(t[g]),m[2]=t[b].toJ().mixedAdd(t[g].neg())):0===t[b].y.cmp(t[g].y.redNeg())?(m[1]=t[b].toJ().mixedAdd(t[g]),m[2]=t[b].add(t[g].neg())):(m[1]=t[b].toJ().mixedAdd(t[g]),m[2]=t[b].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[b],r[g]);for(h=Math.max(v[0].length,h),f[b]=new Array(h),f[g]=new Array(h),c=0;c<h;c++){var _=0|v[0][c],w=0|v[1][c];f[b][c]=y[3*(_+1)+(w+1)],f[g][c]=0,l[b]=m}}else f[b]=i(r[b],u[b],this._bitLength),f[g]=i(r[g],u[g],this._bitLength),h=Math.max(f[b].length,h),h=Math.max(f[g].length,h)}var A=this.jpoint(null,null,null),E=this._wnafT4;for(s=h;s>=0;s--){for(var S=0;s>=0;){var I=!0;for(c=0;c<n;c++)E[c]=0|f[c][s],0!==E[c]&&(I=!1);if(!I)break;S++,s--}if(s>=0&&S++,A=A.dblp(S),s<0)break;for(c=0;c<n;c++){var C=E[c];0!==C&&(C>0?d=l[c][C-1>>1]:C<0&&(d=l[c][-C-1>>1].neg()),A="affine"===d.type?A.mixedAdd(d):A.add(d))}}for(s=0;s<n;s++)l[s]=null;return a?A:A.toP()},c.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(e){return this.encode(e,!0)},d.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},d.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},d.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},d.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},d.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,a=0;a<t;a+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},d.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),a=1;a<r;a++)t[a]=t[a-1].add(n);return{wnd:e,points:t}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},21934:(e,t,r)=>{"use strict";var n=r(22165),a=r(62197),i=r(91285),o=r(62768),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function d(e,t,r,n,i){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(r,16),this.z=n?new a(n,16):this.curve.one,this.t=i&&new a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(a)},i(d,o.BasePoint),c.prototype.pointFromJSON=function(e){return d.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new d(this,e,t,r,n)},d.fromJSON=function(e,t){return new d(e,t[0],t[1],t[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},d.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=n.redAdd(t),o=i.redSub(r),s=n.redSub(t),c=a.redMul(o),d=i.redMul(s),u=a.redMul(s),l=o.redMul(i);return this.curve.point(c,d,l,u)},d.prototype._projDbl=function(){var e,t,r,n,a,i,o=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var d=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=o.redSub(s).redSub(c).redMul(d.redSub(this.curve.two)),t=d.redMul(n.redSub(c)),r=d.redSqr().redSub(d).redSub(d)):(a=this.z.redSqr(),i=d.redSub(a).redISub(a),e=o.redSub(s).redISub(c).redMul(i),t=d.redMul(n.redSub(c)),r=d.redMul(i))}else n=s.redAdd(c),a=this.curve._mulC(this.z).redSqr(),i=n.redSub(a).redSub(a),e=this.curve._mulC(o.redISub(n)).redMul(i),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(i);return this.curve.point(e,t,r)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),i=r.redSub(t),o=a.redSub(n),s=a.redAdd(n),c=r.redAdd(t),d=i.redMul(o),u=s.redMul(c),l=i.redMul(c),f=o.redMul(s);return this.curve.point(d,u,f,l)},d.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),a=n.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),c=a.redSub(s),d=a.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),l=n.redMul(c).redMul(u);return this.curve.twisted?(t=n.redMul(d).redMul(o.redSub(this.curve._mulA(i))),r=c.redMul(d)):(t=n.redMul(d).redMul(o.redSub(i)),r=this.curve._mulC(c).redMul(d)),this.curve.point(l,t,r)},d.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},d.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},d.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},d.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},23073:(e,t,r)=>{"use strict";var n=t;n.base=r(62768),n.short=r(1836),n.mont=r(17759),n.edwards=r(21934)},17759:(e,t,r)=>{"use strict";var n=r(62197),a=r(91285),i=r(62768),o=r(22165);function s(e){i.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){i.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(s,i),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},a(c,i.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),a=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,a)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),i=e.x.redSub(e.z).redMul(r),o=a.redMul(n),s=t.z.redMul(i.redAdd(o).redSqr()),c=t.x.redMul(i.redISub(o).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var i=a.length-1;i>=0;i--)0===a[i]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},1836:(e,t,r)=>{"use strict";var n=r(22165),a=r(62197),i=r(91285),o=r(62768),s=n.assert;function c(e){o.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(r,16),this.z=new a(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new a(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new a(e.a,16),b:new a(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),r=new a(2).toRed(t).redInvm(),n=r.redNeg(),i=new a(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,c,d,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),p=new a(1),b=new a(0),g=new a(0),m=new a(1),y=0;0!==f.cmpn(0);){var v=h.div(f);d=h.sub(v.mul(f)),u=g.sub(v.mul(p));var _=m.sub(v.mul(b));if(!n&&d.cmp(l)<0)t=c.neg(),r=p,n=d.neg(),i=u;else if(n&&2==++y)break;c=d,h=f,f=d,g=p,p=u,m=b,b=_}o=d.neg(),s=u;var w=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],a=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),o=a.mul(r.a),s=i.mul(n.a),c=a.mul(r.b),d=i.mul(n.b);return{k1:e.sub(o).sub(s),k2:c.add(d).neg()}},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(a).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,a=this._endoWnafT2,i=0;i<e.length;i++){var o=this._endoSplit(t[i]),s=e[i],c=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*i]=s,n[2*i+1]=c,a[2*i]=o.k1,a[2*i+1]=o.k2}for(var d=this._wnafMulAdd(1,n,a,2*i,r),u=0;u<2*i;u++)n[u]=null,a[u]=null;return d},i(d,o.BasePoint),c.prototype.point=function(e,t,r){return new d(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return d.fromJSON(this,e,t)},d.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function a(t){return e.point(t[0],t[1],r)}var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(a))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(a))}},n},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},d.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),i=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,o)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(e){return e=new a(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)},d.prototype.jmulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)},d.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},d.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(u,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),a=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(a),c=i.redSub(o);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=s.redSqr(),u=d.redMul(s),l=n.redMul(d),f=c.redSqr().redIAdd(u).redISub(l).redISub(l),h=c.redMul(l.redISub(f)).redISub(i.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,h,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),a=this.y,i=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=a.redSub(i);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),d=c.redMul(o),u=r.redMul(c),l=s.redSqr().redIAdd(d).redISub(u).redISub(u),f=s.redMul(u.redISub(l)).redISub(a.redMul(d)),h=this.z.redMul(o);return this.curve.jpoint(l,f,h)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,a=this.curve.tinv,i=this.x,o=this.y,s=this.z,c=s.redSqr().redSqr(),d=o.redAdd(o);for(t=0;t<e;t++){var u=i.redSqr(),l=d.redSqr(),f=l.redSqr(),h=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),p=i.redMul(l),b=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),m=h.redMul(g);m=m.redIAdd(m).redISub(f);var y=d.redMul(s);t+1<e&&(c=c.redMul(f)),i=b,s=y,d=m}return this.curve.jpoint(i,d.redMul(a),s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(n).redISub(i);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(o).redISub(o),d=i.redIAdd(i);d=(d=d.redIAdd(d)).redIAdd(d),e=c,t=s.redMul(o.redISub(c)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),l=this.y.redSqr(),f=l.redSqr(),h=this.x.redAdd(l).redSqr().redISub(u).redISub(f);h=h.redIAdd(h);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(n).redISub(i);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(o).redISub(o);e=c;var d=i.redIAdd(i);d=(d=d.redIAdd(d)).redIAdd(d),t=s.redMul(o.redISub(c)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),l=this.y.redSqr(),f=this.x.redMul(l),h=this.x.redSub(u).redMul(this.x.redAdd(u));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(u);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=h.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,a=n.redSqr().redSqr(),i=t.redSqr(),o=r.redSqr(),s=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(a)),c=t.redAdd(t),d=(c=c.redIAdd(c)).redMul(o),u=s.redSqr().redISub(d.redAdd(d)),l=d.redISub(u),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=s.redMul(l).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,h,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),a=e.redAdd(e).redIAdd(e),i=a.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(i)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redIAdd(o).redSqr().redISub(i).redISub(s).redISub(c),u=t.redMul(d);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.x.redMul(s).redISub(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.y.redMul(d.redMul(c.redISub(d)).redISub(o.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(l,f,h)},u.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),a=r.redMul(e.z);return 0===this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},41900:(e,t,r)=>{"use strict";var n,a=t,i=r(34485),o=r(23073),s=r(22165).assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:r}),r}})}a.PresetCurve=c,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(97649)}catch(e){n=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},46195:(e,t,r)=>{"use strict";var n=r(62197),a=r(78873),i=r(22165),o=r(41900),s=r(82745),c=i.assert,d=r(822),u=r(2739);function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new d(this,e)},l.prototype.keyFromPrivate=function(e,t){return d.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return d.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new n(2));;){var o=new n(t.generate(r));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}},l.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),c=e.toArray("be",o),d=new a({hash:this.hash,entropy:s,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new n(1)),f=0;;f++){var h=i.k?i.k(f):new n(d.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var b=p.getX(),g=b.umod(this.n);if(0!==g.cmpn(0)){var m=h.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==b.cmp(g)?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new u({r:g,s:m,recoveryParam:y})}}}}}},l.prototype.verify=function(e,t,r,a){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,a);var i=(t=new u(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,c=o.invm(this.n),d=c.mul(e).umod(this.n),l=c.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(d,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(d,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},l.prototype.recoverPubKey=function(e,t,r,a){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,a);var i=this.n,o=new n(e),s=t.r,d=t.s,l=1&r,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var h=t.r.invm(i),p=i.sub(o).mul(h).umod(i),b=d.mul(h).umod(i);return this.g.mulAdd(p,s,b)},l.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new u(t,n)).recoveryParam)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")}},822:(e,t,r)=>{"use strict";var n=r(62197),a=r(22165).assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=i,i.fromPublic=function(e,t,r){return t instanceof i?t:new i(e,{pub:t,pubEnc:r})},i.fromPrivate=function(e,t,r){return t instanceof i?t:new i(e,{priv:t,privEnc:r})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.validate()||a(e.validate(),"public point not validated"),e.mul(this.priv).getX()},i.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},2739:(e,t,r)=>{"use strict";var n=r(62197),a=r(22165),i=a.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(i(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var a=0,i=0,o=t.place;i<n;i++,o++)a<<=8,a|=e[o],a>>>=0;return!(a<=127)&&(t.place=o,a)}function d(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=a.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var i=c(e,r);if(!1===i)return!1;if(i+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;var d=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u)return!1;if(e.length!==u+r.place)return!1;var l=e.slice(r.place,u+r.place);if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new n(d),this.s=new n(l),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=d(t),r=d(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var i=n.concat(r),o=[48];return u(o,i.length),o=o.concat(i),a.encode(o,e)}},87266:(e,t,r)=>{"use strict";var n=r(34485),a=r(41900),i=r(22165),o=i.assert,s=i.parseBytes,c=r(45333),d=r(2209);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=a[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=u,u.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),a=this.g.mul(n),i=this.encodePoint(a),o=this.hashInt(i,r.pubBytes(),e).mul(r.priv()),c=n.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:i})},u.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),a=this.hashInt(t.Rencoded(),n.pubBytes(),e),i=this.g.mul(t.S());return t.R().add(n.pub().mul(a)).eq(i)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return i.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof d?e:new d(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=i.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),a=i.intFromLE(r);return this.curve.pointFromY(a,n)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return i.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},45333:(e,t,r)=>{"use strict";var n=r(22165),a=n.assert,i=n.parseBytes,o=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=i(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},o(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),o(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},2209:(e,t,r)=>{"use strict";var n=r(62197),a=r(22165),i=a.assert,o=a.cachedProperty,s=a.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},97649:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},22165:(e,t,r)=>{"use strict";var n=t,a=r(62197),i=r(79561),o=r(43022);n.assert=i,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var a=1<<t+1,i=e.clone(),o=0;o<n.length;o++){var s,c=i.andln(a-1);i.isOdd()?(s=c>(a>>1)-1?(a>>1)-c:c,i.isubn(s)):s=0,n[o]=s,i.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,a=0,i=0;e.cmpn(-a)>0||t.cmpn(-i)>0;){var o,s,c=e.andln(3)+a&3,d=t.andln(3)+i&3;3===c&&(c=-1),3===d&&(d=-1),o=0==(1&c)?0:3!=(n=e.andln(7)+a&7)&&5!==n||2!==d?c:-c,r[0].push(o),s=0==(1&d)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==c?d:-d,r[1].push(s),2*a===o+1&&(a=1-a),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new a(e,"hex","le")}},80471:(e,t,r)=>{"use strict";r.d(t,{K:()=>a.KW,g:()=>d});var n=r(16210),a=r(33924),i=r(14002),o=r(13128),s=r(48834).Buffer,c=Object.defineProperty;class d{constructor(e){if(((e,t,r)=>{((e,t,r)=>{t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r)})(this,"transport"),this.transport=e,!e)throw new Error("Transport has not been defined")}async sendApdu(e=a.N5.GET_VERSION,t=0,r=0,n=new Uint8Array(0)){return this.transport.send(a.Ds,e,t,r,s.from(n),[a.KW.NoError,a.KW.BadCla,a.KW.BadIns,a.KW.InvalidP1P2,a.KW.UserRejected]).then((e=>{const t=e.subarray(-2),r=256*t[0]+t[1];let n=(0,a.T9)(r);return{data:e.subarray(0,-2),returnCode:r,errorMessage:n}}))}async getAppVersion(){const e=await this.sendApdu(a.N5.GET_VERSION);return{returnCode:e.returnCode,errorMessage:e.errorMessage,major:e.data[0],minor:e.data[1],patch:e.data[2]}}async getPubKey(e,t=!0){const r=(0,n.Mi)(e);try{const e=await this.sendApdu(a.N5.GET_PUB_KEY,t?1:0,0,r);return{publicKey:e.data.slice(1,65),returnCode:e.returnCode,errorMessage:e.errorMessage}}catch{return console.warn("Caught error"),{publicKey:new Uint8Array(0),returnCode:a.KW.ExecutionError,errorMessage:(0,a.T9)(a.KW.ExecutionError)}}}async getStarkKey(e,t=!0){const{publicKey:r,errorMessage:n,returnCode:i}=await this.getPubKey(e,t);return i!==a.KW.NoError?{starkKey:r,returnCode:i,errorMessage:n}:{starkKey:r.slice(0,32),returnCode:i,errorMessage:n}}async signHash(e,t){const r=(0,n.Mi)(e),i=function(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return Uint8Array.from(t)}(function(e){let t=e.replace(/^0x0*/,"");if(t.length>a.dI)throw"invalid hash length";return t="0".repeat(1+a.dI-t.length).concat(t),t}(t));try{let e=await this.sendApdu(a.N5.SIGN_HASH,0,0,r);return e=await this.sendApdu(a.N5.SIGN_HASH,1,0,i),e.returnCode!==a.KW.NoError?{returnCode:e.returnCode,errorMessage:(0,a.T9)(e.returnCode),r:new Uint8Array(0),s:new Uint8Array(0),v:0}:{returnCode:e.returnCode,errorMessage:e.errorMessage,r:e.data.subarray(1,33),s:e.data.subarray(33,65),v:e.data[65]}}catch{return{returnCode:a.KW.ExecutionError,errorMessage:(0,a.T9)(a.KW.ExecutionError),r:new Uint8Array(0),s:new Uint8Array(0),v:0}}}async signTx(e,t,r){await this.sendApdu(a.N5.SIGN_TX,0,0,(0,n.Mi)(e));const o=(0,n.Md)(r.accountAddress),s=(0,n.Md)(r.chainId),c=(0,n.Md)(r.nonce),d=(0,n.Md)(this.encodeDataAvailabilityMode(r.nonceDataAvailabilityMode,r.feeDataAvailabilityMode));let u=new Uint8Array([...o.toArray("be",32),...s.toArray("be",32),...c.toArray("be",32),...d.toArray("be",32)]);await this.sendApdu(a.N5.SIGN_TX,1,0,u);const l=(0,n.Md)(r.tip),{l1_gas:f,l2_gas:h}=this.encodeResourceBounds(r.resourceBounds);u=new Uint8Array([...l.toArray("be",32),...f.toArray("be",32),...h.toArray("be",32)]),await this.sendApdu(a.N5.SIGN_TX,2,0,u),await this.sendApdu(a.N5.SIGN_TX,3,0,new Uint8Array(0)),await this.sendApdu(a.N5.SIGN_TX,4,0,new Uint8Array(0));let p=(0,n.Md)(t.length);u=new Uint8Array([...p.toArray("be",32)]),await this.sendApdu(a.N5.SIGN_TX,5,0,u);let b,g={returnCode:a.KW.ExecutionError,errorMessage:"Execution Error",h:new Uint8Array(0),r:new Uint8Array(0),s:new Uint8Array(0),v:0};for(const e of t){const t=i.lx.toCalldata(e.calldata);let r=new Uint8Array(32*(3+t.length));(0,n.Md)(e.contractAddress).toArray("be",32).forEach(((e,t)=>r[t]=e)),(0,n.Md)(i.vp.getSelectorFromName(e.entrypoint)).toArray("be",32).forEach(((e,t)=>r[32+t]=e)),(0,n.Md)(t.length).toArray("be",32).forEach(((e,t)=>r[64+t]=e)),t.forEach(((e,t)=>{(0,n.Md)(e).toArray("be",32).forEach(((e,n)=>r[96+32*t+n]=e))}));let o=[];for(let e=0;e<r.length;e+=224)o.push(r.slice(e,e+224));if(o.length>1){if(b=await this.sendApdu(a.N5.SIGN_TX,6,0,o[0]),b.returnCode!==a.KW.NoError)return g;for(const e of o.slice(1))if(b=await this.sendApdu(a.N5.SIGN_TX,6,1,e),b.returnCode!==a.KW.NoError)return g}else if(b=await this.sendApdu(a.N5.SIGN_TX,6,0,o[0]),b.returnCode!==a.KW.NoError)return g}return(null==b?void 0:b.returnCode)===a.KW.NoError?{returnCode:b.returnCode,errorMessage:b.errorMessage,h:b.data.subarray(0,32),r:b.data.subarray(33,65),s:b.data.subarray(65,97),v:b.data[97]}:g}async signTxV1(e,t,r){await this.sendApdu(a.N5.SIGN_TX_V1,0,0,(0,n.Mi)(e));const o=(0,n.Md)(r.accountAddress),s=(0,n.Md)(r.max_fee),c=(0,n.Md)(r.chainId),d=(0,n.Md)(r.nonce);let u=new Uint8Array([...o.toArray("be",32),...s.toArray("be",32),...c.toArray("be",32),...d.toArray("be",32)]);await this.sendApdu(a.N5.SIGN_TX_V1,1,0,u);let l=(0,n.Md)(t.length);u=new Uint8Array([...l.toArray("be",32)]),await this.sendApdu(a.N5.SIGN_TX_V1,2,0,u);let f,h={returnCode:a.KW.ExecutionError,errorMessage:"Execution Error",h:new Uint8Array(0),r:new Uint8Array(0),s:new Uint8Array(0),v:0};for(const e of t){const t=i.lx.toCalldata(e.calldata);let r=new Uint8Array(32*(3+t.length));(0,n.Md)(e.contractAddress).toArray("be",32).forEach(((e,t)=>r[t]=e)),(0,n.Md)(i.vp.getSelectorFromName(e.entrypoint)).toArray("be",32).forEach(((e,t)=>r[32+t]=e)),(0,n.Md)(t.length).toArray("be",32).forEach(((e,t)=>r[64+t]=e)),t.forEach(((e,t)=>{(0,n.Md)(e).toArray("be",32).forEach(((e,n)=>r[96+32*t+n]=e))}));let o=[];for(let e=0;e<r.length;e+=224)o.push(r.slice(e,e+224));if(o.length>1){if(f=await this.sendApdu(a.N5.SIGN_TX_V1,3,0,o[0]),f.returnCode!==a.KW.NoError)return h;for(const e of o.slice(1))if(f=await this.sendApdu(a.N5.SIGN_TX_V1,3,1,e),f.returnCode!==a.KW.NoError)return h}else if(f=await this.sendApdu(a.N5.SIGN_TX_V1,3,0,o[0]),f.returnCode!==a.KW.NoError)return h}return(null==f?void 0:f.returnCode)===a.KW.NoError?{returnCode:f.returnCode,errorMessage:f.errorMessage,h:f.data.subarray(0,32),r:f.data.subarray(33,65),s:f.data.subarray(65,97),v:f.data[97]}:h}async signDeployAccount(e,t){await this.sendApdu(a.N5.DEPLOY_ACCOUNT,0,0,(0,n.Mi)(e));const r=(0,n.Md)(t.contractAddress),i=(0,n.Md)(t.chainId),o=(0,n.Md)(t.nonce),s=(0,n.Md)(this.encodeDataAvailabilityMode(t.nonceDataAvailabilityMode,t.feeDataAvailabilityMode)),c=(0,n.Md)(t.class_hash),d=(0,n.Md)(t.contract_address_salt);let u=new Uint8Array([...r.toArray("be",32),...i.toArray("be",32),...o.toArray("be",32),...s.toArray("be",32),...c.toArray("be",32),...d.toArray("be",32)]);await this.sendApdu(a.N5.DEPLOY_ACCOUNT,1,0,u);const l=(0,n.Md)(t.tip),{l1_gas:f,l2_gas:h}=this.encodeResourceBounds(t.resourceBounds);u=new Uint8Array([...l.toArray("be",32),...f.toArray("be",32),...h.toArray("be",32)]),await this.sendApdu(a.N5.DEPLOY_ACCOUNT,2,0,u),await this.sendApdu(a.N5.DEPLOY_ACCOUNT,3,0,new Uint8Array(0));let p=(0,n.Md)(t.constructor_calldata.length);u=new Uint8Array([...p.toArray("be",32)]),await this.sendApdu(a.N5.DEPLOY_ACCOUNT,4,0,u);let b,g={returnCode:a.KW.ExecutionError,errorMessage:"Execution Error",h:new Uint8Array(0),r:new Uint8Array(0),s:new Uint8Array(0),v:0},m=new Uint8Array(32*t.constructor_calldata.length);t.constructor_calldata.forEach(((e,t)=>{(0,n.Md)(e).toArray("be",32).forEach(((e,r)=>m[32*t+r]=e))}));let y=[];for(let e=0;e<m.length;e+=224)y.push(m.slice(e,e+224));for(const e of y)if(b=await this.sendApdu(a.N5.DEPLOY_ACCOUNT,5,0,e),b.returnCode!==a.KW.NoError)return g;return(null==b?void 0:b.returnCode)===a.KW.NoError?{returnCode:b.returnCode,errorMessage:b.errorMessage,h:b.data.subarray(0,32),r:b.data.subarray(33,65),s:b.data.subarray(65,97),v:b.data[97]}:g}async signDeployAccountV1(e,t){await this.sendApdu(a.N5.DEPLOY_ACCOUNT_V1,0,0,(0,n.Mi)(e));const r=(0,n.Md)(t.contractAddress),i=(0,n.Md)(t.class_hash),o=(0,n.Md)(t.contract_address_salt),s=(0,n.Md)(t.max_fee),c=(0,n.Md)(t.chainId),d=(0,n.Md)(t.nonce);let u=new Uint8Array([...r.toArray("be",32),...i.toArray("be",32),...o.toArray("be",32),...s.toArray("be",32),...c.toArray("be",32),...d.toArray("be",32)]);await this.sendApdu(a.N5.DEPLOY_ACCOUNT_V1,1,0,u);let l=(0,n.Md)(t.constructor_calldata.length);u=new Uint8Array([...l.toArray("be",32)]),await this.sendApdu(a.N5.DEPLOY_ACCOUNT_V1,2,0,u);let f,h={returnCode:a.KW.ExecutionError,errorMessage:"Execution Error",h:new Uint8Array(0),r:new Uint8Array(0),s:new Uint8Array(0),v:0},p=new Uint8Array(32*t.constructor_calldata.length);t.constructor_calldata.forEach(((e,t)=>{(0,n.Md)(e).toArray("be",32).forEach(((e,r)=>p[32*t+r]=e))}));let b=[];for(let e=0;e<p.length;e+=224)b.push(p.slice(e,e+224));for(const e of b)if(f=await this.sendApdu(a.N5.DEPLOY_ACCOUNT_V1,3,0,e),f.returnCode!==a.KW.NoError)return h;return(null==f?void 0:f.returnCode)===a.KW.NoError?{returnCode:f.returnCode,errorMessage:f.errorMessage,h:f.data.subarray(0,32),r:f.data.subarray(33,65),s:f.data.subarray(65,97),v:f.data[97]}:h}async signMessage(e,t,r){const n=i.AT.getMessageHash(t,r);return this.signHash(e,n)}encodeResourceBounds(e){const t=BigInt(64),r=BigInt(128),a=t+r,o=BigInt(i.lC.encodeShortString("L1_GAS")),s=BigInt(i.lC.encodeShortString("L2_GAS")),c=(o<<a)+(BigInt(e.l1_gas.max_amount)<<r)+BigInt(e.l1_gas.max_price_per_unit),d=(s<<a)+(BigInt(e.l2_gas.max_amount)<<r)+BigInt(e.l2_gas.max_price_per_unit);return{l1_gas:(0,n.Md)(c),l2_gas:(0,n.Md)(d)}}encodeDataAvailabilityMode(e,t){const r=BigInt(32),n=e===o.h.L1?0:1,a=t===o.h.L1?0:1;return(BigInt(n)<<r)+BigInt(a)}}},93524:(e,t,r)=>{"use strict";function n(e){return null==e}r.d(t,{ZP:()=>Bt});var a={isNothing:n,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:n(e)?[]:[e]},repeat:function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,n,a,i;if(t)for(r=0,n=(i=Object.keys(t)).length;r<n;r+=1)e[a=i[r]]=t[a];return e}};function i(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function o(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=i(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.toString=function(e){return this.name+": "+i(this,e)};var s=o;function c(e,t,r,n,a){var i="",o="",s=Math.floor(a/2)-1;return n-t>s&&(t=n-s+(i=" ... ").length),r-n>s&&(r=n+s-(o=" ...").length),{str:i+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+i.length}}function d(e,t){return a.repeat(" ",t-e.length)+e}var u=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,i=[0],o=[],s=-1;r=n.exec(e.buffer);)o.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var u,l,f="",h=Math.min(e.line+t.linesAfter,o.length).toString().length,p=t.maxLength-(t.indent+h+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)l=c(e.buffer,i[s-u],o[s-u],e.position-(i[s]-i[s-u]),p),f=a.repeat(" ",t.indent)+d((e.line-u+1).toString(),h)+" | "+l.str+"\n"+f;for(l=c(e.buffer,i[s],o[s],e.position,p),f+=a.repeat(" ",t.indent)+d((e.line+1).toString(),h)+" | "+l.str+"\n",f+=a.repeat("-",t.indent+h+3+l.pos)+"^\n",u=1;u<=t.linesAfter&&!(s+u>=o.length);u++)l=c(e.buffer,i[s+u],o[s+u],e.position-(i[s]-i[s+u]),p),f+=a.repeat(" ",t.indent)+d((e.line+u+1).toString(),h)+" | "+l.str+"\n";return f.replace(/\n$/,"")},l=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],f=["scalar","sequence","mapping"],h=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===l.indexOf(t))throw new s('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===f.indexOf(this.kind))throw new s('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function p(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)})),r[t]=e})),r}function b(e){return this.extend(e)}b.prototype.extend=function(e){var t=[],r=[];if(e instanceof h)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new s("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof h))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new s("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof h))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var n=Object.create(b.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=p(n,"implicit"),n.compiledExplicit=p(n,"explicit"),n.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(n.compiledImplicit,n.compiledExplicit),n};var g=b,m=new h("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),y=new h("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),v=new h("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),_=new g({explicit:[m,y,v]}),w=new h("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),A=new h("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function E(e){return 48<=e&&e<=55}function S(e){return 48<=e&&e<=57}var I=new h("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=e.length,a=0,i=!1;if(!n)return!1;if("-"!==(t=e[a])&&"+"!==t||(t=e[++a]),"0"===t){if(a+1===n)return!0;if("b"===(t=e[++a])){for(a++;a<n;a++)if("_"!==(t=e[a])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(a++;a<n;a++)if("_"!==(t=e[a])){if(!(48<=(r=e.charCodeAt(a))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(a++;a<n;a++)if("_"!==(t=e[a])){if(!E(e.charCodeAt(a)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;a<n;a++)if("_"!==(t=e[a])){if(!S(e.charCodeAt(a)))return!1;i=!0}return!(!i||"_"===t)},construct:function(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!a.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),C=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),T=/^[-+]?[0-9]+e/,x=new h("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!C.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||a.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(a.isNegativeZero(e))return"-0.0";return r=e.toString(10),T.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),k=_.extend({implicit:[w,A,I,x]}),O=k,N=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),P=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),M=new h("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==N.exec(e)||null!==P.exec(e))},construct:function(e){var t,r,n,a,i,o,s,c,d=0,u=null;if(null===(t=N.exec(e))&&(t=P.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(i=+t[4],o=+t[5],s=+t[6],t[7]){for(d=t[7].slice(0,3);d.length<3;)d+="0";d=+d}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),c=new Date(Date.UTC(r,n,a,i,o,s,d)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}}),R=new h("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",B=new h("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,a=e.length,i=D;for(r=0;r<a;r++)if(!((t=i.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,i=D,o=0,s=[];for(t=0;t<a;t++)t%4==0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)),o=o<<6|i.indexOf(n.charAt(t));return 0==(r=a%4*6)?(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)):18===r?(s.push(o>>10&255),s.push(o>>2&255)):12===r&&s.push(o>>4&255),new Uint8Array(s)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,n="",a=0,i=e.length,o=D;for(t=0;t<i;t++)t%3==0&&t&&(n+=o[a>>18&63],n+=o[a>>12&63],n+=o[a>>6&63],n+=o[63&a]),a=(a<<8)+e[t];return 0==(r=i%3)?(n+=o[a>>18&63],n+=o[a>>12&63],n+=o[a>>6&63],n+=o[63&a]):2===r?(n+=o[a>>10&63],n+=o[a>>4&63],n+=o[a<<2&63],n+=o[64]):1===r&&(n+=o[a>>2&63],n+=o[a<<4&63],n+=o[64],n+=o[64]),n}}),L=Object.prototype.hasOwnProperty,F=Object.prototype.toString,U=new h("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,a,i,o=[],s=e;for(t=0,r=s.length;t<r;t+=1){if(n=s[t],i=!1,"[object Object]"!==F.call(n))return!1;for(a in n)if(L.call(n,a)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==o.indexOf(a))return!1;o.push(a)}return!0},construct:function(e){return null!==e?e:[]}}),V=Object.prototype.toString,j=new h("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],"[object Object]"!==V.call(n))return!1;if(1!==(a=Object.keys(n)).length)return!1;i[t]=[a[0],n[a[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],a=Object.keys(n),i[t]=[a[0],n[a[0]]];return i}}),z=Object.prototype.hasOwnProperty,H=new h("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(z.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),$=O.extend({implicit:[M,R],explicit:[B,U,j,H]}),q=Object.prototype.hasOwnProperty,K=1,W=2,G=3,Y=4,Q=1,X=2,Z=3,J=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ee=/[\x85\u2028\u2029]/,te=/[,\[\]\{\}]/,re=/^(?:!|!!|![a-z\-]+!)$/i,ne=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ae(e){return Object.prototype.toString.call(e)}function ie(e){return 10===e||13===e}function oe(e){return 9===e||32===e}function se(e){return 9===e||32===e||10===e||13===e}function ce(e){return 44===e||91===e||93===e||123===e||125===e}function de(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function ue(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function le(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var fe=new Array(256),he=new Array(256),pe=0;pe<256;pe++)fe[pe]=ue(pe)?1:0,he[pe]=ue(pe);function be(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||$,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ge(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=u(r),new s(t,r)}function me(e,t){throw ge(e,t)}function ye(e,t){e.onWarning&&e.onWarning.call(null,ge(e,t))}var ve={YAML:function(e,t,r){var n,a,i;null!==e.version&&me(e,"duplication of %YAML directive"),1!==r.length&&me(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&me(e,"ill-formed argument of the YAML directive"),a=parseInt(n[1],10),i=parseInt(n[2],10),1!==a&&me(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&ye(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,a;2!==r.length&&me(e,"TAG directive accepts exactly two arguments"),n=r[0],a=r[1],re.test(n)||me(e,"ill-formed tag handle (first argument) of the TAG directive"),q.call(e.tagMap,n)&&me(e,'there is a previously declared suffix for "'+n+'" tag handle'),ne.test(a)||me(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch(t){me(e,"tag prefix is malformed: "+a)}e.tagMap[n]=a}};function _e(e,t,r,n){var a,i,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(a=0,i=s.length;a<i;a+=1)9===(o=s.charCodeAt(a))||32<=o&&o<=1114111||me(e,"expected valid JSON character");else J.test(s)&&me(e,"the stream contains non-printable characters");e.result+=s}}function we(e,t,r,n){var i,o,s,c;for(a.isObject(r)||me(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,c=(i=Object.keys(r)).length;s<c;s+=1)o=i[s],q.call(t,o)||(t[o]=r[o],n[o]=!0)}function Ae(e,t,r,n,a,i,o,s,c){var d,u;if(Array.isArray(a))for(d=0,u=(a=Array.prototype.slice.call(a)).length;d<u;d+=1)Array.isArray(a[d])&&me(e,"nested arrays are not supported inside keys"),"object"==typeof a&&"[object Object]"===ae(a[d])&&(a[d]="[object Object]");if("object"==typeof a&&"[object Object]"===ae(a)&&(a="[object Object]"),a=String(a),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(i))for(d=0,u=i.length;d<u;d+=1)we(e,t,i[d],r);else we(e,t,i,r);else e.json||q.call(r,a)||!q.call(t,a)||(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=c||e.position,me(e,"duplicated mapping key")),"__proto__"===a?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[a]=i,delete r[a];return t}function Ee(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):me(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Se(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);0!==a;){for(;oe(a);)9===a&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&35===a)do{a=e.input.charCodeAt(++e.position)}while(10!==a&&13!==a&&0!==a);if(!ie(a))break;for(Ee(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&ye(e,"deficient indentation"),n}function Ie(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!se(t)))}function Ce(e,t){1===t?e.result+=" ":t>1&&(e.result+=a.repeat("\n",t-1))}function Te(e,t){var r,n,a=e.tag,i=e.anchor,o=[],s=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,me(e,"tab characters must not be used in indentation")),45===n)&&se(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,Se(e,!0,-1)&&e.lineIndent<=t)o.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,Oe(e,t,G,!1,!0),o.push(e.result),Se(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)me(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=a,e.anchor=i,e.kind="sequence",e.result=o,!0)}function xe(e){var t,r,n,a,i=!1,o=!1;if(33!==(a=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&me(e,"duplication of a tag property"),60===(a=e.input.charCodeAt(++e.position))?(i=!0,a=e.input.charCodeAt(++e.position)):33===a?(o=!0,r="!!",a=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&62!==a);e.position<e.length?(n=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):me(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!se(a);)33===a&&(o?me(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),re.test(r)||me(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),te.test(n)&&me(e,"tag suffix cannot contain flow indicator characters")}n&&!ne.test(n)&&me(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){me(e,"tag name is malformed: "+n)}return i?e.tag=n:q.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:me(e,'undeclared tag handle "'+r+'"'),!0}function ke(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&me(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!se(r)&&!ce(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&me(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Oe(e,t,r,n,i){var o,s,c,d,u,l,f,h,p,b=1,g=!1,m=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=c=Y===r||G===r,n&&Se(e,!0,-1)&&(g=!0,e.lineIndent>t?b=1:e.lineIndent===t?b=0:e.lineIndent<t&&(b=-1)),1===b)for(;xe(e)||ke(e);)Se(e,!0,-1)?(g=!0,c=o,e.lineIndent>t?b=1:e.lineIndent===t?b=0:e.lineIndent<t&&(b=-1)):c=!1;if(c&&(c=g||i),1!==b&&Y!==r||(h=K===r||W===r?t:t+1,p=e.position-e.lineStart,1===b?c&&(Te(e,p)||function(e,t,r){var n,a,i,o,s,c,d,u=e.tag,l=e.anchor,f={},h=Object.create(null),p=null,b=null,g=null,m=!1,y=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),d=e.input.charCodeAt(e.position);0!==d;){if(m||-1===e.firstTabInLine||(e.position=e.firstTabInLine,me(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),i=e.line,63!==d&&58!==d||!se(n)){if(o=e.line,s=e.lineStart,c=e.position,!Oe(e,r,W,!1,!0))break;if(e.line===i){for(d=e.input.charCodeAt(e.position);oe(d);)d=e.input.charCodeAt(++e.position);if(58===d)se(d=e.input.charCodeAt(++e.position))||me(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(Ae(e,f,h,p,b,null,o,s,c),p=b=g=null),y=!0,m=!1,a=!1,p=e.tag,b=e.result;else{if(!y)return e.tag=u,e.anchor=l,!0;me(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=u,e.anchor=l,!0;me(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===d?(m&&(Ae(e,f,h,p,b,null,o,s,c),p=b=g=null),y=!0,m=!0,a=!0):m?(m=!1,a=!0):me(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,d=n;if((e.line===i||e.lineIndent>t)&&(m&&(o=e.line,s=e.lineStart,c=e.position),Oe(e,t,Y,!0,a)&&(m?b=e.result:g=e.result),m||(Ae(e,f,h,p,b,g,o,s,c),p=b=g=null),Se(e,!0,-1),d=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==d)me(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&Ae(e,f,h,p,b,null,o,s,c),y&&(e.tag=u,e.anchor=l,e.kind="mapping",e.result=f),y}(e,p,h))||function(e,t){var r,n,a,i,o,s,c,d,u,l,f,h,p=!0,b=e.tag,g=e.anchor,m=Object.create(null);if(91===(h=e.input.charCodeAt(e.position)))o=93,d=!1,i=[];else{if(123!==h)return!1;o=125,d=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),h=e.input.charCodeAt(++e.position);0!==h;){if(Se(e,!0,t),(h=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=b,e.anchor=g,e.kind=d?"mapping":"sequence",e.result=i,!0;p?44===h&&me(e,"expected the node content, but found ','"):me(e,"missed comma between flow collection entries"),f=null,s=c=!1,63===h&&se(e.input.charCodeAt(e.position+1))&&(s=c=!0,e.position++,Se(e,!0,t)),r=e.line,n=e.lineStart,a=e.position,Oe(e,t,K,!1,!0),l=e.tag,u=e.result,Se(e,!0,t),h=e.input.charCodeAt(e.position),!c&&e.line!==r||58!==h||(s=!0,h=e.input.charCodeAt(++e.position),Se(e,!0,t),Oe(e,t,K,!1,!0),f=e.result),d?Ae(e,i,m,l,u,f,r,n,a):s?i.push(Ae(e,null,m,l,u,f,r,n,a)):i.push(u),Se(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(p=!0,h=e.input.charCodeAt(++e.position)):p=!1}me(e,"unexpected end of the stream within a flow collection")}(e,h)?m=!0:(s&&function(e,t){var r,n,i,o,s,c=Q,d=!1,u=!1,l=t,f=0,h=!1;if(124===(o=e.input.charCodeAt(e.position)))n=!1;else{if(62!==o)return!1;n=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)Q===c?c=43===o?Z:X:me(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(s=o)&&s<=57?s-48:-1)>=0))break;0===i?me(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?me(e,"repeat of an indentation width identifier"):(l=t+i-1,u=!0)}if(oe(o)){do{o=e.input.charCodeAt(++e.position)}while(oe(o));if(35===o)do{o=e.input.charCodeAt(++e.position)}while(!ie(o)&&0!==o)}for(;0!==o;){for(Ee(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!u||e.lineIndent<l)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>l&&(l=e.lineIndent),ie(o))f++;else{if(e.lineIndent<l){c===Z?e.result+=a.repeat("\n",d?1+f:f):c===Q&&d&&(e.result+="\n");break}for(n?oe(o)?(h=!0,e.result+=a.repeat("\n",d?1+f:f)):h?(h=!1,e.result+=a.repeat("\n",f+1)):0===f?d&&(e.result+=" "):e.result+=a.repeat("\n",f):e.result+=a.repeat("\n",d?1+f:f),d=!0,u=!0,f=0,r=e.position;!ie(o)&&0!==o;)o=e.input.charCodeAt(++e.position);_e(e,r,e.position,!1)}}return!0}(e,h)||function(e,t){var r,n,a;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(_e(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,a=e.position}else ie(r)?(_e(e,n,a,!0),Ce(e,Se(e,!1,t)),n=a=e.position):e.position===e.lineStart&&Ie(e)?me(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);me(e,"unexpected end of the stream within a single quoted scalar")}(e,h)||function(e,t){var r,n,a,i,o,s,c;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return _e(e,r,e.position,!0),e.position++,!0;if(92===s){if(_e(e,r,e.position,!0),ie(s=e.input.charCodeAt(++e.position)))Se(e,!1,t);else if(s<256&&fe[s])e.result+=he[s],e.position++;else if((o=120===(c=s)?2:117===c?4:85===c?8:0)>0){for(a=o,i=0;a>0;a--)(o=de(s=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+o:me(e,"expected hexadecimal character");e.result+=le(i),e.position++}else me(e,"unknown escape sequence");r=n=e.position}else ie(s)?(_e(e,r,n,!0),Ce(e,Se(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Ie(e)?me(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}me(e,"unexpected end of the stream within a double quoted scalar")}(e,h)?m=!0:function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!se(n)&&!ce(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&me(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),q.call(e.anchorMap,r)||me(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Se(e,!0,-1),!0}(e)?(m=!0,null===e.tag&&null===e.anchor||me(e,"alias node should not have any properties")):function(e,t,r){var n,a,i,o,s,c,d,u,l=e.kind,f=e.result;if(se(u=e.input.charCodeAt(e.position))||ce(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(se(n=e.input.charCodeAt(e.position+1))||r&&ce(n)))return!1;for(e.kind="scalar",e.result="",a=i=e.position,o=!1;0!==u;){if(58===u){if(se(n=e.input.charCodeAt(e.position+1))||r&&ce(n))break}else if(35===u){if(se(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Ie(e)||r&&ce(u))break;if(ie(u)){if(s=e.line,c=e.lineStart,d=e.lineIndent,Se(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=i,e.line=s,e.lineStart=c,e.lineIndent=d;break}}o&&(_e(e,a,i,!1),Ce(e,e.line-s),a=i=e.position,o=!1),oe(u)||(i=e.position+1),u=e.input.charCodeAt(++e.position)}return _e(e,a,i,!1),!!e.result||(e.kind=l,e.result=f,!1)}(e,h,K===r)&&(m=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===b&&(m=c&&Te(e,p))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&me(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,u=e.implicitTypes.length;d<u;d+=1)if((f=e.implicitTypes[d]).resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(q.call(e.typeMap[e.kind||"fallback"],e.tag))f=e.typeMap[e.kind||"fallback"][e.tag];else for(f=null,d=0,u=(l=e.typeMap.multi[e.kind||"fallback"]).length;d<u;d+=1)if(e.tag.slice(0,l[d].tag.length)===l[d].tag){f=l[d];break}f||me(e,"unknown tag !<"+e.tag+">"),null!==e.result&&f.kind!==e.kind&&me(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+f.kind+'", not "'+e.kind+'"'),f.resolve(e.result,e.tag)?(e.result=f.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):me(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||m}function Ne(e){var t,r,n,a,i=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(a=e.input.charCodeAt(e.position))&&(Se(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==a));){for(o=!0,a=e.input.charCodeAt(++e.position),t=e.position;0!==a&&!se(a);)a=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&me(e,"directive name must not be less than one character in length");0!==a;){for(;oe(a);)a=e.input.charCodeAt(++e.position);if(35===a){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&!ie(a));break}if(ie(a))break;for(t=e.position;0!==a&&!se(a);)a=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==a&&Ee(e),q.call(ve,r)?ve[r](e,r,n):ye(e,'unknown document directive "'+r+'"')}Se(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Se(e,!0,-1)):o&&me(e,"directives end mark is expected"),Oe(e,e.lineIndent-1,Y,!1,!0),Se(e,!0,-1),e.checkLineBreaks&&ee.test(e.input.slice(i,e.position))&&ye(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ie(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Se(e,!0,-1)):e.position<e.length-1&&me(e,"end of the stream or a document separator is expected")}function Pe(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new be(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,me(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ne(r);return r.documents}var Me={loadAll:function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=Pe(e,r);if("function"!=typeof t)return n;for(var a=0,i=n.length;a<i;a+=1)t(n[a])},load:function(e,t){var r=Pe(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new s("expected a single document in the stream, but found more")}}},Re=Object.prototype.toString,De=Object.prototype.hasOwnProperty,Be=65279,Le=9,Fe=10,Ue=13,Ve=32,je=33,ze=34,He=35,$e=37,qe=38,Ke=39,We=42,Ge=44,Ye=45,Qe=58,Xe=61,Ze=62,Je=63,et=64,tt=91,rt=93,nt=96,at=123,it=124,ot=125,st={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},ct=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],dt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ut(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new s("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+a.repeat("0",n-t.length)+t}var lt=2;function ft(e){this.schema=e.schema||$,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=a.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,a,i,o,s,c;if(null===t)return{};for(r={},a=0,i=(n=Object.keys(t)).length;a<i;a+=1)o=n[a],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(c=e.compiledTypeMap.fallback[o])&&De.call(c.styleAliases,s)&&(s=c.styleAliases[s]),r[o]=s;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?lt:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ht(e,t){for(var r,n=a.repeat(" ",t),i=0,o=-1,s="",c=e.length;i<c;)-1===(o=e.indexOf("\n",i))?(r=e.slice(i),i=c):(r=e.slice(i,o+1),i=o+1),r.length&&"\n"!==r&&(s+=n),s+=r;return s}function pt(e,t){return"\n"+a.repeat(" ",e.indent*t)}function bt(e){return e===Ve||e===Le}function gt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==Be||65536<=e&&e<=1114111}function mt(e){return gt(e)&&e!==Be&&e!==Ue&&e!==Fe}function yt(e,t,r){var n=mt(e),a=n&&!bt(e);return(r?n:n&&e!==Ge&&e!==tt&&e!==rt&&e!==at&&e!==ot)&&e!==He&&!(t===Qe&&!a)||mt(t)&&!bt(t)&&e===He||t===Qe&&a}function vt(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function _t(e){return/^\n* /.test(e)}var wt=1,At=2,Et=3,St=4,It=5;function Ct(e,t,r,n,a){e.dump=function(){if(0===t.length)return e.quotingType===lt?'""':"''";if(!e.noCompatMode&&(-1!==ct.indexOf(t)||dt.test(t)))return e.quotingType===lt?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,r),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),c=n||e.flowLevel>-1&&r>=e.flowLevel;switch(function(e,t,r,n,a,i,o,s){var c,d,u=0,l=null,f=!1,h=!1,p=-1!==n,b=-1,g=gt(d=vt(e,0))&&d!==Be&&!bt(d)&&d!==Ye&&d!==Je&&d!==Qe&&d!==Ge&&d!==tt&&d!==rt&&d!==at&&d!==ot&&d!==He&&d!==qe&&d!==We&&d!==je&&d!==it&&d!==Xe&&d!==Ze&&d!==Ke&&d!==ze&&d!==$e&&d!==et&&d!==nt&&function(e){return!bt(e)&&e!==Qe}(vt(e,e.length-1));if(t||o)for(c=0;c<e.length;u>=65536?c+=2:c++){if(!gt(u=vt(e,c)))return It;g=g&&yt(u,l,s),l=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if((u=vt(e,c))===Fe)f=!0,p&&(h=h||c-b-1>n&&" "!==e[b+1],b=c);else if(!gt(u))return It;g=g&&yt(u,l,s),l=u}h=h||p&&c-b-1>n&&" "!==e[b+1]}return f||h?r>9&&_t(e)?It:o?i===lt?It:At:h?St:Et:!g||o||a(e)?i===lt?It:At:wt}(t,c,e.indent,o,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!n,a)){case wt:return t;case At:return"'"+t.replace(/'/g,"''")+"'";case Et:return"|"+Tt(t,e.indent)+xt(ht(t,i));case St:return">"+Tt(t,e.indent)+xt(ht(function(e,t){for(var r,n,a,i=/(\n+)([^\n]*)/g,o=(a=-1!==(a=e.indexOf("\n"))?a:e.length,i.lastIndex=a,kt(e.slice(0,a),t)),s="\n"===e[0]||" "===e[0];n=i.exec(e);){var c=n[1],d=n[2];r=" "===d[0],o+=c+(s||r||""===d?"":"\n")+kt(d,t),s=r}return o}(t,o),i));case It:return'"'+function(e){for(var t,r="",n=0,a=0;a<e.length;n>=65536?a+=2:a++)n=vt(e,a),!(t=st[n])&&gt(n)?(r+=e[a],n>=65536&&(r+=e[a+1])):r+=t||ut(n);return r}(t)+'"';default:throw new s("impossible error: invalid scalar style")}}()}function Tt(e,t){var r=_t(e)?String(t):"",n="\n"===e[e.length-1];return r+(!n||"\n"!==e[e.length-2]&&"\n"!==e?n?"":"-":"+")+"\n"}function xt(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function kt(e,t){if(""===e||" "===e[0])return e;for(var r,n,a=/ [^ ]/g,i=0,o=0,s=0,c="";r=a.exec(e);)(s=r.index)-i>t&&(n=o>i?o:s,c+="\n"+e.slice(i,n),i=n+1),o=s;return c+="\n",e.length-i>t&&o>i?c+=e.slice(i,o)+"\n"+e.slice(o+1):c+=e.slice(i),c.slice(1)}function Ot(e,t,r,n){var a,i,o,s="",c=e.tag;for(a=0,i=r.length;a<i;a+=1)o=r[a],e.replacer&&(o=e.replacer.call(r,String(a),o)),(Pt(e,t+1,o,!0,!0,!1,!0)||void 0===o&&Pt(e,t+1,null,!0,!0,!1,!0))&&(n&&""===s||(s+=pt(e,t)),e.dump&&Fe===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=c,e.dump=s||"[]"}function Nt(e,t,r){var n,a,i,o,c,d;for(i=0,o=(a=r?e.explicitTypes:e.implicitTypes).length;i<o;i+=1)if(((c=a[i]).instanceOf||c.predicate)&&(!c.instanceOf||"object"==typeof t&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(r?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag="?",c.represent){if(d=e.styleMap[c.tag]||c.defaultStyle,"[object Function]"===Re.call(c.represent))n=c.represent(t,d);else{if(!De.call(c.represent,d))throw new s("!<"+c.tag+'> tag resolver accepts not "'+d+'" style');n=c.represent[d](t,d)}e.dump=n}return!0}return!1}function Pt(e,t,r,n,a,i,o){e.tag=null,e.dump=r,Nt(e,r,!1)||Nt(e,r,!0);var c,d=Re.call(e.dump),u=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var l,f,h="[object Object]"===d||"[object Array]"===d;if(h&&(f=-1!==(l=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||f||2!==e.indent&&t>0)&&(a=!1),f&&e.usedDuplicates[l])e.dump="*ref_"+l;else{if(h&&f&&!e.usedDuplicates[l]&&(e.usedDuplicates[l]=!0),"[object Object]"===d)n&&0!==Object.keys(e.dump).length?(function(e,t,r,n){var a,i,o,c,d,u,l="",f=e.tag,h=Object.keys(r);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new s("sortKeys must be a boolean or a function");for(a=0,i=h.length;a<i;a+=1)u="",n&&""===l||(u+=pt(e,t)),c=r[o=h[a]],e.replacer&&(c=e.replacer.call(r,o,c)),Pt(e,t+1,o,!0,!0,!0)&&((d=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&Fe===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,d&&(u+=pt(e,t)),Pt(e,t+1,c,!0,d)&&(e.dump&&Fe===e.dump.charCodeAt(0)?u+=":":u+=": ",l+=u+=e.dump));e.tag=f,e.dump=l||"{}"}(e,t,e.dump,a),f&&(e.dump="&ref_"+l+e.dump)):(function(e,t,r){var n,a,i,o,s,c="",d=e.tag,u=Object.keys(r);for(n=0,a=u.length;n<a;n+=1)s="",""!==c&&(s+=", "),e.condenseFlow&&(s+='"'),o=r[i=u[n]],e.replacer&&(o=e.replacer.call(r,i,o)),Pt(e,t,i,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Pt(e,t,o,!1,!1)&&(c+=s+=e.dump));e.tag=d,e.dump="{"+c+"}"}(e,t,e.dump),f&&(e.dump="&ref_"+l+" "+e.dump));else if("[object Array]"===d)n&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?Ot(e,t-1,e.dump,a):Ot(e,t,e.dump,a),f&&(e.dump="&ref_"+l+e.dump)):(function(e,t,r){var n,a,i,o="",s=e.tag;for(n=0,a=r.length;n<a;n+=1)i=r[n],e.replacer&&(i=e.replacer.call(r,String(n),i)),(Pt(e,t,i,!1,!1)||void 0===i&&Pt(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}(e,t,e.dump),f&&(e.dump="&ref_"+l+" "+e.dump));else{if("[object String]"!==d){if("[object Undefined]"===d)return!1;if(e.skipInvalid)return!1;throw new s("unacceptable kind of an object to dump "+d)}"?"!==e.tag&&Ct(e,e.dump,t,i,u)}null!==e.tag&&"?"!==e.tag&&(c=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),c="!"===e.tag[0]?"!"+c:"tag:yaml.org,2002:"===c.slice(0,18)?"!!"+c.slice(18):"!<"+c+">",e.dump=c+" "+e.dump)}return!0}function Mt(e,t){var r,n,a=[],i=[];for(Rt(e,a,i),r=0,n=i.length;r<n;r+=1)t.duplicates.push(a[i[r]]);t.usedDuplicates=new Array(n)}function Rt(e,t,r){var n,a,i;if(null!==e&&"object"==typeof e)if(-1!==(a=t.indexOf(e)))-1===r.indexOf(a)&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,i=e.length;a<i;a+=1)Rt(e[a],t,r);else for(a=0,i=(n=Object.keys(e)).length;a<i;a+=1)Rt(e[n[a]],t,r)}function Dt(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}const Bt={Type:h,Schema:g,FAILSAFE_SCHEMA:_,JSON_SCHEMA:k,CORE_SCHEMA:O,DEFAULT_SCHEMA:$,load:Me.load,loadAll:Me.loadAll,dump:function(e,t){var r=new ft(t=t||{});r.noRefs||Mt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Pt(r,0,n,!0,!0)?r.dump+"\n":""},YAMLException:s,types:{binary:B,float:x,map:v,null:w,pairs:j,set:H,timestamp:M,bool:A,int:I,merge:R,omap:U,seq:y,str:m},safeLoad:Dt("safeLoad","load"),safeLoadAll:Dt("safeLoadAll","loadAll"),safeDump:Dt("safeDump","dump")}},14002:(e,t,r)=>{"use strict";r.d(t,{AT:()=>Va,ED:()=>Ui,OK:()=>Je,VS:()=>Fi,cv:()=>k,lC:()=>Rt,lx:()=>nn,vp:()=>an});var n=r(73812),a=r(38388),i=r(28805),o=r(77876),s=r(81620),c=r(42078),d=r(96649),u=r(49595),l=r(77010),f=r(42102),h=r(64905),p=r(11090),b=r(97334),g=r(57279),m=r(72664),y=r(89947),v=r(96252),_=r(48834).Buffer,w=Object.defineProperty,A=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,I=(e,t)=>{for(var r in t)w(e,r,{get:t[r],enumerable:!0})},C=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of E(t))S.call(e,a)||a===r||w(e,a,{get:()=>t[a],enumerable:!(n=A(t,a))||n.enumerable});return e};I({},{ADDR_BOUND:()=>J,API_VERSION:()=>Q,BaseUrl:()=>ue,DEFAULT_GLOBAL_CONFIG:()=>be,HARDENING_4BYTES:()=>de,HARDENING_BYTE:()=>ce,IS_BROWSER:()=>O,MASK_250:()=>G,MASK_31:()=>Y,MAX_STORAGE_ITEM_SIZE:()=>Z,NetworkName:()=>le,OutsideExecutionCallerAny:()=>ie,PAYMASTER_RPC_NODES:()=>me,PRIME:()=>X,RANGE_FELT:()=>te,RANGE_I128:()=>re,RANGE_U128:()=>ne,RPC_DEFAULT_NODES:()=>ge,SNIP9_V1_INTERFACE_ID:()=>oe,SNIP9_V2_INTERFACE_ID:()=>se,SYSTEM_MESSAGES:()=>ye,StarknetChainId:()=>fe,SupportedRpcVersion:()=>pe,TEXT_TO_FELT_MAX_LEN:()=>q,TRANSACTION_VERSION:()=>K,TransactionHashPrefix:()=>he,UDC:()=>ae,ZERO:()=>W});var T={};I(T,{JRPC:()=>x,PAYMASTER_API:()=>s,RPCSPEC07:()=>n,RPCSPEC08:()=>i});var x={};C(T,i,"default");var k={};I(k,{IS_BROWSER:()=>O,addHexPrefix:()=>F,arrayBufferToString:()=>P,atobUniversal:()=>R,btoaUniversal:()=>D,buf2hex:()=>B,calcByteLength:()=>V,concatenateArrayBuffer:()=>$,padLeft:()=>U,pascalToSnake:()=>H,removeHexPrefix:()=>L,sanitizeBytes:()=>j,sanitizeHex:()=>z,utf8ToArray:()=>M});var O="undefined"!=typeof window,N="0";function P(e){return new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),"")}function M(e){return(new TextEncoder).encode(e)}function R(e){return c.US.decode(e)}function D(e){return c.US.encode(new Uint8Array(e))}function B(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function L(e){return e.replace(/^0x/i,"")}function F(e){return`0x${L(e)}`}function U(e,t,r=N){return function(e,t,r,n=N){const a=t-e.length;let i=e;if(a>0){const t=n.repeat(a);i=r?t+e:e+t}return i}(e,t,!0,r)}function V(e,t=8){const{length:r}=e,n=r%t;return n?(r-n)/t*t+t:r}function j(e,t=8,r=N){return U(e,V(e,t),r)}function z(e){const t=j(L(e),2);return t?F(t):t}var H=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e;function $(e){const t=e.reduce(((e,t)=>e+t.byteLength),0),r=new Uint8Array(t);let n=0;return e.forEach((e=>{r.set(e,n),n+=e.byteLength})),r}var q=31,{ETransactionVersion:K}=i,W=0n,G=2n**250n-1n,Y=2n**31n-1n,Q=W,X=2n**251n+17n*2n**192n+1n,Z=256n,J=2n**251n-Z,ee=(e,t)=>({min:e,max:t}),te=ee(W,X-1n),re=ee(-(2n**127n),2n**127n-1n),ne=ee(W,2n**128n-1n),ae={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},ie="0x414e595f43414c4c4552",oe="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181",se="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872",ce=128,de=2147483648n,ue={SN_MAIN:"https://alpha-mainnet.starknet.io",SN_SEPOLIA:"https://alpha-sepolia.starknet.io"},le={SN_MAIN:"SN_MAIN",SN_SEPOLIA:"SN_SEPOLIA"},fe={SN_MAIN:"0x534e5f4d41494e",SN_SEPOLIA:"0x534e5f5345504f4c4941"},he={DECLARE:"0x6465636c617265",DEPLOY:"0x6465706c6f79",DEPLOY_ACCOUNT:"0x6465706c6f795f6163636f756e74",INVOKE:"0x696e766f6b65",L1_HANDLER:"0x6c315f68616e646c6572"},pe={"0.7.1":"0.7.1","0.8.1":"0.8.1",v0_7_1:"0.7.1",v0_8_1:"0.8.1"},be={legacyMode:!1,rpcVersion:"0.8.1",transactionVersion:T.ETransactionVersion.V3,logLevel:"INFO",feeMarginPercentage:{bounds:{l1_gas:{max_amount:50,max_price_per_unit:50},l1_data_gas:{max_amount:50,max_price_per_unit:50},l2_gas:{max_amount:50,max_price_per_unit:50}},maxFee:50},fetch:void 0,websocket:void 0},ge={SN_MAIN:["https://starknet-mainnet.public.blastapi.io/rpc/"],SN_SEPOLIA:["https://starknet-sepolia.public.blastapi.io/rpc/"]},me={SN_MAIN:["https://starknet.paymaster.avnu.fi"],SN_SEPOLIA:["https://sepolia.paymaster.avnu.fi"]},ye={legacyTxWarningMessage:"You are using a deprecated transaction version (V0,V1,V2)!\nUpdate to the latest V3 transactions!",legacyTxRPC08Message:"RPC 0.8 do not support legacy transactions",SWOldV3:"RPC 0.7 V3 tx (improper resource bounds) not supported in RPC 0.8",channelVersionMismatch:"Channel specification version is not compatible with the connected node Specification Version",unsupportedSpecVersion:"The connected node specification version is not supported by this library",maxFeeInV3:"maxFee is not supported in V3 transactions, use resourceBounds instead"},ve=class e{static instance;config;constructor(){this.initialize()}initialize(){this.config={...be}}static getInstance(){return e.instance||(e.instance=new e),e.instance}get(e,t){return this.config[e]??t}set(e,t){this.config[e]=t}update(e){this.config={...this.config,...e}}getAll(){return{...this.config}}reset(){this.initialize()}delete(e){delete this.config[e]}hasKey(e){return e in this.config}}.getInstance(),_e={DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,OFF:0},we=class e{static instance;config;constructor(){this.config=ve}static getInstance(){return e.instance||(e.instance=new e),e.instance}getTimestamp(){return(new Date).toISOString()}shouldLog(e){const t=this.config.get("logLevel","INFO");return e<=_e[t]}formatMessage(e){const{level:t,message:r,timestamp:n,data:a}=e;let i=`[${n}] ${t}: ${r}`;if(a)try{i+=`\n${JSON.stringify(a,null,2)}`}catch(e){i+=`\n[JSON.stringify Error/Circular]: ${e}`}return i}log(e,t,r){if(!this.shouldLog(_e[e]))return;const n={level:e,message:t,timestamp:this.getTimestamp(),data:r},a=this.formatMessage(n);switch(e){case"DEBUG":console.debug(a);break;case"INFO":console.info(a);break;case"WARN":console.warn(a);break;case"ERROR":case"FATAL":console.error(a);break;case"OFF":break;default:console.log(a)}}debug(e,t){this.log("DEBUG",e,t)}info(e,t){this.log("INFO",e,t)}warn(e,t){this.log("WARN",e,t)}error(e,t){this.log("ERROR",e,t)}fatal(e,t){this.log("FATAL",e,t)}setLogLevel(e){this.config.set("logLevel",e)}getLogLevel(){return this.config.get("logLevel","INFO")}getEnabledLogLevels(){return Object.keys(_e).filter((e=>this.shouldLog(_e[e])&&"OFF"!==e))}}.getInstance(),Ae={};I(Ae,{RpcChannel:()=>Ra}),I({},{BlockStatus:()=>Te,BlockTag:()=>xe,EDAMode:()=>Me,EDataAvailabilityMode:()=>Pe,ETH_ADDRESS:()=>je,ETransactionExecutionStatus:()=>Le,ETransactionStatus:()=>Be,ETransactionVersion:()=>ke,ETransactionVersion2:()=>Oe,ETransactionVersion3:()=>Ne,EntryPointType:()=>Ee,Literal:()=>Ve,NON_ZERO_PREFIX:()=>ze,OutsideExecutionTypesV1:()=>He,OutsideExecutionTypesV2:()=>$e,OutsideExecutionVersion:()=>qe,RPC:()=>T,TransactionExecutionStatus:()=>Ce,TransactionFinalityStatus:()=>Ie,TransactionType:()=>Se,TypedDataRevision:()=>d.P,Uint:()=>Ue,ValidateType:()=>Fe,isRPC08_FeeEstimate:()=>Re,isRPC08_ResourceBounds:()=>De});var Ee={EXTERNAL:"EXTERNAL",L1_HANDLER:"L1_HANDLER",CONSTRUCTOR:"CONSTRUCTOR"},Se={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE_FUNCTION"},Ie={NOT_RECEIVED:"NOT_RECEIVED",RECEIVED:"RECEIVED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},Ce={REJECTED:"REJECTED",REVERTED:"REVERTED",SUCCEEDED:"SUCCEEDED"},Te={PENDING:"PENDING",ACCEPTED_ON_L1:"ACCEPTED_ON_L1",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",REJECTED:"REJECTED"},xe={PENDING:"pending",LATEST:"latest"},{ETransactionVersion:ke}=i,{ETransactionVersion2:Oe}=i,{ETransactionVersion3:Ne}=i,{EDataAvailabilityMode:Pe}=i,{EDAMode:Me}=i;function Re(e){return"l1_data_gas_consumed"in e}function De(e){return"l1_data_gas"in e}var{ETransactionStatus:Be}=i,{ETransactionExecutionStatus:Le}=i,Fe={DEPLOY:"DEPLOY",CALL:"CALL",INVOKE:"INVOKE"},Ue={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"},Ve={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"},je="core::starknet::eth_address::EthAddress",ze="core::zeroable::NonZero::",He={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]},$e={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]},qe={UNSUPPORTED:"0",V1:"1",V2:"2"};I({},{parse:()=>We,parseAlwaysAsBig:()=>Ge,stringify:()=>Ye});var Ke=e=>{if(!u.U(e))return parseFloat(e);const t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},We=e=>u.Qc(String(e),void 0,Ke),Ge=e=>u.Qc(String(e),void 0,u.A7),Ye=(e,t,r,n)=>u.Pz(e,t,r,n),Qe=class{nodeUrl;headers;interval;requestId=0;pendingRequests={};batchPromises={};delayTimer;delayPromise;delayPromiseResolve;baseFetch;constructor(e){this.nodeUrl=e.nodeUrl,this.headers=e.headers,this.interval=e.interval,this.baseFetch=e.baseFetch}async wait(){return this.delayPromise&&this.delayPromiseResolve||(this.delayPromise=new Promise((e=>{this.delayPromiseResolve=e}))),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0),this.delayTimer=setTimeout((()=>{this.delayPromiseResolve&&(this.delayPromiseResolve(),this.delayPromise=void 0,this.delayPromiseResolve=void 0)}),this.interval),this.delayPromise}addPendingRequest(e,t,r){const n={id:r??`batched_${this.requestId+=1}`,jsonrpc:"2.0",method:e,params:t??void 0};return this.pendingRequests[n.id]=n,n.id}async sendBatch(e){return(await this.baseFetch(this.nodeUrl,{method:"POST",body:Ye(e),headers:this.headers})).json()}async fetch(e,t,r){const n=this.addPendingRequest(e,t,r);await this.wait();const a=this.pendingRequests;if(this.pendingRequests={},!this.batchPromises[n]){const e=this.sendBatch(Object.values(a));Object.keys(a).forEach((t=>{this.batchPromises[t]=e}))}const i=await this.batchPromises[n];delete this.batchPromises[n];const o=i.find((e=>e.id===n));if(!o)throw new Error(`Couldn't find the result for the request. Method: ${e}`);return o}};function Xe(e,t){if(!e)throw new Error(t||"Assertion failure")}function Ze(e,t){if(!e){if(0!==t.length)throw new Error("AssertionX failure: message function should not require arguments");t()}}var Je={};I(Je,{addPercent:()=>St,assertInRange:()=>bt,bigNumberishArrayToDecimalStringArray:()=>gt,bigNumberishArrayToHexadecimalStringArray:()=>mt,cleanHex:()=>pt,getDecimalString:()=>vt,getHexString:()=>_t,getHexStringArray:()=>wt,hexToBytes:()=>Et,hexToDecimalString:()=>ht,isBigNumberish:()=>Ct,isHex:()=>ot,isStringWholeNumber:()=>yt,stringToSha256ToArrayBuff4:()=>It,toBigInt:()=>st,toCairoBool:()=>At,toHex:()=>dt,toHex64:()=>ft,toHexString:()=>ut,toStorageKey:()=>lt,tryToBigInt:()=>ct});var et=e=>void 0===e||void 0===e;function tt(e){return"number"==typeof e}function rt(e){return"boolean"==typeof e}function nt(e){return"bigint"==typeof e}function at(e){return"string"==typeof e}function it(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function ot(e){return/^0x[0-9a-f]*$/i.test(e)}function st(e){return BigInt(e)}function ct(e){return e?BigInt(e):void 0}function dt(e){return F(st(e).toString(16))}var ut=dt;function lt(e){return F(st(e).toString(16).padStart(64,"0"))}function ft(e){const t=F(st(e).toString(16).padStart(64,"0"));if(66!==t.length)throw TypeError("number is too big for hex 0x(64) representation");return t}function ht(e){return BigInt(F(e)).toString(10)}function pt(e){return e.toLowerCase().replace(/^(0x)0+/,"$1")}function bt(e,t,r,n=""){const a=""===n?"invalid length":`invalid ${n} length`,i=BigInt(e),o=BigInt(t),s=BigInt(r);Xe(i>=o&&i<=s,`Message not signable, ${a}.`)}function gt(e){return e.map((e=>st(e).toString(10)))}function mt(e){return e.map((e=>dt(e)))}function yt(e){return/^\d+$/.test(e)}function vt(e){if(ot(e))return ht(e);if(yt(e))return e;throw new Error(`${e} needs to be a hex-string or whole-number-string`)}function _t(e){if(ot(e))return e;if(yt(e))return ut(e);throw new Error(`${e} needs to be a hex-string or whole-number-string`)}function wt(e){return e.map(_t)}function At(e){return(+e).toString()}function Et(e){if(!ot(e))throw new Error(`${e} needs to be a hex-string`);let t=L(e);return t.length%2!=0&&(t=`0${t}`),(0,l.hexToBytes)(t)}function St(e,t){const r=BigInt(e);return r+r*BigInt(t)/100n}function It(e){var t;return Et(dt((t=BigInt(F(B((0,f.JQ)(e)))),Number(t&Y))))}function Ct(e){return tt(e)||nt(e)||at(e)&&(ot(e)||yt(e))}function Tt(e){const t=L(dt(BigInt(e))),r=t.length%2==0?t:`0${t}`;return F((0,h.keccak)(Et(F(r))).toString(16))}function xt(e){const t=BigInt(function(e){return F((0,h.keccak)(M(e)).toString(16))}(e));return t&G}function kt(e){return dt(xt(e))}function Ot(e){return tt(e)||nt(e)?dt(e):ot(e)?e:yt(e)?dt(e):kt(e)}function Nt(e){const t=F(e.reduce(((e,t)=>e+L(dt(t)).padStart(64,"0")),""));return F((0,l.ci)((0,p.fr)(Et(t))))}function Pt(e,t,r,n,a){return Nt([e,t,a,r,n.length,...n])}function Mt(e,t,r){return Nt([e,t,r.length,...r])}I({},{getL1MessageHash:()=>Mt,getL2MessageHash:()=>Pt,getSelector:()=>Ot,getSelectorFromName:()=>kt,keccakBn:()=>Tt,solidityUint256PackedKeccak256:()=>Nt,starknetKeccak:()=>xt});var Rt={};function Dt(e){return/^[\x00-\x7F]*$/.test(e)}function Bt(e){return e.length<=q}function Lt(e){return/^[0-9]*$/i.test(e)}function Ft(e){return at(e)&&!ot(e)&&!yt(e)}I(Rt,{decodeShortString:()=>Ht,encodeShortString:()=>zt,isASCII:()=>Dt,isDecimalString:()=>Lt,isLongText:()=>Vt,isShortString:()=>Bt,isShortText:()=>Ut,isText:()=>Ft,splitLongString:()=>jt});var Ut=e=>Ft(e)&&Bt(e),Vt=e=>Ft(e)&&!Bt(e);function jt(e){const t=RegExp(`[^]{1,${q}}`,"g");return e.match(t)||[]}function zt(e){if(!Dt(e))throw new Error(`${e} is not an ASCII string`);if(!Bt(e))throw new Error(`${e} is too long`);return F(e.replace(/./g,(e=>e.charCodeAt(0).toString(16))))}function Ht(e){if(!Dt(e))throw new Error(`${e} is not an ASCII string`);if(ot(e))return L(e).replace(/.{2}/g,(e=>String.fromCharCode(parseInt(e,16))));if(Lt(e))return Ht("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}function $t(e){const t=0n===BigInt(e.pending_word)?"":Ht(dt(e.pending_word));return e.data.reduce(((e,t)=>e+(0n===BigInt(t)?"":Ht(dt(t)))),"")+t}function qt(e){const t=jt(e),r=t[t.length-1],n=t.map(zt),[a,i]=void 0===r||31===r.length?["0x00",0]:[n.pop(),r.length];return{data:0===n.length?[]:n,pending_word:a,pending_word_len:i}}I({},{byteArrayFromString:()=>qt,stringFromByteArray:()=>$t});function Kt(e){if(nt(e)||Number.isInteger(e))return e.toString();if(at(e)){if(ot(e))return BigInt(e).toString();if(Ft(e)){if(!Bt(e))throw new Error(`${e} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt(zt(e)).toString()}if(yt(e))return e}if(rt(e))return""+ +e;throw new Error(`${e} can't be computed by felt()`)}I({},{felt:()=>Pr,getAbiContractVersion:()=>xr,getArrayType:()=>Ir,isCairo1Abi:()=>Cr,isCairo1Type:()=>Sr,isLen:()=>ir,isTypeArray:()=>sr,isTypeBool:()=>mr,isTypeByteArray:()=>wr,isTypeBytes31:()=>_r,isTypeContractAddress:()=>yr,isTypeEnum:()=>lr,isTypeEthAddress:()=>vr,isTypeFelt:()=>or,isTypeLiteral:()=>gr,isTypeNamedTuple:()=>dr,isTypeNonZero:()=>Tr,isTypeOption:()=>fr,isTypeResult:()=>hr,isTypeSecp256k1Point:()=>Er,isTypeStruct:()=>ur,isTypeTuple:()=>cr,isTypeU96:()=>Ar,isTypeUint:()=>pr,isTypeUint256:()=>br,tuple:()=>Nr,uint256:()=>kr,uint512:()=>Or});var Wt=(1n<<128n)-1n,Gt=(1n<<256n)-1n,Yt=0n,Qt=340282366920938463463374607431768211455n,Xt=340282366920938463463374607431768211455n,Zt=0n,Jt=0n,er=class e{low;high;static abiSelector="core::integer::u256";constructor(...t){if("object"==typeof t[0]&&1===t.length&&"low"in t[0]&&"high"in t[0]){const r=e.validateProps(t[0].low,t[0].high);this.low=r.low,this.high=r.high}else if(1===t.length){const r=e.validate(t[0]);this.low=r&Wt,this.high=r>>128n}else{if(2!==t.length)throw Error("Incorrect constructor parameters");{const r=e.validateProps(t[0],t[1]);this.low=r.low,this.high=r.high}}}static validate(e){const t=BigInt(e);if(t<Yt)throw Error("bigNumberish is smaller than UINT_256_MIN");if(t>Gt)throw new Error("bigNumberish is bigger than UINT_256_MAX");return t}static validateProps(e,t){const r=BigInt(e),n=BigInt(t);if(r<Zt||r>Qt)throw new Error("low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX");if(n<Jt||n>Xt)throw new Error("high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX");return{low:r,high:n}}static is(t){try{e.validate(t)}catch(e){return!1}return!0}static isAbiType(t){return t===e.abiSelector}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:F(this.low.toString(16)),high:F(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[Kt(this.low),Kt(this.high)]}},tr=(1n<<512n)-1n,rr=0n,nr=0n,ar=class e{limb0;limb1;limb2;limb3;static abiSelector="core::integer::u512";constructor(...t){if("object"==typeof t[0]&&1===t.length&&"limb0"in t[0]&&"limb1"in t[0]&&"limb2"in t[0]&&"limb3"in t[0]){const r=e.validateProps(t[0].limb0,t[0].limb1,t[0].limb2,t[0].limb3);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else if(1===t.length){const r=e.validate(t[0]);this.limb0=r&Wt,this.limb1=(r&Wt<<128n)>>128n,this.limb2=(r&Wt<<256n)>>256n,this.limb3=r>>384n}else{if(4!==t.length)throw Error("Incorrect Uint512 constructor parameters");{const r=e.validateProps(t[0],t[1],t[2],t[3]);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}}}static validate(e){const t=BigInt(e);if(t<rr)throw Error("bigNumberish is smaller than UINT_512_MIN.");if(t>tr)throw Error("bigNumberish is bigger than UINT_512_MAX.");return t}static validateProps(e,t,r,n){const a=BigInt(e),i=BigInt(t),o=BigInt(r),s=BigInt(n);return[a,i,o,s].forEach(((e,t)=>{if(e<nr||e>Wt)throw Error(`limb${t} is not in the range of a u128 number`)})),{limb0:a,limb1:i,limb2:o,limb3:s}}static is(t){try{e.validate(t)}catch(e){return!1}return!0}static isAbiType(t){return t===e.abiSelector}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:F(this.limb0.toString(16)),limb1:F(this.limb1.toString(16)),limb2:F(this.limb2.toString(16)),limb3:F(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[Kt(this.limb0),Kt(this.limb1),Kt(this.limb2),Kt(this.limb3)]}},ir=e=>/_len$/.test(e),or=e=>"felt"===e||"core::felt252"===e,sr=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::"),cr=e=>/^\(.*\)$/i.test(e),dr=e=>/\(.*\)/i.test(e)&&e.includes(":"),ur=(e,t)=>e in t,lr=(e,t)=>e in t,fr=e=>e.startsWith("core::option::Option::"),hr=e=>e.startsWith("core::result::Result::"),pr=e=>Object.values(Ue).includes(e),br=e=>er.isAbiType(e),gr=e=>Object.values(Ve).includes(e),mr=e=>"core::bool"===e,yr=e=>e===Ve.ContractAddress,vr=e=>e===je,_r=e=>"core::bytes_31::bytes31"===e,wr=e=>"core::byte_array::ByteArray"===e,Ar=e=>"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"===e,Er=e=>e===Ve.Secp256k1Point,Sr=e=>e.includes("::"),Ir=e=>Sr(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function Cr(e){const{cairo:t}=xr(e);if(void 0===t)throw Error("Unable to determine Cairo version");return"1"===t}function Tr(e){return e.startsWith(ze)}function xr(e){if(e.find((e=>"interface"===e.type)))return{cairo:"1",compiler:"2"};const t=e.find((e=>("function"===e.type||"constructor"===e.type)&&(e.inputs.length||e.outputs.length)));if(!t)return{cairo:void 0,compiler:void 0};const r=t.inputs.length?t.inputs:t.outputs;return Sr(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var kr=e=>new er(e).toUint256DecimalString(),Or=e=>new ar(e).toUint512DecimalString(),Nr=(...e)=>({...e});function Pr(e){return Kt(e)}var Mr=class{variant;constructor(e){const t=Object.values(e);if(0===t.length)throw new Error("This Enum must have at least 1 variant");if(1!==t.filter((e=>!et(e))).length)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){return Object.values(this.variant).find((e=>!et(e)))}activeVariant(){const e=Object.entries(this.variant).find((e=>!et(e[1])));return et(e)?"":e[0]}},Rr={Some:0,None:1},Dr=class{Some;None;constructor(e,t){if(!(e in Object.values(Rr)))throw new Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(e===Rr.Some){if(et(t))throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=t,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!et(this.Some)}isNone(){return!0===this.None}},Br={Ok:0,Err:1},Lr=class{Ok;Err;constructor(e,t){if(!(e in Object.values(Br)))throw new Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");e===Br.Ok?(this.Ok=t,this.Err=void 0):(this.Ok=void 0,this.Err=t)}unwrap(){if(!et(this.Ok))return this.Ok;if(!et(this.Err))return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!et(this.Ok)}isErr(){return!et(this.Err)}},Fr=(e,t,r)=>{if(!nt(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)};function Ur(e,t,r){return Object.entries(e).reduce(((n,[a,i])=>{const o=r??t[a];if(!(a in t)&&!r)return n[a]=i,n;if("string"===o){if(Array.isArray(e[a])){const t=Ur(e[a],e[a].map((e=>o)));return n[a]=Object.values(t).join(""),n}return Fr(e,t,a),n[a]=Ht(i),n}if("number"===o)return Fr(e,t,a),n[a]=Number(i),n;if("function"==typeof o)return n[a]=o(i),n;if(Array.isArray(o)){const t=Ur(e[a],o,o[0]);return n[a]=Object.values(t),n}return it(o)?(n[a]=Ur(e[a],o),n):(((e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)})(e,t,a),n)}),{})}function Vr(e,t,r){return"constructor"===e&&!r&&!t.length}function jr(e,t,r){for(let n=0,a=0;n<e.length;n++)if(e[n]===t)a++;else if(e[n]===r&&0==--a)return n;return Number.POSITIVE_INFINITY}function zr(e){return Sr(e)?function(e){const t=e.slice(1,-1),r=[];let n,a=0;for(;a<t.length;){switch(!0){case"("===t[a]:n=a+jr(t.slice(a),"(",")")+1;break;case t.startsWith("core::result::Result::<",a)||t.startsWith("core::array::Array::<",a)||t.startsWith("core::option::Option::<",a):n=a+jr(t.slice(a),"<",">")+1;break;default:{const e=t.indexOf(",",a);n=-1!==e?e:Number.POSITIVE_INFINITY}}r.push(t.slice(a,n)),a=n+2}return r}(e):function(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=function(e){if(!e.includes("("))return{subTuple:[],result:e};const t=[];let r="",n=0;for(;n<e.length;){if("("===e[n]){let a=1;const i=n;for(n++;a;)")"===e[n]&&a--,"("===e[n]&&a++,n++;t.push(e.substring(i,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}(t);let a=n.split(",").map((e=>r.length?e.replace(" ",r.shift()):e));return dr(e)&&(a=a.reduce(((e,t)=>e.concat(function(e){const t=e.substring(0,e.indexOf(":"));return{name:t,type:e.substring(t.length+1)}}(t))),[])),a}(e)}var Hr=class e{content;arrayType;constructor(t,r){Xe(e.isTypeFixedArray(r),`The type ${r} is not a Cairo fixed array. Needs [type; length].`);try{e.getFixedArrayType(r)}catch{throw new Error(`The type ${r} do not includes any content type. Needs [type; length].`)}try{e.getFixedArraySize(r)}catch{throw new Error(`The type ${r} type do not includes any length. Needs [type; length].`)}Xe(e.getFixedArraySize(r)===t.length,`The ABI type ${r} is expecting ${e.getFixedArraySize(r)} items. ${t.length} items provided.`),this.content=t,this.arrayType=r}static getFixedArraySize(e){const t=e.match(/(?<=; )\d+(?=\])/);if(null===t)throw new Error(`ABI type ${e} do not includes a valid number after ';' character.`);return Number(t[0])}getFixedArraySize(){return e.getFixedArraySize(this.arrayType)}static getFixedArrayType=e=>{const t=e.match(/(?<=\[).+(?=;)/);if(null===t)throw new Error(`ABI type ${e} do not includes a valid type of data.`);return t[0]};getFixedArrayType(){return e.getFixedArrayType(this.arrayType)}static compile(e){return e.reduce(((e,t,r)=>(e[r]=t,e)),{})}compile(){return e.compile(this.content)}static isTypeFixedArray(e){return/^\[.*;\s.*\]$/.test(e)&&/(?<=\[).+(?=;)/.test(e)&&/(?<=; )\d+(?=\])/.test(e)}};function $r(e,t){switch(!0){case er.isAbiType(e):return new er(t).toApiRequest();case ar.isAbiType(e):return new ar(t).toApiRequest();case _r(e):return zt(t.toString());case Er(e):{const e=L(dt(t)).padStart(128,"0"),r=kr(F(e.slice(-64))),n=kr(F(e.slice(0,-64)));return[Pr(n.low),Pr(n.high),Pr(r.low),Pr(r.high)]}default:return Pr(t)}}function qr(e,t,r,n){if(void 0===e)throw Error(`Missing parameter for type ${t}`);if(Hr.isTypeFixedArray(t)){const a=Hr.getFixedArrayType(t);let i=[];if(Array.isArray(e))i=new Hr(e,t).content;else{if("object"!=typeof e)throw new Error(`ABI type ${t}: not an Array representing a cairo.fixedArray() provided.`);i=Object.values(e),Xe(i.length===Hr.getFixedArraySize(t),`ABI type ${t}: object provided do not includes  ${Hr.getFixedArraySize(t)} items. ${i.length} items provided.`)}return i.reduce(((e,t)=>e.concat(qr(t,a,r,n))),[])}if(Array.isArray(e)){const a=[];a.push(Pr(e.length));const i=Ir(t);return e.reduce(((e,t)=>e.concat(qr(t,i,r,n))),a)}if(r[t]&&r[t].members.length){if(er.isAbiType(t))return new er(e).toApiRequest();if(ar.isAbiType(t))return new ar(e).toApiRequest();if(vr(t))return $r(t,e);if(wr(t))return function(e){const t=qt(e);return[t.data.length.toString(),...t.data.map((e=>e.toString())),t.pending_word.toString(),t.pending_word_len.toString()]}(e);const{members:a}=r[t],i=e;return a.reduce(((e,t)=>e.concat(qr(i[t.name],t.type,r,n))),[])}if(cr(t)){const a=function(e,t){const r=zr(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.\n      provided: ${n}\n      expected: ${r}`);return r.map(((e,t)=>({element:n[t],type:e.type??e})))}(e,t);return a.reduce(((e,t)=>{const a=qr(t.element,t.type,r,n);return e.concat(a)}),[])}if(er.isAbiType(t))return new er(e).toApiRequest();if(ar.isAbiType(t))return new ar(e).toApiRequest();if(lr(t,n)){const{variants:a}=n[t];if(fr(t)){const t=e;if(t.isSome()){const e=a.find((e=>"Some"===e.name));if(et(e))throw Error("Error in abi : Option has no 'Some' variant.");const i=e.type;if("()"===i)return Rr.Some.toString();const o=qr(t.unwrap(),i,r,n);return Array.isArray(o)?[Rr.Some.toString(),...o]:[Rr.Some.toString(),o]}return Rr.None.toString()}if(hr(t)){const t=e;if(t.isOk()){const e=a.find((e=>"Ok"===e.name));if(et(e))throw Error("Error in abi : Result has no 'Ok' variant.");const i=e.type;if("()"===i)return Br.Ok.toString();const o=qr(t.unwrap(),i,r,n);return Array.isArray(o)?[Br.Ok.toString(),...o]:[Br.Ok.toString(),o]}const i=a.find((e=>"Err"===e.name));if(et(i))throw Error("Error in abi : Result has no 'Err' variant.");const o=i.type;if("()"===o)return Br.Err.toString();const s=qr(t.unwrap(),o,r,n);return Array.isArray(s)?[Br.Err.toString(),...s]:[Br.Err.toString(),s]}const i=e,o=i.activeVariant(),s=a.find((e=>e.name===o));if(et(s))throw Error(`Not find in abi : Enum has no '${o}' variant.`);const c=s.type,d=a.findIndex((e=>e.name===o));if("()"===c)return d.toString();const u=qr(i.unwrap(),c,r,n);return Array.isArray(u)?[d.toString(),...u]:[d.toString(),u]}if(Tr(t))return $r(Ir(t),e);if("object"==typeof e)throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return $r(t,e)}function Kr(e,t){let r;switch(!0){case mr(e):return r=t.next().value,Boolean(BigInt(r));case er.isAbiType(e):const n=t.next().value,a=t.next().value;return new er(n,a).toBigInt();case ar.isAbiType(e):const i=t.next().value,o=t.next().value,s=t.next().value,c=t.next().value;return new ar(i,o,s,c).toBigInt();case vr(e):return r=t.next().value,BigInt(r);case _r(e):return r=t.next().value,Ht(r);case Er(e):const d=L(t.next().value).padStart(32,"0"),u=L(t.next().value).padStart(32,"0"),l=L(t.next().value).padStart(32,"0"),f=L(t.next().value).padStart(32,"0");return BigInt(F(u+d+f+l));default:return r=t.next().value,BigInt(r)}}function Wr(e,t,r,n){if("()"===t.type)return{};if(er.isAbiType(t.type)){const t=e.next().value,r=e.next().value;return new er(t,r).toBigInt()}if(ar.isAbiType(t.type)){const t=e.next().value,r=e.next().value,n=e.next().value,a=e.next().value;return new ar(t,r,n,a).toBigInt()}if(wr(t.type)){const t=[],r=BigInt(e.next().value);for(;t.length<r;)t.push(dt(e.next().value));return $t({data:t,pending_word:dt(e.next().value),pending_word_len:BigInt(e.next().value)})}if(Hr.isTypeFixedArray(t.type)){const a=[],i={name:"",type:Hr.getFixedArrayType(t.type)},o=Hr.getFixedArraySize(t.type);for(;a.length<o;)a.push(Wr(e,i,r,n));return a}if(sr(t.type)){const a=[],i={name:"",type:Ir(t.type)},o=BigInt(e.next().value);for(;a.length<o;)a.push(Wr(e,i,r,n));return a}if(Tr(t.type)){const a={name:"",type:Ir(t.type)};return Wr(e,a,r,n)}if(r&&t.type in r&&r[t.type])return vr(t.type)?Kr(t.type,e):r[t.type].members.reduce(((t,a)=>(t[a.name]=Wr(e,a,r,n),t)),{});if(n&&t.type in n&&n[t.type]){const a=Number(e.next().value),i=n[t.type].variants.reduce(((t,i,o)=>o===a?(t[i.name]=Wr(e,{name:"",type:i.type},r,n),t):(t[i.name]=void 0,t)),{});if(t.type.startsWith("core::option::Option")){const e=a===Rr.Some?i.Some:void 0;return new Dr(a,e)}if(t.type.startsWith("core::result::Result")){let e;return e=a===Br.Ok?i.Ok:i.Err,new Lr(a,e)}return new Mr(i)}if(cr(t.type))return zr(t.type).reduce(((t,a,i)=>{const o=a?.name?a.name:i,s={name:o,type:a?.type?a.type:a};return t[o]=Wr(e,s,r,n),t}),{});if(sr(t.type)){const a=[],i={name:"",type:Ir(t.type)},o=BigInt(e.next().value);for(;a.length<o;)a.push(Wr(e,i,r,n));return a}return Kr(t.type,e)}function Gr(e,t,r,n,a){const{name:i,type:o}=t;let s;switch(!0){case ir(i):return s=e.next().value,BigInt(s);case r&&o in r||cr(o):case n&&lr(o,n):case Hr.isTypeFixedArray(o):return Wr(e,t,r,n);case sr(o):if(Sr(o))return Wr(e,t,r,n);const c=[];if(a&&a[`${i}_len`]){const o=a[`${i}_len`];for(;c.length<o;)c.push(Wr(e,{name:i,type:t.type.replace("*","")},r,n))}return c;case Tr(o):return Wr(e,t,r,n);default:return Kr(o,e)}}var Yr=(e,t)=>{if(Xe(at(e)||tt(e)||nt(e),`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`),at(e)&&!ot(e))return;const r=BigInt(e.toString(10));Xe(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`)},Qr=(e,t)=>{let r;switch(tt(e)&&Xe(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),Xe(at(e)||tt(e)||nt(e)||it(e)&&"low"in e&&"high"in e||it(e)&&["limb0","limb1","limb2","limb3"].every((t=>t in e)),`Validate: arg ${t.name} of cairo type ${t.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`),t.type){case Ue.u256:r=new er(e).toBigInt();break;case Ue.u512:r=new ar(e).toBigInt();break;default:r=st(e)}switch(t.type){case Ue.u8:Xe(r>=0n&&r<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case Ue.u16:Xe(r>=0n&&r<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case Ue.u32:Xe(r>=0n&&r<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case Ue.u64:Xe(r>=0n&&r<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case Ue.u128:Xe(r>=0n&&r<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case Ue.u256:Xe(r>=0n&&r<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^256-1`);break;case Ue.u512:Xe(ar.is(r),`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^512-1`);break;case Ve.ClassHash:case Ve.ContractAddress:Xe(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case Ve.Secp256k1Point:Xe(r>=0n&&r<=2n**512n-1n,`Validate: arg ${t.name} must be ${t.type} : a 512 bits number.`);break;case Ve.U96:Xe(r>=0n&&r<=2n**96n-1n,`Validate: arg ${t.name} must be ${t.type} : a 96 bits number.`)}},Xr=(e,t)=>{Xe(rt(e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},Zr=(e,t,r)=>{if(t.type!==Ue.u256&&t.type!==Ue.u512)if(vr(t.type)){Xe(!it(e),`EthAddress type is waiting a BigNumberish. Got "${e}"`);const r=BigInt(e.toString(10));Xe(r>=0n&&r<=2n**160n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^160-1]`)}else Xe(it(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as a js object (not array)`),r[t.type].members.forEach((({name:r})=>{Xe(Object.keys(e).includes(r),`Validate: arg ${t.name} should have a property ${r}`)}));else Qr(e,t)},Jr=(e,t)=>{Xe(it(e),`Validate: arg ${t.name} is cairo type Enum (${t.type}), and should be defined as a js object (not array)`);const r=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),n=[...Object.getOwnPropertyNames(e),...r];if(!(fr(t.type)&&n.includes("isSome")&&n.includes("isNone")||hr(t.type)&&n.includes("isOk")&&n.includes("isErr")||n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${t.name}, type ${t.type}, value received "${e}", is not an Enum.`)},en=(e,t)=>{Xe(it(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},tn=(e,t,r,n)=>{const a=sr(t.type),i=a?Ir(t.type):Hr.getFixedArrayType(t.type);if(a&&or(i)&&Vt(e))return;let o=[];if(a)Xe(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),o=e;else switch(!0){case Array.isArray(e):o=e;break;case"object"==typeof e:o=Object.values(e);break;default:throw new Error(`Validate: arg ${t.name} should be an Array or an object.`)}switch(!0){case or(i):o.forEach((e=>Yr(e,t)));break;case cr(i):o.forEach((e=>en(e,{name:t.name,type:i})));break;case sr(i):o.forEach((e=>tn(e,{name:"",type:i},r,n)));break;case ur(i,r):o.forEach((e=>Zr(e,{name:t.name,type:i},r)));break;case lr(i,n):o.forEach((e=>Jr(e,{name:t.name,type:i})));break;case pr(i)||gr(i):o.forEach((e=>Qr(e,{name:"",type:i})));break;case mr(i):o.forEach((e=>Xr(e,t)));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${o}`)}};function rn(e,t,r,n){e.inputs.reduce(((e,a)=>{const i=t[e];switch(!0){case ir(a.name):return e;case or(a.type):Yr(i,a);break;case _r(a.type):((e,t)=>{Xe(at(e),`Validate: arg ${t.name} should be a string.`),Xe(e.length<32,`Validate: arg ${t.name} cairo typed ${t.type} should be a string of less than 32 characters.`)})(i,a);break;case pr(a.type)||gr(a.type):Qr(i,a);break;case mr(a.type):Xr(i,a);break;case wr(a.type):((e,t)=>{Xe(at(e),`Validate: arg ${t.name} should be a string.`)})(i,a);break;case sr(a.type)||Hr.isTypeFixedArray(a.type):tn(i,a,r,n);break;case ur(a.type,r):Zr(i,a,r);break;case lr(a.type,n):Jr(i,a);break;case cr(a.type):en(i,a);break;case Tr(a.type):((e,t)=>{const r=Ir(t.type);switch(Xe(pr(r)&&r!==ar.abiSelector||or(r),`Validate: ${t.name} type is not authorized for NonZero type.`),!0){case or(r):Yr(e,t),Xe(BigInt(e.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case pr(r):Qr(e,{name:"",type:r}),r===Ue.u256?Xe(new er(e).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type."):Xe(st(e)>0,"Validate: value 0 is not authorized in NonZero uint type.");break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value "${e}"`)}})(i,a);break;default:throw new Error(`Validate Unhandled: argument ${a.name}, type ${a.type}, value ${i}`)}return e+1}),0)}var nn=class e{abi;parser;structs;enums;constructor(t){this.structs=e.getAbiStruct(t),this.enums=e.getAbiEnum(t),this.parser=function(e){const t=function(e){return e.find((e=>"interface"===e.type))?2:Cr(e)?1:0}(e);if(0===t||1===t)return new class{abi;constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce(((e,t)=>ir(t.name)?e:e+1),0)}getMethod(e){return this.abi.find((t=>t.name===e))}getLegacyFormat(){return this.abi}}(e);if(2===t)return new class{abi;constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){const t=this.abi.find((e=>"interface"===e.type));return t?.items?.find((t=>t.name===e))}getLegacyFormat(){return this.abi.flatMap((e=>"interface"===e.type?e.items:e))}}(e);throw Error(`Unsupported ABI version ${t}`)}(t),this.abi=this.parser.getLegacyFormat()}validate(e,t,r=[]){e!==Fe.DEPLOY&&Xe(this.abi.filter((t=>{if("function"!==t.type)return!1;const r="view"===t.stateMutability||"view"===t.state_mutability;return e===Fe.INVOKE?!r:r})).map((e=>e.name)).includes(t),(e===Fe.INVOKE?"invocable":"viewable")+" method not found in abi");const n=this.abi.find((r=>e===Fe.DEPLOY?r.name===t&&"constructor"===r.type:r.name===t&&"function"===r.type));if(Vr(t,r,n))return;const a=this.parser.methodInputsLength(n);if(r.length!==a)throw Error(`Invalid number of arguments, expected ${a} arguments, but got ${r.length}`);rn(n,r,this.structs,this.enums)}compile(e,t){const r=this.abi.find((t=>t.name===e));if(Vr(e,t,r))return[];let n;if(Array.isArray(t))n=t;else{const e=function(e,t,r,n){const a=(e,t)=>{if(Hr.isTypeFixedArray(t))return function(e,t){const r=Hr.getFixedArrayType(t),n=Hr.getFixedArraySize(t);if(Array.isArray(e)){if(n!==e.length)throw new Error(`ABI type ${t}: array provided do not includes  ${n} items. ${e.length} items provided.`);return e.map((e=>a(e,r)))}if(n!==Object.keys(e).length)throw new Error(`ABI type ${t}: object provided do not includes  ${n} properties. ${Object.keys(e).length} items provided.`);return a(e,r)}(e,t);if(sr(t))return function(e,t){const r=Ir(t);return at(e)?e:e.map((e=>a(e,r)))}(e,t);if(lr(t,n)){const r=n[t];return o(e,r)}if(cr(t))return function(e,t){const r=zr(t).reduce(((t,r,n)=>{const i=Object.keys(e),o=r?.type?r.type:r;return s=a(e[i[n]],o),Object.defineProperty(t,n.toString(),{enumerable:!0,value:s??e[i[n]]}),t;var s}),{});return r}(e,t);if(vr(t))return e;if(Tr(t))return e;if(wr(t))return e;if(Ar(t))return e;if(Er(t))return e;if(er.isAbiType(t)){const r=e;if("object"!=typeof r)return r;if(!("low"in r)||!("high"in r))throw Error(`Your object includes the property : ${t}, containing an Uint256 object without the 'low' and 'high' keys.`);return{low:r.low,high:r.high}}if(ar.isAbiType(t)){const r=e;if("object"!=typeof r)return r;if(!["limb0","limb1","limb2","limb3"].every((e=>e in r)))throw Error(`Your object includes the property : ${t}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`);return{limb0:r.limb0,limb1:r.limb1,limb2:r.limb2,limb3:r.limb3}}if(ur(t,r)){const n=r[t].members;return i(e,n)}return e},i=(e,t)=>t.reduce(((t,r)=>{if("undefined"===e[r.name]&&(Sr(r.type)||!ir(r.name)))throw Error(`Your object needs a property with key : ${r.name} .`);var n;return n=a(e[r.name],r.type),Object.defineProperty(t,r.name,{enumerable:!0,value:n??e[r.name]}),t}),{}),o=(e,t)=>{if(hr(t.name)){const r=e,n=t.name.substring(t.name.indexOf("<")+1,t.name.lastIndexOf(",")),i=t.name.substring(t.name.indexOf(",")+1,t.name.lastIndexOf(">"));return r.isOk()?new Lr(Br.Ok,a(e.unwrap(),n)):new Lr(Br.Err,a(e.unwrap(),i))}if(fr(t.name)){const r=e,n=t.name.substring(t.name.indexOf("<")+1,t.name.lastIndexOf(">"));return r.isSome()?new Dr(Rr.Some,a(r.unwrap(),n)):new Dr(Rr.None,{})}const r=e,n=Object.entries(r.variant).map((e=>{if(et(e[1]))return e;const n=t.type.substring(t.type.lastIndexOf("<")+1,t.type.lastIndexOf(">"));return"()"===n?e:[e[0],a(r.unwrap(),n)]}));return new Mr(Object.fromEntries(n))};return t.reduce(((t,r)=>{return ir(r.name)&&!Sr(r.type)||(n=a(e[r.name],r.type),Object.defineProperty(t,r.name,{enumerable:!0,value:n})),t;var n}),{})}(t,r.inputs,this.structs,this.enums);n=Object.values(e),rn(r,n,this.structs,this.enums)}const a=n[Symbol.iterator](),i=r.inputs.reduce(((e,t)=>ir(t.name)&&!Sr(t.type)?e:e.concat(function(e,t,r,n){const{name:a,type:i}=t;let{value:o}=e.next();switch(!0){case Hr.isTypeFixedArray(i):if(!Array.isArray(o)&&"object"!=typeof o)throw Error(`ABI expected parameter ${a} to be an array or an object, got ${o}`);return qr(o,t.type,r,n);case sr(i):if(!Array.isArray(o)&&!Ft(o))throw Error(`ABI expected parameter ${a} to be array or long string, got ${o}`);return at(o)&&(o=jt(o)),qr(o,t.type,r,n);case Tr(i):return $r(Ir(i),o);case vr(i):return $r(i,o);case ur(i,r)||cr(i)||er.isAbiType(i):case lr(i,n):return qr(o,i,r,n);default:return $r(i,o)}}(a,t,this.structs,this.enums))),[]);return Object.defineProperty(i,"__compiled__",{enumerable:!1,writable:!1,value:!0}),i}static compile(e){const t=e=>{const t=(e,r=".")=>{const n=Array.isArray(e)?[e.length.toString(),...e]:e;return Object.entries(n).flatMap((([e,a])=>{let i=a;"entrypoint"===e?i=kt(i):Vt(i)&&(i=qt(i));const o=Array.isArray(n)&&"0"===e?"$$len":e;if(nt(i))return[[`${r}${o}`,Pr(i)]];if(Object(i)===i){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(i)),n=[...Object.getOwnPropertyNames(i),...e];if(n.includes("isSome")&&n.includes("isNone")){const e=i,n=e.isSome()?Rr.Some:Rr.None;return e.isSome()?t({0:n,1:e.unwrap()},`${r}${o}.`):[[`${r}${o}`,Pr(n)]]}if(n.includes("isOk")&&n.includes("isErr")){const e=i,n=e.isOk()?Br.Ok:Br.Err;return t({0:n,1:e.unwrap()},`${r}${o}.`)}if(n.includes("variant")&&n.includes("activeVariant")){const e=i,n=e.activeVariant(),a=Object.keys(e.variant).findIndex((e=>e===n));return"object"==typeof e.unwrap()&&0===Object.keys(e.unwrap()).length?[[`${r}${o}`,Pr(a)]]:t({0:a,1:e.unwrap()},`${r}${o}.`)}return t(i,`${r}${o}.`)}return[[`${r}${o}`,Pr(i)]]}))};return Object.fromEntries(t(e))};let r;if(Array.isArray(e)){const n=t({...e});r=Object.values(n)}else{const n=t(e);r=Object.values(n)}return Object.defineProperty(r,"__compiled__",{enumerable:!1,writable:!1,value:!0}),r}parse(e,t){const{outputs:r}=this.abi.find((t=>t.name===e)),n=t.flat()[Symbol.iterator](),a=r.flat().reduce(((e,t,r)=>{const a=t.name??r;return e[a]=Gr(n,t,this.structs,this.enums,e),e[a]&&e[`${a}_len`]&&delete e[`${a}_len`],e}),{});return 1===Object.keys(a).length&&0 in a?a[0]:a}format(e,t,r){return Ur(this.parse(e,t),r)}static getAbiStruct(e){return e.filter((e=>"struct"===e.type)).reduce(((e,t)=>({...e,[t.name]:t})),{})}static getAbiEnum(e){const t=e.filter((e=>"enum"===e.type)).reduce(((e,t)=>({...e,[t.name]:t})),{});return delete t["core::bool"],t}static toCalldata(t=[]){return e.compile(t)}static toHex(t=[]){return e.compile(t).map((e=>dt(e)))}decodeParameters(e,t){const r=Array.isArray(e)?e:[e],n=t.flat()[Symbol.iterator](),a=r.map((e=>Gr(n,{name:"",type:e},this.structs,this.enums)));return 1===a.length?a[0]:a}},an={};function on(e){return[...e,e.length].reduce(((e,t)=>h.pedersen(st(e),st(t))),0).toString()}function sn(e,t,r,n,a,i,o,s=[]){const c=on(a);return on([e,t,r,n,c,i,o,...s])}function cn(e,t,r,n,a,i,o){return sn(he.DECLARE,r,t,0,[e],n,a,[i,...o?[o]:[]])}function dn(e,t,r,n,a,i,o,s){const c=[t,n,...r];return sn(he.DEPLOY_ACCOUNT,a,e,0,c,i,o,[s])}function un(e,t,r,n,a,i){return sn(he.INVOKE,t,e,0,r,n,a,[i])}function ln(e,t,r,n,a,i){const o=[e,...n];return sn(he.L1_HANDLER,0,t,Ot(r),o,0,a,[i])}I(an,{calculateContractAddressFromHash:()=>Ln,calculateDeclareTransactionHash:()=>On,calculateDeployAccountTransactionHash:()=>Nn,calculateInvokeTransactionHash:()=>kn,calculateL2MessageTxHash:()=>ln,computeCompiledClassHash:()=>$n,computeContractClassHash:()=>Wn,computeHashOnElements:()=>Rn,computeHintedClassHash:()=>Vn,computeLegacyContractClassHash:()=>jn,computePedersenHash:()=>Pn,computePedersenHashOnElements:()=>Dn,computePoseidonHash:()=>Mn,computePoseidonHashOnElements:()=>Bn,computeSierraContractClassHash:()=>Kn,formatSpaces:()=>Un,getL1MessageHash:()=>Mt,getL2MessageHash:()=>Pt,getSelector:()=>Ot,getSelectorFromName:()=>kt,hashByteCodeSegments:()=>Hn,keccakBn:()=>Tt,poseidon:()=>b,solidityUint256PackedKeccak256:()=>Nt,starknetKeccak:()=>xt}),I({},{calculateDeclareTransactionHash:()=>cn,calculateDeployAccountTransactionHash:()=>dn,calculateL2MessageTxHash:()=>ln,calculateTransactionHash:()=>un,calculateTransactionHashCommon:()=>sn,computeHashOnElements:()=>on}),I({},{starkCurve:()=>h,weierstrass:()=>g}),I({},{calculateDeclareTransactionHash:()=>Tn,calculateDeployAccountTransactionHash:()=>Cn,calculateInvokeTransactionHash:()=>xn,calculateTransactionHashCommon:()=>In,encodeDataResourceBoundsL1:()=>An,encodeResourceBoundsL1:()=>_n,encodeResourceBoundsL2:()=>wn,hashDAMode:()=>vn,hashFeeField:()=>En,hashFeeFieldV3B3:()=>Sn});var fn=e=>e.map((e=>BigInt(e))),hn=32n,pn=128n,bn=64n+pn,gn=BigInt(zt("L1_GAS")),mn=BigInt(zt("L2_GAS")),yn=BigInt(zt("L1_DATA"));function vn(e,t){return(BigInt(e)<<hn)+BigInt(t)}function _n(e){return(gn<<bn)+(BigInt(e.l1_gas.max_amount)<<pn)+BigInt(e.l1_gas.max_price_per_unit)}function wn(e){return(mn<<bn)+(BigInt(e.l2_gas.max_amount)<<pn)+BigInt(e.l2_gas.max_price_per_unit)}function An(e){return(yn<<bn)+(BigInt(e.l1_data_gas.max_amount)<<pn)+BigInt(e.l1_data_gas.max_price_per_unit)}function En(e,t){const r=_n(t),n=wn(t);return(0,h.poseidonHashMany)([BigInt(e),r,n])}function Sn(e,t){const r=_n(t),n=wn(t),a=An(t);return(0,h.poseidonHashMany)([BigInt(e),r,n,a])}function In(e,t,r,n,a,i,o,s,c,d,u=[]){const l=De(d)?Sn(i,d):En(i,d),f=vn(s,c),p=fn([e,t,r,l,(0,h.poseidonHashMany)(fn(o)),n,a,f,...fn(u)]);return dt((0,h.poseidonHashMany)(p))}function Cn(e,t,r,n,a,i,o,s,c,d,u,l){return In(he.DEPLOY_ACCOUNT,a,e,i,o,u,l,s,c,d,[(0,h.poseidonHashMany)(fn(r)),t,n])}function Tn(e,t,r,n,a,i,o,s,c,d,u,l){return In(he.DECLARE,n,r,a,i,u,fn(l),s,c,d,[(0,h.poseidonHashMany)(fn(o)),e,t])}function xn(e,t,r,n,a,i,o,s,c,d,u){return In(he.INVOKE,t,e,n,a,d,u,o,s,c,[(0,h.poseidonHashMany)(fn(i)),(0,h.poseidonHashMany)(fn(r))])}function kn(e){return function(e){return[T.ETransactionVersion.V3,T.ETransactionVersion.F3].includes(e.version)}(e)?xn(e.senderAddress,e.version,e.compiledCalldata,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):un(e.senderAddress,e.version,e.compiledCalldata,e.maxFee,e.chainId,e.nonce)}function On(e){return function(e){return[T.ETransactionVersion.V3,T.ETransactionVersion.F3].includes(e.version)}(e)?Tn(e.classHash,e.compiledClassHash,e.senderAddress,e.version,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):cn(e.classHash,e.senderAddress,e.version,e.maxFee,e.chainId,e.nonce,e.compiledClassHash)}function Nn(e){return function(e){return[T.ETransactionVersion.V3,T.ETransactionVersion.F3].includes(e.version)}(e)?Cn(e.contractAddress,e.classHash,e.compiledConstructorCalldata,e.salt,e.version,e.chainId,e.nonce,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):dn(e.contractAddress,e.classHash,e.constructorCalldata,e.salt,e.version,e.maxFee,e.chainId,e.nonce)}function Pn(e,t){return h.pedersen(BigInt(e),BigInt(t))}function Mn(e,t){return dt(h.poseidonHash(BigInt(e),BigInt(t)))}function Rn(e){return[...e,e.length].reduce(((e,t)=>h.pedersen(BigInt(e),BigInt(t))),0).toString()}var Dn=Rn;function Bn(e){return dt((0,h.poseidonHashMany)(e.map((e=>BigInt(e)))))}function Ln(e,t,r,n){const a=Rn(nn.compile(r)),i=Rn([Pr("0x535441524b4e45545f434f4e54524143545f41444452455353"),n,e,t,a]);return dt(BigInt(i)%J)}function Fn(e,t){return"attributes"===e||"accessible_scopes"===e?Array.isArray(t)&&0===t.length?void 0:t:"debug_info"===e?null:null===t?void 0:t}function Un(e){let t=!1;const r=[];for(const n of e)'"'===n&&0==(r.length>0&&"\\"===r.slice(-1)[0])&&(t=!t),t?r.push(n):r.push(":"===n?": ":","===n?", ":n);return r.join("")}function Vn(e){const{abi:t,program:r}=e,n=Un(Ye({abi:t,program:r},Fn));return F(h.keccak(M(n)).toString(16))}function jn(e){const t=at(e)?We(e):e,r=dt(Q),n=Rn(t.entry_points_by_type.EXTERNAL.flatMap((e=>[e.selector,e.offset]))),a=Rn(t.entry_points_by_type.L1_HANDLER.flatMap((e=>[e.selector,e.offset]))),i=Rn(t.entry_points_by_type.CONSTRUCTOR.flatMap((e=>[e.selector,e.offset]))),o=Rn(t.program.builtins.map((e=>zt(e)))),s=Vn(t),c=Rn(t.program.data);return Rn([r,n,a,i,o,s,c])}function zn(e){const t=e.flatMap((e=>{return[BigInt(e.selector),BigInt(e.offset),(t=e.builtins,(0,h.poseidonHashMany)(t.flatMap((e=>BigInt(zt(e))))))];var t}));return(0,h.poseidonHashMany)(t)}function Hn(e){const t=e.bytecode.map((e=>BigInt(e))),r=e.bytecode_segment_lengths??[];let n=0;const a=r.flatMap((e=>{const r=t.slice(n,n+=e);return[BigInt(e),(0,h.poseidonHashMany)(r)]}));return 1n+(0,h.poseidonHashMany)(a)}function $n(e){const t=BigInt(zt("COMPILED_CLASS_V1")),r=zn(e.entry_points_by_type.EXTERNAL),n=zn(e.entry_points_by_type.L1_HANDLER),a=zn(e.entry_points_by_type.CONSTRUCTOR),i=e.bytecode_segment_lengths?Hn(e):(0,h.poseidonHashMany)(e.bytecode.map((e=>BigInt(e))));return dt((0,h.poseidonHashMany)([t,r,n,a,i]))}function qn(e){const t=e.flatMap((e=>[BigInt(e.selector),BigInt(e.function_idx)]));return(0,h.poseidonHashMany)(t)}function Kn(e){const t=BigInt(zt("CONTRACT_CLASS_V0.1.0")),r=qn(e.entry_points_by_type.EXTERNAL),n=qn(e.entry_points_by_type.L1_HANDLER),a=qn(e.entry_points_by_type.CONSTRUCTOR),i=function(e){const t=Un(Ye(e.abi,null));return BigInt(F(h.keccak(M(t)).toString(16)))}(e),o=(0,h.poseidonHashMany)(e.sierra_program.map((e=>BigInt(e))));return dt((0,h.poseidonHashMany)([t,r,n,a,i,o]))}function Wn(e){const t=at(e)?We(e):e;return"sierra_program"in t?Kn(t):jn(t)}function Gn(e){const t=e.version?dt(e.version):ke.V3;return t===ke.V3||t===ke.F3}function Yn(e,t){const r=e.split("."),n=t.split(".");return r.every(((e,t)=>"*"===e||e===n[t]))}function Qn(e,t={allowAnyPatchVersion:!1}){return Object.values(pe).some((r=>Yn(t.allowAnyPatchVersion?function(e){const t=e.split(".");return t.length<3?e:`${t[0]}.${t[1]}.*`}(r):r,e)))}function Xn(e){const t=at(e)?e:Ye(e);return D((0,m.iv)(t))}function Zn(e){if(Array.isArray(e))return e;const t=P((0,m.ec)(R(e)));return We(t)}function Jn(){const e=h.utils.randomPrivateKey();return(0,h.getStarkKey)(e)}function ea(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map((e=>dt(e)));try{const{r:t,s:r}=e;return[dt(t),dt(r)]}catch(e){throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function ta(e){return gt(ea(e))}function ra(e){return mt(ea(e))}function na(e,t=ve.get("feeMarginPercentage").maxFee){return St(e,t)}function aa(e,t=ve.get("feeMarginPercentage").bounds,r){return nt(e)?{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},...r&&Yn("0.8",r)&&{l1_data_gas:{max_amount:"0x0",max_price_per_unit:"0x0"}}}:Re(e)?function(e,t){return{l2_gas:{max_amount:dt(St(e.l2_gas_consumed,t.l2_gas.max_amount)),max_price_per_unit:dt(St(e.l2_gas_price,t.l2_gas.max_price_per_unit))},l1_gas:{max_amount:dt(St(e.l1_gas_consumed,t.l1_gas.max_amount)),max_price_per_unit:dt(St(e.l1_gas_price,t.l1_gas.max_price_per_unit))},l1_data_gas:{max_amount:dt(St(e.l1_data_gas_consumed,t.l1_data_gas.max_amount)),max_price_per_unit:dt(St(e.l1_data_gas_price,t.l1_data_gas.max_price_per_unit))}}}(e,t):function(e,t){return{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:void 0!==e.data_gas_consumed&&void 0!==e.data_gas_price?dt(St(BigInt(e.overall_fee)/BigInt(e.gas_price),t.l1_gas.max_amount)):dt(St(e.gas_consumed,t.l1_gas.max_amount)),max_price_per_unit:dt(St(e.gas_price,t.l1_gas.max_price_per_unit))}}}(e,t)}function ia(e){return{l1_gas_consumed:0n,l1_gas_price:0n,l1_data_gas_consumed:0n,l1_data_gas_price:0n,l2_gas_consumed:0n,l2_gas_price:0n,overall_fee:W,unit:"FRI",suggestedMaxFee:W,resourceBounds:aa(W,void 0,e)}}function oa(e){if(e===Pe.L1)return Me.L1;if(e===Pe.L2)return Me.L2;throw Error("EDAM conversion")}function sa(e,t){const r=t?dt(t):void 0,n=dt(e);if(t&&!Object.values(ke).includes(r))throw Error(`providedVersion ${t} is not ETransactionVersion`);if(!Object.values(ke).includes(n))throw Error(`defaultVersion ${e} is not ETransactionVersion`);return t?r:n}function ca(e){if(!e)return;const t=dt(e);if(t===ke.V0)return ke.F0;if(t===ke.V1)return ke.F1;if(t===ke.V2)return ke.F2;if(t===ke.V3)return ke.F3;throw Error(`toFeeVersion: ${t} is not supported`)}function da(e,t){return{tip:e.tip||0,paymasterData:e.paymasterData||[],accountDeploymentData:e.accountDeploymentData||[],nonceDataAvailabilityMode:e.nonceDataAvailabilityMode||Pe.L1,feeDataAvailabilityMode:e.feeDataAvailabilityMode||Pe.L1,resourceBounds:e.resourceBounds??aa(W,void 0,t)}}function ua(e){return e===ke.F2?ke.F1:e===ke.V2?ke.V1:e}function la(e){const t=dt(e);return F(B((0,h.getPublicKey)(t,!1)))}function fa(e){return"sierra_program"in(at(e)?We(e):e)}I({},{ZEROFee:()=>ia,compressProgram:()=>Xn,decompressProgram:()=>Zn,estimateFeeToBounds:()=>aa,estimatedFeeToMaxFee:()=>na,formatSignature:()=>ea,getFullPublicKey:()=>la,intDAM:()=>oa,randomAddress:()=>Jn,reduceV2:()=>ua,signatureToDecimalArray:()=>ta,signatureToHexArray:()=>ra,toFeeVersion:()=>ca,toTransactionVersion:()=>sa,v3Details:()=>da});var ha={FAILED_TO_RECEIVE_TXN:1,NO_TRACE_AVAILABLE:10,CONTRACT_NOT_FOUND:20,ENTRYPOINT_NOT_FOUND:21,BLOCK_NOT_FOUND:24,INVALID_TXN_INDEX:27,CLASS_HASH_NOT_FOUND:28,TXN_HASH_NOT_FOUND:29,PAGE_SIZE_TOO_BIG:31,NO_BLOCKS:32,INVALID_CONTINUATION_TOKEN:33,TOO_MANY_KEYS_IN_FILTER:34,CONTRACT_ERROR:40,TRANSACTION_EXECUTION_ERROR:41,STORAGE_PROOF_NOT_SUPPORTED:42,CLASS_ALREADY_DECLARED:51,INVALID_TRANSACTION_NONCE:52,INSUFFICIENT_RESOURCES_FOR_VALIDATE:53,INSUFFICIENT_ACCOUNT_BALANCE:54,VALIDATION_FAILURE:55,COMPILATION_FAILED:56,CONTRACT_CLASS_SIZE_IS_TOO_LARGE:57,NON_ACCOUNT:58,DUPLICATE_TX:59,COMPILED_CLASS_HASH_MISMATCH:60,UNSUPPORTED_TX_VERSION:61,UNSUPPORTED_CONTRACT_CLASS_VERSION:62,UNEXPECTED_ERROR:63,INVALID_SUBSCRIPTION_ID:66,TOO_MANY_ADDRESSES_IN_FILTER:67,TOO_MANY_BLOCKS_BACK:68,COMPILATION_ERROR:100,INVALID_ADDRESS:150,TOKEN_NOT_SUPPORTED:151,INVALID_SIGNATURE:153,MAX_AMOUNT_TOO_LOW:154,CLASS_HASH_NOT_SUPPORTED:155,PAYMASTER_TRANSACTION_EXECUTION_ERROR:156,INVALID_TIME_BOUNDS:157,INVALID_DEPLOYMENT_DATA:158,INVALID_CLASS_HASH:159,INVALID_ID:160,UNKNOWN_ERROR:163},pa=class extends Error{name;constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),function(e,t){const{setPrototypeOf:r}=Object;r?r(e,t):e.__proto__=t}(this,new.target.prototype),function(e,t=e.constructor){const{captureStackTrace:r}=Error;r&&r(e,t)}(this)}},ba=class extends pa{},ga=class extends ba{constructor(e,t,r){super(`RPC: ${t} with params ${Ye(r,null,2)}\n\n      ${e.code}: ${e.message}: ${Ye(e.data)}`),this.baseError=e,this.request={method:t,params:r}}request;get code(){return this.baseError.code}isType(e){return ha[e]===this.code}};function ma(){return z(B(y.kA.utils.randomPrivateKey()))}function ya(e){bt(e,W,2n**160n-1n,"Ethereum Address ");const t=F(L(dt(e)).padStart(40,"0"));return Xe(Boolean(t.match(/^(0x)?[0-9a-f]{40}$/)),"Invalid Ethereum Address Format"),t}I({},{ethRandomPrivateKey:()=>ma,validateAndParseEthAddress:()=>ya});var va="undefined"!=typeof globalThis&&globalThis.fetch.bind(globalThis)||"undefined"!=typeof window&&window.fetch.bind(window)||"undefined"!=typeof global&&global.fetch.bind(global)||(()=>{throw new ba("'fetch()' not detected, use the 'baseFetch' constructor parameter to set it")});function _a(e){return new Promise((t=>{setTimeout(t,e)}))}function wa(e){const t={...e};return delete t.sierra_program_debug_info,t.abi=Un(Ye(e.abi)),t.sierra_program=Un(Ye(e.sierra_program)),t.sierra_program=Xn(t.sierra_program),t}function Aa(e){const t=at(e)?We(e):e;return fa(e)?wa(t):{...t,..."program"in t&&{program:Xn(t.program)}}}I({},{Block:()=>Ca,createSierraContractClass:()=>wa,getDefaultNodeUrl:()=>Ea,getDefaultNodes:()=>Sa,parseContract:()=>Aa,validBlockTags:()=>Ia,wait:()=>_a});var Ea=(e,t=!1,r)=>{t||we.info("Using default public node url, please provide nodeUrl in provider options!");const n=Sa(r??ve.get("rpcVersion"))[e??le.SN_SEPOLIA];return n[Math.floor(Math.random()*n.length)]};function Sa(e){const t={...ge};return Object.keys(t).forEach((function(r,n){t[r]=t[r].map((t=>{return`${t}${r=e,`v${r.replace(/^v/,"").replace(/\./g,"_")}`}`;var r}))})),t}var Ia=Object.values(xe),Ca=class{hash=null;number=null;tag=null;setIdentifier(e){if(at(e))if(Lt(e))this.number=parseInt(e,10);else if(ot(e))this.hash=e;else{if(!Ia.includes(e))throw TypeError(`Block identifier unmanaged: ${e}`);this.tag=e}else nt(e)?this.hash=dt(e):tt(e)?this.number=e:this.tag=xe.PENDING;if(tt(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}constructor(e){this.setIdentifier(e)}get queryIdentifier(){return null!==this.number?`blockNumber=${this.number}`:null!==this.hash?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return null!==this.number?{block_number:this.number}:null!==this.hash?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}valueOf=()=>this.number;toString=()=>this.hash};I({},{buildUDCCall:()=>Na,fromCallsToExecuteCalldata:()=>xa,fromCallsToExecuteCalldata_cairo1:()=>ka,getExecuteCalldata:()=>Oa,getVersionsByType:()=>Pa,transformCallsToMulticallArrays:()=>Ta});var Ta=e=>{const t=[],r=[];return e.forEach((e=>{const n=nn.compile(e.calldata||[]);t.push({to:st(e.contractAddress).toString(10),selector:st(kt(e.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:n.length.toString()}),r.push(...n)})),{callArray:t,calldata:nn.compile({calldata:r})}},xa=e=>{const{callArray:t,calldata:r}=Ta(e);return[...nn.compile({callArray:t}),...r]},ka=e=>{const t=e.map((e=>({contractAddress:e.contractAddress,entrypoint:e.entrypoint,calldata:Array.isArray(e.calldata)&&"__compiled__"in e.calldata?e.calldata:nn.compile(e.calldata)})));return nn.compile({orderCalls:t})},Oa=(e,t="0")=>"1"===t?ka(e):xa(e);function Na(e,t){const r=[].concat(e).map((e=>{const{classHash:r,salt:n,unique:a=!0,constructorCalldata:i=[]}=e,o=nn.compile(i),s=n??Jn();return{call:{contractAddress:ae.ADDRESS,entrypoint:ae.ENTRYPOINT,calldata:[r,s,At(a),o.length,...o]},address:Ln(a?h.pedersen(t,s):s,r,o,a?ae.ADDRESS:0)}}));return{calls:r.map((e=>e.call)),addresses:r.map((e=>e.address))}}function Pa(e){return"fee"===e?{v1:ke.F1,v2:ke.F2,v3:ke.F3}:{v1:ke.V1,v2:ke.V2,v3:ke.V3}}var Ma={headers:{"Content-Type":"application/json"},blockIdentifier:xe.PENDING,retries:200},Ra=class{id="RPC071";channelSpecVersion=pe.v0_7_1;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(e){const{baseFetch:t,batch:r,blockIdentifier:n,chainId:a,headers:i,nodeUrl:o,retries:s,specVersion:c,transactionRetryIntervalFallback:d,waitMode:u}=e||{};Object.values(le).includes(o)?this.nodeUrl=Ea(o,e?.default,this.channelSpecVersion):this.nodeUrl=o||Ea(void 0,e?.default,this.channelSpecVersion),this.baseFetch=t||ve.get("fetch")||va,this.blockIdentifier=n??Ma.blockIdentifier,this.chainId=a,this.headers={...Ma.headers,...i},this.retries=s??Ma.retries,this.specVersion=c,this.transactionRetryIntervalFallback=d,this.waitMode=u??!1,this.requestId=0,"number"==typeof r&&(this.batchClient=new Qe({nodeUrl:this.nodeUrl,headers:this.headers,interval:r,baseFetch:this.baseFetch})),we.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(e){this.chainId=e}fetch(e,t,r=0){const n={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:Ye(n),headers:this.headers})}errorHandler(e,t,r,n){if(r)throw new ga(r,e,t);if(n instanceof ba)throw n;if(n)throw Error(n.message)}async fetchEndpoint(e,t){try{if(this.batchClient){const{error:r,result:n}=await this.batchClient.fetch(e,t,this.requestId+=1);return this.errorHandler(e,t,r),n}const r=await this.fetch(e,t,this.requestId+=1),{error:n,result:a}=await r.json();return this.errorHandler(e,t,n),a}catch(r){throw this.errorHandler(e,t,r?.response?.data,r),r}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){const e=await this.fetchEndpoint("starknet_specVersion");if(Yn(this.channelSpecVersion,e)||we.error(ye.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!Qn(e))throw new ba(`${ye.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=e}return this.specVersion}getNonceForAddress(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}getBlockWithTxs(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}getBlockWithReceipts(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:t})}getBlockStateUpdate(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}getBlockTransactionsTraces(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}getBlockTransactionCount(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}getTransactionByHash(e){const t=dt(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}getTransactionByBlockIdAndIndex(e,t){const r=new Ca(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:t})}getTransactionReceipt(e){const t=dt(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}getTransactionTrace(e){const t=dt(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}getTransactionStatus(e){const t=dt(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}simulateTransaction(e,t={}){const{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!0,skipFeeCharge:i=!0}=t,o=new Ca(r).identifier,s=[];return n&&s.push(a.gZ.SKIP_VALIDATE),i&&s.push(a.gZ.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:o,transactions:e.map((e=>this.buildTransaction(e))),simulation_flags:s})}async waitForTransaction(e,t){const r=dt(e);let{retries:n}=this,i=!1,o=!1;const s=t?.retryInterval??this.transactionRetryIntervalDefault,c=t?.errorStates??[a.zO.REJECTED],d=t?.successStates??[a.y5.SUCCEEDED,a.zO.ACCEPTED_ON_L2,a.zO.ACCEPTED_ON_L1];let u;for(;!i;){await _a(s);try{u=await this.getTransactionStatus(r);const e=u.execution_status,t=u.finality_status;if(!t)throw new Error("waiting for transaction status");if(c.includes(e)||c.includes(t)){const r=`${e}: ${t}`,n=new Error(r);throw n.response=u,o=!0,n}(d.includes(e)||d.includes(t))&&(i=!0)}catch(e){if(e instanceof Error&&o)throw e;if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1}let l=null;for(;null===l;){try{l=await this.getTransactionReceipt(r)}catch(e){if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1,await _a(s)}return l}getStorageAt(e,t,r=this.blockIdentifier){const n=dt(e),a=lt(t),i=new Ca(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:a,block_id:i})}getClassHashAt(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}getClass(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n})}getClassAt(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r})}async getEstimateFee(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!0}){const n=new Ca(t).identifier,i={simulation_flags:r?[a.gZ.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:e.map((e=>this.buildTransaction(e,"fee"))),block_id:n,...i})}async invoke(e,t){let r;return Gn(t)?(r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:a.xz.INVOKE,sender_address:e.contractAddress,calldata:nn.toHex(e.calldata),version:a.sF.V3,signature:ra(e.signature),nonce:dt(t.nonce),resource_bounds:t.resourceBounds,tip:dt(t.tip),paymaster_data:t.paymasterData.map((e=>dt(e))),account_deployment_data:t.accountDeploymentData.map((e=>dt(e))),nonce_data_availability_mode:t.nonceDataAvailabilityMode,fee_data_availability_mode:t.feeDataAvailabilityMode}}),Ze(!t.maxFee,(()=>{we.warn(ye.maxFeeInV3,{type:a.xz.INVOKE})}))):(r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:nn.toHex(e.calldata),type:a.xz.INVOKE,max_fee:dt(t.maxFee||0),version:a.sF.V1,signature:ra(e.signature),nonce:dt(t.nonce)}}),we.warn(ye.legacyTxWarningMessage,{version:a.sF.V1,type:a.xz.INVOKE})),this.waitMode?this.waitForTransaction((await r).transaction_hash):r}async declare({contract:e,signature:t,senderAddress:r,compiledClassHash:n},i){let o;if(fa(e)||Gn(i))if(fa(e)&&!Gn(i))o=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:a.xz.DECLARE,contract_class:{sierra_program:Zn(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:n||"",version:a.sF.V2,max_fee:dt(i.maxFee||0),signature:ra(t),sender_address:r,nonce:dt(i.nonce)}}),we.warn(ye.legacyTxWarningMessage,{version:a.sF.V2,type:a.xz.DECLARE});else{if(!fa(e)||!Gn(i))throw Error("declare unspotted parameters");o=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:a.xz.DECLARE,sender_address:r,compiled_class_hash:n||"",version:a.sF.V3,signature:ra(t),nonce:dt(i.nonce),contract_class:{sierra_program:Zn(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},resource_bounds:i.resourceBounds,tip:dt(i.tip),paymaster_data:i.paymasterData.map((e=>dt(e))),account_deployment_data:i.accountDeploymentData.map((e=>dt(e))),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}}),Ze(!i.maxFee,(()=>{we.warn(ye.maxFeeInV3,{type:a.xz.DECLARE})}))}else o=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:a.xz.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:a.sF.V1,max_fee:dt(i.maxFee||0),signature:ra(t),sender_address:r,nonce:dt(i.nonce)}}),we.warn(ye.legacyTxWarningMessage,{version:a.sF.V1,type:a.xz.DECLARE});return this.waitMode?this.waitForTransaction((await o).transaction_hash):o}async deployAccount({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},i){let o;return Gn(i)?(o=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:a.xz.DEPLOY_ACCOUNT,version:a.sF.V3,signature:ra(n),nonce:dt(i.nonce),contract_address_salt:dt(r||0),constructor_calldata:nn.toHex(t||[]),class_hash:dt(e),resource_bounds:i.resourceBounds,tip:dt(i.tip),paymaster_data:i.paymasterData.map((e=>dt(e))),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}}),Ze(!i.maxFee,(()=>{we.warn(ye.maxFeeInV3,{type:a.xz.DEPLOY_ACCOUNT})}))):(o=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:nn.toHex(t||[]),class_hash:dt(e),contract_address_salt:dt(r||0),type:a.xz.DEPLOY_ACCOUNT,max_fee:dt(i.maxFee||0),version:a.sF.V1,signature:ra(n),nonce:dt(i.nonce)}}),we.warn(ye.legacyTxWarningMessage,{version:a.sF.V1,type:a.xz.DEPLOY_ACCOUNT})),this.waitMode?this.waitForTransaction((await o).transaction_hash):o}callContract(e,t=this.blockIdentifier){const r=new Ca(t).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:kt(e.entrypoint),calldata:nn.toHex(e.calldata)},block_id:r})}estimateMessageFee(e,t=this.blockIdentifier){const{from_address:r,to_address:n,entry_point_selector:a,payload:i}=e,o={from_address:ya(r),to_address:dt(n),entry_point_selector:Ot(a),payload:wt(i)},s=new Ca(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:o,block_id:s})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}buildTransaction(e,t){const r=Pa(t);let n;if(Gn(e)?(n={signature:ra(e.signature),nonce:dt(e.nonce),resource_bounds:e.resourceBounds,tip:dt(e.tip),paymaster_data:e.paymasterData.map((e=>dt(e))),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode,account_deployment_data:e.accountDeploymentData.map((e=>dt(e)))},Ze(!e.maxFee,(()=>{we.warn(ye.maxFeeInV3,{type:e.type,versionType:t})}))):(n={signature:ra(e.signature),nonce:dt(e.nonce),max_fee:dt(e.maxFee||0)},we.warn(ye.legacyTxWarningMessage,{version:e.version,type:e.type})),e.type===Se.INVOKE)return{type:a.xz.INVOKE,sender_address:e.contractAddress,calldata:nn.toHex(e.calldata),version:dt(e.version||r.v3),...n};if(e.type===Se.DECLARE)return fa(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:Zn(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:dt(e.version||r.v3),...n}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:dt(e.version||r.v1),...n};if(e.type===Se.DEPLOY_ACCOUNT){const{account_deployment_data:t,...a}=n;return{type:e.type,constructor_calldata:nn.toHex(e.constructorCalldata||[]),class_hash:dt(e.classHash),contract_address_salt:dt(e.addressSalt||0),version:dt(e.version||r.v3),...a}}throw Error("RPC buildTransaction received unknown TransactionType")}},Da={};I(Da,{RpcChannel:()=>La});var Ba={headers:{"Content-Type":"application/json"},blockIdentifier:xe.PENDING,retries:200},La=class{id="RPC081";channelSpecVersion=pe.v0_8_1;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(e){const{baseFetch:t,batch:r,blockIdentifier:n,chainId:a,headers:i,nodeUrl:o,retries:s,specVersion:c,transactionRetryIntervalFallback:d,waitMode:u}=e||{};Object.values(le).includes(o)?this.nodeUrl=Ea(o,e?.default,this.channelSpecVersion):this.nodeUrl=o||Ea(void 0,e?.default,this.channelSpecVersion),this.baseFetch=t||ve.get("fetch")||va,this.blockIdentifier=n??Ba.blockIdentifier,this.chainId=a,this.headers={...Ba.headers,...i},this.retries=s??Ba.retries,this.specVersion=c,this.transactionRetryIntervalFallback=d,this.waitMode=u??!1,this.requestId=0,"number"==typeof r&&(this.batchClient=new Qe({nodeUrl:this.nodeUrl,headers:this.headers,interval:r,baseFetch:this.baseFetch})),we.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(e){this.chainId=e}fetch(e,t,r=0){const n={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:Ye(n),headers:this.headers})}errorHandler(e,t,r,n){if(r)throw new ga(r,e,t);if(n instanceof ba)throw n;if(n)throw Error(n.message)}async fetchEndpoint(e,t){try{if(this.batchClient){const{error:r,result:n}=await this.batchClient.fetch(e,t,this.requestId+=1);return this.errorHandler(e,t,r),n}const r=await this.fetch(e,t,this.requestId+=1),{error:n,result:a}=await r.json();return this.errorHandler(e,t,n),a}catch(r){throw this.errorHandler(e,t,r?.response?.data,r),r}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){const e=await this.fetchEndpoint("starknet_specVersion");if(Yn(this.channelSpecVersion,e)||we.error(ye.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!Qn(e))throw new ba(`${ye.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=e}return this.specVersion}getMessagesStatus(e){const t=dt(e);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:t})}getStorageProof(e=[],t=[],r=[],n=this.blockIdentifier){const a=new Ca(n).identifier,i=mt(e),o=mt(t);return this.fetchEndpoint("starknet_getStorageProof",{block_id:a,class_hashes:i,contract_addresses:o,contracts_storage_keys:r})}getCompiledCasm(e){const t=dt(e);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:t})}getNonceForAddress(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}getBlockWithTxs(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}getBlockWithReceipts(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:t})}getBlockStateUpdate(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}getBlockTransactionsTraces(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}getBlockTransactionCount(e=this.blockIdentifier){const t=new Ca(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}getTransactionByHash(e){const t=dt(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}getTransactionByBlockIdAndIndex(e,t){const r=new Ca(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:t})}getTransactionReceipt(e){const t=dt(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}getTransactionTrace(e){const t=dt(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}getTransactionStatus(e){const t=dt(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}simulateTransaction(e,t={}){const{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!0,skipFeeCharge:a=!0}=t,i=new Ca(r).identifier,s=[];return n&&s.push(o.gZ.SKIP_VALIDATE),a&&s.push(o.gZ.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:i,transactions:e.map((e=>this.buildTransaction(e))),simulation_flags:s})}async waitForTransaction(e,t){const r=dt(e);let{retries:n}=this,a=!1,i=!1;const s=t?.retryInterval??this.transactionRetryIntervalDefault,c=t?.errorStates??[o.zO.REJECTED],d=t?.successStates??[o.y5.SUCCEEDED,o.zO.ACCEPTED_ON_L2,o.zO.ACCEPTED_ON_L1];let u;for(;!a;){await _a(s);try{u=await this.getTransactionStatus(r);const e=u.execution_status,t=u.finality_status;if(!t)throw new Error("waiting for transaction status");if(c.includes(e)||c.includes(t)){const r=`${e}: ${t}`,n=new Error(r);throw n.response=u,i=!0,n}(d.includes(e)||d.includes(t))&&(a=!0)}catch(e){if(e instanceof Error&&i)throw e;if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1}let l=null;for(;null===l;){try{l=await this.getTransactionReceipt(r)}catch(e){if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1,await _a(s)}return l}getStorageAt(e,t,r=this.blockIdentifier){const n=dt(e),a=lt(t),i=new Ca(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:a,block_id:i})}getClassHashAt(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}getClass(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n})}getClassAt(e,t=this.blockIdentifier){const r=dt(e),n=new Ca(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r})}async getEstimateFee(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!0}){const n=new Ca(t).identifier,a={simulation_flags:r?[o.gZ.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:e.map((e=>this.buildTransaction(e,"fee"))),block_id:n,...a})}async invoke(e,t){let r;if(!Gn(t))throw Error(ye.legacyTxRPC08Message);if(!De(t.resourceBounds))throw Error(ye.SWOldV3);return r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:o.xz.INVOKE,sender_address:e.contractAddress,calldata:nn.toHex(e.calldata),version:o.sF.V3,signature:ra(e.signature),nonce:dt(t.nonce),resource_bounds:t.resourceBounds,tip:dt(t.tip),paymaster_data:t.paymasterData.map((e=>dt(e))),account_deployment_data:t.accountDeploymentData.map((e=>dt(e))),nonce_data_availability_mode:t.nonceDataAvailabilityMode,fee_data_availability_mode:t.feeDataAvailabilityMode}}),this.waitMode?this.waitForTransaction((await r).transaction_hash):r}async declare({contract:e,signature:t,senderAddress:r,compiledClassHash:n},a){let i;if(!fa(e)||!Gn(a))throw Error(ye.legacyTxRPC08Message);if(!De(a.resourceBounds))throw Error(ye.SWOldV3);return i=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:o.xz.DECLARE,sender_address:r,compiled_class_hash:n||"",version:o.sF.V3,signature:ra(t),nonce:dt(a.nonce),contract_class:{sierra_program:Zn(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},resource_bounds:a.resourceBounds,tip:dt(a.tip),paymaster_data:a.paymasterData.map((e=>dt(e))),account_deployment_data:a.accountDeploymentData.map((e=>dt(e))),nonce_data_availability_mode:a.nonceDataAvailabilityMode,fee_data_availability_mode:a.feeDataAvailabilityMode}}),this.waitMode?this.waitForTransaction((await i).transaction_hash):i}async deployAccount({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},a){let i;if(!Gn(a))throw Error(ye.legacyTxRPC08Message);if(!De(a.resourceBounds))throw Error(ye.SWOldV3);return i=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:o.xz.DEPLOY_ACCOUNT,version:o.sF.V3,signature:ra(n),nonce:dt(a.nonce),contract_address_salt:dt(r||0),constructor_calldata:nn.toHex(t||[]),class_hash:dt(e),resource_bounds:a.resourceBounds,tip:dt(a.tip),paymaster_data:a.paymasterData.map((e=>dt(e))),nonce_data_availability_mode:a.nonceDataAvailabilityMode,fee_data_availability_mode:a.feeDataAvailabilityMode}}),this.waitMode?this.waitForTransaction((await i).transaction_hash):i}callContract(e,t=this.blockIdentifier){const r=new Ca(t).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:kt(e.entrypoint),calldata:nn.toHex(e.calldata)},block_id:r})}estimateMessageFee(e,t=this.blockIdentifier){const{from_address:r,to_address:n,entry_point_selector:a,payload:i}=e,o={from_address:ya(r),to_address:dt(n),entry_point_selector:Ot(a),payload:wt(i)},s=new Ca(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:o,block_id:s})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}buildTransaction(e,t){const r=Pa(t);let n;if(!Gn(e))throw Error("v0,v1,v2 tx are not supported on RPC 0.8");if(n={signature:ra(e.signature),nonce:dt(e.nonce),resource_bounds:e.resourceBounds,tip:dt(e.tip),paymaster_data:e.paymasterData.map((e=>dt(e))),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode,account_deployment_data:e.accountDeploymentData.map((e=>dt(e)))},e.type===Se.INVOKE)return{type:o.xz.INVOKE,sender_address:e.contractAddress,calldata:nn.toHex(e.calldata),version:dt(r.v3),...n};if(e.type===Se.DECLARE){if(!fa(e.contract))throw we.error("Cairo 0 -  non Sierra v1 tx are not supported"),Error("Declaring non Sierra contract using RPC 0.8");return{type:e.type,contract_class:{...e.contract,sierra_program:Zn(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:dt(r.v3),...n}}if(e.type===Se.DEPLOY_ACCOUNT){const{account_deployment_data:t,...a}=n;return{type:e.type,constructor_calldata:nn.toHex(e.constructorCalldata||[]),class_hash:dt(e.classHash),contract_address_salt:dt(e.addressSalt||0),version:dt(r.v3),...a}}throw Error("RPC buildTransaction received unknown TransactionType")}},Fa=("undefined"!=typeof WebSocket&&WebSocket||"undefined"!=typeof globalThis&&globalThis.WebSocket||"undefined"!=typeof window&&window.WebSocket.bind(window)||"undefined"!=typeof global&&global.WebSocket,class{margin;constructor(e){this.margin=e}estimatedFeeToMaxFee(e){return na(e,this.margin?.maxFee)}estimateFeeToBounds(e){return aa(e,this.margin?.bounds)}parseGetBlockResponse(e){return e}parseTransactionReceipt(e){return e}parseFeeEstimateResponse(e){const t=e[0];return{overall_fee:st(t.overall_fee),unit:t.unit,l1_gas_consumed:ct(t.l1_gas_consumed)??ct(t.gas_consumed)??0n,l1_gas_price:ct(t.l1_gas_price)??ct(t.gas_price)??0n,l2_gas_consumed:ct(t.l2_gas_consumed)??void 0,l2_gas_price:ct(t.l2_gas_price)??void 0,l1_data_gas_consumed:ct(t.l1_data_gas_consumed)??ct(t.data_gas_consumed)??0n,l1_data_gas_price:ct(t.l1_data_gas_price)??ct(t.gas_price)??0n,suggestedMaxFee:this.estimatedFeeToMaxFee(t.overall_fee),resourceBounds:this.estimateFeeToBounds(t)}}parseFeeEstimateBulkResponse(e){return e.map((e=>({overall_fee:st(e.overall_fee),unit:e.unit,l1_gas_consumed:ct(e.l1_gas_consumed)??ct(e.gas_consumed)??0n,l1_gas_price:ct(e.l1_gas_price)??ct(e.gas_price)??0n,l2_gas_consumed:ct(e.l2_gas_consumed)??void 0,l2_gas_price:ct(e.l2_gas_price)??void 0,l1_data_gas_consumed:ct(e.l1_data_gas_consumed)??ct(e.data_gas_consumed)??0n,l1_data_gas_price:ct(e.l1_data_gas_price)??ct(e.gas_price)??0n,suggestedMaxFee:this.estimatedFeeToMaxFee(e.overall_fee),resourceBounds:this.estimateFeeToBounds(e)})))}parseSimulateTransactionResponse(e){return e.map((e=>({...e,suggestedMaxFee:this.estimatedFeeToMaxFee(e.fee_estimation.overall_fee),resourceBounds:this.estimateFeeToBounds(e.fee_estimation)})))}parseContractClassResponse(e){return{...e,abi:at(e.abi)?JSON.parse(e.abi):e.abi}}parseL1GasPriceResponse(e){return e.l1_gas_price.price_in_wei}}),Ua=class e{statusReceipt;value;constructor(t){[this.statusReceipt,this.value]=e.isSuccess(t)?["success",t]:e.isReverted(t)?["reverted",t]:["error",new Error("Unknown response type")];for(const[e]of Object.entries(this))Object.defineProperty(this,e,{enumerable:!1});for(const[e,r]of Object.entries(t))Object.defineProperty(this,e,{enumerable:!0,writable:!1,value:r})}match(e){return this.statusReceipt in e?e[this.statusReceipt](this.value):e._()}isSuccess(){return"success"===this.statusReceipt}isReverted(){return"reverted"===this.statusReceipt}isError(){return"error"===this.statusReceipt}static isSuccess(e){return e.execution_status===Ce.SUCCEEDED}static isReverted(e){return e.execution_status===Ce.REVERTED}},Va={};I(Va,{encodeData:()=>ti,encodeType:()=>Za,encodeValue:()=>ei,getDependencies:()=>Xa,getMessageHash:()=>ni,getStructHash:()=>ri,getTypeHash:()=>Ja,isMerkleTreeType:()=>Qa,prepareSelector:()=>Ya,validateTypedData:()=>Ga,verifyMessage:()=>ai}),I({},{MerkleTree:()=>ja,proofMerklePath:()=>za});var ja=class e{leaves;branches=[];root;hashMethod;constructor(e,t=Pn){this.hashMethod=t,this.leaves=e,this.root=this.build(e)}build(t){if(1===t.length)return t[0];t.length!==this.leaves.length&&this.branches.push(t);const r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(e.hash(t[n],"0x0",this.hashMethod)):r.push(e.hash(t[n],t[n+1],this.hashMethod));return this.build(r)}static hash(e,t,r=Pn){const[n,a]=[BigInt(e),BigInt(t)].sort(((e,t)=>e>=t?1:-1));return r(n,a)}getProof(t,r=this.leaves,n=[]){const a=r.indexOf(t);if(-1===a)throw new Error("leaf not found");if(1===r.length)return n;const i=a%2==0,o=(i?r[a+1]:r[a-1])??"0x0",s=[...n,o],c=this.leaves.length===r.length?-1:this.branches.findIndex((e=>e.length===r.length)),d=this.branches[c+1]??[this.root];return this.getProof(e.hash(i?t:o,i?o:t,this.hashMethod),d,s)}};function za(e,t,r,n=Pn){if(0===r.length)return e===t;const[a,...i]=r;return za(e,ja.hash(t,a,n),i,n)}var Ha={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},$a={[d.P.ACTIVE]:{domain:"StarknetDomain",hashMethod:Bn,hashMerkleMethod:Mn,escapeTypeString:e=>`"${e}"`,presetTypes:Ha},[d.P.LEGACY]:{domain:"StarkNetDomain",hashMethod:Dn,hashMerkleMethod:Pn,escapeTypeString:e=>e,presetTypes:{}}};function qa(e,t,{min:r,max:n}){const a=BigInt(e);Xe(a>=r&&a<=n,`${a} (${t}) is out of bounds [${r}, ${n}]`)}function Ka({types:e,domain:t}){return $a[d.P.ACTIVE].domain in e&&t.revision===d.P.ACTIVE?d.P.ACTIVE:$a[d.P.LEGACY].domain in e&&(t.revision??d.P.LEGACY)===d.P.LEGACY?d.P.LEGACY:void 0}function Wa(e){try{return dt(e)}catch(t){if(at(e))return dt(zt(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function Ga(e){const t=e;return Boolean(t.message&&t.primaryType&&t.types&&Ka(t))}function Ya(e){return ot(e)?e:kt(e)}function Qa(e){return"merkletree"===e.type}function Xa(e,t,r=[],n="",a=d.P.LEGACY){let i=[t];return"*"===t[t.length-1]?i=[t.slice(0,-1)]:a===d.P.ACTIVE&&("enum"===t?i=[n]:t.match(/^\(.*\)$/)&&(i=t.slice(1,-1).split(",").map((e=>"*"===e[e.length-1]?e.slice(0,-1):e)))),i.filter((t=>!r.includes(t)&&e[t])).reduce(((t,r)=>[...t,...[r,...e[r].reduce(((t,r)=>[...t,...Xa(e,r.type,t,r.contains,a).filter((e=>!t.includes(e)))]),[])].filter((e=>!t.includes(e)))]),[])}function Za(e,t,r=d.P.LEGACY){const n=r===d.P.ACTIVE?{...e,...$a[r].presetTypes}:e,[a,...i]=Xa(n,t,void 0,void 0,r),o=a?[a,...i.sort()]:[],s=$a[r].escapeTypeString;return o.map((e=>{const t=n[e].map((e=>{const t="enum"===e.type&&r===d.P.ACTIVE?e.contains:e.type,n=t.match(/^\(.*\)$/)?`(${t.slice(1,-1).split(",").map((e=>e?s(e):e)).join(",")})`:s(t);return`${s(e.name)}:${n}`}));return`${s(e)}(${t})`})).join("")}function Ja(e,t,r=d.P.LEGACY){return kt(Za(e,t,r))}function ei(e,t,r,n={},a=d.P.LEGACY){if(e[t])return[t,ri(e,t,r,a)];if($a[a].presetTypes[t])return[t,ri($a[a].presetTypes,t,r,a)];if(t.endsWith("*")){const n=r.map((r=>ei(e,t.slice(0,-1),r,void 0,a)[1]));return[t,$a[a].hashMethod(n)]}switch(t){case"enum":if(a===d.P.ACTIVE){const[i,o]=Object.entries(r)[0],s=e[n.parent].find((e=>e.name===n.key)),c=e[s.contains],d=c.find((e=>e.name===i)),u=c.indexOf(d),l=d.type.slice(1,-1).split(",").map(((t,r)=>{if(!t)return t;const n=o[r];return ei(e,t,n,void 0,a)[1]}));return[t,$a[a].hashMethod([u,...l])]}return[t,Wa(r)];case"merkletree":{const t=function(e,t){if(t.parent&&t.key){const r=e[t.parent].find((e=>e.name===t.key));if(!Qa(r))throw new Error(`${t.key} is not a merkle tree`);if(r.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return r.contains}return"raw"}(e,n),i=r.map((r=>ei(e,t,r,void 0,a)[1])),{root:o}=new ja(i,$a[a].hashMerkleMethod);return["felt",o]}case"selector":return["felt",Ya(r)];case"string":if(a===d.P.ACTIVE){const e=qt(r),n=[e.data.length,...e.data,e.pending_word,e.pending_word_len];return[t,$a[a].hashMethod(n)]}return[t,Wa(r)];case"i128":if(a===d.P.ACTIVE){const e=BigInt(r);return qa(e,t,re),[t,Wa(e<0n?X+e:e)]}return[t,Wa(r)];case"timestamp":case"u128":return a===d.P.ACTIVE&&qa(r,t,ne),[t,Wa(r)];case"felt":case"shortstring":return a===d.P.ACTIVE&&qa(Wa(r),t,te),[t,Wa(r)];case"ClassHash":case"ContractAddress":return a===d.P.ACTIVE&&qa(r,t,te),[t,Wa(r)];case"bool":return a===d.P.ACTIVE&&Xe(rt(r),`Type mismatch for ${t} ${r}`),[t,Wa(r)];default:if(a===d.P.ACTIVE)throw new Error(`Unsupported type: ${t}`);return[t,Wa(r)]}}function ti(e,t,r,n=d.P.LEGACY){const a=e[t]??$a[n].presetTypes[t],[i,o]=a.reduce((([a,i],o)=>{if(void 0===r[o.name]||null===r[o.name]&&"enum"!==o.type)throw new Error(`Cannot encode data: missing data for '${o.name}'`);const s=r[o.name],c={parent:t,key:o.name},[d,u]=ei(e,o.type,s,c,n);return[[...a,d],[...i,u]]}),[["felt"],[Ja(e,t,n)]]);return[i,o]}function ri(e,t,r,n=d.P.LEGACY){return $a[n].hashMethod(ti(e,t,r,n)[1])}function ni(e,t){if(!Ga(e))throw new Error("Typed data does not match JSON schema");const r=Ka(e),{domain:n,hashMethod:a}=$a[r];return a([zt("StarkNet Message"),ri(e.types,n,e.domain,r),t,ri(e.types,e.primaryType,e.message,r)])}function ai(e,t,r,n){const a=Ga(e);if(!Ct(e)&&!a)throw new Error("message has a wrong format.");if(a&&void 0===n)throw new Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(a&&!Ct(n))throw new Error("accountAddress shall be a BigNumberish");const i=a?ni(e,n):dt(e),o=Array.isArray(t)?new h.Signature(BigInt(t[0]),BigInt(t[1])):t,s=dt(r);return h.verify(o,i,s)}var ii=class{responseParser;channel;constructor(e){if(e&&"channel"in e)this.channel=e.channel,this.responseParser="responseParser"in e?e.responseParser:new Fa;else{if(e&&e.specVersion)if(Yn("0.8",e.specVersion))this.channel=new Da.RpcChannel({...e,waitMode:!1});else{if(!Yn("0.7",e.specVersion))throw new Error(`unsupported channel for spec version: ${e.specVersion}`);this.channel=new Ae.RpcChannel({...e,waitMode:!1})}else if(Yn("0.8",ve.get("rpcVersion")))this.channel=new Da.RpcChannel({...e,waitMode:!1});else{if(!Yn("0.7",ve.get("rpcVersion")))throw new Error("unable to define spec version for channel");this.channel=new Ae.RpcChannel({...e,waitMode:!1})}this.responseParser=new Fa(e?.feeMarginPercentage)}}static async create(e){const t=new Ae.RpcChannel({...e}),r=await t.getSpecVersion();if(Qn(r)||we.warn(`Using incompatible node spec version ${r}`),Yn("0.7",r))return new this({...e,specVersion:pe.v0_7_1});if(Yn("0.8",r))return new this({...e,specVersion:pe.v0_8_1});throw new ba(`Provided RPC node specification version ${r} is not compatible with the SDK. SDK supported RPC versions ${Object.keys(pe).toString()}`)}fetch(e,t,r=0){return this.channel.fetch(e,t,r)}async getChainId(){return this.channel.getChainId()}readSpecVersion(){return this.channel.readSpecVersion()}async getSpecVersion(){return this.channel.getSpecVersion()}setUpSpecVersion(){return this.channel.setUpSpecVersion()}async getNonceForAddress(e,t){return this.channel.getNonceForAddress(e,t)}async getBlock(e){return this.channel.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.channel.getBlockLatestAccepted()}async getBlockNumber(){return this.channel.getBlockNumber()}async getBlockWithTxHashes(e){return this.channel.getBlockWithTxHashes(e)}async getBlockWithTxs(e){return this.channel.getBlockWithTxs(e)}async waitForBlock(e="pending",t=5e3){if(e===xe.LATEST)return;const r=await this.getBlockNumber(),n=e===xe.PENDING?r+1:Number(dt(e));if(n<=r)return;const{retries:a}=this.channel;let i=a,o=!1;for(;!o;)if(await this.getBlockNumber()===n?o=!0:await _a(t),i-=1,i<=0)throw new Error(`waitForBlock() timed-out after ${a} tries.`)}async getL1GasPrice(e){return this.channel.getBlockWithTxHashes(e).then(this.responseParser.parseL1GasPriceResponse)}async getL1MessageHash(e){const t=await this.channel.getTransactionByHash(e);Xe("L1_HANDLER"===t.type,"This L2 transaction is not a L1 message.");const{calldata:r,contract_address:n,entry_point_selector:a,nonce:i}=t;return Nt([r[0],n,i,a,r.length-1,...r.slice(1)])}async getBlockWithReceipts(e){return this.channel.getBlockWithReceipts(e)}getStateUpdate=this.getBlockStateUpdate;async getBlockStateUpdate(e){return this.channel.getBlockStateUpdate(e)}async getBlockTransactionsTraces(e){return this.channel.getBlockTransactionsTraces(e)}async getBlockTransactionCount(e){return this.channel.getBlockTransactionCount(e)}async getTransaction(e){return this.channel.getTransactionByHash(e)}async getTransactionByHash(e){return this.channel.getTransactionByHash(e)}async getTransactionByBlockIdAndIndex(e,t){return this.channel.getTransactionByBlockIdAndIndex(e,t)}async getTransactionReceipt(e){const t=await this.channel.getTransactionReceipt(e),r=this.responseParser.parseTransactionReceipt(t);return new Ua(r)}async getTransactionTrace(e){return this.channel.getTransactionTrace(e)}async getTransactionStatus(e){return this.channel.getTransactionStatus(e)}async getSimulateTransaction(e,t){return this.channel.simulateTransaction(e,t).then((e=>this.responseParser.parseSimulateTransactionResponse(e)))}async waitForTransaction(e,t){const r=await this.channel.waitForTransaction(e,t);return new Ua(r)}async getStorageAt(e,t,r){return this.channel.getStorageAt(e,t,r)}async getClassHashAt(e,t){return this.channel.getClassHashAt(e,t)}async getClassByHash(e){return this.getClass(e)}async getClass(e,t){return this.channel.getClass(e,t).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,t){return this.channel.getClassAt(e,t).then(this.responseParser.parseContractClassResponse)}async getContractVersion(e,t,{blockIdentifier:r=this.channel.blockIdentifier,compiler:n=!0}={}){let a;if(e)a=await this.getClassAt(e,r);else{if(!t)throw Error("getContractVersion require contractAddress or classHash");a=await this.getClass(t,r)}return fa(a)?n?{cairo:"1",compiler:xr(a.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getInvokeEstimateFee(e,t,r,n){return this.channel.getEstimateFee([{type:Se.INVOKE,...e,...t}],{blockIdentifier:r,skipValidate:n}).then((e=>this.responseParser.parseFeeEstimateResponse(e)))}async getDeclareEstimateFee(e,t,r,n){return this.channel.getEstimateFee([{type:Se.DECLARE,...e,...t}],{blockIdentifier:r,skipValidate:n}).then((e=>this.responseParser.parseFeeEstimateResponse(e)))}async getDeployAccountEstimateFee(e,t,r,n){return this.channel.getEstimateFee([{type:Se.DEPLOY_ACCOUNT,...e,...t}],{blockIdentifier:r,skipValidate:n}).then((e=>this.responseParser.parseFeeEstimateResponse(e)))}async getEstimateFeeBulk(e,t){return this.channel.getEstimateFee(e,t).then((e=>this.responseParser.parseFeeEstimateBulkResponse(e)))}async invokeFunction(e,t){return this.channel.invoke(e,t)}async declareContract(e,t){return this.channel.declare(e,t)}async deployAccountContract(e,t){return this.channel.deployAccount(e,t)}async callContract(e,t){return this.channel.callContract(e,t)}async estimateMessageFee(e,t){return this.channel.estimateMessageFee(e,t)}async getSyncingStats(){return this.channel.getSyncingStats()}async getEvents(e){return this.channel.getEvents(e)}async verifyMessageInStarknet(e,t,r,n,a){const i=Ga(e);if(!Ct(e)&&!i)throw new Error("message has a wrong format.");if(!Ct(r))throw new Error("accountAddress shall be a BigNumberish");const o=i?ni(e,r):dt(e),s=n?[n]:["isValidSignature","is_valid_signature"],c=a||{okResponse:[],nokResponse:["0x0","0x00"],error:["argent/invalid-signature","is invalid, with respect to the public key","INVALID_SIG"]};let d;for(const e of s)try{const n=await this.callContract({contractAddress:dt(r),entrypoint:e,calldata:nn.compile({hash:st(o).toString(),signature:ea(t)})});if(c.nokResponse.includes(n[0].toString()))return!1;if(0===c.okResponse.length||c.okResponse.includes(n[0].toString()))return!0;throw Error("signatureVerificationResponse Error: response is not part of known responses")}catch(e){if(c.error.some((t=>e.message.includes(t))))return!1;d=e}throw Error(`Signature verification Error: ${d}`)}async isClassDeclared(e,t){let r;if(!e.classHash&&"contract"in e)r=function(e){const t={...e};if(fa(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=$n(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??Wn(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}(e).classHash;else{if(!e.classHash)throw Error("contractClassIdentifier type not satisfied");r=e.classHash}try{return await this.getClass(r,t)instanceof Object}catch(e){if(e instanceof ba)return!1;throw e}}async prepareInvocations(e){const t=[];for(const r of e)r.type===Se.DECLARE?await this.isClassDeclared("payload"in r?r.payload:r)||t.unshift(r):t.push(r);return t}async getL1MessagesStatus(e){if(this.channel instanceof Da.RpcChannel)return this.channel.getMessagesStatus(e);throw new ba("Unsupported method for RPC version")}async getStorageProof(e,t,r,n){if(this.channel instanceof Da.RpcChannel)return this.channel.getStorageProof(e,t,r,n);throw new ba("Unsupported method for RPC version")}async getCompiledCasm(e){if(this.channel instanceof Da.RpcChannel)return this.channel.getCompiledCasm(e);throw new ba("Unsupported method for RPC version")}};I({},{StarknetIdContract:()=>bi,StarknetIdIdentityContract:()=>mi,StarknetIdMulticallContract:()=>vi,StarknetIdPfpContract:()=>Ei,StarknetIdPopContract:()=>Ii,StarknetIdVerifierContract:()=>wi,dynamicCallData:()=>ki,dynamicFelt:()=>xi,execution:()=>Ti,getStarknetIdContract:()=>gi,getStarknetIdIdentityContract:()=>yi,getStarknetIdMulticallContract:()=>_i,getStarknetIdPfpContract:()=>Si,getStarknetIdPopContract:()=>Ci,getStarknetIdVerifierContract:()=>Ai,isStarkDomain:()=>Oi,useDecoded:()=>hi,useEncoded:()=>pi});var oi="abcdefghijklmnopqrstuvwxyz0123456789-",si=BigInt(oi.length+1),ci="",di=BigInt(oi.length),ui=BigInt(ci.length),li=BigInt(ci.length+1);function fi(e){let t=0;for(;e.endsWith(ci[ci.length-1]);)e=e.substring(0,e.length-1),t+=1;return[e,t]}function hi(e){let t="";return e.forEach((e=>{for(;e!==W;){const r=e%si;if(e/=si,r===BigInt(oi.length)){const r=e/li;if(r===W){const n=e%li;e=r,t+=n===W?oi[0]:ci[Number(n)-1]}else t+=ci[Number(e%ui)],e/=ui}else t+=oi[Number(r)]}const[r,n]=fi(t);n&&(t=r+(n%2==0?ci[ci.length-1].repeat(n/2-1)+ci[0]+oi[1]:ci[ci.length-1].repeat((n-1)/2+1))),t+="."})),t?t.concat("stark"):t}function pi(e){let t=BigInt(0),r=BigInt(1);if(e.endsWith(ci[0]+oi[1])){const[t,r]=fi(e.substring(0,e.length-2));e=t+ci[ci.length-1].repeat(2*(r+1))}else{const[t,r]=fi(e);r&&(e=t+ci[ci.length-1].repeat(1+2*(r-1)))}for(let n=0;n<e.length;n+=1){const a=e[n],i=oi.indexOf(a),o=BigInt(oi.indexOf(a));if(-1!==i)n===e.length-1&&e[n]===oi[0]?(t+=r*di,r*=si,r*=si):(t+=r*o,r*=si);else if(-1!==ci.indexOf(a)){t+=r*di,r*=si;const i=(n===e.length-1?1:0)+ci.indexOf(a);t+=r*BigInt(i),r*=ui}}return t}var bi={MAINNET:"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",TESTNET_SEPOLIA:"0x154bc2e1af9260b9e66af0e9c46fc757ff893b3ff6a85718a810baf1474"};function gi(e){switch(e){case fe.SN_MAIN:return bi.MAINNET;case fe.SN_SEPOLIA:return bi.TESTNET_SEPOLIA;default:throw new Error("Starknet.id is not yet deployed on this network")}}var mi={MAINNET:"0x05dbdedc203e92749e2e746e2d40a768d966bd243df04a6b712e222bc040a9af",TESTNET_SEPOLIA:"0x3697660a0981d734780731949ecb2b4a38d6a58fc41629ed611e8defda"};function yi(e){switch(e){case fe.SN_MAIN:return mi.MAINNET;case fe.SN_SEPOLIA:return mi.TESTNET_SEPOLIA;default:throw new Error("Starknet.id verifier contract is not yet deployed on this network")}}var vi="0x034ffb8f4452df7a613a0210824d6414dbadcddce6c6e19bf4ddc9e22ce5f970";function _i(e){switch(e){case fe.SN_MAIN:case fe.SN_SEPOLIA:return vi;default:throw new Error("Starknet.id multicall contract is not yet deployed on this network")}}var wi={MAINNET:"0x07d14dfd8ee95b41fce179170d88ba1f0d5a512e13aeb232f19cfeec0a88f8bf",TESTNET_SEPOLIA:"0x60B94fEDe525f815AE5E8377A463e121C787cCCf3a36358Aa9B18c12c4D566"};function Ai(e){switch(e){case fe.SN_MAIN:return wi.MAINNET;case fe.SN_SEPOLIA:return wi.TESTNET_SEPOLIA;default:throw new Error("Starknet.id verifier contract is not yet deployed on this network")}}var Ei={MAINNET:"0x070aaa20ec4a46da57c932d9fd89ca5e6bb9ca3188d3df361a32306aff7d59c7",TESTNET_SEPOLIA:"0x9e7bdb8dabd02ea8cfc23b1d1c5278e46490f193f87516ed5ff2dfec02"};function Si(e){switch(e){case fe.SN_MAIN:return Ei.MAINNET;case fe.SN_SEPOLIA:return Ei.TESTNET_SEPOLIA;default:throw new Error("Starknet.id profile picture verifier contract is not yet deployed on this network")}}var Ii={MAINNET:"0x0293eb2ba9862f762bd3036586d5755a782bd22e6f5028320f1d0405fd47bff4",TESTNET_SEPOLIA:"0x15ae88ae054caa74090b89025c1595683f12edf7a4ed2ad0274de3e1d4a"};function Ci(e){switch(e){case fe.SN_MAIN:return Ii.MAINNET;case fe.SN_SEPOLIA:return Ii.TESTNET_SEPOLIA;default:throw new Error("Starknet.id proof of personhood verifier contract is not yet deployed on this network")}}function Ti(e,t=void 0,r=void 0){return new Mr({Static:e,IfEqual:t?Nr(t[0],t[1],t[2]):void 0,IfNotEqual:r?Nr(r[0],r[1],r[2]):void 0})}function xi(e,t=void 0){return new Mr({Hardcoded:e,Reference:t?Nr(t[0],t[1]):void 0})}function ki(e,t=void 0,r=void 0){return new Mr({Hardcoded:e,Reference:t?Nr(t[0],t[1]):void 0,ArrayReference:r?Nr(r[0],r[1]):void 0})}function Oi(e){return/^(?:[a-z0-9-]{1,48}(?:[a-z0-9-]{1,48}[a-z0-9-])?\.)*[a-z0-9-]{1,48}\.stark$/.test(e)}function Ni(e){return new er(e).toBigInt()}function Pi(e){return er.is(e)}function Mi(e){return new er(e).toUint256HexString()}(0,v.Mixin)(ii,class e{async getStarkName(t,r){return e.getStarkName(this,t,r)}async getAddressFromStarkName(t,r){return e.getAddressFromStarkName(this,t,r)}async getStarkProfile(t,r,n,a,i,o,s){return e.getStarkProfile(this,t,r,n,a,i,o,s)}static async getStarkName(e,t,r){const n=await e.getChainId(),a=r??gi(n);try{const r=hi((await e.callContract({contractAddress:a,entrypoint:"address_to_domain",calldata:nn.compile({address:t,hint:[]})})).map((e=>BigInt(e))).slice(1));if(!r)throw Error("Starkname not found");return r}catch(e){if(e instanceof Error&&"Starkname not found"===e.message)throw e;throw Error("Could not get stark name")}}static async getAddressFromStarkName(e,t,r){const n=t.endsWith(".stark")?t:`${t}.stark`;if(!Oi(n))throw new Error("Invalid domain, must be a valid .stark domain");const a=await e.getChainId(),i=r??gi(a);try{const t=n.replace(".stark","").split(".").map((e=>pi(e).toString(10)));return(await e.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:nn.compile({domain:t,hint:[]})}))[0]}catch{throw Error("Could not get address from stark name")}}static async getStarkProfile(e,t,r,n,a,i,o,s){const c=await e.getChainId(),d=r??gi(c),u=n??yi(c),l=a??Ai(c),f=i??Si(c),h=o??Ci(c),p=s??_i(c);try{const r=[{execution:Ti({}),to:ki(d),selector:ki(kt("address_to_domain")),calldata:[ki(t),ki("0")]},{execution:Ti({}),to:xi(d),selector:xi(kt("domain_to_id")),calldata:[ki(void 0,void 0,[0,0])]},{execution:Ti({}),to:xi(u),selector:xi(kt("get_verifier_data")),calldata:[ki(void 0,[1,0]),ki(zt("twitter")),ki(l),ki("0")]},{execution:Ti({}),to:xi(u),selector:xi(kt("get_verifier_data")),calldata:[ki(void 0,[1,0]),ki(zt("github")),ki(l),ki("0")]},{execution:Ti({}),to:xi(u),selector:xi(kt("get_verifier_data")),calldata:[ki(void 0,[1,0]),ki(zt("discord")),ki(l),ki("0")]},{execution:Ti({}),to:xi(u),selector:xi(kt("get_verifier_data")),calldata:[ki(void 0,[1,0]),ki(zt("proof_of_personhood")),ki(h),ki("0")]},{execution:Ti({}),to:xi(u),selector:xi(kt("get_verifier_data")),calldata:[ki(void 0,[1,0]),ki(zt("nft_pp_contract")),ki(f),ki("0")]},{execution:Ti({}),to:xi(u),selector:xi(kt("get_extended_verifier_data")),calldata:[ki(void 0,[1,0]),ki(zt("nft_pp_id")),ki("2"),ki(f),ki("0")]},{execution:Ti(void 0,void 0,[6,0,0]),to:xi(void 0,[6,0]),selector:xi(kt("tokenURI")),calldata:[ki(void 0,[7,1]),ki(void 0,[7,2])]}],n=await e.callContract({contractAddress:p,entrypoint:"aggregate",calldata:nn.compile({calls:r})});if(Array.isArray(n)){const e=parseInt(n[0],16),t=[];let r=1;for(let a=0;a<e&&r<n.length;a+=1){const e=parseInt(n[r],16);r+=1;const a=n.slice(r,r+e);t.push(a),r+=e}const a=hi(t[0].slice(1).map((e=>BigInt(e)))),i="0x0"!==t[2][0]?BigInt(t[2][0]).toString():void 0,o="0x0"!==t[3][0]?BigInt(t[3][0]).toString():void 0,s="0x0"!==t[4][0]?BigInt(t[4][0]).toString():void 0,c="0x1"===t[5][0];return{name:a,twitter:i,github:o,discord:s,proofOfPersonhood:c,profilePicture:("0x9"===n[0]?t[8].slice(1).map((e=>Ht(e))).join(""):void 0)||`https://starknet.id/api/identicons/${BigInt(t[1][0]).toString()}`}}throw Error("Error while calling aggregate function")}catch(e){if(e instanceof Error)throw e;throw Error("Could not get user stark profile data from address")}}}),new ii({default:!0}),I({},{bnToUint256:()=>Mi,isUint256:()=>Pi,uint256ToBN:()=>Ni});var Ri=class{transporter;_transporter;accountID;eip2645applicationName;pathBuffer;appVersion;pubKey;fullPubKey;constructor(e,t,r="LedgerW",n=Di){Xe(t>=0,"Ledger account ID shall not be a negative number."),Xe(t<=Y,"Ledger account ID shall be < 2**31."),Xe(!!r,"Ledger application name shall not be empty."),this.transporter=e,this._transporter=this.transporter,this.accountID=t,this.pubKey="",this.fullPubKey="",this.eip2645applicationName=r,this.appVersion="",this.pathBuffer=n(this.accountID,this.eip2645applicationName)}async getPubKey(){return this.pubKey||await this.getPublicKeys(),this.pubKey}async getFullPubKey(){return this.fullPubKey||await this.getPublicKeys(),this.fullPubKey}async getAppVersion(){if(!this.appVersion){const e=await this._transporter.send(Number("0x5a"),0,0,0);this.appVersion=`${e[0]}.${e[1]}.${e[2]}`}return this.appVersion}async signMessage(e,t){const r=ni(e,t);return this.signRaw(r)}async signTransaction(e,t){const r=Oa(e,t.cairoVersion);let n;if(Object.values(T.ETransactionVersion2).includes(t.version)){const e=t;n=kn({...e,senderAddress:e.walletAddress,compiledCalldata:r,version:e.version})}else{if(!Object.values(T.ETransactionVersion3).includes(t.version))throw Error("unsupported signTransaction version");{const e=t;n=kn({...e,senderAddress:e.walletAddress,compiledCalldata:r,version:e.version,nonceDataAvailabilityMode:oa(e.nonceDataAvailabilityMode),feeDataAvailabilityMode:oa(e.feeDataAvailabilityMode)})}}return this.signRaw(n)}async signDeployAccountTransaction(e){const t=nn.compile(e.constructorCalldata);let r;if(Object.values(T.ETransactionVersion2).includes(e.version)){const n=e;r=Nn({...n,salt:n.addressSalt,constructorCalldata:t,version:n.version})}else{if(!Object.values(T.ETransactionVersion3).includes(e.version))throw Error("unsupported signDeployAccountTransaction version");{const n=e;r=Nn({...n,salt:n.addressSalt,compiledConstructorCalldata:t,version:n.version,nonceDataAvailabilityMode:oa(n.nonceDataAvailabilityMode),feeDataAvailabilityMode:oa(n.feeDataAvailabilityMode)})}}return this.signRaw(r)}async signDeclareTransaction(e){let t;if(Object.values(T.ETransactionVersion2).includes(e.version)){const r=e;t=On({...r,version:r.version})}else{if(!Object.values(T.ETransactionVersion3).includes(e.version))throw Error("unsupported signDeclareTransaction version");{const r=e;t=On({...r,version:r.version,nonceDataAvailabilityMode:oa(r.nonceDataAvailabilityMode),feeDataAvailabilityMode:oa(r.feeDataAvailabilityMode)})}}return this.signRaw(t)}async signRaw(e){F(B(await this._transporter.send(Number("0x5a"),2,0,0,_.from(this.pathBuffer))));const t=Et(dt(BigInt(e)<<4n)),r=Uint8Array.from(await this._transporter.send(Number("0x5a"),2,1,0,_.from(t))),n=BigInt(F(B(r.subarray(1,33)))),a=BigInt(F(B(r.subarray(33,65)))),i=r[65];return new h.Signature(n,a).addRecoveryBit(i)}async getPublicKeys(){const e=this.pathBuffer,t=Uint8Array.from(await this._transporter.send(Number("0x5a"),1,0,0,_.from(e)));this.pubKey=F(B(t.subarray(1,33))),this.fullPubKey=F(B(t.subarray(0,65)))}};function Di(e,t="LedgerW"){return $([new Uint8Array([128,0,10,85]),new Uint8Array([71,65,233,201]),"LedgerW"===t?new Uint8Array([43,206,231,219]):It(t),new Uint8Array([0,0,0,0]),Et(F(L(dt(e)).padStart(8,"0"))),new Uint8Array([0,0,0,0])])}function Bi(e){const t=dt(at(e)?F(e):e);return F(L(t).padStart(64,"0"))}var Li=class extends Ri{constructor(e,t,r="LedgerW",n=Fi){super(e,t,r,n)}async signTransaction(e,t){const r=Oa(e,t.cairoVersion);if(Object.values(T.ETransactionVersion2).includes(t.version)){const n=t,a=kn({...n,senderAddress:n.walletAddress,compiledCalldata:r,version:n.version}),i=await this.signTxV1(n,e);return Xe(st(a)===i.hash,"The V1 transaction hash calculated by Starknet.js is different from the one calculated by the Ledger."),i.signature}if(Object.values(T.ETransactionVersion3).includes(t.version)){const n=t,a=kn({...n,senderAddress:n.walletAddress,compiledCalldata:r,version:n.version,nonceDataAvailabilityMode:oa(n.nonceDataAvailabilityMode),feeDataAvailabilityMode:oa(n.feeDataAvailabilityMode)}),i=await this.signTxV3(n,e);return Xe(st(a)===i.hash,"The V3 transaction hash calculated by Starknet.js is different from the one calculated by the Ledger."),i.signature}throw Error("unsupported signTransaction version")}async signDeployAccountTransaction(e){const t=nn.compile(e.constructorCalldata);let r;if(Object.values(T.ETransactionVersion2).includes(e.version)){const n=e;r=Nn({...n,salt:n.addressSalt,constructorCalldata:t,version:n.version});const a=await this.signDeployAccountV1(n);return Xe(st(r)===a.hash,"The transaction hash calculated by Starknet.js is different from the one calculated by the Ledger."),a.signature}if(Object.values(T.ETransactionVersion3).includes(e.version)){const n=e;r=Nn({...n,salt:n.addressSalt,compiledConstructorCalldata:t,version:n.version,nonceDataAvailabilityMode:oa(n.nonceDataAvailabilityMode),feeDataAvailabilityMode:oa(n.feeDataAvailabilityMode)});const a=await this.signDeployAccountV3(n);return Xe(st(r)===a.hash,"The transaction hash calculated by Starknet.js is different from the one calculated by the Ledger."),a.signature}throw Error("unsupported signDeployAccountTransaction version")}convertBnToLedger(e){return Et(Bi(dt(e)))}decodeSignatureLedger(e){const t=BigInt(F(B(e.subarray(0,32)))),r=BigInt(F(B(e.subarray(33,65)))),n=BigInt(F(B(e.subarray(65,97)))),a=e[97];return{hash:t,signature:new h.Signature(r,n).addRecoveryBit(a)}}encodeCall(e){const t=this.convertBnToLedger(e.contractAddress),r=Et(Bi(Ot(e.entrypoint)));let n=new Uint8Array([]);e.calldata&&(n=$(nn.compile(e.calldata).map((e=>this.convertBnToLedger(e)))));const a=$([t,r,n]),i=[];for(let e=0;e<a.length;e+=224)i.push(a.subarray(e,e+224));return i}async signTxV1(e,t){await this._transporter.send(Number("0x5a"),4,0,0,_.from(this.pathBuffer));const r=$([this.convertBnToLedger(e.walletAddress),this.convertBnToLedger(e.maxFee),this.convertBnToLedger(e.chainId),this.convertBnToLedger(e.nonce)]);await this._transporter.send(Number("0x5a"),4,1,0,_.from(r));const n=this.convertBnToLedger(t.length);await this._transporter.send(Number("0x5a"),4,2,0,_.from(n));let a=new Uint8Array(0);for(const e of t){const t=this.encodeCall(e);await this._transporter.send(Number("0x5a"),4,3,0,_.from(t[0])),t.length>1&&t.slice(1).forEach((async e=>{await this._transporter.send(Number("0x5a"),4,3,1,_.from(e))})),a=await this._transporter.send(Number("0x5a"),4,3,2)}return this.decodeSignatureLedger(a)}async signTxV3(e,t){Xe(e.paymasterData.length<=7,"Paymaster data includes more than 7 items."),Xe(e.accountDeploymentData.length<=7,"accountDeploymentData includes more than 7 items"),await this._transporter.send(Number("0x5a"),3,0,0,_.from(this.pathBuffer));const r=this.convertBnToLedger(e.walletAddress),n=this.convertBnToLedger(e.tip),a=this.convertBnToLedger(e.chainId),i=this.convertBnToLedger(e.nonce),o=this.convertBnToLedger(vn(e.nonceDataAvailabilityMode===T.EDataAvailabilityMode.L1?T.EDAMode.L1:T.EDAMode.L2,e.feeDataAvailabilityMode===T.EDataAvailabilityMode.L1?T.EDAMode.L1:T.EDAMode.L2)),s=$([r,n,this.convertBnToLedger(_n(e.resourceBounds)),this.convertBnToLedger(wn(e.resourceBounds)),a,i,o]);await this._transporter.send(Number("0x5a"),3,1,0,_.from(s));const c=$(e.paymasterData.map((e=>this.convertBnToLedger(e))));await this._transporter.send(Number("0x5a"),3,2,0,_.from(c));const d=$(e.paymasterData.map((e=>this.convertBnToLedger(e))));await this._transporter.send(Number("0x5a"),3,3,0,_.from(d));const u=this.convertBnToLedger(t.length);await this._transporter.send(Number("0x5a"),3,4,0,_.from(u));let l=new Uint8Array(0);for(const e of t){const t=this.encodeCall(e);await this._transporter.send(Number("0x5a"),3,5,0,_.from(t[0])),t.length>1&&t.slice(1).forEach((async e=>{await this._transporter.send(Number("0x5a"),3,5,1,_.from(e))})),l=await this._transporter.send(Number("0x5a"),3,5,2)}return this.decodeSignatureLedger(l)}async signDeployAccountV1(e){await this._transporter.send(Number("0x5a"),6,0,0,_.from(this.pathBuffer));const t=$([this.convertBnToLedger(e.contractAddress),this.convertBnToLedger(e.classHash),this.convertBnToLedger(e.addressSalt),this.convertBnToLedger(e.chainId),this.convertBnToLedger(e.nonce)]);await this._transporter.send(Number("0x5a"),6,1,0,_.from(t));const r=this.convertBnToLedger(e.maxFee);await this._transporter.send(Number("0x5a"),6,2,0,_.from(r));const n=nn.compile(e.constructorCalldata),a=this.convertBnToLedger(n.length);await this._transporter.send(Number("0x5a"),6,3,0,_.from(a));const i=$(n.map((e=>this.convertBnToLedger(e)))),o=[];for(let e=0;e<i.length;e+=224)o.push(i.subarray(e,e+224));let s=new Uint8Array(0);for(const e of o)s=await this._transporter.send(Number("0x5a"),6,4,0,_.from(e));return this.decodeSignatureLedger(s)}async signDeployAccountV3(e){await this._transporter.send(Number("0x5a"),5,0,0,_.from(this.pathBuffer));const t=$([this.convertBnToLedger(e.contractAddress),this.convertBnToLedger(e.chainId),this.convertBnToLedger(e.nonce),this.convertBnToLedger(vn(e.nonceDataAvailabilityMode===T.EDataAvailabilityMode.L1?T.EDAMode.L1:T.EDAMode.L2,e.feeDataAvailabilityMode===T.EDataAvailabilityMode.L1?T.EDAMode.L1:T.EDAMode.L2)),this.convertBnToLedger(e.classHash),this.convertBnToLedger(e.addressSalt)]);await this._transporter.send(Number("0x5a"),5,1,0,_.from(t));const r=$([this.convertBnToLedger(e.tip),this.convertBnToLedger(_n(e.resourceBounds)),this.convertBnToLedger(wn(e.resourceBounds))]);await this._transporter.send(Number("0x5a"),5,2,0,_.from(r));const n=$(e.paymasterData.map((e=>this.convertBnToLedger(e))));await this._transporter.send(Number("0x5a"),5,3,0,_.from(n));const a=nn.compile(e.constructorCalldata),i=this.convertBnToLedger(a.length);await this._transporter.send(Number("0x5a"),5,4,0,_.from(i));const o=$(a.map((e=>this.convertBnToLedger(e)))),s=[];for(let e=0;e<o.length;e+=224)s.push(o.subarray(e,e+224));let c=new Uint8Array(0);for(const e of s)c=await this._transporter.send(Number("0x5a"),5,5,0,_.from(e));return this.decodeSignatureLedger(c)}};function Fi(e,t="LedgerW"){const r=new Uint8Array([ce,0,10,85]),n=new Uint8Array([71|ce,65,233,201]),a="LedgerW"===t?new Uint8Array([43,206,231,219]):It(t),i=$([new Uint8Array([a[0]|ce]),a.subarray(1)]);return $([r,n,i,new Uint8Array([ce,0,0,0]),Et(F(L(dt(BigInt(e)|de)).padStart(8,"0"))),new Uint8Array([0,0,0,0])])}var Ui=class extends Li{constructor(e,t,r="LedgerW",n=Fi){super(e,t,r,n)}async signTxV1(e,t){await this._transporter.send(Number("0x5a"),4,0,0,_.from(this.pathBuffer));const r=$([this.convertBnToLedger(e.walletAddress),this.convertBnToLedger(e.maxFee),this.convertBnToLedger(e.chainId),this.convertBnToLedger(e.nonce)]);await this._transporter.send(Number("0x5a"),4,1,0,_.from(r));const n=this.convertBnToLedger(t.length);await this._transporter.send(Number("0x5a"),4,2,0,_.from(n));let a=new Uint8Array(0);for(const e of t){const t=this.encodeCall(e);a=await this._transporter.send(Number("0x5a"),4,3,0,_.from(t[0])),t.length>1&&t.slice(1).forEach((async e=>{a=await this._transporter.send(Number("0x5a"),4,3,1,_.from(e))}))}return this.decodeSignatureLedger(a)}async signTxV3(e,t){Xe(e.paymasterData.length<=7,"Paymaster data includes more than 7 items."),Xe(e.accountDeploymentData.length<=7,"accountDeploymentData includes more than 7 items"),await this._transporter.send(Number("0x5a"),3,0,0,_.from(this.pathBuffer));const r=$([this.convertBnToLedger(e.walletAddress),this.convertBnToLedger(e.chainId),this.convertBnToLedger(e.nonce),this.convertBnToLedger(vn(oa(e.nonceDataAvailabilityMode),oa(e.feeDataAvailabilityMode)))]);if(await this._transporter.send(Number("0x5a"),3,1,0,_.from(r)),De(e.resourceBounds)){const t=$([this.convertBnToLedger(e.tip),this.convertBnToLedger(_n(e.resourceBounds)),this.convertBnToLedger(wn(e.resourceBounds)),this.convertBnToLedger(An(e.resourceBounds))]);await this._transporter.send(Number("0x5a"),3,2,0,_.from(t))}else{const t=$([this.convertBnToLedger(e.tip),this.convertBnToLedger(_n(e.resourceBounds)),this.convertBnToLedger(wn(e.resourceBounds))]);await this._transporter.send(Number("0x5a"),3,2,0,_.from(t))}const n=$(e.paymasterData.map((e=>this.convertBnToLedger(e))));await this._transporter.send(Number("0x5a"),3,3,0,_.from(n));const a=$(e.paymasterData.map((e=>this.convertBnToLedger(e))));await this._transporter.send(Number("0x5a"),3,4,0,_.from(a));const i=this.convertBnToLedger(t.length);await this._transporter.send(Number("0x5a"),3,5,0,_.from(i));let o=new Uint8Array(0);for(const e of t){const t=this.encodeCall(e);o=await this._transporter.send(Number("0x5a"),3,6,0,_.from(t[0])),t.length>1&&t.slice(1).forEach((async e=>{o=await this._transporter.send(Number("0x5a"),3,6,1,_.from(e))}))}return this.decodeSignatureLedger(o)}async signDeployAccountV1(e){await this._transporter.send(Number("0x5a"),6,0,0,_.from(this.pathBuffer));const t=$([this.convertBnToLedger(e.contractAddress),this.convertBnToLedger(e.classHash),this.convertBnToLedger(e.addressSalt),this.convertBnToLedger(e.maxFee),this.convertBnToLedger(e.chainId),this.convertBnToLedger(e.nonce)]);await this._transporter.send(Number("0x5a"),6,1,0,_.from(t));const r=nn.compile(e.constructorCalldata),n=this.convertBnToLedger(r.length);await this._transporter.send(Number("0x5a"),6,2,0,_.from(n));const a=$(r.map((e=>this.convertBnToLedger(e)))),i=[];for(let e=0;e<a.length;e+=224)i.push(a.subarray(e,e+224));let o=new Uint8Array(0);for(const e of i)o=await this._transporter.send(Number("0x5a"),6,3,0,_.from(e));return this.decodeSignatureLedger(o)}async signDeployAccountV3(e){await this._transporter.send(Number("0x5a"),5,0,0,_.from(this.pathBuffer));const t=$([this.convertBnToLedger(e.contractAddress),this.convertBnToLedger(e.chainId),this.convertBnToLedger(e.nonce),this.convertBnToLedger(vn(oa(e.nonceDataAvailabilityMode),oa(e.feeDataAvailabilityMode))),this.convertBnToLedger(e.classHash),this.convertBnToLedger(e.addressSalt)]);if(await this._transporter.send(Number("0x5a"),5,1,0,_.from(t)),De(e.resourceBounds)){const t=$([this.convertBnToLedger(e.tip),this.convertBnToLedger(_n(e.resourceBounds)),this.convertBnToLedger(wn(e.resourceBounds)),this.convertBnToLedger(An(e.resourceBounds))]);await this._transporter.send(Number("0x5a"),5,2,0,_.from(t))}else{const t=$([this.convertBnToLedger(e.tip),this.convertBnToLedger(_n(e.resourceBounds)),this.convertBnToLedger(wn(e.resourceBounds))]);await this._transporter.send(Number("0x5a"),5,2,0,_.from(t))}const r=$(e.paymasterData.map((e=>this.convertBnToLedger(e))));await this._transporter.send(Number("0x5a"),5,3,0,_.from(r));const n=nn.compile(e.constructorCalldata),a=this.convertBnToLedger(n.length);await this._transporter.send(Number("0x5a"),5,4,0,_.from(a));const i=$(n.map((e=>this.convertBnToLedger(e)))),o=[];for(let e=0;e<i.length;e+=224)o.push(i.subarray(e,e+224));let s=new Uint8Array(0);for(const e of o)s=await this._transporter.send(Number("0x5a"),5,5,0,_.from(e));return this.decodeSignatureLedger(s)}encodeCall(e){const t=this.convertBnToLedger(e.contractAddress),r=Et(Bi(Ot(e.entrypoint)));let n=new Uint8Array([]);if(e.calldata){const t=nn.compile(e.calldata);n=$([this.convertBnToLedger(t.length),...t.map((e=>this.convertBnToLedger(e)))])}else n=this.convertBnToLedger("0x00");const a=$([t,r,n]),i=[];for(let e=0;e<a.length;e+=224)i.push(a.subarray(e,e+224));return i}};function Vi(e){return"event"===e.type}function ji(e){const t=e.filter((e=>Vi(e)&&"struct"===e.kind)),r=e.filter((e=>Vi(e)&&"enum"===e.kind));return t.reduce(((e,t)=>{let n=[],{name:a}=t,i=!1;const o=e=>e.type===a;for(;;){const e=r.find((e=>e.variants.some(o)));if(et(e))break;const t=e.variants.find(o);n.unshift(t.name),"flat"===t.kind&&(i=!0),a=e.name}if(0===n.length)throw new Error("inconsistency in ABI events definition.");i&&(n=[n[n.length-1]]);const s=n.pop();let c={[F(h.keccak(M(s)).toString(16))]:t};for(;n.length>0;)c={[F(h.keccak(M(n.pop())).toString(16))]:c};return c={...c},Hi(e,c)}),{})}function zi(e){return Cr(e)?ji(e):function(e){return e.filter((e=>"event"===e.type)).reduce(((e,t)=>{const r=t.name,n={...t};return n.name=r,{...e,[F(h.keccak(M(r)).toString(16))]:n}}),{})}(e)}function Hi(e,t){const r={...e};return it(e)&&it(t)&&Object.keys(t).forEach((n=>{it(t[n])?n in e?r[n]=Hi(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})})),r}function $i(e,t,r,n){return e.flat().reduce(((e,a)=>{const i=JSON.parse(JSON.stringify(a));let o=t[i.keys.shift()??0];if(!o)return e;for(;!o.name;){const e=i.keys.shift();Xe(!!e,'Not enough data in "keys" property of this event.'),o=o[e]}const s={};s[o.name]={};const c=i.keys[Symbol.iterator](),d=i.data[Symbol.iterator](),u=o.members?.filter((e=>"key"===e.kind))||o.keys,l=o.members?.filter((e=>"data"===e.kind))||o.data;return u.forEach((e=>{s[o.name][e.name]=Gr(c,e,r,n,s[o.name])})),l.forEach((e=>{s[o.name][e.name]=Gr(d,e,r,n,s[o.name])})),"block_hash"in i&&(s.block_hash=i.block_hash),"block_number"in i&&(s.block_number=i.block_number),"transaction_hash"in i&&(s.transaction_hash=i.transaction_hash),e.push(s),e}),[])}function qi(e){if(!e.events?.length)throw new Error("UDC emitted event is empty");const t=e.events.find((e=>pt(e.from_address)===pt(ae.ADDRESS)))||{data:[]};return{transaction_hash:e.transaction_hash,contract_address:t.data[0],address:t.data[0],deployer:t.data[1],unique:t.data[2],classHash:t.data[3],calldata_len:t.data[4],calldata:t.data.slice(5,5+parseInt(t.data[4],16)),salt:t.data[t.data.length-1]}}function Ki(e){return"calldata_len"in e?{To:e.to,Selector:e.selector,Calldata:e.calldata}:e}function Wi(e){const t=e.calldata??[],r=Array.isArray(t)?t:nn.compile(t);return{to:e.contractAddress,selector:kt(e.entrypoint),calldata:r}}function Gi(e,t){const r=Wi(e);return"1"===t?{...r,calldata_len:r.calldata.length,calldata:r.calldata}:{To:r.to,Selector:r.selector,Calldata:r.calldata}}function Yi(e,t){return{name:"Account.execute_from_outside",version:t,chainId:e,..."2"===t?{revision:"1"}:{}}}function Qi(e,t,r,n,a){return"1"===a?{types:He,primaryType:"OutsideExecution",domain:Yi(e,a),message:{...t,nonce:r,calls_len:n.length,calls:n.map((e=>Gi(e,a)))}}:{types:$e,primaryType:"OutsideExecution",domain:Yi(e,a),message:{Caller:t.caller,Nonce:r,"Execute After":t.execute_after,"Execute Before":t.execute_before,Calls:n.map((e=>Gi(e,a)))}}}function Xi(e){const t=e.outsideExecution,r=ea(e.signature);return nn.compile({outside_execution:t,signature:r})}function Zi(e){return(Array.isArray(e)?e:[e]).map((e=>{let t;if(e.version===qe.V1)t="execute_from_outside";else{if(e.version!==qe.V2)throw new Error("Unsupported OutsideExecution version");t="execute_from_outside_v2"}return{contractAddress:dt(e.signerAddress),entrypoint:t,calldata:Xi(e)}}))}async function Ji(e,t,r){const n={contractAddress:dt(t),entrypoint:"supports_interface",calldata:[dt(r)]};try{const t=await e.callContract(n);return 0n!==BigInt(t[0])}catch{return!1}}I({},{getAbiEvents:()=>zi,isAbiEvent:()=>Vi,parseEvents:()=>$i,parseUDCEvent:()=>qi}),I({},{buildExecuteFromOutsideCall:()=>Zi,buildExecuteFromOutsideCallData:()=>Xi,getOutsideCall:()=>Wi,getTypedData:()=>Qi,toOutsideCallV2:()=>Ki}),I({},{supportsInterface:()=>Ji}),I({},{assertCallsAreStrictlyEqual:()=>to,assertPaymasterTransactionSafety:()=>ro,getDefaultPaymasterNodeUrl:()=>eo});var eo=(e,t=!1)=>{t||we.info("Using default public node url, please provide nodeUrl in provider options!");const r=me[e??le.SN_SEPOLIA];return r[Math.floor(Math.random()*r.length)]};function to(e,t){const r="Provided calls are not strictly equal to the returned calls";Xe(t.length-1===e.length,`${r}: Expected ${e.length+1} calls, got ${t.length}`);for(let n=0;n<e.length;n+=1){const a=e[n],i=Ki(t[n]),o=e=>st(e).toString(16).toLowerCase();Xe(o(a.contractAddress)===o(i.To),`${r}: Contract address mismatch at call ${n}. Expected: ${a.contractAddress}, Got: ${i.To}`),Xe(kt(a.entrypoint)===i.Selector,`${r}: Entrypoint mismatch at call ${n}. Expected: ${a.entrypoint}, Got: ${i.Selector}`);const s=nn.toCalldata(a.calldata),c=nn.toCalldata(i.Calldata);Xe(s.length===c.length,`${r}: Calldata length mismatch at call ${n}. Expected length: ${s.length}, Got length: ${c.length}`);for(let e=0;e<s.length;e+=1)Xe(BigInt(s[e])===BigInt(c[e]),`${r}: Calldata value mismatch at call ${n}, parameter ${e}. Expected: ${s[e]}, Got: ${c[e]}`)}}var ro=(e,t,r,n)=>{if("sponsored"!==r.feeMode.mode&&("invoke"===e.type||"deploy_and_invoke"===e.type)){const a="calls"in e.typed_data.message?e.typed_data.message.calls:e.typed_data.message.Calls;to(t,a),((e,t)=>{const r=Ki(e[e.length-1]);Xe(BigInt(r.To)===BigInt(t),"Gas token address is not equal to the provided gas token")})(a,r.feeMode.gasToken),n&&(Xe(e.fee.suggested_max_fee_in_gas_token<=n,"Gas token price is too high"),((e,t)=>{const r=Ki(e[e.length-1]),n=nn.toCalldata(r.Calldata)[1];Xe(BigInt(n)===BigInt(t),"Gas token value is not equal to the provided gas fees")})(a,e.fee.suggested_max_fee_in_gas_token))}},no=e=>"sponsored"===e.mode?{mode:"sponsored"}:{mode:"default",gas_token:e.gasToken},ao=e=>e&&e.executeAfter&&e.executeBefore?{execute_after:e.executeAfter.getTime().toString(),execute_before:e.executeBefore.getTime().toString()}:void 0,io=e=>{return{version:e.version,feeMode:(r=e.fee_mode,"sponsored"===r.mode?{mode:"sponsored"}:{mode:"default",gasToken:r.gas_token}),timeBounds:(t=e.time_bounds,t&&t.execute_after&&t.execute_before?{executeAfter:new Date(t.execute_after),executeBefore:new Date(t.execute_before)}:void 0)};var t,r},oo={"Content-Type":"application/json"};function so(e,t=!1){return e.request({type:"wallet_requestAccounts",params:{silent_mode:t}})}function co(e){return e.request({type:"wallet_getPermissions"})}function uo(e,t){return e.request({type:"wallet_watchAsset",params:t})}function lo(e,t){return e.request({type:"wallet_addStarknetChain",params:t})}function fo(e,t){return e.request({type:"wallet_switchStarknetChain",params:{chainId:t}})}function ho(e){return e.request({type:"wallet_requestChainId"})}function po(e){return e.request({type:"wallet_deploymentData"})}function bo(e,t){return e.request({type:"wallet_addInvokeTransaction",params:t})}function go(e,t){return e.request({type:"wallet_addDeclareTransaction",params:t})}function mo(e,t){return e.request({type:"wallet_signTypedData",params:t})}function yo(e){return e.request({type:"wallet_supportedSpecs"})}function vo(e,t){e.on("accountsChanged",t)}function _o(e,t){e.on("networkChanged",t)}new class e{nodeUrl;headers;baseFetch;requestId;constructor(t){if(t instanceof e)return this.nodeUrl=t.nodeUrl,this.headers={...oo,...t.headers},this.baseFetch=t.baseFetch,void(this.requestId=t.requestId);if(t&&"nodeUrl"in t&&"headers"in t&&"baseFetch"in t)return this.nodeUrl=t.nodeUrl??eo(void 0),this.headers={...oo,...t.headers},this.baseFetch=t.baseFetch??va,void(this.requestId=0);const{nodeUrl:r,headers:n,baseFetch:a}=t||{};r&&Object.values(le).includes(r)?this.nodeUrl=eo(r,t?.default):this.nodeUrl=r||eo(void 0,t?.default),this.baseFetch=a??va,this.headers={...oo,...n},this.requestId=0}fetch(e,t,r=0){const n={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:Ye(n),headers:this.headers})}errorHandler(e,t,r,n){if(r)throw new ga(r,e,t);if(n instanceof ba)throw n;if(n)throw Error(n.message)}async fetchEndpoint(e,t){try{this.requestId+=1;const r=await this.fetch(e,t,this.requestId),{error:n,result:a}=await r.json();return this.errorHandler(e,t,n),a}catch(r){throw this.errorHandler(e,t,r?.response?.data,r),r}}async isAvailable(){return this.fetchEndpoint("paymaster_isAvailable")}async buildTransaction(e,t){let r;switch(e.type){case"invoke":case"deploy_and_invoke":r={...e,invoke:{user_address:e.invoke.userAddress,calls:(n=e.invoke.calls,n.map((e=>({to:e.contractAddress,selector:kt(e.entrypoint),calldata:nn.toHex(e.calldata)}))))}};break;default:r=e}var n;const a={version:t.version,fee_mode:no(t.feeMode),time_bounds:ao(t.timeBounds)},i=await this.fetchEndpoint("paymaster_buildTransaction",{transaction:r,parameters:a}),o={gas_token_price_in_strk:BigInt(i.fee.gas_token_price_in_strk),estimated_fee_in_strk:BigInt(i.fee.estimated_fee_in_strk),estimated_fee_in_gas_token:BigInt(i.fee.estimated_fee_in_gas_token),suggested_max_fee_in_strk:BigInt(i.fee.suggested_max_fee_in_strk),suggested_max_fee_in_gas_token:BigInt(i.fee.suggested_max_fee_in_gas_token)};switch(i.type){case"invoke":return{type:"invoke",typed_data:i.typed_data,parameters:io(i.parameters),fee:o};case"deploy_and_invoke":return{type:"deploy_and_invoke",deployment:i.deployment,typed_data:i.typed_data,parameters:io(i.parameters),fee:o};default:return{type:"deploy",deployment:i.deployment,parameters:io(i.parameters),fee:o}}}async executeTransaction(e,t){let r;switch(e.type){case"invoke":case"deploy_and_invoke":r={...e,invoke:{user_address:e.invoke.userAddress,typed_data:e.invoke.typedData,signature:ra(e.invoke.signature)}};break;default:r=e}const n={version:t.version,fee_mode:no(t.feeMode),time_bounds:ao(t.timeBounds)};return this.fetchEndpoint("paymaster_executeTransaction",{transaction:r,parameters:n})}async getSupportedTokens(){return this.fetchEndpoint("paymaster_getSupportedTokens").then((e=>e.map((e=>({token_address:e.token_address,decimals:e.decimals,priceInStrk:BigInt(e.price_in_strk)})))))}}({default:!0}),I({},{addDeclareTransaction:()=>go,addInvokeTransaction:()=>bo,addStarknetChain:()=>lo,deploymentData:()=>po,getPermissions:()=>co,onAccountChange:()=>vo,onNetworkChanged:()=>_o,requestAccounts:()=>so,requestChainId:()=>ho,signMessage:()=>mo,supportedSpecs:()=>yo,switchStarknetChain:()=>fo,watchAsset:()=>uo})},41373:e=>{"use strict";e.exports={i8:"6.5.4"}}}]);
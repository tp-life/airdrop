import{c as Ce,d as _e,e as ye,g as ge,h as Ae}from"./chunk-LACP7OIH.js";import"./chunk-YUMWUAYZ.js";import"./chunk-P2HAZY4R.js";import"./chunk-GT6BTIMR.js";import{a as de,b as fe,c as he}from"./chunk-SPHEGRLN.js";import"./chunk-5WVZJUXW.js";import"./chunk-4U65LWXX.js";import{c as z,d as L}from"./chunk-M7CDJYYG.js";import{a as ue}from"./chunk-SR5VKAMR.js";import{e as se,g as ne}from"./chunk-OCTREJ3R.js";import{B as pe,z as ce}from"./chunk-DMPLD3VG.js";import"./chunk-WWUOPI5T.js";import"./chunk-HVADQEJS.js";import"./chunk-A52XYJMT.js";import{d as ie}from"./chunk-BCT5GPKT.js";import"./chunk-XUKRDQIU.js";import{d as w}from"./chunk-OQJOA7JT.js";import"./chunk-WD7752PC.js";import"./chunk-SLWKMGPD.js";import"./chunk-UC77E3WD.js";import"./chunk-GTSNHSPT.js";import"./chunk-LVPRDSPO.js";import{a as me}from"./chunk-RJO5LUBF.js";import{b as re}from"./chunk-DRPGNVVL.js";import{a as le}from"./chunk-UEENMIFU.js";import{d as ae}from"./chunk-3OMHZBKM.js";import"./chunk-A264YTOP.js";import"./chunk-LRVKM4IV.js";import"./chunk-PVSNAFN3.js";import"./chunk-JYKQJVIF.js";import{m as $}from"./chunk-GBQG32PI.js";import"./chunk-Q6XXIWBJ.js";import"./chunk-VWYA3Z7M.js";import"./chunk-A3FIPWG3.js";import{ac as ze}from"./chunk-NTISK7TT.js";import"./chunk-MXRUZQZ7.js";import"./chunk-CU7RFE6B.js";import"./chunk-J4UWPXXS.js";import{a as De}from"./chunk-QZUNX5I4.js";import"./chunk-OG3IV3YP.js";import"./chunk-45FKVGCF.js";import"./chunk-KSCBZ3RY.js";import"./chunk-37O7OMRA.js";import"./chunk-5PGNMLJO.js";import"./chunk-35FUKWV2.js";import"./chunk-DHNKVM4B.js";import"./chunk-VL5VJIZ7.js";import{c as u}from"./chunk-TU7CE5HJ.js";import"./chunk-2NE2FMGV.js";import{Oc as oe,yc as te,zc as Y}from"./chunk-YILNSICT.js";import"./chunk-ORQMOT6Z.js";import{b as ee,c as j,r as U}from"./chunk-L4N7WJIQ.js";import{f as Q,pa as Ye}from"./chunk-LBCQTFOD.js";import{N as $e,w as M}from"./chunk-V63HWKAL.js";import"./chunk-ZZ2UZY4M.js";import"./chunk-XFAFBXWC.js";import"./chunk-7EEPBGCR.js";import"./chunk-CY6DCOJP.js";import{H as O,ca as W}from"./chunk-2EJYCNYZ.js";import{a as X}from"./chunk-V2K75WCG.js";import{a as E}from"./chunk-B75PPTYD.js";import"./chunk-2AWSM2JA.js";import"./chunk-QXPU36HD.js";import"./chunk-QI5O5UGB.js";import"./chunk-2OGSVQVK.js";import"./chunk-Y5BBPTSN.js";import"./chunk-5LMNZ6ME.js";import"./chunk-LQWZRQFF.js";import"./chunk-VGOLUGG3.js";import"./chunk-6SIBAM5N.js";import"./chunk-42IJDSSW.js";import"./chunk-BMKS7XLD.js";import"./chunk-MTFM4GGW.js";import{f as _,m as o,o as r}from"./chunk-UGZFXKPB.js";o();r();var e=_(E()),B=_(ze()),Le=_(De());$e();o();r();var xe=_(E());var Te=(C={})=>{let c=ce(C);return(0,xe.useMemo)(()=>c.map(p=>{let{walletIdentities:s,marketValueSymbol:d,marketValue:y}=p;return{...p,walletAsset:`${$(y)} ${d||""}`,walletIdentities:s.map(i=>{let{balance:f="--",symbol:l}=i;return{...i,walletAsset:`${$(f)} ${l||""}`}})}}),[c])};oe();o();r();var be=C=>{let c=he({dappUrl:C}),{provider:p,method:s,exts:d,status:y,providerTypes:i=[]}=c,f=ue(),l=fe({provider:p,exts:d,chainsInfo:f}),m=i.filter(t=>t.required).map(t=>f.find(a=>a.localType===t.providerType)),g=i.filter(t=>!t.required).map(t=>f.find(a=>a.localType===t.providerType));if(m.length>0||g.length>0){let t=m.map(n=>n?.baseChain),x=g.map(n=>n?.baseChain),a=m.map(n=>n?.chainName).join(", ");return{requestChains:t,optionalChains:x,chainNames:a,allChain:!1,status:y}}let A=de({provider:p,method:s});return{requestChains:[l.baseChain],optionalChains:[],chainNames:l.chainName,allChain:A,status:y}};o();r();var h=_(E()),Ee=_(O()),I=_(X());oe();o();r();var q=_(E()),ke=_(O()),N=_(X());o();r();var R=_(E());var qe=_(O());Ye();o();r();var D={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var Se=({selected:C,disabled:c,onClick:p})=>R.default.createElement(u.FlexBox,{onClick:p,className:(0,qe.default)(D.root,{[D.disabled]:c}),align:u.ALIGN.center,justify:u.ALIGN.center},c?R.default.createElement(U.Circle,{disabled:!0,checked:!1}):R.default.createElement(U.Circle,{checked:C}));Se.defaultProps={onClick:Q,selected:!1,disabled:!1};var P=Se;o();r();var K={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var Ne=({selected:C,createdId:c,isRpcMode:p,hiddenAssets:s,walletIdentity:d,handleClickWallet:y,requestChains:i,optionalChains:f,disabled:l=!1})=>{let{walletId:m=""}=d,g=(0,q.useMemo)(()=>C.includes(m),[C,m]),A=(0,q.useMemo)(()=>{let x=i.length===0&&f.some(S=>d?.account?.[S]),a=i.length===0&&f.length===0,n=i.length>0&&i.every(S=>d?.account?.[S]);return x||a||n},[f,i,d?.account]);l=l||!A;let t=(0,q.useCallback)(()=>{l||y(m)},[y,m,l]);return q.default.createElement(u.FlexBox,{className:(0,ke.default)(K.root,{[K.highlight]:m===c,[K.disabled]:l}),align:u.ALIGN.center,onClick:t},q.default.createElement(ge,{disabled:l,isRpcMode:p,hiddenAssets:s,walletIdentity:d}),q.default.createElement(P,{selected:g,disabled:l}))};Ne.propTypes={selected:N.default.array.isRequired,createdId:N.default.string.isRequired,isRpcMode:N.default.bool.isRequired,walletIdentity:N.default.object.isRequired,hiddenAssets:N.default.bool.isRequired,handleClickWallet:N.default.func.isRequired};var Ie=Ne;o();r();var k={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var Me=({selected:C,isRpcMode:c,hiddenAssets:p,keyringIdentity:s,handleClickWallet:d,requestChains:y,optionalChains:i})=>{let[f,l]=Ae(),[m,g]=(0,h.useState)(!0),A=()=>{g(a=>!a)},t=(0,h.useMemo)(()=>s?.keyringIdentityType===Y.MPC,[s]),x=(0,h.useMemo)(()=>{let{mpcStatus:a,accountStatus:n}=s?.status||{};return t&&(a===L.ESCAPE||a===L.RECOVER||n===z.DELETE||n===z.FROZEN)},[t,s?.status]);return h.default.createElement(u.Box,{className:k.root},h.default.createElement(ee,{onToggle:A,expanded:m,titleClass:k.title,className:k.keyring,headerClassName:k.header,contentClassName:k.content,iconClassName:(0,Ee.default)(k.icon),title:h.default.createElement(_e,{isRpcMode:c,hiddenAssets:p,keyringIdentity:s})},t&&h.default.createElement(ye,{keyringIdentity:s,className:k.mpcStatusAlertWrapper}),h.default.createElement(w,{dataSource:s?.walletIdentities||[],renderItem:a=>h.default.createElement(Ie,{selected:C,isRpcMode:c,createdId:f,hiddenAssets:p,walletIdentity:a,handleClickWallet:d,requestChains:y,optionalChains:i,disabled:x})}),s.keyringIdentityType===Y.MNEMONIC?h.default.createElement(Ce,{createdCb:l,keyringIdentity:s}):null))};Me.propTypes={selected:I.default.array.isRequired,isRpcMode:I.default.bool.isRequired,hiddenAssets:I.default.bool.isRequired,keyringIdentity:I.default.object.isRequired,handleClickWallet:I.default.func.isRequired};var We=Me;o();r();var F={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var He=({request:C,multi:c=!1})=>{let{origin:p}=C?.metadata||{},{requestChains:s,optionalChains:d,chainNames:y,allChain:i,status:f}=be(p);(0,e.useEffect)(()=>{re()},[]);let[,l]=pe({hasBackup:!0}),m=Te({hasBackup:!0}),{isRpcMode:g}=(0,B.useSelector)(ie),A=(0,e.useMemo)(()=>g?m:l,[g,l,m]),{backupedWallets:t,showTip:x}=(0,e.useMemo)(()=>{let T=!1;return{backupedWallets:A.reduce((V,J)=>{let Ke=J?.walletIdentities?.map(Fe=>{let{initialType:Ge,walletId:Ve,account:Oe}=Fe;if(Ge===te.MPC_KEYRING&&J?.status?.mpcStatus===L.ESCAPE)return"";let je=s?.every(Ue=>Oe?.[Ue]);return!i&&!je?(T=!0,""):Ve})?.filter(Boolean);return V.concat(Ke)},[]),showTip:T}},[A,i,s]),a=(0,B.useSelector)(se),[n,S]=(0,e.useState)(a?.length>0?a:[]),Be=t.length>1&&c,G=(0,e.useMemo)(()=>t.length===n.length,[t,n]),ve=(0,e.useCallback)(()=>{S(G?[]:t)},[G,t]),we=(0,e.useCallback)(T=>{n.includes(T)?S(v=>v.filter(V=>V!==T)):S(v=>c?[...v,T]:[T])},[n,c]),H=(0,B.useDispatch)(),Z=(0,Le.useHistory)(),Re=(0,e.useCallback)(()=>{H(ne.setSelectAccounts(n)),Z.goBack()},[n,Z,H]),[Pe]=ae();return e.default.createElement(u.Container,{className:F.root},e.default.createElement(me,{closeable:!1,bordered:!1,title:M("wallet_dapp_conncetion_subtitle_select_accounts")}),x&&f!=="PENDING"&&e.default.createElement(j,{desc:M("wallet_extension_connect_notification_text_dont_select_wallets",{network:y}),type:j.TYPE.warn,closable:!1}),Be?e.default.createElement(u.FlexBox,{align:u.ALIGN.center,className:F.selectAll},e.default.createElement(u.Box,{className:F.text},M("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(P,{selected:G,onClick:ve})):null,e.default.createElement(w,{dataSource:A,renderItem:T=>e.default.createElement(We,{selected:n,isRpcMode:g,hiddenAssets:Pe,keyringIdentity:T,handleClickWallet:we,requestChains:i?[]:s,optionalChains:i?[]:d})}),e.default.createElement(le.FooterActions,null,e.default.createElement(W,{block:!0,disabled:!n.length,category:W.CATEGORY.fill,type:W.TYPE.highlight,size:W.SIZE.lg,onClick:Re},M("wallet_set_password_btn_confirm"))))},No=He;export{No as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Comp-5R4PBXAK.js.map

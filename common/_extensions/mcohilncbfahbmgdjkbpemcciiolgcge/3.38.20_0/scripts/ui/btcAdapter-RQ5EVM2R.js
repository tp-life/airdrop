import{a as R,b as w,c as T}from"./chunk-TZNNGPIB.js";import"./chunk-GLCQZ3NE.js";import"./chunk-4CQ7M5DX.js";import"./chunk-5Q6U4GR4.js";import{b as f}from"./chunk-2QWVSD2A.js";import{e as y}from"./chunk-ERN756XV.js";import"./chunk-SUOZFPDI.js";import"./chunk-4MKRDS7W.js";import"./chunk-KSCBZ3RY.js";import"./chunk-37O7OMRA.js";import"./chunk-5PGNMLJO.js";import"./chunk-35FUKWV2.js";import"./chunk-DHNKVM4B.js";import{a as h,u}from"./chunk-VL5VJIZ7.js";import"./chunk-TU7CE5HJ.js";import"./chunk-2NE2FMGV.js";import"./chunk-YILNSICT.js";import"./chunk-ORQMOT6Z.js";import"./chunk-L4N7WJIQ.js";import{M as n,pa as K}from"./chunk-LBCQTFOD.js";import"./chunk-V63HWKAL.js";import"./chunk-XFAFBXWC.js";import"./chunk-2EJYCNYZ.js";import"./chunk-V2K75WCG.js";import"./chunk-B75PPTYD.js";import"./chunk-5LMNZ6ME.js";import"./chunk-42IJDSSW.js";import"./chunk-PJE3AWUO.js";import"./chunk-U5KK4TZK.js";import"./chunk-BMKS7XLD.js";import"./chunk-MTFM4GGW.js";import{f as H,m as p,o as l}from"./chunk-UGZFXKPB.js";p();l();var W=H(R());K();var b=W.default.HardwareWebSdk,a=class extends T{async signTransaction(e,r){if(!n(r.memo)&&!n(r.memoPos))throw Error(u);return new Promise((E,t)=>{(async()=>{let{address:i}=r,{onekeyInfo:s}=e,c;try{c=await this.initOneKey({onekeyInfo:s,onUiCancel(){t(new Error(h))}})}catch(o){return t(this.handleErrors(o))}let g=f(i,e?.accountsMap||e?.addressType),{path:d}=g,k=r.inputs.map(o=>({...o,address:i,nonWitnessUtxo:o.rawTransaction,derivationPath:d})),{oneKeyBuildBtcTx:B}=await y(),M=B({...r,inputs:k,derivationPath:d}),{success:S,payload:m}=await b.btcSignTransaction(s?.connectId,c,M);if(w.closeModal(),S){let{serializedTx:o}=m;return E(o)}return t(this.handleErrors(m))})()})}},C=new a;export{C as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-RQ5EVM2R.js.map

import{Gb as Gt,Hb as jt,Zb as ee,_b as Ne,fc as ai}from"./chunk-YILNSICT.js";import{N as wr,l as Mr,r as yr}from"./chunk-V63HWKAL.js";import{b as Kt}from"./chunk-LQWZRQFF.js";import{a as re,c as hi,e as _r}from"./chunk-VGOLUGG3.js";import{a as Le}from"./chunk-42IJDSSW.js";import{B as fi,d as gr}from"./chunk-MTFM4GGW.js";import{c as _t,f as oi,m as w,n as v,o as _}from"./chunk-UGZFXKPB.js";var Lt=_t((xr,qe)=>{w();_();(function(i,m){"use strict";function c(h,t){if(!h)throw new Error(t||"Assertion failed")}function p(h,t){h.super_=t;var r=function(){};r.prototype=t.prototype,h.prototype=new r,h.prototype.constructor=h}function u(h,t,r){if(u.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(h||0,t||10,r||"be"))}typeof i=="object"?i.exports=u:m.BN=u,u.BN=u,u.wordSize=26;var B;try{B=gr().Buffer}catch{}u.isBN=function(t){return t instanceof u?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===u.wordSize&&Array.isArray(t.words)},u.max=function(t,r){return t.cmp(r)>0?t:r},u.min=function(t,r){return t.cmp(r)<0?t:r},u.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),c(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&s++,r===16?this._parseHex(t,s):this._parseBase(t,r,s),t[0]==="-"&&(this.negative=1),this._strip(),n==="le"&&this._initArray(this.toArray(),r,n)},u.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(c(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},u.prototype._initArray=function(t,r,n){if(c(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var f,l,d=0;if(n==="be")for(s=t.length-1,f=0;s>=0;s-=3)l=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[f]|=l<<d&67108863,this.words[f+1]=l>>>26-d&67108863,d+=24,d>=26&&(d-=26,f++);else if(n==="le")for(s=0,f=0;s<t.length;s+=3)l=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[f]|=l<<d&67108863,this.words[f+1]=l>>>26-d&67108863,d+=24,d>=26&&(d-=26,f++);return this._strip()};function I(h,t,r){for(var n=0,s=Math.min(h.length,r),f=0,l=t;l<s;l++){var d=h.charCodeAt(l)-48;n<<=4;var o;d>=49&&d<=54?o=d-49+10:d>=17&&d<=22?o=d-17+10:o=d,n|=o,f|=o}return c(!(f&240),"Invalid character in "+h),n}u.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,f,l=0;for(n=t.length-6,s=0;n>=r;n-=6)f=I(t,n,n+6),this.words[s]|=f<<l&67108863,this.words[s+1]|=f>>>26-l&4194303,l+=24,l>=26&&(l-=26,s++);n+6!==r&&(f=I(t,r,n+6),this.words[s]|=f<<l&67108863,this.words[s+1]|=f>>>26-l&4194303),this._strip()};function C(h,t,r,n){for(var s=0,f=0,l=Math.min(h.length,r),d=t;d<l;d++){var o=h.charCodeAt(d)-48;s*=n,o>=49?f=o-49+10:o>=17?f=o-17+10:f=o,c(o>=0&&f<n,"Invalid character"),s+=f}return s}u.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var s=0,f=1;f<=67108863;f*=r)s++;s--,f=f/r|0;for(var l=t.length-n,d=l%s,o=Math.min(l,l-d)+n,e=0,a=n;a<o;a+=s)e=C(t,a,a+s,r),this.imuln(f),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(d!==0){var g=1;for(e=C(t,a,t.length,r),a=0;a<d;a++)g*=r;this.imuln(g),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},u.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red};function gt(h,t){h.words=t.words,h.length=t.length,h.negative=t.negative,h.red=t.red}if(u.prototype._move=function(t){gt(t,this)},u.prototype.clone=function(){var t=new u(null);return this.copy(t),t},u.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=Tt}catch{u.prototype.inspect=Tt}else u.prototype.inspect=Tt;function Tt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ht=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Qt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var s=0,f=0,l=0;l<this.length;l++){var d=this.words[l],o=((d<<s|f)&16777215).toString(16);f=d>>>24-s&16777215,f!==0||l!==this.length-1?n=Ht[6-o.length]+o+n:n=o+n,s+=2,s>=26&&(s-=26,l--)}for(f!==0&&(n=f.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=Mt[t],a=Qt[t];n="";var g=this.clone();for(g.negative=0;!g.isZero();){var M=g.modrn(a).toString(t);g=g.idivn(a),g.isZero()?n=M+n:n=Ht[e-M.length]+M+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}c(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},u.prototype.toJSON=function(){return this.toString(16,2)},B&&(u.prototype.toBuffer=function(t,r){return this.toArrayLike(B,t,r)}),u.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)};var ni=function(t,r){return t.allocUnsafe?t.allocUnsafe(r):new t(r)};u.prototype.toArrayLike=function(t,r,n){this._strip();var s=this.byteLength(),f=n||Math.max(1,s);c(s<=f,"byte array longer than desired length"),c(f>0,"Requested array length <= 0");var l=ni(t,f),d=r==="le"?"LE":"BE";return this["_toArrayLike"+d](l,s),l},u.prototype._toArrayLikeLE=function(t,r){for(var n=0,s=0,f=0,l=0;f<this.length;f++){var d=this.words[f]<<l|s;t[n++]=d&255,n<t.length&&(t[n++]=d>>8&255),n<t.length&&(t[n++]=d>>16&255),l===6?(n<t.length&&(t[n++]=d>>24&255),s=0,l=0):(s=d>>>24,l+=2)}if(n<t.length)for(t[n++]=s;n<t.length;)t[n++]=0},u.prototype._toArrayLikeBE=function(t,r){for(var n=t.length-1,s=0,f=0,l=0;f<this.length;f++){var d=this.words[f]<<l|s;t[n--]=d&255,n>=0&&(t[n--]=d>>8&255),n>=0&&(t[n--]=d>>16&255),l===6?(n>=0&&(t[n--]=d>>24&255),s=0,l=0):(s=d>>>24,l+=2)}if(n>=0)for(t[n--]=s;n>=0;)t[n--]=0},Math.clz32?u.prototype._countBits=function(t){return 32-Math.clz32(t)}:u.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},u.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return(r&8191)===0&&(n+=13,r>>>=13),(r&127)===0&&(n+=7,r>>>=7),(r&15)===0&&(n+=4,r>>>=4),(r&3)===0&&(n+=2,r>>>=2),(r&1)===0&&n++,n},u.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function si(h){for(var t=new Array(h.bitLength()),r=0;r<t.length;r++){var n=r/26|0,s=r%26;t[r]=h.words[n]>>>s&1}return t}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},u.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this._strip()},u.prototype.ior=function(t){return c((this.negative|t.negative)===0),this.iuor(t)},u.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},u.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},u.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this._strip()},u.prototype.iand=function(t){return c((this.negative|t.negative)===0),this.iuand(t)},u.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},u.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},u.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var s=0;s<n.length;s++)this.words[s]=r.words[s]^n.words[s];if(this!==r)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=r.length,this._strip()},u.prototype.ixor=function(t){return c((this.negative|t.negative)===0),this.iuxor(t)},u.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},u.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},u.prototype.inotn=function(t){c(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var s=0;s<r;s++)this.words[s]=~this.words[s]&67108863;return n>0&&(this.words[s]=~this.words[s]&67108863>>26-n),this._strip()},u.prototype.notn=function(t){return this.clone().inotn(t)},u.prototype.setn=function(t,r){c(typeof t=="number"&&t>=0);var n=t/26|0,s=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<s:this.words[n]=this.words[n]&~(1<<s),this._strip()},u.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,s;this.length>t.length?(n=this,s=t):(n=t,s=this);for(var f=0,l=0;l<s.length;l++)r=(n.words[l]|0)+(s.words[l]|0)+f,this.words[l]=r&67108863,f=r>>>26;for(;f!==0&&l<n.length;l++)r=(n.words[l]|0)+f,this.words[l]=r&67108863,f=r>>>26;if(this.length=n.length,f!==0)this.words[this.length]=f,this.length++;else if(n!==this)for(;l<n.length;l++)this.words[l]=n.words[l];return this},u.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},u.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,f;n>0?(s=this,f=t):(s=t,f=this);for(var l=0,d=0;d<f.length;d++)r=(s.words[d]|0)-(f.words[d]|0)+l,l=r>>26,this.words[d]=r&67108863;for(;l!==0&&d<s.length;d++)r=(s.words[d]|0)+l,l=r>>26,this.words[d]=r&67108863;if(l===0&&d<s.length&&s!==this)for(;d<s.length;d++)this.words[d]=s.words[d];return this.length=Math.max(this.length,d),s!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(t){return this.clone().isub(t)};function $e(h,t,r){r.negative=t.negative^h.negative;var n=h.length+t.length|0;r.length=n,n=n-1|0;var s=h.words[0]|0,f=t.words[0]|0,l=s*f,d=l&67108863,o=l/67108864|0;r.words[0]=d;for(var e=1;e<n;e++){for(var a=o>>>26,g=o&67108863,M=Math.min(e,t.length-1),y=Math.max(0,e-h.length+1);y<=M;y++){var b=e-y|0;s=h.words[b]|0,f=t.words[y]|0,l=s*f+g,a+=l/67108864|0,g=l&67108863}r.words[e]=g|0,o=a|0}return o!==0?r.words[e]=o|0:r.length--,r._strip()}var We=function(t,r,n){var s=t.words,f=r.words,l=n.words,d=0,o,e,a,g=s[0]|0,M=g&8191,y=g>>>13,b=s[1]|0,k=b&8191,T=b>>>13,Nt=s[2]|0,E=Nt&8191,N=Nt>>>13,tr=s[3]|0,R=tr&8191,P=tr>>>13,er=s[4]|0,O=er&8191,H=er>>>13,rr=s[5]|0,K=rr&8191,D=rr>>>13,ir=s[6]|0,z=ir&8191,Z=ir>>>13,nr=s[7]|0,U=nr&8191,F=nr>>>13,sr=s[8]|0,V=sr&8191,G=sr>>>13,or=s[9]|0,j=or&8191,$=or>>>13,fr=f[0]|0,W=fr&8191,J=fr>>>13,ar=f[1]|0,X=ar&8191,Y=ar>>>13,hr=f[2]|0,Q=hr&8191,tt=hr>>>13,ur=f[3]|0,et=ur&8191,rt=ur>>>13,lr=f[4]|0,it=lr&8191,nt=lr>>>13,cr=f[5]|0,st=cr&8191,ot=cr>>>13,dr=f[6]|0,ft=dr&8191,at=dr>>>13,mr=f[7]|0,ht=mr&8191,ut=mr>>>13,pr=f[8]|0,lt=pr&8191,ct=pr>>>13,vr=f[9]|0,dt=vr&8191,mt=vr>>>13;n.negative=t.negative^r.negative,n.length=19,o=Math.imul(M,W),e=Math.imul(M,J),e=e+Math.imul(y,W)|0,a=Math.imul(y,J);var de=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(de>>>26)|0,de&=67108863,o=Math.imul(k,W),e=Math.imul(k,J),e=e+Math.imul(T,W)|0,a=Math.imul(T,J),o=o+Math.imul(M,X)|0,e=e+Math.imul(M,Y)|0,e=e+Math.imul(y,X)|0,a=a+Math.imul(y,Y)|0;var me=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(me>>>26)|0,me&=67108863,o=Math.imul(E,W),e=Math.imul(E,J),e=e+Math.imul(N,W)|0,a=Math.imul(N,J),o=o+Math.imul(k,X)|0,e=e+Math.imul(k,Y)|0,e=e+Math.imul(T,X)|0,a=a+Math.imul(T,Y)|0,o=o+Math.imul(M,Q)|0,e=e+Math.imul(M,tt)|0,e=e+Math.imul(y,Q)|0,a=a+Math.imul(y,tt)|0;var pe=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,o=Math.imul(R,W),e=Math.imul(R,J),e=e+Math.imul(P,W)|0,a=Math.imul(P,J),o=o+Math.imul(E,X)|0,e=e+Math.imul(E,Y)|0,e=e+Math.imul(N,X)|0,a=a+Math.imul(N,Y)|0,o=o+Math.imul(k,Q)|0,e=e+Math.imul(k,tt)|0,e=e+Math.imul(T,Q)|0,a=a+Math.imul(T,tt)|0,o=o+Math.imul(M,et)|0,e=e+Math.imul(M,rt)|0,e=e+Math.imul(y,et)|0,a=a+Math.imul(y,rt)|0;var ve=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,o=Math.imul(O,W),e=Math.imul(O,J),e=e+Math.imul(H,W)|0,a=Math.imul(H,J),o=o+Math.imul(R,X)|0,e=e+Math.imul(R,Y)|0,e=e+Math.imul(P,X)|0,a=a+Math.imul(P,Y)|0,o=o+Math.imul(E,Q)|0,e=e+Math.imul(E,tt)|0,e=e+Math.imul(N,Q)|0,a=a+Math.imul(N,tt)|0,o=o+Math.imul(k,et)|0,e=e+Math.imul(k,rt)|0,e=e+Math.imul(T,et)|0,a=a+Math.imul(T,rt)|0,o=o+Math.imul(M,it)|0,e=e+Math.imul(M,nt)|0,e=e+Math.imul(y,it)|0,a=a+Math.imul(y,nt)|0;var ge=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,o=Math.imul(K,W),e=Math.imul(K,J),e=e+Math.imul(D,W)|0,a=Math.imul(D,J),o=o+Math.imul(O,X)|0,e=e+Math.imul(O,Y)|0,e=e+Math.imul(H,X)|0,a=a+Math.imul(H,Y)|0,o=o+Math.imul(R,Q)|0,e=e+Math.imul(R,tt)|0,e=e+Math.imul(P,Q)|0,a=a+Math.imul(P,tt)|0,o=o+Math.imul(E,et)|0,e=e+Math.imul(E,rt)|0,e=e+Math.imul(N,et)|0,a=a+Math.imul(N,rt)|0,o=o+Math.imul(k,it)|0,e=e+Math.imul(k,nt)|0,e=e+Math.imul(T,it)|0,a=a+Math.imul(T,nt)|0,o=o+Math.imul(M,st)|0,e=e+Math.imul(M,ot)|0,e=e+Math.imul(y,st)|0,a=a+Math.imul(y,ot)|0;var Me=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,o=Math.imul(z,W),e=Math.imul(z,J),e=e+Math.imul(Z,W)|0,a=Math.imul(Z,J),o=o+Math.imul(K,X)|0,e=e+Math.imul(K,Y)|0,e=e+Math.imul(D,X)|0,a=a+Math.imul(D,Y)|0,o=o+Math.imul(O,Q)|0,e=e+Math.imul(O,tt)|0,e=e+Math.imul(H,Q)|0,a=a+Math.imul(H,tt)|0,o=o+Math.imul(R,et)|0,e=e+Math.imul(R,rt)|0,e=e+Math.imul(P,et)|0,a=a+Math.imul(P,rt)|0,o=o+Math.imul(E,it)|0,e=e+Math.imul(E,nt)|0,e=e+Math.imul(N,it)|0,a=a+Math.imul(N,nt)|0,o=o+Math.imul(k,st)|0,e=e+Math.imul(k,ot)|0,e=e+Math.imul(T,st)|0,a=a+Math.imul(T,ot)|0,o=o+Math.imul(M,ft)|0,e=e+Math.imul(M,at)|0,e=e+Math.imul(y,ft)|0,a=a+Math.imul(y,at)|0;var ye=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,o=Math.imul(U,W),e=Math.imul(U,J),e=e+Math.imul(F,W)|0,a=Math.imul(F,J),o=o+Math.imul(z,X)|0,e=e+Math.imul(z,Y)|0,e=e+Math.imul(Z,X)|0,a=a+Math.imul(Z,Y)|0,o=o+Math.imul(K,Q)|0,e=e+Math.imul(K,tt)|0,e=e+Math.imul(D,Q)|0,a=a+Math.imul(D,tt)|0,o=o+Math.imul(O,et)|0,e=e+Math.imul(O,rt)|0,e=e+Math.imul(H,et)|0,a=a+Math.imul(H,rt)|0,o=o+Math.imul(R,it)|0,e=e+Math.imul(R,nt)|0,e=e+Math.imul(P,it)|0,a=a+Math.imul(P,nt)|0,o=o+Math.imul(E,st)|0,e=e+Math.imul(E,ot)|0,e=e+Math.imul(N,st)|0,a=a+Math.imul(N,ot)|0,o=o+Math.imul(k,ft)|0,e=e+Math.imul(k,at)|0,e=e+Math.imul(T,ft)|0,a=a+Math.imul(T,at)|0,o=o+Math.imul(M,ht)|0,e=e+Math.imul(M,ut)|0,e=e+Math.imul(y,ht)|0,a=a+Math.imul(y,ut)|0;var we=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(we>>>26)|0,we&=67108863,o=Math.imul(V,W),e=Math.imul(V,J),e=e+Math.imul(G,W)|0,a=Math.imul(G,J),o=o+Math.imul(U,X)|0,e=e+Math.imul(U,Y)|0,e=e+Math.imul(F,X)|0,a=a+Math.imul(F,Y)|0,o=o+Math.imul(z,Q)|0,e=e+Math.imul(z,tt)|0,e=e+Math.imul(Z,Q)|0,a=a+Math.imul(Z,tt)|0,o=o+Math.imul(K,et)|0,e=e+Math.imul(K,rt)|0,e=e+Math.imul(D,et)|0,a=a+Math.imul(D,rt)|0,o=o+Math.imul(O,it)|0,e=e+Math.imul(O,nt)|0,e=e+Math.imul(H,it)|0,a=a+Math.imul(H,nt)|0,o=o+Math.imul(R,st)|0,e=e+Math.imul(R,ot)|0,e=e+Math.imul(P,st)|0,a=a+Math.imul(P,ot)|0,o=o+Math.imul(E,ft)|0,e=e+Math.imul(E,at)|0,e=e+Math.imul(N,ft)|0,a=a+Math.imul(N,at)|0,o=o+Math.imul(k,ht)|0,e=e+Math.imul(k,ut)|0,e=e+Math.imul(T,ht)|0,a=a+Math.imul(T,ut)|0,o=o+Math.imul(M,lt)|0,e=e+Math.imul(M,ct)|0,e=e+Math.imul(y,lt)|0,a=a+Math.imul(y,ct)|0;var _e=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,o=Math.imul(j,W),e=Math.imul(j,J),e=e+Math.imul($,W)|0,a=Math.imul($,J),o=o+Math.imul(V,X)|0,e=e+Math.imul(V,Y)|0,e=e+Math.imul(G,X)|0,a=a+Math.imul(G,Y)|0,o=o+Math.imul(U,Q)|0,e=e+Math.imul(U,tt)|0,e=e+Math.imul(F,Q)|0,a=a+Math.imul(F,tt)|0,o=o+Math.imul(z,et)|0,e=e+Math.imul(z,rt)|0,e=e+Math.imul(Z,et)|0,a=a+Math.imul(Z,rt)|0,o=o+Math.imul(K,it)|0,e=e+Math.imul(K,nt)|0,e=e+Math.imul(D,it)|0,a=a+Math.imul(D,nt)|0,o=o+Math.imul(O,st)|0,e=e+Math.imul(O,ot)|0,e=e+Math.imul(H,st)|0,a=a+Math.imul(H,ot)|0,o=o+Math.imul(R,ft)|0,e=e+Math.imul(R,at)|0,e=e+Math.imul(P,ft)|0,a=a+Math.imul(P,at)|0,o=o+Math.imul(E,ht)|0,e=e+Math.imul(E,ut)|0,e=e+Math.imul(N,ht)|0,a=a+Math.imul(N,ut)|0,o=o+Math.imul(k,lt)|0,e=e+Math.imul(k,ct)|0,e=e+Math.imul(T,lt)|0,a=a+Math.imul(T,ct)|0,o=o+Math.imul(M,dt)|0,e=e+Math.imul(M,mt)|0,e=e+Math.imul(y,dt)|0,a=a+Math.imul(y,mt)|0;var xe=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(xe>>>26)|0,xe&=67108863,o=Math.imul(j,X),e=Math.imul(j,Y),e=e+Math.imul($,X)|0,a=Math.imul($,Y),o=o+Math.imul(V,Q)|0,e=e+Math.imul(V,tt)|0,e=e+Math.imul(G,Q)|0,a=a+Math.imul(G,tt)|0,o=o+Math.imul(U,et)|0,e=e+Math.imul(U,rt)|0,e=e+Math.imul(F,et)|0,a=a+Math.imul(F,rt)|0,o=o+Math.imul(z,it)|0,e=e+Math.imul(z,nt)|0,e=e+Math.imul(Z,it)|0,a=a+Math.imul(Z,nt)|0,o=o+Math.imul(K,st)|0,e=e+Math.imul(K,ot)|0,e=e+Math.imul(D,st)|0,a=a+Math.imul(D,ot)|0,o=o+Math.imul(O,ft)|0,e=e+Math.imul(O,at)|0,e=e+Math.imul(H,ft)|0,a=a+Math.imul(H,at)|0,o=o+Math.imul(R,ht)|0,e=e+Math.imul(R,ut)|0,e=e+Math.imul(P,ht)|0,a=a+Math.imul(P,ut)|0,o=o+Math.imul(E,lt)|0,e=e+Math.imul(E,ct)|0,e=e+Math.imul(N,lt)|0,a=a+Math.imul(N,ct)|0,o=o+Math.imul(k,dt)|0,e=e+Math.imul(k,mt)|0,e=e+Math.imul(T,dt)|0,a=a+Math.imul(T,mt)|0;var be=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(be>>>26)|0,be&=67108863,o=Math.imul(j,Q),e=Math.imul(j,tt),e=e+Math.imul($,Q)|0,a=Math.imul($,tt),o=o+Math.imul(V,et)|0,e=e+Math.imul(V,rt)|0,e=e+Math.imul(G,et)|0,a=a+Math.imul(G,rt)|0,o=o+Math.imul(U,it)|0,e=e+Math.imul(U,nt)|0,e=e+Math.imul(F,it)|0,a=a+Math.imul(F,nt)|0,o=o+Math.imul(z,st)|0,e=e+Math.imul(z,ot)|0,e=e+Math.imul(Z,st)|0,a=a+Math.imul(Z,ot)|0,o=o+Math.imul(K,ft)|0,e=e+Math.imul(K,at)|0,e=e+Math.imul(D,ft)|0,a=a+Math.imul(D,at)|0,o=o+Math.imul(O,ht)|0,e=e+Math.imul(O,ut)|0,e=e+Math.imul(H,ht)|0,a=a+Math.imul(H,ut)|0,o=o+Math.imul(R,lt)|0,e=e+Math.imul(R,ct)|0,e=e+Math.imul(P,lt)|0,a=a+Math.imul(P,ct)|0,o=o+Math.imul(E,dt)|0,e=e+Math.imul(E,mt)|0,e=e+Math.imul(N,dt)|0,a=a+Math.imul(N,mt)|0;var Se=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,o=Math.imul(j,et),e=Math.imul(j,rt),e=e+Math.imul($,et)|0,a=Math.imul($,rt),o=o+Math.imul(V,it)|0,e=e+Math.imul(V,nt)|0,e=e+Math.imul(G,it)|0,a=a+Math.imul(G,nt)|0,o=o+Math.imul(U,st)|0,e=e+Math.imul(U,ot)|0,e=e+Math.imul(F,st)|0,a=a+Math.imul(F,ot)|0,o=o+Math.imul(z,ft)|0,e=e+Math.imul(z,at)|0,e=e+Math.imul(Z,ft)|0,a=a+Math.imul(Z,at)|0,o=o+Math.imul(K,ht)|0,e=e+Math.imul(K,ut)|0,e=e+Math.imul(D,ht)|0,a=a+Math.imul(D,ut)|0,o=o+Math.imul(O,lt)|0,e=e+Math.imul(O,ct)|0,e=e+Math.imul(H,lt)|0,a=a+Math.imul(H,ct)|0,o=o+Math.imul(R,dt)|0,e=e+Math.imul(R,mt)|0,e=e+Math.imul(P,dt)|0,a=a+Math.imul(P,mt)|0;var Ae=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,o=Math.imul(j,it),e=Math.imul(j,nt),e=e+Math.imul($,it)|0,a=Math.imul($,nt),o=o+Math.imul(V,st)|0,e=e+Math.imul(V,ot)|0,e=e+Math.imul(G,st)|0,a=a+Math.imul(G,ot)|0,o=o+Math.imul(U,ft)|0,e=e+Math.imul(U,at)|0,e=e+Math.imul(F,ft)|0,a=a+Math.imul(F,at)|0,o=o+Math.imul(z,ht)|0,e=e+Math.imul(z,ut)|0,e=e+Math.imul(Z,ht)|0,a=a+Math.imul(Z,ut)|0,o=o+Math.imul(K,lt)|0,e=e+Math.imul(K,ct)|0,e=e+Math.imul(D,lt)|0,a=a+Math.imul(D,ct)|0,o=o+Math.imul(O,dt)|0,e=e+Math.imul(O,mt)|0,e=e+Math.imul(H,dt)|0,a=a+Math.imul(H,mt)|0;var Be=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(Be>>>26)|0,Be&=67108863,o=Math.imul(j,st),e=Math.imul(j,ot),e=e+Math.imul($,st)|0,a=Math.imul($,ot),o=o+Math.imul(V,ft)|0,e=e+Math.imul(V,at)|0,e=e+Math.imul(G,ft)|0,a=a+Math.imul(G,at)|0,o=o+Math.imul(U,ht)|0,e=e+Math.imul(U,ut)|0,e=e+Math.imul(F,ht)|0,a=a+Math.imul(F,ut)|0,o=o+Math.imul(z,lt)|0,e=e+Math.imul(z,ct)|0,e=e+Math.imul(Z,lt)|0,a=a+Math.imul(Z,ct)|0,o=o+Math.imul(K,dt)|0,e=e+Math.imul(K,mt)|0,e=e+Math.imul(D,dt)|0,a=a+Math.imul(D,mt)|0;var ke=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(ke>>>26)|0,ke&=67108863,o=Math.imul(j,ft),e=Math.imul(j,at),e=e+Math.imul($,ft)|0,a=Math.imul($,at),o=o+Math.imul(V,ht)|0,e=e+Math.imul(V,ut)|0,e=e+Math.imul(G,ht)|0,a=a+Math.imul(G,ut)|0,o=o+Math.imul(U,lt)|0,e=e+Math.imul(U,ct)|0,e=e+Math.imul(F,lt)|0,a=a+Math.imul(F,ct)|0,o=o+Math.imul(z,dt)|0,e=e+Math.imul(z,mt)|0,e=e+Math.imul(Z,dt)|0,a=a+Math.imul(Z,mt)|0;var Ie=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,o=Math.imul(j,ht),e=Math.imul(j,ut),e=e+Math.imul($,ht)|0,a=Math.imul($,ut),o=o+Math.imul(V,lt)|0,e=e+Math.imul(V,ct)|0,e=e+Math.imul(G,lt)|0,a=a+Math.imul(G,ct)|0,o=o+Math.imul(U,dt)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul(F,dt)|0,a=a+Math.imul(F,mt)|0;var Te=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,o=Math.imul(j,lt),e=Math.imul(j,ct),e=e+Math.imul($,lt)|0,a=Math.imul($,ct),o=o+Math.imul(V,dt)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(G,dt)|0,a=a+Math.imul(G,mt)|0;var Ee=(d+o|0)+((e&8191)<<13)|0;d=(a+(e>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,o=Math.imul(j,dt),e=Math.imul(j,mt),e=e+Math.imul($,dt)|0,a=Math.imul($,mt);var Ce=(d+o|0)+((e&8191)<<13)|0;return d=(a+(e>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,l[0]=de,l[1]=me,l[2]=pe,l[3]=ve,l[4]=ge,l[5]=Me,l[6]=ye,l[7]=we,l[8]=_e,l[9]=xe,l[10]=be,l[11]=Se,l[12]=Ae,l[13]=Be,l[14]=ke,l[15]=Ie,l[16]=Te,l[17]=Ee,l[18]=Ce,d!==0&&(l[19]=d,n.length++),n};Math.imul||(We=$e);function Je(h,t,r){r.negative=t.negative^h.negative,r.length=h.length+t.length;for(var n=0,s=0,f=0;f<r.length-1;f++){var l=s;s=0;for(var d=n&67108863,o=Math.min(f,t.length-1),e=Math.max(0,f-h.length+1);e<=o;e++){var a=f-e,g=h.words[a]|0,M=t.words[e]|0,y=g*M,b=y&67108863;l=l+(y/67108864|0)|0,b=b+d|0,d=b&67108863,l=l+(b>>>26)|0,s+=l>>>26,l&=67108863}r.words[f]=d,n=l,l=s}return n!==0?r.words[f]=n:r.length--,r._strip()}function Xe(h,t,r){return Je(h,t,r)}u.prototype.mulTo=function(t,r){var n,s=this.length+t.length;return this.length===10&&t.length===10?n=We(this,t,r):s<63?n=$e(this,t,r):s<1024?n=Je(this,t,r):n=Xe(this,t,r),n};function At(h,t){this.x=h,this.y=t}At.prototype.makeRBT=function(t){for(var r=new Array(t),n=u.prototype._countBits(t)-1,s=0;s<t;s++)r[s]=this.revBin(s,n,t);return r},At.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var s=0,f=0;f<r;f++)s|=(t&1)<<r-f-1,t>>=1;return s},At.prototype.permute=function(t,r,n,s,f,l){for(var d=0;d<l;d++)s[d]=r[t[d]],f[d]=n[t[d]]},At.prototype.transform=function(t,r,n,s,f,l){this.permute(l,t,r,n,s,f);for(var d=1;d<f;d<<=1)for(var o=d<<1,e=Math.cos(2*Math.PI/o),a=Math.sin(2*Math.PI/o),g=0;g<f;g+=o)for(var M=e,y=a,b=0;b<d;b++){var k=n[g+b],T=s[g+b],Nt=n[g+b+d],E=s[g+b+d],N=M*Nt-y*E;E=M*E+y*Nt,Nt=N,n[g+b]=k+Nt,s[g+b]=T+E,n[g+b+d]=k-Nt,s[g+b+d]=T-E,b!==o&&(N=e*M-a*y,y=e*y+a*M,M=N)}},At.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,s=n&1,f=0;for(n=n/2|0;n;n=n>>>1)f++;return 1<<f+1+s},At.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var s=0;s<n/2;s++){var f=t[s];t[s]=t[n-s-1],t[n-s-1]=f,f=r[s],r[s]=-r[n-s-1],r[n-s-1]=-f}},At.prototype.normalize13b=function(t,r){for(var n=0,s=0;s<r/2;s++){var f=Math.round(t[2*s+1]/r)*8192+Math.round(t[2*s]/r)+n;t[s]=f&67108863,f<67108864?n=0:n=f/67108864|0}return t},At.prototype.convert13b=function(t,r,n,s){for(var f=0,l=0;l<r;l++)f=f+(t[l]|0),n[2*l]=f&8191,f=f>>>13,n[2*l+1]=f&8191,f=f>>>13;for(l=2*r;l<s;++l)n[l]=0;c(f===0),c((f&-8192)===0)},At.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},At.prototype.mulp=function(t,r,n){var s=2*this.guessLen13b(t.length,r.length),f=this.makeRBT(s),l=this.stub(s),d=new Array(s),o=new Array(s),e=new Array(s),a=new Array(s),g=new Array(s),M=new Array(s),y=n.words;y.length=s,this.convert13b(t.words,t.length,d,s),this.convert13b(r.words,r.length,a,s),this.transform(d,l,o,e,s,f),this.transform(a,l,g,M,s,f);for(var b=0;b<s;b++){var k=o[b]*g[b]-e[b]*M[b];e[b]=o[b]*M[b]+e[b]*g[b],o[b]=k}return this.conjugate(o,e,s),this.transform(o,e,y,l,s,f),this.conjugate(y,l,s),this.normalize13b(y,s),n.negative=t.negative^r.negative,n.length=t.length+r.length,n._strip()},u.prototype.mul=function(t){var r=new u(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},u.prototype.mulf=function(t){var r=new u(null);return r.words=new Array(this.length+t.length),Xe(this,t,r)},u.prototype.imul=function(t){return this.clone().mulTo(t,this)},u.prototype.imuln=function(t){var r=t<0;r&&(t=-t),c(typeof t=="number"),c(t<67108864);for(var n=0,s=0;s<this.length;s++){var f=(this.words[s]|0)*t,l=(f&67108863)+(n&67108863);n>>=26,n+=f/67108864|0,n+=l>>>26,this.words[s]=l&67108863}return n!==0&&(this.words[s]=n,this.length++),r?this.ineg():this},u.prototype.muln=function(t){return this.clone().imuln(t)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(t){var r=si(t);if(r.length===0)return new u(1);for(var n=this,s=0;s<r.length&&r[s]===0;s++,n=n.sqr());if(++s<r.length)for(var f=n.sqr();s<r.length;s++,f=f.sqr())r[s]!==0&&(n=n.mul(f));return n},u.prototype.iushln=function(t){c(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,s=67108863>>>26-r<<26-r,f;if(r!==0){var l=0;for(f=0;f<this.length;f++){var d=this.words[f]&s,o=(this.words[f]|0)-d<<r;this.words[f]=o|l,l=d>>>26-r}l&&(this.words[f]=l,this.length++)}if(n!==0){for(f=this.length-1;f>=0;f--)this.words[f+n]=this.words[f];for(f=0;f<n;f++)this.words[f]=0;this.length+=n}return this._strip()},u.prototype.ishln=function(t){return c(this.negative===0),this.iushln(t)},u.prototype.iushrn=function(t,r,n){c(typeof t=="number"&&t>=0);var s;r?s=(r-r%26)/26:s=0;var f=t%26,l=Math.min((t-f)/26,this.length),d=67108863^67108863>>>f<<f,o=n;if(s-=l,s=Math.max(0,s),o){for(var e=0;e<l;e++)o.words[e]=this.words[e];o.length=l}if(l!==0)if(this.length>l)for(this.length-=l,e=0;e<this.length;e++)this.words[e]=this.words[e+l];else this.words[0]=0,this.length=1;var a=0;for(e=this.length-1;e>=0&&(a!==0||e>=s);e--){var g=this.words[e]|0;this.words[e]=a<<26-f|g>>>f,a=g&d}return o&&a!==0&&(o.words[o.length++]=a),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(t,r,n){return c(this.negative===0),this.iushrn(t,r,n)},u.prototype.shln=function(t){return this.clone().ishln(t)},u.prototype.ushln=function(t){return this.clone().iushln(t)},u.prototype.shrn=function(t){return this.clone().ishrn(t)},u.prototype.ushrn=function(t){return this.clone().iushrn(t)},u.prototype.testn=function(t){c(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,s=1<<r;if(this.length<=n)return!1;var f=this.words[n];return!!(f&s)},u.prototype.imaskn=function(t){c(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var s=67108863^67108863>>>r<<r;this.words[this.length-1]&=s}return this._strip()},u.prototype.maskn=function(t){return this.clone().imaskn(t)},u.prototype.iaddn=function(t){return c(typeof t=="number"),c(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},u.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},u.prototype.isubn=function(t){if(c(typeof t=="number"),c(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this._strip()},u.prototype.addn=function(t){return this.clone().iaddn(t)},u.prototype.subn=function(t){return this.clone().isubn(t)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(t,r,n){var s=t.length+n,f;this._expand(s);var l,d=0;for(f=0;f<t.length;f++){l=(this.words[f+n]|0)+d;var o=(t.words[f]|0)*r;l-=o&67108863,d=(l>>26)-(o/67108864|0),this.words[f+n]=l&67108863}for(;f<this.length-n;f++)l=(this.words[f+n]|0)+d,d=l>>26,this.words[f+n]=l&67108863;if(d===0)return this._strip();for(c(d===-1),d=0,f=0;f<this.length;f++)l=-(this.words[f]|0)+d,d=l>>26,this.words[f]=l&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(t,r){var n=this.length-t.length,s=this.clone(),f=t,l=f.words[f.length-1]|0,d=this._countBits(l);n=26-d,n!==0&&(f=f.ushln(n),s.iushln(n),l=f.words[f.length-1]|0);var o=s.length-f.length,e;if(r!=="mod"){e=new u(null),e.length=o+1,e.words=new Array(e.length);for(var a=0;a<e.length;a++)e.words[a]=0}var g=s.clone()._ishlnsubmul(f,1,o);g.negative===0&&(s=g,e&&(e.words[o]=1));for(var M=o-1;M>=0;M--){var y=(s.words[f.length+M]|0)*67108864+(s.words[f.length+M-1]|0);for(y=Math.min(y/l|0,67108863),s._ishlnsubmul(f,y,M);s.negative!==0;)y--,s.negative=0,s._ishlnsubmul(f,1,M),s.isZero()||(s.negative^=1);e&&(e.words[M]=y)}return e&&e._strip(),s._strip(),r!=="div"&&n!==0&&s.iushrn(n),{div:e||null,mod:s}},u.prototype.divmod=function(t,r,n){if(c(!t.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,f,l;return this.negative!==0&&t.negative===0?(l=this.neg().divmod(t,r),r!=="mod"&&(s=l.div.neg()),r!=="div"&&(f=l.mod.neg(),n&&f.negative!==0&&f.iadd(t)),{div:s,mod:f}):this.negative===0&&t.negative!==0?(l=this.divmod(t.neg(),r),r!=="mod"&&(s=l.div.neg()),{div:s,mod:l.mod}):(this.negative&t.negative)!==0?(l=this.neg().divmod(t.neg(),r),r!=="div"&&(f=l.mod.neg(),n&&f.negative!==0&&f.isub(t)),{div:l.div,mod:f}):t.length>this.length||this.cmp(t)<0?{div:new u(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new u(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new u(this.modrn(t.words[0]))}:this._wordDiv(t,r)},u.prototype.div=function(t){return this.divmod(t,"div",!1).div},u.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},u.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},u.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,s=t.ushrn(1),f=t.andln(1),l=n.cmp(s);return l<0||f===1&&l===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},u.prototype.modrn=function(t){var r=t<0;r&&(t=-t),c(t<=67108863);for(var n=(1<<26)%t,s=0,f=this.length-1;f>=0;f--)s=(n*s+(this.words[f]|0))%t;return r?-s:s},u.prototype.modn=function(t){return this.modrn(t)},u.prototype.idivn=function(t){var r=t<0;r&&(t=-t),c(t<=67108863);for(var n=0,s=this.length-1;s>=0;s--){var f=(this.words[s]|0)+n*67108864;this.words[s]=f/t|0,n=f%t}return this._strip(),r?this.ineg():this},u.prototype.divn=function(t){return this.clone().idivn(t)},u.prototype.egcd=function(t){c(t.negative===0),c(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new u(1),f=new u(0),l=new u(0),d=new u(1),o=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++o;for(var e=n.clone(),a=r.clone();!r.isZero();){for(var g=0,M=1;(r.words[0]&M)===0&&g<26;++g,M<<=1);if(g>0)for(r.iushrn(g);g-- >0;)(s.isOdd()||f.isOdd())&&(s.iadd(e),f.isub(a)),s.iushrn(1),f.iushrn(1);for(var y=0,b=1;(n.words[0]&b)===0&&y<26;++y,b<<=1);if(y>0)for(n.iushrn(y);y-- >0;)(l.isOdd()||d.isOdd())&&(l.iadd(e),d.isub(a)),l.iushrn(1),d.iushrn(1);r.cmp(n)>=0?(r.isub(n),s.isub(l),f.isub(d)):(n.isub(r),l.isub(s),d.isub(f))}return{a:l,b:d,gcd:n.iushln(o)}},u.prototype._invmp=function(t){c(t.negative===0),c(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new u(1),f=new u(0),l=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var d=0,o=1;(r.words[0]&o)===0&&d<26;++d,o<<=1);if(d>0)for(r.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var e=0,a=1;(n.words[0]&a)===0&&e<26;++e,a<<=1);if(e>0)for(n.iushrn(e);e-- >0;)f.isOdd()&&f.iadd(l),f.iushrn(1);r.cmp(n)>=0?(r.isub(n),s.isub(f)):(n.isub(r),f.isub(s))}var g;return r.cmpn(1)===0?g=s:g=f,g.cmpn(0)<0&&g.iadd(t),g},u.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var s=0;r.isEven()&&n.isEven();s++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var f=r.cmp(n);if(f<0){var l=r;r=n,n=l}else if(f===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(s)},u.prototype.invm=function(t){return this.egcd(t).a.umod(t)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(t){return this.words[0]&t},u.prototype.bincn=function(t){c(typeof t=="number");var r=t%26,n=(t-r)/26,s=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=s,this;for(var f=s,l=n;f!==0&&l<this.length;l++){var d=this.words[l]|0;d+=f,f=d>>>26,d&=67108863,this.words[l]=d}return f!==0&&(this.words[l]=f,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this._strip();var n;if(this.length>1)n=1;else{r&&(t=-t),c(t<=67108863,"Number is too big");var s=this.words[0]|0;n=s===t?0:s<t?-1:1}return this.negative!==0?-n|0:n},u.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},u.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var s=this.words[n]|0,f=t.words[n]|0;if(s!==f){s<f?r=-1:s>f&&(r=1);break}}return r},u.prototype.gtn=function(t){return this.cmpn(t)===1},u.prototype.gt=function(t){return this.cmp(t)===1},u.prototype.gten=function(t){return this.cmpn(t)>=0},u.prototype.gte=function(t){return this.cmp(t)>=0},u.prototype.ltn=function(t){return this.cmpn(t)===-1},u.prototype.lt=function(t){return this.cmp(t)===-1},u.prototype.lten=function(t){return this.cmpn(t)<=0},u.prototype.lte=function(t){return this.cmp(t)<=0},u.prototype.eqn=function(t){return this.cmpn(t)===0},u.prototype.eq=function(t){return this.cmp(t)===0},u.red=function(t){return new q(t)},u.prototype.toRed=function(t){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},u.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(t){return this.red=t,this},u.prototype.forceRed=function(t){return c(!this.red,"Already a number in reduction context"),this._forceRed(t)},u.prototype.redAdd=function(t){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},u.prototype.redIAdd=function(t){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},u.prototype.redSub=function(t){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},u.prototype.redISub=function(t){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},u.prototype.redShl=function(t){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},u.prototype.redMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},u.prototype.redIMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},u.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(t){return c(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var le={k256:null,p224:null,p192:null,p25519:null};function wt(h,t){this.name=h,this.p=new u(t,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}wt.prototype._tmp=function(){var t=new u(null);return t.words=new Array(Math.ceil(this.n/13)),t},wt.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var s=n<this.n?-1:r.ucmp(this.p);return s===0?(r.words[0]=0,r.length=1):s>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},wt.prototype.split=function(t,r){t.iushrn(this.n,0,r)},wt.prototype.imulK=function(t){return t.imul(this.k)};function te(){wt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(te,wt),te.prototype.split=function(t,r){for(var n=4194303,s=Math.min(t.length,9),f=0;f<s;f++)r.words[f]=t.words[f];if(r.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var l=t.words[9];for(r.words[r.length++]=l&n,f=10;f<t.length;f++){var d=t.words[f]|0;t.words[f-10]=(d&n)<<4|l>>>22,l=d}l>>>=22,t.words[f-10]=l,l===0&&t.length>10?t.length-=10:t.length-=9},te.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var s=t.words[n]|0;r+=s*977,t.words[n]=r&67108863,r=s*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Ye(){wt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(Ye,wt);function Qe(){wt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(Qe,wt);function ce(){wt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(ce,wt),ce.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var s=(t.words[n]|0)*19+r,f=s&67108863;s>>>=26,t.words[n]=f,r=s}return r!==0&&(t.words[t.length++]=r),t},u._prime=function(t){if(le[t])return le[t];var r;if(t==="k256")r=new te;else if(t==="p224")r=new Ye;else if(t==="p192")r=new Qe;else if(t==="p25519")r=new ce;else throw new Error("Unknown prime "+t);return le[t]=r,r};function q(h){if(typeof h=="string"){var t=u._prime(h);this.m=t.p,this.prime=t}else c(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}q.prototype._verify1=function(t){c(t.negative===0,"red works only with positives"),c(t.red,"red works only with red numbers")},q.prototype._verify2=function(t,r){c((t.negative|r.negative)===0,"red works only with positives"),c(t.red&&t.red===r.red,"red works only with red numbers")},q.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(gt(t,t.umod(this.m)._forceRed(this)),t)},q.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},q.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},q.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},q.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},q.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},q.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},q.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},q.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},q.prototype.isqr=function(t){return this.imul(t,t.clone())},q.prototype.sqr=function(t){return this.mul(t,t)},q.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(c(r%2===1),r===3){var n=this.m.add(new u(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),f=0;!s.isZero()&&s.andln(1)===0;)f++,s.iushrn(1);c(!s.isZero());var l=new u(1).toRed(this),d=l.redNeg(),o=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new u(2*e*e).toRed(this);this.pow(e,o).cmp(d)!==0;)e.redIAdd(d);for(var a=this.pow(e,s),g=this.pow(t,s.addn(1).iushrn(1)),M=this.pow(t,s),y=f;M.cmp(l)!==0;){for(var b=M,k=0;b.cmp(l)!==0;k++)b=b.redSqr();c(k<y);var T=this.pow(a,new u(1).iushln(y-k-1));g=g.redMul(T),a=T.redSqr(),M=M.redMul(a),y=k}return g},q.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},q.prototype.pow=function(t,r){if(r.isZero())return new u(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,s=new Array(1<<n);s[0]=new u(1).toRed(this),s[1]=t;for(var f=2;f<s.length;f++)s[f]=this.mul(s[f-1],t);var l=s[0],d=0,o=0,e=r.bitLength()%26;for(e===0&&(e=26),f=r.length-1;f>=0;f--){for(var a=r.words[f],g=e-1;g>=0;g--){var M=a>>g&1;if(l!==s[0]&&(l=this.sqr(l)),M===0&&d===0){o=0;continue}d<<=1,d|=M,o++,!(o!==n&&(f!==0||g!==0))&&(l=this.mul(l,s[d]),o=0,d=0)}e=26}return l},q.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},q.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},u.mont=function(t){return new Pt(t)};function Pt(h){q.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(Pt,q),Pt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Pt.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},Pt.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=n.isub(s).iushrn(this.shift),l=f;return f.cmp(this.m)>=0?l=f.isub(this.m):f.cmpn(0)<0&&(l=f.iadd(this.m)),l._forceRed(this)},Pt.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new u(0)._forceRed(this);var n=t.mul(r),s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=n.isub(s).iushrn(this.shift),l=f;return f.cmp(this.m)>=0?l=f.isub(this.m):f.cmpn(0)<0&&(l=f.iadd(this.m)),l._forceRed(this)},Pt.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(typeof qe>"u"||qe,xr)});var Pe=_t(L=>{"use strict";w();_();var ui=L&&L.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(L,"__esModule",{value:!0});L.KECCAK256_RLP=L.KECCAK256_RLP_S=L.KECCAK256_RLP_ARRAY=L.KECCAK256_RLP_ARRAY_S=L.KECCAK256_NULL=L.KECCAK256_NULL_S=L.TWO_POW256=L.MAX_INTEGER=void 0;var Re=gr().Buffer,br=ui(Lt());L.MAX_INTEGER=new br.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);L.TWO_POW256=new br.default("10000000000000000000000000000000000000000000000000000000000000000",16);L.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";L.KECCAK256_NULL=Re.from(L.KECCAK256_NULL_S,"hex");L.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";L.KECCAK256_RLP_ARRAY=Re.from(L.KECCAK256_RLP_ARRAY_S,"hex");L.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";L.KECCAK256_RLP=Re.from(L.KECCAK256_RLP_S,"hex")});var $t=_t(Bt=>{"use strict";w();_();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.assertIsString=Bt.assertIsArray=Bt.assertIsBuffer=Bt.assertIsHexString=void 0;var li=Kt();Bt.assertIsHexString=function(i){if(!li.isHexString(i)){let m=`This method only supports 0x-prefixed hex strings but input was: ${i}`;throw new Error(m)}};Bt.assertIsBuffer=function(i){if(!v.Buffer.isBuffer(i)){let m=`This method only supports Buffer but input was: ${i}`;throw new Error(m)}};Bt.assertIsArray=function(i){if(!Array.isArray(i)){let m=`This method only supports number arrays but input was: ${i}`;throw new Error(m)}};Bt.assertIsString=function(i){if(typeof i!="string"){let m=`This method only supports strings but input was: ${i}`;throw new Error(m)}}});var qt=_t(A=>{"use strict";w();_();var ci=A&&A.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(A,"__esModule",{value:!0});A.baToJSON=A.addHexPrefix=A.toUnsigned=A.fromSigned=A.bufferToHex=A.bufferToInt=A.toBuffer=A.unpadHexString=A.unpadArray=A.unpadBuffer=A.setLengthRight=A.setLengthLeft=A.zeros=void 0;var Oe=ci(Lt()),Dt=Kt(),Wt=$t();A.zeros=function(i){return v.Buffer.allocUnsafe(i).fill(0)};var Sr=function(i,m,c){let p=A.zeros(m);return c?i.length<m?(i.copy(p),p):i.slice(0,m):i.length<m?(i.copy(p,m-i.length),p):i.slice(-m)};A.setLengthLeft=function(i,m){return Wt.assertIsBuffer(i),Sr(i,m,!1)};A.setLengthRight=function(i,m){return Wt.assertIsBuffer(i),Sr(i,m,!0)};var He=function(i){let m=i[0];for(;i.length>0&&m.toString()==="0";)i=i.slice(1),m=i[0];return i};A.unpadBuffer=function(i){return Wt.assertIsBuffer(i),He(i)};A.unpadArray=function(i){return Wt.assertIsArray(i),He(i)};A.unpadHexString=function(i){return Wt.assertIsHexString(i),i=Dt.stripHexPrefix(i),He(i)};A.toBuffer=function(i){if(i==null)return v.Buffer.allocUnsafe(0);if(v.Buffer.isBuffer(i))return v.Buffer.from(i);if(Array.isArray(i)||i instanceof Uint8Array)return v.Buffer.from(i);if(typeof i=="string"){if(!Dt.isHexString(i))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${i}`);return v.Buffer.from(Dt.padToEven(Dt.stripHexPrefix(i)),"hex")}if(typeof i=="number")return Dt.intToBuffer(i);if(Oe.default.isBN(i))return i.toArrayLike(v.Buffer);if(i.toArray)return v.Buffer.from(i.toArray());if(i.toBuffer)return v.Buffer.from(i.toBuffer());throw new Error("invalid type")};A.bufferToInt=function(i){return new Oe.default(A.toBuffer(i)).toNumber()};A.bufferToHex=function(i){return i=A.toBuffer(i),"0x"+i.toString("hex")};A.fromSigned=function(i){return new Oe.default(i).fromTwos(256)};A.toUnsigned=function(i){return v.Buffer.from(i.toTwos(256).toArray())};A.addHexPrefix=function(i){return typeof i!="string"||Dt.isHexPrefixed(i)?i:"0x"+i};A.baToJSON=function(i){if(v.Buffer.isBuffer(i))return`0x${i.toString("hex")}`;if(i instanceof Array){let m=[];for(let c=0;c<i.length;c++)m.push(A.baToJSON(i[c]));return m}}});var ie=_t(S=>{"use strict";w();_();var di=S&&S.__createBinding||(Object.create?function(i,m,c,p){p===void 0&&(p=c),Object.defineProperty(i,p,{enumerable:!0,get:function(){return m[c]}})}:function(i,m,c,p){p===void 0&&(p=c),i[p]=m[c]}),mi=S&&S.__setModuleDefault||(Object.create?function(i,m){Object.defineProperty(i,"default",{enumerable:!0,value:m})}:function(i,m){i.default=m}),pi=S&&S.__importStar||function(i){if(i&&i.__esModule)return i;var m={};if(i!=null)for(var c in i)c!=="default"&&Object.hasOwnProperty.call(i,c)&&di(m,i,c);return mi(m,i),m};Object.defineProperty(S,"__esModule",{value:!0});S.rlphash=S.ripemd160FromArray=S.ripemd160FromString=S.ripemd160=S.sha256FromArray=S.sha256FromString=S.sha256=S.keccakFromArray=S.keccakFromHexString=S.keccakFromString=S.keccak256=S.keccak=void 0;var{keccak224:vi,keccak384:gi,keccak256:Mi,keccak512:yi}=hi(),Ar=fi(),wi=pi(re()),Jt=qt(),kt=$t();S.keccak=function(i,m=256){switch(kt.assertIsBuffer(i),m){case 224:return vi(i);case 256:return Mi(i);case 384:return gi(i);case 512:return yi(i);default:throw new Error(`Invald algorithm: keccak${m}`)}};S.keccak256=function(i){return S.keccak(i)};S.keccakFromString=function(i,m=256){kt.assertIsString(i);let c=v.Buffer.from(i,"utf8");return S.keccak(c,m)};S.keccakFromHexString=function(i,m=256){return kt.assertIsHexString(i),S.keccak(Jt.toBuffer(i),m)};S.keccakFromArray=function(i,m=256){return kt.assertIsArray(i),S.keccak(Jt.toBuffer(i),m)};var Ke=function(i){return i=Jt.toBuffer(i),Ar("sha256").update(i).digest()};S.sha256=function(i){return kt.assertIsBuffer(i),Ke(i)};S.sha256FromString=function(i){return kt.assertIsString(i),Ke(i)};S.sha256FromArray=function(i){return kt.assertIsArray(i),Ke(i)};var De=function(i,m){i=Jt.toBuffer(i);let c=Ar("rmd160").update(i).digest();return m===!0?Jt.setLengthLeft(c,32):c};S.ripemd160=function(i,m){return kt.assertIsBuffer(i),De(i,m)};S.ripemd160FromString=function(i,m){return kt.assertIsString(i),De(i,m)};S.ripemd160FromArray=function(i,m){return kt.assertIsArray(i),De(i,m)};S.rlphash=function(i){return S.keccak(wi.encode(i))}});var se=_t(yt=>{"use strict";w();_();var _i=yt&&yt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yt,"__esModule",{value:!0});yt.toType=yt.TypeOutput=yt.bnToRlp=yt.bnToHex=void 0;var ze=_i(Lt()),xi=Kt(),Br=qt();function bi(i){return`0x${i.toString(16)}`}yt.bnToHex=bi;function Si(i){return Br.unpadBuffer(i.toArrayLike(v.Buffer))}yt.bnToRlp=Si;var ne;(function(i){i[i.Number=0]="Number",i[i.BN=1]="BN",i[i.Buffer=2]="Buffer",i[i.PrefixedHexString=3]="PrefixedHexString"})(ne=yt.TypeOutput||(yt.TypeOutput={}));function Ai(i,m){if(typeof i=="string"&&!xi.isHexString(i))throw new Error(`A string must be provided with a 0x-prefix, given: ${i}`);if(typeof i=="number"&&!Number.isSafeInteger(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");if(i=Br.toBuffer(i),m===ne.Buffer)return i;if(m===ne.BN)return new ze.default(i);if(m===ne.Number){let c=new ze.default(i),p=new ze.default(Number.MAX_SAFE_INTEGER.toString());if(c.gt(p))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return c.toNumber()}else return`0x${i.toString("hex")}`}yt.toType=Ai});var Ue=_t(x=>{"use strict";w();_();var Bi=x&&x.__createBinding||(Object.create?function(i,m,c,p){p===void 0&&(p=c),Object.defineProperty(i,p,{enumerable:!0,get:function(){return m[c]}})}:function(i,m,c,p){p===void 0&&(p=c),i[p]=m[c]}),ki=x&&x.__setModuleDefault||(Object.create?function(i,m){Object.defineProperty(i,"default",{enumerable:!0,value:m})}:function(i,m){i.default=m}),Ii=x&&x.__importStar||function(i){if(i&&i.__esModule)return i;var m={};if(i!=null)for(var c in i)c!=="default"&&Object.hasOwnProperty.call(i,c)&&Bi(m,i,c);return ki(m,i),m},Tr=x&&x.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(x,"__esModule",{value:!0});x.isZeroAddress=x.zeroAddress=x.importPublic=x.privateToAddress=x.privateToPublic=x.publicToAddress=x.pubToAddress=x.isValidPublic=x.isValidPrivate=x.generateAddress2=x.generateAddress=x.isValidChecksumAddress=x.toChecksumAddress=x.isValidAddress=x.Account=void 0;var Ze=Tr(Le()),Et=Tr(Lt()),kr=Ii(re()),Ti=Kt(),oe=Pe(),zt=qt(),Zt=ie(),xt=$t(),fe=se(),{privateKeyVerify:Ei,publicKeyCreate:Ci,publicKeyVerify:Ir,publicKeyConvert:Er}=_r(),Ut=class{constructor(m=new Et.default(0),c=new Et.default(0),p=oe.KECCAK256_RLP,u=oe.KECCAK256_NULL){this.nonce=m,this.balance=c,this.stateRoot=p,this.codeHash=u,this._validate()}static fromAccountData(m){let{nonce:c,balance:p,stateRoot:u,codeHash:B}=m;return new Ut(c?new Et.default(zt.toBuffer(c)):void 0,p?new Et.default(zt.toBuffer(p)):void 0,u?zt.toBuffer(u):void 0,B?zt.toBuffer(B):void 0)}static fromRlpSerializedAccount(m){let c=kr.decode(m);if(!Array.isArray(c))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(c)}static fromValuesArray(m){let[c,p,u,B]=m;return new Ut(new Et.default(c),new Et.default(p),u,B)}_validate(){if(this.nonce.lt(new Et.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new Et.default(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[fe.bnToRlp(this.nonce),fe.bnToRlp(this.balance),this.stateRoot,this.codeHash]}serialize(){return kr.encode(this.raw())}isContract(){return!this.codeHash.equals(oe.KECCAK256_NULL)}isEmpty(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(oe.KECCAK256_NULL)}};x.Account=Ut;x.isValidAddress=function(i){return xt.assertIsHexString(i),/^0x[0-9a-fA-F]{40}$/.test(i)};x.toChecksumAddress=function(i,m){xt.assertIsHexString(i);let c=Ti.stripHexPrefix(i).toLowerCase(),p="";m&&(p=fe.toType(m,fe.TypeOutput.BN).toString()+"0x");let u=Zt.keccakFromString(p+c).toString("hex"),B="0x";for(let I=0;I<c.length;I++)parseInt(u[I],16)>=8?B+=c[I].toUpperCase():B+=c[I];return B};x.isValidChecksumAddress=function(i,m){return x.isValidAddress(i)&&x.toChecksumAddress(i,m)===i};x.generateAddress=function(i,m){xt.assertIsBuffer(i),xt.assertIsBuffer(m);let c=new Et.default(m);return c.isZero()?Zt.rlphash([i,null]).slice(-20):Zt.rlphash([i,v.Buffer.from(c.toArray())]).slice(-20)};x.generateAddress2=function(i,m,c){return xt.assertIsBuffer(i),xt.assertIsBuffer(m),xt.assertIsBuffer(c),Ze.default(i.length===20),Ze.default(m.length===32),Zt.keccak256(v.Buffer.concat([v.Buffer.from("ff","hex"),i,m,Zt.keccak256(c)])).slice(-20)};x.isValidPrivate=function(i){return Ei(i)};x.isValidPublic=function(i,m=!1){return xt.assertIsBuffer(i),i.length===64?Ir(v.Buffer.concat([v.Buffer.from([4]),i])):m?Ir(i):!1};x.pubToAddress=function(i,m=!1){return xt.assertIsBuffer(i),m&&i.length!==64&&(i=v.Buffer.from(Er(i,!1).slice(1))),Ze.default(i.length===64),Zt.keccak(i).slice(-20)};x.publicToAddress=x.pubToAddress;x.privateToPublic=function(i){return xt.assertIsBuffer(i),v.Buffer.from(Ci(i,!1)).slice(1)};x.privateToAddress=function(i){return x.publicToAddress(x.privateToPublic(i))};x.importPublic=function(i){return xt.assertIsBuffer(i),i.length!==64&&(i=v.Buffer.from(Er(i,!1).slice(1))),i};x.zeroAddress=function(){let m=zt.zeros(20);return zt.bufferToHex(m)};x.isZeroAddress=function(i){return xt.assertIsHexString(i),x.zeroAddress()===i}});var Nr=_t(ae=>{"use strict";w();_();Object.defineProperty(ae,"__esModule",{value:!0});ae.Address=void 0;var Ot=Le(),Ni=Lt(),Cr=qt(),Xt=Ue(),St=class{constructor(m){Ot(m.length===20,"Invalid address length"),this.buf=m}static zero(){return new St(Cr.zeros(20))}static fromString(m){return Ot(Xt.isValidAddress(m),"Invalid address"),new St(Cr.toBuffer(m))}static fromPublicKey(m){Ot(v.Buffer.isBuffer(m),"Public key should be Buffer");let c=Xt.pubToAddress(m);return new St(c)}static fromPrivateKey(m){Ot(v.Buffer.isBuffer(m),"Private key should be Buffer");let c=Xt.privateToAddress(m);return new St(c)}static generate(m,c){return Ot(Ni.isBN(c)),new St(Xt.generateAddress(m.buf,c.toArrayLike(v.Buffer)))}static generate2(m,c,p){return Ot(v.Buffer.isBuffer(c)),Ot(v.Buffer.isBuffer(p)),new St(Xt.generateAddress2(m.buf,c,p))}equals(m){return this.buf.equals(m.buf)}isZero(){return this.equals(St.zero())}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return v.Buffer.from(this.buf)}};ae.Address=St});var Lr=_t(pt=>{"use strict";w();_();var Li=pt&&pt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pt,"__esModule",{value:!0});pt.hashPersonalMessage=pt.isValidSignature=pt.fromRpcSig=pt.toRpcSig=pt.ecrecover=pt.ecsign=void 0;var Fe=_r(),Yt=Li(Lt()),Rt=qt(),qi=ie(),Ri=$t(),Ft=se();function Pi(i,m,c){let{signature:p,recid:u}=Fe.ecdsaSign(i,m),B=v.Buffer.from(p.slice(0,32)),I=v.Buffer.from(p.slice(32,64));if(!c||typeof c=="number"){if(c&&!Number.isSafeInteger(c))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");let Tt=c?u+(c*2+35):u+27;return{r:B,s:I,v:Tt}}let gt=Ft.toType(c,Ft.TypeOutput.BN).muln(2).addn(35).addn(u).toArrayLike(v.Buffer);return{r:B,s:I,v:gt}}pt.ecsign=Pi;function Ve(i,m){let c=Ft.toType(i,Ft.TypeOutput.BN);if(!m)return c.subn(27);let p=Ft.toType(m,Ft.TypeOutput.BN);return c.sub(p.muln(2).addn(35))}function Ge(i){let m=new Yt.default(i);return m.eqn(0)||m.eqn(1)}pt.ecrecover=function(i,m,c,p,u){let B=v.Buffer.concat([Rt.setLengthLeft(c,32),Rt.setLengthLeft(p,32)],64),I=Ve(m,u);if(!Ge(I))throw new Error("Invalid signature v value");let C=Fe.ecdsaRecover(B,I.toNumber(),i);return v.Buffer.from(Fe.publicKeyConvert(C,!1).slice(1))};pt.toRpcSig=function(i,m,c,p){let u=Ve(i,p);if(!Ge(u))throw new Error("Invalid signature v value");return Rt.bufferToHex(v.Buffer.concat([Rt.setLengthLeft(m,32),Rt.setLengthLeft(c,32),Rt.toBuffer(i)]))};pt.fromRpcSig=function(i){let m=Rt.toBuffer(i);if(m.length<65)throw new Error("Invalid signature length");let c=Rt.bufferToInt(m.slice(64));return c<27&&(c+=27),{v:c,r:m.slice(0,32),s:m.slice(32,64)}};pt.isValidSignature=function(i,m,c,p=!0,u){let B=new Yt.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),I=new Yt.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(m.length!==32||c.length!==32||!Ge(Ve(i,u)))return!1;let C=new Yt.default(m),gt=new Yt.default(c);return!(C.isZero()||C.gt(I)||gt.isZero()||gt.gt(I)||p&&gt.cmp(B)===1)};pt.hashPersonalMessage=function(i){Ri.assertIsBuffer(i);let m=v.Buffer.from(`Ethereum Signed Message:
${i.length.toString()}`,"utf-8");return qi.keccak(v.Buffer.concat([m,i]))}});var Or=_t(bt=>{"use strict";w();_();var Oi=bt&&bt.__createBinding||(Object.create?function(i,m,c,p){p===void 0&&(p=c),Object.defineProperty(i,p,{enumerable:!0,get:function(){return m[c]}})}:function(i,m,c,p){p===void 0&&(p=c),i[p]=m[c]}),Hi=bt&&bt.__setModuleDefault||(Object.create?function(i,m){Object.defineProperty(i,"default",{enumerable:!0,value:m})}:function(i,m){i.default=m}),Pr=bt&&bt.__importStar||function(i){if(i&&i.__esModule)return i;var m={};if(i!=null)for(var c in i)c!=="default"&&Object.hasOwnProperty.call(i,c)&&Oi(m,i,c);return Hi(m,i),m},Ki=bt&&bt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bt,"__esModule",{value:!0});bt.defineProperties=void 0;var qr=Ki(Le()),Di=Pr(Kt()),Rr=Pr(re()),he=qt();bt.defineProperties=function(i,m,c){if(i.raw=[],i._fields=[],i.toJSON=function(p=!1){if(p){let u={};return i._fields.forEach(B=>{u[B]=`0x${i[B].toString("hex")}`}),u}return he.baToJSON(i.raw)},i.serialize=function(){return Rr.encode(i.raw)},m.forEach((p,u)=>{i._fields.push(p.name);function B(){return i.raw[u]}function I(C){C=he.toBuffer(C),C.toString("hex")==="00"&&!p.allowZero&&(C=v.Buffer.allocUnsafe(0)),p.allowLess&&p.length?(C=he.unpadBuffer(C),qr.default(p.length>=C.length,`The field ${p.name} must not have more ${p.length} bytes`)):!(p.allowZero&&C.length===0)&&p.length&&qr.default(p.length===C.length,`The field ${p.name} must have byte length of ${p.length}`),i.raw[u]=C}Object.defineProperty(i,p.name,{enumerable:!0,configurable:!0,get:B,set:I}),p.default&&(i[p.name]=p.default),p.alias&&Object.defineProperty(i,p.alias,{enumerable:!1,configurable:!0,set:I,get:B})}),c)if(typeof c=="string"&&(c=v.Buffer.from(Di.stripHexPrefix(c),"hex")),v.Buffer.isBuffer(c)&&(c=Rr.decode(c)),Array.isArray(c)){if(c.length>i._fields.length)throw new Error("wrong number of fields in data");c.forEach((p,u)=>{i[i._fields[u]]=he.toBuffer(p)})}else if(typeof c=="object"){let p=Object.keys(c);m.forEach(u=>{p.indexOf(u.name)!==-1&&(i[u.name]=c[u.name]),p.indexOf(u.alias)!==-1&&(i[u.alias]=c[u.alias])})}else throw new Error("invalid data")}});var Hr=_t(Vt=>{"use strict";w();_();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.rlp=Vt.BN=void 0;var zi=Lt();Vt.BN=zi;var Zi=re();Vt.rlp=Zi});var Kr=_t(vt=>{"use strict";w();_();var Ui=vt&&vt.__createBinding||(Object.create?function(i,m,c,p){p===void 0&&(p=c),Object.defineProperty(i,p,{enumerable:!0,get:function(){return m[c]}})}:function(i,m,c,p){p===void 0&&(p=c),i[p]=m[c]}),It=vt&&vt.__exportStar||function(i,m){for(var c in i)c!=="default"&&!m.hasOwnProperty(c)&&Ui(m,i,c)};Object.defineProperty(vt,"__esModule",{value:!0});It(Pe(),vt);It(Ue(),vt);It(Nr(),vt);It(ie(),vt);It(Lr(),vt);It(qt(),vt);It(Or(),vt);It(Hr(),vt);It(se(),vt);It(Kt(),vt)});w();_();var Dr={options:{keyPath:"dappUrl",autoIncrement:!1},enableCache:!1};w();_();wr();w();_();var zr={options:{keyPath:"walletId"},enableCache:!0};w();_();var Zr={options:{keyPath:"walletId"},enableCache:!1};w();_();var Ur={options:{keyPath:"coinId"},enableCache:!1,indices:[{indexName:"baseCoinId",keyPath:"baseCoinId",options:{unique:!1}}]};w();_();var Fr={options:{keyPath:"providerType",autoIncrement:!1},enableCache:!1};w();_();var Vr={options:{keyPath:"extensionKey",autoIncrement:!1},enableCache:!0};w();_();var Gr={options:{keyPath:"a",autoIncrement:!1},enableCache:!1};w();_();var jr={options:{keyPath:"id",autoIncrement:!1},enableCache:!1};w();_();var $r={options:{keyPath:"netWorkId",autoIncrement:!1},enableCache:!1};w();_();var Wr={options:{keyPath:"id",autoIncrement:!1},enableCache:!1};w();_();var Jr={options:{keyPath:"uniqueId",autoIncrement:!1},enableCache:!0};w();_();var Xr={};w();_();var Yr={options:{keyPath:"realChainIdHex",autoIncrement:!1},enableCache:!0};var Fi=30,Qr={permissions_log:Wr,connect_records:Dr,balance:Zr,networks:$r,default_gas:Yr,rpc_networks:Jr,extension_config:Vr,common_coins:Ur,near_accesskey:jr,log:Gr,current_networks:Fr,assets:zr,...Xr},qs=Object.keys(Qr).reduce((i,m)=>(i[m]=m,i),{}),Vi={dbName:"okex_wallet",config:Qr,timeout:8e3,version:Fi+1e7},je=null;function Gi(){je||(je=new yr(Vi))}var ji=new Proxy({},{get(i,m){return Gi(),je?.openStore(m)}}),Rs=ji;w();_();wr();var ue=oi(Kr());ai();var Ct=Mr.BigNumber,ei=new Ct("1000000000000000000"),ri=new Ct("1000000000"),ii=new Ct("1"),ti={hex:i=>new Ct((0,ue.stripHexPrefix)(i),16),dec:i=>new Ct(String(i),10),BN:i=>new Ct(i.toString(16),16)},$i={WEI:i=>jt(i,ei),GWEI:i=>jt(i,ri),ETH:i=>jt(i,ii)},Wi={WEI:i=>ee(Gt(i,ei),0),GWEI:i=>ee(Gt(i,ri),9),ETH:i=>ee(Gt(i,ii),9)},Ji={hex:i=>i.toString(16),dec:i=>new Ct(i).toString(10),BN:i=>new ue.BN(i.toString(16))};var Xi=({value:i,fromNumericBase:m,fromDenomination:c,fromCurrency:p,toNumericBase:u,toDenomination:B,toCurrency:I,numberOfDecimals:C,conversionRate:gt,invertConversionRate:Tt,roundDown:Ht})=>{let Mt=m?ti[m](i):i;if(c&&(Mt=$i[c](Mt)),p!==I){gt==null;let Qt=ti.dec(gt);Tt&&(Qt=jt(1,gt)),Mt=Gt(Mt,Qt)}return B&&(Mt=Wi[B](Mt)),C&&(Mt=new Ct(Ne(Mt,I?.toUpperCase()==="BTC"?4:Number(C)))),Ht&&(Mt=new Ct(Ne(Mt,Ht&&Number(Ht)))),u&&(Mt=Ji[u](Mt)),Mt},$s=(i,{fromCurrency:m=null,toCurrency:c=m,fromNumericBase:p,toNumericBase:u,fromDenomination:B,toDenomination:I,numberOfDecimals:C,conversionRate:gt,invertConversionRate:Tt})=>Xi({fromCurrency:m,toCurrency:c,fromNumericBase:p,toNumericBase:u,fromDenomination:B,toDenomination:I,numberOfDecimals:C,conversionRate:gt,invertConversionRate:Tt,value:i||"0"});export{Kr as a,qs as b,Vi as c,Rs as d,$s as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-45FKVGCF.js.map

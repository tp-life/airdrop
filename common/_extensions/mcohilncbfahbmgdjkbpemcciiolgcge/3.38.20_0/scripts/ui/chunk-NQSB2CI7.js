import{a as nt,d as bt,e as hn,f as Ue,i as Se,j as Y,k as Ee,o as De,q as yn,t as dn,w as G}from"./chunk-QXPU36HD.js";import{h as pn,m as h,o as y}from"./chunk-UGZFXKPB.js";h();y();h();y();h();y();h();y();h();y();function Qn(n){if(n.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let a=0;a<e.length;a++)e[a]=255;for(let a=0;a<n.length;a++){let f=n.charAt(a),m=f.charCodeAt(0);if(e[m]!==255)throw new TypeError(f+" is ambiguous");e[m]=a}let t=n.length,r=n.charAt(0),i=Math.log(t)/Math.log(256),u=Math.log(256)/Math.log(t);function o(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";let f=0,m=0,_=0,S=a.length;for(;_!==S&&a[_]===0;)_++,f++;let k=(S-_)*u+1>>>0,E=new Uint8Array(k);for(;_!==S;){let F=a[_],_e=0;for(let ue=k-1;(F!==0||_e<m)&&ue!==-1;ue--,_e++)F+=256*E[ue]>>>0,E[ue]=F%t>>>0,F=F/t>>>0;if(F!==0)throw new Error("Non-zero carry");m=_e,_++}let P=k-m;for(;P!==k&&E[P]===0;)P++;let $e=r.repeat(f);for(;P<k;++P)$e+=n.charAt(E[P]);return $e}function l(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;let f=0,m=0,_=0;for(;a[f]===r;)m++,f++;let S=(a.length-f)*i+1>>>0,k=new Uint8Array(S);for(;a[f];){let F=e[a.charCodeAt(f)];if(F===255)return;let _e=0;for(let ue=S-1;(F!==0||_e<_)&&ue!==-1;ue--,_e++)F+=t*k[ue]>>>0,k[ue]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");_=_e,f++}let E=S-_;for(;E!==S&&k[E]===0;)E++;let P=new Uint8Array(m+(S-E)),$e=m;for(;E!==S;)P[$e++]=k[E++];return P}function c(a){let f=l(a);if(f)return f;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:l,decode:c}}var mn=Qn;var er="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",gt=mn(er);var oe=n=>gt.encode(n),le=n=>gt.decode(n);h();y();function V(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}var kt=8192;function R(n){if(n.length<kt)return btoa(String.fromCharCode(...n));let e="";for(var t=0;t<n.length;t+=kt){let r=n.slice(t,t+kt);e+=String.fromCharCode(...r)}return btoa(e)}h();y();h();y();function Ie(n){let e=n.startsWith("0x")?n.slice(2):n,r=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(r)}function ce(n){return n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}h();y();h();y();function Pe(n){let e=[],t=0;if(n===0)return[0];for(;n>0;)e[t]=n&127,(n>>=7)&&(e[t]|=128),t+=1;return e}function vn(n){let e=0,t=0,r=0;for(;;){let i=n[r];if(r+=1,e|=(i&127)<<t,(i&128)===0)break;t+=7}return{value:e,length:r}}var rt=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),r=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read128(){let e=BigInt(this.read64()),r=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+r).toString(10)}read256(){let e=BigInt(this.read128()),r=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+r).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:i}=vn(t);return this.shift(i),r}readVec(e){let t=this.readULEB(),r=[];for(let i=0;i<t;i++)r.push(e(this,i,t));return r}};h();y();h();y();function wt(n,e){switch(e){case"base58":return oe(n);case"base64":return R(n);case"hex":return ce(n);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function it(n,e=["<",">"]){let[t,r]=e,i=[],u="",o=0;for(let l=0;l<n.length;l++){let c=n[l];if(c===t&&o++,c===r&&o--,o===0&&c===","){i.push(u.trim()),u="";continue}u+=c}return i.push(u.trim()),i}var st=class{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let t=this.bytePosition+e;if(t>this.size){let r=Math.min(this.maxSize,this.size+this.allocateSize);if(t>r)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=r;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return _t(BigInt(e),8).forEach(t=>this.write8(t)),this}write128(e){return _t(BigInt(e),16).forEach(t=>this.write8(t)),this}write256(e){return _t(BigInt(e),32).forEach(t=>this.write8(t)),this}writeULEB(e){return Pe(e).forEach(t=>this.write8(t)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,i)=>t(this,r,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return wt(this.toBytes(),e)}};function _t(n,e){let t=new Uint8Array(e),r=0;for(;n>0;)t[r]=Number(n%BigInt(256)),n=n/BigInt(256),r+=1;return t}var bn=n=>{throw TypeError(n)},gn=(n,e,t)=>e.has(n)||bn("Cannot "+t),Z=(n,e,t)=>(gn(n,e,"read from private field"),t?t.call(n):e.get(n)),ot=(n,e,t)=>e.has(n)?bn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),lt=(n,e,t,r)=>(gn(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Re,Ge,ut,me,tr=class kn{constructor(e){ot(this,Re),ot(this,Ge),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),lt(this,Re,e.write),lt(this,Ge,e.serialize??((t,r)=>{let i=new st({initialSize:this.serializedSize(t)??void 0,...r});return Z(this,Re).call(this,t,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),Z(this,Re).call(this,e,t)}serialize(e,t){return this.validate(e),new ct(this,Z(this,Ge).call(this,e,t))}parse(e){let t=new rt(e);return this.read(t)}fromHex(e){return this.parse(Ie(e))}fromBase58(e){return this.parse(le(e))}fromBase64(e){return this.parse(V(e))}transform({name:e,input:t,output:r,validate:i}){return new kn({name:e??this.name,read:u=>r(this.read(u)),write:(u,o)=>Z(this,Re).call(this,t(u),o),serializedSize:u=>this.serializedSize(t(u)),serialize:(u,o)=>Z(this,Ge).call(this,t(u),o),validate:u=>{i?.(u),this.validate(t(u))}})}};Re=new WeakMap;Ge=new WeakMap;var Q=tr,wn=Symbol.for("@mysten/serialized-bcs");function Be(n){return!!n&&typeof n=="object"&&n[wn]===!0}var ct=class{constructor(e,t){ot(this,ut),ot(this,me),lt(this,ut,e),lt(this,me,t)}get[wn](){return!0}toBytes(){return Z(this,me)}toHex(){return ce(Z(this,me))}toBase64(){return R(Z(this,me))}toBase58(){return oe(Z(this,me))}parse(){return Z(this,ut).parse(Z(this,me))}};ut=new WeakMap;me=new WeakMap;function Le({size:n,...e}){return new Q({...e,serializedSize:()=>n})}function at({readMethod:n,writeMethod:e,...t}){return Le({...t,read:r=>r[n](),write:(r,i)=>i[e](r),validate:r=>{if(r<0||r>t.maxValue)throw new TypeError(`Invalid ${t.name} value: ${r}. Expected value in range 0-${t.maxValue}`);t.validate?.(r)}})}function ft({readMethod:n,writeMethod:e,...t}){return Le({...t,read:r=>r[n](),write:(r,i)=>i[e](BigInt(r)),validate:r=>{let i=BigInt(r);if(i<0||i>t.maxValue)throw new TypeError(`Invalid ${t.name} value: ${i}. Expected value in range 0-${t.maxValue}`);t.validate?.(i)}})}function _n({serialize:n,...e}){let t=new Q({...e,serialize:n,write:(r,i)=>{for(let u of t.serialize(r).toBytes())i.write8(u)}});return t}function Sn({toBytes:n,fromBytes:e,...t}){return new Q({...t,read:r=>{let i=r.readULEB(),u=r.readBytes(i);return e(u)},write:(r,i)=>{let u=n(r);i.writeULEB(u.length);for(let o=0;o<u.length;o++)i.write8(u[o])},serialize:r=>{let i=n(r),u=Pe(i.length),o=new Uint8Array(u.length+i.length);return o.set(u,0),o.set(i,u.length),o},validate:r=>{if(typeof r!="string")throw new TypeError(`Invalid ${t.name} value: ${r}. Expected string`);t.validate?.(r)}})}function En(n){let e=null;function t(){return e||(e=n()),e}return new Q({name:"lazy",read:r=>t().read(r),serializedSize:r=>t().serializedSize(r),write:(r,i)=>t().write(r,i),serialize:(r,i)=>t().serialize(r,i).toBytes()})}h();y();var s={u8(n){return at({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...n})},u16(n){return at({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...n})},u32(n){return at({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...n})},u64(n){return ft({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...n})},u128(n){return ft({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...n})},u256(n){return ft({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...n})},bool(n){return Le({name:"bool",size:1,read:e=>e.read8()===1,write:(e,t)=>t.write8(e?1:0),...n,validate:e=>{if(n?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(n){return _n({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(Pe(e)),...n})},bytes(n,e){return Le({name:`bytes[${n}]`,size:n,read:t=>t.readBytes(n),write:(t,r)=>{for(let i=0;i<n;i++)r.write8(t[i]??0)},...e,validate:t=>{if(e?.validate?.(t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`);if(t.length!==n)throw new TypeError(`Expected array of length ${n}, found ${t.length}`)}})},string(n){return Sn({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...n})},fixedArray(n,e,t){return new Q({name:`${e.name}[${n}]`,read:r=>{let i=new Array(n);for(let u=0;u<n;u++)i[u]=e.read(r);return i},write:(r,i)=>{for(let u of r)e.write(u,i)},...t,validate:r=>{if(t?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==n)throw new TypeError(`Expected array of length ${n}, found ${r.length}`)}})},option(n){return s.enum(`Option<${n.name}>`,{None:null,Some:n}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(n,e){return new Q({name:`vector<${n.name}>`,read:t=>{let r=t.readULEB(),i=new Array(r);for(let u=0;u<r;u++)i[u]=n.read(t);return i},write:(t,r)=>{r.writeULEB(t.length);for(let i of t)n.write(i,r)},...e,validate:t=>{if(e?.validate?.(t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`)}})},tuple(n,e){return new Q({name:`(${n.map(t=>t.name).join(", ")})`,serializedSize:t=>{let r=0;for(let i=0;i<n.length;i++){let u=n[i].serializedSize(t[i]);if(u==null)return null;r+=u}return r},read:t=>{let r=[];for(let i of n)r.push(i.read(t));return r},write:(t,r)=>{for(let i=0;i<n.length;i++)n[i].write(t[i],r)},...e,validate:t=>{if(e?.validate?.(t),!Array.isArray(t))throw new TypeError(`Expected array, found ${typeof t}`);if(t.length!==n.length)throw new TypeError(`Expected array of length ${n.length}, found ${t.length}`)}})},struct(n,e,t){let r=Object.entries(e);return new Q({name:n,serializedSize:i=>{let u=0;for(let[o,l]of r){let c=l.serializedSize(i[o]);if(c==null)return null;u+=c}return u},read:i=>{let u={};for(let[o,l]of r)u[o]=l.read(i);return u},write:(i,u)=>{for(let[o,l]of r)l.write(i[o],u)},...t,validate:i=>{if(t?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(n,e,t){let r=Object.entries(e);return new Q({name:n,read:i=>{let u=i.readULEB(),o=r[u];if(!o)throw new TypeError(`Unknown value ${u} for enum ${n}`);let[l,c]=o;return{[l]:c?.read(i)??!0,$kind:l}},write:(i,u)=>{let[o,l]=Object.entries(i).filter(([c])=>Object.hasOwn(e,c))[0];for(let c=0;c<r.length;c++){let[a,f]=r[c];if(a===o){u.writeULEB(c),f?.write(l,u);return}}},...t,validate:i=>{if(t?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let u=Object.keys(i).filter(l=>i[l]!==void 0&&Object.hasOwn(e,l));if(u.length!==1)throw new TypeError(`Expected object with one key, but found ${u.length} for type ${n}}`);let[o]=u;if(!Object.hasOwn(e,o))throw new TypeError(`Invalid enum variant ${o}`)}})},map(n,e){return s.vector(s.tuple([n,e])).transform({name:`Map<${n.name}, ${e.name}>`,input:t=>[...t.entries()],output:t=>{let r=new Map;for(let[i,u]of t)r.set(i,u);return r}})},lazy(n){return En(n)}};h();y();var St;function nr(n){return{lang:n?.lang??St?.lang,message:n?.message,abortEarly:n?.abortEarly??St?.abortEarly,abortPipeEarly:n?.abortPipeEarly??St?.abortPipeEarly}}var rr;function ir(n){return rr?.get(n)}var sr;function ur(n){return sr?.get(n)}var or;function lr(n,e){return or?.get(n)?.get(e)}function jn(n){let e=typeof n;return e==="string"?`"${n}"`:e==="number"||e==="bigint"||e==="boolean"?`${n}`:e==="object"||e==="function"?(n&&Object.getPrototypeOf(n)?.constructor?.name)??"null":e}function K(n,e,t,r,i){let u=i&&"input"in i?i.input:t.value,o=i?.expected??n.expects??null,l=i?.received??jn(u),c={kind:n.kind,type:n.type,input:u,expected:o,received:l,message:`Invalid ${e}: ${o?`Expected ${o} but r`:"R"}eceived ${l}`,requirement:n.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},a=n.kind==="schema",f=i?.message??n.message??lr(n.reference,c.lang)??(a?ur(c.lang):null)??r.message??ir(c.lang);f&&(c.message=typeof f=="function"?f(c):f),a&&(t.typed=!1),t.issues?t.issues.push(c):t.issues=[c]}function cr(n,e){return Object.hasOwn(n,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var ar=class extends Error{constructor(e){super(e[0].message);pn(this,"issues");this.name="ValiError",this.issues=e}};function je(n,e){return{kind:"validation",type:"check",reference:je,async:!1,expects:null,requirement:n,message:e,_run(t,r){return t.typed&&!this.requirement(t.value)&&K(this,"input",t,r),t}}}function U(n){return{kind:"validation",type:"integer",reference:U,async:!1,expects:null,requirement:Number.isInteger,message:n,_run(e,t){return e.typed&&!this.requirement(e.value)&&K(this,"integer",e,t),e}}}function qe(n){return{kind:"transformation",type:"transform",reference:qe,async:!1,operation:n,_run(e){return e.value=this.operation(e.value),e}}}function Et(n,e,t){return typeof n.default=="function"?n.default(e,t):n.default}function Xe(n,e){return!n._run({typed:!1,value:e},{abortEarly:!0}).issues}function v(n,e){return{kind:"schema",type:"array",reference:v,expects:"Array",async:!1,item:n,message:e,_run(t,r){let i=t.value;if(Array.isArray(i)){t.typed=!0,t.value=[];for(let u=0;u<i.length;u++){let o=i[u],l=this.item._run({typed:!1,value:o},r);if(l.issues){let c={type:"array",origin:"value",input:i,key:u,value:o};for(let a of l.issues)a.path?a.path.unshift(c):a.path=[c],t.issues?.push(a);if(t.issues||(t.issues=l.issues),r.abortEarly){t.typed=!1;break}}l.typed||(t.typed=!1),t.value.push(l.value)}}else K(this,"type",t,r);return t}}}function pt(n){return{kind:"schema",type:"bigint",reference:pt,expects:"bigint",async:!1,message:n,_run(e,t){return typeof e.value=="bigint"?e.typed=!0:K(this,"type",e,t),e}}}function xe(n){return{kind:"schema",type:"boolean",reference:xe,expects:"boolean",async:!1,message:n,_run(e,t){return typeof e.value=="boolean"?e.typed=!0:K(this,"type",e,t),e}}}function Oe(n){return{kind:"schema",type:"lazy",reference:Oe,expects:"unknown",async:!1,getter:n,_run(e,t){return this.getter(e.value)._run(e,t)}}}function b(n,e){return{kind:"schema",type:"literal",reference:b,expects:jn(n),async:!1,literal:n,message:e,_run(t,r){return t.value===this.literal?t.typed=!0:K(this,"type",t,r),t}}}function x(n,...e){let t={kind:"schema",type:"nullable",reference:x,expects:`${n.expects} | null`,async:!1,wrapped:n,_run(r,i){return r.value===null&&("default"in this&&(r.value=Et(this,r,i)),r.value===null)?(r.typed=!0,r):this.wrapped._run(r,i)}};return 0 in e&&(t.default=e[0]),t}function ae(n,...e){let t={kind:"schema",type:"nullish",reference:ae,expects:`${n.expects} | null | undefined`,async:!1,wrapped:n,_run(r,i){return(r.value===null||r.value===void 0)&&("default"in this&&(r.value=Et(this,r,i)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,i)}};return 0 in e&&(t.default=e[0]),t}function C(n){return{kind:"schema",type:"number",reference:C,expects:"number",async:!1,message:n,_run(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:K(this,"type",e,t),e}}}function p(n,e){return{kind:"schema",type:"object",reference:p,expects:"Object",async:!1,entries:n,message:e,_run(t,r){let i=t.value;if(i&&typeof i=="object"){t.typed=!0,t.value={};for(let u in this.entries){let o=i[u],l=this.entries[u]._run({typed:!1,value:o},r);if(l.issues){let c={type:"object",origin:"value",input:i,key:u,value:o};for(let a of l.issues)a.path?a.path.unshift(c):a.path=[c],t.issues?.push(a);if(t.issues||(t.issues=l.issues),r.abortEarly){t.typed=!1;break}}l.typed||(t.typed=!1),(l.value!==void 0||u in i)&&(t.value[u]=l.value)}}else K(this,"type",t,r);return t}}}function z(n,...e){let t={kind:"schema",type:"optional",reference:z,expects:`${n.expects} | undefined`,async:!1,wrapped:n,_run(r,i){return r.value===void 0&&("default"in this&&(r.value=Et(this,r,i)),r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,i)}};return 0 in e&&(t.default=e[0]),t}function Ae(n,e,t){return{kind:"schema",type:"record",reference:Ae,expects:"Object",async:!1,key:n,value:e,message:t,_run(r,i){let u=r.value;if(u&&typeof u=="object"){r.typed=!0,r.value={};for(let o in u)if(cr(u,o)){let l=u[o],c=this.key._run({typed:!1,value:o},i);if(c.issues){let f={type:"object",origin:"key",input:u,key:o,value:l};for(let m of c.issues)m.path=[f],r.issues?.push(m);if(r.issues||(r.issues=c.issues),i.abortEarly){r.typed=!1;break}}let a=this.value._run({typed:!1,value:l},i);if(a.issues){let f={type:"object",origin:"value",input:u,key:o,value:l};for(let m of a.issues)m.path?m.path.unshift(f):m.path=[f],r.issues?.push(m);if(r.issues||(r.issues=a.issues),i.abortEarly){r.typed=!1;break}}(!c.typed||!a.typed)&&(r.typed=!1),c.typed&&(r.value[c.value]=a.value)}}else K(this,"type",r,i);return r}}}function w(n){return{kind:"schema",type:"string",reference:w,expects:"string",async:!1,message:n,_run(e,t){return typeof e.value=="string"?e.typed=!0:K(this,"type",e,t),e}}}function Fe(n,e){return{kind:"schema",type:"tuple",reference:Fe,expects:"Array",async:!1,items:n,message:e,_run(t,r){let i=t.value;if(Array.isArray(i)){t.typed=!0,t.value=[];for(let u=0;u<this.items.length;u++){let o=i[u],l=this.items[u]._run({typed:!1,value:o},r);if(l.issues){let c={type:"array",origin:"value",input:i,key:u,value:o};for(let a of l.issues)a.path?a.path.unshift(c):a.path=[c],t.issues?.push(a);if(t.issues||(t.issues=l.issues),r.abortEarly){t.typed=!1;break}}l.typed||(t.typed=!1),t.value.push(l.value)}}else K(this,"type",t,r);return t}}}function In(n){let e;if(n)for(let t of n)e?e.push(...t.issues):e=t.issues;return e}function B(n,e){return{kind:"schema",type:"union",reference:B,expects:[...new Set(n.map(t=>t.expects))].join(" | ")||"never",async:!1,options:n,message:e,_run(t,r){let i,u,o;for(let l of this.options){let c=l._run({typed:!1,value:t.value},r);if(c.typed)if(c.issues)u?u.push(c):u=[c];else{i=c;break}else o?o.push(c):o=[c]}if(i)return i;if(u){if(u.length===1)return u[0];K(this,"type",t,r,{issues:In(u)}),t.typed=!0}else{if(o?.length===1)return o[0];K(this,"type",t,r,{issues:In(o)})}return t}}}function se(){return{kind:"schema",type:"unknown",reference:se,expects:"unknown",async:!1,_run(n){return n.typed=!0,n}}}function M(n,e,t){let r=n._run({typed:!1,value:e},nr(t));if(r.issues)throw new ar(r.issues);return r.value}function T(...n){return{...n[0],pipe:n,_run(e,t){for(let r=0;r<n.length;r++){if(e.issues&&(n[r].kind==="schema"||n[r].kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=n[r]._run(e,t))}return e}}}h();y();var fr=32;function pr(n){try{return le(n).length===fr}catch{return!1}}var We=32;function ze(n){return yr(n)&&dr(n)===We}function hr(n){return ze(n)}function O(n,e=!1){let t=n.toLowerCase();return!e&&t.startsWith("0x")&&(t=t.slice(2)),`0x${t.padStart(We*2,"0")}`}function fe(n,e=!1){return O(n,e)}function yr(n){return/^(0x|0X)?[a-fA-F0-9]+$/.test(n)&&n.length%2===0}function dr(n){return/^(0x|0X)/.test(n)?(n.length-2)/2:n.length/2}h();y();h();y();function be(n){let e=Object.entries(n).map(([t,r])=>p({[t]:r}));return T(B(e),qe(t=>({...t,$kind:Object.keys(t)[0]})))}var Te=T(w(),qe(n=>O(n)),je(ze)),q=Te,ve=w(),L=T(B([w(),T(C(),U())]),je(n=>{try{return BigInt(n),BigInt(n)>=0&&BigInt(n)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ee=p({objectId:Te,version:L,digest:w()}),$=T(B([p({GasCoin:b(!0)}),p({Input:T(C(),U()),type:z(b("pure"))}),p({Input:T(C(),U()),type:z(b("object"))}),p({Result:T(C(),U())}),p({NestedResult:Fe([T(C(),U()),T(C(),U())])})]),qe(n=>({...n,$kind:Object.keys(n)[0]}))),mr=p({budget:x(L),price:x(L),owner:x(Te),payment:x(v(ee))}),Zs=p({address:w(),module:w(),name:w(),typeParams:v(w())}),It=B([b("address"),b("bool"),b("u8"),b("u16"),b("u32"),b("u64"),b("u128"),b("u256"),p({vector:Oe(()=>It)}),p({datatype:p({package:w(),module:w(),type:w(),typeParameters:v(Oe(()=>It))})}),p({typeParameter:T(C(),U())})]),vr=p({ref:x(B([b("&"),b("&mut")])),body:It}),br=p({package:q,module:w(),function:w(),typeArguments:v(w()),arguments:v($),_argumentTypes:z(x(v(vr)))}),gr=p({name:w(),inputs:Ae(w(),B([$,v($)])),data:Ae(w(),se())}),kr=be({MoveCall:br,TransferObjects:p({objects:v($),address:$}),SplitCoins:p({coin:$,amounts:v($)}),MergeCoins:p({destination:$,sources:v($)}),Publish:p({modules:v(ve),dependencies:v(q)}),MakeMoveVec:p({type:x(w()),elements:v($)}),Upgrade:p({modules:v(ve),dependencies:v(q),package:q,ticket:$}),$Intent:gr}),xn=be({ImmOrOwnedObject:ee,SharedObject:p({objectId:q,initialSharedVersion:L,mutable:xe()}),Receiving:ee}),wr=be({Object:xn,Pure:p({bytes:ve}),UnresolvedPure:p({value:se()}),UnresolvedObject:p({objectId:q,version:z(x(L)),digest:z(x(w())),initialSharedVersion:z(x(L))})}),jt=be({Object:xn,Pure:p({bytes:ve})}),xt=be({None:b(!0),Epoch:L}),Ne=p({version:b(2),sender:ae(Te),expiration:ae(xt),gasData:mr,inputs:v(wr),commands:v(kr)});var ge={MoveCall(n){let[e,t="",r=""]="target"in n?n.target.split("::"):[n.package,n.module,n.function];return{$kind:"MoveCall",MoveCall:{package:e,module:t,function:r,typeArguments:n.typeArguments??[],arguments:n.arguments??[]}}},TransferObjects(n,e){return{$kind:"TransferObjects",TransferObjects:{objects:n.map(t=>M($,t)),address:M($,e)}}},SplitCoins(n,e){return{$kind:"SplitCoins",SplitCoins:{coin:M($,n),amounts:e.map(t=>M($,t))}}},MergeCoins(n,e){return{$kind:"MergeCoins",MergeCoins:{destination:M($,n),sources:e.map(t=>M($,t))}}},Publish({modules:n,dependencies:e}){return{$kind:"Publish",Publish:{modules:n.map(t=>typeof t=="string"?t:R(new Uint8Array(t))),dependencies:e.map(t=>fe(t))}}},Upgrade({modules:n,dependencies:e,package:t,ticket:r}){return{$kind:"Upgrade",Upgrade:{modules:n.map(i=>typeof i=="string"?i:R(new Uint8Array(i))),dependencies:e.map(i=>fe(i)),package:t,ticket:M($,r)}}},MakeMoveVec({type:n,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:n??null,elements:e.map(t=>M($,t))}}},Intent({name:n,inputs:e={},data:t={}}){return{$kind:"$Intent",$Intent:{name:n,inputs:Object.fromEntries(Object.entries(e).map(([r,i])=>[r,Array.isArray(i)?i.map(u=>M($,u)):M($,i)])),data:t}}}};h();y();h();y();h();y();h();y();var _r=/^vector<(.+)>$/,Sr=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,X=class{static parseFromStr(e,t=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let r=e.match(_r);if(r)return{vector:X.parseFromStr(r[1],t)};let i=e.match(Sr);if(i)return{struct:{address:t?O(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:X.parseStructTypeArgs(i[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return it(e).map(r=>X.parseFromStr(r,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${X.tagToString(e.vector)}>`;if("struct"in e){let t=e.struct,r=t.typeParams.map(X.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}};function Er(n){return s.u64({name:"unsafe_u64",...n}).transform({input:e=>e,output:e=>Number(e)})}function Ir(n){return s.enum("Option",{None:null,Some:n})}var D=s.bytes(We).transform({validate:n=>{let e=typeof n=="string"?n:ce(n);if(!e||!ze(O(e)))throw new Error(`Invalid Sui address ${e}`)},input:n=>typeof n=="string"?Ie(O(n)):n,output:n=>O(ce(n))}),J=s.vector(s.u8()).transform({name:"ObjectDigest",input:n=>le(n),output:n=>oe(new Uint8Array(n)),validate:n=>{if(le(n).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),W=s.struct("SuiObjectRef",{objectId:D,version:s.u64(),digest:J}),Ot=s.struct("SharedObjectRef",{objectId:D,initialSharedVersion:s.u64(),mutable:s.bool()}),At=s.enum("ObjectArg",{ImmOrOwnedObject:W,SharedObject:Ot,Receiving:W}),Tt=s.enum("CallArg",{Pure:s.struct("Pure",{bytes:s.vector(s.u8()).transform({input:n=>typeof n=="string"?V(n):n,output:n=>R(new Uint8Array(n))})}),Object:At}),Mt=s.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:s.lazy(()=>Mt),struct:s.lazy(()=>Rt),u16:null,u32:null,u256:null}),ht=Mt.transform({input:n=>typeof n=="string"?X.parseFromStr(n,!0):n,output:n=>X.tagToString(n)}),te=s.enum("Argument",{GasCoin:null,Input:s.u16(),Result:s.u16(),NestedResult:s.tuple([s.u16(),s.u16()])}),Ct=s.struct("ProgrammableMoveCall",{package:D,module:s.string(),function:s.string(),typeArguments:s.vector(ht),arguments:s.vector(te)}),$t=s.enum("Command",{MoveCall:Ct,TransferObjects:s.struct("TransferObjects",{objects:s.vector(te),address:te}),SplitCoins:s.struct("SplitCoins",{coin:te,amounts:s.vector(te)}),MergeCoins:s.struct("MergeCoins",{destination:te,sources:s.vector(te)}),Publish:s.struct("Publish",{modules:s.vector(s.vector(s.u8()).transform({input:n=>typeof n=="string"?V(n):n,output:n=>R(new Uint8Array(n))})),dependencies:s.vector(D)}),MakeMoveVec:s.struct("MakeMoveVec",{type:Ir(ht).transform({input:n=>n===null?{None:!0}:{Some:n},output:n=>n.Some??null}),elements:s.vector(te)}),Upgrade:s.struct("Upgrade",{modules:s.vector(s.vector(s.u8()).transform({input:n=>typeof n=="string"?V(n):n,output:n=>R(new Uint8Array(n))})),dependencies:s.vector(D),package:D,ticket:te})}),Ut=s.struct("ProgrammableTransaction",{inputs:s.vector(Tt),commands:s.vector($t)}),Dt=s.enum("TransactionKind",{ProgrammableTransaction:Ut,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),Pt=s.enum("TransactionExpiration",{None:null,Epoch:Er()}),Rt=s.struct("StructTag",{address:D,module:s.string(),name:s.string(),typeParams:s.vector(Mt)}),Bt=s.struct("GasData",{payment:s.vector(W),owner:D,price:s.u64(),budget:s.u64()}),zt=s.struct("TransactionDataV1",{kind:Dt,sender:D,gasData:Bt,expiration:Pt}),Nt=s.enum("TransactionData",{V1:zt}),Vt=s.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Gt=s.enum("IntentVersion",{V0:null}),Lt=s.enum("AppId",{Sui:null}),qt=s.struct("Intent",{scope:Vt,version:Gt,appId:Lt});function Xt(n){return s.struct(`IntentMessage<${n.name}>`,{intent:qt,value:n})}var Ft=s.enum("CompressedSignature",{ED25519:s.fixedArray(64,s.u8()),Secp256k1:s.fixedArray(64,s.u8()),Secp256r1:s.fixedArray(64,s.u8()),ZkLogin:s.vector(s.u8())}),Wt=s.enum("PublicKey",{ED25519:s.fixedArray(32,s.u8()),Secp256k1:s.fixedArray(33,s.u8()),Secp256r1:s.fixedArray(33,s.u8()),ZkLogin:s.vector(s.u8())}),Ht=s.struct("MultiSigPkMap",{pubKey:Wt,weight:s.u8()}),Kt=s.struct("MultiSigPublicKey",{pk_map:s.vector(Ht),threshold:s.u16()}),On=s.struct("MultiSig",{sigs:s.vector(Ft),bitmap:s.u16(),multisig_pk:Kt}),jr=s.vector(s.u8()).transform({input:n=>typeof n=="string"?V(n):n,output:n=>R(new Uint8Array(n))}),Jt=s.struct("SenderSignedTransaction",{intentMessage:Xt(Nt),txSignatures:s.vector(jr)}),An=s.vector(Jt,{name:"SenderSignedData"});h();y();var xr=s.enum("PackageUpgradeError",{UnableToFetchPackage:s.struct("UnableToFetchPackage",{packageId:D}),NotAPackage:s.struct("NotAPackage",{objectId:D}),IncompatibleUpgrade:null,DigestDoesNotMatch:s.struct("DigestDoesNotMatch",{digest:s.vector(s.u8())}),UnknownUpgradePolicy:s.struct("UnknownUpgradePolicy",{policy:s.u8()}),PackageIDDoesNotMatch:s.struct("PackageIDDoesNotMatch",{packageId:D,ticketId:D})}),Or=s.struct("ModuleId",{address:D,name:s.string()}),Tn=s.struct("MoveLocation",{module:Or,function:s.u16(),instruction:s.u16(),functionName:s.option(s.string())}),Ar=s.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:s.struct("IndexOutOfBounds",{idx:s.u16()}),SecondaryIndexOutOfBounds:s.struct("SecondaryIndexOutOfBounds",{resultIdx:s.u16(),secondaryIdx:s.u16()}),InvalidResultArity:s.struct("InvalidResultArity",{resultIdx:s.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),Tr=s.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),Mr=s.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:s.struct("MoveObjectTooBig",{objectSize:s.u64(),maxObjectSize:s.u64()}),MovePackageTooBig:s.struct("MovePackageTooBig",{objectSize:s.u64(),maxObjectSize:s.u64()}),CircularObjectOwnership:s.struct("CircularObjectOwnership",{object:D}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:s.option(Tn),MoveAbort:s.tuple([Tn,s.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:s.struct("CommandArgumentError",{argIdx:s.u16(),kind:Ar}),TypeArgumentError:s.struct("TypeArgumentError",{argumentIdx:s.u16(),kind:Tr}),UnusedValueWithoutDrop:s.struct("UnusedValueWithoutDrop",{resultIdx:s.u16(),secondaryIdx:s.u16()}),InvalidPublicFunctionReturnType:s.struct("InvalidPublicFunctionReturnType",{idx:s.u16()}),InvalidTransferObject:null,EffectsTooLarge:s.struct("EffectsTooLarge",{currentSize:s.u64(),maxSize:s.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:s.struct("PackageUpgradeError",{upgradeError:xr}),WrittenObjectsTooLarge:s.struct("WrittenObjectsTooLarge",{currentSize:s.u64(),maxSize:s.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null}),Mn=s.enum("ExecutionStatus",{Success:null,Failed:s.struct("ExecutionFailed",{error:Mr,command:s.option(s.u64())})}),Cn=s.struct("GasCostSummary",{computationCost:s.u64(),storageCost:s.u64(),storageRebate:s.u64(),nonRefundableStorageFee:s.u64()}),Ve=s.enum("Owner",{AddressOwner:D,ObjectOwner:D,Shared:s.struct("Shared",{initialSharedVersion:s.u64()}),Immutable:null}),Cr=s.struct("TransactionEffectsV1",{status:Mn,executedEpoch:s.u64(),gasUsed:Cn,modifiedAtVersions:s.vector(s.tuple([D,s.u64()])),sharedObjects:s.vector(W),transactionDigest:J,created:s.vector(s.tuple([W,Ve])),mutated:s.vector(s.tuple([W,Ve])),unwrapped:s.vector(s.tuple([W,Ve])),deleted:s.vector(W),unwrappedThenDeleted:s.vector(W),wrapped:s.vector(W),gasObject:s.tuple([W,Ve]),eventsDigest:s.option(J),dependencies:s.vector(J)}),Yt=s.tuple([s.u64(),J]),$r=s.enum("ObjectIn",{NotExist:null,Exist:s.tuple([Yt,Ve])}),Ur=s.enum("ObjectOut",{NotExist:null,ObjectWrite:s.tuple([J,Ve]),PackageWrite:Yt}),Dr=s.enum("IDOperation",{None:null,Created:null,Deleted:null}),Pr=s.struct("EffectsObjectChange",{inputState:$r,outputState:Ur,idOperation:Dr}),Rr=s.enum("UnchangedSharedKind",{ReadOnlyRoot:Yt,MutateDeleted:s.u64(),ReadDeleted:s.u64(),Cancelled:s.u64(),PerEpochConfig:null}),Br=s.struct("TransactionEffectsV2",{status:Mn,executedEpoch:s.u64(),gasUsed:Cn,transactionDigest:J,gasObjectIndex:s.option(s.u32()),eventsDigest:s.option(J),dependencies:s.vector(J),lamportVersion:s.u64(),changedObjects:s.vector(s.tuple([D,Pr])),unchangedSharedObjects:s.vector(s.tuple([D,Rr])),auxDataDigest:s.option(J)}),$n=s.enum("TransactionEffects",{V1:Cr,V2:Br});var g={...s,U8:s.u8(),U16:s.u16(),U32:s.u32(),U64:s.u64(),U128:s.u128(),U256:s.u256(),ULEB128:s.uleb128(),Bool:s.bool(),String:s.string(),Address:D,AppId:Lt,Argument:te,CallArg:Tt,CompressedSignature:Ft,GasData:Bt,Intent:qt,IntentMessage:Xt,IntentScope:Vt,IntentVersion:Gt,MultiSig:On,MultiSigPkMap:Ht,MultiSigPublicKey:Kt,ObjectArg:At,ObjectDigest:J,ProgrammableMoveCall:Ct,ProgrammableTransaction:Ut,PublicKey:Wt,SenderSignedData:An,SenderSignedTransaction:Jt,SharedObjectRef:Ot,StructTag:Rt,SuiObjectRef:W,Command:$t,TransactionData:Nt,TransactionDataV1:zt,TransactionExpiration:Pt,TransactionKind:Dt,TypeTag:ht,TransactionEffects:$n};var Zt=p({digest:w(),objectId:w(),version:B([T(C(),U()),w(),pt()])}),zr=be({ImmOrOwned:Zt,Shared:p({objectId:q,initialSharedVersion:L,mutable:xe()}),Receiving:Zt}),Un=be({Object:zr,Pure:v(T(C(),U()))}),Pn=B([p({kind:b("Input"),index:T(C(),U()),value:se(),type:z(b("object"))}),p({kind:b("Input"),index:T(C(),U()),value:se(),type:b("pure")})]),Nr=B([p({Epoch:T(C(),U())}),p({None:x(b(!0))})]),Dn=T(B([C(),w(),pt()]),je(n=>{if(!["string","number","bigint"].includes(typeof n))return!1;try{return BigInt(n),!0}catch{return!1}})),Qt=B([p({bool:x(b(!0))}),p({u8:x(b(!0))}),p({u64:x(b(!0))}),p({u128:x(b(!0))}),p({address:x(b(!0))}),p({signer:x(b(!0))}),p({vector:Oe(()=>Qt)}),p({struct:Oe(()=>Vr)}),p({u16:x(b(!0))}),p({u32:x(b(!0))}),p({u256:x(b(!0))})]),Vr=p({address:w(),module:w(),name:w(),typeParams:v(Qt)}),Gr=p({budget:z(Dn),price:z(Dn),payment:z(v(Zt)),owner:z(w())}),Lr=[Pn,p({kind:b("GasCoin")}),p({kind:b("Result"),index:T(C(),U())}),p({kind:b("NestedResult"),index:T(C(),U()),resultIndex:T(C(),U())})],ye=B([...Lr]),qr=p({kind:b("MoveCall"),target:T(w(),je(n=>n.split("::").length===3)),typeArguments:v(w()),arguments:v(ye)}),Xr=p({kind:b("TransferObjects"),objects:v(ye),address:ye}),Fr=p({kind:b("SplitCoins"),coin:ye,amounts:v(ye)}),Wr=p({kind:b("MergeCoins"),destination:ye,sources:v(ye)}),Hr=p({kind:b("MakeMoveVec"),type:B([p({Some:Qt}),p({None:x(b(!0))})]),objects:v(ye)}),Kr=p({kind:b("Publish"),modules:v(v(T(C(),U()))),dependencies:v(w())}),Jr=p({kind:b("Upgrade"),modules:v(v(T(C(),U()))),dependencies:v(w()),packageId:w(),ticket:ye}),Yr=[qr,Xr,Fr,Wr,Kr,Jr,Hr],Zr=B([...Yr]),Pu=p({version:b(1),sender:z(w()),expiration:ae(Nr),gasConfig:Gr,inputs:v(Pn),transactions:v(Zr)});function en(n){let e=n.inputs.map((t,r)=>{if(t.Object)return{kind:"Input",index:r,value:{Object:t.Object.ImmOrOwnedObject?{ImmOrOwned:t.Object.ImmOrOwnedObject}:t.Object.Receiving?{Receiving:{digest:t.Object.Receiving.digest,version:t.Object.Receiving.version,objectId:t.Object.Receiving.objectId}}:{Shared:{mutable:t.Object.SharedObject.mutable,initialSharedVersion:t.Object.SharedObject.initialSharedVersion,objectId:t.Object.SharedObject.objectId}}},type:"object"};if(t.Pure)return{kind:"Input",index:r,value:{Pure:Array.from(V(t.Pure.bytes))},type:"pure"};if(t.UnresolvedPure)return{kind:"Input",type:"pure",index:r,value:t.UnresolvedPure.value};if(t.UnresolvedObject)return{kind:"Input",type:"object",index:r,value:t.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:n.sender??void 0,expiration:n.expiration?.$kind==="Epoch"?{Epoch:Number(n.expiration.Epoch)}:n.expiration?{None:!0}:null,gasConfig:{owner:n.gasData.owner??void 0,budget:n.gasData.budget??void 0,price:n.gasData.price??void 0,payment:n.gasData.payment??void 0},inputs:e,transactions:n.commands.map(t=>{if(t.MakeMoveVec)return{kind:"MakeMoveVec",type:t.MakeMoveVec.type===null?{None:!0}:{Some:X.parseFromStr(t.MakeMoveVec.type)},objects:t.MakeMoveVec.elements.map(r=>pe(r,e))};if(t.MergeCoins)return{kind:"MergeCoins",destination:pe(t.MergeCoins.destination,e),sources:t.MergeCoins.sources.map(r=>pe(r,e))};if(t.MoveCall)return{kind:"MoveCall",target:`${t.MoveCall.package}::${t.MoveCall.module}::${t.MoveCall.function}`,typeArguments:t.MoveCall.typeArguments,arguments:t.MoveCall.arguments.map(r=>pe(r,e))};if(t.Publish)return{kind:"Publish",modules:t.Publish.modules.map(r=>Array.from(V(r))),dependencies:t.Publish.dependencies};if(t.SplitCoins)return{kind:"SplitCoins",coin:pe(t.SplitCoins.coin,e),amounts:t.SplitCoins.amounts.map(r=>pe(r,e))};if(t.TransferObjects)return{kind:"TransferObjects",objects:t.TransferObjects.objects.map(r=>pe(r,e)),address:pe(t.TransferObjects.address,e)};if(t.Upgrade)return{kind:"Upgrade",modules:t.Upgrade.modules.map(r=>Array.from(V(r))),dependencies:t.Upgrade.dependencies,packageId:t.Upgrade.package,ticket:pe(t.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(t)}`)})}}function pe(n,e){if(n.$kind==="GasCoin")return{kind:"GasCoin"};if(n.$kind==="Result")return{kind:"Result",index:n.Result};if(n.$kind==="NestedResult")return{kind:"NestedResult",index:n.NestedResult[0],resultIndex:n.NestedResult[1]};if(n.$kind==="Input")return e[n.Input];throw new Error(`Invalid argument ${Object.keys(n)}`)}function Rn(n){return M(Ne,{version:2,sender:n.sender??null,expiration:n.expiration?"Epoch"in n.expiration?{Epoch:n.expiration.Epoch}:{None:!0}:null,gasData:{owner:n.gasConfig.owner??null,budget:n.gasConfig.budget?.toString()??null,price:n.gasConfig.price?.toString()??null,payment:n.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:n.inputs.map(e=>{if(e.kind==="Input"){if(Xe(Un,e.value)){let t=M(Un,e.value);if(t.Object){if(t.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:t.Object.ImmOrOwned.objectId,version:String(t.Object.ImmOrOwned.version),digest:t.Object.ImmOrOwned.digest}}};if(t.Object.Shared)return{Object:{SharedObject:{mutable:t.Object.Shared.mutable??null,initialSharedVersion:t.Object.Shared.initialSharedVersion,objectId:t.Object.Shared.objectId}}};if(t.Object.Receiving)return{Object:{Receiving:{digest:t.Object.Receiving.digest,version:String(t.Object.Receiving.version),objectId:t.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:R(new Uint8Array(t.Pure))}}}return e.type==="object"?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")}),commands:n.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?X.tagToString(e.type.Some):null,elements:e.objects.map(t=>he(t))}};case"MergeCoins":return{MergeCoins:{destination:he(e.destination),sources:e.sources.map(t=>he(t))}};case"MoveCall":{let[t,r,i]=e.target.split("::");return{MoveCall:{package:t,module:r,function:i,typeArguments:e.typeArguments,arguments:e.arguments.map(u=>he(u))}}}case"Publish":return{Publish:{modules:e.modules.map(t=>R(Uint8Array.from(t))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:he(e.coin),amounts:e.amounts.map(t=>he(t))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(t=>he(t)),address:he(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(t=>R(Uint8Array.from(t))),dependencies:e.dependencies,package:e.packageId,ticket:he(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)})})}function he(n){switch(n.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:n.index};case"NestedResult":return{NestedResult:[n.index,n.resultIndex]};case"Input":return{Input:n.index}}}h();y();function He(n){return B(Object.entries(n).map(([e,t])=>p({[e]:t})))}var ne=He({GasCoin:b(!0),Input:T(C(),U()),Result:T(C(),U()),NestedResult:Fe([T(C(),U()),T(C(),U())])}),Qr=p({budget:x(L),price:x(L),owner:x(Te),payment:x(v(ee))}),ei=p({package:q,module:w(),function:w(),typeArguments:v(w()),arguments:v(ne)}),ti=p({name:w(),inputs:Ae(w(),B([ne,v(ne)])),data:Ae(w(),se())}),ni=He({MoveCall:ei,TransferObjects:p({objects:v(ne),address:ne}),SplitCoins:p({coin:ne,amounts:v(ne)}),MergeCoins:p({destination:ne,sources:v(ne)}),Publish:p({modules:v(ve),dependencies:v(q)}),MakeMoveVec:p({type:x(w()),elements:v(ne)}),Upgrade:p({modules:v(ve),dependencies:v(q),package:q,ticket:ne}),$Intent:ti}),ri=He({ImmOrOwnedObject:ee,SharedObject:p({objectId:q,initialSharedVersion:L,mutable:xe()}),Receiving:ee}),ii=He({Object:ri,Pure:p({bytes:ve}),UnresolvedPure:p({value:se()}),UnresolvedObject:p({objectId:q,version:z(x(L)),digest:z(x(w())),initialSharedVersion:z(x(L))})}),si=He({None:b(!0),Epoch:L}),Bn=p({version:b(2),sender:ae(Te),expiration:ae(si),gasData:Qr,inputs:v(ii),commands:v(ni)});h();y();function ui(n){return{$kind:"Pure",Pure:{bytes:n instanceof Uint8Array?R(n):n.toBase64()}}}var re={Pure:ui,ObjectRef({objectId:n,digest:e,version:t}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:t,objectId:O(n)}}}},SharedObjectRef({objectId:n,mutable:e,initialSharedVersion:t}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:t,objectId:O(n)}}}},ReceivingRef({objectId:n,digest:e,version:t}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:t,objectId:O(n)}}}}};h();y();h();y();h();y();var oi=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,li=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;function Ju(n,e="at"){let t=n.toLowerCase(),r;if(t.includes("@")){if(!oi.test(t))throw new Error(`Invalid SuiNS name ${n}`);let[i,u]=t.split("@");r=[...i?i.split("."):[],u]}else{if(!li.test(t))throw new Error(`Invalid SuiNS name ${n}`);r=t.split(".").slice(0,-1)}return e==="dot"?`${r.join(".")}.sui`:`${r.slice(0,-1).join(".")}@${r[r.length-1]}`}h();y();var ci=BigInt(1e9),tn="0x1",yt="0x2";var ai=fe("0x6");var nn=`${yt}::sui::SUI`,fi=fe("0x5");h();y();var pi="object",hi="ID",yi="ascii",di="String",mi="string",vi="String",bi="option",gi="Option";function zn(n){let e=typeof n.body=="object"&&"datatype"in n.body?n.body.datatype:null;return!!e&&O(e.package)===O("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function dt(n){if(typeof n=="string")switch(n){case"address":return g.Address;case"bool":return g.Bool;case"u8":return g.U8;case"u16":return g.U16;case"u32":return g.U32;case"u64":return g.U64;case"u128":return g.U128;case"u256":return g.U256;default:throw new Error(`Unknown type signature ${n}`)}if("vector"in n){if(n.vector==="u8")return g.vector(g.U8).transform({input:t=>typeof t=="string"?new TextEncoder().encode(t):t,output:t=>t});let e=dt(n.vector);return e?g.vector(e):null}if("datatype"in n){let e=O(n.datatype.package);if(e===O(tn)){if(n.datatype.module===yi&&n.datatype.type===di)return g.String;if(n.datatype.module===mi&&n.datatype.type===vi)return g.String;if(n.datatype.module===bi&&n.datatype.type===gi){let t=dt(n.datatype.typeParameters[0]);return t?g.vector(t):null}}if(e===O(yt)&&n.datatype.module===pi&&n.datatype.type===hi)return g.Address}return null}function Nn(n){return typeof n=="object"&&"Reference"in n?{ref:"&",body:Ke(n.Reference)}:typeof n=="object"&&"MutableReference"in n?{ref:"&mut",body:Ke(n.MutableReference)}:{ref:null,body:Ke(n)}}function Ke(n){if(typeof n=="string")switch(n){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${n}`)}if("Vector"in n)return{vector:Ke(n.Vector)};if("Struct"in n)return{datatype:{package:n.Struct.address,module:n.Struct.module,type:n.Struct.name,typeParameters:n.Struct.typeArguments.map(Ke)}};if("TypeParameter"in n)return{typeParameter:n.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(n)}`)}var ki=50,wi=1000n,_i=5e10;async function Gn(n,e,t){return await xi(n,e),await ji(n,e),e.onlyTransactionKind||(await Si(n,e),await Ei(n,e),await Ii(n,e)),await Oi(n),await t()}async function Si(n,e){n.gasConfig.price||(n.gasConfig.price=String(await Je(e).getReferenceGasPrice()))}async function Ei(n,e){if(n.gasConfig.budget)return;let t=await Je(e).dryRunTransactionBlock({transactionBlock:n.build({overrides:{gasData:{budget:String(_i),payment:[]}}})});if(t.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});let r=wi*BigInt(n.gasConfig.price||1n),i=BigInt(t.effects.gasUsed.computationCost)+r,u=i+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);n.gasConfig.budget=String(u>i?u:i)}async function Ii(n,e){if(!n.gasConfig.payment){let r=(await Je(e).getCoins({owner:n.gasConfig.owner||n.sender,coinType:nn})).data.filter(i=>!n.inputs.find(o=>o.Object?.ImmOrOwnedObject?i.coinObjectId===o.Object.ImmOrOwnedObject.objectId:!1)).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");n.gasConfig.payment=r.map(i=>M(ee,i))}}async function ji(n,e){let t=n.inputs.filter(f=>f.UnresolvedObject&&!(f.UnresolvedObject.version||f.UnresolvedObject?.initialSharedVersion)),r=[...new Set(t.map(f=>fe(f.UnresolvedObject.objectId)))],i=r.length?Ci(r,ki):[],u=(await Promise.all(i.map(f=>Je(e).multiGetObjects({ids:f,options:{showOwner:!0}})))).flat(),o=new Map(r.map((f,m)=>[f,u[m]])),l=Array.from(o).filter(([f,m])=>m.error).map(([f,m])=>JSON.stringify(m.error));if(l.length)throw new Error(`The following input objects are invalid: ${l.join(", ")}`);let c=u.map(f=>{if(f.error||!f.data)throw new Error(`Failed to fetch object: ${f.error}`);let m=f.data.owner,_=m&&typeof m=="object"&&"Shared"in m?m.Shared.initial_shared_version:null;return{objectId:f.data.objectId,digest:f.data.digest,version:f.data.version,initialSharedVersion:_}}),a=new Map(r.map((f,m)=>[f,c[m]]));for(let[f,m]of n.inputs.entries()){if(!m.UnresolvedObject)continue;let _,S=O(m.UnresolvedObject.objectId),k=a.get(S);m.UnresolvedObject.initialSharedVersion??k?.initialSharedVersion?_=re.SharedObjectRef({objectId:S,initialSharedVersion:m.UnresolvedObject.initialSharedVersion||k?.initialSharedVersion,mutable:Ai(n,f)}):Ti(n,f)&&(_=re.ReceivingRef({objectId:S,digest:m.UnresolvedObject.digest??k?.digest,version:m.UnresolvedObject.version??k?.version})),n.inputs[n.inputs.indexOf(m)]=_??re.ObjectRef({objectId:S,digest:m.UnresolvedObject.digest??k?.digest,version:m.UnresolvedObject.version??k?.version})}}async function xi(n,e){let{inputs:t,commands:r}=n,i=[],u=new Set;r.forEach(l=>{if(l.MoveCall){if(l.MoveCall._argumentTypes)return;if(l.MoveCall.arguments.map(f=>f.$kind==="Input"?n.inputs[f.Input]:null).some(f=>f?.UnresolvedPure||f?.UnresolvedObject)){let f=`${l.MoveCall.package}::${l.MoveCall.module}::${l.MoveCall.function}`;u.add(f),i.push(l.MoveCall)}}switch(l.$kind){case"SplitCoins":l.SplitCoins.amounts.forEach(c=>{Vn(c,g.U64,n)});break;case"TransferObjects":Vn(l.TransferObjects.address,g.Address,n);break}});let o=new Map;if(u.size>0){let l=Je(e);await Promise.all([...u].map(async c=>{let[a,f,m]=c.split("::"),_=await l.getNormalizedMoveFunction({package:a,module:f,function:m});o.set(c,_.parameters.map(S=>Nn(S)))}))}i.length&&await Promise.all(i.map(async l=>{let c=o.get(`${l.package}::${l.module}::${l.function}`);if(!c)return;let f=c.length>0&&zn(c.at(-1))?c.slice(0,c.length-1):c;l._argumentTypes=f})),r.forEach(l=>{if(!l.MoveCall)return;let c=l.MoveCall,a=`${c.package}::${c.module}::${c.function}`,f=c._argumentTypes;if(!!f){if(f.length!==l.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${a}`);f.forEach((m,_)=>{let S=c.arguments[_];if(S.$kind!=="Input")return;let k=t[S.Input];if(!k.UnresolvedPure&&!k.UnresolvedObject)return;let E=k.UnresolvedPure?.value??k.UnresolvedObject?.objectId,P=dt(m.body);if(P){S.type="pure",t[t.indexOf(k)]=re.Pure(P.serialize(E));return}if(typeof E!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(E,null,2)}`);S.type="object";let $e=k.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:E}}:k;t[S.Input]=$e})}})}function Oi(n){n.inputs.forEach((e,t)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function Vn(n,e,t){if(n.$kind!=="Input")return;let r=t.inputs[n.Input];r.$kind==="UnresolvedPure"&&(t.inputs[n.Input]=re.Pure(e.serialize(r.UnresolvedPure.value)))}function Ai(n,e){let t=!1;return n.getInputUses(e,(r,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){let u=i.MoveCall.arguments.indexOf(r);t=i.MoveCall._argumentTypes[u].ref!=="&"||t}(i.$kind==="MakeMoveVec"||i.$kind==="MergeCoins"||i.$kind==="SplitCoins")&&(t=!0)}),t}function Ti(n,e){let t=!1;return n.getInputUses(e,(r,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){let u=i.MoveCall.arguments.indexOf(r);t=Mi(i.MoveCall._argumentTypes[u])||t}}),t}function Mi(n){return typeof n.body!="object"||!("datatype"in n.body)?!1:n.body.datatype.package==="0x2"&&n.body.datatype.module==="transfer"&&n.body.datatype.type==="Receiving"}function Je(n){if(!n.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return n.client}function Ci(n,e){return Array.from({length:Math.ceil(n.length/e)},(t,r)=>n.slice(r*e,r*e+e))}h();y();function Ln(n){function e(t){return n(t)}return e.system=()=>e("0x5"),e.clock=()=>e("0x6"),e.random=()=>e("0x8"),e.denyList=()=>e("0x403"),e}h();y();function qn(n){function e(t,r){if(typeof t=="string")return n(Ye(t).serialize(r));if(t instanceof Uint8Array||Be(t))return n(t);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return e.u8=t=>n(g.U8.serialize(t)),e.u16=t=>n(g.U16.serialize(t)),e.u32=t=>n(g.U32.serialize(t)),e.u64=t=>n(g.U64.serialize(t)),e.u128=t=>n(g.U128.serialize(t)),e.u256=t=>n(g.U256.serialize(t)),e.bool=t=>n(g.Bool.serialize(t)),e.string=t=>n(g.String.serialize(t)),e.address=t=>n(g.Address.serialize(t)),e.id=e.address,e.vector=(t,r)=>n(g.vector(Ye(t)).serialize(r)),e.option=(t,r)=>n(g.option(Ye(t)).serialize(r)),e}function Ye(n){switch(n){case"u8":return g.u8();case"u16":return g.u16();case"u32":return g.u32();case"u64":return g.u64();case"u128":return g.u128();case"u256":return g.u256();case"bool":return g.bool();case"string":return g.string();case"id":case"address":return g.Address}let e=n.match(/^(vector|option)<(.+)>$/);if(e){let[t,r]=e.slice(1);return t==="vector"?g.vector(Ye(r)):g.option(Ye(r))}throw new Error(`Invalid Pure type name: ${n}`)}h();y();h();y();h();y();h();y();var Xn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),mt=class extends yn{constructor(e,t,r={},i,u,o){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,nt(e),nt(t),nt(i),t<0||t>i)throw new Error("outputLen bigger than keyLen");if(r.key!==void 0&&(r.key.length<1||r.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(r.salt!==void 0&&r.salt.length!==u)throw new Error(`salt must be ${u} byte long or undefined`);if(r.personalization!==void 0&&r.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=Ue(this.buffer=new Uint8Array(e))}update(e){bt(this);let{blockLen:t,buffer:r,buffer32:i}=this;e=De(e);let u=e.length,o=e.byteOffset,l=e.buffer;for(let c=0;c<u;){this.pos===t&&(Se||Ee(i),this.compress(i,0,!1),Se||Ee(i),this.pos=0);let a=Math.min(t-this.pos,u-c),f=o+c;if(a===t&&!(f%4)&&c+a<u){let m=new Uint32Array(l,f,Math.floor((u-c)/4));Se||Ee(m);for(let _=0;c+t<u;_+=i.length,c+=t)this.length+=t,this.compress(m,_,!1);Se||Ee(m);continue}r.set(e.subarray(c,c+a),this.pos),this.pos+=a,this.length+=a,c+=a}return this}digestInto(e){bt(this),hn(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),Se||Ee(r),this.compress(r,0,!0),Se||Ee(r);let i=Ue(e);this.get().forEach((u,o)=>i[o]=Y(u))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:i,destroyed:u,outputLen:o,pos:l}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=r,e.finished=i,e.destroyed=u,e.outputLen=o,e.buffer.set(t),e.pos=l,e}};var N=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),d=new Uint32Array(32);function ke(n,e,t,r,i,u){let o=i[u],l=i[u+1],c=d[2*n],a=d[2*n+1],f=d[2*e],m=d[2*e+1],_=d[2*t],S=d[2*t+1],k=d[2*r],E=d[2*r+1],P=G.add3L(c,f,o);a=G.add3H(P,a,m,l),c=P|0,{Dh:E,Dl:k}={Dh:E^a,Dl:k^c},{Dh:E,Dl:k}={Dh:G.rotr32H(E,k),Dl:G.rotr32L(E,k)},{h:S,l:_}=G.add(S,_,E,k),{Bh:m,Bl:f}={Bh:m^S,Bl:f^_},{Bh:m,Bl:f}={Bh:G.rotrSH(m,f,24),Bl:G.rotrSL(m,f,24)},d[2*n]=c,d[2*n+1]=a,d[2*e]=f,d[2*e+1]=m,d[2*t]=_,d[2*t+1]=S,d[2*r]=k,d[2*r+1]=E}function we(n,e,t,r,i,u){let o=i[u],l=i[u+1],c=d[2*n],a=d[2*n+1],f=d[2*e],m=d[2*e+1],_=d[2*t],S=d[2*t+1],k=d[2*r],E=d[2*r+1],P=G.add3L(c,f,o);a=G.add3H(P,a,m,l),c=P|0,{Dh:E,Dl:k}={Dh:E^a,Dl:k^c},{Dh:E,Dl:k}={Dh:G.rotrSH(E,k,16),Dl:G.rotrSL(E,k,16)},{h:S,l:_}=G.add(S,_,E,k),{Bh:m,Bl:f}={Bh:m^S,Bl:f^_},{Bh:m,Bl:f}={Bh:G.rotrBH(m,f,63),Bl:G.rotrBL(m,f,63)},d[2*n]=c,d[2*n+1]=a,d[2*e]=f,d[2*e+1]=m,d[2*t]=_,d[2*t+1]=S,d[2*r]=k,d[2*r+1]=E}var rn=class extends mt{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=N[0]|0,this.v0h=N[1]|0,this.v1l=N[2]|0,this.v1h=N[3]|0,this.v2l=N[4]|0,this.v2h=N[5]|0,this.v3l=N[6]|0,this.v3h=N[7]|0,this.v4l=N[8]|0,this.v4h=N[9]|0,this.v5l=N[10]|0,this.v5h=N[11]|0,this.v6l=N[12]|0,this.v6h=N[13]|0,this.v7l=N[14]|0,this.v7h=N[15]|0;let t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|1<<16|1<<24,e.salt){let r=Ue(De(e.salt));this.v4l^=Y(r[0]),this.v4h^=Y(r[1]),this.v5l^=Y(r[2]),this.v5h^=Y(r[3])}if(e.personalization){let r=Ue(De(e.personalization));this.v6l^=Y(r[0]),this.v6h^=Y(r[1]),this.v7l^=Y(r[2]),this.v7h^=Y(r[3])}if(e.key){let r=new Uint8Array(this.blockLen);r.set(De(e.key)),this.update(r)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:i,v2l:u,v2h:o,v3l:l,v3h:c,v4l:a,v4h:f,v5l:m,v5h:_,v6l:S,v6h:k,v7l:E,v7h:P}=this;return[e,t,r,i,u,o,l,c,a,f,m,_,S,k,E,P]}set(e,t,r,i,u,o,l,c,a,f,m,_,S,k,E,P){this.v0l=e|0,this.v0h=t|0,this.v1l=r|0,this.v1h=i|0,this.v2l=u|0,this.v2h=o|0,this.v3l=l|0,this.v3h=c|0,this.v4l=a|0,this.v4h=f|0,this.v5l=m|0,this.v5h=_|0,this.v6l=S|0,this.v6h=k|0,this.v7l=E|0,this.v7h=P|0}compress(e,t,r){this.get().forEach((c,a)=>d[a]=c),d.set(N,16);let{h:i,l:u}=G.fromBig(BigInt(this.length));d[24]=N[8]^u,d[25]=N[9]^i,r&&(d[28]=~d[28],d[29]=~d[29]);let o=0,l=Xn;for(let c=0;c<12;c++)ke(0,4,8,12,e,t+2*l[o++]),we(0,4,8,12,e,t+2*l[o++]),ke(1,5,9,13,e,t+2*l[o++]),we(1,5,9,13,e,t+2*l[o++]),ke(2,6,10,14,e,t+2*l[o++]),we(2,6,10,14,e,t+2*l[o++]),ke(3,7,11,15,e,t+2*l[o++]),we(3,7,11,15,e,t+2*l[o++]),ke(0,5,10,15,e,t+2*l[o++]),we(0,5,10,15,e,t+2*l[o++]),ke(1,6,11,12,e,t+2*l[o++]),we(1,6,11,12,e,t+2*l[o++]),ke(2,7,8,13,e,t+2*l[o++]),we(2,7,8,13,e,t+2*l[o++]),ke(3,4,9,14,e,t+2*l[o++]),we(3,4,9,14,e,t+2*l[o++]);this.v0l^=d[0]^d[16],this.v0h^=d[1]^d[17],this.v1l^=d[2]^d[18],this.v1h^=d[3]^d[19],this.v2l^=d[4]^d[20],this.v2h^=d[5]^d[21],this.v3l^=d[6]^d[22],this.v3h^=d[7]^d[23],this.v4l^=d[8]^d[24],this.v4h^=d[9]^d[25],this.v5l^=d[10]^d[26],this.v5h^=d[11]^d[27],this.v6l^=d[12]^d[28],this.v6h^=d[13]^d[29],this.v7l^=d[14]^d[30],this.v7h^=d[15]^d[31],d.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Fn=dn(n=>new rn(n));function Wn(n,e){let t=Array.from(`${n}::`).map(i=>i.charCodeAt(0)),r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),Fn(r,{dkLen:32})}function Hn(n){return O(n).replace("0x","")}var H=class{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){let r=g.TransactionKind.parse(e).ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");return H.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:r.inputs,commands:r.commands})}static fromBytes(e){let r=g.TransactionData.parse(e)?.V1,i=r.kind.ProgrammableTransaction;if(!r||!i)throw new Error("Unable to deserialize from bytes.");return H.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:i.inputs,commands:i.commands})}static restore(e){return e.version===2?new H(M(Ne,e)):new H(M(Ne,Rn(e)))}static getDigestFromBytes(e){let t=Wn("TransactionData",e);return oe(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){let i=this.inputs,u=this.commands,o={ProgrammableTransaction:{inputs:i,commands:u}};if(r)return g.TransactionKind.serialize(o,{maxSize:e}).toBytes();let l=t?.expiration??this.expiration,c=t?.sender??this.sender,a={...this.gasData,...t?.gasConfig,...t?.gasData};if(!c)throw new Error("Missing transaction sender");if(!a.budget)throw new Error("Missing gas budget");if(!a.payment)throw new Error("Missing gas payment");if(!a.price)throw new Error("Missing gas price");let f={sender:Hn(c),expiration:l||{None:!0},gasData:{payment:a.payment,owner:Hn(this.gasData.owner??c),price:BigInt(a.price),budget:BigInt(a.budget)},kind:{ProgrammableTransaction:{inputs:i,commands:u}}};return g.TransactionData.serialize({V1:f},{maxSize:e}).toBytes()}addInput(e,t){let r=this.inputs.length;return this.inputs.push(t),{Input:r,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments((r,i)=>(r.$kind==="Input"&&r.Input===e&&t(r,i),r))}mapArguments(e){for(let t of this.commands)switch(t.$kind){case"MoveCall":t.MoveCall.arguments=t.MoveCall.arguments.map(i=>e(i,t));break;case"TransferObjects":t.TransferObjects.objects=t.TransferObjects.objects.map(i=>e(i,t)),t.TransferObjects.address=e(t.TransferObjects.address,t);break;case"SplitCoins":t.SplitCoins.coin=e(t.SplitCoins.coin,t),t.SplitCoins.amounts=t.SplitCoins.amounts.map(i=>e(i,t));break;case"MergeCoins":t.MergeCoins.destination=e(t.MergeCoins.destination,t),t.MergeCoins.sources=t.MergeCoins.sources.map(i=>e(i,t));break;case"MakeMoveVec":t.MakeMoveVec.elements=t.MakeMoveVec.elements.map(i=>e(i,t));break;case"Upgrade":t.Upgrade.ticket=e(t.Upgrade.ticket,t);break;case"$Intent":let r=t.$Intent.inputs;t.$Intent.inputs={};for(let[i,u]of Object.entries(r))t.$Intent.inputs[i]=Array.isArray(u)?u.map(o=>e(o,t)):e(u,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${t.$kind}`)}}replaceCommand(e,t){if(!Array.isArray(t)){this.commands[e]=t;return}let r=t.length-1;this.commands.splice(e,1,...t),r!==0&&this.mapArguments(i=>{switch(i.$kind){case"Result":i.Result>e&&(i.Result+=r);break;case"NestedResult":i.NestedResult[0]>e&&(i.NestedResult[0]+=r);break}return i})}getDigest(){let e=this.build({onlyTransactionKind:!1});return H.getDigestFromBytes(e)}snapshot(){return M(Ne,this)}};h();y();function sn(n){if(typeof n=="string")return O(n);if(n.Object)return n.Object.ImmOrOwnedObject?O(n.Object.ImmOrOwnedObject.objectId):n.Object.Receiving?O(n.Object.Receiving.objectId):O(n.Object.SharedObject.objectId);if(n.UnresolvedObject)return O(n.UnresolvedObject.objectId)}var Jn=n=>{throw TypeError(n)},cn=(n,e,t)=>e.has(n)||Jn("Cannot "+t),j=(n,e,t)=>(cn(n,e,"read from private field"),t?t.call(n):e.get(n)),Ze=(n,e,t)=>e.has(n)?Jn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Me=(n,e,t,r)=>(cn(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),de=(n,e,t)=>(cn(n,e,"access private method"),t),et,tt,Ce,A,ie,vt,an,on,fn;function $i(n){let e={$kind:"Result",Result:n},t=[],r=i=>t[i]??(t[i]={$kind:"NestedResult",NestedResult:[n,i]});return new Proxy(e,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,u){if(u in i)return Reflect.get(i,u);if(u===Symbol.iterator)return function*(){let l=0;for(;;)yield r(l),l++};if(typeof u=="symbol")return;let o=parseInt(u,10);if(!(Number.isNaN(o)||o<0))return r(o)}})}var Yn=Symbol.for("@mysten/transaction");function Zn(n){return!!n&&typeof n=="object"&&n[Yn]===!0}var Kn={buildPlugins:new Map,serializationPlugins:new Map},un=Symbol.for("@mysten/transaction/registry");function Qe(){try{let n=globalThis;return n[un]||(n[un]=Kn),n[un]}catch{return Kn}}var Ui=class ln{constructor(){Ze(this,ie),Ze(this,et),Ze(this,tt),Ze(this,Ce,new Map),Ze(this,A),this.object=Ln(t=>{if(typeof t=="function")return this.object(t(this));if(typeof t=="object"&&Xe($,t))return t;let r=sn(t),i=j(this,A).inputs.find(u=>r===sn(u));return i?.Object?.SharedObject&&typeof t=="object"&&t.Object?.SharedObject&&(i.Object.SharedObject.mutable=i.Object.SharedObject.mutable||t.Object.SharedObject.mutable),i?{$kind:"Input",Input:j(this,A).inputs.indexOf(i),type:"object"}:j(this,A).addInput("object",typeof t=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:O(t)}}:t)});let e=Qe();Me(this,A,new H),Me(this,tt,[...e.buildPlugins.values()]),Me(this,et,[...e.serializationPlugins.values()])}static fromKind(e){let t=new ln;return Me(t,A,H.fromKindBytes(typeof e=="string"?V(e):e)),t}static from(e){let t=new ln;return Zn(e)?Me(t,A,new H(e.getData())):typeof e!="string"||!e.startsWith("{")?Me(t,A,H.fromBytes(typeof e=="string"?V(e):e)):Me(t,A,H.restore(JSON.parse(e))),t}static registerGlobalSerializationPlugin(e,t){Qe().serializationPlugins.set(e,t??e)}static unregisterGlobalSerializationPlugin(e){Qe().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,t){Qe().buildPlugins.set(e,t??e)}static unregisterGlobalBuildPlugin(e){Qe().buildPlugins.delete(e)}addSerializationPlugin(e){j(this,et).push(e)}addBuildPlugin(e){j(this,tt).push(e)}addIntentResolver(e,t){if(j(this,Ce).has(e)&&j(this,Ce).get(e)!==t)throw new Error(`Intent resolver for ${e} already exists`);j(this,Ce).set(e,t)}setSender(e){j(this,A).sender=e}setSenderIfNotSet(e){j(this,A).sender||(j(this,A).sender=e)}setExpiration(e){j(this,A).expiration=e?M(xt,e):null}setGasPrice(e){j(this,A).gasConfig.price=String(e)}setGasBudget(e){j(this,A).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){j(this,A).gasData.budget==null&&(j(this,A).gasConfig.budget=String(e))}setGasOwner(e){j(this,A).gasConfig.owner=e}setGasPayment(e){j(this,A).gasConfig.payment=e.map(t=>M(ee,t))}get blockData(){return en(j(this,A).snapshot())}getData(){return j(this,A).snapshot()}get[Yn](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:qn(e=>Be(e)?j(this,A).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):j(this,A).addInput("pure",Xe(jt,e)?M(jt,e):e instanceof Uint8Array?re.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(re.ObjectRef(...e))}receivingRef(...e){return this.object(re.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(re.SharedObjectRef(...e))}add(e){if(typeof e=="function")return e(this);let t=j(this,A).commands.push(e);return $i(t-1)}splitCoins(e,t){return this.add(ge.SplitCoins(typeof e=="string"?this.object(e):de(this,ie,an).call(this,e),t.map(r=>typeof r=="number"||typeof r=="bigint"||typeof r=="string"?this.pure.u64(r):de(this,ie,vt).call(this,r))))}mergeCoins(e,t){return this.add(ge.MergeCoins(this.object(e),t.map(r=>this.object(r))))}publish({modules:e,dependencies:t}){return this.add(ge.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:r,ticket:i}){return this.add(ge.Upgrade({modules:e,dependencies:t,package:r,ticket:this.object(i)}))}moveCall({arguments:e,...t}){return this.add(ge.MoveCall({...t,arguments:e?.map(r=>de(this,ie,vt).call(this,r))}))}transferObjects(e,t){return this.add(ge.TransferObjects(e.map(r=>this.object(r)),typeof t=="string"?this.pure.address(t):de(this,ie,vt).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add(ge.MakeMoveVec({type:e,elements:t.map(r=>this.object(r))}))}serialize(){return JSON.stringify(en(j(this,A).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(M(Bn,j(this,A).snapshot()),(t,r)=>typeof r=="bigint"?r.toString():r,2)}async sign(e){let{signer:t,...r}=e,i=await this.build(r);return t.signTransaction(i)}async build(e={}){return await this.prepareForSerialization(e),await de(this,ie,on).call(this,e),j(this,A).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await de(this,ie,on).call(this,e),j(this,A).getDigest()}async prepareForSerialization(e){let t=new Set;for(let i of j(this,A).commands)i.$Intent&&t.add(i.$Intent.name);let r=[...j(this,et)];for(let i of t)if(!e.supportedIntents?.includes(i)){if(!j(this,Ce).has(i))throw new Error(`Missing intent resolver for ${i}`);r.push(j(this,Ce).get(i))}await de(this,ie,fn).call(this,r,e)}};et=new WeakMap;tt=new WeakMap;Ce=new WeakMap;A=new WeakMap;ie=new WeakSet;vt=function(n){return Be(n)?this.pure(n):de(this,ie,an).call(this,n)};an=function(n){return typeof n=="function"?M($,n(this)):M($,n)};on=async function(n){if(!n.onlyTransactionKind&&!j(this,A).sender)throw new Error("Missing transaction sender");await de(this,ie,fn).call(this,[...j(this,tt),Gn],n)};fn=async function(n,e){let t=r=>{if(r>=n.length)return()=>{};let i=n[r];return async()=>{let u=t(r+1),o=!1,l=!1;if(await i(j(this,A),e,async()=>{if(o)throw new Error(`next() was call multiple times in TransactionPlugin ${r}`);o=!0,await u(),l=!0}),!o)throw new Error(`next() was not called in TransactionPlugin ${r}`);if(!l)throw new Error(`next() was not awaited in TransactionPlugin ${r}`)}};await t(0)()};var Di=Ui;h();y();export{le as a,R as b,ce as c,pr as d,ze as e,hr as f,O as g,fe as h,Ju as i,Zn as j,Di as k};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-NQSB2CI7.js.map

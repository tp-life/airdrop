import{a as K}from"./chunk-SF64G75T.js";import{a as j}from"./chunk-OZPHJXRI.js";import{H as Y}from"./chunk-J2MASCEL.js";import{s as B}from"./chunk-NNO7KFUF.js";import{d as v}from"./chunk-4NCQWC2K.js";import{b as E,c as C,d as R}from"./chunk-PB7BCSCP.js";import{a as H}from"./chunk-L3G6DHBI.js";import{b as k,c as A}from"./chunk-FLZ5KV6J.js";import{b as I}from"./chunk-RG4N2AAJ.js";import{h as W}from"./chunk-GTSNHSPT.js";import{o as Z}from"./chunk-A3FIPWG3.js";import{N as _}from"./chunk-NTISK7TT.js";import{m as h}from"./chunk-CU7RFE6B.js";import{b as D}from"./chunk-IVA2TTR4.js";import{d as a,f as X}from"./chunk-37O7OMRA.js";import{Oc as Q,jc as O,oc as q,pb as b,w as d,wb as z,z as J}from"./chunk-YILNSICT.js";import{Y as w,pa as U}from"./chunk-LBCQTFOD.js";import{f as V,m as g,o as P}from"./chunk-UGZFXKPB.js";g();P();z();q();Q();var i=e=>H(e)?e:O(D(e)),ee=({value:e,toAddr:r,contractAddress:t})=>!t||!Y(r)?"":j(r,e),re="0x0",L=({data:e,value:r,nonce:t,walletId:n,gasPrice:s,gasLimit:c,localType:o,to:p,maxFeePerGas:T,from:u,supportEip1559:S,maxPriorityFeePerGas:G,chainId:l,contractAddress:x})=>{let M=u&&E(u,o),y=p&&E(p,o),N=l||b(o)?.realChainIdHex,F=e||ee({value:r,toAddr:y,contractAddress:x}),f={from:M,walletId:n,data:F,nonce:i(t),chainId:i(N),gasLimit:i(c)};return S?Object.assign(f,{type:h.FEE_MARKET,maxFeePerGas:i(T),maxPriorityFeePerGas:i(G)}):Object.assign(f,{type:h.LEGACY,gasPrice:i(s)}),x?Object.assign(f,{data:F,value:re,to:E(x,o)}):Object.assign(f,{to:y,value:i(r)}),f};var te=["low","medium","high"],se=(e={})=>te.map(r=>r==="low"?{level:r,gasPrice:e?.min,maxFeePerGas:e?.min,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.safePriorityFee}:r==="medium"?{level:r,gasPrice:e?.normal,maxFeePerGas:e?.normal,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.proposePriorityFee}:{level:r,gasPrice:e?.max,maxFeePerGas:e?.max,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.fastPriorityFee});g();P();var m=V(Z());U();X();J();var Oe=()=>(0,m.useMemoizedFn)(async e=>{let{coinId:r}=e,t=L(e),s=await K(w(t,["to","data","from","value","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas"]));return await _({coinId:r},{inputData:s})}),_e=({coinId:e,fromAddr:r,walletId:t})=>{let n=v(e),s=n?.localType,c=B({fromAddr:C(r,s),walletId:t,localType:R(s)});return(0,m.useMemoizedFn)(async({data:o,from:p,to:T,value:u,gasPrice:S,maxFeePerGas:G,maxPriorityFeePerGas:l,needCapture:x,systemToken:M,...y})=>{let N=L({to:T,data:o,from:p,value:u,gasPrice:S,coinId:e,walletId:t,localType:s,systemToken:M,maxFeePerGas:G,maxPriorityFeePerGas:l,contractAddress:n?.address,...y}),F=await c({needCapture:x,params:N});return F.rawTxResult||F})},De=({walletId:e})=>{let r=W(e),t={[d.ETH_SIGN]:[A,a().signMessage],[d.PERSONAL_SIGN]:[A,a().signPersonalMessage],[d.ETH_SIGN_TYPED_DATA]:[k,a().signTypedMessage]};return(0,m.useMemoizedFn)(async({msgParams:n,baseChain:s,type:c})=>{let o=t[c];if(o)return I(r?.initialType)?o[0]({walletId:e,msgParams:n,baseChain:s}):o[1](n,s,e);throw new Error("Not Supported")})},He=()=>(0,m.useMemoizedFn)(async e=>a().encryptionPublicKey(e)),Ce=()=>(0,m.useMemoizedFn)(async e=>a().decryptMessageInline(e)),Re=()=>(0,m.useMemoizedFn)(async e=>a().decryptMessage(e));export{i as a,L as b,se as c,Oe as d,_e as e,De as f,He as g,Ce as h,Re as i};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-TCYNB4II.js.map

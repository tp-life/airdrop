import{a as W}from"./chunk-YUMWUAYZ.js";import{a as H}from"./chunk-P2HAZY4R.js";import{a as re,c as j,d as A}from"./chunk-M7CDJYYG.js";import{a as oe}from"./chunk-XUKRDQIU.js";import{d as ee,p as te}from"./chunk-GTSNHSPT.js";import{_a as J}from"./chunk-PVSNAFN3.js";import{q as p}from"./chunk-GBQG32PI.js";import{g as Q}from"./chunk-VWYA3Z7M.js";import{ac as de}from"./chunk-NTISK7TT.js";import{a as pe}from"./chunk-QZUNX5I4.js";import{e as X}from"./chunk-DHNKVM4B.js";import{c as i}from"./chunk-TU7CE5HJ.js";import{Oc as ue,zc as $}from"./chunk-YILNSICT.js";import{A as q,G as D,c as R}from"./chunk-L4N7WJIQ.js";import{j as Y,pa as ce}from"./chunk-LBCQTFOD.js";import{N as L,w as d}from"./chunk-V63HWKAL.js";import{H as K,T as E,Z as O}from"./chunk-2EJYCNYZ.js";import{a as F}from"./chunk-V2K75WCG.js";import{a as N}from"./chunk-B75PPTYD.js";import{f as c,m as l,o as s}from"./chunk-UGZFXKPB.js";l();s();var M=c(N()),_e=(e,o=e.showMe)=>(0,M.memo)(r=>o(r)?M.default.createElement(e,{...r}):null),le=_e;l();s();var z=c(K());ce();var G=c(F());L();var se=c(de());var _=c(N());ue();l();s();var w={root:"_root_1dloi_1",main:"_main_1dloi_4",notAllowed:"_notAllowed_1dloi_9",iconWrap:"_iconWrap_1dloi_20",loader:"_loader_1dloi_26",icon:"_icon_1dloi_20",btnText:"_btnText_1dloi_36"};var Z=({keyringIdentity:e,createdCb:o})=>{let r=te(),t=(0,se.useSelector)(Q),[n,h]=(0,_.useState)(!1),u=(0,_.useCallback)(async()=>{t||n||(h(!0),r(e?.keyringId).then(a=>{h(!1),a&&o(a)}).catch(a=>{a.message===ee&&D.error({title:d("wallet_extension_error_reminder_system_busy")}),h(!1)}))},[n,o,r,e,t]),m=(0,_.useMemo)(()=>{if(t)return d("wallet_extension_addaccount_text_feature_unavailable")},[t]);return _.default.createElement(q,{title:m,className:w.root,placement:q.DIRECTION.top,maxWidth:328},_.default.createElement(i.FlexBox,{align:i.ALIGN.center,onClick:u,className:(0,z.default)(w.main,{[w.notAllowed]:t})},_.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:i.ALIGN.center,className:w.iconWrap},n?_.default.createElement(O.Circle,{className:w.loader,size:O.SIZE.md}):_.default.createElement(E,{className:(0,z.default)("okx-wallet-plugin-plus",w.icon)})),_.default.createElement(i.Box,{className:w.btnText},d("wallet_manage_wallet_btn_add_acoount"))))},fe=e=>{let{keyringIdentity:o,keyword:r,isRpcMode:t}=e;return r?!1:o?.keyringIdentityType===$.MNEMONIC&&!Y(o,"walletIdentities.0.needBackup",!1)?!0:X(o?.initialType)?!t:(oe(o?.keyringIdentityType),!1)};Z.propTypes={keyringIdentity:G.default.object.isRequired,createdCb:G.default.func.isRequired};var Oe=le(Z,fe),qe=Z;l();s();var S=c(N()),C=c(F());L();var ie=c(K());l();s();var k={root:"_root_18r9p_1",keyringName:"_keyringName_18r9p_4",highlight:"_highlight_18r9p_12"};var U=e=>{let{keyword:o,keyringIdentity:r,isRpcMode:t,hiddenAssets:n,titleClassName:h,currentRpcNetwork:u,isMpcWallet:m}=e,a=m?d("wallet_extension_tools_tab_keyless"):"";return S.default.createElement(i.FlexBox,{className:k.root},S.default.createElement(p.HighlightKeyword,{keyword:o,className:(0,ie.default)(k.keyringName,h),text:r?.keyringName,highlightClassName:k.highlight,badge:a,ellipsis:{tooltip:!0}}),S.default.createElement(W,{isRpcMode:t,currentRpcNetwork:u,hiddenAssets:n,walletAsset:r?.walletAsset}))};U.defaultProps={keyword:""};U.propTypes={keyword:C.default.string,keyringIdentity:C.default.object.isRequired,isRpcMode:C.default.bool.isRequired,hiddenAssets:C.default.bool.isRequired};var tt=U;l();s();var v=c(N()),ae=c(pe());L();var ct=({keyringIdentity:e,className:o})=>{let r=(0,ae.useHistory)(),{accountStatus:t,mpcStatus:n}=e?.status||{},h=(0,v.useMemo)(()=>{switch(!0){case n===A.RECOVER:return d("wallet_extension_mpc_alert_scanqr_sync");case n===A.ESCAPE:return d("wallet_extension_mpc_alert_keyless_escaped");case t===j.FROZEN:return d("wallet_extension_mpc_alert_account_frozen");case t===j.DELETE:return d("wallet_extension_mpc_alert_account_closed");default:return""}},[t,n]),u=()=>{switch(!0){case n===A.RECOVER:return v.default.createElement(E,{className:"okx-wallet-plugin-right"});default:return null}},m=()=>{switch(!0){case n===A.RECOVER:{let a=e?.walletIdentities?.[0]?.walletId;r.push(`${J}?action=${re.RECOVER}&walletId=${a}`);break}default:break}};return h?v.default.createElement(i.Box,{className:o},v.default.createElement(R,{title:h,type:R.TYPE.warn,closable:!1,rightActionText:u(),onRightAction:m})):null};l();s();var x=c(N()),b=(e,o)=>{let r=e?.toLowerCase()||"";return(o?.toLowerCase()||"").includes(r)},he=(e=[])=>{let[o,r]=(0,x.useState)(""),[t,n]=(0,x.useState)(""),h=(0,x.useCallback)(m=>{let a=m?.target?.value||"";a=a?.trimStart()||"",r(a)},[]);(0,x.useEffect)(()=>{n(o?.trim()||"")},[o]);let u=(0,x.useMemo)(()=>t?e.map((m={})=>{if(b(t,m?.keyringName))return m;let a=m?.walletIdentities?.filter(P=>b(t,P?.walletName))||[];if(a.length)return{...m,walletIdentities:a};let I=m?.walletIdentities?.filter(P=>Object.values(P.account).some(me=>b(t,me)))||[];return I.length?{...m,walletIdentities:I}:null}).filter(Boolean):e||[],[e,t]);return{keyword:o,trimedKeyWord:t,onKeyWordChange:h,filteredKeyringIdentities:u}},_t=he;l();s();var B=c(N()),ye=3e3,ge=()=>{let[e,o]=(0,B.useState)(),r=(0,B.useCallback)(t=>{o(t),setTimeout(()=>{o("")},ye)},[]);return[e,r]},gt=ge;l();s();var y=c(N()),ne=c(K()),T=c(F());L();l();s();var f={root:"_root_vo6vv_1",detail:"_detail_vo6vv_5",avatar:"_avatar_vo6vv_5",main:"_main_vo6vv_9",walletNameWrap:"_walletNameWrap_vo6vv_13",walletName:"_walletName_vo6vv_13",subWalletName:"_subWalletName_vo6vv_24",badge:"_badge_vo6vv_29",highlight:"_highlight_vo6vv_32",inline:"_inline_vo6vv_35",disabled:"_disabled_vo6vv_38"};var V=({keyword:e,children:o,disabled:r,isRpcMode:t,currentRpcNetwork:n,hiddenAssets:h,walletIdentity:u})=>{let a=Object.values(u?.account||{}).filter(I=>e&&b(e,I));return y.default.createElement(i.Box,{className:(0,ne.default)(f.root,{[f.disabled]:r})},y.default.createElement(i.FlexBox,{className:f.detail,align:i.ALIGN.center},y.default.createElement(H,{size:H.SIZE.sm,className:f.avatar,walletIdentity:u}),y.default.createElement(i.FlexBox,{justify:i.ALIGN.center,direction:i.DIRECTION.vertical,className:f.main},y.default.createElement(i.FlexBox,{className:f.walletNameWrap},y.default.createElement(p.HighlightKeyword,{keyword:e,text:u?.walletName,className:f.walletName,highlightClassName:f.highlight,ellipsis:{tooltip:!0}})),a.length>0?y.default.createElement(i.Box,null,y.default.createElement(p.Text,{type:p.TYPE.secondary,size:p.SIZE.sm,className:f.inline},d("extension_wallet_search_text_account_include")),a.length===1?y.default.createElement(p.HighlightKeyword,{type:p.TYPE.secondary,size:p.SIZE.sm,keyword:e,text:a[0],className:f.inline,forceWrap:!0,highlightClassName:f.highlight}):y.default.createElement(p.Text,{type:p.TYPE.secondary,size:p.SIZE.sm,className:f.highlight,forceWrap:!0},e)):y.default.createElement(W,{isRpcMode:t,currentRpcNetwork:n,hiddenAssets:h,walletAsset:u?.walletAsset,unsopportCurrentNetwork:u?.unsupported}))),o)};V.defaultProps={children:null};V.propTypes={keyword:T.default.string.isRequired,isRpcMode:T.default.bool.isRequired,disabled:T.default.bool.isRequired,children:T.default.node,hiddenAssets:T.default.bool.isRequired,walletIdentity:T.default.object.isRequired};var Pt=V;export{le as a,Oe as b,qe as c,tt as d,ct as e,_t as f,Pt as g,gt as h};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-LACP7OIH.js.map

import{a as mt}from"./chunk-GMB4HJZN.js";import{a as R,d as nt,e as st}from"./chunk-Q5JTA7IH.js";import{b as it}from"./chunk-H7AMANOW.js";import{a as ot,b as rt}from"./chunk-A46LBMBO.js";import{a as at}from"./chunk-EMH6CERP.js";import"./chunk-BU5U5Q5F.js";import"./chunk-VZDVLWJS.js";import{E as et,G as tt}from"./chunk-OHQLZX54.js";import"./chunk-SB726EPM.js";import"./chunk-FHG3YZGF.js";import{a as Te}from"./chunk-JQX3GV43.js";import{c}from"./chunk-OMSBOWDZ.js";import{f as ve}from"./chunk-VSDQKS4O.js";import{b as Ge,c as ae,l as Je}from"./chunk-MXDITV4U.js";import{b as g,d as z}from"./chunk-R56TBW5W.js";import{l as T}from"./chunk-KWSTGWJV.js";import{a as q,d as Ke,f as we}from"./chunk-2L5V4MTR.js";import{U as $e,Ua as Qe,V as K,Va as Ze,W as Le,X as Xe}from"./chunk-762Y5MQL.js";import{k as S}from"./chunk-L56XCX6G.js";import{a as Re}from"./chunk-QZUNX5I4.js";import{A as Pe,c as Z,d as ge,g as se}from"./chunk-L4N7WJIQ.js";import{ga as Ne,j as Se,pa as Ae}from"./chunk-LBCQTFOD.js";import"./chunk-V63HWKAL.js";import{T as je,Z as De,ca as ie}from"./chunk-2EJYCNYZ.js";import"./chunk-V2K75WCG.js";import{a as v}from"./chunk-B75PPTYD.js";import"./chunk-BMKS7XLD.js";import{f,m as r,o as n}from"./chunk-UGZFXKPB.js";r();n();var N=f(v()),$t=f(Re()),He=f(z());r();n();var W=f(v()),ct=f(z());r();n();var he={"mev-bar":"_mev-bar_1goqr_1",mevBar:"_mev-bar_1goqr_1","mev-desc":"_mev-desc_1goqr_12",mevDesc:"_mev-desc_1goqr_12","mev-arrow":"_mev-arrow_1goqr_18",mevArrow:"_mev-arrow_1goqr_18"};var Xt=()=>{let{components:{Mev:e}}=S,{quoteStore:{quote:o},mevStore:t,walletContractStore:i}=c(),{bestRoute:s}=o||{},{fromToken:a,toToken:m}=s||{},{transactionPayload:u}=i,l=s?.isEnableMev,{computedIsMevOpen:p,setMevUserSwitchOpen:_,setMevInfo:h,setWalletMevControl:w,walletMevControl:I}=t,x=!p&&Number(l)===Xe.ON;(0,W.useEffect)(()=>()=>{w(!1)},[w]);let b=(0,W.useMemo)(()=>{let{data:k,from:C,to:y,value:F}=u||{};return{data:k,from:C,to:y,value:F||0}},[u]);return W.default.createElement(e,{txParams:b,isMev:I||p,chainId:a?.chainId,toChainId:m?.chainId,isShowBlockSwapMevTooltip:x,onMevChange:(k,C)=>{rt.info(ot.USER_ON_OR_OFF_MEV_IN_WALLET,{isMev:k}),w(k),_(k?Le.USER_ON:Le.USER_OFF),h(C)}},W.default.createElement("div",{className:he.mevBar},W.default.createElement(ge,{src:I||p?Qe():Ze(),width:16}),W.default.createElement("span",{className:he.mevDesc},g("swaptrade_history_label_mev_protect")),W.default.createElement(je,{className:(0,ct.default)("okds-arrow-chevron-right-centered-md",he.mevArrow)})))},lt=T(Xt);r();n();var ke=f(v());var Qt=({fromList:e,toList:o})=>{let{components:{SectionWrap:t,CoinSummary:i}}=S;return ke.default.createElement(t,null,ke.default.createElement(i,{title:g("swaptrade_card_swap_label1_pay"),summaryList:e}),ke.default.createElement(i,{space:16,title:g("swaptrade_card_swap_label2_receive"),summaryList:o}))},ut=Qt;r();n();var E=f(v()),Me=f(z());r();n();var O=f(v()),pt=f(z());r();n();var B={"chain-logos":"_chain-logos_11m0k_1",chainLogos:"_chain-logos_11m0k_1","bridge-logo":"_bridge-logo_11m0k_2",bridgeLogo:"_bridge-logo_11m0k_2",w100:"_w100_11m0k_15","icon-color":"_icon-color_11m0k_18",iconColor:"_icon-color_11m0k_18",exchange:"_exchange_11m0k_26","increase-weight":"_increase-weight_11m0k_26",increaseWeight:"_increase-weight_11m0k_26",icon:"_icon_11m0k_18","show-data-icon":"_show-data-icon_11m0k_54",showDataIcon:"_show-data-icon_11m0k_54","visible-set":"_visible-set_11m0k_58",visibleSet:"_visible-set_11m0k_58",rotate:"_rotate_11m0k_1","call-data":"_call-data_11m0k_61",callData:"_call-data_11m0k_61"};var Zt=({bridge:e})=>{let o=(0,O.useRef)(null),[t,i]=(0,O.useState)(null);return(0,O.useEffect)(()=>{let s=o.current;if(s){let a=s.getBoundingClientRect().width;i(a)}},[e]),O.default.createElement("div",{ref:o,className:(0,pt.default)("flex align-items-center justify-content-start",B.w100)},O.default.createElement(ge,{className:B.bridgeLogo,src:e?.bridgeLogoUrl,alt:e?.bridgeName,width:20,height:20}),O.default.createElement(R,{maxWidth:t,text:e?.bridgeName}))},ft=Zt;r();n();var G=f(v()),dt=f(z());var Kt=({networks:e})=>{let o=(0,G.useRef)(null),[t,i]=(0,G.useState)(null);return(0,G.useEffect)(()=>{let s=o.current;if(s){let a=s.getBoundingClientRect().width;i(a)}},[e]),G.default.createElement("div",{ref:o,className:(0,dt.default)("flex align-items-center justify-content-start",B.w100)},G.default.createElement("div",{className:B.chainLogos},e.map(({chainName:s,chainLogoUrl:a})=>G.default.createElement("img",{src:a,alt:`${s}Logo`,key:s}))),G.default.createElement(R,{maxWidth:t,text:e.map(({chainName:s})=>s).join(` ${g("swaptrade_order_info_label_network_to")} `)}))},_t=Kt;r();n();var me=f(v()),St=f(Re());var gt=()=>{let e=(0,St.useLocation)(),{search:o}=e,{needUpdate:t,type:i}=ve(o);return(0,me.useMemo)(()=>({needUpdate:t===$e.on,type:i}),[t,i])},J=e=>{let{quoteStore:o,facetStore:t}=c(),i=o?.quote?.bestRoute||{},{fromToken:s,toToken:a,fromTokenAmount:m,receiveAmount:u}=i,{computedFacetOrderTokens:l}=t;return(0,me.useMemo)(()=>e===K.REDEEM?l:{fromToken:{...s,amount:m},toToken:{...a,amount:u}},[e,s,m,a,u,l])},Jt=e=>{let{fromToken:o,toToken:t}=J(e);return(0,me.useMemo)(()=>o.chainId!==t.chainId?[o,t]:[o],[o,t])},wt=e=>{let{quoteStore:o,fromToStore:t,facetStore:i,walletContractStore:s,accountStore:{walletConfig:a,address:m},slippageStore:u}=c(),l=e===K.REDEEM,p=e===K.INTENT_SWAP,{fromToken:_,toToken:h}=J(e),w=Jt(e),I=a?.walletId,{data:x}=s?.transactionPayload||{},{computedFacetOrderFromToRate:b,computedFacetOrderToFromRate:k,computedFacetOrderMinimumReceived:C}=i,{quote:y,computedIsUsingCentralizedBridge:F,enableQuoteAggregates:L}=o,D=y?.bestRoute?.bridge,A=o?.computedIsOfflineType,{name:U,logo:V,estimatedTime:$}=o?.quote?.bestRoute||{},{computedRate:X,computedToFromRate:Q,computedIsBridge:fe,computedIsEvmChain:de,computedIsFromBtcCoin:j,computedIsCrossChain:_e}=t,{computedMinimumReceived:Ve}=u;return(0,me.useMemo)(()=>{let ze={walletId:I,address:m,networks:w,data:x,fromToken:_,toToken:h};return l?{rate:b,toFromRate:k,minimumReceived:C,isFromBtcCoin:!1,isEvmChain:!0,hideExchangeBtn:!1,...ze}:{estimatedTime:(parseInt($||0,10)/60).toFixed(0)??"--",isIntentBridge:A,computedIsCrossChain:_e,rate:X,toFromRate:Q,minimumReceived:Ve,isFromBtcCoin:j,hideExchangeBtn:fe||F,isEvmChain:de,isIntentSwap:p,bridge:D,enableQuoteAggregates:L,name:U,logo:V,...ze}},[I,m,w,x,l,X,Q,Ve,j,fe,de,F,D,b,k,C,_,h,p,L,U,V,$,A,_e])};var eo=({type:e})=>{let{rate:o,toFromRate:t,minimumReceived:i,isFromBtcCoin:s,isEvmChain:a,data:m,walletId:u,address:l,networks:p,bridge:_,hideExchangeBtn:h,fromToken:w,toToken:I,isIntentSwap:x,name:b,logo:k,enableQuoteAggregates:C,estimatedTime:y,computedIsCrossChain:F}=wt(e),{components:{SectionWrap:L,InteractiveAddress:D,ModuleWrap:A,ViewData:U}}=S;return E.default.createElement(E.default.Fragment,null,E.default.createElement(L,null,E.default.createElement(D,{title:g("swaptrade_transfer_textarea_wallet_used"),address:l,walletId:u})),E.default.createElement(L,{bordered:!1},C&&b&&k&&E.default.createElement(A,{title:g("swaptrade_mid_dialog_title_provider")},E.default.createElement("div",{className:"flex"},E.default.createElement(at,{size:20,logo:k,name:b,className:"ml-8 content-primary font-14"}))),_?.bridgeName&&E.default.createElement(A,{title:g("swaptrade_xrouting_single_chain_routes")},E.default.createElement(ft,{bridge:_})),!s&&E.default.createElement(A,{title:g("swaptrade_extension_cinteraction_reference")},E.default.createElement(nt,{contentClassName:(0,Me.default)("truncate font-14 font-400"),maxWidth:240,from:w.tokenSymbol,to:I.tokenSymbol,rate:o,toFromRate:t,hideExchangeBtn:h,className:(0,Me.default)(B.exchange,B.increaseWeight),iconClassName:B.icon,wrapContentClassName:"justify-start"})),F&&E.default.createElement(A,{title:g("swaptrade_bridge_select_label_est_time")},E.default.createElement(R,{text:g("swaptrade_xrouting_tag_mins",{value:y})})),!s&&E.default.createElement(A,{title:g("swaptrade_card_swap_label3_minimum_receive")},E.default.createElement(R,{text:i})),E.default.createElement(A,{title:g("swaptrade_extension_cinteraction_network")},E.default.createElement(_t,{networks:p})),a&&!x&&m&&E.default.createElement(U,{copyable:{hideDesc:!0},data:m})))},vt=T(eo);r();n();var Y=f(v()),We=f(z());r();n();var P=f(v());var to=()=>{let{TipMessage:e}=S.components,{walletContractStore:o,fromToStore:t,quoteStore:i}=c(),{noCurrentPathTipInfo:{visible:s,bridgeName:a}}=i,{gasInfo:m,gasLimitError:u,starknetRegisterStatus:l,setVisibleStarknetRegister:p,computedPriceUpdate:_,computedSolonaNativeTokenSufficientRent:h,solonaRent:w,gasFee:I,nativeCoin:x,compuletedGetNativeCoinError:b,compuletedGetNativeCoinLoading:k}=o,{from:C}=t,{symbol:y}=x??{},F={type:Z.TYPE.error,renderGasStation:!1},L=()=>P.default.createElement(e,{type:Z.TYPE.warn,message:g("swaptrade_extension_cinteraction_insufficient_networkfee",{symbol:y}),renderGasStation:!1}),D=()=>P.default.createElement(e,{...F,message:g("swaptrade_extension_cinteraction_might_error")}),A=()=>P.default.createElement(e,{...F,type:Z.TYPE.warn,message:g("swaptrade_xrouting_dialog_market_fluctuations_default",{value:a})}),U=()=>P.default.createElement(e,{...F,message:u}),V=()=>P.default.createElement(e,{...F,message:P.default.createElement(P.default.Fragment,null,P.default.createElement("p",null,g("swaptrade_extension_errortip_address_not_registered")),P.default.createElement(se,{type:se.TYPE.primary,weight:se.WEIGHT.muted,size:se.SIZE.xs,onClick:()=>{p(!0)}},g("swaptrade_extension_textbtn_registor_now")))}),$=()=>P.default.createElement(e,{...F,type:Z.TYPE.warn,message:g("swaptrade_extension_errortip_chainname_address_registering",{chainName:C.chainName})}),X=()=>P.default.createElement(e,{renderGasStation:!1,message:g("swaptrade_transfer_textarea_quote_expired")}),Q=()=>P.default.createElement(e,{type:Z.TYPE.warn,renderGasStation:!1,message:g("swaptrade_extension_solana_insufficient_sol_balance",{number:we(q.BigNumber(w||0).plus(I).toFixed(9),{sigFigs:9})})});if(k)return null;if(b)return P.default.createElement(e,{...F,message:g("swaptrade_history_error_retrieve_balance_error")});if(l===S.global.RegisterLocalStatusEnum.NOT_STARTED)return V();if(l===S.global.RegisterLocalStatusEnum.PROCESSING)return $();if(u)return U();if(o.computedIsSufficientGas&&m?.gasLimitInfo?.queryGasLimitErrorUseDefault)return D();if(h)if(o.computedIsSufficientGas){if(s)return A();if(_)return X()}else return L();else return Q();return null},Tt=T(to);r();n();var Ce={footer:"_footer_ckzo2_1","confirm-button":"_confirm-button_ckzo2_4",confirmButton:"_confirm-button_ckzo2_4","confirm-style":"_confirm-style_ckzo2_7",confirmStyle:"_confirm-style_ckzo2_7"};var oo=({onChangeHeight:e,type:o})=>{let t=(0,Y.useRef)(null),{walletContractStore:i}=c(),{computedBtnProps:s}=i,{text:a,onClick:m,...u}=s;return(0,Y.useEffect)(()=>{let l=_=>{e&&e(_.offsetHeight)},p=new MutationObserver(_=>{l(_[0]?.target)});return t.current&&(l(t.current),p.observe(t.current,{childList:!0})),()=>{p.disconnect()}},[e]),Y.default.createElement("div",{ref:t,className:(0,We.default)(Ce.footer)},Y.default.createElement(Tt,null),Y.default.createElement("div",{className:(0,We.default)(Ce.confirmButton)},Y.default.createElement(ie,{block:!0,circle:!1,className:Ce.confirmStyle,size:ie.SIZE.lg,type:ie.TYPE.highlight,category:ie.CATEGORY.fill,loadingText:a,onClick:()=>{m(o)},...u},a)))},ht=T(oo);r();n();var ye=f(v());r();n();var kt=f(v());var ro=e=>{let{walletContractStore:o}=c(),t=mt(e);return(0,kt.useEffect)(()=>{Je(e)&&o.setNativeCoin(t)},[t,e]),{coin:t}},Ct=ro;r();n();var Ft=f(v());r();n();var H=f(v());r();n();var ce=f(v()),xt=f(z());r();n();var It={"network-fee-title":"_network-fee-title_16onq_1",networkFeeTitle:"_network-fee-title_16onq_1","tooltip-icon":"_tooltip-icon_16onq_4",tooltipIcon:"_tooltip-icon_16onq_4","gas-type":"_gas-type_16onq_8",gasType:"_gas-type_16onq_8"};var no=({chainName:e,coinSymbol:o})=>{let{quoteStore:t,commonStore:i,fromToStore:s}=c(),{currencyConversion:a,computedNowCurrencySymbol:m}=i,{computedIsCrossChain:u}=s,{estimateBridgeFeeAmount:l,estimateBridgeFeeAmountUsd:p}=t?.quote?.bestRoute?.bridge||{},_=(0,ce.useMemo)(()=>u?g("swaptrade_intro_dialog_desc_cross_fee_notice",{value:g("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:l?Ke(a(p).toString(),m):"--",fee:l?`${we(l)} ${o}`:"--"})}):g("swaptrade_extension_tooltip_mining_fee"),[o,u,m,a,l,p]);return ce.default.createElement(Pe,{rebirthPopper:!0,popupProps:{className:"text-center"},maxWidth:200,placement:Pe.DIRECTION.topRight,title:_},ce.default.createElement("span",{className:(0,xt.default)("font-12 content-contrast",It.networkFeeTitle)},g("swaptrade_history_card_text_destination_chain_fee",{chainName:e})))},ee=T(no);r();n();var xe=f(v());var Ie={SLOW:"slow",STANDARD:"standard",FAST:"fast",CUSTOM:"custom"};function so(){let{useSignInfo:e,useUtxoEstimateFee:o}=S.hooks,{walletContractStore:t,accountStore:i,fromToStore:s}=c(),{nativeCoin:a,transactionPayload:m}=t,{from:u,to:l,value:p,..._}=m||{},h=a?.coinId,{decimals:w,availableBalance:I}=s.from,[x,b]=(0,xe.useState)(null),k=e({address:i.address,coinId:h}),C=x?.level||Ie.STANDARD,y=(0,xe.useMemo)(()=>{let V={[Ie.SLOW]:"min",[Ie.STANDARD]:"normal",[Ie.FAST]:"max"};return k?.[V[C]]||x?.satBytes||0},[k,C,x?.satBytes]),F=ae(p,w),L=ae(I,w),[,D,A]=o({coinId:h,fromAddr:u,toAddr:l,satBytes:y,networkFee:"0",coinAmount:F,canTransferAmount:L,..._});return{loading:q.lte(D,"0")&&!A,error:A,signInfo:k,option:{level:C,satBytes:y},estimatedFee:D,setOption:b}}var Et=so;r();n();var le=f(v());r();n();var Ee=f(v());Ae();var te=({estimatedGasFeeInt:e,maxGasFeeInt:o,decimals:t})=>{let{quoteStore:i}=c(),s=Se(i,"quote.bestRoute.bridge.estimateBridgeFeeAmount");return(0,Ee.useMemo)(()=>{let a=Ge(o,t),m=Ge(e,t);return s&&(m=q.add(m,s,{returnString:!0}),a=q.add(a,s,{returnString:!0})),{maxGasFee:a,estimatedGasFee:m}},[o,t,e,s])},oe=e=>{let{walletContractStore:o}=c();(0,Ee.useEffect)(()=>{o.setGasFee(e)},[e])};function io(e){let{loading:o,estimatedFee:t,error:i}=e,{fromToStore:s,walletContractStore:a}=c(),{setGasFeeLoading:m,setGasLimitError:u}=a,{decimals:l}=s.from,{maxGasFee:p}=te({maxGasFeeInt:t,estimatedGasFeeInt:t,decimals:l});oe(p),(0,le.useEffect)(()=>{m(o)},[o,m]),(0,le.useEffect)(()=>{u(i)},[i,u])}function ao(e){let{signInfo:o,estimatedFee:t,option:i}=e,{useUtxoListFn:s,useUtxoCheckBeforePublishFn:a}=S.hooks,{walletContractStore:m,accountStore:u,fromToStore:l}=c(),{setPreDataForSendBtc:p,nativeCoin:_,transactionPayload:h}=m,{from:w,value:I}=h||{},{decimals:x}=l.from,b=ae(I,x),k=s({coinId:_?.coinId,walletId:u.computedAccountId,address:w}),C=a({address:w,coinId:_?.coinId}),{satBytes:y}=i;(0,le.useEffect)(()=>{p({satBytes:y,coinAmount:b,dustSize:o?.minOutput,serviceCharge:t,checkUtxoBeforePublish:F=>C(F,()=>{}),fetchUtxoList:()=>k(b,t)})},[p,y,o?.minOutput,k,C,b,t]),(0,le.useEffect)(()=>()=>{p(null)},[p])}function mo(e){io(e),ao(e)}var bt=mo;function co(){let{UtxoNetworkFeePanel:e,NetworkFeeEnter:o,SectionWrap:t}=S.components,[i,s]=(0,H.useState)(!1),{walletContractStore:a,commonStore:m}=c(),u=Et();bt(u);let{loading:l,signInfo:p,estimatedFee:_,option:h,setOption:w,error:I}=u,{nativeCoin:x}=a,{chainName:b,symbol:k,coinId:C}=x||{},y=m.nowCurrencyUnit;return H.default.createElement(H.default.Fragment,null,H.default.createElement(t,null,H.default.createElement(o,{title:H.default.createElement(ee,{chainName:b,coinSymbol:k}),coinId:C,loading:l,networkFee:_,estimateFailed:I,onClick:()=>{s(!0)}})),H.default.createElement(e,{visible:i,coinId:C,currencyId:y.currencyId,signInfo:p,value:h,estimatedFee:_,onChange:w,onToggleVisible:()=>{s(!1)}}))}var yt=T(co);function lo(){let{walletContractStore:e}=c(),{nativeCoin:o}=e;return Te(o?.chainId)?Ft.default.createElement(yt,null):null}var Nt=T(lo);r();n();var be=f(v());r();n();var At=f(v());var uo=e=>{let{useFeeDisplay:o}=S.hooks,{walletContractStore:t}=c(),{transactionPayload:i}=t,{coinAmount:s,coinSymbol:a,estimatedGasFeeInt:m,maxGasFeeInt:u,decimals:l,loading:p}=o(e,{calldata:i}),{maxGasFee:_,estimatedGasFee:h}=te({maxGasFeeInt:u,estimatedGasFeeInt:m,decimals:l});return oe(_),(0,At.useEffect)(()=>{t.setGasFeeLoading(p)},[p,t]),{maxGasFee:_,estimatedGasFee:h,coinAmount:s,coinSymbol:a,feeLoading:p}},Dt=uo;var po=({chainId:e})=>{let{NetworkFeeEnter:o,SectionWrap:t}=S.components,{estimatedGasFee:i,feeLoading:s,coinSymbol:a}=Dt(e),{walletContractStore:m}=c(),{nativeCoin:u}=m;return be.default.createElement(t,null,be.default.createElement(o,{title:be.default.createElement(ee,{chainName:u?.chainName,coinSymbol:a}),coinId:u?.coinId,loading:s,networkFee:i,useMinPrecision:!1}))},Pt=T(po);r();n();var M=f(v());Ae();r();n();var Be=f(v());r();n();r();n();var re={SLOW:"SLOW",MODERATE:"MODERATE",FAST:"FAST",CUSTOM:"CUSTOM"},Lt={[re.SLOW]:"slow",[re.MODERATE]:"standard",[re.FAST]:"fast",[re.CUSTOM]:"custom"};var fo=()=>({initialGasType:Lt[re.MODERATE]}),Gt=fo;var _o=(e,o)=>{let{useFeeDisplay:t}=S.hooks,{walletContractStore:i}=c(),s=Gt(),a=t(o,{gasInfo:e,calldata:i.transactionPayload}),{coinAmount:m,coinSymbol:u,estimatedGasFeeInt:l,maxGasFeeInt:p,decimals:_,loading:h,error:w}=a,{maxGasFee:I,estimatedGasFee:x}=te({maxGasFeeInt:p,estimatedGasFeeInt:l,decimals:_});return oe(I),(0,Be.useEffect)(()=>{i.setGasFeeLoading(h)},[h,i]),(0,Be.useEffect)(()=>{i.setGasLimitError(w)},[w,i]),{txInitGasInfo:s,coinAmount:m,coinSymbol:u,maxGasFee:I,estimatedGasFee:x,gasType:e.gasType,feeLoading:a.loading,error:w}},Mt=_o;r();n();var Wt=e=>q.div(e,10**18).toString();var go=({chainId:e})=>{let{EthereumNetworkFee:o,NetworkFeeEnter:t,SectionWrap:i}=S.components,{useGasReturnActivity:s}=S.hooks,[a,m]=(0,M.useState)(!1),{walletContractStore:u,accountStore:l,mevStore:p}=c(),{gasInfo:_,transactionPayload:h,setGasInfo:w,nativeCoin:I,setActivityId:x}=u,{computedIsMevOpen:b,mevInfo:k}=p,{to:C,from:y,data:F,value:L}=h||{},{coinId:D,chainName:A}=I||{},{txInitGasInfo:U,coinSymbol:V,gasType:$,estimatedGasFee:X,maxGasFee:Q,feeLoading:fe,error:de}=Mt(_,e),j=s({coinId:D,fromAddress:Ne(y),toAddress:Ne(C),unavailable:_.gasType==="custom",disabled:!C||!y||!D,gasInfo:_,txType:2,fee:Wt(_.networkFee||0)}),_e=()=>{m(!1)};return(0,M.useEffect)(()=>{x(j?.activityId)},[j,x]),M.default.createElement(M.default.Fragment,null,M.default.createElement(i,null,M.default.createElement(t,{level:$,title:M.default.createElement(ee,{chainName:A,coinSymbol:V}),coinId:D,loading:fe,networkFee:X,maxNetworkFee:Q,gasReturn:j,estimateFailed:de,onClick:()=>{et({wallet_address:l.address,button_name:"network_fee"}),m(!0)},useMinPrecision:!1})),D&&M.default.createElement(o,{visible:a,coinId:D,address:y,inputData:F,tokenAddress:C,value:L,onBack:_e,onClose:S.goHome,onGasChange:w,initialGasData:U,gasReturn:j,isMev:b,mevInfo:k}))},Bt=T(go);var wo=({type:e})=>{let{fromToStore:o,walletContractStore:t}=c(),{isEvmChain:i}=o,{fromToken:s}=J(e);return Ct(s.chainId),t.computedIsIntentSwap?null:Te(s.chainId)?s.isNativeToken?ye.default.createElement(Nt,null):null:i(s.chainId)?ye.default.createElement(Bt,{chainId:s.chainId}):ye.default.createElement(Pt,{chainId:s.chainId})},Ot=T(wo);r();n();var ue=f(v());Ae();r();n();var Fe={box:"_box_r55yw_1",label:"_label_r55yw_1",fee:"_fee_r55yw_7"};var vo=()=>{let{SectionWrap:e}=S.components,{commonStore:o,quoteStore:t}=c(),i=Se(t,"quote.bestRoute.serviceFeeInfo",{}),{isDisplayServiceFee:s,label:a,tooltip:m,serviceFee:u}=it({...i,formatServiceFeeUsd:o.currencyConversionWithSymbol});return s?ue.default.createElement(e,null,ue.default.createElement("div",{className:Fe.box},ue.default.createElement(st,{className:Fe.label,label:a,tooltip:m}),ue.default.createElement("div",{className:Fe.fee},u))):null},Ut=T(vo);r();n();var pe=f(v());r();n();var Yt=f(v()),Ht=f(z());r();n();var qt={"drawer-mask":"_drawer-mask_jl4xy_1",drawerMask:"_drawer-mask_jl4xy_1","box-padding":"_box-padding_jl4xy_4",boxPadding:"_box-padding_jl4xy_4"};var To=({visible:e,children:o})=>{let{Layout:t}=S.components;return e?Yt.default.createElement(t.Portal,{className:(0,Ht.default)(qt.drawerMask)},o):null},Vt=To;r();n();var zt={drawer:"_drawer_kg0sg_1"};var ho=()=>{let{hooks:{useRegisterStatus:e},components:{StarknetRegister:o}}=S,{walletContractStore:t}=c(),{registerStatus:i}=e();return(0,pe.useEffect)(()=>{t.setStarknetRegisterStatus(i)},[i,t]),pe.default.createElement(Vt,{className:zt.drawer,visible:t.visibleStarknetRegister},pe.default.createElement(o,{onBack:()=>{t.setVisibleStarknetRegister(!1)},registerStatus:i}))},jt=T(ho);r();n();var Ue=f(v());var Oe=e=>{let{useCoin:o}=S.hooks;return o(e?.chainId,e.isNativeToken?"":e.tokenContractAddress)},ko=()=>{let{fromToStore:e,gasDropStore:o}=c(),{to:t}=e,i=Oe({chainId:t.chainId}),{computedGasDropSelected:s,gasDropConfig:a}=o||{},{gasDrop:m}=a||{};return(0,Ue.useMemo)(()=>s?{coinId:i?.coinId,coinAmount:m,useMinPrecision:!1,useChainCorner:t.chainLogoUrl,displayEstimate:!1,desc:g("swaptrade_transfer_text_for_gas")}:null,[s,m,t,i])};function qe(e){let{fromToken:o,toToken:t}=J(e),i=ko(),s=Oe(o),a=Oe(t);return(0,Ue.useMemo)(()=>({fromList:[{coinId:s?.coinId,coinAmount:o.amount,useMinPrecision:!1,useChainCorner:o.chainLogoUrl}],toList:[{coinId:a?.coinId,coinAmount:t.amount,useMinPrecision:!1,useChainCorner:t.chainLogoUrl},i].filter(Boolean)}),[s,o,t,a,i])}r();n();var ne={container:"_container_wvaui_1",loading:"_loading_wvaui_5",wrap:"_wrap_wvaui_10",scroll:"_scroll_wvaui_13"};r();n();var Rt=f(v());function Ye(e=!0){let{walletContractStore:o}=c(),{startCountdown:t,clearTimer:i,initCountDown:s}=o;(0,Rt.useEffect)(()=>(e&&t(),()=>{i(),s()}),[i,s,t,e])}var Co=()=>{let{fromToStore:e,walletContractStore:o}=c(),{computedIsStarknetChain:t}=e,{loading:i,reset:s}=o,[a,m]=(0,N.useState)(80),{needUpdate:u,type:l}=gt(),{fromList:p,toList:_}=qe(l),{search:h}=(0,$t.useLocation)(),{type:w}=ve(h),I=w!==K.INTENT_SWAP;return(0,N.useEffect)(()=>{o.setSwapType(l)},[l]),(0,N.useEffect)(()=>{tt()},[]),Ye(u),(0,N.useEffect)(()=>s,[s]),i?N.default.createElement("div",{className:(0,He.default)(ne.container,ne.loading)},N.default.createElement(De,{size:De.SIZE.lg})):N.default.createElement("div",{className:ne.container},N.default.createElement("div",{style:{height:`calc(100% - ${a}px)`},className:(0,He.default)(ne.wrap)},N.default.createElement("div",{className:ne.scroll,id:"wallet_scroll"},I?N.default.createElement(lt,null):null,N.default.createElement(ut,{fromList:p,toList:_}),N.default.createElement(Ot,{type:l}),N.default.createElement(Ut,null),N.default.createElement(vt,{type:l}))),N.default.createElement(ht,{onChangeHeight:m,type:l}),t&&N.default.createElement(jt,null))},Ca=T(Co);export{Ca as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Contract-6AYTP2GP.js.map

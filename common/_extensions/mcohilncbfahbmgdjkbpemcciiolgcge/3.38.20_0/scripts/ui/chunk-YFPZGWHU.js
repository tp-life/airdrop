import{a as so,b as io,c as mo,d as St,e as ao,f as he}from"./chunk-PUJJBUFH.js";import{a as ke}from"./chunk-LEIYH7WK.js";import{a as Ge}from"./chunk-G4AWS3BQ.js";import{a as je,b as ye,c as lo}from"./chunk-6QBAZ7D2.js";import{a as we,b as Tt,c as Pe,d as te,f as Et,g as ze,h as Ye}from"./chunk-BSUDBTGH.js";import{a as C}from"./chunk-BANGSZ4B.js";import{b as d}from"./chunk-ZUICTOPN.js";import{a as x}from"./chunk-I2G7FB72.js";import{d as We,e as Zt,f as ht,g as Kt,h as Jt,i as eo,j as kt,k as yt,l as to,m as le}from"./chunk-KCV34X36.js";import{a as Ht}from"./chunk-TNLFOL4C.js";import{a as Rt}from"./chunk-5EWB6ZNH.js";import{a as oo}from"./chunk-4J46SQ74.js";import{a as Yt}from"./chunk-QBZA6BV4.js";import{a as A}from"./chunk-5UQNMD2N.js";import{a as no}from"./chunk-GMB4HJZN.js";import{b as ro}from"./chunk-H7AMANOW.js";import{a as L,b as D}from"./chunk-A46LBMBO.js";import{g as Ot,h as Wt,i as Gt,j as Oe,m as Z}from"./chunk-VZDVLWJS.js";import{J as $t,n as jt,t as Xt}from"./chunk-OHQLZX54.js";import{e as gt,g as zt}from"./chunk-MXDITV4U.js";import{b as l,d as F}from"./chunk-R56TBW5W.js";import{l as P}from"./chunk-KWSTGWJV.js";import{a as _t,f as ge}from"./chunk-2L5V4MTR.js";import{$a as dt,Ga as ct,Ha as ut,Na as Qt,Qa as ft,lb as qt}from"./chunk-762Y5MQL.js";import{k as pt}from"./chunk-L56XCX6G.js";import{a as Ce}from"./chunk-QZUNX5I4.js";import{A as Ft,H as R,I as w,O as Ut,P as Vt,c as ee,o as Y,q as at,r as qe,y as lt}from"./chunk-L4N7WJIQ.js";import{F as Ue,M as Lt,e as At,j as ie,pa as Ve,x as Bt}from"./chunk-LBCQTFOD.js";import{D as Qe,N as me,l as O,n as Dt}from"./chunk-V63HWKAL.js";import{T as W,ca as ae}from"./chunk-2EJYCNYZ.js";import{a as h}from"./chunk-B75PPTYD.js";import{f,m as n,o as s}from"./chunk-UGZFXKPB.js";n();s();var vt=f(h()),xt=f(F());n();s();var bt={root:"_root_1ezdn_1",error:"_error_1ezdn_10",skeleton:"_skeleton_1ezdn_13"};var Ar=({className:e,loading:t,amount:o,currency:r})=>{let m=o&&r?ge(o,{needBillionMillionUnit:!1}):"--";return vt.default.createElement(x,{loading:t,height:16,className:(0,xt.default)(e,bt.skeleton)},vt.default.createElement("div",{className:(0,xt.default)(e,bt.root)},l("swaptrade_trade_title_balance_amt",{num:m,symbol:r})))};n();s();var uo=f(h()),He=f(Ce());n();s();var Xe=f(h()),$e=f(F());n();s();var Ne={root:"_root_11r3h_1",item:"_item_11r3h_8",active:"_active_11r3h_23",skeleton:"_skeleton_11r3h_27"};var co=({className:e="",loading:t,tabList:o})=>Xe.default.createElement(x,{loading:t,height:32,className:(0,$e.default)(e,Ne.skeleton)},Xe.default.createElement("div",{className:(0,$e.default)(e,Ne.root)},o.map(r=>Xe.default.createElement(w,{key:r.name,className:(0,$e.default)(Ne.item,r.active&&Ne.active),onClick:r.onClick},r.name))));var en=({className:e="",loading:t,mode:o})=>{let r=(0,He.useHistory)(),i=(0,He.useLocation)(),{search:m,pathname:a}=i,c=Z(Wt),u=Z(Ot),_=[{name:l("swaptrade_market_item_buy"),active:o==="buy",onClick:()=>{a!==c&&(A.set(ct,c),r.replace(c+yt(ht(kt(m)))))}},{name:l("swaptrade_market_tab_item_sell"),active:o==="sell",onClick:()=>{a!==u&&(A.set(ct,u),r.replace(u+yt(ht(kt(m)))))}}];return uo.default.createElement(co,{className:e,loading:t,tabList:_})};n();s();var Se=f(h()),po=f(F());n();s();var Mt={root:"_root_vldoz_1","root-tg":"_root-tg_vldoz_10",rootTg:"_root-tg_vldoz_10"};var fn=({children:e})=>{let t=Yt(),o=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[r,i]=(0,Se.useState)(o()),m=()=>{i(o())};return(0,Se.useEffect)(()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),Se.default.createElement("div",{className:(0,po.default)(Mt.root,{[Mt.rootTg]:t}),style:{width:r}},e)};n();s();var Ee=f(h());n();s();var v=f(h()),oe=f(F());Ve();n();s();var ce=f(h());n();s();var Ie={root:"_root_15azj_1",select:"_select_15azj_11",body:"_body_15azj_14",item:"_item_15azj_18",name:"_name_15azj_35",check:"_check_15azj_44"};var or=({name:e,onClick:t,checked:o})=>ce.default.createElement(w,{className:Ie.item,onClick:t},ce.default.createElement("span",{className:Ie.name},e),o?ce.default.createElement(qe.Circle,{checked:!0,className:Ie.check}):null),rr=({visible:e,setVisible:t})=>{let{isSm:o}=Rt(),{memeSellStore:r}=d(),{isInputPercent:i,setIsInputPercent:m,fromToken:a,setInputSellValue:c}=r,u=[{key:"percent-mode",name:l("swaptrade_meme_order_option_percentage"),onClick:()=>{m(!0),c(""),t(!1)},checked:i},{key:"number-mode",name:a?.tokenSymbol||"",onClick:()=>{m(!1),c(""),t(!1)},checked:!i}];return ce.default.createElement(Y.Action,{onClose:()=>{t(!1)},visible:e,windowStyle:{borderTopLeftRadius:o?16:6,borderTopRightRadius:o?16:6},hideCloseBtn:o},ce.default.createElement("div",{className:Ie.body},u.map(_=>ce.default.createElement(or,{key:_.key,..._}))))},fo=P(rr);n();s();var Te={"input-container":"_input-container_fyhvp_1",inputContainer:"_input-container_fyhvp_1",suffix:"_suffix_fyhvp_4","mode-text":"_mode-text_fyhvp_7",modeText:"_mode-text_fyhvp_7"};var sr=P(()=>{let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:o}=C(),{inputBuyValue:r,setInputBuyValue:i,toToken:m}=e,{inputSellValue:a,setInputSellValue:c,isInputPercent:u,fromToken:_}=t,[g,y]=(0,v.useMemo)(()=>o?[a,c]:[r,i],[o,r,i,a,c]),k=B=>B===`${1e-12}`?qt().slice(1):B,S=B=>{let Fe=B;o&&u&&B>100||(o&&u&&B==="100."&&(Fe="100"),y(Fe))},[,T]=(0,v.useTransition)(),b=B=>{T(()=>{let Fe=k(B),It=zt(Fe);!Lt(It)&&S(It)})},[H,E]=(0,v.useState)(!1),[I,Q]=(0,v.useMemo)(()=>o?u?[v.default.createElement("div",{key:"meme-swap-percentage-suffix",className:(0,oe.default)("flex items-center",Te.suffix)},v.default.createElement("span",{className:(0,oe.default)(Te.modeText)},l("swaptrade_meme_order_option_percentage")),v.default.createElement(w,{onClick:()=>E(!0)},v.default.createElement(W,{className:(0,oe.default)("okx-defi-dex-market-sort-down","content-primary"),style:{fontSize:12,cursor:"pointer"}}))),2]:[v.default.createElement("div",{key:"meme-swap-default-suffix",className:(0,oe.default)("flex items-center",Te.suffix)},v.default.createElement("span",{className:(0,oe.default)(Te.modeText)},_?.tokenSymbol||""),v.default.createElement(w,{onClick:()=>E(!0)},v.default.createElement(W,{className:(0,oe.default)("okx-defi-dex-market-sort-down"),style:{fontSize:12,cursor:"pointer"}}))),Math.min(dt,Number(_?.decimals)),Number.MAX_SAFE_INTEGER]:[null,Math.min(dt,Number(m?.decimals))],[o,u,_,m]),[q,mt]=(0,v.useState)(null);return(0,v.useEffect)(()=>{At(ie(q,"focus"))&&q.focus()},[u,q]),v.default.createElement(v.default.Fragment,null,v.default.createElement(at.Number,{size:at.SIZE.xl,onRef:B=>{mt(B)},useReactTransition:!0,className:(0,oe.default)(Te.inputContainer),value:g,inputMode:"decimal",autoComplete:"off",spellCheck:"false",onChange:b,suffix:I,precision:Q}),v.default.createElement(fo,{visible:H,setVisible:E}))}),_o=sr;n();s();var ue=f(h()),Re=f(F());n();s();var Ae={select:"_select_9f8r3_1",skeleton:"_skeleton_9f8r3_4","select-item":"_select-item_9f8r3_8",selectItem:"_select-item_9f8r3_8",selected:"_selected_9f8r3_25"};var ir=()=>{let{memeConfigStore:e,memeBuyStore:t,memeSellStore:o,memeQuoteStore:r}=d(),{config:i,initLoading:m}=e,{isSellRoute:a,isBuyRoute:c}=C(),{selectBuyValue:u,setSelectBuyValue:_}=t,{selectSellValue:g,setSelectSellValue:y}=o,[k,S]=(0,ue.useMemo)(()=>a?[g,y]:[u,_],[a,u,_,g,y]),T=(0,ue.useMemo)(()=>{if(m)return[{label:"",key:"meme_custom1"},{label:"",key:"meme_custom2"},{label:"",key:"meme_custom3"},{label:"",key:"meme_custom4"}];if(!i)return[];let{defaultBuyAmountList:E,defaultSellPercentList:I}=i;return a?[...I.map((Q,q)=>({value:Q,key:`meme_custom1${q+1}`,label:q<2?`${Number(Q)*100}%`:l("swaptrade_card_swap_btn_all")})),{value:Ye,label:l("swaptrade_dialog_modal_custom")}]:[...E.map((Q,q)=>({value:Q,label:Q,key:`meme_custom1${q+1}`})),{value:Ye,label:l("swaptrade_dialog_modal_custom")}]},[a,i]),b=je(),H=E=>{c&&k===Ye&&A.set(ze,""),E?.value&&(S(E.value),b())};return ue.default.createElement("div",{className:(0,Re.default)("flex items-center",Ae.select)},T.map(E=>ue.default.createElement(x,{loading:r?.initLoading,height:88,className:(0,Re.default)(Ae.skeleton),key:E?.key},ue.default.createElement(w,{className:(0,Re.default)(Ae.selectItem,{[Ae.selected]:E.value===k}),onClick:()=>{H(E)}},E.label))))},go=P(ir);var mr=P(({className:e})=>{let{memeBuyStore:t,memeSellStore:o,memeConfigStore:r}=d(),{selectBuyValue:i}=t,{selectSellValue:m}=o,{isSellRoute:a}=C(),c=(0,Ee.useMemo)(()=>a?m===Et:i===Et,[a,i,m]);return Ee.default.createElement("div",{className:e},Ee.default.createElement(go,null),!r.initLoading&&c&&Ee.default.createElement(_o,null))}),bs=mr;n();s();function ho(){let e=ke(jt),{memeQuoteStore:t,memeAccountStore:o,memeConfigStore:r}=d(),{computedQuoteIsError:i,computedQuoteErrorMsg:m,computedQuoteLiquidityError:a,computedQuoteIsHoneypot:c,computedQuoteNetworkError:u}=t,{computedNonsupportChain:_}=o,{config:g}=r,{nativeTokenInfo:y}=g||{},{chainName:k}=y||{};return _?(e({type:"switch_wallet"}),{title:l("swaptrade_adjustslip_modal_title_wrongnetwork"),desc:l("swaptrade_card_alert_switch_wallet_to_match",{chainName:k}),type:ee.TYPE.warn}):a?(e({type:"no_liquidity"}),{title:l("swap_title_quote_server_error"),desc:l("swaptrade_swap_card_text_no_quote_fetched"),type:ee.TYPE.error}):c?{title:l("swap_title_quote_server_error"),desc:l("swaptrade_quote_error_malicious_token"),type:ee.TYPE.error}:i?{title:l("swap_title_quote_server_error"),desc:m||l("swaptrade_quote_error_no_update"),type:ee.TYPE.error}:u?{title:l("swap_title_quote_server_error"),desc:l("swaptrade_quote_server_error_content"),type:ee.TYPE.error}:null}n();s();var Be=f(h());n();s();var wt=f(h());n();s();var K=f(h());me();n();s();function be(){let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:o}=C();return o?t.computedSellNumber:e.computedBuyNumber}n();s();Ve();me();function ko(){let e=be(),{fromToken:t}=he();return Ue(t.amountNum)||new O.BigNumber(e).gt(t.amountNum)}function yo(){let{memeQuoteStore:e,memeAccountStore:t}=d(),o=be(),r=(0,K.useCallback)(()=>new O.BigNumber(o).gt(0)?"":te,[o]),i=(0,K.useCallback)(()=>e.computedCustomQuoteLoading?te:e.computedQuoteIsInvalid?te:"",[e.computedQuoteIsInvalid,e.computedCustomQuoteLoading]),{computedNonsupportChain:m}=t,a=(0,K.useCallback)(()=>m?te:"",[m]),c=ko(),u=(0,K.useCallback)(()=>c?Pe:"",[c]),[_,g]=(0,K.useState)(te);return(0,K.useEffect)(()=>{let y=[a,r,i,u],k;for(let S=0;S<y.length;S++){let T=y[S]();if(T){k=T;break}}g(k||we)},[r,u,i,g,a]),_}n();s();var Lo=f(h());n();s();var Ze=f(h());function So(e){let[t,o]=(0,Ze.useState)(!1);return{runPreconditions:(0,Ze.useCallback)(async()=>{o(!0);try{await e.reduce(async(i,m)=>{let a=await i;return m(a)},Promise.resolve())}finally{o(!1)}},[e]),loading:t}}n();s();var bo=f(h());n();s();var To=f(h());function Eo(){let{memeSwapStore:e,sendTransactionStore:t}=d(),{getJitoTxData:o}=e,{signSolanaTransactionWithMeme:r}=t;return{onSolanaSign:(0,To.useCallback)(async m=>{try{let a=await o(m),c=await r(m,a);return D.info(L.MEME_SWAP_SIGN_SUCCESS,{data:{...m,unsignedTxArray:a,signedTransactions:c}}),{...m,signedTransactions:c,txArray:a}}catch(a){throw a?.message!=="Expected String"&&R.error(l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_SIGN_ERROR,{data:{error:a,data:m}}),new Error(a?.error_message)}},[o,r])}}function vo(){let{memeConfigStore:e,memeSwapStore:t}=d(),{onSolanaSign:o}=Eo();return(0,bo.useCallback)(async(i={})=>{let{signedTransactions:m,txArray:a}=await o(i),c=await t.onSolanaSwap({data:i,signedTransactions:m,txArray:a}),{config:u}=e,{nativeTokenInfo:_}=u||{},{tokenContractAddress:g}=_||{},{calldataParams:y}=i,{fromAmount:k,fromTokenAddress:S}=y||{};return S===g&&A.set(ze,k),{...i,broadcastRes:c}},[e,t,o])}n();s();var Ke=f(h());me();function xo(){let{memeQuoteStore:e,memeAccountStore:t}=d(),{computedGetRouterList:o,computedGetEstimateGasFee:r,computedGetQuoteFrom:i,computedGetQuoteTo:m,computedGetQuoteFromAmount:a,computedGetQuoteToAmount:c,computedPriorityFeeInfo:u,computedQuoteTraceData:_,computedServiceFeeInfo:g,priorityFee:y,slippage:k}=e,S=t.getAddressByChainId(i.chainId),T=t.computedAccountId,b=(0,Ke.useMemo)(()=>({dexRouterList:o,priorityFee:y?.value,slippage:k?.value,estimateGasFee:r,chainId:i.chainId,fromTokenAddress:i.tokenContractAddress,fromAmount:a,toTokenAddress:m.tokenContractAddress,toAmount:c,userWalletAddress:S,enableJito:!!u?.enableJito,customPriorityFee:y.type==="custom",serviceFeeInfo:g}),[o,y.value,y.type,k?.value,r,i.chainId,i.tokenContractAddress,a,m.tokenContractAddress,c,S,u?.enableJito,g]);return(0,Ke.useCallback)(async()=>{D.info(L.MEME_SWAP_GET_CALLDATA_PARAMS,{data:b});let[E,I]=await Qe(io(b));if(E||!I.data?.unsignedTx)throw R.error(E?.error_message||l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_GET_CALLDATA_ERROR,{data:{error:E,params:b,res:I}}),new Error(E?.error_message);return{unsignedTx:I.data.unsignedTx,calldataParams:{...b,traceData:_},walletId:T}},[_,b,T])}n();s();var Ct=f(h());Ve();me();function Mo(){let{memeQuoteStore:e,memeAccountStore:t,memeSwapStore:o}=d(),{computedGetQuoteFrom:r}=e,{usePreExecuteFn:i}=pt.hooks,{TxToastCheckTypeEnum:m}=pt.global,a=i(),c=r.isNativeToken?"":r.tokenContractAddress,u=t.getAddressByChainId(r.chainId),_=no(r.chainId,c),g=o.getSolanaUnsignedTx,y=(0,Ct.useCallback)(S=>{let T=g(S);return{checkTypes:[m.TX_ANALYZE],from:u,chainId:r.chainId,coinId:_?.coinId,simulateTransactionParamList:T.map(b=>({transaction:b.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[g,m.TX_ANALYZE,_?.coinId,r.chainId,u]);return(0,Ct.useCallback)(async(S={})=>{let T=y(S),[b,H]=await Qe(a(T));if(b)throw R.error(b?.error_message||l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_PRE_EXECUTE_ERR,{error:b,data:{executeParams:T,data:S}}),new Error(b?.error_message);let E=ie(H,`${m.TX_ANALYZE}`,{});if(!E.result){let I=E.msg||ie(Bt(E.simulateTransactionResultList,Q=>!Ue(Q.msg)),"msg",l("swaptrade_home_toast_initiation_error"));throw R.error(I),D.error(L.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{error:E,...S,executeParams:T}}),new Error(I)}return D.info(L.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{...S,executeParams:T}}),S},[a,y])}n();s();var N=f(h());n();s();var Co="RISK_ACCEPT_KEY";function wo(){return A.get(Co)}function Po(){return A.set(Co,1)}function No(e,t,o=20){if(o<0||o>100)throw new Error("Percentage should be between 0 and 100");let r=new _t.BigNumber(e),i=new _t.BigNumber(t);if(r.isZero())throw new Error("The 'from' value cannot be zero to calculate percentage difference.");let a=r.minus(i).div(r).times(100);return{isDifferenceLarge:a.gte(o),percentageDifference:a.toFixed(2)}}function Io({checked:e,setChecked:t}){return N.default.createElement("div",null,N.default.createElement("p",null,l("swaptrade_modal_toast_desc_risk_reminder")),N.default.createElement(qe,{checked:e,onChange:o=>{t(o.target.checked)}},l("swaptrade_confirmation_checkbox_aware_risk")))}function Ao(){let[e,t]=(0,N.useState)(!1);(0,N.useEffect)(()=>{let i=wo();t(!!i)},[]);let o=(0,N.useRef)(null),r=(0,N.useCallback)(()=>e?Promise.resolve(!0):new Promise((i,m)=>{o.current=Y.tip({infoType:Y.Tip.INFO_TYPE.success,title:l("swaptrade_modal_toast_title_risk_reminder"),children:N.default.createElement(Io,{checked:e,setChecked:t}),confirmText:l("commonall_text_btn_confirm"),confirmBtnProps:{disabled:!0},cancelText:l("commonall_text_btn_cancel"),onConfirm:()=>{Po(),o.current?.destroy(),i(!0)},onClose:()=>{o.current?.destroy(),o.current=null,t(!1),m(new Error("Risk prompt closed"))},onCancel:()=>{t(!1),m(new Error("Risk prompt closed"))}})}),[e]);return(0,N.useEffect)(()=>{o.current&&o.current?.update({children:N.default.createElement(Io,{checked:e,setChecked:t}),confirmBtnProps:{disabled:!e}})},[e]),r}n();s();var ve=f(h());function Bo(){let e=ke(Xt),{memeQuoteStore:t}=d(),o=(0,ve.useCallback)(()=>No(t.computedFromTokenValue,t.computedToTokenValue,20),[t.computedFromTokenValue,t.computedToTokenValue]);return(0,ve.useCallback)(()=>{try{let{isDifferenceLarge:i,percentageDifference:m}=o();return i?new Promise((a,c)=>{e({popup_type:"valuedifference"});let u=Y.tip({infoType:Y.Tip.INFO_TYPE.success,title:l("swaptrade_modal_title_crossvalue_deviation"),children:ve.default.createElement("div",null,ve.default.createElement("p",null,l("swaptrade_modal_desc_crossvalue_deviation",{value:m}))),confirmText:l("swaptrade_confirmation_btn_continue_swap"),cancelText:l("commonall_text_btn_cancel"),onConfirm:()=>{u.destroy(),a(!0)},onClose:()=>{c(new Error("Value diff prompt closed"))},onCancel:()=>{c(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)}catch(i){throw R.error(l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_VALUE_DIFF_ERROR,{error:i,data:{"memeModeCommonDexInfo.fromTokenPrice":t.computedFromTokenValue,"memeModeSingleChainSwapInfo.toTokenPrice":t.computedToTokenValue}}),i}},[t.computedFromTokenValue,t.computedToTokenValue,o])}function Do(){let e=Ao(),t=Bo(),o=xo(),r=Mo(),i=vo(),{memeSwapStore:m}=d(),{runPreconditions:a,loading:c}=So([e,t,o,r,i]),{setIsSwapLoading:u}=m;return(0,Lo.useEffect)(()=>{u(c)},[u,c]),{onSwap:a,loading:c}}function ar(){let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:o}=C();return(0,wt.useCallback)(()=>o?l(Tt,{token:t.computedSellTokenSymbol}):l(we,{token:e.computedBuyTokenSymbol}),[o,e.computedBuyTokenSymbol,t.computedSellTokenSymbol])}function Fo(){let e=ke(),t=yo(),{fromToken:o}=he(),r=ar(),{onSwap:i}=Do(),{memeCommonStore:{setAddFundsVisible:m}}=d();return(0,wt.useCallback)(()=>({[we]:{disabled:!1,btnTxt:()=>r(),onClick:()=>{i(),e({button_name:"confirm"})}},[Tt]:{disabled:!1,btnTxt:()=>r(),onClick:()=>{i(),e({button_name:"confirm"})}},[Pe]:{disabled:!1,btnTxt:()=>l(Pe,{token:o.symbol}),onClick:()=>{m(!0)}},[te]:{disabled:!0,btnTxt:()=>r(),onClick:()=>{}}}),[o.symbol,r,i,m])()[t]||{}}n();s();var Pt={"btn-loading":"_btn-loading_1r7dd_1",btnLoading:"_btn-loading_1r7dd_1",btn:"_btn_1r7dd_1"};var Qm=P(({loading:e})=>{let t=ho(),{btnTxt:o,...r}=Fo();return Be.default.createElement(x,{height:56,loading:e,active:!0,className:Pt.btnLoading},Be.default.createElement(Be.default.Fragment,null,Be.default.createElement(ae,{className:Pt.btn,category:ae.CATEGORY.fill,type:ae.TYPE.primary,size:ae.SIZE.xl,block:!0,...r,disabled:r.disabled||!!t},o?.())))});n();s();var G=f(h()),et=f(F());n();s();var Je=f(h());function Uo({userUniqueId:e,computedAccountId:t,chainId:o,debouncedFetchPositionList:r,positionList:i,fromToken:m,setFromToken:a,toToken:c,setToToken:u}){let{isSellRoute:_}=C(),g=je(),y=(0,Je.useMemo)(()=>!i||i?.length===0,[i]),k=S=>{if(_?S?.tokenContractAddress!==m?.tokenContractAddress&&a(S):S?.tokenContractAddress!==c?.tokenContractAddress&&u(S),g(),Qt()){let b=document.querySelector("#meme-swap-container");b&&b.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})};return(0,Je.useEffect)(()=>{e&&t&&o&&r({chainId:o,accountId:t,userUniqueId:e})},[o,t,e]),{isEmptyData:y,handleSelect:k}}n();s();var Nt=f(h()),Qo=f(F());n();s();var Vo={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var lr=()=>{let e=()=>Nt.default.createElement(lt.State,{type:lt.State.TYPE.noResult,title:l("swaptrade_general_emptystate_no_assets")});return Nt.default.createElement("div",{className:(0,Qo.default)("flex justify-content-center align-items-center",Vo.emptyContainer)},e())},qo=lr;n();s();var pe={"my-position":"_my-position_115ho_1",myPosition:"_my-position_115ho_1",line:"_line_115ho_4","title-part":"_title-part_115ho_9",titlePart:"_title-part_115ho_9",title:"_title_115ho_9","chain-logo":"_chain-logo_115ho_19",chainLogo:"_chain-logo_115ho_19",container:"_container_115ho_22"};var cr=P(()=>{let{memeConfigStore:e,memePositionStore:t,memeAccountStore:o,memeCommonStore:r,memeBuyStore:i,memeSellStore:m}=d(),{config:a}=e,c=a?.nativeTokenConfig,u=a?.solanaChainLogo,_=c?.chainId,{fetchPositionList:g,positionList:y,initState:k}=t,{computedAccountId:S}=o,{userUniqueId:T}=r,{setToToken:b,toToken:H}=i,{setFromToken:E,fromToken:I}=m,Q=so(g,300),{isEmptyData:q,handleSelect:mt}=Uo({userUniqueId:T,computedAccountId:S,chainId:_,debouncedFetchPositionList:Q,positionList:y,setToToken:b,toToken:H,setFromToken:E,fromToken:I});if(!T)return null;let B=(0,G.useMemo)(()=>q?G.default.createElement(qo,null):G.default.createElement("div",{className:pe.container},G.default.createElement(lo,{key:_,isMyPosition:!0,normalList:y,selectToken:mt})),[q,I?.tokenContractAddress,H?.tokenContractAddress,y]);return k&&G.default.createElement("div",{className:(0,et.default)(pe.myPosition)},G.default.createElement("div",{className:pe.line}),G.default.createElement("div",{className:(0,et.default)("flex items-center justify-between",pe.titlePart)},G.default.createElement("span",{className:pe.title},l("swaptrade_meme_order_title_my_positions")),G.default.createElement(oo,{src:u,size:24,className:(0,et.default)(pe.chainLogo)})),B)}),Ea=cr;n();s();var Wo=f(h());n();s();var Oo={alert:"_alert_12652_1"};var La=({info:e})=>{if(e){let{title:t,desc:o,type:r}=e;return Wo.default.createElement(ee,{className:Oo.alert,title:t,desc:o,type:r,closable:!1})}return null};n();s();n();s();var J=f(h()),Go=f(Ce()),Le=f(F());n();s();var re={content:"_content_1mhlc_1",left:"_left_1mhlc_7",right:"_right_1mhlc_14","right-text":"_right-text_1mhlc_29",rightText:"_right-text_1mhlc_29","right-icon":"_right-icon_1mhlc_30",rightIcon:"_right-icon_1mhlc_30",skeleton:"_skeleton_1mhlc_33","right-skeleton":"_right-skeleton_1mhlc_37",rightSkeleton:"_right-skeleton_1mhlc_37"};var zo=({className:e="",rightLoading:t,initLoading:o,type:r="market",currency:i,amount:m,mode:a})=>{let c=(0,Go.useHistory)(),u={market:l("swaptrade_modal_dialog_option_market"),fast:l("swaptrade_modal_dialog_option_fast5x"),turbo:l("swaptrade_modal_dialog_option_turbo10x")},_=`${Z(Oe)}?tab=${a}`,g=m&&i?`${ge(m,{needBillionMillionUnit:!1})} ${i}`:"--";return J.default.createElement(x,{loading:o,height:16,className:(0,Le.default)(e,re.skeleton)},J.default.createElement("div",{className:(0,Le.default)(e,re.content)},J.default.createElement("div",{className:re.left},l("swaptrade_modal_dialog_title_priority")),J.default.createElement(x,{loading:t,height:16,className:re.rightSkeleton},J.default.createElement(w,{className:re.right,onClick:()=>{c.push(_)}},r in u?J.default.createElement(Vt,{size:Ut.SIZE.sm},u[r]):null,J.default.createElement("div",{className:(0,Le.default)("ml-4","content-primary",re.rightText)},g),J.default.createElement(W,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Le.default)("ml-4","content-secondary",re.rightIcon)})))))};n();s();var ne=f(h()),tt=f(F());n();s();var j=f(h()),Yo=({stop:e})=>{let t=(0,j.useRef)(null);(0,j.useEffect)(()=>{t.current?.beginElement()},[]),(0,j.useEffect)(()=>{e?t.current?.endElement():t.current?.beginElement()},[e]);let o=["rotate(","-90"," ","8"," ","8",")"].join("");return j.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},j.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),j.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:o},j.default.createElement("animate",{ref:t,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};n();s();var fe={content:"_content_jq5p6_1",left:"_left_jq5p6_7",right:"_right_jq5p6_14","right-text":"_right-text_jq5p6_29",rightText:"_right-text_jq5p6_29","right-icon":"_right-icon_jq5p6_30",rightIcon:"_right-icon_jq5p6_30",skeleton:"_skeleton_jq5p6_33","right-skeleton":"_right-skeleton_jq5p6_37",rightSkeleton:"_right-skeleton_jq5p6_37",amount:"_amount_jq5p6_41"};var ur=({className:e="",initLoading:t,rightLoading:o,circleLoading:r,tokenAmount:i,price:m,tokenSymbol:a})=>{let{getUsd:c}=ye(),u=i&&m&&a?`${ge(i,{needBillionMillionUnit:!1})} ${a} (${c(m)})`:"--";return ne.default.createElement(x,{loading:t,height:16,className:(0,tt.default)(e,fe.skeleton)},ne.default.createElement("div",{className:(0,tt.default)(e,fe.content)},ne.default.createElement("div",{className:fe.left},l("swaptrade_modal_label_quote")),ne.default.createElement(x,{loading:o,height:16,className:fe.rightSkeleton},ne.default.createElement("div",{className:fe.right},ne.default.createElement(Yo,{stop:r}),ne.default.createElement("div",{className:(0,tt.default)("ml-4 content-primary",fe.amount)},u)))))},jo=P(ur);n();s();var X=f(h()),xe=f(F());n();s();var se={content:"_content_17xyk_1",left:"_left_17xyk_7",right:"_right_17xyk_14","right-text":"_right-text_17xyk_29",rightText:"_right-text_17xyk_29","right-icon":"_right-icon_17xyk_30",rightIcon:"_right-icon_17xyk_30",skeleton:"_skeleton_17xyk_33","right-skeleton":"_right-skeleton_17xyk_37",rightSkeleton:"_right-skeleton_17xyk_37","service-fee":"_service-fee_17xyk_41",serviceFee:"_service-fee_17xyk_41",icon:"_icon_17xyk_46"};var pr=({className:e="",initLoading:t,rightLoading:o})=>{let{getUsd:r}=ye(),{memeQuoteStore:i}=d(),m=i.computedServiceFeeInfo,{isDisplayServiceFee:a,label:c,tooltip:u,serviceFee:_}=ro({...m,formatServiceFeeUsd:r});return a?X.default.createElement(x,{loading:t,height:16,className:(0,xe.default)(e,se.skeleton)},X.default.createElement("div",{className:(0,xe.default)(e,se.content)},X.default.createElement("div",{className:(0,xe.default)("flex",se.left)},X.default.createElement("span",null,c),X.default.createElement(Ft,{title:u},X.default.createElement(W,{className:(0,xe.default)("okx-defi-nft-information-circle ml-4 font-14",se.icon)}))),X.default.createElement(x,{loading:o,height:16,className:se.rightSkeleton},X.default.createElement("div",{className:se.right},X.default.createElement("div",{className:(0,xe.default)("ml-4 content-primary",se.serviceFee)},_))))):null},Xo=P(pr);n();s();var $=f(h()),$o=f(Ce()),Me=f(F());me();n();s();var z={content:"_content_1al0i_1",left:"_left_1al0i_7",right:"_right_1al0i_14","right-text":"_right-text_1al0i_29",rightText:"_right-text_1al0i_29","right-icon":"_right-icon_1al0i_30",rightIcon:"_right-icon_1al0i_30",skeleton:"_skeleton_1al0i_33","right-skeleton":"_right-skeleton_1al0i_37",rightSkeleton:"_right-skeleton_1al0i_37",warning:"_warning_1al0i_41","warning-text":"_warning-text_1al0i_44",warningText:"_warning-text_1al0i_44"};var Ho=({className:e="",initLoading:t,rightLoading:o,percent:r,isSafeMoonToken:i=0,tokenSymbol:m="",tokenTax:a="",mode:c})=>{let u=(0,$o.useHistory)(),_=r?`${gt(O.mul(r,100),{needZero:!1})}`:"--",g=i===1&&!o&&O.gt(a,0)&&O.lt(r,a),y=g?gt(O.mul(a,100),{needZero:!1}):"--",k=`${Z(Oe)}?tab=${c}`;return $.default.createElement(x,{loading:t,height:16,className:(0,Me.default)(e,z.skeleton)},$.default.createElement("div",{className:(0,Me.default)(e,z.root)},$.default.createElement("div",{className:z.content},$.default.createElement("div",{className:z.left},l("swaptrade_extension_header_title_slippage_tolerance")),$.default.createElement(x,{loading:o,height:16,className:z.rightSkeleton},$.default.createElement(w,{className:z.right,onClick:()=>{u.push(k)}},$.default.createElement("div",{className:(0,Me.default)("content-primary",z.rightText,{[z.warning]:g})},_),$.default.createElement(W,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Me.default)("ml-4","content-secondary",z.rightIcon)})))),g?$.default.createElement("div",{className:(0,Me.default)("mt-16",z.warningText)},l("swaptrade_modal_alert_error_trade_tax",{token:m,num:y})):null))};var ec={PriorityFee:zo,Quote:jo,Slippage:Ho,ServiceFeeInfo:Xo};n();s();var M=f(h()),Ro=f(Ce()),De=f(F());me();n();s();var U={root:"_root_1f7aw_1",chain:"_chain_1f7aw_9",content:"_content_1f7aw_13",symbol:"_symbol_1f7aw_18","token-select":"_token-select_1f7aw_34",tokenSelect:"_token-select_1f7aw_34",copy:"_copy_1f7aw_44",address:"_address_1f7aw_50",data:"_data_1f7aw_58",price:"_price_1f7aw_63",split:"_split_1f7aw_74",cap:"_cap_1f7aw_81",skeleton:"_skeleton_1f7aw_92"};function fr(e){let t=e,o=t.getBoundingClientRect().width,r=document.createRange();return r.setStart(t,0),r.setEnd(t,t.childNodes.length),r.getBoundingClientRect().width-o>1}var Tc=({className:e="",loading:t,mode:o,item:r})=>{let i=(0,Ro.useHistory)(),{getUsd:m}=ye(),a=`${Z(Gt)}?tab=${o}`,c=r?.price?m(r?.price):"--",u=r?.marketCap?m(new O.BigNumber(r?.marketCap).toFixed(2)):"--",_=(0,M.useRef)(null),[g,y]=(0,M.useState)(!1);(0,M.useEffect)(()=>{!g&&u&&_.current&&fr(_.current)&&y(!0)},[g,u,_.current]);let k={display:g?"block":"flex"},S={marginTop:g?"4px":"0"};return M.default.createElement(x,{loading:t||!r?.tokenSymbol,height:86,className:(0,De.default)(e,U.skeleton)},M.default.createElement("div",{className:(0,De.default)(e,U.root)},M.default.createElement("div",{className:U.chain},M.default.createElement(Ht,{tokenSrc:r?.tokenLogoUrl??ft(),chainSrc:r?.chainLogoUrl??ft(),chainSize:14,tokenSize:34,className:(0,De.default)("boxCurrency")})),M.default.createElement("div",{className:U.content},M.default.createElement("div",{className:"flex items-center justify-start"},M.default.createElement(w,{className:U.symbol,onClick:()=>{i.push(a)}},r?.tokenSymbol||"--"),M.default.createElement(w,{onClick:()=>{i.push(a)}},M.default.createElement(W,{className:(0,De.default)("okx-defi-dex-arrow-down-sincere",U.tokenSelect),style:{fontSize:12},a11yText:"select"}))),M.default.createElement("div",{className:U.address},$t(r?.tokenContractAddress,8,8)||"--"),M.default.createElement("div",{className:U.data,style:k},M.default.createElement("div",{className:U.price},l("swaptrade_trade_label_price_numvalue",{value:c})),g?null:M.default.createElement("div",{className:U.split}),M.default.createElement("div",{className:U.cap,ref:_,style:S},l("swaptrade_trade_label_mcap_numvalue",{value:u}))))))};n();s();var V=f(h());me();n();s();var de={body:"_body_t1th5_1","sub-title":"_sub-title_t1th5_4",subTitle:"_sub-title_t1th5_4",content:"_content_t1th5_11"};var Uc=()=>{let[e,t]=(0,V.useState)(!1);(0,V.useEffect)(()=>{A.get(ut)||t(!0)},[]);let o=()=>{t(!e),A.set(ut,!0),setTimeout(()=>{Dt.trigger("MEME_MODE_USER_GUIDE")},200)};return V.default.createElement(Y.Action,{confirmBtnProps:{size:ae.SIZE.lg},confirmText:l("commonall_text_btn_ok_active"),onConfirm:o,onClose:o,visible:e,hideCloseBtn:!0,title:l("swaptrade_trade_bttmsheet_header_meme_mode"),titleCenter:!0,windowStyle:{borderTopLeftRadius:16,borderTopRightRadius:16}},V.default.createElement("div",{className:de.body},V.default.createElement("div",{className:de.subTitle},l("swaptrade_trade_bttmsheet_title_nofee")),V.default.createElement("p",{className:de.content},l("swaptrade_trade_bttmsheet_desc_nofee")),V.default.createElement("div",{className:de.subTitle},l("swaptrade_trade_bttmsheet_title_nocustody")),V.default.createElement("p",{className:de.content},l("swaptrade_trade_bttmsheet_desc_nocustody")),V.default.createElement("p",{className:de.content},l("swaptrade_trade_bttmsheet_text_solana"))))};n();s();function Gc(e){let{memeSellStore:t,memeBuyStore:o,memeQuoteStore:r}=d(),{isSellRoute:i}=C(),m=i?t.computedSellNumberIsValid:o.computedBuyNumberIsValid;return!e&&m||r.initLoading}n();s();var ot=f(h());n();s();function Zo(){let{memeQuoteStore:e}=d();return e?.slippage?.value}function dr(){let{memeQuoteStore:e,memeAccountStore:t}=d(),{fromToken:o,toToken:r}=he(),{computedGetQuoteFrom:i}=e,m=t.getAddressByChainId(i.chainId),a=be(),c=Zo();return(0,ot.useMemo)(()=>({chainId:o.chainId,fromTokenAddress:o?.tokenContractAddress,toTokenAddress:r?.tokenContractAddress,amount:a,slippage:c,userWalletAddress:m}),[a,o.chainId,o?.tokenContractAddress,r?.tokenContractAddress,c,m])}function tu(){let{memeQuoteStore:e}=d(),{fetchMemeQuote:t,cleanMemeQuoteTimer:o}=e,r=dr();(0,ot.useEffect)(()=>(t(r),()=>{o()}),[r,t,o])}n();s();var _e=f(h());n();s();function Ko(){let{memeConfigStore:e}=d(),{config:t}=e;return t?{...t}:{}}var _r=({inputAmount:e,custom:t,defaultBuyAmountList:o,memeBuyStore:r,setAmountUsed:i,setCustomUsed:m})=>{t==="1"?(r.setSelectBuyValue("custom"),r.setInputBuyValue(""),m(!0),le("custom")):e?o.includes(e)?(r.setSelectBuyValue(e),i(!0),le("inputAmount")):r.setSelectBuyValue(o[0]||"0"):r.selectBuyValue==="0"&&r.inputBuyValue===""&&r.setSelectBuyValue(o[0]||"0")},gr=({inputPercent:e,custom:t,defaultSellPercentList:o,memeSellStore:r,setPercentUsed:i,setCustomUsed:m})=>{t==="1"?(r.setIsInputPercent(!0),r.setSelectSellValue("custom"),r.setInputSellValue(""),m(!0),le("custom")):e?(r.setIsInputPercent(!0),o.includes(e)?(r.setSelectSellValue(e),i(!0),le("inputPercent")):r.setSelectSellValue(o[0]||"0")):r.selectSellValue==="0"&&r.inputSellValue===""&&r.setSelectSellValue(o[0]||"0")},fu=()=>{let{queryParams:e,isBuyRoute:t,isSellRoute:o}=C(),{memeBuyStore:r,memeSellStore:i}=d(),{defaultBuyAmountList:m=[],defaultSellPercentList:a=[]}=Ko(),c=e?.get?.("inputAmount"),u=e?.get?.("inputPercent"),_=e?.get?.("custom"),[g,y]=(0,_e.useState)(!1),[k,S]=(0,_e.useState)(!1),[T,b]=(0,_e.useState)(!1);(0,_e.useEffect)(()=>{t&&!g&&!T&&_r({inputAmount:c,custom:_,defaultBuyAmountList:m,memeBuyStore:r,setAmountUsed:y,setCustomUsed:b})},[c,_,t,m,g,T]),(0,_e.useEffect)(()=>{o&&!k&&!T&&gr({inputPercent:u,custom:_,defaultSellPercentList:a,memeSellStore:i,setPercentUsed:S,setCustomUsed:b})},[c,u,_,o,a,k,T])};n();s();var rt=f(h());var hr=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",kr=(e,t)=>e&&t&&t.price&&t.tokenContractAddress===e?.tokenContractAddress,yr=e=>e.chainId&&e.accountId&&e.userUniqueId&&e.walletId,yu=(e,t)=>{let[o,r]=(0,rt.useState)(null),i=Ge();return(0,rt.useEffect)(()=>{async function m(){if(!hr(t)&&!kr(t,e)&&!!yr(i))if(t?.tokenContractAddress){let a=await mo({inputContent:t?.tokenContractAddress,...i});if(a)r(a);else{let c=await St(i);r(c)}}else{let a=await St(i);r(a)}}m()},[t?.tokenContractAddress,i.chainId,i.accountId,i.userUniqueId,i.walletId]),o};n();s();var nt=f(h());var Sr=({myPosition:e,positionList:t,myPositionUsed:o,setMyPositionUsed:r})=>{if(!o&&e==="1"&&t.length){let i=document.querySelector("#meme-swap-container");i&&setTimeout(()=>{i.scrollTo({top:460,behavior:"smooth"}),r(!0),le("myPosition")},400)}},Mu=()=>{let{queryParams:e}=C(),{memePositionStore:t}=d(),{positionList:o}=t,r=e?.get?.("myPosition"),[i,m]=(0,nt.useState)(!1);(0,nt.useEffect)(()=>{Sr({myPosition:r,positionList:o,myPositionUsed:i,setMyPositionUsed:m})},[r,o,i])};n();s();Ve();var Au=()=>{let{memeConfigStore:e}=d();return ie(e,"config.nativeTokenInfo",null)};n();s();var Jo=f(h());var Uu=()=>{let{memeConfigStore:e,memeQuoteStore:t}=d();(0,Jo.useEffect)(()=>{let o=String(e?.config?.priorityFeeMaxValue),{marketFee:r="",fastFee:i="",turboFee:m=""}=t?.computedPriorityFeeInfo||{},a={market:r,fast:i,turbo:m},c={value:t?.priorityFee?.value,type:t?.priorityFee?.type,config:a,max:o};t?.priorityFee?.type!=="custom"&&(c.value=a[t?.priorityFee?.type]),t.setPriorityFee(c)},[e?.config?.priorityFeeMaxValue,t?.computedPriorityFeeInfo])};n();s();var er=f(h());var Wu=()=>{let{memeConfigStore:e,memeQuoteStore:t}=d();(0,er.useEffect)(()=>{let{min:o="",max:r="",slippageList:[i="",m="",a=""]=[]}=e?.config?.slippageConfig||{},c={low:i,medium:m,high:a},u={value:t?.slippage?.value,type:t?.slippage?.type,config:c,min:o,max:r};t?.slippage?.type!=="custom"&&(u.value=c[t?.slippage?.type]),t.setSlippage(u)},[e?.config?.slippageConfig])};n();s();var st=f(h());var $u=(e,t)=>{let[o,r]=(0,st.useState)(null),i=Ge(),{chainId:m,accountId:a,userUniqueId:c,walletId:u,userWalletAddress:_,businessType:g}=i;return(0,st.useEffect)(()=>{async function y(){if(e&&m&&a&&c&&u&&_){let k=await ao({tokenAddress:e,chainId:m,accountId:a,userUniqueId:c,walletId:u,userWalletAddress:_,businessType:g},t);r(k)}}y()},[e,m,a,c,u,_,g]),o};n();s();var it=f(h()),tr=f(Ce());var ep=e=>{let[t,o]=(0,it.useState)(null),r=(0,tr.useHistory)(),{queryParams:i}=C(),m=i?.get("inputChain"),a=i?.get("inputCurrency"),c=i?.get("outputChain"),u=i?.get("outputCurrency");return(0,it.useEffect)(()=>{if(!i)return;let k=eo(i),S=Kt(e);We(e,k)?o(k):We(e,S)?o(S):o(Zt())},[e==="buy"?c:m,e==="buy"?u:a]),{tokenPair:t,setTokenPair:k=>{We(e,k)&&(Jt(e,k),to(r,r.location.pathname,k))}}};export{tu as a,fu as b,yu as c,Mu as d,Au as e,Uu as f,Wu as g,$u as h,ep as i,Ar as j,en as k,fn as l,bs as m,ho as n,Qm as o,Ea as p,La as q,ec as r,Tc as s,Uc as t,Gc as u};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-YFPZGWHU.js.map

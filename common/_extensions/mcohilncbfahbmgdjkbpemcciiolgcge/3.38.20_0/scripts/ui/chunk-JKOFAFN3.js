import{d as At}from"./chunk-64U6VGZH.js";import{f as me}from"./chunk-JOGFEK3S.js";import{a as le}from"./chunk-XKK5N6CR.js";import{b as se,c as ut}from"./chunk-3RJOXTRR.js";import{e as ae,f as $}from"./chunk-NNO7KFUF.js";import{d as ne,g as ie}from"./chunk-4NCQWC2K.js";import{a as re}from"./chunk-YDUQEL3D.js";import{d as Yt,u as Ht}from"./chunk-FJBNQZUR.js";import{d as ee}from"./chunk-OQJOA7JT.js";import{a as it}from"./chunk-UEENMIFU.js";import{a as oe}from"./chunk-3OMHZBKM.js";import{b as Ct}from"./chunk-JYKQJVIF.js";import{l as Xt,m as gt,n as Rt,q as d}from"./chunk-GBQG32PI.js";import{a as He}from"./chunk-Q6XXIWBJ.js";import{o as nt}from"./chunk-A3FIPWG3.js";import{Q as Kt,Ua as Jt,m as Zt}from"./chunk-NTISK7TT.js";import{b as rt,ca as $t,da as Vt}from"./chunk-CU7RFE6B.js";import{e as Qt}from"./chunk-OG3IV3YP.js";import{g as te,h as ht}from"./chunk-35FUKWV2.js";import{c as o}from"./chunk-TU7CE5HJ.js";import{W as jt,Ya as Ye}from"./chunk-YILNSICT.js";import{A as ot,G as qt,L as Z,N as Tt,b as Gt,d as X,g as ct,o as yt}from"./chunk-L4N7WJIQ.js";import{F as mt,K as Dt,Q as Ot,e as Ut,f as lt,pa as xt}from"./chunk-LBCQTFOD.js";import{N as et,l as J,w as _}from"./chunk-V63HWKAL.js";import{A as zt,H as pt,T as Q,ca as H}from"./chunk-2EJYCNYZ.js";import{a as F}from"./chunk-B75PPTYD.js";import{c as qe,f as y,m as r,o as n}from"./chunk-UGZFXKPB.js";var vt=qe((hn,Ce)=>{r();n();function oo(){}Ce.exports=oo});r();n();var x=y(F()),Mt=y(nt());xt();et();Ye();r();n();var B=y(F()),ce=y(nt()),ue=y(pt());xt();et();r();n();var E={NORMAL:"NORMAL",FEE_ERROR:"FEE_ERROR",...Vt,...$t},pe={[E.BALANCE_INSUFFICIENT]:"wallet_transfer_errortip_insufficient_balance",[E.FEE_ERROR]:"wallet_extension_alert_estimate_unavailable",[E.DEFRAUD]:"wallet_extension_protocol_toast_risk_warning_desc",[E.SIMILAR]:"wallet_extension_modaldesc_riskaddress"};r();n();var at={"retina-border-basic":"_retina-border-basic_1itfd_1",retinaBorderBasic:"_retina-border-basic_1itfd_1",headerTip:"_headerTip_1itfd_29","tip-message-link":"_tip-message-link_1itfd_65",tipMessageLink:"_tip-message-link_1itfd_65",headerTipWarning:"_headerTipWarning_1itfd_68",headerTipMsg:"_headerTipMsg_1itfd_72",headerTipAction:"_headerTipAction_1itfd_77"};var Ze=({text:t,track:e})=>{let i=re();return B.default.createElement(B.default.Fragment,null,t,B.default.createElement(ct,{className:at["tip-message-link"],type:ct.TYPE.primary,weight:ct.WEIGHT.muted,size:ct.SIZE.xs,onClick:()=>{Ut(e)&&e(),setTimeout(()=>{globalThis.platform.openTab({url:i?.scamsUrl})},100)}},_("wallet_extension_scam_toast_link_view_scams")))},$e=({type:t,coinId:e,inherit:i,address:a,walletId:m,className:p,message:u,hidden:c,actions:l=[],renderActions:f,renderMessage:s,blockAddressInfo:b,supportGasStation:N=!0})=>{let[L,{toggle:I}]=(0,ce.useBoolean)(!1),[O,G]=(0,B.useState)(e),[v,C]=ie(e),j=v?.baseCoinId===0,h=(0,B.useMemo)(()=>{if(s&&typeof s=="function"){let U=s(t);if(U)return U}if(v?.symbol&&t===E.FEE_BALANCE_INSUFFICIENT)return _(j?"wallet_extension_popup_adjust_add":"wallet_extension_popup_insufficient_network_fee",{token:C?.symbol,symbol:C?.symbol});if(v?.symbol&&t===E.BALANCE_INSUFFICIENT)return _("wallet_transfer_errortip_insufficient_balance",{chainSymbol:v?.symbol});if(u)return u;let Y=pe[t];if([E.DEFRAUD,E.SIMILAR].includes(t)){let U=!!a&&Zt(a),Et=t===E.DEFRAUD?b?.msg:_(Y,{contractaddress:U});return B.default.createElement(Ze,{track:Yt,text:Et})}return _(Y,{chainSymbol:v?.symbol})},[s,v?.symbol,t,u,j,C?.symbol,a,b?.msg]),st=(0,B.useMemo)(()=>f&&typeof f=="function"?f(t)||[]:l,[l,f]),ft=(0,B.useMemo)(()=>{let Y=[];if([E.BALANCE_INSUFFICIENT,E.FEE_BALANCE_INSUFFICIENT].includes(t)&&N&&!i){let U=t===E.FEE_BALANCE_INSUFFICIENT?C?.symbol:v?.symbol;return Y=[{btnText:_("wallet_extension_placeorder_textbtn_replenish",{token:U}),onClick:()=>{I(),G(t===E.FEE_BALANCE_INSUFFICIENT?C?.coinId:e)}}],[...Y,...st]}return st},[i,t,N,st,C?.symbol,C?.coinId,v?.symbol,I,e]);return c||!h?null:B.default.createElement(B.default.Fragment,null,B.default.createElement(it,{offsetTop:0},B.default.createElement(o.FlexBox,{className:(0,ue.default)(at.headerTip,p),align:o.ALIGN.center},B.default.createElement(Q,{iconName:"okx-wallet-plugin-error",className:at.headerTipWarning}),B.default.createElement(o.Box,null,B.default.createElement(d.Text,{block:!0,className:at.headerTipMsg},h),!mt(ft)&&B.default.createElement(o.Space,{wrap:!0,space:12,style:{marginTop:"4px"}},ft.map(({btnText:Y,onClick:U})=>B.default.createElement(d.Text,{strong:700,className:at.headerTipAction,onClick:U},Y)))))),N&&B.default.createElement(ae,{address:a,visible:L,walletId:m,coinId:O,closeCallback:I}))},_e=B.default.memo($e);r();n();var w=y(F()),de=y(pt()),fe=y(He());et();r();n();var q={root:"_root_w4981_1",header:"_header_w4981_4",title:"_title_w4981_10",content:"_content_w4981_14",contractAddress:"_contractAddress_w4981_18",tabContent:"_tabContent_w4981_21",data:"_data_w4981_24",abi:"_abi_w4981_27",icon:"_icon_w4981_37",copyableText:"_copyableText_w4981_41"};var Ve=({children:t=null,advanced:e={},title:i=_("wallet_extension_transaction_tab_advanced"),tooltipZIndex:a})=>{let{data:m,contractList:p,methodName:u,methodParameter:c}=e,l=s=>{(0,fe.default)(s),qt.success({title:_("wallet_receive_toast_address_copied")})},f=(0,w.useMemo)(()=>u&&c?JSON.stringify({[_("wallet_extension_transaction_tab_func")]:u,[_("wallet_extension_transaction_tab_params")]:c},null,2):"",[u,c]);return!m&&!t?null:w.default.createElement(Gt,{className:q.root,headerClassName:q.header,titleClass:q.title,contentClassName:q.content,customHeaderIcon:s=>w.default.createElement(Q,{className:(0,de.default)(q.icon,"okds-arrow-chevron-down-md",{"okui-accordion-header-icon-expanded":s})}),title:i},p?.length?p.map(s=>w.default.createElement(o.Box,{className:q.contractAddress},w.default.createElement(ut,{title:s.title,address:s.address}))):null,w.default.createElement(Tt.Underline,{size:zt.xs,noLine:!0,noPadding:!0,paneSpacing:24},w.default.createElement(Tt.TabPane,{tab:_("wallet_dapp_connection_subtitle_data_label"),id:"wallet_dapp_connection_subtitle_data_label"},w.default.createElement(o.Box,{className:q.tabContent},t||w.default.createElement(ot,{graspBaseDom:!0,title:_("wallet_receive_btn_copy_address"),type:ot.TYPES.neutral,trigger:ot.TRIGGER_TYPES.hover,zIndex:a},w.default.createElement(d.Text,{forceWrap:!0,onClick:()=>{l(m)},size:d.SIZE.sm,className:q.data},m)))),f?w.default.createElement(Tt.TabPane,{tab:_("wallet_extension_transaction_tab_abi"),id:"wallet_extension_transaction_tab_abi"},w.default.createElement(o.Box,{className:q.tabContent,onClick:()=>{l(f)}},w.default.createElement(ot,{noWrapper:!0,graspBaseDom:!0,title:_("wallet_receive_btn_copy_address"),type:ot.TYPES.neutral,trigger:ot.TRIGGER_TYPES.hover,zIndex:a},w.default.createElement("pre",{className:q.abi},f)))):null))},xe=Ve;r();n();var A=y(F()),ye=y(nt()),Te=y(pt());et();r();n();var It=y(F());r();n();var Nt={root:"_root_195s5_1",image:"_image_195s5_7",text:"_text_195s5_13"};var Ke=({imageUrl:t,text:e})=>It.default.createElement(o.Box,{className:Nt.root},It.default.createElement(X,{src:t,className:Nt.image,errorImg:Qt}),It.default.createElement(d.Text,{ellipsis:{tooltip:e},className:Nt.text},e)),Bt=Ke;r();n();var P={root:"_root_1squc_1",title:"_title_1squc_1",approveInfoList:"_approveInfoList_1squc_11",approve:"_approve_1squc_11",token:"_token_1squc_14",amount:"_amount_1squc_20",amountWrap:"_amountWrap_1squc_25",number:"_number_1squc_28",symbol:"_symbol_1squc_29",expiration:"_expiration_1squc_41",foldSwitch:"_foldSwitch_1squc_47",fold:"_fold_1squc_47"};var Je=({amount:t,decimals:e})=>Jt(t)?_("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):Rt(t,{decimals:e}),Qe=t=>{t&&typeof t!="string"&&(t=t.toString());let e=t?.length;return e<=12?28:e<=14?26:e>14&&e<=16?24:e>16&&e<=18?22:e>18&&e<=20?20:e>20&&e<=22?18:16},Xe=({approveInfoList:t,renderEditApproveAmount:e,updateApproveInfo:i})=>{let a=t.length>3,[m,{toggle:p}]=(0,ye.useBoolean)(a),u=m?t.slice(0,3):t;if(t.length===1){let[c]=t,{tokenInfo:l,spender:f}=c,{symbol:s,imageUrl:b}=l||{},N=At(s,12);if([rt.CANCEL_AUTHORIZATION,rt.NFT_CANCEL_AUTHORIZATION,rt.DECREASE_ALLOWANCE].includes(f?.approvalType))return A.default.createElement(o.Box,{className:P.root},A.default.createElement(d.Text,{type:d.TYPE.secondary,size:d.SIZE.xs,className:P.title},_("wallet_extension_approve_subtitle_cancel_approve")),A.default.createElement(Bt,{imageUrl:b,text:N}))}return A.default.createElement(o.Box,{className:P.root},A.default.createElement(d.Text,{type:d.TYPE.secondary,size:d.SIZE.xs,className:P.title},_("wallet_extension_approve_subtitle_approve")),A.default.createElement(o.Box,{className:P.approveInfoList},u.map(c=>{let{amount:l,tokenInfo:f,expiration:s}=c,{decimals:b,symbol:N}=f||{},L=At(N,12),I=Je({amount:l,decimals:b});return A.default.createElement(o.Box,{className:P.approve},A.default.createElement(o.Box,{className:P.token},A.default.createElement(o.Box,{className:P.amount},A.default.createElement(d.AdaptiveText,{nowrap:!0,ellipsis:{tooltip:`${I} ${L}`},autoSize:Qe,text:`${I}${L}`,className:P.amountWrap},A.default.createElement(d.Text,{inherit:!0,className:P.number},I),A.default.createElement(d.Text,{inherit:!0,className:P.symbol},L))),e(c,i)),s?A.default.createElement(o.Box,{className:P.expiration},_("wallet_extension_permitapproval_variable_days",{num:s})):null)}),a&&A.default.createElement(o.Box,{align:o.ALIGN.center,className:(0,Te.default)(P.foldSwitch,{[P.fold]:m}),onClick:p},A.default.createElement(o.Box,null,_(m?"extension_defi_card_textbtn_view_all":"extension_defi_card_textbtn_view_less")),A.default.createElement(Q,{className:"okx-wallet-plugin-add-arrow-chevrons"}))))},ge=Xe;r();n();var Le=y(F());r();n();var bt=y(F()),Be=y(nt());r();n();var S=y(F()),Ne=y(pt());et();r();n();var he=t=>{t&&typeof t!="string"&&(t=t.toString());let e=t?.length;return e<=12?28:e<=14?26:e>14&&e<=16?24:e>16&&e<=18?22:e>18&&e<=20?20:e>20&&e<=22?18:16};r();n();var R={singleChangeSummary:"_singleChangeSummary_163a5_1",cryptoWrap:"_cryptoWrap_163a5_4",cryptoNumber:"_cryptoNumber_163a5_9",cryptoSymbol:"_cryptoSymbol_163a5_15",currencyNumber:"_currencyNumber_163a5_20",coinLogo:"_coinLogo_163a5_26",singleChangeSummaryWithLogo:"_singleChangeSummaryWithLogo_163a5_30"};var Re=({coinId:t,injectCoin:e,currencyId:i,assetChange:a,justify:m="center",currencyAssetChange:p,withCoinLogo:u=!1,useMinPrecision:c=!0,needSwapCurrency:l=!1})=>{let f=ne(t,{withPrice:!0}),s=(0,S.useMemo)(()=>e||f,[f,e]),b=oe(i),N=s?.usdPrice?J.mul(s?.usdPrice,b?.usdToThisRate):0,L=(0,S.useMemo)(()=>{let h;return a!==void 0&&!c&&(h=a),h===void 0&&a!==void 0&&s?.decimals!==void 0&&c&&(h=J.div(a,10**s?.decimals)),h===void 0&&p!==void 0&&N&&(h=J.div(p,N)),h},[a,p,N,s?.decimals,c]),I=(0,S.useMemo)(()=>{let h;return p!==void 0&&(h=J.mul(p,l?b?.usdToThisRate:1)),h===void 0&&L!==void 0&&(h=J.mul(L,N||0)),h===void 0&&J.lt(h,0)&&(h=J.mul(h,-1)),h},[N,L,l,p,b?.usdToThisRate]),O=(0,S.useMemo)(()=>L!==void 0?gt(L,{validDigit:0,signDisplay:!0,precision:s?.orderDecimalNum||s?.decimals}):"",[s?.decimals,s?.orderDecimalNum,L]),G=(0,S.useMemo)(()=>I!==void 0?Xt(I,{useApproximate:!1,symbol:b?.symbol}):"",[b?.symbol,I]),v=(0,S.useMemo)(()=>s?.image?{src:s?.image}:s?.symbol?{text:s?.symbol}:null,[s?.image,s?.symbol]),C=u?o.FlexBox:S.default.Fragment,j=u?{align:o.ALIGN.center}:{};return S.default.createElement(C,{...j},!!u&&!!v&&S.default.createElement(Ct,{...v,size:Ct.SIZE.lg,className:R.coinLogo}),S.default.createElement(o.FlexBox,{wrap:!0,justify:m,align:o.ALIGN.end,className:(0,Ne.default)(R.singleChangeSummary,{[R.singleChangeSummaryWithLogo]:u})},S.default.createElement(d.AdaptiveText,{strong:!0,nowrap:!0,ellipsis:{tooltip:`${O} ${s?.symbol}`},component:"span",autoSize:he,className:R.cryptoWrap,text:`${O}${s?.symbol}`},S.default.createElement(d.Text,{inherit:!0,className:R.cryptoNumber,component:"span"},O),S.default.createElement(d.Text,{inherit:!0,className:R.cryptoSymbol,component:"span"},s?.symbol)),S.default.createElement(d.Text,{component:"span",className:R.currencyNumber},G)))},Ie=Re;var to=({title:t,space:e=24,tooltip:i,currencyId:a,summaryList:m,useMinPrecision:p,needSwapCurrency:u})=>{let c=(0,Be.useMemoizedFn)(l=>bt.default.createElement(Ie,{withCoinLogo:!0,justify:"flex-start",coinId:l?.coinId,injectCoin:l?.injectCoin,assetChange:l?.assetChange,currencyId:l?.currencyId||a,currencyAssetChange:l?.currencyAssetChange,useMinPrecision:l?.useMinPrecision||p,needSwapCurrency:l?.needSwapCurrency||u}));return bt.default.createElement(se,{title:t,tooltip:i,space:8},bt.default.createElement(ee,{space:e,renderEmpty:!1,dataSource:m,renderItem:c}))},be=to;var eo=({preExecRet:t})=>{let{assetDiffList:e}=t||{};if(e?.length){let i=e.map(a=>({title:a.title,summaryList:a.tokenAssetDifflist.map(m=>{let{tokenInfo:p,type:u,amount:c,usdAmount:l}=m;return{injectCoin:{...p,image:p.imageUrl},withCoinLogo:!0,assetChange:c?`${u}${c}`:void 0,currencyAssetChange:l||void 0,needSwapCurrency:!0}})}));return Le.default.createElement(o.Space,{space:24,direction:o.DIRECTION.vertical},i.map(be))}return null},Ee=eo;r();n();var M=y(F()),Ae=y(vt());r();n();var D={root:"_root_ud6a5_1",main:"_main_ud6a5_8",icon:"_icon_ud6a5_14",title:"_title_ud6a5_19",subTitle:"_subTitle_ud6a5_24",txInfo:"_txInfo_ud6a5_29",content:"_content_ud6a5_38",line:"_line_ud6a5_42",field:"_field_ud6a5_46"};var ro=({handleCancel:t})=>{let e=[{onClick:t,actionType:$.ACTION_TYPE.CANCEL},{onClick:Ae.default,disabled:!0,actionType:$.ACTION_TYPE.CONFIRM}];return M.default.createElement(o.Box,{className:D.root},M.default.createElement(o.Box,{className:D.main},M.default.createElement(Z.Input,{active:!0,className:D.icon}),M.default.createElement(Z.Input,{active:!0,className:D.title}),M.default.createElement(Z.Input,{active:!0,className:D.subTitle}),M.default.createElement(o.Box,{className:D.txInfo},M.default.createElement(Z.Input,{active:!0,className:D.title}),M.default.createElement(Z.Input,{active:!0,className:D.content})),M.default.createElement(Z.Input,{active:!0,className:D.line}),M.default.createElement(Z.Input,{active:!0,className:D.field}),M.default.createElement(Z.Input,{active:!0,className:D.field}),M.default.createElement(Z.Input,{active:!0,className:D.field})),M.default.createElement(it,{placeholder:!0,offsetBottom:0,borderTop:!0},M.default.createElement($,{buttonGroup:e})))},ve=ro;r();n();var K=y(F());r();n();var tt=y(F()),St=y(pt());xt();r();n();et();var wt="UNKNOWN",we={[wt]:{title:_("wallet_extension_transaction_page_title_unknown_transaction"),image:{light:"/cdn/assets/imgs/2411/E917E86725EBEB35.png",dark:"/cdn/assets/imgs/2411/3B767A859A18470E.png"}},[rt.TRANS_OUT]:{title:_("wallet_extension_send_title_send"),image:{light:"/cdn/assets/imgs/2411/CB43D95ECC4204BB.png",dark:"/cdn/assets/imgs/2411/07EBF82A7C4E6ABA.png"}},[rt.REGISTRATION]:{title:_("wallet_dapp_conncetion_notify_signature_request"),image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"}}};r();n();var V={"retina-border-basic":"_retina-border-basic_uvlo7_1",retinaBorderBasic:"_retina-border-basic_uvlo7_1",txType:"_txType_uvlo7_29",bordered:"_bordered_uvlo7_33",txTypeLogo:"_txTypeLogo_uvlo7_66",txTypeTitle:"_txTypeTitle_uvlo7_70",txTypeSubTitle:"_txTypeSubTitle_uvlo7_77",txTypeDesc:"_txTypeDesc_uvlo7_85",content:"_content_uvlo7_93",needChildrenPadding:"_needChildrenPadding_uvlo7_96"};var no=({className:t,txType:e=wt,injectInfo:i={},children:a,bordered:m=!0,needChildrenPadding:p,styles:u={}})=>{let c=Ot({},we[e],i),l=te(c?.image),{titleStyle:f}=u;return tt.default.createElement(o.FlexBox,{justify:"center",align:o.ALIGN.center,direction:o.DIRECTION.vertical,className:(0,St.default)(V.txType,{[V.bordered]:m},t)},tt.default.createElement(X,{src:l,className:V.txTypeLogo}),tt.default.createElement(d.Text,{style:f,strong:500,className:V.txTypeTitle},c?.title),tt.default.createElement(d.Text,{strong:500,className:V.txTypeSubTitle},c?.subTitle),tt.default.createElement(d.Text,{className:V.txTypeDesc},c?.desc),tt.default.createElement(o.Box,{className:(0,St.default)(V.content,{[V.needChildrenPadding]:p})},a))},Se=tt.default.memo(no);r();n();var W=y(F()),ke=y(nt());r();n();var z={root:"_root_1ixys_1",txExplain:"_txExplain_1ixys_1",txExplainModal:"_txExplainModal_1ixys_7",main:"_main_1ixys_20",image:"_image_1ixys_28",title:"_title_1ixys_33",infoList:"_infoList_1ixys_40",info:"_info_1ixys_40",subTitle:"_subTitle_1ixys_46",text:"_text_1ixys_53",footWrap:"_footWrap_1ixys_58"};var io=({txExplain:t})=>{let[e,{toggle:i}]=(0,ke.useBoolean)(!1),{image:a,descList:m,title:p,confirmBtnText:u}=t,c=ht(a);return W.default.createElement(o.Box,{className:z.root},W.default.createElement(o.Box,{onClick:i,className:z.txExplain},W.default.createElement(Q,{className:"okds-question-mark-circle"})),W.default.createElement(yt.Action,{noContentPadding:!0,visible:e,onClose:i},W.default.createElement(o.Box,{className:z.txExplainModal},W.default.createElement(o.Box,{className:z.main},W.default.createElement(X,{src:c,className:z.image}),W.default.createElement(o.Box,{className:z.title},p),m?.length?W.default.createElement(o.Box,{className:z.infoList},m.map(l=>W.default.createElement(o.Box,{className:z.info},W.default.createElement(o.Box,{className:z.subTitle},l.text),W.default.createElement(o.Box,{className:z.text},l.desc)))):null),W.default.createElement(o.Box,{className:z.footWrap},W.default.createElement(H,{block:!0,onClick:i,size:H.SIZE.lg,type:H.TYPE.highlight,category:H.CATEGORY.fill},u)))))},Fe=io;r();n();var _t={root:"_root_1gj3g_1",tools:"_tools_1gj3g_1",mevWrap:"_mevWrap_1gj3g_9",txExplainWrap:"_txExplainWrap_1gj3g_12",data:"_data_1gj3g_15"};var ao=({txTypeInfo:t,children:e,...i})=>{let{txExplain1:a={},baseInfo:m={}}=t,p;m?.title?.text&&(p={...m,title:m.title.text});let c=K.Children.toArray(e)?.filter(Boolean)?.length;return K.default.createElement(Se,{injectInfo:p,needChildrenPadding:c,...i},K.default.createElement(o.Box,{className:_t.root},K.default.createElement(o.Box,{className:_t.tools},a?.title?K.default.createElement(o.Box,{className:_t.txExplainWrap},K.default.createElement(Fe,{txExplain:a})):null),K.default.createElement(o.Box,{className:_t.data},e)))},Pe=ao;r();n();var Me=y(F());et();var so=({txState:{txId:t="",baseCoin:e={},estimateFailed:i=!1,isSufficientBalance:a=!0,isSufficientGas:m=!0,estimateFailedMsg:p,coinWithBalance:u={}},loading:c,walletAccount:l,preExecRet:f={},chainHeaderTips:s=[]})=>{let{isBalanceLoadError:b,requestBalance:N,coinAmount:L}=u||{},{tipMessageInfo:I,needFillUp:O}=f,G=(0,Me.useMemo)(()=>{let C=e?.coinId,{address:j,walletId:h}=l;return b?{message:_("wallet_extension_transfer_error_text_wallet_balance_unavailable"),level:750,actions:[{btnText:_("wallet_extension_transfer_error_text_reload"),onClick:N}]}:!m||O?{type:E.FEE_BALANCE_INSUFFICIENT,renderMessage:()=>_("wallet_extension_toast_insufficient_balance_amount",{token:e?.symbol,balance:gt(L)}),txId:t,coinId:C,address:j,walletId:h,level:765}:a?i?{type:E.FEE_ERROR,message:p,level:770}:null:{type:E.BALANCE_INSUFFICIENT,txId:t,coinId:C,address:j,walletId:h,level:760}},[e?.coinId,e?.symbol,l,b,m,a,i,N,t,L,p,O]),v=I?.tipMessage?{message:I.tipMessage,level:I.level}:null;return c?null:[G,v,...s].filter(Boolean).sort((C,j)=>C.level-j.level).pop()||null},We=so;r();n();var dt=y(F()),Lt=y(nt()),De=y(vt());r();n();var g=y(F());xt();r();n();var k={root:"_root_ajyhg_1",main:"_main_ajyhg_14",image:"_image_ajyhg_23",title:"_title_ajyhg_27",desc:"_desc_ajyhg_36",descRaw:"_descRaw_ajyhg_37",extLink:"_extLink_ajyhg_44",descList:"_descList_ajyhg_50",addressItem:"_addressItem_ajyhg_53",assressTitle:"_assressTitle_ajyhg_56",assressInfo:"_assressInfo_ajyhg_62",assressGray:"_assressGray_ajyhg_69",footerWrap:"_footerWrap_ajyhg_72",verticalButtons:"_verticalButtons_ajyhg_75",extButton:"_extButton_ajyhg_79"};var lo={vertical:"vertical",horizontal:"horizontal"},kt=({evtType:t,btnType:e}={})=>{t&&Ht({specific_risk_scenarios:t,interaction_after_popup_window:e})},mo=t=>{let{descRaw:e,desc:i,descList:a,evtType:m}=t;return e?g.default.createElement(d.Text,{className:k.descRaw},e):mt(i)?mt(a)?null:g.default.createElement(o.Box,{className:k.descList},a.map(p=>{let{text:u,highLightLogic:c}=p,l=[];if(c){let[f=6,s=4]=c?.split(":")||[];l.push(p?.desc?.slice(0,f)),l.push(p?.desc?.slice(f,-s)),l.push(p?.desc?.slice(-s))}return g.default.createElement(o.Box,{className:k.addressItem},g.default.createElement(o.Box,{className:k.assressTitle},u),g.default.createElement(o.Box,{className:k.assressInfo},g.default.createElement("span",null,l[0]),g.default.createElement("span",{className:k.assressGray},l[1]),g.default.createElement("span",null,l[2])))})):g.default.createElement(d.Text,{className:k.desc},g.default.createElement("span",null,i.text),g.default.createElement("span",{className:k.extLink,onClick:()=>{kt({evtType:m,btnType:"click_on_the_risk_link"}),globalThis.platform.openTab({url:i.link.href})}},i.link?.text))},po=t=>{let{btnLayout:e,evtType:i,handleClickHighLightButton:a,handleClickGrayButton:m,highlightBtnText:p,grayBtnText:u}=t,[c,l]=(0,g.useState)(!1),f=async()=>{kt({evtType:i,btnType:"click_cancel"}),l(!0),await a(),l(!1)},s=()=>{kt({evtType:i,btnType:"after_clicking_advanced_click_continue"}),m()};return e===lo.vertical?g.default.createElement(o.Box,{className:k.verticalButtons},g.default.createElement(H,{block:!0,loading:c,size:H.SIZE.lg,onClick:f,type:H.TYPE.highlight,category:H.CATEGORY.fill},p),u?g.default.createElement(o.Box,{className:k.extButton,onClick:s},u):null):g.default.createElement($,{buttonGroup:[u&&{actionType:$.ACTION_TYPE.CANCEL,btnText:u,onClick:s},{loading:c,actionType:$.ACTION_TYPE.CONFIRM,btnText:p,onClick:f}].filter(Boolean)})},co=t=>{let{title:e,image:i}=t,a=ht(i);return g.default.createElement(o.Box,{className:k.root},g.default.createElement(o.Box,{className:k.main},g.default.createElement(X,{className:k.image,src:a}),g.default.createElement(d.Text,{className:k.title},e),g.default.createElement(mo,{...t})),g.default.createElement(o.Box,{className:k.footerWrap},g.default.createElement(po,{...t})))},uo=({handleCancel:t,handleCloseModal:e,popupInfoList:i})=>{let[a,m]=(0,g.useState)(0),p=i[a],u=a===i.length-1,c=()=>{m(s=>s+1)};return g.default.createElement(co,{...p,handleClickGrayButton:()=>u?e():c(),handleClickHighLightButton:()=>t()})},Ue=uo;var _o=({handleCancel:t=De.default}={})=>{let e=(0,dt.useRef)(),i=(0,dt.useRef)(),a=()=>{e.current&&(e.current.destroy(),e.current=null,i.current=null)},m=(0,Lt.useMemoizedFn)(p=>(i.current||(i.current=new Promise((u,c)=>{e.current=yt.action({hideCloseBtn:!0,maskClosable:!1,noContentPadding:!0,children:dt.default.createElement(Ue,{popupInfoList:p,handleCancel:async()=>{await t(),c(),a()},handleCloseModal:()=>{u(),a()}})})})),i.current));return(0,Lt.useUnmount)(a),m},Oe=_o;r();n();var Ft={root:"_root_aunqi_1",txTypeExtInfo:"_txTypeExtInfo_aunqi_6","section-wrap":"_section-wrap_aunqi_12",sectionWrap:"_section-wrap_aunqi_12"};var Pt={signMessage:"signMessage",signTransaction:"signTransaction"},fo=({txType:t,preExecParams:e})=>{let i=e?.dappInfo,m={[Pt.signMessage]:{dappInfo:i,txTypeInfo:{baseInfo:{image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"},title:{text:_("wallet_dapp_conncetion_notify_signature_request")}}}},[Pt.signTransaction]:{txTypeInfo:{baseInfo:{image:{light:"/cdn/assets/imgs/2411/E917E86725EBEB35.png",dark:"/cdn/assets/imgs/2411/3B767A859A18470E.png"},title:{text:_("wallet_extension_transaction_page_title_unknown_transaction")},subTitle:i.host}}}}[t];return{defaultPreExecRet:{tipMessageInfo:{tipMessage:_("wallet_extension_transaction_error_general_check_network"),level:780},...m,canConfirm:!1},defaultTxTypeInfo:m}},xo=({preExecRet:t,renderEditApproveAmount:e,setPreExecRet:i})=>{let a=(0,Mt.useMemoizedFn)((l,f)=>{i(s=>{let{approveInfoList:b}=s;return{...s,approveInfoList:b.map(N=>l===N.id?{...N,...f}:N)}})}),m=t.approveInfoList||[],p=t.txTypeInfo||{},u=t.dappInfo||{},{assetDiffList:c}=t||{};return x.default.createElement(Pe,{txTypeInfo:p},m.length?x.default.createElement(ge,{approveInfoList:m,renderEditApproveAmount:e,updateApproveInfo:a}):null,c?.length?x.default.createElement(Ee,{preExecRet:t}):null,u?.host?x.default.createElement(Bt,{imageUrl:u.icon,text:u.host}):null)},yo=({spender:t})=>t?x.default.createElement(ut,{address:t.address,connectable:t.addressType!=="eoa",title:_(me(t.approvalType)?"wallet_extension_approve_header_dapp_contract_address":"wallet_extension_permitapproval_text_approved")}):null,To=({spender:t,slot:e})=>t?null:e.interactWith,go=({slot:t,preExecRet:e})=>t.advanced?t.advanced:x.default.createElement(xe,{tooltipZIndex:101,advanced:e?.txExtInfo||{}}),ho=(0,x.memo)(({txType:t=Pt.signTransaction,preExecParams:e={},slot:i={},walletAccount:a={},handleCancel:m=lt,buttonGroup:p,txState:u={},localType:c,networkFeeProps:l,renderEditApproveAmount:f=lt,onUpdatePreExecInfo:s=lt,chainHeaderTips:b=[]})=>{let{defaultPreExecRet:N,defaultTxTypeInfo:L}=fo({txType:t,preExecParams:e}),[I,O]=(0,x.useState)({}),[G,v]=(0,x.useState)(!0),[C,j]=(0,x.useState)(!0),h=Oe({handleCancel:m}),st=(0,Mt.useMemoizedFn)(async()=>{try{e.forceLoading&&v(!0),j(!0);let U=await Kt(e),{approveInfoList:Et,popupInfoList:Wt,txTypeInfo:je}=U;je||(U.txTypeInfo=L.txTypeInfo,U.dappInfo=L.dappInfo),Et?.forEach((ze,Ge)=>{ze.id=Ge}),G&&Wt?.length&&await h(Wt).catch(lt),O(U)}catch{O(N)}finally{v(!1),j(!1)}});(0,x.useEffect)(()=>{s({...I,loading:G,silentLoading:C})},[I,G,s,C]),(0,x.useEffect)(()=>{Dt(e.chainIndex)||st()},[e]);let ft=We({txState:u,walletAccount:a,preExecRet:I,loading:G,chainHeaderTips:b}),Y=I.approveInfoList?.[0]?.spender;return x.default.createElement(o.Container,{className:Ft.root},G?x.default.createElement(ve,{handleCancel:m}):x.default.createElement(x.default.Fragment,null,x.default.createElement(_e,{...ft}),i.top,x.default.createElement(xo,{preExecRet:I,setPreExecRet:O,renderEditApproveAmount:f}),x.default.createElement(o.FlexBox,{className:Ft["section-wrap"],direction:o.DIRECTION.vertical},i.mev,l?x.default.createElement(le,{useTransition:!1,...l}):i.networkFeeEntry,x.default.createElement(yo,{spender:Y}),i.network,x.default.createElement(ut,{walletId:a?.walletId,localType:c||jt,title:_("wallet_extension_network_address_title_walletused")}),x.default.createElement(To,{spender:Y,slot:i}),x.default.createElement(go,{slot:i,preExecRet:I})),x.default.createElement(it,{borderTop:!0,placeholder:!0,offsetBottom:0,style:{zIndex:205}},x.default.createElement($,{buttonGroup:p}))))}),wa=ho;export{E as a,_e as b,xe as c,Bt as d,ge as e,Ie as f,Se as g,Pe as h,Oe as i,Pt as j,wa as k};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-JKOFAFN3.js.map

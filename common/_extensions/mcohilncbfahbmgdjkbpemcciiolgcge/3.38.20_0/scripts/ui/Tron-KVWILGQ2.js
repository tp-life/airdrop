import{a as mo}from"./chunk-XHGPIP6U.js";import{a as co}from"./chunk-NVTMZ25X.js";import{b as no}from"./chunk-PGJ24XFB.js";import"./chunk-OZVA7WG5.js";import{a as so}from"./chunk-UVEUQXM6.js";import"./chunk-ZM5QX5NG.js";import"./chunk-TTRHX25W.js";import"./chunk-ZORPRUU7.js";import"./chunk-AWNSSJAG.js";import"./chunk-QCAVIM5G.js";import"./chunk-B7P7Y7YD.js";import{a as u}from"./chunk-RN3CEAG6.js";import"./chunk-3K6OE4O5.js";import"./chunk-BGIT66CC.js";import"./chunk-SEL5SOAI.js";import{a as ao}from"./chunk-EMVP43OQ.js";import"./chunk-XHGPSNTM.js";import"./chunk-JOGFEK3S.js";import"./chunk-TEHSOGCP.js";import{a as h}from"./chunk-L5MAEEVU.js";import{a as E}from"./chunk-4U65LWXX.js";import{a as M,c as F,d as I}from"./chunk-WMQSMBLA.js";import"./chunk-XKK5N6CR.js";import"./chunk-ICLH7VK5.js";import{a as B,c as io}from"./chunk-3RJOXTRR.js";import"./chunk-J2MASCEL.js";import"./chunk-J2Y34YM2.js";import{f as T,n as eo}from"./chunk-NNO7KFUF.js";import{a as ro}from"./chunk-3L5C5CQB.js";import"./chunk-CGBWDXEW.js";import"./chunk-NRWOOVOJ.js";import"./chunk-P6MBUJNT.js";import"./chunk-2XYRURE2.js";import"./chunk-LYFECSNW.js";import"./chunk-M7CDJYYG.js";import"./chunk-VUB7XYHG.js";import"./chunk-QZXK25MX.js";import"./chunk-J7ZUOIII.js";import"./chunk-Q2BK5I52.js";import"./chunk-QVG4GOA5.js";import{d as to}from"./chunk-4NCQWC2K.js";import"./chunk-BSEC3HD3.js";import"./chunk-SR5VKAMR.js";import"./chunk-2L5V4MTR.js";import"./chunk-762Y5MQL.js";import"./chunk-L56XCX6G.js";import"./chunk-7UJMDFGU.js";import"./chunk-PB7BCSCP.js";import"./chunk-6ZM3C6AR.js";import"./chunk-QOIOEYFC.js";import"./chunk-ERN756XV.js";import"./chunk-SUOZFPDI.js";import"./chunk-GTKGSYH4.js";import"./chunk-MCNCFA4F.js";import"./chunk-5Y6FZJ5A.js";import"./chunk-2KGWCKRX.js";import"./chunk-PHVYXSWP.js";import{b as R}from"./chunk-V3N76XMD.js";import"./chunk-S2V4K2JM.js";import"./chunk-GSWJ5GW7.js";import"./chunk-IVCA3VWI.js";import"./chunk-FLZ5KV6J.js";import{h as P,i as $}from"./chunk-OCTREJ3R.js";import"./chunk-RG4N2AAJ.js";import"./chunk-JPVBM3R5.js";import"./chunk-DMPLD3VG.js";import"./chunk-WWUOPI5T.js";import"./chunk-HVADQEJS.js";import"./chunk-A52XYJMT.js";import"./chunk-YDUQEL3D.js";import"./chunk-SWHCYDK2.js";import"./chunk-BCT5GPKT.js";import"./chunk-FJBNQZUR.js";import"./chunk-XN45YXW3.js";import"./chunk-M75TVG7W.js";import"./chunk-YXS5E7TI.js";import"./chunk-XUKRDQIU.js";import"./chunk-OQJOA7JT.js";import"./chunk-YOJOUOFP.js";import"./chunk-7OQVWENF.js";import"./chunk-WD7752PC.js";import"./chunk-SLWKMGPD.js";import"./chunk-UC77E3WD.js";import"./chunk-GTSNHSPT.js";import"./chunk-LVPRDSPO.js";import"./chunk-PP43MII2.js";import"./chunk-YV3R2S6K.js";import{a as oo}from"./chunk-RJO5LUBF.js";import"./chunk-DRPGNVVL.js";import{a as Z}from"./chunk-UEENMIFU.js";import"./chunk-3OMHZBKM.js";import"./chunk-A264YTOP.js";import"./chunk-LRVKM4IV.js";import"./chunk-PVSNAFN3.js";import"./chunk-JYKQJVIF.js";import"./chunk-GBQG32PI.js";import"./chunk-Q6XXIWBJ.js";import"./chunk-VWYA3Z7M.js";import"./chunk-A3FIPWG3.js";import{Ra as X,ac as ho}from"./chunk-NTISK7TT.js";import"./chunk-MXRUZQZ7.js";import{I as p,ba as H}from"./chunk-CU7RFE6B.js";import"./chunk-J4UWPXXS.js";import"./chunk-QZUNX5I4.js";import"./chunk-IVA2TTR4.js";import{e as z,f as K,h as J}from"./chunk-OG3IV3YP.js";import"./chunk-45FKVGCF.js";import{La as L,Pa as Io}from"./chunk-KSCBZ3RY.js";import"./chunk-37O7OMRA.js";import"./chunk-5PGNMLJO.js";import"./chunk-35FUKWV2.js";import{e as w}from"./chunk-DHNKVM4B.js";import"./chunk-VL5VJIZ7.js";import{c as Q}from"./chunk-TU7CE5HJ.js";import"./chunk-2NE2FMGV.js";import{Ba as Y,Nb as q,Uc as V,Wc as wo,Xc as j,Ya as yo,Yc as Mo,fc as So}from"./chunk-YILNSICT.js";import"./chunk-ORQMOT6Z.js";import{c as D}from"./chunk-L4N7WJIQ.js";import{j as S,pa as U}from"./chunk-LBCQTFOD.js";import{N as x,w as m}from"./chunk-V63HWKAL.js";import"./chunk-ZZ2UZY4M.js";import"./chunk-XFAFBXWC.js";import"./chunk-7EEPBGCR.js";import"./chunk-CY6DCOJP.js";import{ca as v}from"./chunk-2EJYCNYZ.js";import"./chunk-V2K75WCG.js";import{a as C}from"./chunk-B75PPTYD.js";import"./chunk-2AWSM2JA.js";import"./chunk-QXPU36HD.js";import"./chunk-QI5O5UGB.js";import"./chunk-2OGSVQVK.js";import"./chunk-Y5BBPTSN.js";import"./chunk-X6UTFQFS.js";import"./chunk-5LMNZ6ME.js";import"./chunk-SY7RUBBT.js";import"./chunk-M3FHVHHL.js";import"./chunk-BL7VW4RD.js";import"./chunk-LQWZRQFF.js";import"./chunk-VGOLUGG3.js";import"./chunk-DCDI35O2.js";import"./chunk-YEL3LVD4.js";import"./chunk-6SIBAM5N.js";import"./chunk-42IJDSSW.js";import"./chunk-BMKS7XLD.js";import"./chunk-MTFM4GGW.js";import{f as g,m as a,o as n}from"./chunk-UGZFXKPB.js";a();n();var W=g(C());a();n();var N=g(C());yo();a();n();var k=g(C());wo();Mo();var Eo=({message:t,chainId:o,method:i,originUrl:e})=>{let[c,l]=(0,k.useState)(!0),[d,f]=(0,k.useState)({});return(0,k.useEffect)(()=>{(async()=>{if(o){try{let{data:s}=await V(j.signMessageDataCheck,{data:"",source:2,chainId:o,raw:t,method:i,originUrl:e});f(s)}catch(s){console.log(s)}l(!1)}})()},[o]),{loading:c,signMessageCheckRet:d}},lo=Eo;a();n();var r=g(C());x();So();var No=t=>{let{signMessageCheckRet:o,walletAccount:i,buttonGroup:e,tipMessage:c,message:l,baseCoin:d}=t,{value:f=0}=o.addtion||{},s=q(f,X)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):f,_=h(i.walletId);return r.default.createElement(Q.Container,null,r.default.createElement(oo,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),r.default.createElement(M,null,r.default.createElement(F,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:o.tokenIcon||z},title:`${s} ${o.tokenSymbol||""}`,desc:o.tokenAddress}]}),r.default.createElement(F,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:o.contractIcon||K},title:o.contractName||J,desc:o.contractAddress||""}]})),r.default.createElement(M,null,r.default.createElement(io,{...i,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{_({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),r.default.createElement(M,{bordered:!1},r.default.createElement(mo,{coinId:d?.coinId}),r.default.createElement(so,{data:l,copyable:{hideDesc:!0}})),r.default.createElement(Z,{placeholder:!0,offsetBottom:0,borderTop:!0},r.default.createElement(I,{...c}),r.default.createElement(T,{buttonGroup:e})))},po=No;a();n();var fo=g(C()),uo=g(ho());U();x();Io();var bo=({unapproved:t,walletAccount:o,signMessageCheckRet:i})=>{let e=(0,uo.useDispatch)(),c=h(o?.walletId),l=(0,fo.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",dapp_url:t.origin,network:t.localType}),await e(P(t.id)),await L(e)},[c,e,t.id,t.origin,t.localType]),{loading:d,onClick:f}=B(l),s={btnText:m("wallet_dapp_connection_btn_reject"),actionType:T.ACTION_TYPE.CANCEL,onClick:f,loading:d},_=w(o.initialType),y=async()=>{try{if(!await ro({walletId:t.walletId,callback:async()=>{await e(P(t.id))}}))return;c({trade:"sign",all_confirmation:"confirm",dapp_url:t.origin,network:t.localType}),await e($(t.id)),await L(e)}catch(G){console.log(G)}},{loading:To,onClick:ko}=B(y),b={disabled:_,actionType:T.ACTION_TYPE.CONFIRM,onClick:ko,loading:To},Ao=eo(),O=S(i,"risk_black_list.0");return(i.risk===u.high||O)&&(b.type=v.TYPE.red,b.onClick=async()=>{try{await Ao({isDefraud:!0,address:O,similarType:H.EXACT}),await y()}catch{await l()}}),[s,b]},_o=bo;a();n();U();x();var Go=({unapproved:t,signMessageCheckRet:o})=>{let i=E(t);if(w(i.initialType))return{type:D.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if(o?.risk===u.middle)return{type:D.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:o.contractName,asset:o.tokenSymbol})};if(o?.risk===u.high){let e=S(o,"risk_black_list.0");if(e)return{type:I.TIP_TYPE.DEFRAUD,address:e}}return null},go=Go;var xo=t=>{let{unapproved:o}=t,i=o?.params?.message||"",e=ao(o),c=E(o),l=to(Y)||{},{chainId:d}=l||{},{loading:f,signMessageCheckRet:s}=lo({message:i,chainId:d,originUrl:e.host,method:p.SIGN_MESSAGE}),_=go({unapproved:o,signMessageCheckRet:s}),y=_o({unapproved:o,walletAccount:c,signMessageCheckRet:s});return f?N.default.createElement(R,null):[u.middle,u.high].includes(s?.risk)?N.default.createElement(po,{signMessageCheckRet:s,walletAccount:c,baseCoin:l,message:i,tipMessage:_,buttonGroup:y}):N.default.createElement(co,{needCheckMpc:!0,message:i,unapproved:o,tipMessage:_})},Co=xo;var Ht=({unapproved:t})=>{switch(t.method){case p.SIGN_TRANSACTION:case p.RPC_SIGN_TRANSACTION:case p.SIGN_AND_SEND_TRANSACTION:return W.default.createElement(no,{unapproved:t});case p.SIGN_MESSAGE:case p.RPC_SIGN_MESSAGE:case p.SIGN_MESSAGE_V2:return W.default.createElement(Co,{unapproved:t});default:return""}};export{Ht as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Tron-KVWILGQ2.js.map

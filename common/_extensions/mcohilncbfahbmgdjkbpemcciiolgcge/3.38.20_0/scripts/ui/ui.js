import{a as Xg,b as gu,g as xu}from"./chunk-VVPJHDVP.js";import{K as yl}from"./chunk-KQCF5MRV.js";import{e as wl}from"./chunk-BSPCPPSC.js";import{h as _l,i as bu}from"./chunk-ZA7WWOT6.js";import{a as vs}from"./chunk-IDYPNQRH.js";import{j as xl}from"./chunk-NOQ3H36K.js";import{a as lu,v as fu}from"./chunk-NOSZQ6WM.js";import{a as xn}from"./chunk-OFGDSKDV.js";import{A as mu,a as hu}from"./chunk-XRZCHK4P.js";import{a as Mt}from"./chunk-TYQEIBRD.js";import"./chunk-D3MXY4LN.js";import{a as zi}from"./chunk-XWBWLTOV.js";import{a as ku}from"./chunk-FMBJ4GRB.js";import{a as Fu,b as Hu,c as Gu}from"./chunk-262C656P.js";import{a as Hf}from"./chunk-XZVVM3AM.js";import{i as bl}from"./chunk-2CODIL7S.js";import"./chunk-KOYKYCEB.js";import"./chunk-5OABWI4F.js";import{a as uu,d as cu}from"./chunk-DDJWH3NH.js";import{c as ws,d as Gf,e as Kf,f as $f}from"./chunk-777QWPHY.js";import{b as nt,c as ht,d as _u}from"./chunk-PHVYXSWP.js";import"./chunk-L3G6DHBI.js";import{e as Mu}from"./chunk-QO3FK7IQ.js";import"./chunk-UWTAV26V.js";import"./chunk-A6RKGNRU.js";import{a as su}from"./chunk-IMZZ3LDB.js";import{a as Ru}from"./chunk-GCDFUK4G.js";import{a as Du}from"./chunk-V3N76XMD.js";import{b as Iu,c as Au}from"./chunk-BM73LLRW.js";import{b as gl,e as ec}from"./chunk-2DZDNKWN.js";import{c as vl}from"./chunk-XTPLEY4T.js";import{g as wu}from"./chunk-DD7QHK7G.js";import"./chunk-G4TAWZEB.js";import{a as Te}from"./chunk-TQKVHL76.js";import"./chunk-6LE7Q5ED.js";import"./chunk-XD7VJART.js";import{a as Wu}from"./chunk-SJ65V67P.js";import{h as ou,o as au}from"./chunk-QE5VD2RK.js";import"./chunk-36UM4YJX.js";import"./chunk-BM44DQAB.js";import"./chunk-6JGR2L6N.js";import{a as mt,b as Le,c as sr,d as bn,e as Ku,f as $u}from"./chunk-ZBSU6WZQ.js";import{g as Cu}from"./chunk-S2V4K2JM.js";import"./chunk-4PWYQIAG.js";import{a as Yi}from"./chunk-GSWJ5GW7.js";import{a as Qu}from"./chunk-IVCA3VWI.js";import"./chunk-FLZ5KV6J.js";import{f as Tl}from"./chunk-OCTREJ3R.js";import{a as Ou}from"./chunk-RG4N2AAJ.js";import{a as Ju}from"./chunk-JPVBM3R5.js";import{d as du,i as pu}from"./chunk-DMPLD3VG.js";import"./chunk-WWUOPI5T.js";import{a as cl,b as dl}from"./chunk-HVADQEJS.js";import"./chunk-A52XYJMT.js";import"./chunk-YDUQEL3D.js";import{a as ge}from"./chunk-SWHCYDK2.js";import{a as nu,d as iu}from"./chunk-BCT5GPKT.js";import{X as ks,a as Rs}from"./chunk-FJBNQZUR.js";import{c as zu,i as Zu}from"./chunk-XN45YXW3.js";import{a as Sl,b as El}from"./chunk-M75TVG7W.js";import"./chunk-YXS5E7TI.js";import"./chunk-XUKRDQIU.js";import{d as ar}from"./chunk-OQJOA7JT.js";import{a as Yu,b as Xu}from"./chunk-YOJOUOFP.js";import{a as Uu,b as ju}from"./chunk-7OQVWENF.js";import"./chunk-WD7752PC.js";import"./chunk-SLWKMGPD.js";import"./chunk-UC77E3WD.js";import{g as qu}from"./chunk-GTSNHSPT.js";import"./chunk-LVPRDSPO.js";import{a as Vu}from"./chunk-MM3T4QJL.js";import{b as Bu}from"./chunk-7MPV4FXR.js";import"./chunk-MAPEPGBY.js";import{a as yu,b as Ji}from"./chunk-PEZ7OVUH.js";import"./chunk-DKN2AV5Y.js";import{a as Os,b as Ms}from"./chunk-P7X44DVV.js";import"./chunk-PP43MII2.js";import"./chunk-YV3R2S6K.js";import"./chunk-RJO5LUBF.js";import{s as fl}from"./chunk-DRPGNVVL.js";import"./chunk-UEENMIFU.js";import{b as Nu,c as Lu}from"./chunk-3OMHZBKM.js";import"./chunk-A264YTOP.js";import"./chunk-LRVKM4IV.js";import{$ as df,$a as Bf,A as ql,B as Ul,C as jl,D as Fl,E as Hl,F as Gl,G as Kl,Ga as Pf,H as $l,I as cn,J as Vl,K as Yl,L as zl,La as Of,M as Jl,N as Xl,O as Zl,P as Ql,Q as ef,Qa as Mf,R as tf,Ra as Rf,S as rf,Sa as kf,T as nf,U as of,V as af,Va as dn,W as sf,X as lf,Y as ff,Ya as Df,Z as uf,Za as Nf,_ as cf,_a as Lf,a as me,aa as pf,ab as Wf,b as ln,ba as hf,bb as qf,c as fn,ca as mf,cb as Uf,d as Cl,da as gf,db as jf,e as un,ea as xf,eb as Ff,f as Il,fa as wf,g as Al,ga as Vi,h as Pl,ha as bf,i as Ol,ia as yf,ja as _f,k as Ml,l as Rl,m as kl,na as vf,pa as Sf,qa as Ef,ra as Tf,sa as Cf,ta as If,u as Dl,ua as Af,v as Nl,w as Ll,x as Bl,y as Wl,z as Pt}from"./chunk-PVSNAFN3.js";import{b as fe}from"./chunk-JYKQJVIF.js";import"./chunk-GBQG32PI.js";import"./chunk-Q6XXIWBJ.js";import{b as Vf,c as Yf,d as zf,e as pn}from"./chunk-VWYA3Z7M.js";import{o as gn}from"./chunk-A3FIPWG3.js";import{A as pl,D as hl,E as ml,Eb as eu,Ib as tu,Jb as ru,ac as le,fb as Jf,gb as Xf,nb as Ot,ob as hn,pb as Zf,rb as rt,u as Ct,x as Ds,zb as Qf}from"./chunk-NTISK7TT.js";import"./chunk-MXRUZQZ7.js";import"./chunk-CU7RFE6B.js";import"./chunk-J4UWPXXS.js";import{a as Ee}from"./chunk-QZUNX5I4.js";import"./chunk-IVA2TTR4.js";import"./chunk-OG3IV3YP.js";import{c as ul,d as At}from"./chunk-45FKVGCF.js";import{Ca as sn,Da as rl,Ea as ox,G as Ks,H as $s,Ha as il,Ia as ol,Ja as al,Ma as sl,Pa as ll,R as Vs,S as Ys,T as zs,V as ex,a as bs,c as Ns,e as Ls,f as Bs,g as Ws,h as qs,i as Us,j as js,ja as Js,k as Fs,la as Xs,ma as tx,n as Hs,na as Ne,o as Gs,oa as ir,pa as Zs,qa as rx}from"./chunk-KSCBZ3RY.js";import{b as nl,d as je,f as or}from"./chunk-37O7OMRA.js";import"./chunk-5PGNMLJO.js";import{b as wn,d as vu,f as Su,g as Eu,i as Tu}from"./chunk-35FUKWV2.js";import{b as Pu}from"./chunk-DHNKVM4B.js";import"./chunk-VL5VJIZ7.js";import{c as Xi}from"./chunk-TU7CE5HJ.js";import{a as mn}from"./chunk-2NE2FMGV.js";import{Ab as gs,Bb as xs,Cb as Qt,Db as ji,Eb as Jg,Fb as _s,Pc as Qs,Rc as on,Uc as el,Vc as tl,Wc as an,Xc as It,Yc as $i,a as ye,b as Zt,c as _e,d as Me,e as Jr,f as Ue,gc as tt,hc as Hi,i as Wi,ic as ve,m as Zr,mb as ps,mc as Ss,n as Qr,nc as Es,o as us,oc as er,p as qi,pc as nx,q as en,qc as ix,r as cs,s as ds,u as tn,wb as zg,xb as hs,y as Ui,yb as ms,z as et}from"./chunk-YILNSICT.js";import{a as rn,b as ys}from"./chunk-ORQMOT6Z.js";import{D as As,G as ne,H as Ps,J as nr,a as Qg,b as Cs,c as Is,g as Gi,k as nn,o as Se,r as Ki,y as De}from"./chunk-L4N7WJIQ.js";import{f as Re,j as es,la as rs,m as Xr,n as ts,pa as Tt}from"./chunk-LBCQTFOD.js";import{A as fs,B as X,N as se,b as ns,i as is,l as os,o as as,u as ss,v as ls,w as M}from"./chunk-V63HWKAL.js";import"./chunk-S2ACKULX.js";import"./chunk-ZZ2UZY4M.js";import{a as pt}from"./chunk-XFAFBXWC.js";import"./chunk-7EEPBGCR.js";import"./chunk-CY6DCOJP.js";import{H as Ts,ca as ke,z as rr}from"./chunk-2EJYCNYZ.js";import{a as tr}from"./chunk-V2K75WCG.js";import{a as R}from"./chunk-B75PPTYD.js";import"./chunk-2AWSM2JA.js";import"./chunk-QXPU36HD.js";import"./chunk-QI5O5UGB.js";import"./chunk-2OGSVQVK.js";import"./chunk-Y5BBPTSN.js";import{b as Fi,c as Zg}from"./chunk-DNDYGV65.js";import"./chunk-5LMNZ6ME.js";import"./chunk-M3FHVHHL.js";import"./chunk-BL7VW4RD.js";import"./chunk-LQWZRQFF.js";import"./chunk-VGOLUGG3.js";import"./chunk-DCDI35O2.js";import"./chunk-YEL3LVD4.js";import"./chunk-6SIBAM5N.js";import"./chunk-42IJDSSW.js";import"./chunk-BMKS7XLD.js";import{d as Li,g as te,h as St,i as Qe,j as re,w as Et,x as Bi}from"./chunk-MTFM4GGW.js";import{c as T,f as h,h as Ze,l as process,m as s,n as c,o as l}from"./chunk-UGZFXKPB.js";var rc=T((Wv,tc)=>{s();l();var ax={}.toString;tc.exports=Array.isArray||function(e){return ax.call(e)=="[object Array]"}});var Zi=T((jv,nc)=>{s();l();nc.exports=St().EventEmitter});var lr=T((Qi,oc)=>{s();l();var yn=Li(),Fe=yn.Buffer;function ic(e,t){for(var r in e)t[r]=e[r]}Fe.from&&Fe.alloc&&Fe.allocUnsafe&&Fe.allocUnsafeSlow?oc.exports=yn:(ic(yn,Qi),Qi.Buffer=Rt);function Rt(e,t,r){return Fe(e,t,r)}ic(Fe,Rt);Rt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Fe(e,t,r)};Rt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Fe(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Rt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Fe(e)};Rt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return yn.SlowBuffer(e)}});var sc=T(($v,eo)=>{"use strict";s();l();function sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ac=lr().Buffer,fr=Et();function lx(e,t,r){e.copy(t,r)}eo.exports=function(){function e(){sx(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return ac.alloc(0);if(this.length===1)return this.head.data;for(var n=ac.allocUnsafe(r>>>0),i=this.head,o=0;i;)lx(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();fr&&fr.inspect&&fr.inspect.custom&&(eo.exports.prototype[fr.inspect.custom]=function(){var e=fr.inspect({length:this.length});return this.constructor.name+" "+e})});var to=T((zv,uc)=>{"use strict";s();l();var lc=Qe();function fx(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&lc.nextTick(fc,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(lc.nextTick(fc,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function ux(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function fc(e,t){e.emit("error",t)}uc.exports={destroy:fx,undestroy:ux}});var no=T((Zv,wc)=>{"use strict";s();l();var gt=Qe();wc.exports=K;function dc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Ax(t,e)}}var cx=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:gt.nextTick,kt;K.WritableState=cr;var pc=Object.create(re());pc.inherits=te();var dx={deprecate:Bi()},hc=Zi(),vn=lr().Buffer,px=globalThis.Uint8Array||function(){};function hx(e){return vn.from(e)}function mx(e){return vn.isBuffer(e)||e instanceof px}var mc=to();pc.inherits(K,hc);function gx(){}function cr(e,t){kt=kt||xt(),e=e||{};var r=t instanceof kt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(f){Sx(t,f)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new dc(this)}cr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(cr.prototype,"buffer",{get:dx.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var _n;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_n=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(e){return _n.call(this,e)?!0:this!==K?!1:e&&e._writableState instanceof cr}})):_n=function(e){return e instanceof this};function K(e){if(kt=kt||xt(),!_n.call(K,this)&&!(this instanceof kt))return new K(e);this._writableState=new cr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),hc.call(this)}K.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function xx(e,t){var r=new Error("write after end");e.emit("error",r),gt.nextTick(t,r)}function wx(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),gt.nextTick(n,o),i=!1),i}K.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&mx(e);return o&&!vn.isBuffer(e)&&(e=hx(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=gx),n.ended?xx(this,r):(o||wx(this,n,e,r))&&(n.pendingcb++,i=yx(this,n,o,e,t,r)),i};K.prototype.cork=function(){var e=this._writableState;e.corked++};K.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&gc(this,e))};K.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function bx(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=vn.from(t,r)),t}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function yx(e,t,r,n,i,o){if(!r){var a=bx(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var f=t.objectMode?1:n.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else ro(e,t,!1,f,n,i,o);return u}function ro(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _x(e,t,r,n,i){--t.pendingcb,r?(gt.nextTick(i,n),gt.nextTick(ur,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),ur(e,t))}function vx(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Sx(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(vx(r),t)_x(e,r,n,t,i);else{var o=xc(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&gc(e,r),n?cx(cc,e,r,o,i):cc(e,r,o,i)}}function cc(e,t,r,n){r||Ex(e,t),t.pendingcb--,n(),ur(e,t)}function Ex(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function gc(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,ro(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new dc(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,_=r.callback,m=t.objectMode?1:u.length;if(ro(e,t,!1,m,u,d,_),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}K.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};K.prototype._writev=null;K.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Ix(this,n,r)};function xc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Tx(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),ur(e,t)})}function Cx(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,gt.nextTick(Tx,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function ur(e,t){var r=xc(t);return r&&(Cx(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Ix(e,t,r){t.ending=!0,ur(e,t),r&&(t.finished?gt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Ax(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(K.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});K.prototype.destroy=mc.destroy;K.prototype._undestroy=mc.undestroy;K.prototype._destroy=function(e,t){this.end(),t(e)}});var xt=T((tS,vc)=>{"use strict";s();l();var bc=Qe(),Px=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};vc.exports=He;var yc=Object.create(re());yc.inherits=te();var _c=ao(),oo=no();yc.inherits(He,_c);for(io=Px(oo.prototype),Sn=0;Sn<io.length;Sn++)En=io[Sn],He.prototype[En]||(He.prototype[En]=oo.prototype[En]);var io,En,Sn;function He(e){if(!(this instanceof He))return new He(e);_c.call(this,e),oo.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ox)}Object.defineProperty(He.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ox(){this.allowHalfOpen||this._writableState.ended||bc.nextTick(Mx,this)}function Mx(e){e.end()}Object.defineProperty(He.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});He.prototype._destroy=function(e,t){this.push(null),this.end(),bc.nextTick(t,e)}});var fo=T(Ec=>{"use strict";s();l();var lo=lr().Buffer,Sc=lo.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Rx(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function kx(e){var t=Rx(e);if(typeof t!="string"&&(lo.isEncoding===Sc||!Sc(e)))throw new Error("Unknown encoding: "+e);return t||e}Ec.StringDecoder=dr;function dr(e){this.encoding=kx(e);var t;switch(this.encoding){case"utf16le":this.text=qx,this.end=Ux,t=4;break;case"utf8":this.fillLast=Lx,t=4;break;case"base64":this.text=jx,this.end=Fx,t=3;break;default:this.write=Hx,this.end=Gx;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=lo.allocUnsafe(t)}dr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};dr.prototype.end=Wx;dr.prototype.text=Bx;dr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function so(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Dx(e,t,r){var n=t.length-1;if(n<r)return 0;var i=so(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=so(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=so(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Nx(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Lx(e){var t=this.lastTotal-this.lastNeed,r=Nx(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Bx(e,t){var r=Dx(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Wx(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function qx(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Ux(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function jx(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Fx(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Hx(e){return e.toString(this.encoding)}function Gx(e){return e&&e.length?this.write(e):""}});var ao=T((lS,Lc)=>{"use strict";s();l();var Nt=Qe();Lc.exports=q;var Kx=rc(),pr;q.ReadableState=Mc;var sS=St().EventEmitter,Ac=function(e,t){return e.listeners(t).length},mo=Zi(),hr=lr().Buffer,$x=globalThis.Uint8Array||function(){};function Vx(e){return hr.from(e)}function Yx(e){return hr.isBuffer(e)||e instanceof $x}var Pc=Object.create(re());Pc.inherits=te();var uo=Et(),k=void 0;uo&&uo.debuglog?k=uo.debuglog("stream"):k=function(){};var zx=sc(),Oc=to(),Dt;Pc.inherits(q,mo);var co=["error","close","destroy","pause","resume"];function Jx(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Kx(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Mc(e,t){pr=pr||xt(),e=e||{};var r=t instanceof pr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new zx,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Dt||(Dt=fo().StringDecoder),this.decoder=new Dt(e.encoding),this.encoding=e.encoding)}function q(e){if(pr=pr||xt(),!(this instanceof q))return new q(e);this._readableState=new Mc(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),mo.call(this)}Object.defineProperty(q.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});q.prototype.destroy=Oc.destroy;q.prototype._undestroy=Oc.undestroy;q.prototype._destroy=function(e,t){this.push(null),t(e)};q.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=hr.from(e,t),t=""),n=!0),Rc(this,e,t,!1,n)};q.prototype.unshift=function(e){return Rc(this,e,null,!0,!1)};function Rc(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,ew(e,o);else{var a;i||(a=Xx(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==hr.prototype&&(t=Vx(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):po(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?po(e,o,t,!1):kc(e,o)):po(e,o,t,!1))):n||(o.reading=!1)}return Zx(o)}function po(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Tn(e)),kc(e,t)}function Xx(e,t){var r;return!Yx(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Zx(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}q.prototype.isPaused=function(){return this._readableState.flowing===!1};q.prototype.setEncoding=function(e){return Dt||(Dt=fo().StringDecoder),this._readableState.decoder=new Dt(e),this._readableState.encoding=e,this};var Tc=8388608;function Qx(e){return e>=Tc?e=Tc:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Cc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Qx(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}q.prototype.read=function(e){k("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return k("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?ho(this):Tn(this),null;if(e=Cc(e,t),e===0&&t.ended)return t.length===0&&ho(this),null;var n=t.needReadable;k("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,k("length less than watermark",n)),t.ended||t.reading?(n=!1,k("reading or ended",n)):n&&(k("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Cc(r,t)));var i;return e>0?i=Dc(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ho(this)),i!==null&&this.emit("data",i),i};function ew(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Tn(e)}}function Tn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(k("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Nt.nextTick(Ic,e):Ic(e))}function Ic(e){k("emit readable"),e.emit("readable"),go(e)}function kc(e,t){t.readingMore||(t.readingMore=!0,Nt.nextTick(tw,e,t))}function tw(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(k("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}q.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};q.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,k("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?f:b;n.endEmitted?Nt.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(y,E){k("onunpipe"),y===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,_())}function f(){k("onend"),e.end()}var u=rw(r);e.on("drain",u);var d=!1;function _(){k("cleanup"),e.removeListener("close",C),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",S),e.removeListener("unpipe",a),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",O),d=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}var m=!1;r.on("data",O);function O(y){k("ondata"),m=!1;var E=e.write(y);E===!1&&!m&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Nc(n.pipes,e)!==-1)&&!d&&(k("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,m=!0),r.pause())}function S(y){k("onerror",y),b(),e.removeListener("error",S),Ac(e,"error")===0&&e.emit("error",y)}Jx(e,"error",S);function C(){e.removeListener("finish",p),b()}e.once("close",C);function p(){k("onfinish"),e.removeListener("close",C),b()}e.once("finish",p);function b(){k("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(k("pipe resume"),r.resume()),e};function rw(e){return function(){var t=e._readableState;k("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Ac(e,"data")&&(t.flowing=!0,go(e))}}q.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=Nc(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};q.prototype.on=function(e,t){var r=mo.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Tn(this):Nt.nextTick(nw,this))}return r};q.prototype.addListener=q.prototype.on;function nw(e){k("readable nexttick read 0"),e.read(0)}q.prototype.resume=function(){var e=this._readableState;return e.flowing||(k("resume"),e.flowing=!0,iw(this,e)),this};function iw(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Nt.nextTick(ow,e,t))}function ow(e,t){t.reading||(k("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),go(e),t.flowing&&!t.reading&&e.read(0)}q.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function go(e){var t=e._readableState;for(k("flow",t.flowing);t.flowing&&e.read()!==null;);}q.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(k("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(k("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var f=t.push(a);f||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(a){return function(){return e[a].apply(e,arguments)}}(i));for(var o=0;o<co.length;o++)e.on(co[o],this.emit.bind(this,co[o]));return this._read=function(a){k("wrapped _read",a),n&&(n=!1,e.resume())},this};Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});q._fromList=Dc;function Dc(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=aw(e,t.buffer,t.decoder),r}function aw(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?sw(e,t):lw(e,t),n}function sw(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),e-=a,e===0){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function lw(e,t){var r=hr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),e-=a,e===0){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function ho(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Nt.nextTick(fw,t,e))}function fw(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Nc(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var xo=T((cS,qc)=>{"use strict";s();l();qc.exports=Ge;var Cn=xt(),Wc=Object.create(re());Wc.inherits=te();Wc.inherits(Ge,Cn);function uw(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ge(e){if(!(this instanceof Ge))return new Ge(e);Cn.call(this,e),this._transformState={afterTransform:uw.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",cw)}function cw(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Bc(e,t,r)}):Bc(this,null,null)}Ge.prototype.push=function(e,t){return this._transformState.needTransform=!1,Cn.prototype.push.call(this,e,t)};Ge.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Ge.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ge.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ge.prototype._destroy=function(e,t){var r=this;Cn.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Bc(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Hc=T((hS,Fc)=>{"use strict";s();l();Fc.exports=mr;var Uc=xo(),jc=Object.create(re());jc.inherits=te();jc.inherits(mr,Uc);function mr(e){if(!(this instanceof mr))return new mr(e);Uc.call(this,e)}mr.prototype._transform=function(e,t,r){r(null,e)}});var Kc=T((Be,Gc)=>{s();l();Be=Gc.exports=ao();Be.Stream=Be;Be.Readable=Be;Be.Writable=no();Be.Duplex=xt();Be.Transform=xo();Be.PassThrough=Hc()});var Vc=T((bS,yo)=>{s();l();var $c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);$c?(wo=new Uint8Array(16),yo.exports=function(){return $c(wo),wo}):(bo=new Array(16),yo.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),bo[t]=r>>>((t&3)<<3)&255;return bo});var wo,bo});var Jc=T((vS,zc)=>{s();l();var Yc=[];for(gr=0;gr<256;++gr)Yc[gr]=(gr+256).toString(16).substr(1);var gr;function dw(e,t){var r=t||0,n=Yc;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}zc.exports=dw});var Zc=T((TS,Xc)=>{s();l();var pw=Vc(),hw=Jc();function mw(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||pw)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||hw(i)}Xc.exports=mw});var td=T((AS,ed)=>{s();l();var Qc=Kc().Duplex,gw=Et().inherits,xw=Zc();ed.exports=it;gw(it,Qc);function it(){Qc.call(this,{objectMode:!0}),this._payloads={}}it.prototype.send=function(e){throw new Error('StreamProvider - does not support synchronous RPC calls. called: "'+e.method+'"')};it.prototype.sendAsync=function(e,t){let r=e.id,n=xw();if(e.id=n,Array.isArray(e)&&e.length===0)return t(null,[]);this._payloads[n]=[t,r],this.push(e)};it.prototype.isConnected=function(){return!0};it.prototype._onResponse=function(e){let t=e.id,r=this._payloads[t];if(!r)throw new Error(`StreamProvider - Unknown response id for response: ${e}`);delete this._payloads[t];let n=r[0];e.id=r[1],setTimeout(function(){n(null,e)})};it.prototype._read=ww;it.prototype._write=function(e,t,r){this._onResponse(e),r()};function ww(){}});var br=T((JE,Eo)=>{"use strict";s();l();!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Eo.exports=Aw:Eo.exports=process.nextTick;function Aw(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,a;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),a=0;a<o.length;)o[a++]=arguments[a];return process.nextTick(function(){e.apply(null,o)})}}});var wd=T((QE,xd)=>{s();l();var Pw={}.toString;xd.exports=Array.isArray||function(e){return Pw.call(e)=="[object Array]"}});var To=T((r1,bd)=>{s();l();bd.exports=St().EventEmitter});var yr=T((Co,_d)=>{s();l();var Xn=Li(),Ke=Xn.Buffer;function yd(e,t){for(var r in e)t[r]=e[r]}Ke.from&&Ke.alloc&&Ke.allocUnsafe&&Ke.allocUnsafeSlow?_d.exports=Xn:(yd(Xn,Co),Co.Buffer=Wt);function Wt(e,t,r){return Ke(e,t,r)}yd(Ke,Wt);Wt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ke(e,t,r)};Wt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ke(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Wt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ke(e)};Wt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Xn.SlowBuffer(e)}});var Ed=T((s1,Sd)=>{"use strict";s();l();function Ow(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var vd=yr().Buffer;function Mw(e,t,r){e.copy(t,r)}Sd.exports=function(){function e(){Ow(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return vd.alloc(0);if(this.length===1)return this.head.data;for(var n=vd.allocUnsafe(r>>>0),i=this.head,o=0;i;)Mw(i.data,n,o),o+=i.data.length,i=i.next;return n},e}()});var Io=T((u1,Id)=>{"use strict";s();l();var Td=br();function Rw(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(n||i){t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Td(Cd,this,e);return}this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(Td(Cd,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)})}function kw(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Cd(e,t){e.emit("error",t)}Id.exports={destroy:Rw,undestroy:kw}});var Po=T((p1,Nd)=>{"use strict";s();l();var wt=br();Nd.exports=z;function Pd(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Xw(t,e)}}var Dw=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:wt,qt;z.WritableState=vr;var Od=re();Od.inherits=te();var Nw={deprecate:Bi()},Md=To(),Qn=yr().Buffer,Lw=globalThis.Uint8Array||function(){};function Bw(e){return Qn.from(e)}function Ww(e){return Qn.isBuffer(e)||e instanceof Lw}var Rd=Io();Od.inherits(z,Md);function qw(){}function vr(e,t){qt=qt||bt(),e=e||{},this.objectMode=!!e.objectMode,t instanceof qt&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){$w(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Pd(this)}vr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(vr.prototype,"buffer",{get:Nw.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Zn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Zn=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(e){return Zn.call(this,e)?!0:e&&e._writableState instanceof vr}})):Zn=function(e){return e instanceof this};function z(e){if(qt=qt||bt(),!Zn.call(z,this)&&!(this instanceof qt))return new z(e);this._writableState=new vr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Md.call(this)}z.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Uw(e,t){var r=new Error("write after end");e.emit("error",r),wt(t,r)}function jw(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),wt(n,o),i=!1),i}z.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=Ww(e)&&!n.objectMode;return o&&!Qn.isBuffer(e)&&(e=Bw(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=qw),n.ended?Uw(this,r):(o||jw(this,n,e,r))&&(n.pendingcb++,i=Hw(this,n,o,e,t,r)),i};z.prototype.cork=function(){var e=this._writableState;e.corked++};z.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&kd(this,e))};z.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Fw(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Qn.from(t,r)),t}function Hw(e,t,r,n,i,o){if(!r){var a=Fw(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var f=t.objectMode?1:n.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ao(e,t,!1,f,n,i,o);return u}function Ao(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Gw(e,t,r,n,i){--t.pendingcb,r?(wt(i,n),wt(_r,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),_r(e,t))}function Kw(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function $w(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Kw(r),t)Gw(e,r,n,t,i);else{var o=Dd(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&kd(e,r),n?Dw(Ad,e,r,o,i):Ad(e,r,o,i)}}function Ad(e,t,r,n){r||Vw(e,t),t.pendingcb--,n(),_r(e,t)}function Vw(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function kd(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,Ao(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Pd(t)}else{for(;r;){var u=r.chunk,d=r.encoding,_=r.callback,m=t.objectMode?1:u.length;if(Ao(e,t,!1,m,u,d,_),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}z.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};z.prototype._writev=null;z.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Jw(this,n,r)};function Dd(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Yw(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),_r(e,t)})}function zw(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,wt(Yw,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function _r(e,t){var r=Dd(t);return r&&(zw(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Jw(e,t,r){t.ending=!0,_r(e,t),r&&(t.finished?wt(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Xw(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(z.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});z.prototype.destroy=Rd.destroy;z.prototype._undestroy=Rd.undestroy;z.prototype._destroy=function(e,t){this.end(),t(e)}});var bt=T((g1,Ud)=>{"use strict";s();l();var Bd=br(),Zw=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Ud.exports=at;var Wd=re();Wd.inherits=te();var qd=Mo(),Oo=Po();Wd.inherits(at,qd);var Ld=Zw(Oo.prototype);for(ei=0;ei<Ld.length;ei++)ti=Ld[ei],at.prototype[ti]||(at.prototype[ti]=Oo.prototype[ti]);var ti,ei;function at(e){if(!(this instanceof at))return new at(e);qd.call(this,e),Oo.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Qw)}function Qw(){this.allowHalfOpen||this._writableState.ended||Bd(eb,this)}function eb(e){e.end()}Object.defineProperty(at.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});at.prototype._destroy=function(e,t){this.push(null),this.end(),Bd(t,e)}});var Do=T(Fd=>{"use strict";s();l();var ko=yr().Buffer,jd=ko.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function tb(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function rb(e){var t=tb(e);if(typeof t!="string"&&(ko.isEncoding===jd||!jd(e)))throw new Error("Unknown encoding: "+e);return t||e}Fd.StringDecoder=Sr;function Sr(e){this.encoding=rb(e);var t;switch(this.encoding){case"utf16le":this.text=lb,this.end=fb,t=4;break;case"utf8":this.fillLast=ob,t=4;break;case"base64":this.text=ub,this.end=cb,t=3;break;default:this.write=db,this.end=pb;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ko.allocUnsafe(t)}Sr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Sr.prototype.end=sb;Sr.prototype.text=ab;Sr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ro(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function nb(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Ro(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=Ro(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=Ro(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ib(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD".repeat(r);if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD".repeat(r+1);if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD".repeat(r+2)}}function ob(e){var t=this.lastTotal-this.lastNeed,r=ib(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function ab(e,t){var r=nb(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function sb(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t}function lb(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function fb(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function ub(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function cb(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function db(e){return e.toString(this.encoding)}function pb(e){return e&&e.length?this.write(e):""}});var Mo=T((S1,ep)=>{"use strict";s();l();var jt=br();ep.exports=F;var hb=wd(),Er;F.ReadableState=zd;var v1=St().EventEmitter,$d=function(e,t){return e.listeners(t).length},qo=To(),Tr=yr().Buffer,mb=globalThis.Uint8Array||function(){};function gb(e){return Tr.from(e)}function xb(e){return Tr.isBuffer(e)||e instanceof mb}var Vd=re();Vd.inherits=te();var No=Et(),D=void 0;No&&No.debuglog?D=No.debuglog("stream"):D=function(){};var wb=Ed(),Yd=Io(),Ut;Vd.inherits(F,qo);var Lo=["error","close","destroy","pause","resume"];function bb(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):hb(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function zd(e,t){Er=Er||bt(),e=e||{},this.objectMode=!!e.objectMode,t instanceof Er&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wb,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Ut||(Ut=Do().StringDecoder),this.decoder=new Ut(e.encoding),this.encoding=e.encoding)}function F(e){if(Er=Er||bt(),!(this instanceof F))return new F(e);this._readableState=new zd(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),qo.call(this)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});F.prototype.destroy=Yd.destroy;F.prototype._undestroy=Yd.undestroy;F.prototype._destroy=function(e,t){this.push(null),t(e)};F.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Tr.from(e,t),t=""),n=!0),Jd(this,e,t,!1,n)};F.prototype.unshift=function(e){return Jd(this,e,null,!0,!1)};function Jd(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Sb(e,o);else{var a;i||(a=yb(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Tr.prototype&&(t=gb(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Bo(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Bo(e,o,t,!1):Xd(e,o)):Bo(e,o,t,!1))):n||(o.reading=!1)}return _b(o)}function Bo(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&ri(e)),Xd(e,t)}function yb(e,t){var r;return!xb(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function _b(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}F.prototype.isPaused=function(){return this._readableState.flowing===!1};F.prototype.setEncoding=function(e){return Ut||(Ut=Do().StringDecoder),this._readableState.decoder=new Ut(e),this._readableState.encoding=e,this};var Hd=8388608;function vb(e){return e>=Hd?e=Hd:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Gd(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=vb(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}F.prototype.read=function(e){D("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return D("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Wo(this):ri(this),null;if(e=Gd(e,t),e===0&&t.ended)return t.length===0&&Wo(this),null;var n=t.needReadable;D("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,D("length less than watermark",n)),t.ended||t.reading?(n=!1,D("reading or ended",n)):n&&(D("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Gd(r,t)));var i;return e>0?i=Zd(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Wo(this)),i!==null&&this.emit("data",i),i};function Sb(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,ri(e)}}function ri(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(D("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?jt(Kd,e):Kd(e))}function Kd(e){D("emit readable"),e.emit("readable"),Uo(e)}function Xd(e,t){t.readingMore||(t.readingMore=!0,jt(Eb,e,t))}function Eb(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(D("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}F.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};F.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,D("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?f:b;n.endEmitted?jt(o):r.once("end",o),e.on("unpipe",a);function a(y,E){D("onunpipe"),y===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,_())}function f(){D("onend"),e.end()}var u=Tb(r);e.on("drain",u);var d=!1;function _(){D("cleanup"),e.removeListener("close",C),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",S),e.removeListener("unpipe",a),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",O),d=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}var m=!1;r.on("data",O);function O(y){D("ondata"),m=!1;var E=e.write(y);E===!1&&!m&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Qd(n.pipes,e)!==-1)&&!d&&(D("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,m=!0),r.pause())}function S(y){D("onerror",y),b(),e.removeListener("error",S),$d(e,"error")===0&&e.emit("error",y)}bb(e,"error",S);function C(){e.removeListener("finish",p),b()}e.once("close",C);function p(){D("onfinish"),e.removeListener("close",C),b()}e.once("finish",p);function b(){D("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(D("pipe resume"),r.resume()),e};function Tb(e){return function(){var t=e._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&$d(e,"data")&&(t.flowing=!0,Uo(e))}}F.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=Qd(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};F.prototype.on=function(e,t){var r=qo.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&ri(this):jt(Cb,this))}return r};F.prototype.addListener=F.prototype.on;function Cb(e){D("readable nexttick read 0"),e.read(0)}F.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!0,Ib(this,e)),this};function Ib(e,t){t.resumeScheduled||(t.resumeScheduled=!0,jt(Ab,e,t))}function Ab(e,t){t.reading||(D("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Uo(e),t.flowing&&!t.reading&&e.read(0)}F.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Uo(e){var t=e._readableState;for(D("flow",t.flowing);t.flowing&&e.read()!==null;);}F.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(D("wrapped end"),t.decoder&&!t.ended){var a=t.decoder.end();a&&a.length&&n.push(a)}n.push(null)}),e.on("data",function(a){if(D("wrapped data"),t.decoder&&(a=t.decoder.write(a)),!(t.objectMode&&a==null)&&!(!t.objectMode&&(!a||!a.length))){var f=n.push(a);f||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(a){return function(){return e[a].apply(e,arguments)}}(i));for(var o=0;o<Lo.length;o++)e.on(Lo[o],n.emit.bind(n,Lo[o]));return n._read=function(a){D("wrapped _read",a),r&&(r=!1,e.resume())},n};F._fromList=Zd;function Zd(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Pb(e,t.buffer,t.decoder),r}function Pb(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Ob(e,t):Mb(e,t),n}function Ob(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),e-=a,e===0){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function Mb(e,t){var r=Tr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),e-=a,e===0){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function Wo(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,jt(Rb,t,e))}function Rb(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Qd(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var jo=T((C1,np)=>{"use strict";s();l();np.exports=$e;var ni=bt(),rp=re();rp.inherits=te();rp.inherits($e,ni);function kb(e){this.afterTransform=function(t,r){return Db(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Db(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function $e(e){if(!(this instanceof $e))return new $e(e);ni.call(this,e),this._transformState=new kb(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r,n){tp(t,r,n)}):tp(t)})}$e.prototype.push=function(e,t){return this._transformState.needTransform=!1,ni.prototype.push.call(this,e,t)};$e.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};$e.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};$e.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};$e.prototype._destroy=function(e,t){var r=this;ni.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function tp(e,t,r){if(t)return e.emit("error",t);r!=null&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var sp=T((P1,ap)=>{"use strict";s();l();ap.exports=Cr;var ip=jo(),op=re();op.inherits=te();op.inherits(Cr,ip);function Cr(e){if(!(this instanceof Cr))return new Cr(e);ip.call(this,e)}Cr.prototype._transform=function(e,t,r){r(null,e)}});var fp=T((We,lp)=>{s();l();We=lp.exports=Mo();We.Stream=We;We.Readable=We;We.Writable=Po();We.Duplex=bt();We.Transform=jo();We.PassThrough=sp()});var mp=T((W1,hp)=>{s();l();hp.exports=Ar;Ar.default=Ar;Ar.stable=dp;Ar.stableStringify=dp;var Ve=[],st=[];function Ar(e,t,r){Fo(e,"",[],void 0);var n;for(st.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,pp(t),r);Ve.length!==0;){var i=Ve.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function Fo(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ve.push([n,t,e,o])):st.push([e,t]):(n[t]="[Circular]",Ve.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Fo(e[i],i,r,e);else{var a=Object.keys(e);for(i=0;i<a.length;i++){var f=a[i];Fo(e[f],f,r,e)}}r.pop()}}function Nb(e,t){return e<t?-1:e>t?1:0}function dp(e,t,r){var n=Ho(e,"",[],void 0)||e,i;for(st.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,pp(t),r);Ve.length!==0;){var o=Ve.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return i}function Ho(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ve.push([n,t,e,o])):st.push([e,t]):(n[t]="[Circular]",Ve.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Ho(e[i],i,r,e);else{var a={},f=Object.keys(e).sort(Nb);for(i=0;i<f.length;i++){var u=f[i];Ho(e[u],u,r,e),a[u]=e[u]}if(n!==void 0)Ve.push([n,t,e]),n[t]=a;else return a}r.pop()}}function pp(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(st.length>0)for(var n=0;n<st.length;n++){var i=st[n];if(i[1]===t&&i[0]===r){r="[Circular]",st.splice(n,1);break}}return e.call(this,t,r)}}});var oi=T(Ft=>{"use strict";s();l();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.EthereumProviderError=Ft.EthereumRpcError=void 0;var Lb=mp(),ii=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Lb.default(this.serialize(),Wb,2)}};Ft.EthereumRpcError=ii;var Go=class extends ii{constructor(t,r,n){if(!Bb(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};Ft.EthereumProviderError=Go;function Bb(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Wb(e,t){if(t!=="[Circular]")return t}});var ai=T(Ht=>{"use strict";s();l();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.errorValues=Ht.errorCodes=void 0;Ht.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ht.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var Vo=T(Ie=>{"use strict";s();l();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.serializeError=Ie.isValidCode=Ie.getMessageFromCode=Ie.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var si=ai(),qb=oi(),gp=si.errorCodes.rpc.internal,Ub="Unspecified error message. This is a bug, please report it.",jb={code:gp,message:$o(gp)};Ie.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function $o(e,t=Ub){if(Number.isInteger(e)){let r=e.toString();if(Ko(si.errorValues,r))return si.errorValues[r].message;if(bp(e))return Ie.JSON_RPC_SERVER_ERROR_MESSAGE}return t}Ie.getMessageFromCode=$o;function wp(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(si.errorValues[t]||bp(e))}Ie.isValidCode=wp;function Fb(e,{fallbackError:t=jb,shouldIncludeStack:r=!1}={}){var n,i;if(!t||!Number.isInteger(t.code)||typeof t.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof qb.EthereumRpcError)return e.serialize();let o={};if(e&&typeof e=="object"&&!Array.isArray(e)&&Ko(e,"code")&&wp(e.code)){let f=e;o.code=f.code,f.message&&typeof f.message=="string"?(o.message=f.message,Ko(f,"data")&&(o.data=f.data)):(o.message=$o(o.code),o.data={originalError:xp(e)})}else{o.code=t.code;let f=(n=e)===null||n===void 0?void 0:n.message;o.message=f&&typeof f=="string"?f:t.message,o.data={originalError:xp(e)}}let a=(i=e)===null||i===void 0?void 0:i.stack;return r&&e&&a&&typeof a=="string"&&(o.stack=a),o}Ie.serializeError=Fb;function bp(e){return e>=-32099&&e<=-32e3}function xp(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function Ko(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var vp=T(li=>{"use strict";s();l();Object.defineProperty(li,"__esModule",{value:!0});li.ethErrors=void 0;var Yo=oi(),yp=Vo(),Q=ai();li.ethErrors={rpc:{parse:e=>we(Q.errorCodes.rpc.parse,e),invalidRequest:e=>we(Q.errorCodes.rpc.invalidRequest,e),invalidParams:e=>we(Q.errorCodes.rpc.invalidParams,e),methodNotFound:e=>we(Q.errorCodes.rpc.methodNotFound,e),internal:e=>we(Q.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return we(t,e)},invalidInput:e=>we(Q.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>we(Q.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>we(Q.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>we(Q.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>we(Q.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>we(Q.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Pr(Q.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Pr(Q.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Pr(Q.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Pr(Q.errorCodes.provider.disconnected,e),chainDisconnected:e=>Pr(Q.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Yo.EthereumProviderError(t,r,n)}}};function we(e,t){let[r,n]=_p(t);return new Yo.EthereumRpcError(e,r||yp.getMessageFromCode(e),n)}function Pr(e,t){let[r,n]=_p(t);return new Yo.EthereumProviderError(e,r||yp.getMessageFromCode(e),n)}function _p(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}});var Tp=T(ie=>{"use strict";s();l();Object.defineProperty(ie,"__esModule",{value:!0});ie.getMessageFromCode=ie.serializeError=ie.EthereumProviderError=ie.EthereumRpcError=ie.ethErrors=ie.errorCodes=void 0;var Sp=oi();Object.defineProperty(ie,"EthereumRpcError",{enumerable:!0,get:function(){return Sp.EthereumRpcError}});Object.defineProperty(ie,"EthereumProviderError",{enumerable:!0,get:function(){return Sp.EthereumProviderError}});var Ep=Vo();Object.defineProperty(ie,"serializeError",{enumerable:!0,get:function(){return Ep.serializeError}});Object.defineProperty(ie,"getMessageFromCode",{enumerable:!0,get:function(){return Ep.getMessageFromCode}});var Hb=vp();Object.defineProperty(ie,"ethErrors",{enumerable:!0,get:function(){return Hb.ethErrors}});var Gb=ai();Object.defineProperty(ie,"errorCodes",{enumerable:!0,get:function(){return Gb.errorCodes}})});var Op=T((aT,Pp)=>{s();l();var $b={}.toString;Pp.exports=Array.isArray||function(e){return $b.call(e)=="[object Array]"}});var Jo=T((fT,Mp)=>{s();l();Mp.exports=St().EventEmitter});var Or=T((Xo,kp)=>{s();l();var fi=Li(),Ye=fi.Buffer;function Rp(e,t){for(var r in e)t[r]=e[r]}Ye.from&&Ye.alloc&&Ye.allocUnsafe&&Ye.allocUnsafeSlow?kp.exports=fi:(Rp(fi,Xo),Xo.Buffer=Gt);function Gt(e,t,r){return Ye(e,t,r)}Rp(Ye,Gt);Gt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ye(e,t,r)};Gt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ye(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Gt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ye(e)};Gt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return fi.SlowBuffer(e)}});var Np=T((hT,Zo)=>{"use strict";s();l();function Vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Dp=Or().Buffer,Mr=Et();function Yb(e,t,r){e.copy(t,r)}Zo.exports=function(){function e(){Vb(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return Dp.alloc(0);if(this.length===1)return this.head.data;for(var n=Dp.allocUnsafe(r>>>0),i=this.head,o=0;i;)Yb(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();Mr&&Mr.inspect&&Mr.inspect.custom&&(Zo.exports.prototype[Mr.inspect.custom]=function(){var e=Mr.inspect({length:this.length});return this.constructor.name+" "+e})});var Qo=T((xT,Wp)=>{"use strict";s();l();var Lp=Qe();function zb(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Lp.nextTick(Bp,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(Lp.nextTick(Bp,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function Jb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Bp(e,t){e.emit("error",t)}Wp.exports={destroy:zb,undestroy:Jb}});var ta=T((yT,$p)=>{"use strict";s();l();var yt=Qe();$p.exports=$;function Up(e){var t=this;this.next=null,this.entry=null,this.finish=function(){hy(t,e)}}var Xb=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:yt.nextTick,Kt;$.WritableState=kr;var jp=Object.create(re());jp.inherits=te();var Zb={deprecate:Bi()},Fp=Jo(),ci=Or().Buffer,Qb=globalThis.Uint8Array||function(){};function ey(e){return ci.from(e)}function ty(e){return ci.isBuffer(e)||e instanceof Qb}var Hp=Qo();jp.inherits($,Fp);function ry(){}function kr(e,t){Kt=Kt||_t(),e=e||{};var r=t instanceof Kt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(f){fy(t,f)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Up(this)}kr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(kr.prototype,"buffer",{get:Zb.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ui;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ui=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(e){return ui.call(this,e)?!0:this!==$?!1:e&&e._writableState instanceof kr}})):ui=function(e){return e instanceof this};function $(e){if(Kt=Kt||_t(),!ui.call($,this)&&!(this instanceof Kt))return new $(e);this._writableState=new kr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Fp.call(this)}$.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function ny(e,t){var r=new Error("write after end");e.emit("error",r),yt.nextTick(t,r)}function iy(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),yt.nextTick(n,o),i=!1),i}$.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&ty(e);return o&&!ci.isBuffer(e)&&(e=ey(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=ry),n.ended?ny(this,r):(o||iy(this,n,e,r))&&(n.pendingcb++,i=ay(this,n,o,e,t,r)),i};$.prototype.cork=function(){var e=this._writableState;e.corked++};$.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Gp(this,e))};$.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function oy(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=ci.from(t,r)),t}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ay(e,t,r,n,i,o){if(!r){var a=oy(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var f=t.objectMode?1:n.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else ea(e,t,!1,f,n,i,o);return u}function ea(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function sy(e,t,r,n,i){--t.pendingcb,r?(yt.nextTick(i,n),yt.nextTick(Rr,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),Rr(e,t))}function ly(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function fy(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(ly(r),t)sy(e,r,n,t,i);else{var o=Kp(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Gp(e,r),n?Xb(qp,e,r,o,i):qp(e,r,o,i)}}function qp(e,t,r,n){r||uy(e,t),t.pendingcb--,n(),Rr(e,t)}function uy(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Gp(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,ea(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Up(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,_=r.callback,m=t.objectMode?1:u.length;if(ea(e,t,!1,m,u,d,_),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}$.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};$.prototype._writev=null;$.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&py(this,n,r)};function Kp(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function cy(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Rr(e,t)})}function dy(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,yt.nextTick(cy,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Rr(e,t){var r=Kp(t);return r&&(dy(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function py(e,t,r){t.ending=!0,Rr(e,t),r&&(t.finished?yt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function hy(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty($.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});$.prototype.destroy=Hp.destroy;$.prototype._undestroy=Hp.undestroy;$.prototype._destroy=function(e,t){this.end(),t(e)}});var _t=T((ST,Jp)=>{"use strict";s();l();var Vp=Qe(),my=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Jp.exports=ze;var Yp=Object.create(re());Yp.inherits=te();var zp=ia(),na=ta();Yp.inherits(ze,zp);for(ra=my(na.prototype),di=0;di<ra.length;di++)pi=ra[di],ze.prototype[pi]||(ze.prototype[pi]=na.prototype[pi]);var ra,pi,di;function ze(e){if(!(this instanceof ze))return new ze(e);zp.call(this,e),na.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",gy)}Object.defineProperty(ze.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function gy(){this.allowHalfOpen||this._writableState.ended||Vp.nextTick(xy,this)}function xy(e){e.end()}Object.defineProperty(ze.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});ze.prototype._destroy=function(e,t){this.push(null),this.end(),Vp.nextTick(t,e)}});var sa=T(Zp=>{"use strict";s();l();var aa=Or().Buffer,Xp=aa.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function wy(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function by(e){var t=wy(e);if(typeof t!="string"&&(aa.isEncoding===Xp||!Xp(e)))throw new Error("Unknown encoding: "+e);return t||e}Zp.StringDecoder=Dr;function Dr(e){this.encoding=by(e);var t;switch(this.encoding){case"utf16le":this.text=Ty,this.end=Cy,t=4;break;case"utf8":this.fillLast=vy,t=4;break;case"base64":this.text=Iy,this.end=Ay,t=3;break;default:this.write=Py,this.end=Oy;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=aa.allocUnsafe(t)}Dr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Dr.prototype.end=Ey;Dr.prototype.text=Sy;Dr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function oa(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function yy(e,t,r){var n=t.length-1;if(n<r)return 0;var i=oa(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=oa(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=oa(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function _y(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function vy(e){var t=this.lastTotal-this.lastNeed,r=_y(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Sy(e,t){var r=yy(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Ey(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Ty(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Cy(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Iy(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Ay(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Py(e){return e.toString(this.encoding)}function Oy(e){return e&&e.length?this.write(e):""}});var ia=T((OT,uh)=>{"use strict";s();l();var Vt=Qe();uh.exports=U;var My=Op(),Nr;U.ReadableState=oh;var PT=St().EventEmitter,rh=function(e,t){return e.listeners(t).length},da=Jo(),Lr=Or().Buffer,Ry=globalThis.Uint8Array||function(){};function ky(e){return Lr.from(e)}function Dy(e){return Lr.isBuffer(e)||e instanceof Ry}var nh=Object.create(re());nh.inherits=te();var la=Et(),N=void 0;la&&la.debuglog?N=la.debuglog("stream"):N=function(){};var Ny=Np(),ih=Qo(),$t;nh.inherits(U,da);var fa=["error","close","destroy","pause","resume"];function Ly(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):My(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function oh(e,t){Nr=Nr||_t(),e=e||{};var r=t instanceof Nr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Ny,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&($t||($t=sa().StringDecoder),this.decoder=new $t(e.encoding),this.encoding=e.encoding)}function U(e){if(Nr=Nr||_t(),!(this instanceof U))return new U(e);this._readableState=new oh(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),da.call(this)}Object.defineProperty(U.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});U.prototype.destroy=ih.destroy;U.prototype._undestroy=ih.undestroy;U.prototype._destroy=function(e,t){this.push(null),t(e)};U.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Lr.from(e,t),t=""),n=!0),ah(this,e,t,!1,n)};U.prototype.unshift=function(e){return ah(this,e,null,!0,!1)};function ah(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Uy(e,o);else{var a;i||(a=By(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Lr.prototype&&(t=ky(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):ua(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?ua(e,o,t,!1):sh(e,o)):ua(e,o,t,!1))):n||(o.reading=!1)}return Wy(o)}function ua(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&hi(e)),sh(e,t)}function By(e,t){var r;return!Dy(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Wy(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}U.prototype.isPaused=function(){return this._readableState.flowing===!1};U.prototype.setEncoding=function(e){return $t||($t=sa().StringDecoder),this._readableState.decoder=new $t(e),this._readableState.encoding=e,this};var Qp=8388608;function qy(e){return e>=Qp?e=Qp:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function eh(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=qy(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}U.prototype.read=function(e){N("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return N("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?ca(this):hi(this),null;if(e=eh(e,t),e===0&&t.ended)return t.length===0&&ca(this),null;var n=t.needReadable;N("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,N("length less than watermark",n)),t.ended||t.reading?(n=!1,N("reading or ended",n)):n&&(N("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=eh(r,t)));var i;return e>0?i=lh(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ca(this)),i!==null&&this.emit("data",i),i};function Uy(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,hi(e)}}function hi(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(N("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Vt.nextTick(th,e):th(e))}function th(e){N("emit readable"),e.emit("readable"),pa(e)}function sh(e,t){t.readingMore||(t.readingMore=!0,Vt.nextTick(jy,e,t))}function jy(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(N("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}U.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};U.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,N("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?f:b;n.endEmitted?Vt.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(y,E){N("onunpipe"),y===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,_())}function f(){N("onend"),e.end()}var u=Fy(r);e.on("drain",u);var d=!1;function _(){N("cleanup"),e.removeListener("close",C),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",S),e.removeListener("unpipe",a),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",O),d=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}var m=!1;r.on("data",O);function O(y){N("ondata"),m=!1;var E=e.write(y);E===!1&&!m&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&fh(n.pipes,e)!==-1)&&!d&&(N("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,m=!0),r.pause())}function S(y){N("onerror",y),b(),e.removeListener("error",S),rh(e,"error")===0&&e.emit("error",y)}Ly(e,"error",S);function C(){e.removeListener("finish",p),b()}e.once("close",C);function p(){N("onfinish"),e.removeListener("close",C),b()}e.once("finish",p);function b(){N("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(N("pipe resume"),r.resume()),e};function Fy(e){return function(){var t=e._readableState;N("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&rh(e,"data")&&(t.flowing=!0,pa(e))}}U.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=fh(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};U.prototype.on=function(e,t){var r=da.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&hi(this):Vt.nextTick(Hy,this))}return r};U.prototype.addListener=U.prototype.on;function Hy(e){N("readable nexttick read 0"),e.read(0)}U.prototype.resume=function(){var e=this._readableState;return e.flowing||(N("resume"),e.flowing=!0,Gy(this,e)),this};function Gy(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Vt.nextTick(Ky,e,t))}function Ky(e,t){t.reading||(N("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),pa(e),t.flowing&&!t.reading&&e.read(0)}U.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function pa(e){var t=e._readableState;for(N("flow",t.flowing);t.flowing&&e.read()!==null;);}U.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(N("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(N("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var f=t.push(a);f||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(a){return function(){return e[a].apply(e,arguments)}}(i));for(var o=0;o<fa.length;o++)e.on(fa[o],this.emit.bind(this,fa[o]));return this._read=function(a){N("wrapped _read",a),n&&(n=!1,e.resume())},this};Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});U._fromList=lh;function lh(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=$y(e,t.buffer,t.decoder),r}function $y(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Vy(e,t):Yy(e,t),n}function Vy(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),e-=a,e===0){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function Yy(e,t){var r=Lr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),e-=a,e===0){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function ca(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Vt.nextTick(zy,t,e))}function zy(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function fh(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var ha=T((kT,ph)=>{"use strict";s();l();ph.exports=Je;var mi=_t(),dh=Object.create(re());dh.inherits=te();dh.inherits(Je,mi);function Jy(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Je(e){if(!(this instanceof Je))return new Je(e);mi.call(this,e),this._transformState={afterTransform:Jy.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Xy)}function Xy(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){ch(e,t,r)}):ch(this,null,null)}Je.prototype.push=function(e,t){return this._transformState.needTransform=!1,mi.prototype.push.call(this,e,t)};Je.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Je.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Je.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Je.prototype._destroy=function(e,t){var r=this;mi.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function ch(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var xh=T((LT,gh)=>{"use strict";s();l();gh.exports=Br;var hh=ha(),mh=Object.create(re());mh.inherits=te();mh.inherits(Br,hh);function Br(e){if(!(this instanceof Br))return new Br(e);hh.call(this,e)}Br.prototype._transform=function(e,t,r){r(null,e)}});var bh=T((qe,wh)=>{s();l();qe=wh.exports=ia();qe.Stream=qe;qe.Readable=qe;qe.Writable=ta();qe.Duplex=_t();qe.Transform=ha();qe.PassThrough=xh()});var ma=T((jT,_h)=>{s();l();var Zy=Fi(),Qy=function(){},e_=function(e){return e.setHeader&&typeof e.abort=="function"},t_=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},yh=function(e,t,r){if(typeof t=="function")return yh(e,null,t);t||(t={}),r=Zy(r||Qy);var n=e._writableState,i=e._readableState,o=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,f=!1,u=function(){e.writable||d()},d=function(){a=!1,o||r.call(e)},_=function(){o=!1,a||r.call(e)},m=function(b){r.call(e,b?new Error("exited with error code: "+b):null)},O=function(b){r.call(e,b)},S=function(){process.nextTick(C)},C=function(){if(!f){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(a&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},p=function(){e.req.on("finish",d)};return e_(e)?(e.on("complete",d),e.on("abort",S),e.req?p():e.on("request",p)):a&&!n&&(e.on("end",u),e.on("close",u)),t_(e)&&e.on("exit",m),e.on("end",_),e.on("finish",d),t.error!==!1&&e.on("error",O),e.on("close",S),function(){f=!0,e.removeListener("complete",d),e.removeListener("abort",S),e.removeListener("request",p),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("exit",m),e.removeListener("end",_),e.removeListener("error",O),e.removeListener("close",S)}};_h.exports=yh});var Ch=T((GT,Th)=>{s();l();var{Duplex:Eh}=bh(),vh=ma(),r_=Fi(),Sh={},ga=class extends Eh{constructor(t={}){let r=Object.assign({},t,{objectMode:!0});super(r),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');let r=new xa({parent:this,name:t});return this._substreams[t]=r,n_(this,n=>{r.destroy(n)}),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');this._substreams[t]=Sh}_read(){}_write(t,r,n){let i=t.name,o=t.data;if(!i)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();let a=this._substreams[i];if(!a)return console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n();a!==Sh&&a.push(o),n()}},xa=class extends Eh{constructor({parent:t,name:r}){super({objectMode:!0}),this._parent=t,this._name=r}_read(){}_write(t,r,n){this._parent.push({name:this._name,data:t}),n()}};Th.exports=ga;function n_(e,t){let r=r_(t);vh(e,{readable:!1},r),vh(e,{writable:!1},r)}});var Ph=T((VT,Ah)=>{s();l();var i_=Fi(),o_=ma(),wa=Zg(),Wr=function(){},a_=/^v?\.0/.test(process.version),gi=function(e){return typeof e=="function"},s_=function(e){return!a_||!wa?!1:(e instanceof(wa.ReadStream||Wr)||e instanceof(wa.WriteStream||Wr))&&gi(e.close)},l_=function(e){return e.setHeader&&gi(e.abort)},f_=function(e,t,r,n){n=i_(n);var i=!1;e.on("close",function(){i=!0}),o_(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,s_(e))return e.close(Wr);if(l_(e))return e.abort();if(gi(e.destroy))return e.destroy();n(a||new Error("stream was destroyed"))}}},Ih=function(e){e()},u_=function(e,t){return e.pipe(t)},c_=function(){var e=Array.prototype.slice.call(arguments),t=gi(e[e.length-1]||Wr)&&e.pop()||Wr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,o){var a=o<e.length-1,f=o>0;return f_(i,a,f,function(u){r||(r=u),u&&n.forEach(Ih),!a&&(n.forEach(Ih),t(r))})});return e.reduce(u_)};Ah.exports=c_});s();l();s();l();Zt();globalThis.setupSentry=async()=>await ws();globalThis.setupSentry();globalThis.sentry=ye;globalThis.Sentry=ye;s();l();(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function t(p,b){for(var y=0;y<b.length;y++){var E=b[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}function r(p,b,y){return b&&t(p.prototype,b),y&&t(p,y),p}function n(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),b&&o(p,b)}function i(p){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},i(p)}function o(p,b){return o=Object.setPrototypeOf||function(E,P){return E.__proto__=P,E},o(p,b)}function a(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function f(p,b){return b&&(typeof b=="object"||typeof b=="function")?b:a(p)}function u(p,b){for(;!Object.prototype.hasOwnProperty.call(p,b)&&(p=i(p),p!==null););return p}function d(p,b,y){return typeof Reflect<"u"&&Reflect.get?d=Reflect.get:d=function(P,L,w){var I=u(P,L);if(!!I){var A=Object.getOwnPropertyDescriptor(I,L);return A.get?A.get.call(w):A.value}},d(p,b,y||p)}var _=function(){function p(){e(this,p),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(p,[{key:"addEventListener",value:function(y,E){y in this.listeners||(this.listeners[y]=[]),this.listeners[y].push(E)}},{key:"removeEventListener",value:function(y,E){if(y in this.listeners){for(var P=this.listeners[y],L=0,w=P.length;L<w;L++)if(P[L]===E){P.splice(L,1);return}}}},{key:"dispatchEvent",value:function(y){var E=this;if(y.type in this.listeners){for(var P=function(H){setTimeout(function(){return H.call(E,y)})},L=this.listeners[y.type],w=0,I=L.length;w<I;w++)P(L[w]);return!y.defaultPrevented}}}]),p}(),m=function(p){n(b,p);function b(){var y;return e(this,b),y=f(this,i(b).call(this)),y.listeners||_.call(a(y)),Object.defineProperty(a(y),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(y),"onabort",{value:null,writable:!0,configurable:!0}),y}return r(b,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(E){E.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,E)),d(i(b.prototype),"dispatchEvent",this).call(this,E)}}]),b}(_),O=function(){function p(){e(this,p),Object.defineProperty(this,"signal",{value:new m,writable:!0,configurable:!0})}return r(p,[{key:"abort",value:function(){var y;try{y=new Event("abort")}catch{typeof document<"u"?document.createEvent?(y=document.createEvent("Event"),y.initEvent("abort",!1,!1)):(y=document.createEventObject(),y.type="abort"):y={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(y)}},{key:"toString",value:function(){return"[object AbortController]"}}]),p}();typeof Symbol<"u"&&Symbol.toStringTag&&(O.prototype[Symbol.toStringTag]="AbortController",m.prototype[Symbol.toStringTag]="AbortSignal");function S(p){return p.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof p.Request=="function"&&!p.Request.prototype.hasOwnProperty("signal")||!p.AbortController}function C(p){typeof p=="function"&&(p={fetch:p});var b=p,y=b.fetch,E=b.Request,P=E===void 0?y.Request:E,L=b.AbortController,w=b.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,I=w===void 0?!1:w;if(!S({fetch:y,Request:P,AbortController:L,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:I}))return{fetch:y,Request:A};var A=P;(A&&!A.prototype.hasOwnProperty("signal")||I)&&(A=function(J,G){var Pe;G&&G.signal&&(Pe=G.signal,delete G.signal);var Oe=new P(J,G);return Pe&&Object.defineProperty(Oe,"signal",{writable:!1,enumerable:!1,configurable:!0,value:Pe}),Oe},A.prototype=P.prototype);var H=y,Y=function(J,G){var Pe=A&&A.prototype.isPrototypeOf(J)?J.signal:G?G.signal:void 0;if(Pe){var Oe;try{Oe=new DOMException("Aborted","AbortError")}catch{Oe=new Error("Aborted"),Oe.name="AbortError"}if(Pe.aborted)return Promise.reject(Oe);var zr=new Promise(function(ki,Di){Pe.addEventListener("abort",function(){return Di(Oe)},{once:!0})});return G&&G.signal&&delete G.signal,Promise.race([zr,H(J,G)])}return H(J,G)};return{fetch:Y,Request:A}}(function(p){if(!!S(p)){if(!p.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var b=C(p),y=b.fetch,E=b.Request;p.fetch=y,p.Request=E,Object.defineProperty(p,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:O}),Object.defineProperty(p,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:m})}})(typeof self<"u"?self:globalThis)});var $g=h(bs()),Vg=h(td()),Qa=h(pt());s();l();s();l();s();l();function In(e,t){var r=An();return In=function(n,i){n=n-384;var o=r[n];return o},In(e,t)}function An(){var e=["12271160Kkzqbj","622175xEJzRF","8054160LwBnNB","plugin","WEBVIEW","28nMUZAY","3026978PygpGE","webview","1nVQcQJ","BROWSER","994007dKiPwy","3544122HbtNwq","EXTENSION","3279213DhNMWK"];return An=function(){return e},An()}(function(e,t){for(var r=In,n=e();[];)try{var i=-parseInt(r(394))/1*(-parseInt(r(392))/2)+-parseInt(r(397))/3+parseInt(r(391))/4*(parseInt(r(387))/5)+-parseInt(r(388))/6+-parseInt(r(396))/7+parseInt(r(386))/8+-parseInt(r(385))/9;if(i===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(An,888337);var Ce;(function(e){var t=In;e[t(395)]="browser",e[t(384)]=t(389),e.TG="webview",e[t(390)]=t(393)})(Ce||(Ce={}));var _o=Ce;s();l();s();l();(function(e,t){let r=xr,n=e();for(;[];)try{if(-parseInt(r(362))/1+parseInt(r(355))/2*(parseInt(r(370))/3)+-parseInt(r(368))/4+parseInt(r(367))/5*(parseInt(r(366))/6)+-parseInt(r(372))/7+parseInt(r(369))/8*(parseInt(r(375))/9)+parseInt(r(356))/10*(-parseInt(r(357))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pn,334809);function xr(e,t){let r=Pn();return xr=function(n,i){return n=n-355,r[n]},xr(e,t)}var rd=async e=>{let t=xr;return window[t(377)][t(359)][t(361)](t(365),e,{name:t(371)},!![],[t(374),"decrypt"])};function Pn(){let e=["25165VfXkBU","624712tSYzrt","950392QRNVQS","9xWJret","AES-GCM","39655aqZCkw","from","encrypt","36AAYZGT","slice","crypto","119166rdsGET","130HVsVfO","410377hFyNDc","decrypt","subtle","charCodeAt","importKey","69909PJukGw","decode","encode","raw","474KfIWmQ"];return Pn=function(){return e},Pn()}var nd=async(e,t,r)=>{let n=xr,i=new TextEncoder,o=i.encode(t),a=new Uint8Array(new TextEncoder()[n(364)](r).slice(0,12)),f=await window[n(377)][n(359)].encrypt({name:n(371),iv:a},e,o);return{iv:Array.from(a),encrypted:btoa(String.fromCharCode(...new Uint8Array(f)))}};s();l();se();(function(e,t){let r=vo,n=e();for(;[];)try{if(parseInt(r(288))/1+-parseInt(r(289))/2+-parseInt(r(293))/3+parseInt(r(285))/4*(parseInt(r(294))/5)+parseInt(r(291))/6*(-parseInt(r(295))/7)+parseInt(r(292))/8*(parseInt(r(286))/9)+parseInt(r(287))/10*(-parseInt(r(290))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(On,565006);function On(){let e=["31865kOkFGw","230727Sovdvk","168xZaqCb","12618zBfkzd","6010fxUkrX","1002064rXdjTy","2030182yTBKCX","5753KLHsPu","18Tedwsb","5480sNjmse","710391ACwmeC"];return On=function(){return e},On()}var bw={project:{id:160,token:"b32011805ecf66fdb148c22d63d2803d"}};function vo(e,t){let r=On();return vo=function(n,i){return n=n-285,r[n]},vo(e,t)}var ue={info(e,t){ns.info(e,{...t,customConfig:bw})}};(function(e,t){let r=Rn,n=e();for(;[];)try{if(parseInt(r(282))/1*(-parseInt(r(270))/2)+-parseInt(r(278))/3*(-parseInt(r(269))/4)+parseInt(r(276))/5+-parseInt(r(274))/6+-parseInt(r(280))/7*(parseInt(r(271))/8)+parseInt(r(283))/9+-parseInt(r(275))/10*(parseInt(r(272))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mn,377425);function Mn(){let e=["1134660jmDSAG","21030qYlgDE","2064740BaFbwr","getTime","22911JeADIr","info","110103YvZvKE","encryptWithAES error","33205cycltR","4617234WMDvpL","244JdIqmu","4CKQSKp","248rwMfDp","1419tOeBjw","stringify"];return Mn=function(){return e},Mn()}function Rn(e,t){let r=Mn();return Rn=function(n,i){return n=n-269,r[n]},Rn(e,t)}var yw=new Uint8Array([163,196,11,186,120,234,233,59,179,21,84,245,100,201,237,90]),id=async e=>{let t=Rn;try{let r=String(new Date()[t(277)]()),n=JSON[t(273)](e),i=await rd(yw),o=await nd(i,n,r);return{timestamp:r,data:o.encrypted}}catch(r){throw ue[t(279)](t(281),{error:r}),r}};s();l();se();ys();s();l();s();l();function kn(e,t){let r=Dn();return kn=function(n,i){return n=n-375,r[n]},kn(e,t)}(function(e,t){let r=kn,n=e();for(;[];)try{if(-parseInt(r(377))/1*(parseInt(r(376))/2)+parseInt(r(379))/3*(-parseInt(r(387))/4)+-parseInt(r(390))/5*(parseInt(r(382))/6)+-parseInt(r(391))/7+-parseInt(r(384))/8*(parseInt(r(388))/9)+parseInt(r(378))/10+-parseInt(r(385))/11*(-parseInt(r(381))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dn,608673);function Dn(){let e=["8RWcWpo","204578PuVELV","slice","6900PMleVr","3033063yqHdWU","charCodeAt","8515QNhitp","3291225gCLeFg","length","14bRuTDh","56413CLDzFn","1102990ErrHhf","753cufKYL","00000000","1704YQwcIO","1788ekJQIY","toString"];return Dn=function(){return e},Dn()}function ot(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];let r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function xe(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];let r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function Lt(e,t){return(t%=64)===32?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function ce(e,t){return(t%=64)===0?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function od(e){return e=j(e,[0,e[0]>>>1]),e=xe(e,[4283543511,3981806797]),e=j(e,[0,e[0]>>>1]),e=xe(e,[3301882366,444984403]),j(e,[0,e[0]>>>1])}function j(e,t){return[e[0]^t[0],e[1]^t[1]]}function ad(e="",t=0){let r=kn,n=e[r(375)]%16,i=e[r(375)]-n,o=[0,t],a=[0,t],f=[0,0],u=[0,0],d=[2277735313,289559509],_=[1291169091,658871167],m=0;for(;m<i;m+=16)f=[255&e[r(389)](m+4)|(255&e[r(389)](m+5))<<8|(255&e[r(389)](m+6))<<16|(255&e[r(389)](m+7))<<24,255&e.charCodeAt(m)|(255&e[r(389)](m+1))<<8|(255&e.charCodeAt(m+2))<<16|(255&e[r(389)](m+3))<<24],u=[255&e[r(389)](m+12)|(255&e[r(389)](m+13))<<8|(255&e[r(389)](m+14))<<16|(255&e[r(389)](m+15))<<24,255&e[r(389)](m+8)|(255&e[r(389)](m+9))<<8|(255&e[r(389)](m+10))<<16|(255&e.charCodeAt(m+11))<<24],f=xe(f,d),f=Lt(f,31),f=xe(f,_),o=j(o,f),o=Lt(o,27),o=ot(o,a),o=ot(xe(o,[0,5]),[0,1390208809]),u=xe(u,_),u=Lt(u,33),u=xe(u,d),a=j(a,u),a=Lt(a,31),a=ot(a,o),a=ot(xe(a,[0,5]),[0,944331445]);switch(f=[0,0],u=[0,0],n){case 15:u=j(u,ce([0,e[r(389)](m+14)],48));case 14:u=j(u,ce([0,e[r(389)](m+13)],40));case 13:u=j(u,ce([0,e[r(389)](m+12)],32));case 12:u=j(u,ce([0,e.charCodeAt(m+11)],24));case 11:u=j(u,ce([0,e[r(389)](m+10)],16));case 10:u=j(u,ce([0,e.charCodeAt(m+9)],8));case 9:u=j(u,[0,e[r(389)](m+8)]),u=xe(u,_),u=Lt(u,33),u=xe(u,d),a=j(a,u);case 8:f=j(f,ce([0,e[r(389)](m+7)],56));case 7:f=j(f,ce([0,e.charCodeAt(m+6)],48));case 6:f=j(f,ce([0,e.charCodeAt(m+5)],40));case 5:f=j(f,ce([0,e[r(389)](m+4)],32));case 4:f=j(f,ce([0,e[r(389)](m+3)],24));case 3:f=j(f,ce([0,e.charCodeAt(m+2)],16));case 2:f=j(f,ce([0,e.charCodeAt(m+1)],8));case 1:f=j(f,[0,e[r(389)](m)]),f=xe(f,d),f=Lt(f,31),f=xe(f,_),o=j(o,f)}return o=j(o,[0,e[r(375)]]),a=j(a,[0,e.length]),o=ot(o,a),a=ot(a,o),o=od(o),a=od(a),o=ot(o,a),a=ot(a,o),(r(380)+(o[0]>>>0)[r(383)](16))[r(386)](-8)+(r(380)+(o[1]>>>0)[r(383)](16))[r(386)](-8)+(r(380)+(a[0]>>>0)[r(383)](16))[r(386)](-8)+("00000000"+(a[1]>>>0)[r(383)](16))[r(386)](-8)}(function(e,t){let r=Ln,n=e();for(;[];)try{if(-parseInt(r(190))/1*(-parseInt(r(170))/2)+parseInt(r(172))/3+-parseInt(r(184))/4*(parseInt(r(173))/5)+parseInt(r(186))/6*(-parseInt(r(161))/7)+parseInt(r(194))/8*(parseInt(r(169))/9)+-parseInt(r(181))/10+-parseInt(r(191))/11*(-parseInt(r(187))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nn,107719);function Nn(){let e=["height","textBaseline","alphabetic","display","9cSfphj","31862uOfOye","fillText","477957Wacbxn","135tDyuDC","style","width","closePath","beginPath","getCanvasPrint","font","Cwm fjordbank \u{1F603} gly","1060560dSKuoF","fillRect","createElement","22732MpNrzt","data:image/png;base64,","445710XLFxfM","36vxoXLN","rgba(102, 204, 0, 0.2)","globalCompositeOperation","1mOmGtT","638253aqgTOq","rgb(0,255,255)","info","737456dHayKq","18pt Arial","fill","fillStyle","multiply","arc","evenodd","getContext","#069","#f60","rgb(255,0,255)","7bayWyN","rgb(255,255,0)","inline","rect"];return Nn=function(){return e},Nn()}function Ln(e,t){let r=Nn();return Ln=function(n,i){return n=n-157,r[n]},Ln(e,t)}var sd=()=>{let e=Ln;try{let t=document[e(183)]("canvas");t[e(175)]=240,t[e(165)]=140,t[e(174)][e(168)]=e(163);let r=t[e(157)]("2d");if(!r)return"";r[e(164)](0,0,10,10),r[e(164)](2,2,6,6),r[e(166)]=e(167),r[e(197)]=e(159),r[e(182)](125,1,62,20),r[e(197)]=e(158),r.font="11pt no-real-font-123",r.fillText("Cwm fjordbank \u{1F603} gly",2,15),r[e(197)]=e(188),r[e(179)]=e(195),r[e(171)](e(180),4,45),r[e(189)]=e(198),r.fillStyle=e(160),r[e(177)](),r[e(199)](50,50,50,0,2*Math.PI,!0),r[e(176)](),r[e(196)](),r[e(197)]=e(192),r[e(177)](),r.arc(100,50,50,0,2*Math.PI,!0),r[e(176)](),r[e(196)](),r.fillStyle=e(162),r[e(177)](),r[e(199)](75,100,50,0,2*Math.PI,!0),r.closePath(),r[e(196)](),r[e(197)]=e(160),r.arc(75,75,75,0,2*Math.PI,!0),r[e(199)](75,75,25,0,2*Math.PI,!0),r.fill(e(200));let n=t.toDataURL().replace(e(185),"");return ad(n)}catch(t){return ue[e(193)](e(178),{error:t}),""}};s();l();(function(e,t){let r=Bn,n=e();for(;[];)try{if(-parseInt(r(471))/1*(parseInt(r(466))/2)+parseInt(r(473))/3*(parseInt(r(462))/4)+-parseInt(r(474))/5*(-parseInt(r(472))/6)+-parseInt(r(465))/7*(-parseInt(r(464))/8)+parseInt(r(463))/9*(parseInt(r(468))/10)+-parseInt(r(470))/11+parseInt(r(469))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wn,897980);function Bn(e,t){let r=Wn();return Bn=function(n,i){return n=n-462,r[n]},Bn(e,t)}function Wn(){let e=["1FJrUKF","1356azBDLB","156195DZlqIb","4600GdaAVl","20XOLmIM","4193973FqYHjJ","48376mztBuk","938eqbWGz","3111170XrFELc","screen","30LilJsk","5208384eSrhAd","7227011niaiEM"];return Wn=function(){return e},Wn()}var ld=()=>{let e=Bn;try{let{colorDepth:t=null,width:r=null,height:n=null}=window[e(467)]||{};return{colorDepth:t,width:r,height:n}}catch(t){return ue.info("getScreenInfo error",{error:t}),{colorDepth:null,width:null,height:null}}};s();l();(function(e,t){let r=wr,n=e();for(;[];)try{if(-parseInt(r(465))/1+parseInt(r(462))/2*(parseInt(r(461))/3)+parseInt(r(460))/4+-parseInt(r(458))/5*(parseInt(r(468))/6)+-parseInt(r(456))/7*(parseInt(r(466))/8)+parseInt(r(459))/9+parseInt(r(470))/10*(-parseInt(r(467))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(qn,489961);var _w=()=>{let e=wr,t=new Date()[e(469)](),r=new Date(new Date()[e(471)](),0,1),n=r[e(469)](),i=new Date(new Date()[e(471)](),5,1),o=i[e(469)]();return!(new Date()[e(469)]()===n||new Date()[e(469)]()===o)&&(t>n||t>o)},fd=()=>{let e=wr;var t;try{let r=new Date,n=r[e(469)](),i="",o="",a=(t=window.Intl)===null||t===void 0?void 0:t[e(463)];if(a){let f=new a()[e(457)]();i=f[e(472)],o=f[e(464)]||""}return{timeZone:i,timeZoneName:o,offset:n,isDst:_w()}}catch{return{timeZone:"",timeZoneName:"",offset:"",isDst:""}}};function wr(e,t){let r=qn();return wr=function(n,i){return n=n-456,r[n]},wr(e,t)}function qn(){let e=["3461364TKrLyW","103023zyJAHA","16YwHYeB","DateTimeFormat","timeZoneName","143156kpusRu","24PatAYj","4763MiMdUA","30402KtLHTJ","getTimezoneOffset","17140znFjLm","getFullYear","timeZone","688849EQbIJP","resolvedOptions","395mrrWYv","8376516RmodaJ"];return qn=function(){return e},qn()}(function(e,t){let r=jn,n=e();for(;[];)try{if(-parseInt(r(450))/1+parseInt(r(461))/2*(-parseInt(r(447))/3)+parseInt(r(449))/4+-parseInt(r(460))/5+-parseInt(r(452))/6*(-parseInt(r(462))/7)+-parseInt(r(458))/8*(-parseInt(r(455))/9)+-parseInt(r(457))/10*(parseInt(r(451))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Un,189095);function Un(){let e=["5270mmFfPE","1350448wbWOQL","platform","1183000ENdwJW","394UYxbwd","259XfFaLw","EXTENSION","cpu","1203bBOWJb","userAgent","763696hLHgRD","175680ltbIrG","1914BOQjub","39492RQytmv","getDeviceId","overrides","18qvxetw","language"];return Un=function(){return e},Un()}function jn(e,t){let r=Un();return jn=function(n,i){return n=n-446,r[n]},jn(e,t)}var ud=async e=>{let t=jn;var r,n,i;let o=(r=e?.[t(459)])!==null&&r!==void 0?r:Ce[t(463)],a=(n=e?.[t(454)])!==null&&n!==void 0?n:{},f=(i=is[t(456)])!==null&&i!==void 0?i:"",{width:u,height:d}=ld(),_=fd();return{platform:o,user_agent:a[t(448)]||navigator[t(448)],client_id:a.devId||rn[t(453)]()||"",cpu:a[t(446)]||"",language:f,screen_height:d??0,screen_width:u??0,time_zone:_.timeZone,canvas:sd(),version:a.version||""}};s();l();s();l();ys();(function(e,t){let r=Bt,n=e();for(;[];)try{if(parseInt(r(316))/1+parseInt(r(306))/2+-parseInt(r(314))/3+-parseInt(r(315))/4+parseInt(r(313))/5+-parseInt(r(317))/6+-parseInt(r(307))/7===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fn,333978);function Bt(e,t){let r=Fn();return Bt=function(n,i){return n=n-306,r[n]},Bt(e,t)}var vw=async e=>{let t=Bt,{data:r}=e??{};if(r&&Number(r[t(310)])===0)return r;throw r||{}},Sw=e=>{let t=Bt,{status:r="",data:n}=e??{};throw{status:r,code:r,msg:n?.[t(309)]||""}};function Fn(){let e=["2847838cNVtDR","post","msg","code","catch","then","3320040vbOMLi","37593TsVTTo","1874928XJTkIF","595853qdVcPW","1381686bIaqiG","384990WlaSYy"];return Fn=function(){return e},Fn()}var Ew=async(e,t,r)=>{let n=Bt;return rn[n(308)](e,t,r)[n(311)](i=>Sw(i))[n(312)](i=>vw(i))},cd={post:Ew};(function(e,t){let r=Gn,n=e();for(;[];)try{if(-parseInt(r(377))/1+parseInt(r(373))/2*(-parseInt(r(379))/3)+-parseInt(r(372))/4*(-parseInt(r(381))/5)+parseInt(r(383))/6+-parseInt(r(375))/7+parseInt(r(378))/8*(-parseInt(r(382))/9)+-parseInt(r(376))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hn,869014);function Hn(){let e=["7830294HqiPQM","4pyUZYl","22hCvobA","postRegisterDevice error","1143947cWQTqj","1579910AyVfdQ","408845oIYOIo","1785192cdYdHT","126381uIaZLN","info","4903840vsIbCw","9HuIYrZ"];return Hn=function(){return e},Hn()}function Gn(e,t){let r=Hn();return Gn=function(n,i){return n=n-372,r[n]},Gn(e,t)}var dd=async e=>{let t=2,r=async()=>{let n=Gn;try{await cd.post("https://sentry.coinall.ltd/priapi/v2/tlog/web/google-resource",e)}catch(i){if(t>0){t-=1,await new Promise(o=>{setTimeout(async()=>{o(r())},1e3)});return}throw ue[n(380)](n(374),{error:i}),i}};await r()};s();l();(function(e,t){let r=Kn,n=e();for(;[];)try{if(parseInt(r(283))/1*(-parseInt(r(281))/2)+-parseInt(r(279))/3+-parseInt(r(274))/4*(parseInt(r(275))/5)+-parseInt(r(272))/6+parseInt(r(282))/7+parseInt(r(271))/8+-parseInt(r(270))/9*(-parseInt(r(276))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})($n,987425);function Kn(e,t){let r=$n();return Kn=function(n,i){return n=n-270,r[n]},Kn(e,t)}function $n(){let e=["164GTQrWk","202535HNcTIu","110dWnGTu","info","algorithm","2101821HOLZQi","join","48136HSnusx","4894932akIknn","6BAJehk","SHA-256","from","crypto","subtle","hashMessage error","toString","2880936Igxioo","8117152tQhoPk","10451022KrCxhF","encode"];return $n=function(){return e},$n()}var pd=async(e,t)=>{let r=Kn;var n;try{let i=(n=t?.[r(278)])!==null&&n!==void 0?n:r(284),o=new TextEncoder()[r(273)](e),a=await window[r(286)][r(287)].digest(i,o);return Array[r(285)](new Uint8Array(a)).map(u=>u[r(289)](16).padStart(2,"0"))[r(280)]("")}catch(i){throw ue[r(277)](r(288),{error:i}),i}};s();l();se();(function(e,t){let r=Yn,n=e();for(;[];)try{if(-parseInt(r(380))/1+-parseInt(r(374))/2+parseInt(r(377))/3+parseInt(r(375))/4+parseInt(r(373))/5*(-parseInt(r(381))/6)+parseInt(r(371))/7+-parseInt(r(379))/8*(-parseInt(r(376))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vn,228691);function Vn(){let e=["754955YAqawN","851432TLKwmN","1750804oowVve","9jleKlD","279324IhGYvN","nav","6043304oKSCZR","343465MIOvew","18nQihXB","1152361McACbw","init"];return Vn=function(){return e},Vn()}function Yn(e,t){let r=Vn();return Yn=function(n,i){return n=n-371,r[n]},Yn(e,t)}var So=()=>{let e=Yn;return ls[e(372)]({project:e(378)})};(function(e,t){let r=Jn,n=e();for(;[];)try{if(-parseInt(r(305))/1*(parseInt(r(309))/2)+-parseInt(r(312))/3+parseInt(r(299))/4+parseInt(r(317))/5+-parseInt(r(301))/6+-parseInt(r(311))/7*(parseInt(r(315))/8)+parseInt(r(308))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(zn,326013);function zn(){let e=["registerExtensionDevice invalid platform: ","info","152bUcmdz","overrides","986990GFKPVC","EXTENSION","stringify","prevHash","1874588SHlKOr","registerExtensionDevice ","946986PDmCfJ","BROWSER","platform","set","1xrznLT","get","WEBVIEW","10593720fkPWtm","437546oiBhxX","includes","231826PMSDAl","1533798rRylbv"];return zn=function(){return e},zn()}function Jn(e,t){let r=zn();return Jn=function(n,i){return n=n-297,r[n]},Jn(e,t)}var hd=async e=>{let t=Jn;var r;let n=e?.[t(303)]||Ce[t(302)],i=(r=e?.[t(316)])!==null&&r!==void 0?r:{};if(![Ce[t(318)],Ce.TG,Ce[t(307)]][t(310)](n)){ue[t(314)](t(313)+n);return}try{let a=await ud({platform:n,overrides:i}),f=await(async()=>{let d=t;try{return await pd(JSON[d(297)](a))}catch{return""}})(),u=String(So()[t(306)](t(298)));if(!f||u!==f){let d=await id(a);await dd({...d,version:"v1"})}So()[t(304)](t(298),f)}catch(a){ue.info(t(300)+n,{error:a})}};var md=h(pt());Jr();Jg();async function Tw(){try{let{devid:e}=await Me.get("devid");return e||""}catch{return""}}function Cw(){return new Promise(e=>{try{md.default.system.cpu.getInfo(t=>{e(`${t.archName}:${t.modelName}:${t.numOfProcessors}`)})}catch{e("")}})}async function Iw(e){let t={cpu:await Cw(),devId:await Tw(),version:_s.version};return hd({platform:e,overrides:t}),null}var gd=async()=>Iw(_o.EXTENSION);s();l();var up=h(pt()),cp=h(fp());var Ir=class extends cp.Duplex{constructor(r){super({objectMode:!0});Ze(this,"onMessage",r=>{if(c.Buffer.isBuffer(r)){let n=c.Buffer.from(r);this.push(n)}else this.push(r)});Ze(this,"onDisconnect",()=>{let{lastError:r}=up.default.runtime;r&&typeof this.opts.port=="function"?this.init():this.destroy()});this.opts={port:r},this.init()}init(){this.removePortListener(),this.port=typeof this.opts.port=="function"?this.opts.port():this.opts.port,this.port.onMessage.addListener(this.onMessage),this.port.onDisconnect.addListener(this.onDisconnect)}removePortListener(){this.port&&(this.port.onMessage.removeListener(this.onMessage),this.port.onDisconnect.removeListener(this.onDisconnect))}_read(){}_write(r,n,i){try{if(c.Buffer.isBuffer(r)){let o=r.toJSON();o._isBuffer=!0,this.port.postMessage(o)}else this.port.postMessage(r)}catch{return i(new Error("PortDuplexStream - disconnected"))}return i()}};s();l();var Cp=h(Tp()),Ip=h(Xg());var zo=class{constructor(t){this.connectionStream=t,this.notificationChannel=new Ip.default,this.requests=new Map,this.connectionStream.on("data",this.handleResponse.bind(this)),this.connectionStream.on("end",this.close.bind(this))}onNotification(t){this.notificationChannel.addListener("notification",r=>{t(r)})}close(){this.notificationChannel.removeAllListeners()}handleResponse(t){let{id:r,result:n,error:i,method:o,params:a}=t,f=this.requests.get(r);if(!(o&&a&&r)){if(o&&a&&!r){this.notificationChannel.emit("notification",t);return}if(!!f){if(i){let u=new Cp.EthereumRpcError(i.code,i.message,i.data);u.stack=i.stack,this.requests.delete(r),f(u);return}this.requests.delete(r),typeof f=="function"&&f(null,n)}}}},Kb=e=>{let t=new zo(e);return new Proxy(t,{get:(r,n)=>r[n]?r[n]:(...i)=>{let o=i[i.length-1],a=i.slice(0,-1),f=vs();r.requests.set(f,o),r.connectionStream.write({jsonrpc:"2.0",method:n,params:a,id:f})}})},Ap=Kb;s();l();var Oh=h(Ch()),Mh=h(Ph()),d_=()=>{};function Rh(e){let t=new Oh.default;return(0,Mh.default)(e,t,e,r=>{r&&d_(r)}),t}er();s();l();s();l();var V=h(pt());et();er();var qr=class{reload(){V.default.runtime.reload()}openTab(t){return new Promise((r,n)=>{V.default.tabs.create(t).then(i=>{let o=_e();return o?n(o):r(i)}).catch(i=>{n(i)})})}openWindow(t){return new Promise((r,n)=>{V.default.windows.create(t).then(i=>{let o=_e();return o?n(o):(this.lastOkPopupId=i.id,r(i))}).catch(i=>{n(i)})})}closeWindow(t){return new Promise((r,n)=>{V.default.windows.remove(t).then(()=>{let i=_e();return i?n(i):r()}).catch(i=>{n(i)})})}focusLastOkPopup(){this.lastOkPopupId&&this.getAllWindows().then(t=>{t.some(r=>r.id===this.lastOkPopupId)?this.focusWindow(this.lastOkPopupId):this.lastOkPopupId=""}).catch(()=>{})}async focusCurrentWindow(){let r=(await this.currentTab())?.windowId;await this.focusWindow(r)}focusWindow(t){return new Promise((r,n)=>{V.default.windows.update(t,{focused:!0}).then(()=>{let i=_e();return i?n(i):r()}).catch(i=>{n(i)})})}updateWindowPosition(t,r,n){return new Promise((i,o)=>{V.default.windows.update(t,{left:r,top:n}).then(()=>{let a=_e();return a?o(a):i()}).catch(a=>{o(a)})})}getLastFocusedWindow(t){return new Promise((r,n)=>{V.default.windows.getLastFocused(t).then(i=>{let o=_e();return o?n(o):r(i)}).catch(i=>{n(i)})})}closeCurrentWindow(){return V.default?.windows?.getCurrent?V.default.windows.getCurrent().then(t=>V.default.windows.remove(t.id)):Promise.resolve()}getVersion(){return V.default.runtime.getManifest().version}openExtensionInBrowser(t=null,r=null){let n=V.default.runtime.getURL("/home.html");r&&(n+=`?${r}`),t&&(n+=`#${t}`),this.openTab({url:n}),ve()!==qi&&window.close()}async openExtensionInPopup(t=null,r=null,n=!0){let i=V.default.runtime.getURL("/notification.html");r&&(i+=`?${r}`),t&&(i+=`#${t}`);let o=0,a=0;try{let u=await this.getLastFocusedWindow();a=u.top,o=Math.max(u.left+(u.width-360),0)}catch{let{screenX:d,screenY:_,outerWidth:m}=window;a=Math.max(_,0),o=Math.max(d+(m-360),0)}let f=await Es();this.openWindow({url:i,type:"popup",width:f?.width||360,height:700,top:a,left:o}),ve()!==qi&&n&&window.close()}getPlatformInfo(){return new Promise((t,r)=>{try{V.default.runtime.getPlatformInfo().then(n=>{t(n)}).catch(n=>{r(n)})}catch(n){r(n)}})}getAllWindows(){return new Promise((t,r)=>{V.default.windows.getAll().then(n=>{let i=_e();return i?r(i):t(n)}).catch(n=>{r(n)})})}getActiveTabs(){return new Promise((t,r)=>{V.default.tabs.query({active:!0}).then(n=>{let i=_e();return i?r(i):t(n)}).catch(n=>{r(n)})})}currentTab(){return new Promise((t,r)=>{V.default.tabs.getCurrent().then(n=>{let i=_e();i?r(i):t(n)}).catch(n=>{r(n)})})}closeTab(t){return new Promise((r,n)=>{V.default.tabs.remove(t).then(()=>{let i=_e();i?n(i):r()}).catch(i=>{n(i)})})}getCpuInfoName(){return new Promise((t,r)=>{try{V.default.system.cpu.getInfo(n=>{t(n.modelName)})}catch(n){r(n)}})}setPanelBehavior(t){return new Promise((r,n)=>{try{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:t}),r()}catch(i){n(i)}})}setSidepanelPath(t){return new Promise((r,n)=>{t?chrome.sidePanel.setOptions({path:t},()=>{r()}):n()})}openSidepanelWithWindowId(t){return new Promise((r,n)=>{t?chrome.sidePanel.open({windowId:t},()=>{r()}):n()})}async openSidepanel(t){let n=(await this.getLastFocusedWindow())?.id;t&&await this.setSidepanelPath(`sidepanel.html#${t}`),await this.openSidepanelWithWindowId(n),t&&await this.setSidepanelPath("sidepanel.html")}};var kh=qr;et();s();l();s();l();var Hg=h(R());Tt();var Gg=h(bs()),Kg=h(Qg()),Ri=h(pt());se();s();l();var Dh="SET_ACTIVE_TAB";function ba(e={},t){let r={...e};switch(t.type){case Dh:return t.value;default:return r}}function Nh(e){return{type:Dh,value:e}}s();l();Tt();Jr();var Lh=async()=>{try{let{authMap:e}=await Me.get("authMap"),{data:t}=await Me.get("data"),r=es(t,"TransactionController.transactions");return{authMap:e,evmTransactions:r}}catch{return{}}};ll();s();l();var wi=h(Js());tx();s();l();ir();or();Zt();s();l();function xi(e){return typeof e=="string"?e:typeof e>"u"?"Undefined error":e instanceof DOMException?`Error Name: ${e.name}, Message: ${e.message}, Code: ${e.code}`:`Error Object: ${JSON.stringify(e,["message","arguments","type","name"])}`}var p_=Ne({name:"balanceSlice",initialState:{balanceMap:{}},reducers:{setBalance:(e,t)=>{e.balanceMap=t.payload}}}),{actions:h_,reducer:m_}=p_;function Bh(e){ye.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:e}]},level:"error"})}var Wh=()=>async e=>{(await At.balance).liveQuery().subscribe((r,n)=>{if(n)Bh(`subscribe balance error, ${xi(n)}`),je().fallbackBalancesData();else{if(!r||r.filter?.(o=>!o).length>0){Bh(`subscribe balance null, ${JSON.stringify(r)}`),je().fallbackBalancesData();return}let i=r.reduce((o,a)=>(o[a.walletId]=a,o),{});e(h_.setBalance(i))}})},qh=m_;s();l();ir();or();Zt();var g_=Ne({name:"coins",initialState:{coinsMap:{},ready:!1},reducers:{updateCoinsMap(e,t){e.coinsMap=t.payload,e.ready=!0}}}),{actions:x_,reducer:w_}=g_,{updateCoinsMap:b_}=x_;var Uh=()=>async e=>{(await At.common_coins).liveQuery().subscribe(async(r,n)=>{if(n)ye.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:`subscribe coins error, ${xi(n)}`}]},level:"error"}),je().fallbackAllCoinsMap();else{r.sort((o,a)=>o.rank-a.rank);let i=r.reduce((o,a)=>(o[String(a.coinId)]=a,o),{});e(b_(i))}})},jh=w_;s();l();var Qh=h(Js());s();l();ex();function ya(e={},t){let r={shouldClose:!1,modal:{open:!1,modalState:{name:null,props:{}},previousModalState:{name:null}},sidebar:{transitionName:"",type:"",props:{}},accountDetail:{subview:"transactions"},isLoading:!1,warning:null,requestAccountTabs:{},currentWindowTab:{},showSupportedChainsFlag:!1,...e};switch(t.type){case Ns:return{...r,forgottenPassword:t.value};case Ws:return{...r,warning:null};case js:return{...r,isLoading:!1,warning:null,scrollToBottom:!1,forgottenPassword:!1};case Fs:return{...r,txId:t.id,warning:null,isLoading:!1};case Hs:return t.value.unconfirmedActionsCount>0?{...r,txId:null,warning:null}:{...r,shouldClose:!0,warning:null,txId:null,accountDetail:{subview:"transactions"}};case Gs:return{...r};case Ls:return{...r,warning:t.value||"Incorrect password. Try again."};case Bs:return{...r,warning:""};case Ks:return{...r,isLoading:!0,loadingMessage:t.value};case $s:return{...r,isLoading:!1};case qs:return{...r,warning:t.value,isLoading:!1};case Us:return{...r,warning:void 0};case Vs:return{...r,requestAccountTabs:t.value};case Ys:return{...r,currentWindowTab:t.value};case zs:return{...r,showSupportedChainsFlag:t.value};default:return r}}s();l();s();l();ir();var Fh={solana:{replacedTxs:[],signInfo:null},evm:{signInfo:null}},y_=Ne({name:"sendGiftBusiness",initialState:Fh,reducers:{setSolanaReplacedTxs:(e,t)=>{e.solana.replacedTxs=t.payload},setSolanaSignInfo:(e,t)=>{e.solana.signInfo=t.payload},setEvmSendGiftSignInfo:(e,t)=>{e.evm.signInfo=t.payload},resetSendGiftBusiness:e=>{Object.assign(e,Fh)}}}),{actions:__,reducer:v_}=y_,Hh=v_;var{setSolanaReplacedTxs:KC,setSolanaSignInfo:$C,setEvmSendGiftSignInfo:VC,resetSendGiftBusiness:YC}=__;s();l();ir();var Gh={key:"",args:{},type:""},lt={selectedCoinId:null,assetTokensList:[],packageMetaInfo:{},sendGiftAmount:null,quantityAmount:null,bestWishesInput:"",fee:null,feeLoading:!1,feeError:!1,claimConditions:{},calldataInfo:null,refreshCalldataInfo:0,isMax:!1,amountPageError:Gh,confirmPageError:Gh,savedTxInfo:null,hideAmountPageConfirmButton:!1},S_=Ne({name:"sendGift",initialState:lt,reducers:{setSelectedCoinId:(e,t)=>{e.selectedCoinId=t.payload},setAssetTokensList:(e,t)=>{e.assetTokensList=t.payload},setSendGiftAmount:(e,t)=>{e.sendGiftAmount=t.payload},setQuantityAmount:(e,t)=>{e.quantityAmount=t.payload},setBestWishesInput:(e,t)=>{e.bestWishesInput=t.payload},setSendGiftFee:(e,t)=>{e.fee=t.payload},setSendGiftFeeLoading:(e,t)=>{e.feeLoading=t.payload},setSendGiftFeeError:(e,t)=>{e.feeError=t.payload},setPackageMetaInfo:(e,t)=>{e.packageMetaInfo=t.payload},setClaimConditions:(e,t)=>{e.claimConditions=t.payload},setIsSendGiftMax:(e,t)=>{e.isMax=t.payload},setCalldataInfo:(e,t)=>{e.calldataInfo=t.payload},setRefreshCalldataInfo:e=>{e.refreshCalldataInfo=+new Date},setSendGiftAmountPageError:(e,t)=>{e.amountPageError=t.payload},setSendGiftConfirmPageError:(e,t)=>{e.confirmPageError=t.payload},setSavedTxInfo:(e,t)=>{e.savedTxInfo=t.payload},setHideAmountPageConfirmButton:(e,t)=>{e.hideAmountPageConfirmButton=t.payload},resetByCoinChanged:e=>{e.sendGiftAmount=lt.sendGiftAmount,e.fee=lt.fee,e.feeError=lt.feeError,e.isMax=lt.isMax,e.amountPageError=lt.amountPageError,e.confirmPageError=lt.confirmPageError},resetSendGift:e=>{Object.assign(e,lt)}}}),{actions:E_,reducer:T_}=S_,Kh=T_;var{setSelectedCoinId:QC,setAssetTokensList:eI,setSendGiftAmount:tI,setQuantityAmount:rI,setBestWishesInput:nI,setSendGiftFee:iI,setSendGiftFeeLoading:oI,setSendGiftFeeError:aI,setPackageMetaInfo:sI,setClaimConditions:lI,setIsSendGiftMax:fI,setCalldataInfo:uI,setRefreshCalldataInfo:cI,setSendGiftAmountPageError:dI,setSendGiftConfirmPageError:pI,setSavedTxInfo:hI,setHideAmountPageConfirmButton:mI,resetByCoinChanged:gI,resetSendGift:xI}=E_;var C_={sendGift:Kh,sendGiftBusiness:Hh},$h=C_;s();l();ir();var I_={mostRecentOverviewPage:me},A_="history",P_=Ne({name:A_,initialState:I_,reducers:{pageChanged:(e,t)=>{let r=t.payload;(r===me||r.startsWith(un))&&(e.mostRecentOverviewPage=r)}}}),{actions:O_,reducer:M_}=P_,Vh=M_;var{pageChanged:Yh}=O_;rx();s();l();s();l();var zh={[lu]:fu};s();l();var Jh={[uu]:cu,[du]:pu,[hu]:mu,[gu]:xu};var Xh={...zh,...Jh};s();l();var R_="metamask/send/OPEN_TO_DROPDOWN",k_="metamask/send/CLOSE_TO_DROPDOWN",D_="metamask/send/UPDATE_SEND_ERRORS",N_="metamask/send/RESET_SEND_STATE",L_="metamask/send/SHOW_GAS_BUTTON_GROUP",B_="metamask/send/HIDE_GAS_BUTTON_GROUP",Zh={toDropdownOpen:!1,gasButtonGroupShown:!0,errors:{}};function _a(e=Zh,t){switch(t.type){case R_:return{...e,toDropdownOpen:!0};case k_:return{...e,toDropdownOpen:!1};case D_:return{...e,errors:{...e.errors,...t.value}};case L_:return{...e,gasButtonGroupShown:!0};case B_:return{...e,gasButtonGroupShown:!1};case N_:return{...Zh};default:return e}}s();l();var em=(0,Qh.combineReducers)({activeTab:ba,metamask:zf,appState:ya,history:Vh,send:_a,nftSend:su,newDapp:Tl,localeMessages:Gf,importAccount:Hf,coinDetail:vl,txHistory:wu,balanceSlice:qh,currencySlice:El,networksSlice:ml,providerSlice:Xf,coins:jh,assetsSlice:dl,Nft:au,addressBookState:xl,batchTransfer:yl,batchAddAccount:wl,batchImportPrivateKey:bl,bulkRename:_l,commonSend:Yi,walletConfig:nu,businessSend:zi,...Xh,activityBanners:gl,keyring:Zs,...$h});function va(e){return(0,wi.createStore)(em,e,(0,wi.applyMiddleware)(Xs))}var tm=()=>e=>{e(hl()),e(Jf()),e(Uh()),e(Wh()),e(cl())};s();l();if((process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"||process.env.ASSETS_BUILD_TYPE==="prepub")&&localStorage.getItem("speedUp")){let t=window.setInterval;window.setInterval=function(r,n,...i){let o=n>=1e3?n/100:n;return t(r,o,...i)}}s();l();er();et();s();l();var Yt=window.history,W_=Yt.pushState,q_=Yt.replaceState,Sa=new Event("locationChange");Yt.pushState=(...e)=>{let t=W_.apply(Yt,e);return window.dispatchEvent(Sa),t};Yt.replaceState=(...e)=>{let t=q_.apply(Yt,e);return window.dispatchEvent(Sa),t};window.addEventListener("popstate",()=>{window.dispatchEvent(Sa)});function Ea(e=""){return e.replace(/^#/,"")}function rm(e){window.addEventListener("locationChange",()=>{e(Ea(window.location.hash))})}s();l();var U_=[/^(\/wallet-add\/import-with-seed-phrase-and-private-key)/,/^(\/batch-import-private-key\/edit)/,/^(\/wallet\/mnemonic\/backup)/,/^(\/wallet\/mnemonic-privateKey)/,/^(\/wallet\/account\/privateKey)/,/^(\/reset-password)/];function bi(e,t=U_){for(let n=0;n<t.length;n++){let i=t[n];if(typeof i=="string"&&e.endsWith(i)||typeof i!="string"&&i.test(e))return!0}return!1}function j_(){let e=ve();return e===Qr?1:e===us?2:e===en?3:0}var im=j_(),Ta="lastPageDetentionTimeParams",om=bu(),ft,Xe,Ca="";async function F_(){let e=window.localStorage.getItem(Ta);if(window.localStorage.removeItem(Ta),e)try{await Ji(JSON.parse(e))}catch{console.log("Failed to report last page detention time")}let t=window.location.hash;t&&t!==me&&(ft=new Date,Xe=Ea(t))}function nm(){if(!ft||!Xe||!bi(Xe))return;let e=new Date,t={s:om,u:Xe,r:Ca,d:e.getTime()-ft.getTime(),p:im,e:ft.toLocaleString(),l:e.toLocaleString()};window.localStorage.setItem(Ta,JSON.stringify(t))}function H_(e){if(e===me)return;let t=new Date;Xe&&ft&&bi(Xe)&&Ji({s:om,u:Xe,r:Ca,d:t.getTime()-ft.getTime(),p:im,e:ft.toLocaleString(),l:t.toLocaleString()}),ft=t,Ca=Xe||"",Xe=e}rm(H_),F_(),window.addEventListener("beforeunload",nm),window.onblur=nm;s();l();var he=h(R()),Ja=h(le()),Wg=h(Ee()),qg=h(tr());se();Zt();s();l();var Ur=h(R());se();s();l();var Ia={"error-page":"_error-page_1qj8r_1",errorPage:"_error-page_1qj8r_1","error-page-details":"_error-page-details_1qj8r_13",errorPageDetails:"_error-page-details_1qj8r_13"};var G_=()=>{let e=nn(),t=De.State.getImgMap(e),r=`${mn()}${t[De.State.TYPE.noNetwork]}`;return Ur.default.createElement("div",{className:Ia.errorPage},Ur.default.createElement("div",{className:Ia.errorPageDetails},Ur.default.createElement(De.State,{type:De.State.TYPE.noNetwork,title:M("wallet_extension_tg_empty_title_load_failed"),description:M("wallet_extension_tg_empty_desc_load_failed"),imgSrc:r,renderButton:()=>Ur.default.createElement(ke,{category:ke.CATEGORY.fill,type:ke.TYPE.primary,size:ke.SIZE.s,onClick:()=>{window.location.href=window.location.pathname}},M("wallet_extension_tg_empty_btn_load_failed"))})))},am=G_;s();l();var Ae=h(R()),yi=h(le()),lm=h(tr());se();Wi();var Aa={fetchConfig:{project:"okx_extension_wallet",site:"okx"}};var Pa=0,$_=1,Oa=null;function fm(){return e=>(Aa.fetchConfig.locale=e.locale,Ae.default.createElement(fs,{localeData:e.localeData,isDev:!0,noRemoteData:!0,fetchConfig:Aa.fetchConfig},e.children))}var V_=fm(),Y_=fm(),z_=process.env.ASSETS_BUILD_TYPE===Ue.DEV||process.env.ASSETS_BUILD_TYPE===Ue.DAILY,sm=(0,Ae.createContext)(e=>`[${e}]`),jr=e=>{let t=window.localStorage.getItem("languageKeyMode"),r=z_&&t==="multilingualMode",n=(0,yi.useSelector)(pn),i=Vf(n),o=(0,yi.useSelector)(Kf),a=(0,yi.useSelector)($f),f=(0,Ae.useMemo)(()=>(Yf(n,window),Oa=Oa===Pa?$_:Pa,Object.keys(o).reduce((u,d)=>{let _=o[d].message;return u[d]=r?`${_}${_}${_}`:_,u},{})),[i,o,r]);return(0,Ae.useMemo)(()=>{rr.setConfig({frozenScroll:!1,localeProviderProps:{fetchConfig:{noFetch:!0},isDev:!0,localeData:a}})},[n]),Oa===Pa?Ae.default.createElement(V_,{localeData:f,locale:i},Ae.default.createElement(sm.Provider,{value:X},e.children)):Ae.default.createElement(Y_,{localeData:f,locale:i},Ae.default.createElement(sm.Provider,{value:X},e.children))};jr.propTypes={children:lm.default.node};jr.defaultProps={children:void 0};s();l();s();l();var Z=h(R());var um=h(Ts()),Ma=h(tr()),cm=h(pt());se();Hi();er();et();$i();an();or();var Fr=class extends Z.PureComponent{constructor(){super(...arguments);Ze(this,"state",{downloadUrl:!1})}renderErrorDetail(r){return Z.default.createElement("li",null,Z.default.createElement("p",null,r))}renderErrorStack(r,n){return Z.default.createElement("li",null,Z.default.createElement("span",null,r),Z.default.createElement("pre",{className:"error-page__stack"},n))}componentDidMount(){on(It.getExtensionVersion).then(({data:r})=>{let n=tt(),i=cm.default.runtime.getManifest().version;if(n===cs&&r.edge!==i){this.setState({downloadUrl:"https://microsoftedge.microsoft.com/addons/detail/pbpjkcldjiffchgbbndmhojiacbgflha"});return}r.chrome!==i&&this.setState({downloadUrl:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge?hl=zh-CN"})}).catch(r=>{console.log(r)})}render(){let{error:r}=this.props,{downloadUrl:n}=this.state,o=ve()===Zr?M("wallet_home_subtitle_errortip_error_popup_message"):M("wallet_home_subtitle_errortip_errorpage_message"),a=nn(),f=De.State.getImgMap(a),u=`${mn()}${f[De.State.TYPE.systemError]}`;return Z.default.createElement("div",{className:"error-page"},Z.default.createElement("div",{className:"error-page__header"},M("wallet_home_maintitle_errortip_error_page_title"),window.location.hash&&Z.default.createElement(fe,{className:"okx-wallet-plugin-close error-page__right",onClick:async()=>{await je().clearDappData(),window.location.href=window.location.pathname}})),Z.default.createElement("div",{className:"error-page__details"},Z.default.createElement(De.State,{type:De.State.TYPE.systemError,title:n?M("extension_wallet_mid_text_update_latest_version"):o,imgSrc:u,renderButton:()=>Z.default.createElement(ke,{category:ke.CATEGORY.fill,type:ke.TYPE.primary,size:ke.SIZE.s,onClick:()=>{globalThis.platform.openTab({url:n})}},M("extension_wallet_mid_btn_goto_store")," ")}),Z.default.createElement(Cs,{className:"error-page__accordion",titleClass:"error-page__accordion-title",customHeaderIcon:d=>Z.default.createElement(fe,{icon:"okds-arrow-chevron-down-md",size:fe.SIZE.xs,className:(0,um.default)("error-page__icon",{"okui-accordion-header-icon-expanded":d})}),title:M("wallet_home_subtitle_errortip_errordetail"),onToggle:d=>{this.setState({expand:d})}}),this.state.expand?Z.default.createElement("ul",{className:"error-page__list"},r.message?this.renderErrorDetail(M("wallet_home_subtitle_errortip_errormessage",{errorMessage:r.message})):null,r.code?this.renderErrorDetail(M("wallet_home_subtitle_errortip_errorcode",{errorCode:r.code})):null,r.name?this.renderErrorDetail(M("wallet_home_subtitle_errortip_errorname",{errorName:r.name})):null,r.stack?this.renderErrorStack(M("wallet_home_subtitle_errortip_error_stack"),r.stack):null):null))}};Fr.contextTypes={t:Ma.default.func.isRequired};Fr.propTypes={error:Ma.default.object.isRequired};var Ra=Fr;s();l();var vt=h(R()),dt=h(le()),Dg=h(Ee()),Ng=h(gn()),Lg=h(Ts());Tt();se();s();l();var J_=document.documentElement,X_={en:"en",zh_CN:"zh-hans",zh_TW:"zh-hant",fr:"fr",ru:"ru",vi:"vi",id:"id",tr:"tr",de:"de",it:"it",pl:"pl",en_IN:"en-in",pt_BR:"pt",pt_PT:"pt-pt",es:"es-es",es_419:"es",cs:"cs",ro:"ro",uk:"uk",ar_EH:"ar"},Z_=e=>{J_.setAttribute("lang",X_[e])},dm=Z_;s();l();s();l();var pm=h(R()),hm=h(Ee());Tt();Hi();et();var Q_=()=>{let e=(0,hm.useHistory)();(0,pm.useEffect)(()=>{if(tt()!==tn)return Re;if(!ht.isSupported())return Re;let r=()=>{e.push(cn)};return ht.mount(),ht.onClick(r),ht.show(),()=>{ht.hide(),ht.offClick(r)}},[e])},mm=Q_;s();l();var gm=h(R());Tt();Hi();et();var ev=e=>{let t=e?"#000000":"#ffffff";try{nt.setBackgroundColor.isSupported()&&nt.setBackgroundColor(t),nt.setHeaderColor.isSupported()&&nt.setHeaderColor(t),nt.setBottomBarColor.isSupported()&&nt.setBottomBarColor(t)}catch{}},tv=()=>{let e=_u(nt.isDark);(0,gm.useEffect)(()=>tt()!==tn?Re:(ev(e),Re),[e])},xm=tv;function ka(){mm(),xm()}$i();Wi();an();s();l();var B=h(R()),vi=h(gn());s();l();s();l();var wm=e=>ge("allowShowComponent",{...Te,componentName:e,location:window.location.href})?.data;var Da=h(R()),_i=({children:e,componentName:t})=>wm(t)?Da.default.createElement(Da.default.Fragment,null,e):null;Jr();var de=h(nx());s();l();var Na={"wallet-helper":"_wallet-helper_4h5lm_1",walletHelper:"_wallet-helper_4h5lm_1","wallet-helper-enter":"_wallet-helper-enter_4h5lm_11",walletHelperEnter:"_wallet-helper-enter_4h5lm_11"};var rv=[{label:de.default.development_environment,value:"http://forked-test2-cat20.defi.swim.env"},{label:de.default.pre_environment,value:"https://beta.okex.org"},{label:de.default.prod_environment,value:"https://wallet.okex.org"}],nv=[{label:de.default.normalMode,value:"normalMode"},{label:de.default.keyMode,value:"keyMode"},{label:de.default.multilingualMode,value:"multilingualMode"}],iv=()=>{let{width:e}=(0,vi.useSize)(document.querySelector("body")),[t,r]=(0,B.useState)("https://beta.okex.org");(0,B.useEffect)(()=>{(async()=>{let{envApiDomain:S}=await Me.get("envApiDomain");S&&r(S)})()},[]);let n=()=>{window.location.reload()},i=window.localStorage,o=i.getItem("languageKeyMode")||"normalMode",a=(0,B.useCallback)(S=>{S==="normalMode"?(i.removeItem("languageKeyMode"),Ct(!1)):S==="keyMode"?(i.setItem("languageKeyMode",S),Ct(!0)):(i.setItem("languageKeyMode",S),Ct(!1)),n()},[o]),f=(0,vi.useUpdate)(),u=()=>{let S=vu()===wn.LIGHT?wn.DARK:wn.LIGHT;Su(S),f()},d=i.getItem("speedUp")||!1,[_,m]=(0,B.useState)(d);(0,B.useEffect)(()=>{m(d)},[d]);let O=(0,B.useCallback)(()=>{d?(i.removeItem("speedUp"),m(!1)):(i.setItem("speedUp",!0),m(!0)),chrome.runtime.reload()},[d]);return B.default.createElement(_i,{componentName:"walletHelper"},B.default.createElement(Xi.Box,{className:Na["wallet-helper"]},B.default.createElement(nr,{description:B.default.createElement(Xi.Space,{space:"8px"},B.default.createElement(fe.IconButton,{icon:"okx-wallet-plugin-slow",tooltip:de.default.select_language_mode,onClick:()=>{Se.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:B.default.createElement(ar,{dataSource:nv,renderItem:({label:S,value:C})=>B.default.createElement(ar.Cell,{title:S,onClick:()=>{a(C)}},o===C&&B.default.createElement(Ki.Circle,{checked:!0}))})})}}),B.default.createElement(fe.IconButton,{icon:"okx-wallet-plugin-fast",tooltip:`${de.default.current_api_environment}${t}`,onClick:()=>{Se.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:B.default.createElement(ar,{dataSource:rv,renderItem:({label:S,value:C})=>B.default.createElement(ar.Cell,{title:S,onClick:async()=>{await Me.set({envApiDomain:C}),n()}},t===C&&B.default.createElement(Ki.Circle,{checked:!0}))})})}}),B.default.createElement(fe.IconButton,{icon:"okx-wallet-plugin-swap",tooltip:de.default.switchRtl,onClick:()=>{let C=document.documentElement.getAttribute("dir");xn(C==="rtl"?void 0:"rtl")}}),e>360&&B.default.createElement(fe.IconButton,{icon:"okx-wallet-plugin-switch",tooltip:de.default.fullscreenMode,onClick:()=>{let S=document.querySelector("#app");["notification","popup"].includes(S.className)?S.className="fullscreen":S.className="popup"}}),B.default.createElement(fe.IconButton,{style:{color:_?"orange":"unset"},icon:"okx-wallet-plugin-coin-quick-withdraw",tooltip:de.default.accelerateSetInterval,onClick:O}),B.default.createElement(fe.IconButton,{icon:"okx-wallet-plugin-swap-1",tooltip:de.default.theme,onClick:()=>{u()}})),trigger:nr.TRIGGER.click,placement:document.documentElement.getAttribute("dir")==="rtl"?nr.DIRECTION.topLeft:nr.DIRECTION.topRight,autoHeight:{marginBottom:50},smartMode:!1},B.default.createElement(fe,{bordered:!0,size:fe.SIZE.lg,className:Na["wallet-helper-enter"],icon:"okx-wallet-plugin-wrenches"}))))},bm=iv;s();l();s();l();var ct=h(R());s();l();var Hr=h(R());s();l();var La={url:"https://beta.okex.org/pisces",name:"pisces>>"};ji();s();l();var Ba={noRadius:"_noRadius_e5d59_1",scale:"_scale_e5d59_15"};var ym=()=>Hr.default.createElement(_i,{componentName:"EnvAlert"},Hr.default.createElement(Is,{className:Ba.noRadius,type:"warn",showIcon:!1,title:Hr.default.createElement("div",{className:Ba.scale},`${process.env.ASSETS_BUILD_TYPE}-${process.env.COMMIT_HASH}, API: ${ms()} WSS: ${xs()} STATIC: ${Qt()}`,Hr.default.createElement("a",{href:La.url},La.name)),closable:!1}));s();l();var Si=h(R()),_m=h(gn()),Gr=h(le());var Ei=h(Ee());function ov(e){return e}var vm=()=>{let e=(0,Gr.useSelector)(ov),t=(0,_m.useLatest)(e),r=(0,Ei.useHistory)(),n=(0,Gr.useSelector)(Ot),i=(0,Gr.useSelector)(rt),o=(0,Gr.useSelector)(Au),a=(0,Si.useRef)(o),u=(0,Ei.useLocation)()?.pathname;return(0,Si.useEffect)(()=>{if(o!==a.current){if(n&&i&&![me,ln].includes(u)){let d=t.current,_={isRpcMode:iu(d)?.isRpcMode,permissionsRequestId:Cu(d),isNotBackup:ru(d),lastOptType:Iu(d)},m=Ru(_);m&&r.replace(m)}a.current=o}},[u,o,n,i]),null};ll();var Oi=h(le());s();l();s();l();var g=h(R());s();l();var Tm=h(R()),ee=h(tr()),av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},lv=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),fv=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},uv=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},Wa=(typeof window>"u"||typeof window>"u"?"undefined":av(window))==="object",cv=Wa?document:{},dv=["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],qa=function(e){function t(r){sv(this,t);var n=uv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(n.state={idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null},n.tId=null,n._handleEvent=function(i){var o=n.state,a=o.remaining,f=o.pageX,u=o.pageY,d=o.idle,_=n.props,m=_.timeout,O=_.onAction,S=_.debounce,C=_.throttle,p=_.stopOnIdle;if(S>0?n.debouncedAction(i):C>0?n.throttledAction(i):O(i),!a){if(i.type==="mousemove"&&(i.pageX===f&&i.pageY===u||i.pageX===void 0&&i.pageY===void 0||n.getElapsedTime()<200))return;clearTimeout(n.tId),n.tId=null,d&&!p&&n.toggleIdleState(i),n.setState({lastActive:+new Date,pageX:i.pageX,pageY:i.pageY}),d&&p||(n.tId=setTimeout(n.toggleIdleState,m))}},r.debounce>0&&r.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return r.debounce>0&&(n.debouncedAction=Sm(r.onAction,r.debounce)),r.throttle>0&&(n.throttledAction=Em(r.onAction,r.throttle)),r.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(n),n.reset=n._reset.bind(n),n.pause=n._pause.bind(n),n.resume=n._resume.bind(n),n.getRemainingTime=n._getRemainingTime.bind(n),n.getElapsedTime=n._getElapsedTime.bind(n),n.getLastActiveTime=n._getLastActiveTime.bind(n),n.isIdle=n._isIdle.bind(n),n}return fv(t,Tm.Component),lv(t,[{key:"componentWillMount",value:function(){this._bindEvents()}},{key:"componentDidMount",value:function(){this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(r){r.debounce!==this.props.debounce&&(this.debouncedAction=Sm(this.props.onAction,this.props.debounce)),r.throttle!==this.props.throttle&&(this.throttledAction=Em(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var r=this;if(Wa){var n=this.state.eventsBound,i=this.props,o=i.element,a=i.events,f=i.passive,u=i.capture;n||(a.forEach(function(d){o.addEventListener(d,r._handleEvent,{capture:u,passive:f})}),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var r=this;if(Wa){var n=this.props,i=n.element,o=n.events,a=n.passive,f=n.capture;this.state.eventsBound&&(o.forEach(function(u){i.removeEventListener(u,r._handleEvent,{capture:f,passive:a})}),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(r){var n=this,i=this.state.idle,o=this.props,a=o.onActive,f=o.onIdle,u=o.stopOnIdle;this.setState({idle:!i},function(){i?u||(n._bindEvents(),a(r)):(u&&(clearTimeout(n.tId),n.tId=null,n._unbindEvents()),f(r))})}},{key:"_reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:this.state.oldDate,remaining:null});var r=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,r)}},{key:"_pause",value:function(){this.state.remaining===null&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"_resume",value:function(){var r=this.state,n=r.remaining,i=r.idle;n!==null&&(this._bindEvents(),i||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,n)))}},{key:"_getRemainingTime",value:function(){var r=this.state,n=r.remaining,i=r.idle,o=r.lastActive;if(i)return 0;if(n!==null)return n;var a=this.props.timeout-(+new Date-o);return a<0&&(a=0),a}},{key:"_getElapsedTime",value:function(){var r=this.state.oldDate;return+new Date-r}},{key:"_getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}();function Sm(e,t){var r=void 0;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];r&&clearTimeout(r),r=setTimeout(function(){e.apply(void 0,i),r=null},t)}}function Em(e,t){var r=0;return function(){var n=new Date().getTime();if(!(n-r<t))return r=n,e.apply(void 0,arguments)}}qa.propTypes={timeout:ee.default.number,events:ee.default.arrayOf(ee.default.string),onIdle:ee.default.func,onActive:ee.default.func,onAction:ee.default.func,debounce:ee.default.number,throttle:ee.default.number,element:ee.default.oneOfType([ee.default.object,ee.default.element]),startOnMount:ee.default.bool,stopOnIdle:ee.default.bool,passive:ee.default.bool,capture:ee.default.bool},qa.defaultProps={timeout:12e5,element:cv,events:dv,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0};var Cm=qa;var pe=h(Ee());s();l();var oe=h(R()),Pm=h(le()),Om=h(Ee());se();s();l();var Ti=h(R()),Im=()=>{let[e,t]=(0,Ti.useState)(0);return(0,Ti.useEffect)(()=>{function r(){let n=window.visualViewport?.height<window?.innerHeight?window?.innerHeight-window.visualViewport?.height:0;t(n)}return window?.visualViewport?.addEventListener("resize",r),()=>{window?.visualViewport?.removeEventListener("resize",r)}},[]),{keyboardHeight:e}};or();s();l();var Ci=h(R()),Am=h(Ee()),ut=({preload:e=[],...t})=>((0,Ci.useEffect)(()=>{e.forEach(r=>{typeof r=="function"&&r()})},[e]),Ci.default.createElement(Am.Route,{...t}));et();s();l();var Ua={dialog:"_dialog_18vnm_1",mask:"_mask_18vnm_6"};function pv(e){return e.metamask.passwordModal}var ja=e=>{let[t,r]=(0,oe.useState)(!1),n=(0,Pm.useSelector)(pv),[i]=Lu(Nu.passwordType),o=As.useForm(),a=(0,Om.useLocation)(),{onSubmit:f}=Hu({form:o}),u=(0,oe.useCallback)(async()=>{await je().rejectPassword(),r(!1)},[]);(0,oe.useEffect)(()=>{r(!!n)},[n]),(0,oe.useEffect)(()=>()=>{t&&u()},[a]);let{keyboardHeight:d}=Im(),_=()=>n?t&&i===2&&n?.modalType===Ui.default?oe.default.createElement(Bu,{onPass:async m=>{o.setFieldsValue({password:m}),await f()},onCancel:u,noContent:!0}):oe.default.createElement(Se,{onClose:u,visible:t,title:n?.modalType===Ui.default?M("wallet_extension_tg_enter_password"):"",noMargin:!0,alignBottom:!0,maskClosable:!0,noTopRadius:!1,windowStyle:{padding:"0",overflow:"hidden",bottom:`${d}px`,height:`${600-d}px`,touchAction:"none"},zIndex:40001,className:Ua.dialog,scrollBoxClassName:Ua.mask,transitionProps:{type:"slide",placement:"bottom",timeout:300}},oe.default.createElement(Gu,{passwordModal:n})):null;return oe.default.createElement(oe.default.Fragment,null,oe.default.createElement(ut,{...e}),_())};s();l();var W=h(R()),$r=h(le()),Vr=h(Ee()),Ga=h(tr()),Ka=h(pt());se();Zt();s();l();var Mm=(e,t)=>{if(t&&t.includes("{")&&!t.includes("first")){let n=/\{(.+?)\}/gi,i={};return t.match(n).forEach((o,a)=>{let f=o.replace("{","").replace("}","");i[`${f}`]=e[a]}),i}let r=["first","second","third","fourth"];return e.filter((n,i)=>i in r).reduce((n,i,o)=>(n[r[o]]=i,n),{})};s();l();var Rm=()=>{let e=ge("lockPage",{...Te,location:window.location.href});return e?e.data:null};s();l();var km=h(R());Jr();var Dm=()=>{let e=ge("changeLocalStorage",{...Te,location:window.location.href});(0,km.useEffect)(()=>{e&&(e?.data?.windowLocalStorage&&Object.keys(e?.data.windowLocalStorage).forEach(t=>{window.localStorage.setItem(t,e?.data?.windowLocalStorage[t])}),e?.data?.localStorage&&Object.keys(e?.data.localStorage).forEach(t=>{t==="data"||t==="apiDomain"||t==="envApiDomain"||t==="staticDomain"||Me.set({[t]:e?.data?.localStorage[t]})}))},[e])};s();l();var Nm=h(R());var Lm=()=>{let e=ge("resetExtension",{...Te,location:window.location.href});return(0,Nm.useMemo)(()=>{if(e){if(!e.data?.needReload)return!1;let r=window.localStorage.getItem("extensionReload");return!r||r!=e?.data.time?e.data.time:!1}return!1},[e])};s();l();var Bm=h(R());ji();var Wm=()=>{let e=ge("staticDomain");(0,Bm.useEffect)(()=>{window.okGlobal||(window.okGlobal={}),e?(window.okGlobal.cdnBaseUrl=`https://${Qt()}`,window.okGlobal.cdnDomainMap=e.data):(window.okGlobal.cdnBaseUrl=`https://${Qt()}`,window.okGlobal.cdnDomainMap={default:"https://static.okx.com",CN:"https://static.coinall.ltd",RU:"https://static.okx.cab",ID:"https://static.okx.cab"})},[e])};s();l();var qm=h(R());var Um=()=>{let e=ge("versionExtensionUpdate",{...Te,location:window.location.href});return(0,qm.useMemo)(()=>{if(e){if(!e.data?.needUpdate)return!1;let r=window.localStorage.getItem("versionExtensionUpdate");if(r&&r===e?.data.version&&!e.data?.repeat)return!1;if(Te.version!==e.data.version)return{version:e?.data.version,repeat:e.data?.repeat}}return!1},[e])};s();l();var jm=[];s();l();var Kr=h(R());function Fa(e){let[t,r]=(0,Kr.useState)(!1);return t?Kr.default.createElement(ut,{...e}):Kr.default.createElement(Vu,{path:e.path,guard:!0,callback:()=>{r(!0)}})}s();l();var Fm=h(R()),Hm=h(le());function Gm(){return!(0,Hm.useSelector)(Ot)}var Km=e=>Fm.default.createElement(ut,{...e});s();l();var zt=h(R()),$m=h(le()),ae=h(gn());Tt();$i();an();var Ha=300,Vm=()=>{let e=Uu(),t=(0,$m.useDispatch)(),r=zu(e),n=Ju(),i=(0,zt.useRef)({}),o=(0,zt.useRef)({}),a=(0,zt.useRef)({}),{data:f,set:u}=Yu(Xu.coinTickers),d=Zu();(0,zt.useEffect)(()=>{t(Sl(d))},[t,d]);let _=P=>{u({...f,...P})},m=(0,ae.useMemoizedFn)(async P=>{let L=Xr(P,Ha),w=[];try{(await Promise.all(L.map(A=>{let H=A.filter(J=>a.current[J]),Y={coinIds:A,aggregationCoinIdList:H},be={headers:{currency:"usd"}};return el(It.postMarketUrl,Y,be)})))?.forEach(A=>{Array.isArray(A?.data)&&(w=w.concat(A.data))})}catch{Re()}w.forEach(I=>{I?.coinId&&(o.current[I.coinId]={coinToUSDRate:I?.currencyAmount,coinPriceChangePercent24h:I?.priceChangePercent24h,priceCoinId:I?.priceCoinId})}),_(o.current)}),{needFetchCoinIds:O,needFetchData:S}=(0,ae.useCreation)(()=>{if(r.length||n.length){let P=r.concat(n).filter(I=>Boolean(I?.coinId));return rs(P,"coinId").reduce((I,A)=>(I.needFetchCoinIds.push(A.coinId),I.needFetchData.push({coinId:A.coinId,baseCoinId:A?.baseCoinId,chainIndex:A?.chainId,tokenAddress:A?.address,aggregation:A?.aggregation}),I),{needFetchCoinIds:[],needFetchData:[]})}return{needFetchCoinIds:[],needFetchData:[]}},[r,n]),C=(0,ae.useMemoizedFn)(P=>{if(!P?.length)return;let{coinIdToInstIdMap:L,coinIdAggregationMap:w}=P.reduce((Y,be)=>{let{coinIdToInstIdMap:J,coinIdAggregationMap:G}=Y,{coinId:Pe,baseCoinId:Oe,chainIndex:zr,tokenAddress:ki,aggregation:Di}=be,Ni="";return Oe===0?Ni=`${zr}`:Ni=`${zr}-${ki}`,J[Pe]=Ni,G[Pe]=Di,{coinIdToInstIdMap:J,coinIdAggregationMap:G}},{coinIdToInstIdMap:{},coinIdAggregationMap:{}});a.current=w;let I=[],A=Object.entries(L).reduce((Y,[be,J])=>(i.current[be]||(i.current[be]=J,I.push(be),Y.push({channel:bn,instId:J})),Y),[]);Xr(A,Ha).forEach(Y=>{mt.sendChannel({op:"subscribe",args:Y})}),I.length&&m(I)}),{run:p}=(0,ae.useDebounceFn)(C,{wait:200}),{run:b}=(0,ae.useDebounceFn)(()=>{_(o.current)},{wait:1e3}),y=(0,ae.useMemoizedFn)(()=>{m(Object.keys(i.current))}),E=(0,ae.useMemoizedFn)(P=>{if(!P||!Array.isArray(P?.data))return;let{data:L}=P;L[0]?.coinId&&(o.current[L[0]?.coinId]={priceCoinId:o.current[L[0]?.coinId]?.priceCoinId,coinToUSDRate:L[0]?.price,coinPriceChangePercent24h:L[0]?.priceChangePercent24h},b())});Le(bn,{onError:y,onSuccess:E,pollingInterval:30*1e3}),(0,ae.useDeepCompareEffect)(()=>{p(S)},[O]),(0,ae.useUnmount)(()=>{let P=Object.values(i.current).map(w=>({channel:bn,instId:w}));Xr(P,Ha).forEach(w=>{mt.sendChannel({op:"unsubscribe",args:w})}),i.current={}})};s();l();var Jt=h(R()),Ym=h(Ee());se();var mv=20,Ii=[];function zm(){let e=Le("dex-across-order-info"),t=(0,Ym.useHistory)();(0,Jt.useEffect)(()=>{if(!e?.data)return;let{dexData:r,type:n}=e.data,{status:i,type:o,orderId:a,fromAmount:f,fromTokenSymbol:u,toAmount:d,toTokenSymbol:_,solanaToast:m,exploreUrl:O,fromChildOrder:S={},swapTradeType:C,isMemeTimeOut:p,chainId:b,fromTokenAddress:y,toTokenAddress:E}=r,{fromAmount:P,toAmount:L}=S,w=null;if(C==="7"){let I=`/dex-swap/meme/${u==="SOL"?"buy":"sell"}?inputChain=${b}&inputCurrency=${y}&outputChain=${b}&outputCurrency=${E}`;if(p?w={type:"warn",titleKey:"wallet_extension_toast_likely_fail",titleParams:{num:P||f,token1:u,token2:_},id:`toast-${a}-${i}`,url:I,urlText:M("wallet_extension_cta_trade_again")}:i==="0"?w={type:"success",titleKey:"wallet_extension_toast_swap_submitted",id:`toast-${a}-${i}`,url:`/dex-swap/order/${a}`,urlText:M("wallet_extension_cta_check_details")}:i==="1"?w={type:"success",titleKey:"wallet_extension_toast_swap_success",titleParams:{fromCount:P||f,fromToken:u,toCount:_,toToken:L||d},id:`toast-${a}-${i}`,url:O,urlText:M("wallet_extension_cta_check_details")}:i==="-1"&&(w={type:"error",titleKey:"wallet_extension_toast_swap_failed",titleParams:{num:P||f,token1:u,token2:_},id:`toast-${a}-${i}`,url:I,urlText:M("wallet_extension_cta_trade_again")}),!w)return;ne[w.type]({title:M(w.titleKey,w.titleParams),key:w.id,desc:w.url?Jt.default.createElement(Mt,{history:i==="1"?null:t,url:w.url,urlText:w.urlText}):null});return}if(o==="gasStation"&&m==="1"){if(i==="0"?w={type:"success",titleKey:"swaptrade_extension_feedback_toast_transaction_submitted",id:`toast-${a}-${i}`}:i==="-1"?w={type:"error",titleKey:"swaptrade_extension_feedback_toast_fillup_gas_failed",titleParams:{nativeToken:_},id:`toast-${a}-${i}`}:i==="1"&&(w={type:"success",titleKey:"swaptrade_extension_feedback_toast_swapped_successfully",titleParams:{payValue:P||f,paySymbol:u,receiveValue:Qu(d,{fixed:6,wipeTailZero:!0}),receiveSymbol:_},id:`toast-${a}-${i}`}),!w)return;ne[w.type]({title:M(w.titleKey,w.titleParams),key:w.id})}if(n==="1"&&r&&o==="approve"){if(i==="1"?w={type:"success",titleKey:"swaptrade_extension_notif_desc_token_approved",titleParams:{tokenSymbol:u},url:O,id:`toast-${i}-${a}`}:i==="-1"?w={type:"error",titleKey:"swaptrade_extension_notif_desc_token_not_approved",titleParams:{tokenSymbol:u},url:O,id:`toast-${i}-${a}`}:m==="1"&&(w={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${m}`}),!w)return;ne[w.type]({title:M(w.titleKey,w.titleParams),key:w.id,desc:w.url?Jt.default.createElement(Mt,{url:w.url,urlText:M("wallet_transfer_notif_view_on_explorer")}):null})}if((n==="1"||n==="3")&&r&&o!=="approve"&&o!=="register"&&o!=="gasStation"){let I=`${a}_${i}`;if(Ii.includes(I))return;let A=()=>{Ii.unshift(I),Ii=Ii.slice(0,mv)},H=S?.receiveTokenStatus!=="3";if(i==="0"&&S?.status=="0"?(A(),w={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${i}-${a}`}):i==="1"&&H?(A(),w={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_info",titleParams:{fromTokenAmount:P||f,fromTokenSymbol:u,toTokenAmount:L||d,toTokenSymbol:_},url:O,id:`toast-${i}-${a}`}):i==="-1"&&H?(A(),w={type:"error",titleKey:"swaptrade_extension_notif_desc_swap_fail",url:O,id:`toast-${i}-${a}`}):i==="-2"&&H&&(A(),w={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_canceled",url:O,id:`toast-${i}-${a}`}),!w)return;ne[w.type]({title:M(w.titleKey,w.titleParams),key:w.id,desc:w.url?Jt.default.createElement(Mt,{url:w.url,urlText:M("wallet_transfer_notif_view_on_explorer")}):null})}},[e])}s();l();var Jm=h(R());se();function Xm(){let e=Le("wallet-nft");(0,Jm.useEffect)(()=>{!e||ne.success({title:M("wallet_transfer_notif_nft_transaction_success"),key:"toast8"})},[e])}s();l();var Xt={link:"_link_ywwad_1",updateCotainer:"_updateCotainer_ywwad_11",centerImage:"_centerImage_ywwad_14",titleUpdate:"_titleUpdate_ywwad_23",textUpdate:"_textUpdate_ywwad_27",updateMb32:"_updateMb32_ywwad_32"};function gv({walletId:e,keyringIdentities:t}){let r;if(t.find(a=>(r=a.walletIdentities.find(f=>f.walletId===e),r)),!r)return[];let n=Object.values(r.account),i=r.accountsMap,o=[];return i&&Object.keys(i).forEach(a=>{let f=i[a];Object.keys(f).forEach(u=>{let d=f[u];d.address&&o.push(d.address)})}),[...new Set([...n,...o])]}function v(e){let{guard:t}=e,r=(0,$r.useSelector)(Ot),n=(0,$r.useSelector)(rt),i=(0,$r.useSelector)(hn),o=(0,$r.useSelector)(Zf),a=Le("login"),f=Le("wallet-tx-status-toast"),u=Le("nft-operate"),d=(0,Vr.useHistory)(),[_,m]=(0,W.useState)(null),O=ju();(0,W.useEffect)(()=>{if(O){let{initialType:w}=O,{path:I}=e;if(Ou()&&Pu(w)&&!jm.includes(I)){let{location:A}=e||{},{pathname:H,search:Y=""}=A||{};setTimeout(()=>{globalThis.platform.openExtensionInPopup(H+Y||"")},200)}}},[O?.initialType]);let S=Rm(),C=Lm(),p=Um();Wm(),Dm(),(0,W.useEffect)(()=>{C&&Se.warn({alignBottom:!1,title:X("wallet_extension_home_popup_title_update_now"),text:X("wallet_extension_home_popup_text_update_now"),confirmText:X("wallet_extension_home_popup_btn_update"),maskClosable:!1,onConfirm:()=>{window.localStorage.setItem("extensionReload",C),Ka.default.runtime.reload()}})},[C]);let[b,y]=(0,W.useState)(!1),[E]=(0,W.useState)(Ka.default.runtime.getManifest().version),P=Wu(),L=Eu({dark:"/cdn/assets/imgs/246/F624BDAD9E2C018D.png",light:"/cdn/assets/imgs/246/234578340DAE2A80.png"});return(0,W.useEffect)(()=>{E!==p.version&&!b&&p&&Se.action({mobileWidth:"77.777%",noTopRadius:!1,alignBottom:!1,hideCloseBtn:!0,children:W.default.createElement("div",{className:Xt.updateMb32},W.default.createElement("div",{className:Xt.centerImage},W.default.createElement("img",{src:L,alt:"update"})),W.default.createElement("div",{className:Xt.titleUpdate},X("wallet_extension_home_popup_title_update_available")),W.default.createElement("div",{className:Xt.textUpdate},X("wallet_extension_home_popup_text_update_available")),W.default.createElement(Gi,{size:Gi.SIZE.sm,className:Xt.link,onClick:()=>{globalThis.platform.openTab({url:`https://${P}/help/how-do-i-update-my-okx-wallet-extension-on-google-chrome`})}},X("wallet_extension_home_popup_link_update_available"))),confirmText:X("wallet_extension_home_popup_text_ok"),maskClosable:!1,onConfirm:w=>{p.repeat?y(!0):window.localStorage.setItem("versionExtensionUpdate",p.version),w.destroy()}})},[b,p,E]),(0,W.useEffect)(()=>{S&&Se.warn({alignBottom:!1,maskClosable:!1,title:X("wallet_extension_clearcache_modaltitle_step_locked"),text:X("wallet_extension_clearcache_modaldesc_step_locked"),confirmText:X("wallet_extension_btn_general_gotit"),onConfirm:w=>{w.destroy(),d.go(-1)}})},[S]),(0,W.useEffect)(()=>{if(r&&n){_&&Array.isArray(_)&&mt.sendChannel({op:"logout",args:_});let I=gv({walletId:i,keyringIdentities:o}).map(A=>({token:A}));mt.sendChannel({op:"login",args:I}),m(I)}},[r,n,i]),(0,W.useEffect)(()=>{if(u){let{scene:w,status:I}=u.data;w===21&&I===2&&ne.success({title:X("extension_home_toast_receivecompleted")})}},[u]),(0,W.useEffect)(()=>{if(a){let w=Object.keys(sr).map(I=>({channel:sr[I]}));mt.sendChannel({op:"subscribe",args:w})}},[a]),(0,W.useEffect)(()=>{let I=d.location.pathname.match(dn);if(f&&!I){let{data:A}=f,{pushToastCode:H,pushToastParams:Y=[],txStatus:be,url:J}=A,G;H===20||H===21?G={amount:Y[0],crypto:Y[1]}:H===23?G={num:Y[0],symbol:Y[1]}:G=Mm(Y),ne[Ku[be]]({title:X($u[H],G),desc:J?W.default.createElement(Mt,{url:J,urlText:X("wallet_transfer_notif_view_on_explorer")}):null})}},[f]),(0,W.useEffect)(()=>{let w=new PerformanceObserver(I=>{let A={};I.getEntries().forEach(H=>{A[H.name]=H.startTime}),performance.memory&&(A.memory={totalJSHeapSize:performance.memory?.totalJSHeapSize,usedJSHeapSize:performance.memory?.usedJSHeapSize,jsHeapSizeLimit:performance.memory?.jsHeapSizeLimit}),A["first-contentful-paint"]>1e3&&ye.captureEvent({message:`PERFORMANCE_WARN_1s ${d.location.pathname}`,contexts:{report:{info:JSON.stringify(A)}},exception:{values:[{type:`PERFORMANCE_WARN_1s ${d.location.pathname}`,value:"Performance Data"}]},level:"info"})});return w.observe({type:"paint",buffered:!0}),()=>{w.disconnect()}},[d.location.pathname]),zm(),Xm(),Vm(),Gm()?W.default.createElement(Vr.Redirect,{to:{pathname:fn}}):n?t?W.default.createElement(Fa,{...e}):W.default.createElement(Km,{...e}):W.default.createElement(Vr.Redirect,{to:{pathname:Pt}})}v.propTypes={isUnlocked:Ga.default.bool.isRequired,completedOnboarding:Ga.default.bool.isRequired};s();l();var $a=h(R()),e0=h(Ee());s();l();var Zm=h(le());function Qm(){return!(0,Zm.useSelector)(rt)}function Ai(e){return Qm()?$a.default.createElement(e0.Redirect,{to:{pathname:Pt}}):$a.default.createElement(ut,{...e})}s();l();var Va=h(R()),t0=h(le()),Pi=h(Ee());function Yr(e){return(0,t0.useSelector)(rt)?Va.default.createElement(Pi.Redirect,{to:{pathname:me}}):Va.default.createElement(Pi.Route,{...e})}s();l();s();l();var x=h(R()),r0=(0,x.lazy)(()=>import("./dex-A5C6WAHO.js")),xv=()=>import("./new-home-page-PXWNYI7V.js"),CD=(0,x.lazy)(()=>import("./common-B6Z55IIE.js")),n0=(0,x.lazy)(xv),i0=(0,x.lazy)(()=>import("./wallet-aggregate-R2I2BQ64.js")),o0=(0,x.lazy)(()=>import("./ConnectHardware-KLI5DU64.js")),Ya=(0,x.lazy)(()=>import("./ImportSeedPhraseAndPrivateKey-IMAADTCZ.js")),a0=(0,x.lazy)(()=>import("./WalletMnemonicBackup-HXGEDGTL.js")),s0=(0,x.lazy)(()=>import("./WalletMnemonicBackupLandingPage-G7SLG7PB.js")),l0=(0,x.lazy)(()=>import("./WalletList-CU4F47RZ.js")),f0=(0,x.lazy)(()=>import("./WalletEdit-XGI46HAW.js")),u0=(0,x.lazy)(()=>import("./WalletBackUp-W2GVDJIQ.js")),c0=(0,x.lazy)(()=>import("./WalletAccountAddress-FMPII7VS.js")),d0=(0,x.lazy)(()=>import("./WalletAccountPrivateKey-PQB4EBDN.js")),p0=(0,x.lazy)(()=>import("./WalletMnemonicAndPrivateKey-YEEINSQF.js")),h0=(0,x.lazy)(()=>import("./LedgerNetworkManage-PUUNBNCE.js")),m0=(0,x.lazy)(()=>import("./WalletDetail-74VU7GO2.js")),g0=(0,x.lazy)(()=>import("./WalletAccountDetail-CLEMDLNU.js")),x0=(0,x.lazy)(()=>import("./CreatePassword-ZHTLAMS6.js")),w0=(0,x.lazy)(()=>import("./VerifyPassword-RUVJJTFL.js")),b0=(0,x.lazy)(()=>import("./Onboard-65SAOWRF.js")),y0=(0,x.lazy)(()=>import("./InitialCreate-J4QQQYJS.js")),_0=(0,x.lazy)(()=>import("./InitialImport-JWMIJM6O.js")),v0=(0,x.lazy)(()=>import("./wallet-add-page-UHXWKM4T.js")),S0=(0,x.lazy)(()=>import("./walletAddImport-DBAU75HM.js")),E0=(0,x.lazy)(()=>import("./Login-542LVHLI.js")),T0=(0,x.lazy)(()=>import("./Import-I4MMJXJD.js")),C0=(0,x.lazy)(()=>import("./show-supported-chains-MIK35VSS.js")),I0=(0,x.lazy)(()=>import("./Unlock-VPFEWPDZ.js")),A0=(0,x.lazy)(()=>import("./Receive-PVFS2ROA.js")),P0=(0,x.lazy)(()=>import("./Lock-6L73ZOWV.js")),O0=(0,x.lazy)(()=>import("./ForgetPassword-Z5SSNCXL.js")),M0=(0,x.lazy)(()=>import("./ResetPassword-TWUPNYVZ.js")),R0=(0,x.lazy)(()=>import("./select-network-RPXDAM3X.js")),k0=(0,x.lazy)(()=>import("./select-coin-YWRTOX3G.js")),D0=(0,x.lazy)(()=>import("./SelectNetwork-AKFGIRDS.js")),N0=(0,x.lazy)(()=>import("./SelectProtocol-2X4IE6JZ.js")),L0=(0,x.lazy)(()=>import("./SendNft-NLUZNPYE.js")),B0=(0,x.lazy)(()=>import("./SendPageContainer-7RWRR3FA.js")),W0=(0,x.lazy)(()=>import("./CoinManage-FDUTOS34.js")),q0=(0,x.lazy)(()=>import("./CustomCrypto-CFIYPAC5.js")),U0=(0,x.lazy)(()=>import("./Setting-L347NDLJ.js")),j0=(0,x.lazy)(()=>import("./Preference-UPJRC7SN.js")),F0=(0,x.lazy)(()=>import("./WalletSafely-OVRZLBZR.js")),H0=(0,x.lazy)(()=>import("./DefaultWallet-X5AGUTIB.js")),G0=(0,x.lazy)(()=>import("./SwitchRandomPassword-WMZL6I4X.js")),K0=(0,x.lazy)(()=>import("./AboutWallet-RTQ2IYST.js")),$0=(0,x.lazy)(()=>import("./WalletHistory-7KG2RVG2.js")),V0=(0,x.lazy)(()=>import("./Selector-LVGXLTMJ.js")),Y0=(0,x.lazy)(()=>import("./RpcMode-UEQHQDXJ.js")),z0=(0,x.lazy)(()=>import("./DappEntry-6VPGFW2A.js")),J0=(0,x.lazy)(()=>import("./DappReady-K5CKRTHF.js")),X0=(0,x.lazy)(()=>import("./NetworkManagement-TZV4S2Y3.js")),Z0=(0,x.lazy)(()=>import("./Form-QF3OL7HF.js")),Q0=(0,x.lazy)(()=>import("./PermissionsConnect-DZJTQ6TI.js")),eg=(0,x.lazy)(()=>import("./Detail-HKJ66IG6.js")),tg=(0,x.lazy)(()=>import("./NftFilter-63ZTSK7Q.js")),rg=(0,x.lazy)(()=>import("./DAppNetworkManage-RC3Z227U.js")),ng=(0,x.lazy)(()=>import("./CoinDetail-S5AVPVKW.js")),ig=(0,x.lazy)(()=>import("./address-YX7GITKX.js")),og=(0,x.lazy)(()=>import("./ZKSpace-PTVGZUHR.js")),ag=(0,x.lazy)(()=>import("./ZKSyncLite-RN4F6MIS.js")),sg=(0,x.lazy)(()=>import("./Starknet-OTKX7YH6.js")),lg=(0,x.lazy)(()=>import("./CreateAccount-S3WQTMVV.js")),fg=(0,x.lazy)(()=>import("./ConfirmPay-37Q75PZU.js")),ug=(0,x.lazy)(()=>import("./rpc-mode-JPPVN7GY.js")),cg=(0,x.lazy)(()=>import("./BatchTransfer-5BKWS6Z7.js")),dg=(0,x.lazy)(()=>import("./Bitcoin-UXX77VTG.js")),pg=(0,x.lazy)(()=>import("./BatchAddAccount-6KOAT6ZJ.js")),hg=(0,x.lazy)(()=>import("./BulkRename-LVKQKKPB.js")),mg=(0,x.lazy)(()=>import("./Edit-IORA4PSE.js")),gg=(0,x.lazy)(()=>import("./Confirm-KOHQIMAO.js")),ID=(0,x.lazy)(()=>import("./FractalBTCInscribe-5KRFKXO2.js")),xg=(0,x.lazy)(()=>import("./ManageUtxo-MWORBEH2.js")),wg=(0,x.lazy)(()=>import("./CoinInfo-TP5KD43L.js")),bg=(0,x.lazy)(()=>import("./DownloadAddresses-R2UCMJLP.js")),yg=(0,x.lazy)(()=>import("./GasTracker-GOM4H6KS.js")),_g=(0,x.lazy)(()=>import("./Advanced-SXGLW3ER.js")),vg=(0,x.lazy)(()=>import("./PasswordType-BQ325EFC.js"));var Sg=({autoLockTimeLimit:e,setLastActiveTime:t})=>{let n=(0,pe.useHistory)().location?.state?.noGuard||{},i=g.default.createElement(g.Suspense,null,g.default.createElement(pe.Switch,null,g.default.createElement(pe.Route,{path:kl,component:o0}),g.default.createElement(v,{path:ff,component:Ya,exact:!0}),g.default.createElement(ja,{path:Mf,component:mg,exact:!0}),g.default.createElement(ja,{path:Rf,component:gg,exact:!0}),g.default.createElement(v,{path:Vi,guard:!n[Vi],component:a0,exact:!0}),g.default.createElement(v,{path:bf,component:s0,exact:!0}),g.default.createElement(v,{path:df,component:l0,exact:!0}),g.default.createElement(v,{path:pf,component:f0,exact:!0}),g.default.createElement(v,{path:Vl,component:u0,exact:!0}),g.default.createElement(v,{path:wf,guard:!0,component:p0,exact:!0}),g.default.createElement(pe.Route,{path:Ff,component:vg,exact:!0}),g.default.createElement(pe.Route,{path:jl,component:x0,exact:!0}),g.default.createElement(v,{path:Fl,component:w0}),g.default.createElement(Yr,{path:Hl,component:Ya,exact:!0}),g.default.createElement(pe.Route,{path:`${Gl}/:type`,component:C0}),g.default.createElement(v,{path:hf,component:m0}),g.default.createElement(v,{path:yf,component:h0}),g.default.createElement(v,{path:mf,component:g0}),g.default.createElement(v,{path:gf,component:c0}),g.default.createElement(v,{path:xf,guard:!0,component:d0}),g.default.createElement(pe.Route,{path:Df,component:i0}),g.default.createElement(v,{path:Ll,component:A0,exact:!0}),g.default.createElement(pe.Route,{path:Cl,component:P0,exact:!0}),g.default.createElement(Yr,{path:Pt,component:b0}),g.default.createElement(Yr,{path:Ul,component:y0,exact:!0}),g.default.createElement(Yr,{path:ql,component:_0,exact:!0}),g.default.createElement(v,{path:uf,component:v0,exact:!0}),g.default.createElement(v,{path:cf,component:S0,exact:!0}),g.default.createElement(pe.Route,{path:Lf,component:E0,exact:!0}),g.default.createElement(pe.Route,{path:Bf,component:T0,exact:!0}),g.default.createElement(Ai,{path:fn,exact:!0,component:I0}),g.default.createElement(Ai,{path:Bl,component:O0}),g.default.createElement(v,{path:Wl,component:M0}),g.default.createElement(v,{path:Af,component:ug}),g.default.createElement(v,{path:Pf,component:cg}),g.default.createElement(v,{path:Of,component:pg}),g.default.createElement(v,{path:kf,component:hg}),g.default.createElement(v,{path:Rl,component:N0}),g.default.createElement(v,{path:Ml,component:D0}),g.default.createElement(v,{path:lf,component:R0}),g.default.createElement(v,{path:sf,component:k0}),g.default.createElement(v,{path:`${Al}/:nftPath`,component:L0,exact:!0}),g.default.createElement(v,{path:`${Il}/:coinId?`,component:B0}),g.default.createElement(v,{path:Kl,component:W0}),g.default.createElement(v,{path:$l,component:q0}),g.default.createElement(v,{path:cn,component:U0}),g.default.createElement(v,{path:Yl,component:j0}),g.default.createElement(v,{path:zl,component:F0}),g.default.createElement(v,{path:Jl,component:H0}),g.default.createElement(v,{path:Ql,component:G0}),g.default.createElement(v,{path:Xl,component:K0}),g.default.createElement(v,{path:_f,component:$0,exact:!0}),g.default.createElement(v,{path:Zl,component:V0}),g.default.createElement(v,{path:ef,component:Y0}),g.default.createElement(v,{path:of,component:J0}),g.default.createElement(v,{path:nf,component:z0}),g.default.createElement(v,{path:tf,component:X0}),g.default.createElement(v,{path:rf,component:Z0}),g.default.createElement(v,{path:`${Pl}/:id`,component:Q0}),g.default.createElement(v,{path:`${Dl}`,component:eg,exact:!0}),g.default.createElement(v,{path:Nl,component:tg,exact:!0}),g.default.createElement(v,{path:`${Ol}`,component:rg}),g.default.createElement(v,{path:un,component:ng,exact:!0}),g.default.createElement(v,{path:Wf,component:wg}),g.default.createElement(v,{path:qf,component:bg}),g.default.createElement(v,{path:vf,component:ig}),g.default.createElement(v,{path:Sf,component:og}),g.default.createElement(v,{path:Ef,component:ag}),g.default.createElement(v,{path:Tf,component:sg}),g.default.createElement(v,{path:Cf,component:lg}),g.default.createElement(v,{path:If,component:fg}),g.default.createElement(v,{path:af,component:dg}),g.default.createElement(v,{path:dn},g.default.createElement(g.Suspense,{fallback:g.default.createElement(Du,null)},g.default.createElement(r0,null))),g.default.createElement(v,{path:Nf,component:xg}),g.default.createElement(v,{path:Uf,component:yg}),g.default.createElement(v,{path:jf,component:_g}),g.default.createElement(v,{path:[me,ln],component:n0})));return e>0?g.default.createElement(Cm,{onAction:t,throttle:1e3},i):i};var Eg=Sg;var Tg=({isLoading:e})=>{let{autoLockTimeLimit:t=0}=(0,Oi.useSelector)(eu),r=(0,Oi.useDispatch)();return ct.default.createElement(ct.default.Fragment,null,ct.default.createElement(ym,null),ct.default.createElement(vm,null),ct.default.createElement("div",{className:"main-container-wrapper"},e&&ct.default.createElement(ku,null),ct.default.createElement(Eg,{autoLockTimeLimit:t,setLastActiveTime:()=>{r(sl())}})))};var Cg=({isLoading:e})=>React.createElement(Tg,{isLoading:e});s();l();var Ig=h(R()),Ag=h(le());var wv=()=>{let e=qu(),{platformAssetUSD:t,nftBalanceUSD:r,defiBalanceUSD:n,tokenBalanceUSD:i}=(0,Ag.useSelector)(ec);(0,Ig.useEffect)(()=>{t!=="--"&&ks({wallet_id:e,coin_balance:i,nft_balance:r,defi_balance:n,platform_coin_balance:t})},[e,t,r,i,n])},Pg=wv;s();l();var Og=h(R()),za=h(le());er();et();var bv=()=>{let e=(0,za.useSelector)(hn),t=(0,za.useSelector)(Fu),n=ve()===Qr;(0,Og.useEffect)(()=>{e&&Ms({islogin:"yes",isbydapp:n?"yes":"no",dapp_url:Ss?"www.okx.com/pc":t,wallet_id:e})},[e])},Mg=bv;s();l();s();l();var yv=()=>{},Rg=yv;var kg=Rg;ne.config({duration:3,top:10,left:16,right:16,maxCount:3,placement:ne.DIRECTION.top,isInline:!0});var Bg=()=>{let e=kg(),t=(0,Dg.useHistory)(),r=(0,dt.useDispatch)();ka(),Mg(),Pg();let n=(0,dt.useSelector)(S=>S.appState.isLoading),{os:i,browser:o}=(0,dt.useSelector)(S=>S.metamask.browserEnvironment)||{},a=(0,dt.useSelector)(tu),f=(0,dt.useSelector)(Qf)?.isoCode||"usd",u=(0,dt.useSelector)(pn),d=process.env.ASSETS_BUILD_TYPE===Ue.DEV||process.env.ASSETS_BUILD_TYPE===Ue.DAILY,_=()=>{t.listen((S,C)=>{C==="PUSH"&&Yh(S.pathname)})},m=()=>{f||r(Mu("usd"))},O=()=>{on(It.getCheckCountryLimit).then(S=>{try{let{data:{web3:{limit:C,displayCountryName:p}}}=S;C&&Se.warn({maskClosable:!1,renderFooter:()=>vt.default.createElement("div",null),alignBottom:!1,title:M("wallet_extension_login_title_access_restricted"),text:M("wallet_extension_login_toast_unavailable_inyourregion",{area:p})})}catch{ne.error({title:M("wallet_home_toast_network_error")})}}).catch(Re)};return(0,Ng.useMount)(()=>{_(),Tu(),xn(a),m(),O(),dm(u)}),vt.default.createElement(vt.default.Fragment,null,vt.default.createElement("div",{className:(0,Lg.default)("app-content",{[`os-${i}`]:i,[`browser-${o}`]:o}),style:{height:e}},vt.default.createElement(Cg,{isLoading:n})),!!d&&vt.default.createElement(bm,null))};s();l();var Mi=class extends he.PureComponent{constructor(){super(...arguments);Ze(this,"state",{});Ze(this,"isNetworkError",()=>{let{error:r}=this.state;return r instanceof TypeError&&r.message?.toLocaleLowerCase().match(/failed to fetch/)})}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){ye.captureException(r)}render(){let{error:r}=this.state,{store:n}=this.props;if(r){let i=r&&this.isNetworkError();return he.default.createElement(Ja.Provider,{store:n},he.default.createElement(jr,null,i?he.default.createElement(am,null):he.default.createElement(Ra,{error:r})))}return he.default.createElement(Ja.Provider,{store:n},he.default.createElement(Wg.HashRouter,null,he.default.createElement(jr,null,he.default.createElement(as,{options:ul},he.default.createElement(ss,null,he.default.createElement(Bg,null))))))}};Mi.propTypes={store:qg.default.object.isRequired};var Ug=Mi;var Xa=h(ix());zg();Wi();s();l();async function jg(e){return(await At.permissions_log).query(e)}an();ox();ji();or();s();l();function Fg(e){let t={accountIdentities:e.accountIdentities,keyringIdentities:e.keyringIdentities,selectedWallet:e.selectedWallet};return delete e.accountIdentities,delete e.keyringIdentities,delete e.selectedWallet,t}Ps.config({top:16});os.config({returnString:!0,isConvertToZero:!0,exponentialAt:[-40,40]});rr.setConfig({Dialog:{maskClosable:!0,getContainer:()=>document.querySelector(".main-container-wrapper")},Drawer:{getContainer:()=>document.querySelector(".main-container-wrapper")},[rr.componentNames.Select]:{bottomSafeSpace:0}});if(process.env.ASSETS_BUILD_TYPE===Ue.DEV||process.env.ASSETS_BUILD_TYPE===Ue.DAILY){let e=window.localStorage.getItem("languageKeyMode");Ct(e==="keyMode")}Gg.default.setLevel(process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"?"debug":"warn");function _v(e){window.getCleanAppState=function(){let t=ts(e.getState());return t.version=globalThis.platform.getVersion(),t.browser=window.navigator.userAgent,t}}var vv=async()=>Promise.allSettled([Os(),Rs()]);function Sv(e){async function t(r){let n=await Ri.default.tabs.get(r),{active:i,id:o,title:a,url:f}=n;if(i===!1)return;let{origin:u,protocol:d}=f?new URL(f):{};!u||u==="null"||e.dispatch(Nh({id:o,title:a,origin:u,protocol:d,url:f}))}Ri.default.tabs.onActivated.addListener(async({tabId:r})=>{await t(r)}),Ri.default.tabs.onUpdated.addListener(async r=>{await t(r)})}async function Ev({metamaskState:e,networks:t},r,n){await gs.setUrlFromLocalAsync(),await hs.setUrlFromLocalAsync(),await vv();let i={},o={},a={},f=Fg(e);if(e.currentLocale){let C=await Promise.allSettled([sn(e.currentLocale),sn(e.currentLocale,Xa.LOCALE_TYPE.okd),sn(e.currentLocale,Xa.LOCALE_TYPE.dex)]);i=C[0].value,o=C[1].value,a=C[2].value}let d={...{activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{current:i,okdCurrent:o,dexCurrent:a}}},_=va(d),m=Ds(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);return m.length>0&&_.dispatch(fl({id:m[0].id})),r.onNotification(C=>{switch(C.method){case"sendUpdate":{let p=C.params[0];_.dispatch(ol(p))}break;case"sendPartialUpdate":{let p=C.params[0];_.dispatch(al(p))}break;default:throw new Error(`Internal JSON-RPC Notification Not Handled:

 ${JSON.stringify(C)}`)}}),Sv(_),_.dispatch(tm()),_.dispatch(pl(t?.length?t:ps())),il(f,_.dispatch.bind(_),!1),(0,Kg.createRoot)(n.container).render(Hg.default.createElement(Ug,{store:_})),e.currentLocale&&rl(e.currentLocale),_}async function Za(e,t){let{backgroundConnection:r}=e;nl(r),Qs(r.refreshHttpDNS);let n,i;try{let[a,f]=await Promise.all([new Promise((u,d)=>{r.getStateByDomain((_,m)=>{if(_){d(d);return}u(m)})}),ou()]);n=a,i=f}catch(a){t(a);return}let{currentLocale:o}=n;tl(o),Ev({metamaskState:n,networks:i},r,e).then(a=>{_v(a),t(null,a)}).catch(()=>{})}window.logStateString=async function(e){let t=window.getCleanAppState();try{let r=await globalThis.platform.getPlatformInfo();t.platform=r;try{t.permissionsLog=await jg(),t.log=await yu()}catch{t.permissionsLog=[],t.log=[]}let n=await Lh();Object.keys(n).forEach(o=>{t[o]=n[o]});let i=JSON.stringify(t,null,2);e(null,i)}catch(r){e(r)}};s();l();var Tv=["popup.html","notification.html","home.html"];navigator.userAgent.includes("Android")&&Tv.forEach(e=>{location.href.includes(e)&&(location.href=location.href.replace(e,"fullscreen.html"))});function Cv(e){let t=new Vg.default;t.pipe(e).pipe(t),e.on("error",console.error.bind(console)),t.on("error",console.error.bind(console))}function Iv(e,t){let r=Ap(e);t(null,r)}function Av(e,t){let r=Rh(e);Iv(r.createStream("controller"),t),Cv(r.createStream("provider"))}function Pv(e,t,r,n){Av(r,(i,o)=>{if(i){n(i);return}Za({activeTab:e,container:t,backgroundConnection:o},n)})}async function Ov(e){return new Promise(t=>{if(e!==Zr&&e!==en){t({});return}Qa.default.tabs.query({active:!0,currentWindow:!0}).then(r=>{let[n]=r,{id:i,title:o,url:a}=n,{origin:f,protocol:u}=a?new URL(a):{};if(!f||f==="null"){t({});return}t({id:i,title:o,origin:f,protocol:u,url:a})}).catch(r=>{console.error(r)})})}async function Mv(e,t){let r=await Ov(e);tt()===ds&&(r.origin="https://www.okx.com");let n=document.getElementById("app");Pv(r,n,t,i=>{if(i)throw i})}async function Yg(){globalThis.platform=new kh;let e=ve(),t=Qa.default.runtime.connect({name:e}),r=new Ir(t);r.once("end",Yg),Mv(e,r),gd()}Yg().catch($g.default.error);

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ui.js.map

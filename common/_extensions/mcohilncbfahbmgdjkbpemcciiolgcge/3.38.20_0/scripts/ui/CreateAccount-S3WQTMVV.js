import{a as v,f as S}from"./chunk-ZBEWIS2U.js";import{a as P}from"./chunk-2XYRURE2.js";import{a as j}from"./chunk-Q2BK5I52.js";import"./chunk-4NCQWC2K.js";import"./chunk-BSEC3HD3.js";import"./chunk-SR5VKAMR.js";import"./chunk-XN45YXW3.js";import"./chunk-M75TVG7W.js";import"./chunk-YXS5E7TI.js";import"./chunk-XUKRDQIU.js";import"./chunk-YOJOUOFP.js";import"./chunk-7OQVWENF.js";import"./chunk-SLWKMGPD.js";import"./chunk-UC77E3WD.js";import"./chunk-GTSNHSPT.js";import"./chunk-LVPRDSPO.js";import{a as $}from"./chunk-RJO5LUBF.js";import"./chunk-DRPGNVVL.js";import{a as C}from"./chunk-UEENMIFU.js";import"./chunk-3OMHZBKM.js";import"./chunk-A264YTOP.js";import"./chunk-LRVKM4IV.js";import{sa as b,ta as N}from"./chunk-PVSNAFN3.js";import"./chunk-JYKQJVIF.js";import{q as g}from"./chunk-GBQG32PI.js";import"./chunk-Q6XXIWBJ.js";import"./chunk-VWYA3Z7M.js";import"./chunk-A3FIPWG3.js";import"./chunk-NTISK7TT.js";import"./chunk-MXRUZQZ7.js";import"./chunk-CU7RFE6B.js";import"./chunk-J4UWPXXS.js";import{a as O}from"./chunk-QZUNX5I4.js";import"./chunk-OG3IV3YP.js";import"./chunk-45FKVGCF.js";import"./chunk-KSCBZ3RY.js";import"./chunk-37O7OMRA.js";import"./chunk-5PGNMLJO.js";import"./chunk-35FUKWV2.js";import"./chunk-DHNKVM4B.js";import"./chunk-VL5VJIZ7.js";import{c as A}from"./chunk-TU7CE5HJ.js";import"./chunk-2NE2FMGV.js";import"./chunk-YILNSICT.js";import"./chunk-ORQMOT6Z.js";import{D as m,q as F}from"./chunk-L4N7WJIQ.js";import"./chunk-LBCQTFOD.js";import{N as T,w as t}from"./chunk-V63HWKAL.js";import"./chunk-ZZ2UZY4M.js";import"./chunk-XFAFBXWC.js";import"./chunk-7EEPBGCR.js";import"./chunk-CY6DCOJP.js";import{ca as f}from"./chunk-2EJYCNYZ.js";import"./chunk-V2K75WCG.js";import{a as E}from"./chunk-B75PPTYD.js";import"./chunk-2AWSM2JA.js";import"./chunk-QXPU36HD.js";import"./chunk-QI5O5UGB.js";import"./chunk-2OGSVQVK.js";import"./chunk-Y5BBPTSN.js";import"./chunk-5LMNZ6ME.js";import"./chunk-LQWZRQFF.js";import"./chunk-VGOLUGG3.js";import"./chunk-6SIBAM5N.js";import"./chunk-42IJDSSW.js";import"./chunk-BMKS7XLD.js";import"./chunk-MTFM4GGW.js";import{f as h,m as n,o as c}from"./chunk-UGZFXKPB.js";n();c();var e=h(E());T();n();c();var l=h(E()),W=h(O());T();var U=()=>{let r=j(),s=m.useForm(),p=(0,W.useHistory)(),[x,y]=(0,l.useState)(!1),[a,i]=(0,l.useState)({account:r.get("account")||""}),u=Number(r.get("coinId")),{coin:d}=P(u,!1),k=async o=>{try{return await S(o)?Promise.resolve():(s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),Promise.reject())}catch{return s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),Promise.reject()}},z=(0,l.useCallback)(async()=>{y(!0);try{let o={coinId:u,chainId:d?.chainId,...a};await k(o);let{ownerKey:_,activeKey:M}=await v(o);_&&M?s.setErrors({account:t("extension_wallet_create_errortip_used_username")}):p.push(`${N}?coinId=${u}&account=${a?.account}&from=${r.get("from")||""}`)}catch(o){console.log(o)}finally{y(!1)}},[d,a]),B=(0,l.useCallback)(o=>{i(o);let{account:_}=o;p.replace(`${b}?account=${_}&coinId=${u}&account=${a?.account}&from=${r.get("from")||""}`)},[]);return{form:s,values:a,loading:x,onSubmit:z,onValuesChange:B}},L=U;n();c();var V=(r="")=>/^[a-z]{1}[a-z1-5]{11}$/g.test(r);n();c();var w={"wax-create-account-form":"_wax-create-account-form_3yjsy_1",waxCreateAccountForm:"_wax-create-account-form_3yjsy_1","wax-create-account-rules":"_wax-create-account-rules_3yjsy_4",waxCreateAccountRules:"_wax-create-account-rules_3yjsy_4"};var Y=()=>{let{form:r,loading:s,values:p,onSubmit:x,onValuesChange:y}=L();return e.default.createElement(A.Container,{className:w["wax-create-account"]},e.default.createElement($,{closeable:!1,title:t("extension_wallet_header_title_waxaccount_opening")}),e.default.createElement(m,{form:r,initialValues:p,className:w["wax-create-account-form"],onValuesChange:y,onSubmit:x},e.default.createElement(m.Item,{name:"account",validateTrigger:"onChange",rules:[{validator:(a,i)=>i&&!V(i)?Promise.reject(t("extension_wallet_create_errortip_error_name")):Promise.resolve()}],label:t("extension_wallet_create_text_set_account_name")},e.default.createElement(F,{placeholder:t("extension_wallet_create_input_enter_account_name")})),e.default.createElement(m.Item,{shouldUpdate:!0},({getFieldValue:a,getFieldsError:i})=>{let u=i(),d=a("account");return e.default.createElement(C.FooterActions,{usePortal:!0},e.default.createElement(f,{loading:s,htmlType:"submit",category:f.CATEGORY.fill,type:f.TYPE.highlight,size:f.SIZE.lg,onClick:x,disabled:!d||u?.length},t("wallet_extension_send_btn_next_step")))})),e.default.createElement(C,{offsetBottom:104,component:A.FlexBox,justify:"center"},e.default.createElement(g.Text,{component:"pre",type:g.TYPE.secondary,size:g.SIZE.xs,className:w["wax-create-account-rules"]},t("extension_wallet_create_input_naming_rules"))))},de=e.default.memo(Y);export{de as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=CreateAccount-S3WQTMVV.js.map

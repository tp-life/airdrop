import{a as z}from"./chunk-472TWZ65.js";import{a as j}from"./chunk-NVTMZ25X.js";import{a as X}from"./chunk-5ULIZSF3.js";import{b as V}from"./chunk-ZM5QX5NG.js";import{a as K,b as U}from"./chunk-TTRHX25W.js";import{a as W}from"./chunk-ZORPRUU7.js";import"./chunk-AWNSSJAG.js";import"./chunk-QCAVIM5G.js";import"./chunk-B7P7Y7YD.js";import"./chunk-RN3CEAG6.js";import"./chunk-3K6OE4O5.js";import"./chunk-BGIT66CC.js";import"./chunk-SEL5SOAI.js";import{a as Y}from"./chunk-EMVP43OQ.js";import"./chunk-XHGPSNTM.js";import{b as q,k as v}from"./chunk-NQSB2CI7.js";import"./chunk-JOGFEK3S.js";import{a as D}from"./chunk-TEHSOGCP.js";import"./chunk-L5MAEEVU.js";import{a as F}from"./chunk-4U65LWXX.js";import"./chunk-WMQSMBLA.js";import"./chunk-XKK5N6CR.js";import"./chunk-ICLH7VK5.js";import"./chunk-3RJOXTRR.js";import"./chunk-J2MASCEL.js";import"./chunk-J2Y34YM2.js";import{k as b,m as O}from"./chunk-NNO7KFUF.js";import"./chunk-3L5C5CQB.js";import"./chunk-CGBWDXEW.js";import"./chunk-NRWOOVOJ.js";import"./chunk-P6MBUJNT.js";import"./chunk-2XYRURE2.js";import"./chunk-LYFECSNW.js";import"./chunk-M7CDJYYG.js";import"./chunk-VUB7XYHG.js";import"./chunk-QZXK25MX.js";import"./chunk-J7ZUOIII.js";import"./chunk-Q2BK5I52.js";import"./chunk-QVG4GOA5.js";import{d as N}from"./chunk-4NCQWC2K.js";import"./chunk-BSEC3HD3.js";import"./chunk-SR5VKAMR.js";import"./chunk-2L5V4MTR.js";import"./chunk-762Y5MQL.js";import"./chunk-L56XCX6G.js";import"./chunk-7UJMDFGU.js";import"./chunk-PB7BCSCP.js";import"./chunk-6ZM3C6AR.js";import"./chunk-QOIOEYFC.js";import"./chunk-ERN756XV.js";import"./chunk-SUOZFPDI.js";import"./chunk-PHVYXSWP.js";import"./chunk-V3N76XMD.js";import"./chunk-S2V4K2JM.js";import"./chunk-GSWJ5GW7.js";import"./chunk-IVCA3VWI.js";import"./chunk-FLZ5KV6J.js";import"./chunk-OCTREJ3R.js";import"./chunk-RG4N2AAJ.js";import"./chunk-JPVBM3R5.js";import"./chunk-DMPLD3VG.js";import"./chunk-WWUOPI5T.js";import"./chunk-HVADQEJS.js";import"./chunk-A52XYJMT.js";import"./chunk-YDUQEL3D.js";import"./chunk-SWHCYDK2.js";import"./chunk-BCT5GPKT.js";import"./chunk-FJBNQZUR.js";import"./chunk-XN45YXW3.js";import"./chunk-M75TVG7W.js";import"./chunk-YXS5E7TI.js";import"./chunk-XUKRDQIU.js";import"./chunk-OQJOA7JT.js";import"./chunk-YOJOUOFP.js";import"./chunk-7OQVWENF.js";import"./chunk-WD7752PC.js";import"./chunk-SLWKMGPD.js";import"./chunk-UC77E3WD.js";import"./chunk-GTSNHSPT.js";import"./chunk-LVPRDSPO.js";import"./chunk-PP43MII2.js";import"./chunk-YV3R2S6K.js";import"./chunk-RJO5LUBF.js";import"./chunk-DRPGNVVL.js";import"./chunk-UEENMIFU.js";import"./chunk-3OMHZBKM.js";import"./chunk-A264YTOP.js";import"./chunk-LRVKM4IV.js";import"./chunk-PVSNAFN3.js";import"./chunk-JYKQJVIF.js";import"./chunk-GBQG32PI.js";import"./chunk-Q6XXIWBJ.js";import"./chunk-VWYA3Z7M.js";import"./chunk-A3FIPWG3.js";import"./chunk-NTISK7TT.js";import"./chunk-MXRUZQZ7.js";import{$ as P,K as _,_ as C}from"./chunk-CU7RFE6B.js";import"./chunk-J4UWPXXS.js";import"./chunk-QZUNX5I4.js";import"./chunk-IVA2TTR4.js";import"./chunk-OG3IV3YP.js";import"./chunk-45FKVGCF.js";import"./chunk-KSCBZ3RY.js";import"./chunk-37O7OMRA.js";import"./chunk-5PGNMLJO.js";import"./chunk-35FUKWV2.js";import"./chunk-DHNKVM4B.js";import"./chunk-VL5VJIZ7.js";import"./chunk-TU7CE5HJ.js";import"./chunk-2NE2FMGV.js";import{Ga as h,Ob as k,Ya as se,fc as ne}from"./chunk-YILNSICT.js";import"./chunk-ORQMOT6Z.js";import"./chunk-L4N7WJIQ.js";import{K as B,pa as re}from"./chunk-LBCQTFOD.js";import{N as oe,w as L}from"./chunk-V63HWKAL.js";import"./chunk-ZZ2UZY4M.js";import"./chunk-XFAFBXWC.js";import"./chunk-7EEPBGCR.js";import"./chunk-CY6DCOJP.js";import"./chunk-2EJYCNYZ.js";import"./chunk-V2K75WCG.js";import{a as I}from"./chunk-B75PPTYD.js";import"./chunk-2AWSM2JA.js";import"./chunk-QXPU36HD.js";import"./chunk-QI5O5UGB.js";import"./chunk-2OGSVQVK.js";import"./chunk-Y5BBPTSN.js";import"./chunk-5LMNZ6ME.js";import"./chunk-SY7RUBBT.js";import"./chunk-M3FHVHHL.js";import"./chunk-BL7VW4RD.js";import"./chunk-LQWZRQFF.js";import"./chunk-VGOLUGG3.js";import"./chunk-DCDI35O2.js";import"./chunk-YEL3LVD4.js";import"./chunk-6SIBAM5N.js";import"./chunk-42IJDSSW.js";import"./chunk-BMKS7XLD.js";import"./chunk-MTFM4GGW.js";import{f as A,m as i,o as a}from"./chunk-UGZFXKPB.js";i();a();var w=A(I());i();a();var y=A(I());se();i();a();re();oe();i();a();var E=A(I());var H=(e,t)=>{let{from:l,transaction:o,provider:m}=e,[x,c]=(0,E.useState)(!1),[n,r]=(0,E.useState)(null),[d,u]=(0,E.useState)(!1),[f,S]=(0,E.useState)("");return(0,E.useEffect)(()=>{(async()=>{if(!!o){c(!0);try{let s=v.from(o);s.setSenderIfNotSet(l);let p="";m&&(p=q(await s.build({client:m}))),t&&await t(p),r({fee:s?.blockData?.gasConfig?.budget||"0",tx:s,txBytes:p}),u(!1),S("")}catch(s){u(!0),S(s?.message||"")}finally{c(!1)}}})()},[o]),{loading:x,error:d,errorMsg:f,result:n}};ne();var ie=({coinId:e,unapproved:t,preExecuteRet:l})=>{let o=F(t),{address:m,walletId:x}=o,{verifyGasLimitRet:c}=l,n=D(e,x)||{},{coinAmountInt:r}=n,{loading:d,result:u={},error:f,errorMsg:S}=H({from:m,transaction:t?.params?.transaction,provider:X}),g=u?.fee,s=(B(r)||k(r,g))&&!b(c),p=B(r)||k(r,0),G={coinId:e,loading:d,estimateFailed:f,networkFee:g},R;return f&&S&&(R=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:S})),{loading:d,networkFee:u,networkFeeProps:G,isSufficientGas:s,estimateFailed:f,estimateFailedMsg:R,isSufficientBalance:p,coinWithBalance:n}},J=ie;i();a();var T=A(I());var ae=({coinId:e,unapproved:t})=>{let l=O(),[o,m]=(0,T.useState)(!0),{host:x}=Y(t),{address:c}=F(t),[n,r]=(0,T.useState)({}),d=(0,T.useMemo)(()=>({checkTypes:[C.VERIFY_GAS_LIMIT,C.KYS],coinId:e,from:c,to:"",amount:0,txType:P.CALL_CONTRACT,domain:x}),[c,e]),u=async(g,s)=>{let p=await l({...d,chainId:s,inputData:g});r(p),m(!1)},f=(0,T.useMemo)(()=>n[C.VERIFY_GAS_LIMIT]||{},[n]);return{kysRet:(0,T.useMemo)(()=>({loading:o,...n[C.KYS]||{}}),[o,n]),loading:o,preExecuteRet:n,firePreExecute:u,verifyGasLimitRet:f}},Q=ae;var ce=(0,y.memo)(({unapproved:e})=>{let t=N(h)||{},l=t?.coinId||h,o=t?.chainIndex||t?.chainId||"",m=Q({unapproved:e,coinId:l}),{firePreExecute:x,kysRet:c,verifyGasLimitRet:n}=m,{networkFee:r,networkFeeProps:d,isSufficientGas:u,estimateFailed:f,estimateFailedMsg:S,loading:g,isSufficientBalance:s,coinWithBalance:p}=J({coinId:l,unapproved:e,preExecuteRet:m});(0,y.useEffect)(()=>{r?.txBytes&&o&&x(r?.txBytes,o)},[r?.txBytes,o]);let G=K({kysRet:c,baseCoin:t,estimateFailed:f,estimateFailedMsg:S,isSufficientGas:u,verifyGasLimitRet:n,isSufficientBalance:s,coinWithBalance:p}),{buttonGroup:R,handleCancel:te}=V({coinId:l,unapproved:e,feeLoading:g,preExecuteRet:m,estimateFailed:f,isSufficientGas:u,isSufficientBalance:s,extParams:{txBytes:r?.txBytes,fee:r?.fee},coinWithBalance:p});return W({kysRet:c,handleCancel:te}),y.default.createElement(U,{kysRet:c,unapproved:e,tipMessage:G,buttonGroup:R,networkFee:d})}),Z=ce;i();a();var $=A(I());function me(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var ee=({unapproved:e})=>{let t=me(z(e.params?.message));return $.default.createElement(j,{message:t,unapproved:e})};var Ze=({unapproved:e})=>{switch(e.method){case _.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case _.SIGN_TRANSACTION_BLOCK:return w.default.createElement(Z,{unapproved:e});case _.SIGN_MESSAGE:case _.SIGN_PERSONAL_MESSAGE:return w.default.createElement(ee,{unapproved:e});default:return""}};export{Ze as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-IED4TTIE.js.map

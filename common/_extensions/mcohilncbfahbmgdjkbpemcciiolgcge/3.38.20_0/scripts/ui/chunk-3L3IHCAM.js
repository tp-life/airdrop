import{a as ji,b as Xi,c as qi,d as O,f as Re,j as ut,k as Qi,l as ee,m as no,n as ro}from"./chunk-OZBIAJIW.js";import{a as Ji}from"./chunk-MQQA225G.js";import{b as io}from"./chunk-PCXL7FJY.js";import{a as oo}from"./chunk-5OA3WXQZ.js";import{a as zi}from"./chunk-CNX3VVOM.js";import{a as Yi}from"./chunk-3LIMLX72.js";import{a as Hi,e as $i,m as Wi,s as Ki}from"./chunk-MOISJT5B.js";import{a as Mi}from"./chunk-5AU4SCQT.js";import{a as Dt,b as Gi,c as eo}from"./chunk-Q4NRZ4HK.js";import{b as to,e as Zi}from"./chunk-JDOLDE6V.js";import{a as Vi}from"./chunk-3L5C5CQB.js";import{a as je}from"./chunk-2XYRURE2.js";import{d as Ui}from"./chunk-VUB7XYHG.js";import{a as Qt}from"./chunk-QVG4GOA5.js";import{b as Oi,d as qt,g as Jt}from"./chunk-4NCQWC2K.js";import{a as ki}from"./chunk-BSEC3HD3.js";import{c as Xt}from"./chunk-SR5VKAMR.js";import{c as hi,d as jt,f as Ai}from"./chunk-6ZM3C6AR.js";import{c as bi}from"./chunk-QO3FK7IQ.js";import{b as Kt,h as gi,i as Zt,l as Yt,m as Ei,n as Ii}from"./chunk-DD7QHK7G.js";import{a as Ci}from"./chunk-G4TAWZEB.js";import{a as vi}from"./chunk-6LE7Q5ED.js";import{a as Di}from"./chunk-SJ65V67P.js";import{b as bt}from"./chunk-ZBSU6WZQ.js";import{b as Ro}from"./chunk-IVCA3VWI.js";import{a as Pi}from"./chunk-JPVBM3R5.js";import{$ as _i,M as At,R as ai,aa as bo,ba as ci}from"./chunk-FJBNQZUR.js";import{d as Fo}from"./chunk-OQJOA7JT.js";import{a as Bi,f as Fi,h as Ri}from"./chunk-7OQVWENF.js";import{g as Si,h as Li}from"./chunk-GTSNHSPT.js";import{Wa as Vt,fb as Ti,gb as Ni}from"./chunk-PVSNAFN3.js";import{b as yi}from"./chunk-JYKQJVIF.js";import{l as wi,m as ie,q as we}from"./chunk-GBQG32PI.js";import{e as Ht,f as $t}from"./chunk-VWYA3Z7M.js";import{o as Bo}from"./chunk-A3FIPWG3.js";import{ac as Fe,ha as ui,m as K,ta as xi,w as ot,z as fi,zb as Wt}from"./chunk-NTISK7TT.js";import{a as B,b as o,d as j,e as vt,g as ve}from"./chunk-CU7RFE6B.js";import{a as Lo}from"./chunk-QZUNX5I4.js";import{e as be}from"./chunk-OG3IV3YP.js";import{d as ft,f as pi}from"./chunk-37O7OMRA.js";import{c as Z}from"./chunk-TU7CE5HJ.js";import{a as zt}from"./chunk-2NE2FMGV.js";import{Ea as ht,Fa as oi,Gb as Ot,Ib as Ut,Jb as ni,Oa as ii,Rc as di,Uc as pt,Wb as Ao,Wc as Do,Xc as it,Ya as ho,Yc as So,_b as ri,a as Jo,b as cl,fc as vo,sc as Mt,vc as Gt,xc as mi}from"./chunk-YILNSICT.js";import{A as de,G as si,H as Ee,L as Me,O as tt,P as Ie,o as Ne,y as dt}from"./chunk-L4N7WJIQ.js";import{F as Qo,K as Oe,fa as ei,pa as ct}from"./chunk-LBCQTFOD.js";import{B as Q,C as ti,N as P,e as Ye,w as a}from"./chunk-V63HWKAL.js";import{H as Ue,T as ge,Z as mt,ca as ze}from"./chunk-2EJYCNYZ.js";import{a as li}from"./chunk-V2K75WCG.js";import{a as w}from"./chunk-B75PPTYD.js";import{f as x,m as r,o as l}from"./chunk-UGZFXKPB.js";r();l();P();ct();var en="okx-wallet-plugin-report-centre",tn="okx-wallet-plugin-nft",ml="okx-wallet-plugin-report-centre",dl="okx-wallet-plugin-lock-1",pl="okx-wallet-plugin-swap-1",fl="okx-wallet-plugin-documentation",on=(e=[],t="en-US",i=!1)=>{if(!Array.isArray(e))return[[],[]];let n=new Map,_=[],s=[],c=0,d=m=>{let f=Ye(m.txTime,{format:"yyyyMMdd",locale:t});Oe(n.get(f))&&(n.set(f,c),s[c]={},s[c].date=f,s[c].list=[],c++);let g=n.get(f);s[g].list.push(m)};return e.forEach(m=>{m.txStatus===B.PENDING?!m.isShowPending&&i?d(m):_.push(m):d(m)}),[_,s]},Po=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.MINT_NFT||t===o.CANCEL_NFT||t===o.NFT_AUTHORIZATION?tn:t===o.NFT_CANCEL_AUTHORIZATION?fl:t===o.DAPP_NFT||t===o.CONTRACTCALL?ml:t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION?dl:t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT?pl:en},nn=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.BUY_NFT||t===o.SELL_NFT||t===o.MINT_NFT||t===o.DAPP_NFT||t===o.CANCEL_NFT},rn=(e={},t={})=>{let{nftId:i}=e,{txType:n}=t;return i||n===o.ORDINAL_NFT?tn:n===o.ORDINAL_TEXT?`${zt()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:en},ln=(e={})=>{let{hideTxType:t}=e;return Number.isInteger(t)&&t!==Kt.NORMAL},xt=e=>e.txType===o.TRANS_OUT&&e.okexAccount;r();l();var D=x(w()),Fr=x(Bo());ct();r();l();So();Do();var sn=e=>di(it.getGiftReceiveList,e);r();l();var se=x(w()),xn=x(Lo());r();l();var Xe=x(w());r();l();var nt=x(w());P();pi();So();Do();var ul=({tx:e,closeVisible:t,repeatVisible:i,onClose:n,onConfirm:_})=>{let s=_,c=t||i,{txHash:d,coinId:p,txId:m,include:f,coinSymbol:g}=e,T=f?.[0]?.protocolName,v=g,h=Bi(),C=qt(p)?.chainId||0,M=async()=>{try{let b=await ft().getRequestHeaders({walletId:h,needSign:!0,currency:"usd"}),S={txHash:d,accountId:h,chainId:C};return await pt(it.postCloseTranscation,S,{headers:b})}catch(b){let S=Ne.tip({title:a("extension_biz_title_cancel_transaction_failed"),confirmText:a("commonall_text_btn_ok_active"),children:nt.default.createElement("div",null,b.msg),onConfirm:()=>{s(m),S.destroy()}});throw b}},F=async()=>{try{let b=await ft().getRequestHeaders({walletId:h,needSign:!0,currency:"usd"}),S={txHash:d,accountId:h,chainId:C};await pt(it.postRepeatTranscation,S,{headers:b})}catch(b){let S=Ne.tip({title:a("extension_biz_title_cancel_broadcast_failed"),confirmText:a("commonall_text_btn_ok_active"),children:nt.default.createElement("div",null,b.msg),onConfirm:()=>{s(m),S.destroy()}});throw b}},G=async()=>{try{t?(_i({token_name:v,protocol:T}),await M()):i&&(ci({token_name:v,protocol:T}),await F())}catch{return}_(m),Ee.success({title:a("extension_defi_toast_header_tips_request_submit")})};return nt.default.createElement(Ne.Prompt,{visible:c,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:G,onClose:()=>{n&&n()},confirmText:a("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:ze.TYPE.highlight,size:ze.SIZE.lg},renderContent:b=>nt.default.createElement(b,null,nt.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},t&&a("extension_defi_toast_title_release_utxo"),i&&a("extension_defi_toast_title_rebroadcast")),nt.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},t&&a("extension_defi_toast_desc_release_utxo"),i&&a("extension_defi_toast_desc_rebroadcast")))})},an=ul;function xl({data:e,onRefresh:t}){let{showCloseTransaction:i,showTxRepeatBroadcast:n,include:_,coinSymbol:s}=e,[c,d]=(0,Xe.useState)(!1),[p,m]=(0,Xe.useState)(!1),f=_?.[0]?.protocolName,g=s;return Xe.default.createElement(Xe.default.Fragment,null,Xe.default.createElement(ut,{showCloseTransaction:i,showTxRepeatBroadcast:n,onClose:()=>{d(!0),bo({token_name:g,protocol:f,button_name:"releaseutxo"})},onRepeat:()=>{m(!0),bo({token_name:g,protocol:f,button_name:"rebroadcast"})}}),(c||p)&&Xe.default.createElement(an,{tx:e,closeVisible:c,repeatVisible:p,onConfirm:T=>{t(T),d(!1),m(!1)},onClose:()=>{d(!1),m(!1)}}))}var _n=xl;r();l();var St=x(w());r();l();var H=x(w()),Tt=x(Ue());P();vo();r();l();var Y={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Tl=({currentAvgFeeRate:e,expectedFeeRate:t,currentTxSize:i,ancestorsTxSize:n,totalFee:_,totalFeeUSD:s})=>H.default.createElement("div",{className:Y.transactionDetailBox},H.default.createElement("div",{className:Y.transactionAccelerationDetails},H.default.createElement("p",{className:Y.transactionDetailRow},n?H.default.createElement(de,{title:a("extension_defi_popup_tooltips_feerate_before_speedup"),placement:de.DIRECTION.topLeft,arrowAlignBoundary:!0},H.default.createElement("span",{className:(0,Tt.default)(Y.transactionDetailLabel,Y.textUnderline)},a("extension_defi_toast_item_current_fee_rate"))):H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_current_fee_rate")),H.default.createElement("span",{className:Y.transactionDetailValue},`${e} sats/vb`)),H.default.createElement("p",{className:Y.transactionDetailRow},H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_speedup_rate")),H.default.createElement("span",{className:Y.transactionDetailValue},`${t} sats/vb`)),H.default.createElement("p",{className:Y.transactionDetailRow},H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_txn_size")),H.default.createElement("span",{className:Y.transactionDetailValue},`${i}vb`)),n?H.default.createElement("p",{className:Y.transactionDetailRow},H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_ancestor_txn")),H.default.createElement("span",{className:Y.transactionDetailValue},`${n}vb`)):null,H.default.createElement("div",{className:Y.transactionDetailRow},n?H.default.createElement(de,{title:a("extension_defi_popup_tooltips_desc_total_fee_meaning")},H.default.createElement("span",{className:(0,Tt.default)(Y.transactionDetailLabel,Y.textUnderline)},a("extension_defi_toast_item_total_fee"))):H.default.createElement("span",{className:(0,Tt.default)(Y.transactionDetailLabel)},a("extension_defi_toast_item_total_fee")),H.default.createElement("p",{className:(0,Tt.default)(Y.transactionDetailValue,Y.transactionDetailFiatValue)},Ao(_)," ~ ",s))),H.default.createElement("p",{className:Y.transactionAccelerationFooter},a("extension_defi_toast_desc_0service_fee"))),Nl=({tx:e,feeInfo:t,visible:i,networkError:n,onClose:_,onConfirm:s,onRetry:c})=>{let{currencyPrice:d,currencySymbol:p}=Ui(e.mainCoinId),m=`${p}${ri(Ot(Ao(t.totalFee),d),2)}`;return H.default.createElement(ji,{visible:i,error:n,onClose:_,onConfirm:s,title:a("extension_defi_toast_title_speedup_txn"),headerTitle:ti("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:H.default.createElement(de,{title:a("extension_defi_popup_tooltips_cpfp_meaning")},H.default.createElement("span",{className:(0,Tt.default)(Y.transactionAccelerationSubtitle,Y.textUnderline)},`${a("extension_defi_toast_subtitle_using_cpfp")}`))}),content:H.default.createElement(Tl,{...t,totalFeeUSD:m}),errContent:H.default.createElement(dt.State,{title:a("extension_defi_toast_title_internet_error"),type:dt.State.TYPE.noNetwork,description:a("extension_defi_toast_subtitle_cant_get_fee"),buttonText:a("extension_defi_toast_btn_retry"),onButtonClick:()=>{c&&c()},className:Y.emptyState}),confirmText:a("wallet_extension_btn_general_confirm")})},cn=Nl;r();l();var le=x(w()),mn=x(Fe());P();vo();var Cl=(e,t)=>{let{address:i,mainCoinId:n,txHash:_,txId:s,btcSpeedUpInfo:c}=e,d=c?.cpfpSpeedUpUtxo?.[0].address||i,p=400002,[m,f]=(0,le.useState)(!1),[g,T]=(0,le.useState)(!1),[v,h]=(0,le.useState)(!1),[E,C]=(0,le.useState)(!1),[M,F]=(0,le.useState)(!1),[G,b]=(0,le.useState)({}),[S,z]=(0,le.useState)({}),[W,k,oe,X,xe]=Hi({...e,address:d}),R=(0,mn.useSelector)(Wt),{currencyId:y}=R,A=Wi({address:i,coinId:n,currencyId:y,doubleConfirmSource:$i.ACCELERATE});(0,le.useEffect)(()=>{(async()=>{if(W&&k?.expectedFeeRate){let[Ae,Be,,yt]=await X(W,k);(Ae||Be)&&b({...k,totalFee:Ut(Number(k.increaseFee)+yt)})}})()},[k,W,X]);let I=(0,le.useCallback)((Te,Ae)=>{if(Ae==="init")if(Te.msg){let Be=Ne.tip({title:a("extension_biz_title_speed_up_failed"),confirmText:a("commonall_text_btn_ok_active"),children:le.default.createElement("div",null,Te.msg),onConfirm:()=>{t(s),Be.destroy()}})}else T(!0),f(!0);else{if(Te?.code===p){Ee.error({title:a("extension_defi_top_toast_speedup_fail")}),t(s);return}if(Te?.code===zi.BALANCE_NOT_ENOUGH){At({accelerate_status:"utxo_fail"}),Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")});return}At({accelerate_status:"other_fail"}),h(!0)}},[]),L=(0,le.useCallback)(async()=>{if(!E){try{if(xe)throw xe;C(!0);let[Te,Ae,,Be]=await X(W,k);if(Te||Ae)b({...k,totalFee:Ut(Number(k.increaseFee)+Be)});else{Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")});return}f(!0),T(!1),h(!1)}catch(Te){I(Te,"init")}C(!1)}},[xe,W,k,I,E,X]),U=Pi()?.find(Te=>Te.coinId===n)?.localType,J=Ki({coinId:n,fromAddr:d,toAddr:d,outputs:[{address:d,amount:S.sendAmountInt}],networkFee:S.networkFeeInt,localType:U,dustSize:S.totalInput,satBytes:k.expectedFeeRate,coinAmount:S.sendAmountInt,extraPublishParams:{coinAmount:S.sendAmountInt,txType:o.TRANS_OUT}});(0,le.useEffect)(()=>{(async()=>{try{let{confirm:Ae,utxoList:Be}=S;Ae&&(await J({utxoList:Be}),Ee.success(a("extension_defi_top_toast_speedup_success")),At({accelerate_status:"success"}),t(s))}catch{Ee.error({title:a("extension_defi_top_toast_speedup_fail")})}})()},[S]);let Ce=(0,le.useCallback)(async()=>{if(M)return;if(F(!0),await Vi())try{let[Ae,Be,yt,sl]=await X(W,k);if(!Ae&&!Be){Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")}),At({accelerate_status:"utxo_fail"}),F(!1);return}try{await A(yt)}catch{F(!1);return}let jo=yt.reduce((al,_l)=>al+_l.coinAmount,0),Xo=Ut(sl,Number(k.increaseFee)),qo=Number(ni(jo,Xo));Be&&(qo=oe),z({totalInput:jo,sendAmountInt:qo,networkFeeInt:Xo,utxoList:yt,confirm:!0}),T(!1),h(!1),F(!1),f(!1)}catch(Ae){I(Ae,"confirm"),F(!1)}},[W,k,_]),yo=(0,le.useCallback)(async()=>{g&&L(),v&&Ce()},[L,v,g,Ce]);return{isFetchingTxFee:E,btcSpeedUpHandle:L,isBTCSpeedUpDialogVisible:m,displayFee:G,isFetchBTCFeeInfoNetworkError:g,isConfirmAccelerateError:v,onConfirmAccelerateBTCTX:Ce,setIsBTCSpeedUpDialogVisible:f,onRetryBtcSpeedUp:yo}},dn=Cl;function gl({data:e,onRefresh:t}){let{isFetchingTxFee:i,btcSpeedUpHandle:n,isBTCSpeedUpDialogVisible:_,displayFee:s,isFetchBTCFeeInfoNetworkError:c,isConfirmAccelerateError:d,onConfirmAccelerateBTCTX:p,setIsBTCSpeedUpDialogVisible:m,onRetryBtcSpeedUp:f}=dn(e,t);return St.default.createElement(St.default.Fragment,null,St.default.createElement(ut,{isLoading:i,canAccelerateBtcTx:!0,onBtcSpeedUp:n}),_&&St.default.createElement(cn,{tx:e,feeInfo:s,networkError:c||d,visible:_,onConfirm:async()=>{await p()},onClose:()=>{m(!1)},onRetry:f}))}var pn=gl;r();l();r();l();var El=()=>null,fn=El;var un=fn;function Il({data:e,onRefresh:t}){let i=(0,xn.useHistory)(),{from:n,coinId:_,txStatus:s,isShowSpeedUp:c,isShowCancel:d,isShowSpeedupCancel:p,mainCoinId:m,showCloseTransaction:f,showTxRepeatBroadcast:g,txType:T,bizData:v}=e,h=qt(_),[E,C]=(0,se.useState)(!1),[M,F]=(0,se.useState)(!1),G=hi(m),b=Ai(m),S=G&&s===B.PENDING,z=b&&s===B.PENDING,W=f||g,[k]=(0,se.useState)(b&&c),oe=T===o.RED_PACKET&&s===B.SUCCESS||T===o.RECEIVE_PACKET;(0,se.useEffect)(()=>{ai({button_appear:k?"yes":"no"})},[k]);let[X,xe]=Mi({coinId:_,address:n,chainId:h?.chainId},{ready:S});return se.default.createElement("div",{className:"tx-detail-action"},S&&!oe&&se.default.createElement(se.default.Fragment,null,se.default.createElement(ut,{isShowCancel:d,isShowSpeedUp:c&&G,isShowSpeedupCancel:p,onCancel:()=>{C(!0)},onSpeedUp:()=>{F(!0)}}),E&&se.default.createElement(Xi,{tx:e,signInfo:xe,visible:E,onConfirm:R=>{t(R),C(!1)},onClose:()=>{C(!1)}}),M&&se.default.createElement(qi,{tx:e,loading:X,signInfo:xe,visible:M,onConfirm:R=>{t(R),F(!1)},onClose:()=>{F(!1)}})),z&&se.default.createElement(se.default.Fragment,null,W&&se.default.createElement(_n,{data:e,onRefresh:t}),k&&se.default.createElement(pn,{data:e,onRefresh:t})),oe&&se.default.createElement(un,{onClick:()=>{T===o.RED_PACKET?i.push(`${Ni}?giftId=${v?.redPacketId}`):i.push(`${Ti}?giftId=${v?.redPacketId}&backMode=1`)}}))}var Tn=Il;r();l();var re=x(w()),ao=x(Ue()),Jn=x(li());r();l();var q=x(w()),wn=x(Ue());P();r();l();var lo=x(w());P();r();l();var Nn=x(w()),Cn=x(Bo());P();Do();So();pi();var wl=e=>{let{coinId:t}=e||{},i=(0,Nn.useRef)(!1),n=Si();return(0,Cn.useMemoizedFn)(async()=>{try{if(i.current===!0||!t)return;i.current=!0;let _=await ft().getUserUniqueId(),s={coinId:t,accountId:n,userUniqueId:_},d={headers:await ft().getSignRequestHeaders({walletId:n})},[p]=await Promise.all([xi({coinId:t}),pt(it.postAddCoin,s,d)]);await bi(p),Ee.success(a("wallet_extension_customtoken_notification_title_token_added"))}catch{Ee.error(a("wallet_home_toast_network_error"))}finally{i.current=!1}})},gn=wl;r();l();var En={root:"_root_4qsur_1"};function yl({coinId:e,hideTxType:t}){let i=Yi(),n=(0,lo.useMemo)(()=>!i||!e||!!i.some(s=>(s?.childrenCoin||[]).some(c=>c.coinId===e)||s.coinId===e),[e,i]),_=gn({coinId:e});return n||t===Kt.RISKY?null:lo.default.createElement(yi.IconButton,{className:En.root,icon:"okx-wallet-plugin-add",tooltip:{title:a("wallet_extension_customtoken_tooltips_add_token"),placement:de.DIRECTION.topLeft},onClick:_})}var In=yl;r();l();var N={"retina-border-basic":"_retina-border-basic_1lyft_1",retinaBorderBasic:"_retina-border-basic_1lyft_1","coin-flow":"_coin-flow_1lyft_29",coinFlow:"_coin-flow_1lyft_29","coin-flow__include":"_coin-flow__include_1lyft_35",coinFlowInclude:"_coin-flow__include_1lyft_35","coin-flow__include-title":"_coin-flow__include-title_1lyft_42",coinFlowIncludeTitle:"_coin-flow__include-title_1lyft_42","coin-flow__include-item":"_coin-flow__include-item_1lyft_49",coinFlowIncludeItem:"_coin-flow__include-item_1lyft_49","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1lyft_55",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1lyft_55","coin-flow__include-item-token":"_coin-flow__include-item-token_1lyft_61",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1lyft_61","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1lyft_70",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1lyft_70","coin-flow__protocol":"_coin-flow__protocol_1lyft_74",coinFlowProtocol:"_coin-flow__protocol_1lyft_74","coin-flow__protocol-title":"_coin-flow__protocol-title_1lyft_81",coinFlowProtocolTitle:"_coin-flow__protocol-title_1lyft_81","coin-flow__protocol-item":"_coin-flow__protocol-item_1lyft_88",coinFlowProtocolItem:"_coin-flow__protocol-item_1lyft_88","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1lyft_94",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1lyft_94","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1lyft_100",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1lyft_100","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1lyft_109",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1lyft_109","coin-flow__hidden-label":"_coin-flow__hidden-label_1lyft_113",coinFlowHiddenLabel:"_coin-flow__hidden-label_1lyft_113","coin-flow__label-text":"_coin-flow__label-text_1lyft_113",coinFlowLabelText:"_coin-flow__label-text_1lyft_113","coin-flow__label":"_coin-flow__label_1lyft_113",coinFlowLabel:"_coin-flow__label_1lyft_113","coin-flow__label__overflow":"_coin-flow__label__overflow_1lyft_125",coinFlowLabelOverflow:"_coin-flow__label__overflow_1lyft_125","coin-flow__label__expand":"_coin-flow__label__expand_1lyft_128",coinFlowLabelExpand:"_coin-flow__label__expand_1lyft_128","coin-flow__receive":"_coin-flow__receive_1lyft_141",coinFlowReceive:"_coin-flow__receive_1lyft_141","coin-flow__record-title":"_coin-flow__record-title_1lyft_141",coinFlowRecordTitle:"_coin-flow__record-title_1lyft_141","coin-flow__record":"_coin-flow__record_1lyft_141",coinFlowRecord:"_coin-flow__record_1lyft_141","coin-flow__record-left-box":"_coin-flow__record-left-box_1lyft_152",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1lyft_152","coin-flow__record-title-box":"_coin-flow__record-title-box_1lyft_158",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1lyft_158","coin-flow__tool-tip":"_coin-flow__tool-tip_1lyft_164",coinFlowToolTip:"_coin-flow__tool-tip_1lyft_164","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1lyft_168",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1lyft_168","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1lyft_172",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1lyft_172","protocol-margin":"_protocol-margin_1lyft_188",protocolMargin:"_protocol-margin_1lyft_188","coin-flow__record-icon":"_coin-flow__record-icon_1lyft_194",coinFlowRecordIcon:"_coin-flow__record-icon_1lyft_194","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1lyft_202",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1lyft_202","coin-flow__record-right-box":"_coin-flow__record-right-box_1lyft_216",coinFlowRecordRightBox:"_coin-flow__record-right-box_1lyft_216","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1lyft_221",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1lyft_221","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1lyft_225",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1lyft_225","coin-flow__record__plus":"_coin-flow__record__plus_1lyft_232",coinFlowRecordPlus:"_coin-flow__record__plus_1lyft_232","coin-flow__pointer":"_coin-flow__pointer_1lyft_237",coinFlowPointer:"_coin-flow__pointer_1lyft_237","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1lyft_240",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1lyft_240","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1lyft_246",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1lyft_246","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1lyft_256",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1lyft_256","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1lyft_262",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1lyft_262","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1lyft_268",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1lyft_268","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1lyft_279",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1lyft_279","coin-flow__claim":"_coin-flow__claim_1lyft_284",coinFlowClaim:"_coin-flow__claim_1lyft_284","coin-flow__claim__icon":"_coin-flow__claim__icon_1lyft_288",coinFlowClaimIcon:"_coin-flow__claim__icon_1lyft_288","coin-flow__claim-info":"_coin-flow__claim-info_1lyft_291",coinFlowClaimInfo:"_coin-flow__claim-info_1lyft_291",flowRightToken:"_flowRightToken_1lyft_333",flowRightApply:"_flowRightApply_1lyft_338"};var hl=(e,t)=>{!e||globalThis.platform.openTab({url:`https://${t}/${e}`})},Al=e=>{e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=15?"18px":t<=17?"16px":t<=19?"14px":(t<=22,"12px")};function vl(e){e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=13?"32px":t===14?"30px":t===15?"28px":t===16?"26px":t===17?"24px":t<=19?"22px":t<=21?"20px":t<=23?"18px":t<=26?"16px":t<=30?"14px":"12px"}function bl({recordData:e,isNFT:t,icon:i,title:n,subTitle:_,right:s,autoWidth:c,jumpInfo:d,hasPlus:p,isNewInclude:m,addCustomCoin:f}){let g=Di(),T=zt(),v=typeof i=="string"?q.default.createElement(Gi,{isNFT:t,className:(0,wn.default)({}),src:i,alt:""}):i;return m?q.default.createElement("div",{className:`${m?N["coin-flow__protocol"]:N["coin-flow__include"]}`},q.default.createElement("div",{className:`${N["coin-flow__include-title"]}`},a("extension_defi_card_text_include_assets")),(e?.items||[]).map(h=>q.default.createElement("div",{className:`${N["coin-flow__include-item"]}`},q.default.createElement("img",{className:`${N["coin-flow__include-item-icon"]}`,alt:"",src:h.icon}),q.default.createElement(we.AdaptiveText,{className:`${N["coin-flow__include-item-token"]}`,text:h.title,ellipsis:{tooltip:!0},autoSize:Al},h.title),h.right))):q.default.createElement(q.default.Fragment,null,q.default.createElement("div",{className:`${N["coin-flow__record"]} ${d?N["coin-flow__pointer"]:""}`,onClick:()=>{hl(d,g)}},q.default.createElement("div",{className:N["coin-flow__record-icon"]},v),q.default.createElement("div",{className:N["coin-flow__record-left-box--middle"]},q.default.createElement("div",{className:s?N["coin-flow__record-left-box--has-right"]:N["coin-flow__record-left-box"]},q.default.createElement("div",{className:`${c?N["protocol-margin"]:N["coin-flow__record-title-box"]}`},!s||c?q.default.createElement(we.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:vl},n):q.default.createElement(we.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${N["coin-flow__record-title"]}`},n),_&&q.default.createElement("div",{className:N["coin-flow__record-sub-title"]},_)),s&&q.default.createElement("div",{className:`${N["coin-flow__record-right-box"]} ${c?"":N["coin-flow__record-halfwidth"]}`},s))),f&&q.default.createElement(In,{...f}),d&&q.default.createElement("img",{className:N["coin-flow__record-jumpInfo-box"],src:`${T}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:"goto"})),p&&q.default.createElement(ge,{className:`${N["coin-flow__record__plus"]} okds-plus`}))}var Lt=bl;r();l();var ne=x(w()),ko=x(Ue());P();r();l();var rt=x(w());r();l();var so={wrap:"_wrap_swpmf_1",topRight:"_topRight_swpmf_7",bottomRight:"_bottomRight_swpmf_11"};function Dl({logo:e}){let{middleLogo:t,bottomRightLogo:i,topRightLogo:n}=e||{},_,s;Array.isArray(t)?(_=t,s="normal"):t&&typeof t=="object"&&(_=t.logos,s=t.size);let c,d;Array.isArray(i)?(c=i,d="small"):i&&typeof i=="object"&&(c=i.logos,d=i.size);let p,m;Array.isArray(n)?(p=n,m="small"):n&&typeof n=="object"&&(p=n.logos,m=n.size);let f=c&&c.length>0,g=p&&p.length>0;return rt.default.createElement(rt.default.Fragment,null,rt.default.createElement(eo,{srcset:_&&_.length>0?_:[be],size:s}),(g||f)&&rt.default.createElement("div",{className:so.wrap},g&&rt.default.createElement(eo,{className:so.topRight,size:m,srcset:p}),f&&rt.default.createElement(eo,{className:so.bottomRight,size:d,srcset:c})))}var Nt=Dl;r();l();var Ge=(e,t)=>e?t?`+ ${ie(e,{symbol:t})}`:`+ ${ie(e)}`:"--",lt=(e,t)=>e?t?`- ${ie(e,{symbol:t})}`:`- ${ie(e)}`:"--";var{NFT_AUTHORIZATION:yn,NFT_CANCEL_AUTHORIZATION:hn,CANCEL_NFT:Oo,AUTHORIZATION:An,CANCEL_AUTHORIZATION:vn,REGISTRATION:Sl,DAPP_APPLY:bn,DAPP_REDEEM:Dn,DAPP_CLAIM:Sn,BRC20_TRADE:Ln,BRC20_SEND:Bn,BRC20_RECEIVE:Fn,BRC20_MINT:Rn,BRC20_INSCRIBE:Pn,BRC20_DEPLOY:kn,BRC30_TRADE:Ll,EARN_BRC30_APPLY:On,EARN_BRC30_REDEEM:Un,EARN_BRC30_CLAIM:Mn,EARN_BRC30_DEPLOY:Bl,BRC30_SEND:Gn,BRC30_RECEIVE:Vn,BRC30_INSCRIBE:Hn,ORDINAL_NFT:$n,ORDINAL_TEXT:Wn,MINT_NFT:Fl,BTC_NFT_BULK_RECEIVE:Rl,BTC_NFT_BULK_SEND:Pl,BTC_NFT_BULK_TRADE:kl,DEFI_MINT:Ol,DEFI_REPAY:Ul,RUNES_ETCH:Kn,RUNES_SWEEP:Zn}=o,Ml="/static/images/tx-history/default-nft-detail.svg";function Gl(e){return e?Ml:be}var qe={[An]:"wallet_extension_header_approval_title_for",[vn]:"wallet_extension_header_approval_title_for",[Oo]:"wallet_extension_text_cancel_listing_on",[yn]:"wallet_extension_approve_text_for",[hn]:"wallet_extension_approve_text_for",[bn]:"wallet_extension_subtitle_into",[Dn]:"wallet_extension_subtitle_receive",[Sn]:"wallet_extension_subtitle_from",[Un]:"wallet_extension_subtitle_receive",[On]:"wallet_extension_subtitle_into",[Mn]:"wallet_extension_subtitle_receive",[Hn]:"wallet_extension_header_redeem_title_reveive",[Pn]:"wallet_extension_header_redeem_title_reveive",[Vn]:"extension_wallet_details_text_include",[Fn]:"extension_wallet_details_text_include",[$n]:"extension_wallet_details_text_receive",[Wn]:"extension_wallet_details_text_receive",[kn]:"extension_wallet_details_text_receive",[Rn]:"extension_wallet_details_text_receive",[Gn]:"extension_wallet_details_text_include",[Bn]:"extension_wallet_details_text_include",[Ln]:"extension_wallet_details_text_receive",[Kn]:"extension_wallet_details_text_receive",[Zn]:"extension_wallet_details_text_receive",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[o.DEFI_MINT]:"extension_defi_history_header_text_receive",[o.DEFI_REPAY]:"extension_defi_history_header_text_into"},Vl="/static/images/tx-history/default-protocol.svg",Bt="/static/images/tx-history/default-brcnft.svg";function Hl(e){let t=a("wallet_extension_history_text_unknown_token"),i=a("wallet_extension_history_text_unknown_protocol"),n=Object.values(o);return(0,ne.useMemo)(()=>{let{txType:_,input:s,include:c,investTxData:d,contractInfo:p,output:m,hideTxType:f}=e,{investInfo:g,investOutCoins:T}=d??{},v=()=>!s||!s.length?null:{label:a("wallet_extension_header_redeem_title_reveive"),items:s.map(({name:y,amount:A,icon:I,nftId:L,protocolName:V,coinId:U})=>(I=I||Gl(L),{isNFT:!!L,icon:I,title:Ge(A,y),right:V?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},V):null,autoWidth:!!V,addCustomCoin:{coinId:U,hideTxType:f}})),className:"coin-flow__receive"},h=()=>d?{label:a("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:d?.investInfo?.investLogo?.middleLogo[0]||be,title:d?.investInfo?.investName,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},d?.investInfo?.poolId?`ID: ${d?.investInfo?.poolId}`:"")}]}:null,E=()=>s&&s.length>0?{label:a(qe[e.txType]),items:s.map(({name:y,amount:A,icon:I,nftId:L,brc20Coin:V,brc20sCoin:U,protocolName:J})=>(I=I||Bt,{isNFT:!!L||V||U,icon:I,title:Ge(A,y),right:J?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},J):null,autoWidth:!!J})),className:"coin-flow__receive"}:null,C=()=>c?.length?{isNewInclude:!0,items:(c||[]).map(({name:y,amount:A,icon:I,vdecimalNum:L,nftId:V,brc20Coin:U,brc20sCoin:J,protocolName:Ce})=>({isNFT:!!V||U||J,icon:I||Bt,title:`- ${Ro(A,{fixed:L})} ${y}`,right:Ce?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},Ce):null,autoWidth:!!Ce}))}:null,M=()=>({items:(m||[]).map(({name:y,amount:A,icon:I,vdecimalNum:L,nftId:V,brc20Coin:U,brc20sCoin:J})=>({isNFT:!!V||U||J,icon:I||Bt,title:`- ${Ro(A,{fixed:L})} ${y}`}))}),F=()=>s&&s.length>0?{items:(s||[]).map(({name:y,amount:A,icon:I,nftId:L,brc20Coin:V,brc20sCoin:U})=>({isNFT:!!L||V||U,icon:I||Bt,title:`+ ${ie(A,{symbol:y})}`}))}:null,G=()=>({label:a(qe[e.txType]),items:[{icon:p?.icon||Vl,title:p?.name||i,subTitle:e.txType!==Oo&&p?.address&&ne.default.createElement(Re,{className:N["coin-flow__record-address"],label:K(p.address),value:p.address,message:a("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),b=()=>{let{investName:y,investLogo:A,poolId:I}=g||{},L;return{isNFT:!0,label:a(qe[e.txType]),items:[{icon:ne.default.createElement(Nt,{logo:A}),title:y??t,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},I?`ID: ${I}`:""),right:L}]}},S=()=>{let{investName:y,platformName:A,investLogo:I}=g||{},L,V="",U="";if(!e.investTxData)return null;if(e.investTxData.investmentDetailType===ve.FARM_OTHER_TOKEN&&(V=N.flowRightToken,U=N.flowRightApply),(e.investTxData.investmentDetailType===ve.SAVE_OTHER_COIN||e.investTxData.investmentDetailType===ve.VAULTS_OTHER_COIN||e.investTxData.investmentDetailType===ve.FARM_OTHER_TOKEN)&&T&&T.length>0){let[{tokenName:J,num:Ce}]=T;L=ne.default.createElement("div",{className:(0,ko.default)(N["coin-flow__invest-apply-right"],U)},ne.default.createElement("div",{className:N["coin-flow__invest-apply-num"]},ne.default.createElement(Dt,{text:ie(Ce),maxWidth:"85px"})),ne.default.createElement("div",{className:(0,ko.default)(N["coin-flow__invest-apply-token"],V)},J))}return{label:a(qe[e.txType]),items:[{icon:ne.default.createElement(Nt,{logo:I}),title:y??t,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},A??i),right:L}]}},z=()=>({label:a(qe[e.txType]),items:(d.investInCoins||[]).map(({tokenName:A,num:I,tokenLogo:L})=>(I=Ge(I),{icon:L??t,title:`${I} ${A}`})),className:"coin-flow__receive"}),W=()=>!T||T?.length===0?null:{label:a(qe[e.txType]),items:(T||[]).map(({tokenName:y,num:A,tokenLogo:I,tokenId:L})=>{let V=Ge(A),U=e.txStatus===B.SUCCESS&&L,J=U?`${V} ${y} #${U}`:`${V} ${y}`;return{icon:I,title:J}}),className:"coin-flow__receive"},k=()=>{let y=a(qe[e.txType]);return d?{isNFT:!0,label:y,items:(d.investInCoins||[]).map(({tokenName:A,num:I,tokenLogo:L})=>(I=Ge(I),{icon:L??t,title:`${I} ${A}`})),className:"coin-flow__receive"}:null},oe=()=>{let{platformName:y,investLogo:A,investName:I}=g||{};return{label:a(qe[e.txType]),items:[{icon:ne.default.createElement(Nt,{logo:A}),title:I??t,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},y??i)}]}},X=()=>c&&c.length>0?{isNewInclude:!0,items:(c||[]).map(({name:y,amount:A,icon:I,nftId:L,brc20Coin:V,brc20sCoin:U,protocolName:J})=>({isNFT:!!L||V||U,icon:I||Bt,title:`+ ${ie(A,{symbol:y})}`,right:J?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},J):null,autoWidth:!!J,includeAssets:c}))}:null,xe=()=>null,R={[Bl]:h,[Hn]:E,[Pn]:E,[$n]:E,[Wn]:E,[kn]:E,[Rn]:E,[Kn]:E,[Zn]:E,[Vn]:X,[Fn]:X,[Ll]:E,[Ln]:E,[Gn]:C,[Bn]:C,[yn]:G,[hn]:G,[vn]:G,[An]:G,[Oo]:G,[On]:b,[bn]:S,[Un]:z,[Dn]:W,[Mn]:k,[Sn]:oe,[Sl]:xe,[Fl]:v,[Pl]:M,[Rl]:F,[kl]:E,[Ol]:W,[Ul]:S};return R[_]?R[_]():n.includes(_)?v():null},[e])}var Yn=Hl;r();l();var ae=x(w()),Ct=x(Ue());P();var Xn="/static/images/tx-history/default-nft-detail.svg",$l="/static/images/tx-history/default-nft.svg",zn="/static/images/tx-history/default-brcnft.svg";function jn(e){return e?Xn:be}var Pe={[o.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[o.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[o.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[o.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[o.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[o.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[o.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[o.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[o.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[o.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_DEPLOY]:"extension_wallet_details_text_send",[o.ORDINAL_NFT]:"extension_wallet_details_text_send",[o.ORDINAL_TEXT]:"extension_wallet_details_text_send",[o.BRC20_MINT]:"extension_wallet_details_text_send",[o.BRC30_TRADE]:"extension_wallet_details_text_send",[o.BRC20_TRADE]:"extension_wallet_details_text_send",[o.BRC20_SEND]:"extension_wallet_details_text_send",[o.BRC30_SEND]:"extension_wallet_details_text_send",[o.RUNES_SWEEP]:"extension_wallet_details_text_send",[o.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[o.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[o.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[o.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[o.DEFI_REPAY]:"extension_defi_history_header_text_repay_with"};function Wl(e){let t=a("wallet_extension_history_text_unknown_token"),i=a("wallet_extension_history_text_unknown_protocol");return(0,ae.useMemo)(()=>{let{txType:n,txStatus:_,approveInfo:s,input:c,output:d,investTxData:p,poolId:m}=e,{investInCoins:f}=e.investTxData||{},g=Object.values(o),T=()=>d&&d.length>0?{label:a(Pe[n]),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,brc20Coin:L,brc20sCoin:V,protocolName:U})=>({isNFT:!!I||L||V,icon:A||zn,title:lt(y,R),right:U?ae.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},U):null,autoWidth:!!U}))}:null,v=()=>!c||!c?.length?null:{label:a("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(c||[]).map(({name:R,amount:y,icon:A,nftId:I,brc20Coin:L,brc20sCoin:V,protocolName:U})=>({isNFT:!!I||L||V,icon:A||zn,title:Ge(y,R),right:U?ae.default.createElement("div",{className:(0,Ct.default)(N.protocol)},U):null,autoWidth:!!U}))},h=()=>({label:a(Pe[n]),items:[{icon:s?.icon||be,title:s?.name||t}]}),E=()=>({label:a(Pe[n]),items:[{icon:s?.nftCollectionIcon||$l,title:s?.nftCollectionName||a("wallet_extension_title_approve_nft_collection")}]}),C=()=>({label:a(Pe[n]),items:(d||[]).map(({nftId:R,icon:y,name:A})=>({isNFT:!!R,icon:y||Xn,title:A||a("wallet_extension_title_approve_nft")}))}),M=()=>{let{registerInfo:R}=e;return R?{label:"",items:[{icon:R?.icon||be,title:R?.name||t}],title:a("wallet_extension_title_approve_nft")}:null},F=()=>({label:a(Pe[n]),items:(f||[]).map(({tokenName:R,num:y,tokenLogo:A})=>(y=lt(y),{icon:A??t,title:`${y} ${R}`}))}),G=()=>({label:a(Pe[n]),items:(f||[]).map(({tokenName:R,num:y,tokenLogo:A})=>(y=lt(y),{icon:A??t,title:`${y} ${R}`}))}),b=()=>{let{investInfo:R,redeemShowNum:y}=e.investTxData||{},{investName:A,platformName:I,investLogo:L}=R||{},V=null,U="",J="";if(!e.investTxData)return null;let Ce=e.investTxData.investmentDetailType;if((Ce==ve.FARM_LP_TOKEN||Ce==ve.FARM_OTHER_TOKEN)&&(U=N.flowRightToken,J=N.flowRightApply),y&&f&&f.length){let yo=lt(f[0]?.num);V=ae.default.createElement("div",{className:(0,Ct.default)(N["coin-flow__invest-apply-right"],J)},ae.default.createElement("div",{className:N["coin-flow__invest-apply-num"]},ae.default.createElement(we.Text,{ellipsis:{tooltip:!0},className:N["coin-flow__invest-apply-num__tooltip"]},yo)),ae.default.createElement("div",{className:(0,Ct.default)(N["coin-flow__invest-apply-token"],U)},f[0]?.tokenName))}return{label:a(Pe[n]),items:[{icon:ae.default.createElement(Nt,{logo:L}),title:A??t,right:V,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},I??i)}]}},S=()=>p?{label:a(Pe[n]),items:[{isNFT:!1,icon:p.investInfo.investLogo.middleLogo[0]||be,title:p.investInfo.investName,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},p.investInfo.poolId?`ID: ${p.investInfo.poolId}`:"")}]}:null,z=()=>p?{label:a(Pe[n]),items:[{isNFT:!1,icon:p.investInfo.investLogo.middleLogo[0]||be,title:p.investInfo.investName,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},m?`ID: ${m}`:"")}]}:null,W=()=>{let R;return _===B.PENDING?R=ae.default.createElement("div",{className:N["coin-flow__claim"]},a("wallet_extension_subtitle_claimwith"),ae.default.createElement(de,{title:a("wallet_extension_card_ntfy_claim_text"),placement:de.DIRECTION.bottomLeft},ae.default.createElement("span",{className:`okds-information-circle ${N["coin-flow__claim__icon"]}`}))):R=a(Pe[n]),{label:R,items:(f||[]).map(({tokenName:y,num:A,tokenLogo:I})=>(A=Ge(A),{icon:I??t,title:`${A} ${y}`,className:"coin-flow__receive"}))}},k=()=>d&&d.length>0?{label:a("wallet_extension_header_redeem_title_sent"),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,protocolName:L,include:V})=>({isNFT:!!I,icon:A||jn(I),title:lt(y,R),right:L?ae.default.createElement("div",{className:(0,Ct.default)(N.protocol)},L):null,autoWidth:!!L,includeAssets:V}))}:null,oe=()=>d&&d.length>0?{label:a("wallet_extension_header_redeem_title_sent"),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,protocolName:L})=>({isNFT:!!I,icon:A||jn(I),title:lt(y,R),right:L?ae.default.createElement("div",{className:(0,Ct.default)(N.protocol)},L):null,autoWidth:!!L}))}:null,X=()=>null,xe={[o.BRC30_INSCRIBE]:T,[o.BRC20_INSCRIBE]:T,[o.BRC20_DEPLOY]:T,[o.ORDINAL_NFT]:T,[o.ORDINAL_TEXT]:T,[o.BRC20_MINT]:T,[o.BRC20_TRADE]:T,[o.BRC30_TRADE]:T,[o.BRC20_RECEIVE]:v,[o.BRC30_RECEIVE]:v,[o.RUNES_SWEEP]:T,[o.CANCEL_AUTHORIZATION]:h,[o.AUTHORIZATION]:h,[o.NFT_CANCEL_AUTHORIZATION]:E,[o.NFT_AUTHORIZATION]:E,[o.CANCEL_NFT]:C,[o.REGISTRATION]:M,[o.EARN_BRC30_APPLY]:F,[o.DAPP_APPLY]:G,[o.EARN_BRC30_REDEEM]:S,[o.DAPP_REDEEM]:b,[o.EARN_BRC30_CLAIM]:z,[o.DAPP_CLAIM]:W,[o.BTC_NFT_BULK_SEND]:X,[o.BTC_NFT_BULK_RECEIVE]:X,[o.BRC20_SEND]:k,[o.BRC30_SEND]:k,[o.DEFI_MINT]:b,[o.DEFI_REPAY]:G,default:oe};return xe[n]?xe[n]():g.includes(n)?oe():null},[e])}var qn=Wl;function Uo({className:e,label:t,children:i}){return re.default.createElement("div",{className:(0,ao.default)(t?N["coin-flow__label"]:"",e)},re.default.createElement("div",{className:N["coin-flow__label-text"]},t),re.default.createElement("div",null,i))}function Kl({className:e,label:t,children:i,isExpand:n,setExpand:_}){return re.default.createElement("div",{className:(0,ao.default)(t?N["coin-flow__label__overflow"]:"",e)},re.default.createElement("div",{className:N["coin-flow__label-text"]},t),re.default.createElement("div",null,n?i:i.slice(0,2)),re.default.createElement(io,{className:N["coin-flow__label__expand"],side:n?io.SIDE.TOP:io.SIDE.BOTTOM,onClick:()=>{_(!n)}}))}function Mo({data:e}){let{txType:t}=e,i=qn(e),n=Yn(e),[_,s]=(0,re.useState)(!1);if(!i&&!n||t===o.CANCEL_NFT&&i.items.length===0)return null;let c=!i||!n,d=p=>{if(!p)return null;let{items:m,label:f,...g}=p,T=e?.investmentPath;return p?.isNewInclude?re.default.createElement(Uo,{...g,label:f},re.default.createElement(Lt,{recordData:p,isNewInclude:p?.isNewInclude})):t===o.DAPP_APPLY||t===o.DAPP_REDEEM?re.default.createElement(Uo,{...g,label:f},m.map((v,h)=>re.default.createElement(Lt,{jumpInfo:v.subTitle?T:void 0,...v,key:h,hasPlus:m.length>=2&&h!==m.length-1,label:f}))):m?.length>2?re.default.createElement(Kl,{...g,label:f,isExpand:_,setExpand:s},m.map((v,h)=>re.default.createElement(Lt,{...v,key:h}))):re.default.createElement(Uo,{...g,label:f},m?.map((v,h)=>re.default.createElement(Lt,{jumpInfo:v.subTitle?T:void 0,...v,key:h})))};return re.default.createElement("div",{className:(0,ao.default)(N["coin-flow"],{[N["coin-flow__hidden-label"]]:c})},d(i),d(n))}var Qn=Mo;Mo.propTypes={data:Jn.default.object};Mo.defaultProps={data:{}};r();l();var ce=x(w()),er=x(Bo());ct();P();mi();r();l();var De=x(w());P();r();l();var _o={"tx-detail-info__add-address":"_tx-detail-info__add-address_psmhd_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_psmhd_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_psmhd_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_psmhd_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_psmhd_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_psmhd_1"};function Zl({address:e,network:t}){let[i,n]=(0,De.useState)(!1),[_,s]=(0,De.useState)({}),[c,d]=(0,De.useState)(""),p=Zi(()=>{d(oo.TYPE.ADD),s({address:e,network:t}),n(!0)}),m=g=>{n(!1),setTimeout(()=>{d(oo.TYPE.EDIT),s({...g,network:t}),n(!0)})},f=()=>{n(!1),s({}),d("")};return De.default.createElement(De.default.Fragment,null,De.default.createElement("div",{className:_o["tx-detail-info__add-address"]},De.default.createElement(de,{className:_o["tx-detail-info__add-address__tooltip"],title:i?null:a("wallet_extension_history_pop_tap_to_add"),type:de.TYPES.neutral,placement:de.DIRECTION.bottomRight},De.default.createElement(ge,{className:`${_o["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:p}))),De.default.createElement(oo,{visible:i,type:c,data:_,onClose:f,onChangeToEdit:m}))}var co=Zl;r();l();var Se={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function Yl(e,t){let i=e||[{address:t}];return[...new Set(i.map(({address:n})=>n))]}function zl({data:e}){let{inAdrList:t,txType:i,mainCoinId:n,coinId:_,okexAccount:s,txStatus:c}=e,[,d]=Jt(_),m=Xt({coinId:+n})?.localType,[f,g]=ce.default.useState(!0),T=to(m),v=Fi(),h=Yl(t,s),E=(0,er.useCreation)(()=>h.map(C=>{let M=!1,F;(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.BRC20_RECEIVE||i===o.BRC20_SEND||i===o.BRC20_INSCRIBE||i===o.BRC20_MINT||i===o.BRC20_DEPLOY||i===o.ORDINAL_NFT||i===o.ORDINAL_TEXT||i===o.BRC20_TRADE||i===o.BRC30_TRADE||i===o.RUNES_SWEEP)&&(F=T(C),M=!F),i===o.REDEEM&&c===B.SUCCESS&&(F={address:C,name:s});let b=Object.values(v).find(W=>!Oe(W[C]))?.[C],S=b?Qt(a,b,d?.symbol):a("wallet_extension_popup_title_receiving_address_copied"),z=b?a(Mt[Gt[b]]):"";return{address:C,canAdd:M,msg:S,tag:z,tag2:F}}),[t,i,T,v,d,a]);return!E||E.length===0?null:ce.default.createElement("div",{className:Se.address},ce.default.createElement("div",{className:Se["address-type"]},a("wallet_extension_mid_text_from")),E.map(C=>ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("div",{className:Se["address-content"]},ce.default.createElement("div",{className:Se["address-string"]},C.address),ce.default.createElement("div",{className:Se["address-right"]},ce.default.createElement(Re,{label:C.label,value:C.address,message:C.msg}),C.canAdd&&ce.default.createElement(co,{address:C.address,network:m}))),ce.default.createElement("div",{className:Se["address-container"]},C.tag&&ce.default.createElement(Ie,{className:Se["address-tag"]},C?.tag),C?.tag2?.name&&ce.default.createElement(Ie,{className:Se["address-tag"]},C?.tag2?.name)))),ce.default.createElement("div",{className:f?Se.fold:Se.unfold,onClick:()=>{g(!f)}}))}var tr=zl;r();l();var Ve=x(w());P();r();l();var Je={container:"_container_a2v75_1",label:"_label_a2v75_4",content:"_content_a2v75_11","user-name":"_user-name_a2v75_17",userName:"_user-name_a2v75_17",address:"_address_a2v75_24"};var jl=({data:e})=>{let{bizData:t,txType:i,from:n}=e;return Ve.default.createElement("div",{className:Je.container},Ve.default.createElement("div",{className:Je.label},Q("commonall_colheader_text_from")),Ve.default.createElement("div",{className:Je.content},Ve.default.createElement("div",{className:Je.contentLeft},Ve.default.createElement("div",{className:Je.userName},i===o.RED_PACKET?ot(t.fromTgName):ot(t.senderTgName)),i===o.RED_PACKET&&Ve.default.createElement("div",{className:Je.address},K(n))),i===o.RED_PACKET&&Ve.default.createElement("div",{className:Je["content-right"]},Ve.default.createElement(Re,{value:i===o.RED_PACKET?n:t.senderTgName}))))},or=jl;r();l();r();l();var po=x(w());P();r();l();var st=x(w());P();r();l();var $e=x(w()),ir=x(Ue()),Ft=x(li());P();r();l();var He={"retina-border-basic":"_retina-border-basic_1n7t6_1",retinaBorderBasic:"_retina-border-basic_1n7t6_1","tx-hash__inner":"_tx-hash__inner_1n7t6_29",txHashInner:"_tx-hash__inner_1n7t6_29","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1n7t6_33",txHashInnerWrap:"_tx-hash__inner-wrap_1n7t6_33","tx-hash__vertical":"_tx-hash__vertical_1n7t6_74",txHashVertical:"_tx-hash__vertical_1n7t6_74","tx-hash__icon":"_tx-hash__icon_1n7t6_80",txHashIcon:"_tx-hash__icon_1n7t6_80","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1n7t6_85",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1n7t6_85","tx-hash__message":"_tx-hash__message_1n7t6_98",txHashMessage:"_tx-hash__message_1n7t6_98","tx-hash__tag":"_tx-hash__tag_1n7t6_102",txHashTag:"_tx-hash__tag_1n7t6_102"};function Go({className:e,label:t,value:i,message:n,tag:_,url:s,showExplorerUrl:c}){let[d,p]=Ji(),m=()=>{d||(p(i),si.success({title:n||a("wallet_receive_toast_address_copied"),desc:$e.default.createElement("div",{className:He["tx-hash__message"]},i)}))},f=()=>{!c||globalThis.platform.openTab({url:s})};return $e.default.createElement("div",{className:(0,ir.default)(He["tx-hash"],e)},$e.default.createElement("div",{className:He["tx-hash__inner"]},$e.default.createElement("div",{className:He[c?"tx-hash__inner-wrap":""],onClick:f},t,_&&$e.default.createElement("div",{className:He["tx-hash__tag"]},_)),$e.default.createElement("div",{className:He["tx-hash__vertical"]}),$e.default.createElement("div",{className:He["tx-hash__icon"],onClick:m},$e.default.createElement(ge,{className:`okx-wallet-plugin-copy-1 ${He["okx-wallet-plugin-copy-1"]}`}))))}var gt=Go;Go.propTypes={label:Ft.default.any,value:Ft.default.string,message:Ft.default.string,className:Ft.default.string};Go.defaultProps={label:"",value:"",className:"",message:""};r();l();var me={records:"_records_c1ld0_1",label:"_label_c1ld0_7",expand:"_expand_c1ld0_8","expanded-icon":"_expanded-icon_c1ld0_19",expandedIcon:"_expanded-icon_c1ld0_19",record:"_record_c1ld0_1","record-left":"_record-left_c1ld0_26",recordLeft:"_record-left_c1ld0_26","record-right":"_record-right_c1ld0_27",recordRight:"_record-right_c1ld0_27","copy-icon":"_copy-icon_c1ld0_34",copyIcon:"_copy-icon_c1ld0_34",name:"_name_c1ld0_38",adress:"_adress_c1ld0_45",hash:"_hash_c1ld0_52",divder:"_divder_c1ld0_60",empty:"_empty_c1ld0_65"};var Xl=({record:e})=>{let{claimerTgName:t,claimAddress:i,txHash:n,showExplorerUrl:_,explorerUrl:s}=e;return st.default.createElement(Z.FlexBox,{align:Z.ALIGN.center,className:me.record},st.default.createElement(Z.FlexBox,{direction:Z.DIRECTION.vertical,className:me.recordLeft},st.default.createElement("span",{className:me.name},ot(t)),st.default.createElement("span",{className:me.adress},K(i))),n&&st.default.createElement(Z.FlexBox,{align:Z.ALIGN.center,justify:"flex-end",className:me.recordRight},st.default.createElement(gt,{showExplorerUrl:_,label:K(n),value:n,url:s,message:Q("wallet_extension_popup_title_transaction_hash_copied")})))},mo=Xl;var ql=({data:e})=>{let{bizData:t,from:i,txHash:n,showExplorerUrl:_,explorerUrl:s}=e,c={claimerTgName:t.fromTgName,claimAddress:i,txHash:n,showExplorerUrl:_,explorerUrl:s};return po.default.createElement("div",{className:me.records},po.default.createElement("span",{className:me.label},Q("wallet_extension_gift_subtitle_wallet_hash")),po.default.createElement(mo,{record:c}))},nr=ql;r();l();var pe=x(w()),sr=x(Ue());P();r();l();var Vo=x(w()),lr=x(Ue());r();l();var rr={root:"_root_17ca3_1"};function Jl({className:e}){return Vo.default.createElement("div",{className:(0,lr.default)(rr.root,e)},Vo.default.createElement(mt.Circle,{size:mt.SIZE.md}))}var at=Jl;var Ql=({data:e,isExpanded:t,onToggle:i,loading:n,noMore:_,hasExpandedBtn:s,loadingMore:c})=>{let d=(0,pe.useMemo)(()=>t?n?pe.default.createElement(at,null):e?.list.length===0?pe.default.createElement(dt.State,{className:me.empty,type:dt.State.TYPE.noRecord,title:Q("wallet_extension_gift_empty_not_claim")}):pe.default.createElement(pe.default.Fragment,null,e?.list?.map(p=>pe.default.createElement(mo,{key:p.rowId,record:p}))):null,[e,n,t]);return pe.default.createElement("div",{className:me.records},pe.default.createElement(Z.FlexBox,{justify:"space-between"},pe.default.createElement("span",{className:me.label},Q("wallet_extension_gift_subtitle_gift_hash")),s&&pe.default.createElement("span",{className:me.expand,onClick:i},Q("wallet_extension_btn_general_show"),pe.default.createElement(ge,{className:(0,sr.default)("okx-wallet-plugin-add-arrow-chevrons",t&&me.expandedIcon)}))),d,!_&&c&&pe.default.createElement(at,null))},ar=Ql;var Ho={Receive:ar,Create:nr};r();l();var ye=x(w());P();r();l();var We={container:"_container_1ezsj_1",label:"_label_1ezsj_4",content:"_content_1ezsj_11","content-left":"_content-left_1ezsj_17",contentLeft:"_content-left_1ezsj_17","user-name":"_user-name_1ezsj_21",userName:"_user-name_1ezsj_21",address:"_address_1ezsj_28"};var es=({data:e})=>{let{bizData:t,txType:i,to:n}=e,_=t?.addressToTgNames?t.addressToTgNames[n]:"";return ye.default.createElement("div",{className:We.container},ye.default.createElement("div",{className:We.label},Q("commonall_colheader_text_to")),ye.default.createElement("div",{className:We.content},ye.default.createElement("div",{className:We.contentLeft},i===o.RED_PACKET?ye.default.createElement("div",{className:We.userName},Q("wallet_extension_gift_your_telegram_contact")):ye.default.createElement(ye.default.Fragment,null,ye.default.createElement("div",{className:We.userName},ot(_)),ye.default.createElement("div",{className:We.address},K(n)))),i===o.RECEIVE_PACKET&&ye.default.createElement("div",{className:We["content-right"]},ye.default.createElement(Re,{value:n}))))},_r=es;r();l();var _e=x(w());r();l();var cr={loaderContainer:"_loaderContainer_1dvk5_1"};var ts=()=>_e.default.createElement(Z.Space,{space:54,direction:Z.DIRECTION.vertical,className:cr.loaderContainer},_e.default.createElement(Z.Space,{space:30,direction:Z.DIRECTION.vertical},_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"178px",height:"32px"}})),_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"178px",height:"32px"}}))),_e.default.createElement(Z.Space,{space:30,direction:Z.DIRECTION.vertical},_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"250px",height:"32px"}})),_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"250px",height:"32px"}})))),mr=ts;r();l();var fe=x(w());P();mi();r();l();var Qe={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};function os({data:e}){let{to:t,txType:i,contractInfo:n,mainCoinId:_,coinId:s}=e,[,c]=Jt(s),p=Xt({coinId:+_})?.localType,m=to(p),f=Ri(p),{label:g,toAddress:T,msg:v,tags:h,canAdd:E}=(0,fe.useMemo)(()=>{let C,M,F=!1,G=[];if(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.REDEEM||[o.BRC20_INSCRIBE,o.BRC20_MINT,o.ORDINAL_NFT,o.ORDINAL_TEXT,o.BRC20_DEPLOY,o.BRC20_RECEIVE,o.BRC20_SEND,o.BRC20_TRADE,o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY,o.BRC30_SEND,o.BRC30_RECEIVE,o.EARN_BRC30_CLAIM,o.BRC30_INSCRIBE,o.BRC30_TRADE,o.RUNES_SWEEP].includes(i)){let W=m(t);F=!W,C=a("wallet_extension_mid_text_to"),W?.name&&G.push(W.name);let k=xt(e);k&&G.push(k),M=t}else{let{address:W,name:k}=n||{};C=i===o.REGISTRATION?a("wallet_extension_item_register_address"):a("wallet_extension_mid_text_interaction_address"),G.push(k),i===o.AUTHORIZATION||i===o.CANCEL_AUTHORIZATION||i===o.NFT_AUTHORIZATION||i===o.NFT_CANCEL_AUTHORIZATION?M=t:M=W}let b=f[M],S=b?a(Mt[Gt[b]]):"",z=b?Qt(a,b,c?.symbol):a("wallet_extension_popup_title_receiving_address_copied");return G.unshift(S),{label:C,toAddress:M,tags:G,canAdd:F,msg:z}},[i,f,m,t,a,n]);return i===o.ZK_REGISTER||!T?null:fe.default.createElement(fe.default.Fragment,null,fe.default.createElement("div",{className:Qe["address-to"]},fe.default.createElement("div",{className:Qe["address-type"]},g),fe.default.createElement("div",{className:Qe["address-content"]},fe.default.createElement("div",{className:Qe["address-string"]},T),fe.default.createElement("div",{className:Qe["address-right"]},fe.default.createElement(Re,{value:T,message:v}),E&&fe.default.createElement(co,{address:T,network:p}))),fe.default.createElement("div",{className:Qe["address-container"]},h.map(C=>C&&fe.default.createElement(Ie,{className:Qe["tx-clipboard__tag"]},C)))))}var dr=os;r();l();var $=x(w()),Dr=x(Fe());ct();P();ho();r();l();var fo=x(w());P();function is(e){let{txType:t,approveInfo:i}=e,{amount:n,decimalNum:_}=i||{},s=(0,fo.useMemo)(()=>n==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?a("wallet_extension_mid_text_unlimited"):ie(n,{decimals:_}),[n]);return t!==o.AUTHORIZATION?null:fo.default.createElement(ee,{label:a("wallet_extension_mid_text_approved_amount"),value:s})}var pr=is;r();l();var fr=x(w());P();ho();function ns({txType:e,mainCoinId:t,confirmedCount:i}){return e===o.ZK_REGISTER&&t===ht?null:fr.default.createElement(ee,{label:a("wallet_extension_mid_text_block_confirmation"),value:i})}var ur=ns;r();l();var uo=x(w());P();r();l();var xr=x(w());cl();function $o(){let e=Oi(),t=ki();return(0,xr.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;Jo.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:e,coinsMapSize:Object.keys(t??{}).length,coinExisted:i!=null?t?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[e,t])}function rs({mainCoinId:e}){let{coin:t}=je(e,!1),i=$o();return(0,uo.useEffect)(()=>{setTimeout(()=>{t?.coinId||i(e)},1500)},[t,e,i]),uo.default.createElement(ee,{label:a("wallet_extension_mid_text_network"),value:t.chainName})}var Tr=rs;r();l();var Pt=x(w()),Cr=x(Fe());P();ho();vo();r();l();var Rt=x(w());P();var ls=()=>Rt.default.createElement(Z.FlexBox,{align:Z.ALIGN.center,style:{gap:4}},Q("wallet_extension_gift_title_network_fee_pre"),Rt.default.createElement(ge,{style:{cursor:"pointer"},className:"okx-wallet-plugin-information-circle",a11yText:Q("wallet_extension_gift_dialog_title_network_fee_pre"),onClick:()=>{let e=Ne.tip({infoType:Ne.Tip.INFO_TYPE.default,title:Q("wallet_extension_gift_dialog_title_network_fee_pre"),children:Rt.default.createElement(we.Text,{type:we.TYPE.secondary,size:we.SIZE.sm,style:{lineHeight:"22px"}},Q("wallet_extension_gift_dialog_desc_explain_fee",{history:Rt.default.createElement(we.Text,{size:we.SIZE.sm},Q("wallet_extension_gift_dialog_icu_explain_fee"))})),confirmText:Q("commonall_text_btn_ok_active"),onConfirm:()=>{e.destroy()}})}})),Nr=ls;var ss=[ht,oi];function as(e,t){let i;return e===o.RED_PACKET?i=Pt.default.createElement(Nr,null):t?i=a("wallet_extension_sui_desc_network_fee_refund"):i=a("wallet_extension_mid_text_network_fee"),i}function _s({mainCoinId:e,txStatus:t,feeRebate:i,feeRebateUsd:n,serviceCharge:_,chainSymbol:s,serviceChargeUsd:c,feeName:d,feeDecimalNum:p,txType:m,bizData:f}){let g=ss.includes(e),{coin:T}=je(e,!1),v=(0,Cr.useSelector)(Wt),h,E;if(m===o.DAPP_UNISAT||m===o.ZK_REGISTER&&e===ht||m===o.RECEIVE_PACKET)return null;g?(h=p,E=d):(h=T.decimals,E=s);let C=0,M="";m===o.RED_PACKET?(C=f.prepaidGasFee||0,M=f.prepaidGasFeeFiatValue||""):C=i||_||0;let F=ie(C,{symbol:E,decimals:h||0});if(m===o.RED_PACKET)F+=` (${M})`;else if(t!==B.PENDING){let b=n||c,{usdToThisRate:S}=v,z=Ot(b,S);F+=` (${wi(z,{useApproximate:!1,symbol:v.symbol})})`}let G=as(m,i);return Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement(ee,{label:G,value:F}))}var gr=_s;r();l();var Er=x(w());P();function cs({txType:e,investTxData:t}){if(!t||!t.lpTokenInfo||[ve.FARM_LP_TOKEN,ve.FARM_OTHER_TOKEN].includes(t?.investmentDetailType))return null;let i;if(e===o.DAPP_APPLY?i="wallet_extension_info_receive":e===o.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:_}=t.lpTokenInfo;return Er.default.createElement(ee,{label:a(i),value:ie(n,{symbol:_})})}var Ir=cs;r();l();var Ar=x(w());P();r();l();ct();P();var ms="okx-wallet-plugin-lock-1",ds="okx-wallet-plugin-enrollment",wr=(e={})=>{let{txType:t,assetChange:i=[],poolLogo:n}=e;if(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION||t===o.DAPP_NFT||t===o.CONTRACTCALL||t===o.CANCEL_NFT||t===o.NFT_CANCEL_AUTHORIZATION)return[e.contractIcon||Po(e)];if(t===o.NFT_AUTHORIZATION)return[e.contractIcon||ms];if(t===o.ZK_REGISTER)return[ds];if(t===o.EARN_BRC30_DEPLOY)return[n];let _=i.map(s=>{let{coinImgUrl:c}=s||{};return c||rn(s,e)});return _.reverse(),_.length===0?[Po(e)]:_},xo=(e={})=>{let{txType:t,approveSymbol:i,nftCollectionName:n}=e;return ro(t,{symbol:i,collection:n},e)};function ps(e){let t=xt(e)||K(e.to);return`${a("wallet_extension_history_list_send_to")}   ${t}`}function fs(e){let t=K(e.from);return`${a("wallet_extension_history_list_receive_from")}   ${t}`}function us(e){return e.contractName||K(e.to)}function xs(e){return K(e.from)}function Ts(e){return e.poolId?`Pool ID: ${e.poolId}`:""}function Ns(e){return K(e.from)}function Cs(e){return`${a("wallet_extension_history_list_receive_from")}   ${e.okexAccount}`}function gs(e){let{contractName:t,contractAddress:i}=e;return t||K(i)||""}function Es(e,t){return[o.TRANS_OUT,o.SEND_NFT,o.BRC20_SEND,o.BRC20_RECEIVE,o.BRC30_TRADE,o.BRC30_SEND].includes(e)?ps(t):[o.TRANS_IN,o.RECEIVE_NFT,o.BRC30_RECEIVE].includes(e)?fs(t):e===o.CANCEL_NFT?us(t):e===o.ZK_REGISTER?xs(t):[o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY].includes(e)?Ts(t):e===o.BRC30_INSCRIBE?Ns(t):e===o.REDEEM?Cs(t):gs(t)}var yr=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:_}=e,s=Es(n,e);if(s&&i.push(s),_===B.PENDING){let c=Ye(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(c)}return i},hr=(e={})=>{let{assetChange:t=[],txType:i,repeatTxType:n,coinId:_}=e,{baseCoin:s}=je(_,!0),c=jt(s.coinId);return t.map(p=>{let{direction:m,coinAmount:f,coinSymbol:g}=p||{};if(Oe(f))return null;let T=null;return(f!=="0"||c&&(i===o.TRANS_IN||i===o.TRANS_OUT)&&n!==j.CANCELING&&n!==j.SPEEDING_CANCEL)&&(T=ie(f)),i===o.CANCEL_NFT?{coinAmount:"",symbol:g}:{direction:m,coinAmount:T,symbol:g}}).filter(Boolean)};function Is(e){let{txType:t}=e,i=xo(e);return t===o.ZK_REGISTER&&(i=a("wallet_extension_history_text_change_pubkey")),Ar.default.createElement(ee,{label:a("wallet_extension_info_text_type"),value:i})}var vr=Is;r();l();var br={"tx-detail-info":"_tx-detail-info_7des1_1",txDetailInfo:"_tx-detail-info_7des1_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_7des1_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_7des1_5","tx-detail-info__status":"_tx-detail-info__status_7des1_8",txDetailInfoStatus:"_tx-detail-info__status_7des1_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_7des1_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_7des1_20",spin:"_spin_7des1_1","tx-detail-info__network":"_tx-detail-info__network_7des1_23",txDetailInfoNetwork:"_tx-detail-info__network_7des1_23","tx-detail-info__to-name":"_tx-detail-info__to-name_7des1_33",txDetailInfoToName:"_tx-detail-info__to-name_7des1_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_7des1_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_7des1_43","tx-detail-info__add-address":"_tx-detail-info__add-address_7des1_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_7des1_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_7des1_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_7des1_54"};function ws({memo:e,mainCoinId:t}){return Oe(e)?null:$.default.createElement(ee,{label:t===ii?a("wallet_extension_import_desc_comment"):a("wallet_extension_text_memocontent"),value:$.default.createElement(Dt,{text:e||"--",maxWidth:"260px"})})}function ys({mev:e}){return Oe(e)?null:$.default.createElement(ee,{label:a("wallet_extension_ton_order_header_mev"),value:$.default.createElement(Dt,{text:e||"--",maxWidth:"260px"})})}function hs({data:e}){let t=(0,Dr.useSelector)($t),{txTime:i,txHash:n,investTxData:_,txHash1:s,txHash2:c,explorerUrl:d,explorerUrl1:p,explorerUrl2:m,showExplorerUrl:f,txType:g}=e,T=g===o.RED_PACKET||g===o.RECEIVE_PACKET;return $.default.createElement("div",{className:br["tx-detail-info"]},$.default.createElement(ee,{label:a("wallet_extension_mid_text_time"),value:Ye(i,{format:"yyyyMMddHHmmss",locale:t})}),$.default.createElement(vr,{...e}),$.default.createElement(Ir,{...e}),$.default.createElement(gr,{...e}),$.default.createElement(Tr,{...e}),!T&&$.default.createElement($.default.Fragment,null,!s&&n&&$.default.createElement(ee,{label:a("wallet_extension_mid_text_transaction_hash"),value:$.default.createElement(gt,{showExplorerUrl:f,label:K(n),value:n,url:d,message:a("wallet_extension_popup_title_transaction_hash_copied")})}),s&&$.default.createElement(ee,{label:a("extension_wallet_details_item_transaction_hash1"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(gt,{showExplorerUrl:f,label:K(s),value:s,url:p,message:a("wallet_extension_popup_title_transaction_hash_copied")}))}),c&&$.default.createElement(ee,{label:a("extension_wallet_details_item_transaction_hash2"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(gt,{showExplorerUrl:f,label:K(c),value:c,url:m,message:a("wallet_extension_popup_title_transaction_hash_copied")}))}),$.default.createElement(ur,{...e}),_?.validateName&&$.default.createElement(ee,{label:a("extension_wallet_history_text_validator"),value:K(_?.validateName)}),$.default.createElement(pr,{...e}),$.default.createElement(ys,{...e}),$.default.createElement(ws,{...e})))}var Sr=hs;r();l();var Ke={"retina-border-basic":"_retina-border-basic_khfbo_1",retinaBorderBasic:"_retina-border-basic_khfbo_1","tx-detail":"_tx-detail_khfbo_29",txDetail:"_tx-detail_khfbo_29","metax-ok-navigator":"_metax-ok-navigator_khfbo_35",metaxOkNavigator:"_metax-ok-navigator_khfbo_35","tx-detail__inner":"_tx-detail__inner_khfbo_41",txDetailInner:"_tx-detail__inner_khfbo_41","tx-detail__underline":"_tx-detail__underline_khfbo_45",txDetailUnderline:"_tx-detail__underline_khfbo_45","tx-detail__loading":"_tx-detail__loading_khfbo_80",txDetailLoading:"_tx-detail__loading_khfbo_80"};r();l();var _t=x(w()),Lr=x(Ue());P();r();l();var Et={"tx-detail-status":"_tx-detail-status_xprxj_1",txDetailStatus:"_tx-detail-status_xprxj_1","tx-detail-icon":"_tx-detail-icon_xprxj_5",txDetailIcon:"_tx-detail-icon_xprxj_5","tx-detail-loading":"_tx-detail-loading_xprxj_12",txDetailLoading:"_tx-detail-loading_xprxj_12","tx-detail-loader":"_tx-detail-loader_xprxj_17",txDetailLoader:"_tx-detail-loader_xprxj_17","tx-detail-text":"_tx-detail-text_xprxj_21",txDetailText:"_tx-detail-text_xprxj_21","tx-detail-failed":"_tx-detail-failed_xprxj_31",txDetailFailed:"_tx-detail-failed_xprxj_31"};var As={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled","tx-detail-withdraw":"wallet_extension_status_tag_withdraw"},vs={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function bs({className:e,data:t}){if(!t)return _t.default.createElement(_t.default.Fragment,null);let{txStatus:i,isShowPending:n,repeatTxType:_}=t,s="";i===B.CONFIRMING||i===B.SUCCESS?i===B.SUCCESS&&_===j.SPEEDING_CANCEL||_===j.CANCELING?s="tx-detail-canceled":s="tx-detail-completed":i===B.PENDING?(n&&_===j.CONFIRMING&&(s="tx-detail-pending"),!n&&_===j.CONFIRMING&&(s="tx-detail-waiting"),_===j.SPEEDING&&(s="tx-detail-speeding"),_===j.CANCELING&&(s="tx-detail-canceling"),_===j.SPEEDING_CANCEL&&(s="tx-detail-speedingcancel")):i===B.ERROR?s="tx-detail-failed":i===B.WITHDRAWING&&(s="tx-detail-withdraw");let c=vs[s]||"";return _t.default.createElement("div",{className:(0,Lr.default)(Et["tx-detail-status"],{[Et["tx-detail-failed"]]:s==="tx-detail-failed"},e)},_t.default.createElement(ge,{className:`${Et["tx-detail-icon"]} ${c}`}),!c&&_t.default.createElement(mt.Circle,{size:mt.SIZE.md,className:Et["tx-detail-loading"],loaderClassName:Et["tx-detail-loader"]}),_t.default.createElement("div",null,a(As[s])))}var Br=bs;r();l();function Ss({params:e,onRefresh:t,onClose:i,visible:n}){let _=(0,D.useRef)(""),s=(0,D.useRef)(null),c=(0,D.useRef)(null),[d,p]=(0,D.useState)(!1),[m,f]=(0,D.useState)(),[g,T]=(0,D.useState)(!1),v=()=>{if(!e)return;let{coinId:S,address:z,orderType:W,orderId:k}=e;T(!0),ui({coinId:S,txId:_.current,address:z,orderType:W,orderId:k}).then(oe=>{if(e&&!Qo(oe)){let X={};try{oe.bizData&&(X=JSON.parse(oe.bizData))}catch(xe){console.error(xe)}f({...oe,address:z,bizData:X})}}).catch(oe=>{console.log(oe)}).finally(()=>{T(!1)})};(0,D.useEffect)(()=>{e?(_.current=e.txId,v(),s.current=v):(_.current="",f(null))},[e]);let h=()=>{s.current&&_.current&&s.current()},E=bt("wallet-transaction"),C=bt("wallet-tx-confirm",{onError:h,pollingInterval:10*1e3});(0,D.useEffect)(()=>{(E&&m?.orderTxIdList?.includes(E.data?.txId)||C&&C.data?.txId===_.current&&C.data?.confirmedCount<=C.data?.totalConfirm)&&v()},[E,C]);let{data:M,loading:F,noMore:G,loadingMore:b}=(0,Fr.useInfiniteScroll)(async S=>{if(d&&m?.bizData){let{bizData:z,txType:W,to:k}=m||{},oe;if(W===o.RECEIVE_PACKET){if(!z?.addressAndTgIds?.[k])return null;oe=z?.addressAndTgIds?.[k]}let{data:X}=await sn({redPacketId:z?.redPacketId,claimerTgId:oe,type:W===o.RED_PACKET?1:2,lastRowId:S?.lastRowId||0,limit:10});return{list:X.claimInfos,lastRowId:X.claimInfos[X.claimInfos.length-1]?.rowId||0,hasNext:X.hasNext}}return null},{target:c.current,isNoMore:S=>!S?.hasNext,reloadDeps:[d,m]});return(0,D.useEffect)(()=>{m?.txType===o.RECEIVE_PACKET?p(!0):p(!1)},[m]),D.default.createElement(Ne.Action,{isFull:!0,titleCenter:!0,visible:n,onClose:i,title:m?D.default.createElement(Br,{data:m,className:Ke["tx-detail__status"]}):D.default.createElement(D.default.Fragment,null),renderContent:()=>D.default.createElement("div",{className:Ke["tx-detail"],ref:c},m&&!g&&D.default.createElement(D.default.Fragment,null,D.default.createElement("div",{className:Ke["tx-detail__underline"]}),D.default.createElement(Qi,{message:m.failReason}),D.default.createElement("div",{className:Ke["tx-detail__inner"]},D.default.createElement(Qn,{data:m})," ",D.default.createElement("div",{className:Ke["tx-detail__underline"]}),m.txType===o.RED_PACKET||m.txType===o.RECEIVE_PACKET?D.default.createElement(D.default.Fragment,null,D.default.createElement(or,{data:m}),D.default.createElement(_r,{data:m})):D.default.createElement(D.default.Fragment,null,D.default.createElement(tr,{data:m}),D.default.createElement(dr,{data:m})),D.default.createElement("div",{className:Ke["tx-detail__underline"]}),D.default.createElement(Sr,{data:m}),D.default.createElement("div",{className:Ke["tx-detail__underline"]}),m.txType===o.RED_PACKET&&D.default.createElement(D.default.Fragment,null,D.default.createElement(Ho.Create,{data:m}),D.default.createElement("div",{className:Ke["tx-detail__underline"]})),(m.txType===o.RED_PACKET||m.txType===o.RECEIVE_PACKET)&&D.default.createElement(Ho.Receive,{info:m,data:M,isExpanded:d,loading:F,noMore:G,hasExpandedBtn:m.txType===o.RED_PACKET,onToggle:()=>{p(!d)},loadingMore:b}),D.default.createElement(Tn,{data:m,onRefresh:S=>{_.current=S,v(),t&&t()}}))),g&&D.default.createElement(mr,null))})}var Wo=Ss;r();l();r();l();var Co=x(w());r();l();var ke=x(w()),Rr=x(Fe()),Pr=x(Lo());r();l();P();function Ls(e,t,i){if(e===B.PENDING&&!t)return a("wallet_extension_history_list_status_waiting");if(e===B.PENDING&&t){if(i===j.CONFIRMING)return"";if(i===j.SPEEDING)return a("wallet_extension_send_status_speedingup");if(i===j.CANCELING)return a("wallet_extension_send_status_canceling");if(i===j.SPEEDING_CANCEL)return a("wallet_extension_send_status_canceling")}return""}var To=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===B.SUCCESS&&(n===j.CANCELING||n===j.SPEEDING_CANCEL)?a("wallet_extension_send_status_canceled"):t===B.CONFIRMING||t===B.SUCCESS?"":t===B.ERROR?a("wallet_extension_history_status_failed"):t===B.WITHDRAWING?a("wallet_extension_status_tag_withdraw"):Ls(t,i,n)},No=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===B.SUCCESS&&(n===j.CANCELING||n===j.SPEEDING_CANCEL)?vt.CANCELED:t===B.CONFIRMING||t===B.SUCCESS?"":t===B.ERROR?vt.FAILED:t===B.PENDING&&!i?vt.WAITING:vt.PENDING};var Bs=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,Pr.useHistory)(),_=(0,Rr.useSelector)(Ht),s=wr(e),c=hr(e),d=xo(e),p=yr(e,_),m=No(e),f=To(e),g=nn(e),T=ln(e),v=no(p,c),h=ke.default.createElement(O.Label,{className:"tx-history-ml4",type:m,text:f,data:e}),E=e?.dexOrderId;return ke.default.createElement(O.ItemContainer,{onClick:()=>{E&&n.push(`${Vt}/${e.dexOrderId}`),t()}},ke.default.createElement(O.Row,{assets:c,align:v},ke.default.createElement(O.Info,{icons:s,title:d,details:p,label:h,data:e}),ke.default.createElement(O.Assets,{assets:c,isValuelessNftTxType:T})),g&&ke.default.createElement(O.NFTs,{data:e}),!E&&ke.default.createElement(O.Actions,{data:e,onRepeat:i}))},kr=(0,ke.memo)(Bs);var Fs=({data:e={},onClick:t,onRepeat:i})=>Co.default.createElement(kr,{data:e,onClick:t,onRepeat:i}),It=(0,Co.memo)(Fs);r();l();var te=x(w()),kt=x(Fe());P();r();l();var wt=x(w());var Rs=({date:e,list:t,onClick:i})=>wt.default.createElement(O.List,null,wt.default.createElement(O.Date,null,e),t.map((n,_)=>wt.default.createElement(It,{data:n,key:_,onClick:()=>{i(n)}}))),Or=(0,wt.memo)(Rs);r();l();var Eo=x(w());r();l();var go=x(w());P();r();l();var Ur={dialogContainer:"_dialogContainer_1av5q_1"};var Mr=({onClose:e,visible:t,onClick:i,options:n})=>{let _=(s,c)=>{let{label:d,image:p}=s||{};return go.default.createElement(Fo.Coin,{symbol:d,icon:p,keyword:c,onClick:()=>{i(s)}})};return go.default.createElement(Ne,{isFull:!0,onClose:e,visible:t,title:a("wallet_transfer_multichain_coin_maintitle_select_network"),noMargin:!0,containerClassName:Ur.dialogContainer,alignBottom:!0,maskClosable:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}},go.default.createElement(Fo,{searchable:{offsetTop:"0px",keyword:"chainName",placeholder:a("wallet_extension_input_search_network")},dataSource:n,renderItem:_,emptyText:a("wallet_extension_text_noresults")}))};var Ko=({visible:e,setVisible:t,handleSelectNetwork:i,options:n,children:_})=>Eo.default.createElement(Eo.default.Fragment,null,_,Eo.default.createElement(Mr,{visible:e,onClose:()=>t(!1),onClick:i,options:n}));r();l();var $r=x(w()),Wr=x(Fe());r();l();var Gr=x(w()),Vr=x(Fe());var Hr=(e="coinId")=>{let t=(0,Vr.useSelector)(vi),[i]=fi(t);return{options:(0,Gr.useMemo)(()=>(i||[]).map(_=>{let{chainName:s}=_;return{label:s,value:_[e],..._}}),[t])}};var Kr=({explorerUrl:e})=>{let[t,i]=$r.default.useState(!1),n=(0,Wr.useSelector)(Zt),{account:_}=Li(),{options:s}=Hr(),c=n?.mainCoinId;return{visible:t,setVisible:i,gotoExplore:()=>{if(!c)i(!0);else{let m=s.find(f=>f.coinId===c)?.localType;globalThis.open(`${e?.[c]}${_?.[m]}`)}},handleSelectNetwork:m=>{let f=m.coinId;i(!1),globalThis.open(`${e?.[f]}${_?.[m.localType]}`)},options:s}};r();l();var Zo={"tx-history-extra":"_tx-history-extra_1fqw0_1",txHistoryExtra:"_tx-history-extra_1fqw0_1",list:"_list_1fqw0_4",explore:"_explore_1fqw0_7"};var Ps=({pendingList:e,completedList:t,isLoading:i,onRepeat:n,onClick:_,onContainer:s,explorerUrl:c})=>{let d=(0,kt.useSelector)(Yt),p=(0,kt.useSelector)(Ii),{init:m}=(0,kt.useSelector)(Zt),f=(0,kt.useSelector)(Ei),[g,T]=(0,te.useState)({}),[v,h]=(0,te.useState)(0),{visible:E,setVisible:C,gotoExplore:M,handleSelectNetwork:F,options:G}=Kr({explorerUrl:c});return p?te.default.createElement(O.Loading,{top:160}):i||!e?null:!i&&e.length===0&&t.length===0?te.default.createElement(Ko,{visible:E,setVisible:C,handleSelectNetwork:F,options:G},te.default.createElement(O.Empty,{top:72,onButtonClick:M,buttonText:a("wallet_extension_history_btn_check_in_explorer"),description:m?a("wallet_extension_history_emptystate_no_transactions_day",{num:Ci}):a("wallet_extension_history_emptystate_no_transactions_range")})):te.default.createElement(O.ListContainer,{onContainer:s,className:"tx-history-extra"},te.default.createElement(O.Dialogs,{data:g,type:v,onConfirm:()=>{T({}),h(0),n()},onCancel:()=>{h(0)}}),e.length>0?te.default.createElement(te.default.Fragment,null,te.default.createElement(O.PendingTag,null),te.default.createElement("div",{className:Zo.list},e.map((b,S)=>te.default.createElement(It,{data:b,key:S,onClick:()=>{_(b)},onRepeat:z=>{T(b),h(z)}})))):null,t.map(({date:b,list:S},z)=>te.default.createElement(Or,{date:b,list:S,key:z,onClick:_})),!f&&te.default.createElement(Ko,{visible:E,setVisible:C,handleSelectNetwork:F,options:G},te.default.createElement(ze,{category:ze.CATEGORY.fill,type:ze.TYPE.gray,size:ze.SIZE.md,className:Zo.explore,onClick:M},a("wallet_extension_history_btn_check_in_explorer"))),d&&te.default.createElement(at,null))},Zr=(0,te.memo)(Ps);var ks={VirtualItem:It,HistoryList:Zr};r();l();r();l();r();l();var ue=x(w()),zo=x(Fe()),nl=x(Lo());r();l();var et=x(w());r();l();var Io=x(w());r();l();var Ze=x(w()),Qr=x(Fe());r();l();P();var Os="okx-wallet-plugin-report-centre",Yr="okx-wallet-plugin-pointer-up",zr="okx-wallet-plugin-pointer-down",Us="okx-wallet-plugin-lock-1",Ms="okx-wallet-plugin-swap-1",Gs="okx-wallet-plugin-mint-nft",Vs="okx-wallet-plugin-report-centre",Hs="okx-wallet-plugin-supply",$s="okx-wallet-plugin-claim",Ws="okx-wallet-plugin-enrollment",Ks="okx-wallet-plugin-mint",Zs="okx-wallet-plugin-mint",Ys="okx-wallet-plugin-coin-inscribe-brc20",zs="okx-wallet-plugin-pointer-down",js="okx-wallet-plugin-pointer-up",Xs="okx-wallet-plugin-quick",jr=(e={})=>{let{txType:t}=e,i=[];return t===o.TRANS_OUT&&i.push(Yr),t===o.PERPETUAIL&&i.push(zs),t===o.WITHDRAW&&i.push(js),t===o.QUICK_WITHDRAW&&i.push(Xs),t===o.TRANS_IN&&i.push(zr),(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION)&&i.push(Us),(t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT||t===o.GAS_STATION||t===o.DEX_CROSS_CHAIN_SWAP||t===o.BRC20_TRADE||t===o.BRC30_TRADE||t===o.RUNES_SWEEP)&&i.push(Ms),t===o.MINT_NFT&&i.push(Gs),(t===o.CONTRACTCALL||t===o.DAPP_NFT)&&i.push(Vs),t===o.DAPP_APPLY&&i.push(Hs),(t===o.DAPP_REDEEM||t===o.DAPP_CLAIM||t===o.EARN_BRC30_CLAIM||t===o.EARN_BRC30_APPLY||t===o.EARN_BRC30_REDEEM)&&i.push($s),(t===o.REGISTRATION||t===o.ZK_REGISTER)&&i.push(Ws),(t===o.BRC20_RECEIVE||t===o.BRC30_RECEIVE||t===o.DEFI_MINT)&&i.push(zr),(t===o.BRC20_INSCRIBE||t===o.BRC30_INSCRIBE)&&i.push(Ys),(t===o.BRC20_MINT||t===o.ORDINAL_NFT||t===o.ORDINAL_TEXT||t===o.BRC20_DEPLOY)&&i.push(Ks),(t===o.BRC20_SEND||t===o.BRC30_SEND||t===o.DEFI_REPAY)&&i.push(Yr),t===o.EARN_BRC30_DEPLOY&&i.push(Zs),i.length||i.push(Os),i},Xr=(e={})=>{let{txType:t,coinSymbol:i}=e;return ro(t,{symbol:i},e)},qr=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:_}=e;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_TRADE||n===o.BRC30_SEND||n===o.RUNES_SWEEP){let s=xt(e)||K(e.to),c=`${a("wallet_extension_history_list_send_to")}  ${s}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC20_RECEIVE||n===o.BRC20_MINT||n===o.ORDINAL_NFT||n===o.ORDINAL_TEXT||n===o.BRC20_INSCRIBE||n===o.BRC20_DEPLOY||n===o.BRC30_RECEIVE||n===o.RUNES_ETCH){let s=K(e.from),c=`${a("wallet_extension_history_list_receive_from")}   ${s}`;i.push(c)}else if(n===o.BRC30_INSCRIBE){let s=K(e.to);i.push(s)}else if(n===o.ZK_REGISTER)i.push(K(e.from));else{let{contractName:s,contractAddress:c}=e,d=s||K(c)||"";i.push(d)}if(_===B.PENDING){let s=Ye(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(s)}return i},Jr=(e={})=>{let t=[],{direction:i,coinAmount:n,coinSymbol:_,txType:s,repeatTxType:c,coinId:d}=e,{baseCoin:p}=je(d,!0),m=jt(p.coinId);if(s===o.AUTHORIZATION||s===o.CANCEL_AUTHORIZATION||s===o.REGISTRATION)return t;let f=null;return(n!=="0"||m&&(s===o.TRANS_IN||s===o.TRANS_OUT)&&c!==j.CANCELING&&c!==j.SPEEDING_CANCEL)&&(f=ie(n)),t.push({direction:i,coinAmount:f,symbol:_}),!e?.brc20Type&&e?.ordinalNftName&&e?.ordinalNftDirection&&e?.ordinalNftAmount&&t.push({direction:e?.ordinalNftDirection,coinAmount:e?.ordinalNftAmount,symbol:e?.ordinalNftName}),t};var qs=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,Qr.useSelector)(Ht),_=jr(e),s=Xr(e),c=qr(e,n),d=Jr(e),p=no(c,d),m=No(e),f=To(e),g=Ze.default.createElement(O.Label,{className:"tx-history-ml4",type:m,text:f,data:e});return Ze.default.createElement(O.ItemContainer,{onClick:t},Ze.default.createElement(O.Row,{assets:d,align:p},Ze.default.createElement(O.Info,{icons:_,title:s,details:c,label:g,data:e}),Ze.default.createElement(O.CoinAssets,{assets:d})),Ze.default.createElement(O.Actions,{data:e,onRepeat:i}))},el=(0,Ze.memo)(qs);var Js=({data:e={},onRepeat:t,onClick:i})=>Io.default.createElement(el,{data:e,onClick:i,onRepeat:t}),wo=(0,Io.memo)(Js);var Qs=({completedList:e,onClick:t})=>et.default.createElement(et.default.Fragment,null,e.map(({date:i,list:n},_)=>et.default.createElement(O.List,{key:_},et.default.createElement(O.Date,null,i),n.map((s,c)=>et.default.createElement(wo,{data:s,key:c,onClick:()=>{t(s)}}))))),tl=(0,et.memo)(Qs);r();l();var Le=x(w());r();l();var ol={root:"_root_1otry_1"};var ea=({pendingList:e,onRepeat:t,onClick:i})=>{let[n,_]=(0,Le.useState)({}),[s,c]=(0,Le.useState)(0);return e.length===0?null:Le.default.createElement(Le.default.Fragment,null,Le.default.createElement(O.Dialogs,{data:n,type:s,onConfirm:()=>{_({}),c(0),t()},onCancel:()=>{c(0)}}),Le.default.createElement("div",{className:ol.root},e.map((d,p)=>Le.default.createElement(wo,{data:d,key:p,onRepeat:m=>{_(d),c(m)},onClick:()=>{i(d)}}))))},il=(0,Le.memo)(ea);r();l();var Yo={loading:"_loading_arfpq_1",scrollLoading:"_scrollLoading_arfpq_7"};P();var ta=({txList:e,isLoading:t,onRepeat:i,txDetailData:n,setTxDetailData:_})=>{let s=(0,zo.useSelector)($t),c=(0,zo.useSelector)(Yt),d=(0,nl.useHistory)(),[p,m]=(0,ue.useMemo)(()=>on(e,s,!0),[e,s]);if(!t&&p.length===0&&m.length===0)return ue.default.createElement(O.Empty,{description:a("wallet_transaction_history_subtitle_no_records")});if(t)return ue.default.createElement(O.Loading,{top:0,className:Yo.loading});if(!Array.isArray(e))return null;let f=g=>{g?.dexOrderId?d.push(`${Vt}/${g.dexOrderId}`):_(g)};return ue.default.createElement(ue.default.Fragment,null,ue.default.createElement("div",{className:"coin-history__list"},ue.default.createElement(il,{pendingList:p,onRepeat:i,onClick:f}),ue.default.createElement(tl,{completedList:m,onClick:f}),c&&ue.default.createElement(at,{className:Yo.scrollLoading})),ue.default.createElement(Wo,{visible:!!n,params:n,onRefresh:i,onClose:()=>{_(null)}}))},rl=(0,ue.memo)(ta);var oa={TxList:rl};r();l();var he=x(w()),ll=x(Fe());ct();function $C({scrollContainer:e,selector:t=".tx-history-item-container",index:i=15},n){let _=(0,he.useRef)(null),s=(0,he.useRef)(null),c=(0,ll.useSelector)(gi),d=()=>{if(_.current)if(s.current){let{bottom:E}=_.current.getBoundingClientRect(),{top:C}=s.current.getBoundingClientRect();C>=E&&n()}else n()},p=bt("wallet-transaction",{onError:d}),[m,f]=(0,he.useState)(!1),[g,T]=(0,he.useState)(!1),[v,h]=(0,he.useState)(0);(0,he.useEffect)(()=>{p&&T(!0)},[p]),(0,he.useLayoutEffect)(()=>{let E;if(e){let C=e.querySelectorAll(t);E=ei(()=>{let{bottom:M}=e.getBoundingClientRect(),{top:F}=s.current.getBoundingClientRect();f(F>=M)},200),s.current=C[i],s.current?(E(),e.addEventListener("scroll",E)):f(!0),_.current=e}else f(!0);return()=>{e&&(e.removeEventListener("scroll",E),s.current=null)}},[v,e,t,i,c]),(0,he.useEffect)(()=>{m&&g&&(n&&n(),f(!1),T(!1),h(E=>{let C=E+1;return C>=1e6&&(C=1),C}))},[m,g])}export{on as a,Wo as b,oa as c,ks as d,$C as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-3L3IHCAM.js.map

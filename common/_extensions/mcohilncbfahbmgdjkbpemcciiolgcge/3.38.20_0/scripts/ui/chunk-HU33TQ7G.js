import{a as v,b as _,d as me,f as ue,k as le,l as pe,m as fe}from"./chunk-V2P5T42X.js";import{a as ce}from"./chunk-FIHW4IL4.js";import{a as ie}from"./chunk-UMPU7CTW.js";import{a as se,c as rt,d as re}from"./chunk-TW5NSKIQ.js";import{a as oe}from"./chunk-6TPN273S.js";import{d as ae}from"./chunk-4MFRD43G.js";import{a as ee}from"./chunk-NNO7KFUF.js";import{a as ne}from"./chunk-3L5C5CQB.js";import{a as zt,c as $t}from"./chunk-NXLWHU4N.js";import{a as te}from"./chunk-TYQEIBRD.js";import{a as Gt}from"./chunk-D3MXY4LN.js";import{b as Wt}from"./chunk-DDJWH3NH.js";import{b as Yt}from"./chunk-L3G6DHBI.js";import{a as Zt,b as Tt}from"./chunk-UWTAV26V.js";import{a as jt}from"./chunk-A6RKGNRU.js";import{a as Vt,f as Bt}from"./chunk-S2V4K2JM.js";import{m as nt,o as Jt,q as Qt}from"./chunk-DMPLD3VG.js";import{a as G}from"./chunk-WWUOPI5T.js";import{b as dt}from"./chunk-BCT5GPKT.js";import{a as gt,j as Xt}from"./chunk-7OQVWENF.js";import{b as st}from"./chunk-WD7752PC.js";import{Q as kt}from"./chunk-PVSNAFN3.js";import{o as et}from"./chunk-A3FIPWG3.js";import{Ca as x,Cb as Kt,Db as qt,Pa as Q,ac as X,ib as bt,kb as Ut,ub as Ht,yb as Mt}from"./chunk-NTISK7TT.js";import{m as W}from"./chunk-CU7RFE6B.js";import{a as He}from"./chunk-QZUNX5I4.js";import{a as Y,b as F}from"./chunk-IVA2TTR4.js";import{a as Ue}from"./chunk-45FKVGCF.js";import{La as q,Pa as Ft}from"./chunk-KSCBZ3RY.js";import{d as S,f as ft}from"./chunk-37O7OMRA.js";import{a as ot}from"./chunk-VL5VJIZ7.js";import{Jb as Lt,Nb as b,Vb as Dt,W as Ot,X as wt,Ya as St,a as ht,b as ke,fc as pt,kc as It,oc as be}from"./chunk-YILNSICT.js";import{G as U}from"./chunk-L4N7WJIQ.js";import{F as lt,K as Nt,U as Ct,f as j,pa as Rt}from"./chunk-LBCQTFOD.js";import{N as vt,w as D}from"./chunk-V63HWKAL.js";import{a as J}from"./chunk-B75PPTYD.js";import{f as R,m as d,o as T}from"./chunk-UGZFXKPB.js";d();T();var V=R(X());function ao(){let t=(0,V.useSelector)(Bt),e=t&&t.metadata?t.metadata.id:null,n=e?1:0,o=(0,V.useSelector)(Ut),s=o.length,r=(0,V.useSelector)(bt),i=(0,V.useSelector)(qt),m=i.length,a=(0,V.useSelector)(Kt),c=a.length;return{unapprovedTxList:o,unapprovedTxCount:s,unapprovedSmCount:r,unapprovedStList:i,unapprovedStCount:m,unapprovedPermissionCount:n,unapprovedPermissionsRequestId:e,unapprovedSnList:a,unapprovedSnCount:c,unapprovedRequestCount:s+r+m+c+n}}d();T();d();T();var P=R(J()),yt=R(X()),Se=R(He());vt();d();T();var at=R(X()),B=R(et()),H=R(Ue());Rt();ke();ft();be();St();d();T();ft();var de=async t=>await S().rpcEvmAddTransaction(t),_t=async t=>await S().rpcEvmUpdateTransaction(t),Te=async t=>await S().rpcEvmConfirmTransaction(t),ge=async t=>await S().rpcEvmFindTransaction(t),_e=async(t,e)=>await S().rpcEvmPublishTransaction(t,e);d();T();var Pe=R(J());vt();var Me=()=>{let t=le();return e=>{if(e){let{type:n,status:o,txHash:s,extraParams:r}=e,i={[_.TRANS_OUT]:{key:"wallet_transfer_notif_send_success",params:{first:r?.value,second:r?.coinSymbol}},[_.CONTRACT_CALL]:{key:"wallet_transfer_notif_contract_interaction_success"},[_.AUTHORIZATION]:{key:"wallet_transfer_notif_approval_success",params:{first:r?.coinSymbol}},[_.CANCEL_AUTHORIZATION]:{key:"wallet_transfer_notif_cancel_approval_success",params:{first:r?.coinSymbol}},[_.CONTRACT_DEPLOY]:{key:"developer_mode_dapp_toast_deployed_successfully"}},m={[_.TRANS_OUT]:{key:"wallet_transfer_notif_send_fail",params:{first:r?.value,second:r?.coinSymbol}},[_.CONTRACT_CALL]:{key:"wallet_transfer_notif_contract_interaction_fail"},[_.AUTHORIZATION]:{key:"wallet_transfer_notif_approval_fail",params:{first:r?.coinSymbol}},[_.CANCEL_AUTHORIZATION]:{key:"wallet_transfer_notif_cancel_approval_fail",params:{first:r?.coinSymbol}},[_.CONTRACT_DEPLOY]:{key:"developer_mode_dapp_toast_deployfailed"}},a,c,p,u,f;o===v.PENDING?(a=U.TYPE.success,n===_.CANCEL_AUTHORIZATION?(c="wallet_transfer_notif_cancel_approval_submit",p={first:r?.coinSymbol}):c="wallet_transfer_notif_transaction_submit"):(o===v.SUCCEED?(a=U.TYPE.success,c=i[n]?.key,p=i[n]?.params):(a=U.TYPE.error,c=m[n]?.key,p=m[n]?.params),o!==v.DROPPED&&(u=t(s),f="wallet_transfer_notif_view_on_explorer")),U[a]({title:D(c,p)||c,desc:u?Pe.default.createElement(te,{url:u,urlText:D(f)}):null,duration:3})}}},Ee=Me;function Ke(t){let e={to:t.to,value:(0,H.addHexPrefix)(F(t.value)),gasLimit:(0,H.addHexPrefix)(F(t.gasLimit)),nonce:(0,H.addHexPrefix)(F(t.nonce))};return t.type===W.FEE_MARKET?(e.maxFeePerGas=(0,H.addHexPrefix)(F(t.maxFeePerGas)),e.maxPriorityFeePerGas=(0,H.addHexPrefix)(F(t.maxPriorityFeePerGas)),e.type=t.type):(e.gasPrice=(0,H.addHexPrefix)(F(t.gasPrice)),t.type=W.LEGACY),t.data&&(e.data=t.data),e}function Et(t){let{extensionConfig:e}=G("rpc_info"),n=t||e,o=st();return(0,B.useMemoizedFn)(s=>{let{type:r,txParams:i,extraParams:m}=s,a=r;return a||(i.to?a=_.CONTRACT_CALL:a=_.CONTRACT_DEPLOY),{id:It(),type:a,txParams:{...Ke(i),from:i.from||o,chainId:n.chainId},status:v.UNAPPROVED,createTime:+new Date,txPool:[],isCanceling:!1,isSpeeding:!1,extraParams:m||{}}})}function xt(t){let e=Ee(),n=(0,at.useSelector)(Mt),o=gt();return(0,B.useMemoizedFn)(async(s,{walletId:r=o,signedCallback:i=j}={})=>{if(!s)throw new Error("tx meta error");let m;if(s.txParams.result)m=s.txParams.result;else{let{from:c}=s.txParams;m=await S().signRpcEvmTransaction(s.txParams,c,n,r)}let a=await ee(Ot,m);return await i({rawTx:m,txHash:a,status:v.PENDING}),new Promise((c,p)=>{_e({txId:s.id,rawTx:m},t).then(({error:u,data:f,tx:l})=>{if(u){(l?.status===v.PENDING||l?.status===v.DROPPED)&&e(l),p(u);let{type:A,txParams:y,extraParams:N}=s,{from:C,to:h,value:w,gasLimit:g,gasPrice:E,nonce:L,chainId:I}=y||{},{approvedAmount:$,coinSymbol:K,tokenAddress:it,approvedAddress:ct,value:mt,toAddress:ut}=N||{};ht.captureEvent({tags:{address:C},message:"API_ERROR_evm_rpc_send_tx",contexts:{report:{info:JSON.stringify({type:A,txParams:{from:C,to:h,value:w,gasLimit:g,gasPrice:E,nonce:L,chainId:I},extraParams:Ct({approvedAmount:$,coinSymbol:K,tokenAddress:it,approvedAddress:ct,value:mt,toAddress:ut},Nt)})}},exception:{values:[{type:"API_ERROR_evm_rpc_send_tx",value:u?.message}]},level:"info"})}else e(l),c({id:s.id,txHash:f.result})}).catch(async u=>{await Te({txId:s.id,tx:{status:v.DROPPED,finishTime:+new Date,errorMessage:u?.message},checkPoolEmpty:!0}),p(u)})})})}var At=()=>{let t=(0,at.useDispatch)(),e=gt();return async(n,o=e)=>{await t(jt({walletId:o,txParams:n.txParams,isRpcMode:!0}));let{id:s}=n,r=await ge(s);if(r&&(r.status===v.SUCCEED||r.status===v.DROPPED||r.status===v.DROPPED))throw Error(ot)}};function xe(t){let e=Et(t),n=xt(t),o=At();return(0,B.useMemoizedFn)(async(s,r,i)=>{if(!await ne({walletId:r}))return j;let a=e(s);return await o(a,r),n(a,{walletId:r,signedCallback:c=>{let p={...a,...c};try{i&&i(p)}catch(u){console.log(u)}return de(p)}})})}function Wo(){let t=Et(),e=xt(),n=At();return(0,B.useMemoizedFn)(async(o,s)=>{let{type:r,txParams:i,extraParams:m}=o,a=t({type:r,txParams:{...i,...s},extraParams:m}),{id:c,txPool:p}=o;return o.id=a.id,a.id=c,o.txPool=[],await n(a),e(a,{signedCallback:u=>_t({txId:c,tx:{...a,status:v.PENDING,isSpeeding:!0,txPool:[o,...p],...u}})})})}function Yo(){let t=Jt(!0),e=Et(),n=xt(),o=At();return(0,B.useMemoizedFn)(async(s,r)=>{let{txParams:i,extraParams:m}=s,{from:a,nonce:c,type:p,chainId:u}=i,f=t.find(({address:N})=>!N),l=e({type:_.TRANS_OUT,txParams:{to:a,value:"0x0",nonce:c,chainId:u,type:p,...r},extraParams:m}),{id:A,txPool:y}=s;return s.id=l.id,l.id=A,s.txPool=[],await o(l),n(l,{signedCallback:N=>_t({txId:A,tx:{...l,status:v.PENDING,isCanceling:!0,txPool:[s,...y],extraParams:{toAddress:a,tokenAddress:"",coinSymbol:f?.symbol,value:"0"},...N}})})})}d();T();var Z=R(J()),Ae=R(X()),tt=R(et());function qe(t){let e=t.map(o=>{let{nonce:s}=o.txParams;return parseInt(s,16)}),n=Math.max.apply(null,e);return Number.isInteger(n)?n+1:0}function ye(t,e){let n=nt(void 0,e),o=st(),s=t||o,r=(0,Ae.useSelector)(Wt),i=(0,tt.useLatest)(me(e)),m=(0,tt.useLatest)(ue(void 0,e)),[a,c]=(0,Z.useState)(!1),[p,u]=(0,Z.useState)(null),[f,l]=(0,Z.useState)(null),A=(0,tt.useMemoizedFn)(async()=>{let y;try{c(!0),y=await(await n()).eth.getTransactionCount(s,"latest")}finally{c(!1)}let N=qe(i.current),C=Math.max(y,N),h=m.current.map(g=>{let{nonce:E}=g.txParams;return Yt(E)}),w=C;for(;h.includes(w);)w+=1;return u(y),l(w),{nonce:y,suggestedNonce:w}});return(0,Z.useEffect)(()=>{(async()=>(await n())?.eth&&A())()},[n,s,r]),{loadingNonce:a,nonce:p,suggestedNonce:f,request:A}}pt();d();T();d();T();var z=R(J()),he=R(et());pt();var We=({txParams:t={},dappInjectedGasInfo:e={}},n)=>{let{to:o,from:s,value:r,data:i,tokenAddress:m}=t,[a,c]=(0,z.useState)(""),[p,u]=(0,z.useState)(!0),[f,l]=(0,z.useState)(!1),{extensionConfig:A}=G("rpc_info"),N=pe((n||A)?.rpcUrl),{run:C}=(0,he.useDebounceFn)(async()=>{try{u(!0);let h=await N({to:o,from:s,value:r,data:i},m);c(h),l(!1)}catch{l(!0)}finally{u(!1)}},{wait:500});return(0,z.useEffect)(()=>{b(e.gasLimit,0)?(c(e.gasLimit),u(!1)):C()},[o,s,r,i,m,e.gasLimit]),{chainGasLimit:a,chainGasLimitLoading:p,chainGasLimitLoadFailed:f}},Ne=We;d();T();var M=R(J());Rt();pt();var Ce=R(et()),Ye=({dappInjectedGasInfo:t={}},e)=>{let[n,o]=(0,M.useState)({}),[s,r]=(0,M.useState)(!0),[i,m]=(0,M.useState)(!1),{extensionConfig:a}=G("rpc_info"),c=e||a,{rpcUrl:p,chainId:u}=c,f=oe(u),l=fe(p),A=7e3,y=(0,M.useRef)(),N=(0,M.useRef)(!0),C=()=>{N.current=null,clearTimeout(y.current)},h=g=>{if(lt(t))o(g);else{let{gasPrice:E,maxFeePerGas:L,maxPriorityFeePerGas:I}=t,{isSupportEip1559:$}=g;if($){delete g.gasPrice;let K=Lt(L,I);b(L,0)&&b(K,0)&&b(I,0)?(o({...g,maxFeePerGas:L,baseFeePerGas:K,maxPriorityFeePerGas:I}),C()):o(g)}else delete g.maxFeePerGas,delete g.baseFeePerGas,delete g.maxPriorityFeePerGas,b(E,0)?(o({...g,gasPrice:E}),C()):o(g)}},w=async(g=!1)=>{try{g&&r(!0);let L=(await l(u)).find(({level:I})=>I===Gt.MEDIUM)||{};delete L.level,(g||N.current)&&(h(L),m(!1))}catch{g&&m(!0)}finally{r(!1),N.current&&(y.current=setTimeout(()=>{w()},A))}};return(0,Ce.useAsyncEffect)(async()=>{if(!c?.rpcUrl)return j;let g=await f();return lt(g)?w(!0):(o(g),r(!1)),()=>{C()}},[c?.rpcUrl]),{chainGasPrice:n,stopPollingGasPrice:C,chainGasPriceLoading:s,chainGasPriceLoadFailed:i}},Re=Ye;var Ve=(t={},e={},n)=>{let{chainGasPrice:o,stopPollingGasPrice:s,chainGasPriceLoading:r,chainGasPriceLoadFailed:i}=Re({dappInjectedGasInfo:e},n),{chainGasLimit:m,chainGasLimitLoading:a,chainGasLimitLoadFailed:c}=Ne({txParams:t,dappInjectedGasInfo:e},n);return{chainGasPrice:o,chainGasLimit:m,chainGasLoading:r||a,chainGasLoadFailed:i||c,stopPollingGasPrice:s,chainGasPriceLoading:r,chainGasLimitLoading:a,chainGasPriceLoadFailed:i,chainGasLimitLoadFailed:c}},ve=Ve;d();T();var Oe=async(t,e)=>{let n;try{n=await e.eth.getCode(t)}catch{n=null}return{isContractAddress:n&&n!=="0x"&&n!=="0x0"}};d();T();function we(t,{customPermissionAmount:e}){let n=Q(t);if(n){if(n.name!==x.TOKEN_METHOD_APPROVE)throw new Error(`Invalid data; should be 'approve' method, but instead is '${n.name}'`)}else throw new Error("Invalid data");let o=rt(n);o.startsWith("0x")&&(o=o.substring(2));let[s,r]=t.split(o);if(!s||!r)throw new Error("Invalid data");if(r.length!==64)throw new Error("Invalid token value; should be exactly 64 hex digits long (u256)");let i=F(e);if(i.length>64)throw new Error("Custom value is larger than u256");return i=i.padStart(r.length,"0"),`${s}${o}${i}`}function Be({data:t,to:e}){let n=nt(),[o,s]=(0,P.useState)(""),[r,i]=(0,P.useState)(!1);return(0,P.useEffect)(()=>{(async()=>{if(t&&!e){s(x.DEPLOY_CONTRACT);return}try{let u=Q(t)?.name,f=[x.TOKEN_METHOD_APPROVE,x.TOKEN_METHOD_TRANSFER,x.TOKEN_METHOD_TRANSFER_FROM].find(l=>l.toLowerCase()===u.toLowerCase());if(f){s(f);return}}catch{}i(!0);let a=await n(),{isContractAddress:c}=await Oe(e,a);s(c?x.CONTRACT_INTERACTION:x.SENT_ETHER),i(!1)})()},[t,e,n]),[o,r]}function Ze({data:t,type:e}){let n,o,s,r;try{let i=Q(t),m=re(i);n=rt(i),r=m,o=e===x.TOKEN_METHOD_APPROVE,s=o&&Number(r)===0}catch{}return{address:n,isApprove:o,isRevoke:s,amount:r}}function ze(t,e){let n=Qt(void 0,e),[o,s]=(0,P.useState)({}),[r,i]=(0,P.useState)(!1),m=async()=>{try{i(!0);let{symbol:a,decimals:c}=await n(t);s({symbol:a,decimals:c}),i(!1)}catch{i(!1)}};return(0,P.useEffect)(()=>{t&&m()},[t]),[o,r]}function $e(t){let[e,n]=(0,P.useState)(-1),{isApprove:o,amount:s}=t;return(0,P.useEffect)(()=>{o&&n(s)},[o,s]),[{...t,customApproveAmount:e},n]}function je({origin:t,isApprove:e,isRevoke:n,symbol:o,walletId:s}){let r=Xt(s),i=(0,yt.useSelector)(Ht),m=s?r:i,c=(0,yt.useSelector)(Vt)[t]||{},[p,u]=(0,P.useState)({});return(0,P.useEffect)(()=>{let f=null,l=null,A=null;e?(f=null,l=o,A=n?D("wallet_approval_subtitle_revoke_approval_desc",{tokenSymbol:o}):D("wallet_dapp_conncetion_alert_approve_tip",{name:c.name,tokenSymbol:o})):(f=c.icon,A=c.host,l=c.name),u({icon:f,host:A,name:l})},[n,o]),{...p,originInfo:c,wallet:`${m.keyringName} - ${m.walletName}`}}function Je(t,e){let{nonce:n,suggestedNonce:o}=ye(t,e),[s,r]=(0,P.useState)(0),[i,m]=(0,P.useState)(!0);return(0,P.useEffect)(()=>{r(o),m(!1)},[o]),[{suggested:n,custom:s,pending:i},r]}var Qe=({tx:t,nonce:e,txData:n,tokenInfo:o,chain:s,customGasInfo:r,approvedAmount:i,formattedAmount:m,txType:a})=>{let{from:c,to:p,value:u,data:f}=t,{isSupportEip1559:l,maxFeePerGas:A,maxPriorityFeePerGas:y,gasPrice:N,gasLimit:C}=r,h={from:c,to:p,value:u,gasLimit:C,nonce:e,data:f};l?(h.maxFeePerGas=A,h.maxPriorityFeePerGas=y,h.type=W.FEE_MARKET):(h.gasPrice=N,h.type=W.LEGACY);let g={[x.DEPLOY_CONTRACT]:_.CONTRACT_DEPLOY,[x.CONTRACT_INTERACTION]:_.CONTRACT_CALL,[x.TOKEN_METHOD_APPROVE]:_.AUTHORIZATION,[x.SENT_ETHER]:_.TRANS_OUT,[x.TOKEN_METHOD_TRANSFER]:_.TRANS_OUT,[x.TOKEN_METHOD_TRANSFER_FROM]:_.TRANS_OUT}[a]||_.CONTRACT_CALL;n.isRevoke&&(g=_.CANCEL_AUTHORIZATION);let E={};return a===x.TOKEN_METHOD_APPROVE&&(E.approvedAmount=i,E.coinSymbol=o.symbol,E.tokenAddress=p,E.approvedAddress=n.address),a===x.SENT_ETHER&&(E.value=Dt(Y(u)),E.toAddress=p,E.coinSymbol=s.symbol),(a===x.TOKEN_METHOD_TRANSFER||a===x.TOKEN_METHOD_TRANSFER_FROM)&&(E.value=m,E.tokenAddress=p,E.toAddress=n.address,E.coinSymbol=o.symbol),{type:g,txParams:h,extraParams:E}};function Xe(t,e,n){let o=(0,Se.useHistory)(),s=ie(),r=ce(),i=xe(n),[m,a]=(0,P.useState)(!1);return[{sign:async(u,f)=>{a(!0),i(t,u,f).then(async({txHash:l})=>{s({id:e,result:l}),o.push(kt)}).catch(l=>{l.message!==ot&&U.error({title:l?.message}),s({id:e,error:l?.message||"Transaction failed"}),a(!1)}).finally(()=>{o.go(0)})},cancel:async()=>{await r({id:e}),o.go(0)}},m]}function ss(t,e){let[n]=Be(t),o=Ze({data:t.data,type:n}),[s,r]=ze(t?.to,e),i=je({walletId:t?.walletId,origin:t.origin,...o,...s}),m=(0,P.useMemo)(()=>se(o?.amount||0,s?.decimals),[o?.amount,s?.decimals]),[a,c]=$e({...o,...s,formattedAmount:m}),[p,u]=(0,P.useState)(t.data);(0,P.useEffect)(()=>{if(n===x.TOKEN_METHOD_APPROVE)try{let k=we(t.data,{customPermissionAmount:a.customApproveAmount});u(k)}catch{}},[a.customApproveAmount,t.data,s?.decimals,o,n]);let f={...e,name:e?.name||e?.chainName},[l,A]=Je(t.from,e),[y,N]=(0,P.useState)(null),[C,h]=(0,P.useState)({}),{chainGasPrice:w,chainGasLimit:g,chainGasLoading:E,chainGasLoadFailed:L,stopPollingGasPrice:I,chainGasLimitLoadFailed:$}=ve({to:t.to,from:t.from,value:t.value||"0x0",data:p},{gasLimit:Y(t.gas||t.gasLimit),gasPrice:Y(t.gasPrice),maxFeePerGas:Y(t.maxFeePerGas),maxPriorityFeePerGas:Y(t.maxPriorityFeePerGas)},e),K=k=>{N(Ge=>({...Ge,...k}))};(0,P.useEffect)(()=>{h(k=>({...k,...w}))},[w]),(0,P.useEffect)(()=>{h(k=>({...k,gasLimit:g}))},[g]);let it=Qe({tx:{...t,data:p},nonce:l.custom||l.suggested,txData:o,tokenInfo:s,chain:f,customGasInfo:y||C,approvedAmount:a.customApproveAmount,formattedAmount:m,txType:n}),[{sign:ct,cancel:mt},ut]=Xe(it,t.id,e),Fe=(0,P.useMemo)(()=>{switch(n){case x.DEPLOY_CONTRACT:return D("developer_mode_history_title_contract_eployment");case x.TOKEN_METHOD_APPROVE:return o?.isRevoke?D("wallet_extension_popup_btn_revoke_approval"):D("wallet_extension_popup_btn_approve");default:return D("wallet_extension_popup_title_contract_interaction")}},[n,o?.isRevoke]);return[{type:n,title:Fe,auth:{...a,...s,formattedAmount:m},meta:i,chain:f,nonce:l,gas:{chainGasInfo:C,customGasInfo:y||C,chainGasLoading:E,chainGasLoadFailed:L,updateCustomGasInfo:K,stopPollingGasPrice:I,chainGasLimitLoadFailed:$},loading:{sign:ut,token:r},data:p},{sign:ct,cancel:mt,setNonce:A,setAuthAmount:c}]}d();T();var Ie=R(X());d();T();Ft();ft();function Le(t,e,n){return async o=>{await S().resolvePendingApproval(t,e);let{pendingApprovals:s}=await q(o);Object.values(s).length===0&&!n&&o(Tt())}}function De(t){return async e=>{await S().rejectPendingApproval(t);let{pendingApprovals:n}=await q(e);Object.values(n).length===0&&e(Tt())}}Ft();St();function ys(t){let e=(0,Ie.useDispatch)(),o=(a=>{let{id:c,origin:p,requestData:u,type:f,requestData:{chainId:l}}=a;return{id:c,origin:p,...u,requestData:u,chainIdToDisplay:parseInt(l,16),switchType:f,explorers:u.blockExplorerUrl}})(t),{addRpcNetwork:s}=ae(),{setExtensionConfig:r}=G("rpc_info");return[o,{cancel:async()=>{await e(De(o.id)),await q(e)},approve:async()=>{let{rpcUrl:a,ticker:c,blockExplorerUrl:p,chainId:u,faucetUrl:f,chainName:l}=o,A=await s({chainId:u,explorerUrl:p,faucetUrl:f,name:l,rpcUrl:a,symbol:c}),{uniqueId:y}=A;await r(A),await e(dt("isRpcMode",!0)),await e(dt("currentNetworkUniqueId",y)),await e(Zt(wt,a,c,l,u,{},!0,y)),await e(Le(o.id,o.requestData)),await q(e)}}]}d();T();function vs(t){return zt(t?.image)?t.image=t.image[0]:$t(t?.image)&&(t.image=null),t}export{Te as a,ge as b,Ee as c,xe as d,Wo as e,Yo as f,ye as g,ve as h,Be as i,Ze as j,ze as k,Qe as l,ss as m,ys as n,ao as o,vs as p};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-HU33TQ7G.js.map

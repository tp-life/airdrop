import{a as W}from"./chunk-NVTMZ25X.js";import{b as _}from"./chunk-ZM5QX5NG.js";import{a as M,b as P}from"./chunk-TTRHX25W.js";import"./chunk-ZORPRUU7.js";import"./chunk-AWNSSJAG.js";import"./chunk-QCAVIM5G.js";import"./chunk-B7P7Y7YD.js";import"./chunk-RN3CEAG6.js";import"./chunk-3K6OE4O5.js";import"./chunk-BGIT66CC.js";import"./chunk-SEL5SOAI.js";import"./chunk-EMVP43OQ.js";import{a as B}from"./chunk-XHGPSNTM.js";import{a as b}from"./chunk-PGNWRBKO.js";import"./chunk-JOGFEK3S.js";import{a as D}from"./chunk-TEHSOGCP.js";import"./chunk-L5MAEEVU.js";import"./chunk-4U65LWXX.js";import"./chunk-WMQSMBLA.js";import"./chunk-XKK5N6CR.js";import"./chunk-ICLH7VK5.js";import"./chunk-3RJOXTRR.js";import"./chunk-J2MASCEL.js";import"./chunk-J2Y34YM2.js";import"./chunk-NNO7KFUF.js";import"./chunk-3L5C5CQB.js";import"./chunk-CGBWDXEW.js";import"./chunk-NRWOOVOJ.js";import"./chunk-P6MBUJNT.js";import"./chunk-2XYRURE2.js";import"./chunk-LYFECSNW.js";import"./chunk-M7CDJYYG.js";import"./chunk-VUB7XYHG.js";import"./chunk-QZXK25MX.js";import"./chunk-J7ZUOIII.js";import"./chunk-Q2BK5I52.js";import"./chunk-QVG4GOA5.js";import{d as R}from"./chunk-4NCQWC2K.js";import"./chunk-BSEC3HD3.js";import"./chunk-SR5VKAMR.js";import"./chunk-2L5V4MTR.js";import"./chunk-762Y5MQL.js";import"./chunk-L56XCX6G.js";import"./chunk-7UJMDFGU.js";import"./chunk-PB7BCSCP.js";import"./chunk-6ZM3C6AR.js";import"./chunk-QOIOEYFC.js";import{a as E}from"./chunk-ERN756XV.js";import"./chunk-SUOZFPDI.js";import"./chunk-PHVYXSWP.js";import"./chunk-V3N76XMD.js";import"./chunk-S2V4K2JM.js";import"./chunk-GSWJ5GW7.js";import"./chunk-IVCA3VWI.js";import"./chunk-FLZ5KV6J.js";import"./chunk-OCTREJ3R.js";import"./chunk-RG4N2AAJ.js";import"./chunk-JPVBM3R5.js";import"./chunk-DMPLD3VG.js";import"./chunk-WWUOPI5T.js";import"./chunk-HVADQEJS.js";import"./chunk-A52XYJMT.js";import"./chunk-YDUQEL3D.js";import"./chunk-SWHCYDK2.js";import"./chunk-BCT5GPKT.js";import"./chunk-FJBNQZUR.js";import"./chunk-XN45YXW3.js";import"./chunk-M75TVG7W.js";import"./chunk-YXS5E7TI.js";import"./chunk-XUKRDQIU.js";import"./chunk-OQJOA7JT.js";import"./chunk-YOJOUOFP.js";import"./chunk-7OQVWENF.js";import"./chunk-WD7752PC.js";import"./chunk-SLWKMGPD.js";import"./chunk-UC77E3WD.js";import"./chunk-GTSNHSPT.js";import"./chunk-LVPRDSPO.js";import"./chunk-PP43MII2.js";import"./chunk-YV3R2S6K.js";import"./chunk-RJO5LUBF.js";import"./chunk-DRPGNVVL.js";import"./chunk-UEENMIFU.js";import"./chunk-3OMHZBKM.js";import"./chunk-A264YTOP.js";import"./chunk-LRVKM4IV.js";import"./chunk-PVSNAFN3.js";import"./chunk-JYKQJVIF.js";import"./chunk-GBQG32PI.js";import"./chunk-Q6XXIWBJ.js";import"./chunk-VWYA3Z7M.js";import{o as Q}from"./chunk-A3FIPWG3.js";import"./chunk-NTISK7TT.js";import"./chunk-MXRUZQZ7.js";import{L as C,M as T,v as x}from"./chunk-CU7RFE6B.js";import"./chunk-J4UWPXXS.js";import"./chunk-QZUNX5I4.js";import"./chunk-IVA2TTR4.js";import"./chunk-OG3IV3YP.js";import"./chunk-45FKVGCF.js";import"./chunk-KSCBZ3RY.js";import"./chunk-37O7OMRA.js";import"./chunk-5PGNMLJO.js";import"./chunk-35FUKWV2.js";import"./chunk-DHNKVM4B.js";import"./chunk-VL5VJIZ7.js";import"./chunk-TU7CE5HJ.js";import"./chunk-2NE2FMGV.js";import{Ia as S,Ob as A,Ya as N,fc as K}from"./chunk-YILNSICT.js";import"./chunk-ORQMOT6Z.js";import"./chunk-L4N7WJIQ.js";import{K as w,pa as J}from"./chunk-LBCQTFOD.js";import"./chunk-V63HWKAL.js";import"./chunk-ZZ2UZY4M.js";import"./chunk-XFAFBXWC.js";import"./chunk-7EEPBGCR.js";import"./chunk-CY6DCOJP.js";import"./chunk-2EJYCNYZ.js";import"./chunk-V2K75WCG.js";import{a as y}from"./chunk-B75PPTYD.js";import"./chunk-2AWSM2JA.js";import"./chunk-QXPU36HD.js";import"./chunk-QI5O5UGB.js";import"./chunk-2OGSVQVK.js";import"./chunk-Y5BBPTSN.js";import"./chunk-5LMNZ6ME.js";import"./chunk-SY7RUBBT.js";import"./chunk-M3FHVHHL.js";import"./chunk-BL7VW4RD.js";import"./chunk-LQWZRQFF.js";import"./chunk-VGOLUGG3.js";import"./chunk-DCDI35O2.js";import"./chunk-YEL3LVD4.js";import{a as V}from"./chunk-6ZXPBMA4.js";import"./chunk-6SIBAM5N.js";import"./chunk-42IJDSSW.js";import"./chunk-BMKS7XLD.js";import"./chunk-MTFM4GGW.js";import{f as d,m as n,o as i}from"./chunk-UGZFXKPB.js";n();i();var h=d(y());n();i();var q=d(y());N();n();i();J();K();n();i();var I=d(V());N();var G=(t={})=>{let{params:e={}}=t,{transaction:o={}}=e;return o},Y=async(t={})=>{let{contractAddress:e,contractName:o,functionName:a,functionArgs:r}=t,{getRawTransaction:s}=await E(),c={data:{type:x.CONTRACT_CALL,data:{contract:e,contractName:o,functionName:a,functionArgs:r}}};return await s(I.Currency.Stx,c)},Z=async(t={})=>{let{recipient:e,amount:o,memo:a}=t,{getRawTransaction:r}=await E(),s={data:{type:x.TRANSFER,data:{to:e,amount:o,memo:a}}};return await r(I.Currency.Stx,s)},$=async(t={})=>t.txType===T.CONTRACT_CALL?Y(t):t.txType===T.STX_TRANSFER?Z(t):"",O=async({unapproved:t={},baseCoin:e={},fromAddress:o,value:a})=>{let r=G(t),s=await $(r);return(await b({coinId:e?.coinId||S,fromAddress:o,value:a,inputData:s}))?.gasLimit||"0"};n();i();var L=d(Q()),k=d(y());var v=({unapproved:t={},baseCoin:e})=>{let[o,a]=(0,k.useState)(),[r,{setTrue:s,setFalse:c}]=(0,L.useBoolean)(!0),[m,{setTrue:p,setFalse:f}]=(0,L.useBoolean)(!1),u=B(t);return(0,k.useEffect)(()=>{(async()=>{try{s(),f();let l=await O({unapproved:t,baseCoin:e,fromAddress:u?.address,value:"0"});a(l),c()}catch{p(),c()}})()},[t?.id]),{isLoadingFee:r,isGasError:m,fee:o}},U=v;var tt=({unapproved:t,baseCoin:e,coinId:o})=>{let{fee:a,isLoadingFee:r,isGasError:s}=U({unapproved:t,baseCoin:e}),c=D(o,t.walletId)||{},{coinAmountInt:m}=c,p=G(t),f=p?.txType===T.STX_TRANSFER?p?.amount:"0",u=w(m)||A(m,a),F=w(m)||A(m,f);return{loading:r,networkFee:a,estimateFailed:s,networkFeeProps:{coinId:o,loading:r,networkFee:a,estimateFailed:s},isSufficientGas:u,isSufficientBalance:F,coinWithBalance:c}},X=tt;var et=({unapproved:t})=>{let e=R(S)||{},o=e.coinId||S,a=t?.params?.transaction?.contractAddress,{networkFee:r,estimateFailed:s,networkFeeProps:c,isSufficientGas:m,loading:p,isSufficientBalance:f,coinWithBalance:u}=X({coinId:o,unapproved:t,baseCoin:e}),F=M({baseCoin:e,unapproved:t,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,coinWithBalance:u}),{buttonGroup:l}=_({coinId:o,unapproved:t,feeLoading:p,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,extParams:{fee:r},coinWithBalance:u});return q.default.createElement(P,{unapproved:t,tipMessage:F,buttonGroup:l,networkFee:c,contractAddress:a})},j=et;n();i();var z=d(y());var H=({unapproved:t})=>{let e=t.params?.message;return z.default.createElement(W,{message:e,unapproved:t})};var Ut=({unapproved:t})=>{switch(t.method){case C.SIGN_TRANSACTION:return h.default.createElement(j,{unapproved:t});case C.SIGN_MESSAGE:return h.default.createElement(H,{unapproved:t});default:return""}};export{Ut as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Stacks-PMPGT7RP.js.map

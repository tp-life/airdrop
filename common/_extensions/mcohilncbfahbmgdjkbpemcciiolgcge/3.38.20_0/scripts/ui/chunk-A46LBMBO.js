import{b as I}from"./chunk-BU5U5Q5F.js";import{Na as T}from"./chunk-762Y5MQL.js";import{T as n,d as S,pa as C}from"./chunk-LBCQTFOD.js";import{N as o,b as E,v as s}from"./chunk-V63HWKAL.js";import{h as r,m as t,o as a}from"./chunk-UGZFXKPB.js";t();a();C();o();t();a();o();function R(){return T()?{walletType:"okwallet-extension"}:s.getProjectStorage("onChain")}var O={HEART:"heart",HEART_FINISH:"heartFinish",UPDATE_HASH:"updateHash",UPDATE_HASH_ERROR:"updateHashError",SAVE_ORDER:"saveOrder",SAVE_ORDER_PARAMS:"saveOrderParams",SAVE_ORDER_ERROR:"saveOrderError",SEND_ERROR:"sendError",ON_WALLET_FAIL:"onWalletFail",PAYLOAD:"payload",UPDATE_NONCE:"updateNonce",UPDATE_NONCE_FAIL:"updateNonceFail",CLOSE_CONFIRM_SWAP:"closeConfirmSwap",BEFOREUNLOAD:"beforeunload",CANCEL_ORDER:"cancelOrder",REDEEM_ORDER:"redeemOrder",ERROR_BOUNDARY:"errorBoundary",STUFF_LOG:"stuffLog",GET_LIMIT_CALL_DATA_ERROR:"getLimitCallDataError",SAVE_APPROVE:"saveApprove",SAVE_APPROVE_ERROR:"saveApproveError",APPROVE_DATA:"approveData",APPROVE_TOKEN_ERROR:"approveTokenError",CHAIN_ID_ADDRESS_MAP_IS_EMPTY:"chainIdAddressMapIsEmpty",UPDATE_BTC_BALANCE_ERROR_BEFORE_SWAP:"updateBtcBalanceErrorBeforeSwap",CHAIN_INFO:"chainInfo",ON_CHAIN_CHANGE:"onChainChange",LINK_SWITCH_START:"linkSwitchStart",LINK_SWITCH_SUCCESS:"linkSwitchSuccess",LINK_SWITCH_FAILED:"linkSwitchFailed",LINK_SWITCH_END:"linkSwitchEnd",DOUBLE_CHECK_CHAIN_ID_SUCCESS:"doubleCheckChainIdSuccess",DOUBLE_CHECK_CHAIN_ID_FAILED:"doubleCheckChainIdFailed",GET_CHAIN_ID_FAILED:"getChainIdFailed",UPDATE_APPROVAL_GAS_INFO_ERROR:"updateApprovalGasInfoError",WALLET_INFO:"walletInfo",OVER_VIEW_PRE_DATA_ERROR:"overViewInfoPreDataError",TRANSACTION_HISTORY_PRE_DATA_ERROR:"transactionHistoryPreDataError",REDEEM_ORDER_CALL_DATA:"redeemOrderCallData",REDEEM_ORDER_CALL_DATA_ERROR:"redeemOrderCallDataError",REDEEM_ORDER_ERROR:"redeemOrderError",INTENT_QUOTE_CALLDATA_ERROR:"intentQuoteCallDataError",INTENT_SWAP_SIGN_ERROR:"intentSwapSignError",INTENT_ORDER_CREATE_ERROR:"intentOrderCreateError",INTENT_SWAP_CALLDATA_ERROR:"intentSwapCalldataError",INTENT_SWAP_PROCESS_ERROR:"intentSwapProcessError",REGISTER_CO_LISTING_ERROR:"registerCoListingError",BEFORE_SEND_TRANSACTION_ERROR:"beforeSendTransactionError",TRANSACTION_HISTORY_LIST_ERROR:"transaction_history_list_error",TRANSACTION_HISTORY_INFO_ERROR:"transaction_history_info_error",EXTENSION_SWITCH_BTC_ADDRESS_ERROR:"extensionSwitchBtcAddressError",CHECK_CHAIN_ID_BEFORE_SEND_TRANSACTION:"checkChainIdBeforeSendTransaction",CHECK_CHAIN_ID_AFTER_SEND_TRANSACTION:"checkChainIdAfterSendTransaction",WIDGET_UPDATE_PROVIDER_ERROR:"widgetUpdateProviderError",WIDGET_DISCONNECT_WALLET_ERROR:"widgetDisconnectWalletError",OK_GLOBAL_LOCALE_MAP_IS_EMPTY:"okGlobalLocaleMapIsEmpty",SET_LANGUAGE_ERROR:"setLanguageError",SIGN_PERMIT2_DATA:"signPermit2Data",LIMIT_ORDER_TOKEN_PAIR_ERROR:"limitOrderTokenPairError",LIMIT_TOKEN_CONFIG_EMPTY:"limitChainListTokenConfigIsEmpty",LIMIT_TOKEN_CONFIG_DIFF_CHAIN:"limitChainListTokenConfigIsDiffChain",SWAP_SLIPPAGER_MEV_SETTING:"swapSlippagerMevSetting",BA_FANG_SDK_INIT_ERROR:"baFangSdkInitError",BA_FANG_SDK_INIT_SUCCESS:"baFangSdkInitSuccess",BA_FANG_SDK_INIT_FAILED:"baFangSdkInitFailed",MEME_SWAP_VALUE_DIFF_ERROR:"memeSwapValueDiffError",MEME_SWAP_GET_CALLDATA_PARAMS:"memeSwapGetCalldataParams",MEME_SWAP_GET_CALLDATA_ERROR:"memeSwapGetCalldataError",MEME_SWAP_PRE_EXECUTE_ERR:"memeSwapPreExecuteErr",MEME_SWAP_PRE_EXECUTE_RESULT_ERR:"memeSwapPreExecuteResultErr",MEME_SWAP_PRE_EXECUTE_RESULT:"memeSwapPreExecuteResult",MEME_SWAP_SIGN_SUCCESS:"memeSwapSgSuccess",MEME_SWAP_SIGN_ERROR:"memeSwapSgERROR",MEME_SWAP_BROADCAST_PARAMS:"memeSwapBroadcastParams",MEME_SWAP_BROADCAST_ERROR:"memeSwapBroadcastError",MEME_SWAP_BROADCAST_SUCCESS:"memeSwapBroadcastSuccess",GET_BALANCE:"getBalanceV2",CLICK_WALLET_SWAP_BUTTON:"clickWalletSwapButtonV2",BALANCE_IS_ERROR:"balanceIsErrorV2",USER_ON_OR_OFF_MEV_IN_WALLET:"userOnOrOffMevInWallet"};var l={business:"dex"},A=class{constructor(e){r(this,"setTags",e=>{this.tags={...this.tags,...e}});r(this,"extendTags",()=>{let{walletType:e,scanAppType:_}=R();return n({walletType:e,scanAppType:_,taskId:this.uid,...this.tags},S)});r(this,"wrapHandle",(e,_,i={})=>{e(_,{...i,tags:{...this.extendTags(),...i?.tags}})});r(this,"debug",(...e)=>{this.wrapHandle(E.debug,...e)});r(this,"info",(...e)=>{this.wrapHandle(E.info,...e)});r(this,"error",(...e)=>{this.wrapHandle(E.error,...e)});r(this,"warn",(...e)=>{this.wrapHandle(E.warn,...e)});r(this,"stuff",(...e)=>{e.length===1&&typeof e[0]=="string"?this.wrapHandle(E.info,O.STUFF_LOG,{msg:e[0]}):this.wrapHandle(E.info,O.STUFF_LOG,...e)});r(this,"generateUUID",()=>{this.uid=I()});r(this,"timerRef",null);r(this,"heartNumber",0);r(this,"uid","");r(this,"keepLive",()=>{this.generateUUID(),this.heartNumber=0,this.timerRef&&clearInterval(this.timerRef),this.heartCheck(),this.timerRef=setInterval(()=>{this.heartCheck()},30*1e3)});r(this,"heartCheck",()=>{this.info("heart",{tags:{heartNumber:this.heartNumber}}),this.heartNumber++});r(this,"removeKeep",()=>{this.timerRef&&clearInterval(this.timerRef),this.info("heart finish",{tags:{heartNumber:this.heartNumber}}),this.heartNumber=0,this.uid=""});this.tags=e}};var u=new A(l);export{O as a,u as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-A46LBMBO.js.map

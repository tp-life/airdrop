import{a as a$,c as dpe}from"./chunk-4AXTMWMB.js";import{a as lpe}from"./chunk-XJDO3A7H.js";import{a as ppe}from"./chunk-MKXAYGCB.js";import{a as o$}from"./chunk-XJG32FMM.js";import{a as f$}from"./chunk-2PNMH542.js";import{a as c$,b as eP,d as hpe}from"./chunk-X6UTFQFS.js";import{a as Yf}from"./chunk-CTX6GEJ5.js";import{a as jm}from"./chunk-YHJQOBGW.js";import{a as fpe,b as s$,c as Ju}from"./chunk-DNDYGV65.js";import{a as Mr}from"./chunk-5LMNZ6ME.js";import{b as yn}from"./chunk-CEF6LCM2.js";import{a as Pd}from"./chunk-RTOXOPRM.js";import{a as u$}from"./chunk-6SIBAM5N.js";import{a as wc}from"./chunk-42IJDSSW.js";import{E as r$,F as os,G as Uv,H as n$,K as r2,L as i$,N as Ua,d as us,e as $m,g as w6,h as JI,m as qm,n as e$,o as Lv,q as QI,v as cpe,w as t$,y as E6}from"./chunk-MTFM4GGW.js";import{a as Um,b as Nv,c as $,d as Dv,g as Hv,l as process,m as B,n as I,o as k}from"./chunk-UGZFXKPB.js";var $a=$(op=>{"use strict";B();k();Object.defineProperty(op,"__esModule",{value:!0});op.testnet=op.regtest=op.bitcoin=void 0;op.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};op.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};op.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var tP=$(ap=>{"use strict";B();k();Object.defineProperty(ap,"__esModule",{value:!0});ap.encode=ap.decode=ap.check=void 0;function bpe(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}ap.check=bpe;function gpe(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}ap.decode=gpe;function mpe(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=I.Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}ap.encode=mpe});var A6=$(n2=>{"use strict";B();k();Object.defineProperty(n2,"__esModule",{value:!0});n2.REVERSE_OPS=n2.OPS=void 0;var rP={OP_FALSE:0,OP_0:0,OP_DATA_1:1,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};n2.OPS=rP;var l$={};n2.REVERSE_OPS=l$;for(let t of Object.keys(rP)){let e=rP[t];l$[e]=t}});var h$=$(fp=>{"use strict";B();k();Object.defineProperty(fp,"__esModule",{value:!0});fp.decode=fp.encode=fp.encodingLength=void 0;var cp=A6();function d$(t){return t<cp.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}fp.encodingLength=d$;function ype(t,e,r){let n=d$(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(cp.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(cp.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(cp.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}fp.encode=ype;function vpe(t,e){let r=t.readUInt8(e),n,i;if(r<cp.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===cp.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===cp.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==cp.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}fp.decode=vpe});var p$=$(i2=>{"use strict";B();k();Object.defineProperty(i2,"__esModule",{value:!0});i2.encode=i2.decode=void 0;function Spe(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&(t[n-1]&127)===0&&(n<=1||(t[n-2]&128)===0))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),u=t.readUInt8(4);return u&128?-((u&-129)*4294967296+s):u*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}i2.decode=Spe;function _pe(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function wpe(t){let e=Math.abs(t),r=_pe(e),n=I.Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}i2.encode=wpe});var Qu=$(yt=>{"use strict";B();k();Object.defineProperty(yt,"__esModule",{value:!0});yt.oneOf=yt.Null=yt.BufferN=yt.Function=yt.UInt32=yt.UInt8=yt.tuple=yt.maybe=yt.Hex=yt.Buffer=yt.String=yt.Boolean=yt.Array=yt.Number=yt.Hash256bit=yt.Hash160bit=yt.Buffer256bit=yt.isTaptree=yt.isTapleaf=yt.TAPLEAF_VERSION_MASK=yt.Satoshi=yt.Signer=yt.BIP32Path=yt.UInt31=yt.isPoint=yt.typeforce=void 0;var $v=us(),ki=yn();Object.defineProperty(yt,"typeforce",{enumerable:!0,get:function(){return ki.typeforce}});var b$=$v.Buffer.alloc(32,0),g$=$v.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Epe(t){if(!$v.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(b$)===0||r.compare(g$)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(b$)===0||n.compare(g$)>=0?!1:e===4&&t.length===65}yt.isPoint=Epe;var Ape=Math.pow(2,31)-1;function Tpe(t){return ki.typeforce.UInt32(t)&&t<=Ape}yt.UInt31=Tpe;function m$(t){return ki.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}yt.BIP32Path=m$;m$.toJSON=()=>"BIP32 derivation path";function xpe(t){return(ki.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}yt.Signer=xpe;var Ipe=21*1e14;function Ppe(t){return ki.typeforce.UInt53(t)&&t<=Ipe}yt.Satoshi=Ppe;yt.TAPLEAF_VERSION_MASK=254;function y$(t){return!t||!("output"in t)||!$v.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&yt.TAPLEAF_VERSION_MASK)===t.version:!0}yt.isTapleaf=y$;function v$(t){return(0,yt.Array)(t)?t.length!==2?!1:t.every(e=>v$(e)):y$(t)}yt.isTaptree=v$;yt.Buffer256bit=ki.typeforce.BufferN(32);yt.Hash160bit=ki.typeforce.BufferN(20);yt.Hash256bit=ki.typeforce.BufferN(32);yt.Number=ki.typeforce.Number;yt.Array=ki.typeforce.Array;yt.Boolean=ki.typeforce.Boolean;yt.String=ki.typeforce.String;yt.Buffer=ki.typeforce.Buffer;yt.Hex=ki.typeforce.Hex;yt.maybe=ki.typeforce.maybe;yt.tuple=ki.typeforce.tuple;yt.UInt8=ki.typeforce.UInt8;yt.UInt32=ki.typeforce.UInt32;yt.Function=ki.typeforce.Function;yt.BufferN=ki.typeforce.BufferN;yt.Null=ki.typeforce.Null;yt.oneOf=ki.typeforce.oneOf});var T$=$(Ec=>{"use strict";B();k();var Ope=Ec&&Ec.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bpe=Ec&&Ec.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),E$=Ec&&Ec.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ope(e,t,r);return Bpe(e,t),e};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.encode=Ec.decode=void 0;var A$=E$(tP()),nP=E$(Qu()),{typeforce:kpe}=nP,S$=I.Buffer.alloc(1,0);function _$(t){let e=0;for(;t[e]===0;)++e;return e===t.length?S$:(t=t.slice(e),t[0]&128?I.Buffer.concat([S$,t],1+t.length):t)}function w$(t){t[0]===0&&(t=t.slice(1));let e=I.Buffer.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function Cpe(t){let e=t.readUInt8(t.length-1),r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=A$.decode(t.slice(0,-1)),i=w$(n.r),s=w$(n.s);return{signature:I.Buffer.concat([i,s],64),hashType:e}}Ec.decode=Cpe;function Fpe(t,e){kpe({signature:nP.BufferN(64),hashType:nP.UInt8},{signature:t,hashType:e});let r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=I.Buffer.allocUnsafe(1);n.writeUInt8(e,0);let i=_$(t.slice(0,32)),s=_$(t.slice(32,64));return I.Buffer.concat([A$.encode(i,s),n])}Ec.encode=Fpe});var as=$(un=>{"use strict";B();k();var Rpe=un&&un.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mpe=un&&un.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zm=un&&un.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Rpe(e,t,r);return Mpe(e,t),e};Object.defineProperty(un,"__esModule",{value:!0});un.signature=un.number=un.isCanonicalScriptSignature=un.isDefinedHashType=un.isCanonicalPubKey=un.toStack=un.fromASM=un.toASM=un.decompile=un.compile=un.isPushOnly=un.OPS=void 0;var Npe=zm(tP()),Jo=A6();Object.defineProperty(un,"OPS",{enumerable:!0,get:function(){return Jo.OPS}});var iP=zm(h$()),x$=zm(p$()),Dpe=zm(T$()),Xf=zm(Qu()),{typeforce:Km}=Xf,I$=Jo.OPS.OP_RESERVED;function Hpe(t){return Xf.Number(t)&&(t===Jo.OPS.OP_0||t>=Jo.OPS.OP_1&&t<=Jo.OPS.OP_16||t===Jo.OPS.OP_1NEGATE)}function Lpe(t){return Xf.Buffer(t)||Hpe(t)}function P$(t){return Xf.Array(t)&&t.every(Lpe)}un.isPushOnly=P$;function qv(t){if(t.length===0)return Jo.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return I$+t[0];if(t[0]===129)return Jo.OPS.OP_1NEGATE}}function O$(t){return I.Buffer.isBuffer(t)}function Upe(t){return Xf.Array(t)}function jv(t){return I.Buffer.isBuffer(t)}function B$(t){if(O$(t))return t;Km(Xf.Array,t);let e=t.reduce((i,s)=>jv(s)?s.length===1&&qv(s)!==void 0?i+1:i+iP.encodingLength(s.length)+s.length:i+1,0),r=I.Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(jv(i)){let s=qv(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=iP.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}un.compile=B$;function sP(t){if(Upe(t))return t;Km(Xf.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Jo.OPS.OP_0&&n<=Jo.OPS.OP_PUSHDATA4){let i=iP.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let u=qv(s);u!==void 0?e.push(u):e.push(s)}else e.push(n),r+=1}return e}un.decompile=sP;function $pe(t){return O$(t)&&(t=sP(t)),t.map(e=>{if(jv(e)){let r=qv(e);if(r===void 0)return e.toString("hex");e=r}return Jo.REVERSE_OPS[e]}).join(" ")}un.toASM=$pe;function qpe(t){return Km(Xf.String,t),B$(t.split(" ").map(e=>Jo.OPS[e]!==void 0?Jo.OPS[e]:(Km(Xf.Hex,e),I.Buffer.from(e,"hex"))))}un.fromASM=qpe;function jpe(t){return t=sP(t),Km(P$,t),t.map(e=>jv(e)?e:e===Jo.OPS.OP_0?I.Buffer.allocUnsafe(0):x$.encode(e-I$))}un.toStack=jpe;function Kpe(t){return Xf.isPoint(t)}un.isCanonicalPubKey=Kpe;function k$(t){let e=t;return e&128&&(e=e&-129),e&64&&(e=e&-65),e>0&&e<4}un.isDefinedHashType=k$;function zpe(t){return!I.Buffer.isBuffer(t)||!k$(t[t.length-1])?!1:Npe.check(t.slice(0,-1))}un.isCanonicalScriptSignature=zpe;un.number=x$;un.signature=Dpe});var Od=$(s2=>{"use strict";B();k();Object.defineProperty(s2,"__esModule",{value:!0});s2.value=s2.prop=void 0;function Vpe(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}s2.prop=Vpe;function Gpe(t){let e;return()=>(e!==void 0||(e=t()),e)}s2.value=Gpe});var M$=$(Zf=>{"use strict";B();k();var Wpe=Zf&&Zf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ype=Zf&&Zf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R$=Zf&&Zf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wpe(e,t,r);return Ype(e,t),e};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.p2data=void 0;var Xpe=$a(),Kv=R$(as()),Bd=Qu(),C$=R$(Od()),F$=Kv.OPS;function Zpe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Jpe(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Bd.typeforce)({network:Bd.typeforce.maybe(Bd.typeforce.Object),output:Bd.typeforce.maybe(Bd.typeforce.Buffer),data:Bd.typeforce.maybe(Bd.typeforce.arrayOf(Bd.typeforce.Buffer))},t);let r=t.network||Xpe.bitcoin,n={name:"embed",network:r};if(C$.prop(n,"output",()=>{if(!!t.data)return Kv.compile([F$.OP_RETURN].concat(t.data))}),C$.prop(n,"data",()=>{if(!!t.output)return Kv.decompile(t.output).slice(1)}),e.validate&&t.output){let i=Kv.decompile(t.output);if(i[0]!==F$.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(Bd.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!Zpe(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}Zf.p2data=Jpe});var H$=$(Jf=>{"use strict";B();k();var Qpe=Jf&&Jf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e3e=Jf&&Jf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),D$=Jf&&Jf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qpe(e,t,r);return e3e(e,t),e};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.p2ms=void 0;var t3e=$a(),u2=D$(as()),xs=Qu(),lp=D$(Od()),o2=u2.OPS,zv=o2.OP_RESERVED;function N$(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function r3e(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(a){return u2.isCanonicalScriptSignature(a)||(e.allowIncomplete&&a===o2.OP_0)!==void 0}(0,xs.typeforce)({network:xs.typeforce.maybe(xs.typeforce.Object),m:xs.typeforce.maybe(xs.typeforce.Number),n:xs.typeforce.maybe(xs.typeforce.Number),output:xs.typeforce.maybe(xs.typeforce.Buffer),pubkeys:xs.typeforce.maybe(xs.typeforce.arrayOf(xs.isPoint)),signatures:xs.typeforce.maybe(xs.typeforce.arrayOf(r)),input:xs.typeforce.maybe(xs.typeforce.Buffer)},t);let i={network:t.network||t3e.bitcoin},s=[],u=!1;function o(a){u||(u=!0,s=u2.decompile(a),i.m=s[0]-zv,i.n=s[s.length-2]-zv,i.pubkeys=s.slice(1,-2))}if(lp.prop(i,"output",()=>{if(!!t.m&&!!i.n&&!!t.pubkeys)return u2.compile([].concat(zv+t.m,t.pubkeys,zv+i.n,o2.OP_CHECKMULTISIG))}),lp.prop(i,"m",()=>{if(!!i.output)return o(i.output),i.m}),lp.prop(i,"n",()=>{if(!!i.pubkeys)return i.pubkeys.length}),lp.prop(i,"pubkeys",()=>{if(!!t.output)return o(t.output),i.pubkeys}),lp.prop(i,"signatures",()=>{if(!!t.input)return u2.decompile(t.input).slice(1)}),lp.prop(i,"input",()=>{if(!!t.signatures)return u2.compile([o2.OP_0].concat(t.signatures))}),lp.prop(i,"witness",()=>{if(!!i.input)return[]}),lp.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(o(t.output),!xs.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!xs.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==o2.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(a=>(0,xs.isPoint)(a)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!N$(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==o2.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!N$(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}Jf.p2ms=r3e});var $$=$(Qf=>{"use strict";B();k();var n3e=Qf&&Qf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i3e=Qf&&Qf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U$=Qf&&Qf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n3e(e,t,r);return i3e(e,t),e};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.p2pk=void 0;var s3e=$a(),c2=U$(as()),sf=Qu(),a2=U$(Od()),L$=c2.OPS;function u3e(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,sf.typeforce)({network:sf.typeforce.maybe(sf.typeforce.Object),output:sf.typeforce.maybe(sf.typeforce.Buffer),pubkey:sf.typeforce.maybe(sf.isPoint),signature:sf.typeforce.maybe(c2.isCanonicalScriptSignature),input:sf.typeforce.maybe(sf.typeforce.Buffer)},t);let r=a2.value(()=>c2.decompile(t.input)),n=t.network||s3e.bitcoin,i={name:"p2pk",network:n};if(a2.prop(i,"output",()=>{if(!!t.pubkey)return c2.compile([t.pubkey,L$.OP_CHECKSIG])}),a2.prop(i,"pubkey",()=>{if(!!t.output)return t.output.slice(1,-1)}),a2.prop(i,"signature",()=>{if(!!t.input)return r()[0]}),a2.prop(i,"input",()=>{if(!!t.signature)return c2.compile([t.signature])}),a2.prop(i,"witness",()=>{if(!!i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==L$.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,sf.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!c2.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}Qf.p2pk=u3e});var Eu=$(Ac=>{"use strict";B();k();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.taggedHash=Ac.hash256=Ac.hash160=Ac.sha256=Ac.ripemd160=void 0;var q$=yn();function j$(t){return I.Buffer.from(q$.base.ripemd160(t))}Ac.ripemd160=j$;function f2(t){return I.Buffer.from(q$.base.sha256(t))}Ac.sha256=f2;function o3e(t){return j$(f2(t))}Ac.hash160=o3e;function a3e(t){return f2(f2(t))}Ac.hash256=a3e;var c3e=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],f3e=Object.fromEntries(c3e.map(t=>{let e=f2(I.Buffer.from(t));return[t,I.Buffer.concat([e,e])]}));function l3e(t,e){return f2(I.Buffer.concat([f3e[t],e]))}Ac.taggedHash=l3e});var z$=$(el=>{"use strict";B();k();var d3e=el&&el.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h3e=el&&el.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oP=el&&el.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d3e(e,t,r);return h3e(e,t),e};Object.defineProperty(el,"__esModule",{value:!0});el.p2pkh=void 0;var uP=oP(Eu()),p3e=$a(),l2=oP(as()),To=Qu(),kd=oP(Od()),dp=l2.OPS,K$=yn();function b3e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,To.typeforce)({network:To.typeforce.maybe(To.typeforce.Object),address:To.typeforce.maybe(To.typeforce.String),hash:To.typeforce.maybe(To.typeforce.BufferN(20)),output:To.typeforce.maybe(To.typeforce.BufferN(25)),pubkey:To.typeforce.maybe(To.isPoint),signature:To.typeforce.maybe(l2.isCanonicalScriptSignature),input:To.typeforce.maybe(To.typeforce.Buffer)},t);let r=kd.value(()=>{let u=K$.base.fromBase58Check(t.address),o=u.readUInt8(0),a=u.slice(1);return{version:o,hash:a}}),n=kd.value(()=>l2.decompile(t.input)),i=t.network||p3e.bitcoin,s={name:"p2pkh",network:i};if(kd.prop(s,"address",()=>{if(!s.hash)return;let u=I.Buffer.allocUnsafe(21);return u.writeUInt8(i.pubKeyHash,0),s.hash.copy(u,1),K$.base.toBase58Check(u)}),kd.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return uP.hash160(t.pubkey||s.pubkey)}),kd.prop(s,"output",()=>{if(!!s.hash)return l2.compile([dp.OP_DUP,dp.OP_HASH160,s.hash,dp.OP_EQUALVERIFY,dp.OP_CHECKSIG])}),kd.prop(s,"pubkey",()=>{if(!!t.input)return n()[1]}),kd.prop(s,"signature",()=>{if(!!t.input)return n()[0]}),kd.prop(s,"input",()=>{if(!!t.pubkey&&!!t.signature)return l2.compile([t.signature,t.pubkey])}),kd.prop(s,"witness",()=>{if(!!s.input)return[]}),e.validate){let u=I.Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");u=r().hash}if(t.hash){if(u.length>0&&!u.equals(t.hash))throw new TypeError("Hash mismatch");u=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==dp.OP_DUP||t.output[1]!==dp.OP_HASH160||t.output[2]!==20||t.output[23]!==dp.OP_EQUALVERIFY||t.output[24]!==dp.OP_CHECKSIG)throw new TypeError("Output is invalid");let o=t.output.slice(3,23);if(u.length>0&&!u.equals(o))throw new TypeError("Hash mismatch");u=o}if(t.pubkey){let o=uP.hash160(t.pubkey);if(u.length>0&&!u.equals(o))throw new TypeError("Hash mismatch");u=o}if(t.input){let o=n();if(o.length!==2)throw new TypeError("Input is invalid");if(!l2.isCanonicalScriptSignature(o[0]))throw new TypeError("Input has invalid signature");if(!(0,To.isPoint)(o[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(o[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(o[1]))throw new TypeError("Pubkey mismatch");let a=uP.hash160(o[1]);if(u.length>0&&!u.equals(a))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}el.p2pkh=b3e});var W$=$(rl=>{"use strict";B();k();var g3e=rl&&rl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),m3e=rl&&rl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aP=rl&&rl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&g3e(e,t,r);return m3e(e,t),e};Object.defineProperty(rl,"__esModule",{value:!0});rl.p2sh=void 0;var V$=aP(Eu()),y3e=$a(),Cd=aP(as()),si=Qu(),tl=aP(Od()),G$=yn(),Vv=Cd.OPS;function v3e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function S3e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,si.typeforce)({network:si.typeforce.maybe(si.typeforce.Object),address:si.typeforce.maybe(si.typeforce.String),hash:si.typeforce.maybe(si.typeforce.BufferN(20)),output:si.typeforce.maybe(si.typeforce.BufferN(23)),redeem:si.typeforce.maybe({network:si.typeforce.maybe(si.typeforce.Object),output:si.typeforce.maybe(si.typeforce.Buffer),input:si.typeforce.maybe(si.typeforce.Buffer),witness:si.typeforce.maybe(si.typeforce.arrayOf(si.typeforce.Buffer))}),input:si.typeforce.maybe(si.typeforce.Buffer),witness:si.typeforce.maybe(si.typeforce.arrayOf(si.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||y3e.bitcoin);let n={network:r},i=tl.value(()=>{let o=G$.base.fromBase58Check(t.address),a=o.readUInt8(0),l=o.slice(1);return{version:a,hash:l}}),s=tl.value(()=>Cd.decompile(t.input)),u=tl.value(()=>{let o=s();return{network:r,output:o[o.length-1],input:Cd.compile(o.slice(0,-1)),witness:t.witness||[]}});if(tl.prop(n,"address",()=>{if(!n.hash)return;let o=I.Buffer.allocUnsafe(21);return o.writeUInt8(n.network.scriptHash,0),n.hash.copy(o,1),G$.base.toBase58Check(o)}),tl.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return V$.hash160(n.redeem.output)}),tl.prop(n,"output",()=>{if(!!n.hash)return Cd.compile([Vv.OP_HASH160,n.hash,Vv.OP_EQUAL])}),tl.prop(n,"redeem",()=>{if(!!t.input)return u()}),tl.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Cd.compile([].concat(Cd.decompile(t.redeem.input),t.redeem.output))}),tl.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),tl.prop(n,"name",()=>{let o=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&o.push(n.redeem.name),o.join("-")}),e.validate){let o=I.Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");o=i().hash}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==Vv.OP_HASH160||t.output[1]!==20||t.output[22]!==Vv.OP_EQUAL)throw new TypeError("Output is invalid");let l=t.output.slice(2,22);if(o.length>0&&!o.equals(l))throw new TypeError("Hash mismatch");o=l}let a=l=>{if(l.output){let f=Cd.decompile(l.output);if(!f||f.length<1)throw new TypeError("Redeem.output too short");let c=V$.hash160(l.output);if(o.length>0&&!o.equals(c))throw new TypeError("Hash mismatch");o=c}if(l.input){let f=l.input.length>0,c=l.witness&&l.witness.length>0;if(!f&&!c)throw new TypeError("Empty input");if(f&&c)throw new TypeError("Input and witness provided");if(f){let h=Cd.decompile(l.input);if(!Cd.isPushOnly(h))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let l=s();if(!l||l.length<1)throw new TypeError("Input too short");if(!I.Buffer.isBuffer(u().output))throw new TypeError("Input is invalid");a(u())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let l=u();if(t.redeem.output&&!t.redeem.output.equals(l.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(l.input))throw new TypeError("Redeem.input mismatch")}a(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!v3e(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}rl.p2sh=S3e});var X$=$(nl=>{"use strict";B();k();var _3e=nl&&nl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),w3e=nl&&nl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fP=nl&&nl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_3e(e,t,r);return w3e(e,t),e};Object.defineProperty(nl,"__esModule",{value:!0});nl.p2wpkh=void 0;var cP=fP(Eu()),E3e=$a(),Wv=fP(as()),Is=Qu(),hp=fP(Od()),Gv=yn(),Y$=Wv.OPS,A3e=I.Buffer.alloc(0);function T3e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Is.typeforce)({address:Is.typeforce.maybe(Is.typeforce.String),hash:Is.typeforce.maybe(Is.typeforce.BufferN(20)),input:Is.typeforce.maybe(Is.typeforce.BufferN(0)),network:Is.typeforce.maybe(Is.typeforce.Object),output:Is.typeforce.maybe(Is.typeforce.BufferN(22)),pubkey:Is.typeforce.maybe(Is.isPoint),signature:Is.typeforce.maybe(Wv.isCanonicalScriptSignature),witness:Is.typeforce.maybe(Is.typeforce.arrayOf(Is.typeforce.Buffer))},t);let r=hp.value(()=>{let s=Gv.base.bech32.decode(t.address),u=s.words.shift(),o=Gv.base.bech32.fromWords(s.words);return{version:u,prefix:s.prefix,data:I.Buffer.from(o)}}),n=t.network||E3e.bitcoin,i={name:"p2wpkh",network:n};if(hp.prop(i,"address",()=>{if(!i.hash)return;let s=Gv.base.bech32.toWords(i.hash);return s.unshift(0),Gv.base.bech32.encode(n.bech32,s)}),hp.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return cP.hash160(t.pubkey||i.pubkey)}),hp.prop(i,"output",()=>{if(!!i.hash)return Wv.compile([Y$.OP_0,i.hash])}),hp.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(!!t.witness)return t.witness[1]}),hp.prop(i,"signature",()=>{if(!!t.witness)return t.witness[0]}),hp.prop(i,"input",()=>{if(!!i.witness)return A3e}),hp.prop(i,"witness",()=>{if(!!t.pubkey&&!!t.signature)return[t.signature,t.pubkey]}),e.validate){let s=I.Buffer.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==Y$.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let u=cP.hash160(t.pubkey);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch");if(s=u,!(0,Is.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!Wv.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Is.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let u=cP.hash160(t.witness[1]);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}nl.p2wpkh=T3e});var Q$=$(il=>{"use strict";B();k();var x3e=il&&il.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I3e=il&&il.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dP=il&&il.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x3e(e,t,r);return I3e(e,t),e};Object.defineProperty(il,"__esModule",{value:!0});il.p2wsh=void 0;var Z$=dP(Eu()),P3e=$a(),pp=dP(as()),Xn=Qu(),Fd=dP(Od()),Yv=yn(),J$=pp.OPS,lP=I.Buffer.alloc(0);function O3e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Xv(t){return!!(I.Buffer.isBuffer(t)&&t.length===65&&t[0]===4&&(0,Xn.isPoint)(t))}function B3e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Xn.typeforce)({network:Xn.typeforce.maybe(Xn.typeforce.Object),address:Xn.typeforce.maybe(Xn.typeforce.String),hash:Xn.typeforce.maybe(Xn.typeforce.BufferN(32)),output:Xn.typeforce.maybe(Xn.typeforce.BufferN(34)),redeem:Xn.typeforce.maybe({input:Xn.typeforce.maybe(Xn.typeforce.Buffer),network:Xn.typeforce.maybe(Xn.typeforce.Object),output:Xn.typeforce.maybe(Xn.typeforce.Buffer),witness:Xn.typeforce.maybe(Xn.typeforce.arrayOf(Xn.typeforce.Buffer))}),input:Xn.typeforce.maybe(Xn.typeforce.BufferN(0)),witness:Xn.typeforce.maybe(Xn.typeforce.arrayOf(Xn.typeforce.Buffer))},t);let r=Fd.value(()=>{let u=Yv.base.bech32.decode(t.address),o=u.words.shift(),a=Yv.base.bech32.fromWords(u.words);return{version:o,prefix:u.prefix,data:I.Buffer.from(a)}}),n=Fd.value(()=>pp.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||P3e.bitcoin);let s={network:i};if(Fd.prop(s,"address",()=>{if(!s.hash)return;let u=Yv.base.bech32.toWords(s.hash);return u.unshift(0),Yv.base.bech32.encode(i.bech32,u)}),Fd.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return Z$.sha256(s.redeem.output)}),Fd.prop(s,"output",()=>{if(!!s.hash)return pp.compile([J$.OP_0,s.hash])}),Fd.prop(s,"redeem",()=>{if(!!t.witness)return{output:t.witness[t.witness.length-1],input:lP,witness:t.witness.slice(0,-1)}}),Fd.prop(s,"input",()=>{if(!!s.witness)return lP}),Fd.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let u=pp.toStack(n());return s.redeem=Object.assign({witness:u},t.redeem),s.redeem.input=lP,[].concat(u,t.redeem.output)}if(!!t.redeem&&!!t.redeem.output&&!!t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),Fd.prop(s,"name",()=>{let u=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&u.push(s.redeem.name),u.join("-")}),e.validate){let u=I.Buffer.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");u=r().data}if(t.hash){if(u.length>0&&!u.equals(t.hash))throw new TypeError("Hash mismatch");u=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==J$.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let o=t.output.slice(2);if(u.length>0&&!u.equals(o))throw new TypeError("Hash mismatch");u=o}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(pp.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");let o=Z$.sha256(t.redeem.output);if(u.length>0&&!u.equals(o))throw new TypeError("Hash mismatch");u=o}if(t.redeem.input&&!pp.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!O3e(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(Xv)||t.redeem.output&&(pp.decompile(t.redeem.output)||[]).some(Xv))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let o=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(o))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(Xv)||(pp.decompile(o)||[]).some(Xv))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}il.p2wsh=B3e});var bP=$((Dtt,tq)=>{"use strict";B();k();var hP=$m().Buffer,k3e=9007199254740991;function pP(t){if(t<0||t>k3e||t%1!==0)throw new RangeError("value out of range")}function Vm(t,e,r){if(pP(t),e||(e=hP.allocUnsafe(eq(t))),!hP.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Vm.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Vm.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Vm.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Vm.bytes=9),e}function Gm(t,e){if(!hP.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return Gm.bytes=1,r;if(r===253)return Gm.bytes=3,t.readUInt16LE(e+1);if(r===254)return Gm.bytes=5,t.readUInt32LE(e+1);Gm.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return pP(s),s}function eq(t){return pP(t),t<253?1:t<=65535?3:t<=4294967295?5:9}tq.exports={encode:Vm,decode:Gm,encodingLength:eq}});var bp=$(Ci=>{"use strict";B();k();var C3e=Ci&&Ci.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F3e=Ci&&Ci.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rq=Ci&&Ci.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C3e(e,t,r);return F3e(e,t),e};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.BufferReader=Ci.BufferWriter=Ci.cloneBuffer=Ci.reverseBuffer=Ci.writeUInt64LE=Ci.readUInt64LE=Ci.varuint=void 0;var T6=rq(Qu()),{typeforce:nq}=T6,Wm=rq(bP());Ci.varuint=Wm;function iq(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function sq(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,iq(n+r,9007199254740991),n+r}Ci.readUInt64LE=sq;function uq(t,e,r){return iq(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Ci.writeUInt64LE=uq;function R3e(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Ci.reverseBuffer=R3e;function M3e(t){let e=I.Buffer.allocUnsafe(t.length);return t.copy(e),e}Ci.cloneBuffer=M3e;var Ym=class{static withCapacity(e){return new Ym(I.Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,nq(T6.tuple(T6.Buffer,T6.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=uq(this.buffer,e,this.offset)}writeVarInt(e){Wm.encode(e,this.buffer,this.offset),this.offset+=Wm.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};Ci.BufferWriter=Ym;var gP=class{constructor(e,r=0){this.buffer=e,this.offset=r,nq(T6.tuple(T6.Buffer,T6.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=sq(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=Wm.decode(this.buffer,this.offset);return this.offset+=Wm.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};Ci.BufferReader=gP});var vP=$(sl=>{"use strict";B();k();Object.defineProperty(sl,"__esModule",{value:!0});sl.encode=sl.decode=sl.encodeRaw=sl.decodeRaw=void 0;var mP=yn();function oq(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}sl.decodeRaw=oq;function yP(t,e,r){let n=I.Buffer.alloc(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}sl.encodeRaw=yP;function N3e(t,e){return oq(mP.base.fromBase58Check(t),e)}sl.decode=N3e;function D3e(t,e,r){return typeof t=="number"?mP.base.toBase58Check(yP(t,e,r)):mP.base.toBase58Check(yP(t.version,t.privateKey,t.compressed))}sl.encode=D3e});var d2=$(Qo=>{"use strict";B();k();var H3e=Qo&&Qo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),L3e=Qo&&Qo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U3e=Qo&&Qo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&H3e(e,t,r);return L3e(e,t),e};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.countAdjustedVsize=Qo.convertScriptSigAsm=Qo.countScriptSigops=void 0;var $3e=A6(),q3e=qa(),aq=yn(),j3e=U3e(xo());function Xm(t,e=!1,r=!1){if(!t?.length)return 0;let n=0;if(n+=t.match(/OP_CHECKSIG/g)?.length||0,e)n+=20*(t.match(/OP_CHECKMULTISIG/g)?.length||0);else{let i=t.matchAll(/(?:OP_(?:PUSHNUM_)?(\d+))? OP_CHECKMULTISIG/g);for(let s of i){let u=parseInt(s[1]);Number.isInteger(u)?n+=u:n+=20}}return r?n:n*4}Qo.countScriptSigops=Xm;function Zm(t){if(t?.length==0)return"";let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>=1&&n<=78){r++;let i;n===76?(i=t.readUInt8(r),e.push("OP_PUSHDATA1"),r+=1):n===77?(i=t.readUInt16LE(r),e.push("OP_PUSHDATA2"),r+=2):n===78?(i=t.readUInt32LE(r),e.push("OP_PUSHDATA4"),r+=4):(i=n,e.push("OP_PUSHBYTES_"+i));let s=t.slice(r,r+i);if(s.length!==i)break;e.push(s.toString("hex")),r+=s.length}else{if(n===0)e.push("OP_0");else if(n===79)e.push("OP_PUSHNUM_NEG1");else if(n===177)e.push("OP_CLTV");else if(n===178)e.push("OP_CSV");else if(n===186)e.push("OP_CHECKSIGADD");else{let i=$3e.REVERSE_OPS[n];i&&n<253?/^OP_(\d+)$/.test(i)?e.push(i.replace(/^OP_(\d+)$/,"OP_PUSHNUM_$1")):e.push(i):e.push("OP_RETURN_"+n)}r+=1}}return e.join(" ")}Qo.convertScriptSigAsm=Zm;function K3e(t,e,r){if(t==null)return 0;r==null&&(r=j3e.networks.bitcoin);let n=0;(e!=null||null)&&e.length==t.ins.length&&t.ins.forEach((s,u)=>{if(s.script!=null&&(n+=Xm(Zm(s.script),!0)),e.length<=u||e[u]==null||null||e[u]=="")return;let o=(0,q3e.getAddressType)(e[u],r);switch(!0){case(o==="segwit_nested"&&s.witness?.length===2&&s.script&&aq.base.toHex(s.script).startsWith("160014")):case o==="segwit_native":n+=1;break;case(o==="segwit_nested"&&s.witness?.length&&s.script&&aq.base.toHex(s.script).startsWith("220020")):case o==="segwit_native":s.witness?.length&&(n+=Xm(Zm(s.witness[s.witness.length-1]),!1,!0));break;case o==="segwit_nested":s.script&&(n+=Xm(Zm(s.script)));break}});for(let s of t.outs)s&&(n+=Xm(Zm(s.script),!0));let i=t.virtualSize();return i>n*5?i:n*5}Qo.countAdjustedVsize=K3e});var qa=$(pr=>{"use strict";B();k();var z3e=pr&&pr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V3e=pr&&pr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jm=pr&&pr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z3e(e,t,r);return V3e(e,t),e};Object.defineProperty(pr,"__esModule",{value:!0});pr.estimateBchFee=pr.estimateBtcFee=pr.ValidSignedTransaction=pr.getMPCTransaction=pr.calculateBchTxSize=pr.calculateTxSize=pr.signBch=pr.getAddressType=pr.signBtc=pr.TxBuild=pr.private2Wif=pr.wif2Public=pr.sign=pr.private2public=pr.privateKeyFromWIF=pr.Array=void 0;var Dr=Jm(xo()),fq=xo(),nt=yn(),lq=Jm(vP()),cq=h2(),dq=Jm(Eu()),hq=Jm(ul()),Rd=Jm(as()),gp=A6(),G3e=d2(),pq=nt.signUtil.schnorr.secp256k1.schnorr;pr.Array=nt.typeforce.Array;function SP(t,e){let r=lq.decode(t),n=r.version;if((0,pr.Array)(e)){if(e=e.filter(i=>n===i.wif).pop(),!e)throw new Error("Unknown network version")}else if(e=e||Dr.networks.bitcoin,n!==e.wif)throw new Error("Invalid network version");return nt.base.toHex(r.privateKey)}pr.privateKeyFromWIF=SP;function _P(t){return nt.signUtil.secp256k1.publicKeyCreate(nt.base.fromHex(t),!0)}pr.private2public=_P;function Zv(t,e){let{signature:r}=nt.signUtil.secp256k1.sign(t,nt.base.fromHex(e));return I.Buffer.from(r)}pr.sign=Zv;function W3e(t,e){let r=SP(t,e);return _P(r)}pr.wif2Public=W3e;function Qm(t,e){return e=e||Dr.networks.bitcoin,lq.encode(e.wif,t,!0)}pr.private2Wif=Qm;var x6=class{constructor(e,r,n,i){this.tx=new Dr.Transaction,this.network=Dr.networks.bitcoin,e?this.tx.version=e:this.tx.version=2,r&&(this.network=r),this.inputs=[],this.outputs=[],this.bitcoinCash=n||!1,this.hardware=i||!1}addInput(e,r,n,i,s,u,o,a){this.inputs.push({txId:e,index:r,privateKey:n,address:i,script:s,value:u,publicKey:o,sequence:a})}addOutput(e,r,n){this.outputs.push({address:e,value:r,omniScript:n})}build(e){let r=[];for(let n of this.inputs){let i=nt.base.reverseBuffer(I.Buffer.from(n.txId,"hex"));this.tx.addInput(i,n.index,n.sequence),n.privateKey?r.push(SP(n.privateKey,this.network)):r.push("")}for(let n of this.outputs)if(n.omniScript)this.tx.addOutput(nt.base.fromHex(n.omniScript),0);else{let i=Dr.address.toOutputScript(n.address,this.network);this.tx.addOutput(i,n.value)}if(this.hardware)return this.tx.toHex();for(let n=0;n<r.length;n++){let i=r[n],s;i?s=_P(i):this.hardware||(s=nt.base.fromHex(this.inputs[n].publicKey));let u,o=Dr.Transaction.SIGHASH_ALL;if(this.bitcoinCash){let a=Dr.payments.p2pkh({pubkey:s}).output;o=Dr.Transaction.SIGHASH_ALL|Dr.Transaction.SIGHASH_BITCOINCASHBIP143;let l=this.inputs[n].value||0;u=this.tx.hashForCashSignature(n,a,l,o);let f;e?(e.push(nt.base.toHex(u)),f=I.Buffer.alloc(64,0)):f=Zv(u,i);let c=Dr.payments.p2pkh({output:a,pubkey:s,signature:Dr.script.signature.encode(f,o)});c.input&&(this.tx.ins[n].script=c.input)}else{let a=bq(this.inputs[n].address,this.network);if(a==="legacy"){let l=Dr.payments.p2pkh({pubkey:s}).output;u=this.tx.hashForSignature(n,l,o);let f;e?(e.push(nt.base.toHex(u)),f=I.Buffer.alloc(64,0)):f=Zv(u,i);let c=Dr.payments.p2pkh({output:l,pubkey:s,signature:Dr.script.signature.encode(f,o)});c.input&&(this.tx.ins[n].script=c.input)}else if(a==="segwit_taproot"){let l=this.inputs.map(h=>Dr.address.toOutputScript(h.address,this.network)),f=this.inputs.map(h=>h.value);u=this.tx.hashForWitnessV1(n,l,f,Dr.Transaction.SIGHASH_DEFAULT);let c;if(e)e.push(nt.base.toHex(u)),c=I.Buffer.alloc(64,0);else{let h=hq.taprootTweakPrivKey(nt.base.fromHex(i));c=I.Buffer.from(pq.sign(u,h,nt.base.randomBytes(32)))}this.tx.ins[n].witness=[I.Buffer.from(c)]}else{let l=dq.hash160(s),f=I.Buffer.of(25,118,169,20,...l,136,172),c=this.inputs[n].value||0;u=this.tx.hashForWitness(n,f,c,o);let h;e?(e.push(nt.base.toHex(u)),h=I.Buffer.alloc(64,0)):h=Zv(u,i),this.tx.ins[n].witness=[],this.tx.ins[n].witness.push(Dr.script.signature.encode(h,o)),this.tx.ins[n].witness.push(s);let d=I.Buffer.of(22,0,20,...l);a!=="segwit_native"&&(this.tx.ins[n].script=d)}}}return this.tx.toHex()}virtualSize(){return(0,G3e.countAdjustedVsize)(this.tx,this.inputs.map(e=>e.address),this.network||Dr.networks.bitcoin)}};pr.TxBuild=x6;function Y3e(t,e,r,n,i,s){let u=t.inputs,o=t.outputs,a=t.address,l=t.feePerB||10,f=t.dustSize||546;if(r=r||Dr.networks.bitcoin,t.memo&&(nt.base.isHexString(t.memo)?nt.base.fromHex(t.memo):I.Buffer.from(nt.base.toUtf8(t.memo))).length>80)throw new Error("data after op_return is  too long");let c=e;if(c||(c=Qm(nt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r)),s){let{inputAmount:x,outputAmount:_,virtualSize:y}=Jv(u,o,a,c,r,f,!1,t.memo,t.memoPos);return(x-_-Math.ceil(y*l)).toString()}let{inputAmount:h,outputAmount:d,virtualSize:p}=Jv(u,o,a,c,r,f,!1,t.memo,t.memoPos),m=h-d-Math.ceil(p*l),w=new x6(2,r,!1,i);for(let x=0;x<u.length;x++){let _=u[x],y=_.privateKey||e,S=_.address||a;w.addInput(_.txId,_.vOut,y,S,_.reedScript,_.amount,_.publicKey,_.sequence)}t.memo&&t.memoPos==0&&w.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(t.memo)?nt.base.fromHex(t.memo):I.Buffer.from(nt.base.toUtf8(t.memo))))));for(let x=0;x<o.length;x++){let _=o[x];w.addOutput(_.address,_.amount,_.omniScript),t.memo&&t.memoPos&&w.outputs.length==t.memoPos&&w.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(t.memo)?nt.base.fromHex(t.memo):I.Buffer.from(nt.base.toUtf8(t.memo))))))}return m>f&&(w.addOutput(a,m),t.memo&&t.memoPos&&w.outputs.length==t.memoPos&&w.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(t.memo)?nt.base.fromHex(t.memo):I.Buffer.from(nt.base.toUtf8(t.memo))))))),t.memo&&(t.memoPos==null||t.memoPos<0||t.memoPos>w.outputs.length)&&w.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(t.memo)?nt.base.fromHex(t.memo):I.Buffer.from(nt.base.toUtf8(t.memo)))))),w.build(n)}pr.signBtc=Y3e;function bq(t,e){let r,n;try{r=(0,cq.fromBase58Check)(t)}catch{}if(r){if(r.version===e.pubKeyHash)return"legacy";if(r.version===e.scriptHash)return"segwit_nested"}else{try{n=(0,cq.fromBech32)(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0)return"segwit_native";if(n.version===1)return"segwit_taproot"}}return"legacy"}pr.getAddressType=bq;function X3e(t,e,r,n,i){let s=t.inputs,u=t.outputs,o=t.address,a=t.feePerB||10,l=t.dustSize||546;r=r||Dr.networks.bitcoin;let f=e;f||(f=Qm(nt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r));let{inputAmount:c,outputAmount:h,virtualSize:d}=wP(s,u,o,f,r,l),p=c-h-d*a,m=new x6(2,r,!0,i);for(let w=0;w<s.length;w++){let x=s[w];m.addInput(x.txId,x.vOut,e,o,void 0,x.amount,x.publicKey,x.sequence)}for(let w=0;w<u.length;w++){let x=u[w];m.addOutput(x.address,x.amount)}return p>l&&m.addOutput(o,p),m.build(n)}pr.signBch=X3e;function Jv(t,e,r,n,i,s,u,o,a){let l=new x6(2,i,!1,u),f=0;for(let p=0;p<t.length;p++){let m=t[p],w=m.privateKey||n,x=m.address||r;l.addInput(m.txId,m.vOut,w,x,m.reedScript,m.amount,m.publicKey,m.sequence),f=f+(m.amount||0)}o&&a==0&&l.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(o)?nt.base.fromHex(o):I.Buffer.from(nt.base.toUtf8(o))))));let c=0;for(let p=0;p<e.length;p++){let m=e[p];l.addOutput(m.address,m.amount,m.omniScript),c=c+m.amount,o&&a&&l.outputs.length==a&&l.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(o)?nt.base.fromHex(o):I.Buffer.from(nt.base.toUtf8(o))))))}f-c>s&&(l.addOutput(r,f-c),o&&a&&l.outputs.length==a&&l.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(o)?nt.base.fromHex(o):I.Buffer.from(nt.base.toUtf8(o))))))),o&&(a==null||a<0||a>l.outputs.length)&&l.addOutput("",0,nt.base.toHex(Rd.compile([gp.OPS.OP_RETURN].concat(nt.base.isHexString(o)?nt.base.fromHex(o):I.Buffer.from(nt.base.toUtf8(o))))));let h=l.build(),d=l.virtualSize();return{inputAmount:f,outputAmount:c,virtualSize:d,txHex:h}}pr.calculateTxSize=Jv;function wP(t,e,r,n,i,s,u){let o=new x6(2,i,!0,u),a=0;for(let h=0;h<t.length;h++){let d=t[h];o.addInput(d.txId,d.vOut,n,r,void 0,d.amount,d.publicKey,d.sequence),a=a+(d.amount||0)}let l=0;for(let h=0;h<e.length;h++){let d=e[h];o.addOutput(d.address,d.amount),l=l+d.amount}a-l>s&&o.addOutput(r,a-l);let f=o.build(),c=o.tx.virtualSize();return{inputAmount:a,outputAmount:l,virtualSize:c,txHex:f}}pr.calculateBchTxSize=wP;function Z3e(t,e,r){let n=fq.Transaction.fromBuffer(nt.base.fromHex(t),!1);for(let i=0;i<n.ins.length;i++){let s=n.ins[i],u=nt.base.fromHex(e[i]),o=Dr.Transaction.SIGHASH_ALL;if(r){o=Dr.Transaction.SIGHASH_ALL|Dr.Transaction.SIGHASH_BITCOINCASHBIP143;let a=Dr.payments.p2pkh({input:s.script}),l=Dr.payments.p2pkh({pubkey:a.pubkey,signature:Dr.script.signature.encode(u,o)});l.input&&(s.script=l.input)}else{let a;if(s.witness.length===2)a="segwit_native";else if(s.witness.length===1)a="segwit_taproot";else if(s.witness.length===0)a="legacy";else throw Error("unknown witness length");if(a==="legacy"){let l=Dr.payments.p2pkh({input:s.script}),f=Dr.payments.p2pkh({pubkey:l.pubkey,signature:Dr.script.signature.encode(u,o)});f.input&&(s.script=f.input)}else a==="segwit_taproot"?s.witness=[u]:s.witness[0]=Dr.script.signature.encode(u,o)}}return n.toHex()}pr.getMPCTransaction=Z3e;function J3e(t,e,r){let n=fq.Transaction.fromBuffer(nt.base.fromHex(t),!1);if(!e)return n;for(let i=0;i<n.ins.length;i++){let s=n.ins[i],u=e[i],o;if(s.witness.length===2)o="segwit_native";else if(s.witness.length===1)o="segwit_taproot";else if(s.witness.length===0)o="legacy";else throw Error("unknown witness length");if(o==="legacy"){let a=Rd.decompile(s.script),l=a[0],f=a[1],c=Dr.script.signature.decode(l),h=Dr.address.toOutputScript(u.address,r),d=n.hashForSignature(i,h,c.hashType);if(!nt.signUtil.secp256k1.verifyWithNoRecovery(d,c.signature,f))throw Error("signature error")}else if(o==="segwit_native"){let a=s.witness[0],l=s.witness[1],f=Dr.script.signature.decode(a),c=I.Buffer.of(25,118,169,20,...dq.hash160(l),136,172),h=n.hashForWitness(i,c,u.value,f.hashType);if(!nt.signUtil.secp256k1.verifyWithNoRecovery(h,f.signature,l))throw Error("signature error")}else{let a=s.witness[0],l=e.map(d=>Dr.address.toOutputScript(d.address,r)),f=e.map(d=>d.value),c=n.hashForWitnessV1(i,l,f,Dr.Transaction.SIGHASH_DEFAULT),h=hq.taprootTweakPubkey(nt.base.fromHex(u.publicKey).slice(1))[0];if(!pq.verify(nt.base.toHex(a),nt.base.toHex(c),nt.base.toHex(h)))throw Error("signature error")}}for(let i of n.ins)i.hash=nt.base.reverseBuffer(i.hash);return n}pr.ValidSignedTransaction=J3e;function Q3e(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||Dr.networks.bitcoin;let u=Qm(nt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:o}=Jv(r,n,t.address,u,e,s,!1,t.memo);return Math.ceil(o*i)}pr.estimateBtcFee=Q3e;function e1e(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||Dr.networks.bitcoin;let u=Qm(nt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:o}=wP(r,n,t.address,u,e,s);return o*i}pr.estimateBchFee=e1e});var ul=$(mp=>{"use strict";B();k();Object.defineProperty(mp,"__esModule",{value:!0});mp.taprootSignSighash=mp.taprootTweakPubkey=mp.taprootTweakPrivKey=void 0;var EP=yn(),t1e=qa(),TP=EP.signUtil.schnorr.secp256k1,Qv=TP.schnorr,gq=TP.secp256k1.ProjectivePoint,AP=TP.secp256k1.CURVE.n;function mq(t,e){let r=Qv.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=AP)throw new Error("tweak higher than curve order");return i}function yq(t,e=new Uint8Array){let r=Qv.utils,n=r.bytesToNumberBE(t),i=gq.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,AP),u=r.pointToBytes(i),o=mq(u,e);return r.numberToBytesBE(r.mod(s+o,AP),32)}mp.taprootTweakPrivKey=yq;function r1e(t,e){e||(e=new Uint8Array);let r=Qv.utils,n=mq(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(gq.fromPrivateKey(n)),u=s.hasEvenY()?0:1;return[r.pointToBytes(s),u]}mp.taprootTweakPubkey=r1e;function n1e(t,e,r){let n=yq(EP.base.fromHex((0,t1e.privateKeyFromWIF)(t)));return e.map(s=>{let u=I.Buffer.from(Qv.sign(s,n,r));return EP.base.toHex(u)})}mp.taprootSignSighash=n1e});var eS=$(Zn=>{"use strict";B();k();var i1e=Zn&&Zn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s1e=Zn&&Zn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u1e=Zn&&Zn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i1e(e,t,r);return s1e(e,t),e};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.tweakKey=Zn.tapTweakHash=Zn.tapleafHash=Zn.findScriptPath=Zn.toHashTree=Zn.rootHashFromPath=Zn.MAX_TAPTREE_DEPTH=Zn.LEAF_VERSION_TAPSCRIPT=void 0;var yp=us(),OP=u1e(Eu()),vq=bp(),o1e=Qu(),a1e=ul();Zn.LEAF_VERSION_TAPSCRIPT=192;Zn.MAX_TAPTREE_DEPTH=128;var c1e=t=>"left"in t&&"right"in t;function f1e(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=PP(n,s):n=PP(s,n)}return n}Zn.rootHashFromPath=f1e;function xP(t){if((0,o1e.isTapleaf)(t))return{hash:Sq(t)};let e=[xP(t[0]),xP(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:PP(r.hash,n.hash),left:r,right:n}}Zn.toHashTree=xP;function IP(t,e){if(c1e(t)){let r=IP(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=IP(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Zn.findScriptPath=IP;function Sq(t){let e=t.version||Zn.LEAF_VERSION_TAPSCRIPT;return OP.taggedHash("TapLeaf",yp.Buffer.concat([yp.Buffer.from([e]),h1e(t.output)]))}Zn.tapleafHash=Sq;function l1e(t,e){return OP.taggedHash("TapTweak",yp.Buffer.concat(e?[t,e]:[t]))}Zn.tapTweakHash=l1e;function d1e(t,e){if(!yp.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=(0,a1e.taprootTweakPubkey)(t,e);return{parity:r[1],x:yp.Buffer.from(r[0])}}Zn.tweakKey=d1e;function PP(t,e){return OP.taggedHash("TapBranch",yp.Buffer.concat([t,e]))}function h1e(t){let e=vq.varuint.encodingLength(t.length),r=yp.Buffer.allocUnsafe(e);return vq.varuint.encode(t.length,r),yp.Buffer.concat([r,t])}});var Aq=$(ol=>{"use strict";B();k();var p1e=ol&&ol.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b1e=ol&&ol.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Eq=ol&&ol.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&p1e(e,t,r);return b1e(e,t),e};Object.defineProperty(ol,"__esModule",{value:!0});ol.p2tr=void 0;var tS=us(),g1e=$a(),BP=Eq(as()),en=Qu(),ea=eS(),Tc=Eq(Od()),rS=yn(),_q=BP.OPS,wq=1,m1e=80;function y1e(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,en.typeforce)({address:en.typeforce.maybe(en.typeforce.String),input:en.typeforce.maybe(en.typeforce.BufferN(0)),network:en.typeforce.maybe(en.typeforce.Object),output:en.typeforce.maybe(en.typeforce.BufferN(34)),internalPubkey:en.typeforce.maybe(en.typeforce.BufferN(32)),hash:en.typeforce.maybe(en.typeforce.BufferN(32)),pubkey:en.typeforce.maybe(en.typeforce.BufferN(32)),witness:en.typeforce.maybe(en.typeforce.arrayOf(en.typeforce.Buffer)),scriptTree:en.typeforce.maybe(en.isTaptree),redeem:en.typeforce.maybe({output:en.typeforce.maybe(en.typeforce.Buffer),redeemVersion:en.typeforce.maybe(en.typeforce.Number),witness:en.typeforce.maybe(en.typeforce.arrayOf(en.typeforce.Buffer))}),redeemVersion:en.typeforce.maybe(en.typeforce.Number)},t);let r=Tc.value(()=>{let o=rS.base.bech32m.decode(t.address),a=o.words.shift(),l=rS.base.bech32m.fromWords(o.words);return{version:a,prefix:o.prefix,data:tS.Buffer.from(l)}}),n=Tc.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===m1e?t.witness.slice(0,-1):t.witness.slice()}),i=Tc.value(()=>{if(t.scriptTree)return(0,ea.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||g1e.bitcoin,u={name:"p2tr",network:s};if(Tc.prop(u,"address",()=>{if(!u.pubkey)return;let o=rS.base.bech32m.toWords(u.pubkey);return o.unshift(wq),rS.base.bech32m.encode(s.bech32,o)}),Tc.prop(u,"hash",()=>{let o=i();if(o)return o.hash;let a=n();if(a&&a.length>1){let l=a[a.length-1],f=l[0]&en.TAPLEAF_VERSION_MASK,c=a[a.length-2],h=(0,ea.tapleafHash)({output:c,version:f});return(0,ea.rootHashFromPath)(l,h)}return null}),Tc.prop(u,"output",()=>{if(!!u.pubkey)return BP.compile([_q.OP_1,u.pubkey])}),Tc.prop(u,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:ea.LEAF_VERSION_TAPSCRIPT),Tc.prop(u,"redeem",()=>{let o=n();if(!(!o||o.length<2))return{output:o[o.length-2],witness:o.slice(0,-2),redeemVersion:o[o.length-1][0]&en.TAPLEAF_VERSION_MASK}}),Tc.prop(u,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(u.internalPubkey){let o=(0,ea.tweakKey)(u.internalPubkey,u.hash);if(o)return o.x}}),Tc.prop(u,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let o=n();if(o&&o.length>1)return o[o.length-1].slice(1,33)}),Tc.prop(u,"signature",()=>{if(t.signature)return t.signature;let o=n();if(!(!o||o.length!==1))return o[0]}),Tc.prop(u,"witness",()=>{if(t.witness)return t.witness;let o=i();if(o&&t.redeem&&t.redeem.output&&t.internalPubkey){let a=(0,ea.tapleafHash)({output:t.redeem.output,version:u.redeemVersion}),l=(0,ea.findScriptPath)(o,a);if(!l)return;let f=(0,ea.tweakKey)(t.internalPubkey,o.hash);if(!f)return;let c=tS.Buffer.concat([tS.Buffer.from([u.redeemVersion|f.parity]),t.internalPubkey].concat(l));return[t.redeem.output,c]}if(t.signature)return[t.signature]}),e.validate){let o=tS.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==wq)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");o=r().data}if(t.pubkey){if(o.length>0&&!o.equals(t.pubkey))throw new TypeError("Pubkey mismatch");o=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==_q.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");o=t.output.slice(2)}if(t.internalPubkey){let f=(0,ea.tweakKey)(t.internalPubkey,u.hash);if(o.length>0&&!o.equals(f.x))throw new TypeError("Pubkey mismatch");o=f.x}if(o&&o.length&&o.length!==32)throw new TypeError("Invalid pubkey for p2tr");let a=i();if(t.hash&&a&&!t.hash.equals(a.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&a){let f=(0,ea.tapleafHash)({output:t.redeem.output,version:u.redeemVersion});if(!(0,ea.findScriptPath)(a,f))throw new TypeError("Redeem script not in tree")}let l=n();if(t.redeem&&u.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==u.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(BP.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(u.redeem.output&&!t.redeem.output.equals(u.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&u.redeem.witness&&!v1e(t.redeem.witness,u.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(l&&l.length)if(l.length===1){if(t.signature&&!t.signature.equals(l[0]))throw new TypeError("Signature mismatch")}else{let f=l[l.length-1];if(f.length<33)throw new TypeError(`The control-block length is too small. Got ${f.length}, expected min 33.`);if((f.length-33)%32!==0)throw new TypeError(`The control-block length of ${f.length} is incorrect!`);let c=(f.length-33)/32;if(c>128)throw new TypeError(`The script path is too long. Got ${c}, expected max 128.`);let h=f.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(h))throw new TypeError("Internal pubkey mismatch");if(h.length!==32)throw new TypeError("Invalid internalPubkey for p2tr witness");let d=f[0]&en.TAPLEAF_VERSION_MASK,p=l[l.length-2],m=(0,ea.tapleafHash)({output:p,version:d}),w=(0,ea.rootHashFromPath)(f,m),x=(0,ea.tweakKey)(h,w);if(!x)throw new TypeError("Invalid outputKey for p2tr witness");if(o.length&&!o.equals(x.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(x.parity!==(f[0]&1))throw new Error("Incorrect parity")}}return Object.assign(u,t)}ol.p2tr=y1e;function v1e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var vp=$(Vs=>{"use strict";B();k();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.p2tr=Vs.p2wsh=Vs.p2wpkh=Vs.p2sh=Vs.p2pkh=Vs.p2pk=Vs.p2ms=Vs.embed=void 0;var S1e=M$();Object.defineProperty(Vs,"embed",{enumerable:!0,get:function(){return S1e.p2data}});var _1e=H$();Object.defineProperty(Vs,"p2ms",{enumerable:!0,get:function(){return _1e.p2ms}});var w1e=$$();Object.defineProperty(Vs,"p2pk",{enumerable:!0,get:function(){return w1e.p2pk}});var E1e=z$();Object.defineProperty(Vs,"p2pkh",{enumerable:!0,get:function(){return E1e.p2pkh}});var A1e=W$();Object.defineProperty(Vs,"p2sh",{enumerable:!0,get:function(){return A1e.p2sh}});var T1e=X$();Object.defineProperty(Vs,"p2wpkh",{enumerable:!0,get:function(){return T1e.p2wpkh}});var x1e=Q$();Object.defineProperty(Vs,"p2wsh",{enumerable:!0,get:function(){return x1e.p2wsh}});var I1e=Aq();Object.defineProperty(Vs,"p2tr",{enumerable:!0,get:function(){return I1e.p2tr}})});var h2=$(cs=>{"use strict";B();k();var P1e=cs&&cs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O1e=cs&&cs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iS=cs&&cs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&P1e(e,t,r);return O1e(e,t),e};Object.defineProperty(cs,"__esModule",{value:!0});cs.toOutputScript=cs.fromOutputScript=cs.toBech32=cs.toBase58Check=cs.fromBech32=cs.fromBase58Check=void 0;var Tq=iS($a()),al=iS(vp()),xq=iS(as()),nS=iS(Qu()),Sp=yn(),{typeforce:B1e}=nS,Iq=40,Pq=2,Oq=16,Bq=2,kq=80,Cq="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function k1e(t,e){let r=t.slice(2);if(r.length<Pq||r.length>Iq)throw new TypeError("Invalid program length for segwit address");let n=t[0]-kq;if(n<Bq||n>Oq)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(Cq),Mq(r,n,e.bech32)}function Fq(t){let e=Sp.base.fromBase58Check(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}cs.fromBase58Check=Fq;function Rq(t){let e,r;try{e=Sp.base.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=Sp.base.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=Sp.base.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:I.Buffer.from(n)}}cs.fromBech32=Rq;function C1e(t,e){B1e(nS.tuple(nS.Hash160bit,nS.UInt8),arguments);let r=I.Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),Sp.base.toBase58Check(r)}cs.toBase58Check=C1e;function Mq(t,e,r){let n=Sp.base.bech32.toWords(t);return n.unshift(e),e===0?Sp.base.bech32.encode(r,n):Sp.base.bech32m.encode(r,n)}cs.toBech32=Mq;function F1e(t,e){e=e||Tq.bitcoin;try{return al.p2pkh({output:t,network:e}).address}catch{}try{return al.p2sh({output:t,network:e}).address}catch{}try{return al.p2wpkh({output:t,network:e}).address}catch{}try{return al.p2wsh({output:t,network:e}).address}catch{}try{return al.p2tr({output:t,network:e}).address}catch{}try{return k1e(t,e)}catch{}throw new Error(xq.toASM(t)+" has no matching Address")}cs.fromOutputScript=F1e;function R1e(t,e){e=e||Tq.bitcoin;let r,n;try{r=Fq(t)}catch{}if(r){if(r.version===e.pubKeyHash)return al.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return al.p2sh({hash:r.hash}).output}else{try{n=Rq(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return al.p2wpkh({hash:n.data}).output;if(n.data.length===32)return al.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return al.p2tr({pubkey:n.data}).output}else if(n.version>=Bq&&n.version<=Oq&&n.data.length>=Pq&&n.data.length<=Iq)return console.warn(Cq),xq.compile([n.version+kq,n.data])}}throw new Error(t+" has no matching Script")}cs.toOutputScript=R1e});var wp=$(ra=>{"use strict";B();k();var M1e=ra&&ra.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N1e=ra&&ra.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kP=ra&&ra.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&M1e(e,t,r);return N1e(e,t),e};Object.defineProperty(ra,"__esModule",{value:!0});ra.Transaction=ra.vectorSize=ra.varSliceSize=void 0;var Jn=bp(),fs=kP(Eu()),Nq=kP(as()),D1e=as(),Pr=kP(Qu()),{typeforce:uf}=Pr;function ta(t){let e=t.length;return Jn.varuint.encodingLength(e)+e}ra.varSliceSize=ta;function Lq(t){let e=t.length;return Jn.varuint.encodingLength(e)+t.reduce((r,n)=>r+ta(n),0)}ra.vectorSize=Lq;var _p=I.Buffer.allocUnsafe(0),Dq=[],p2=I.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),Hq=I.Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),H1e=I.Buffer.from("ffffffffffffffff","hex"),L1e={script:_p,valueBuffer:H1e};function U1e(t){return t.value!==void 0}var Ct=class{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new Jn.BufferReader(e),i=new Ct;i.version=n.readInt32();let s=n.readUInt8(),u=n.readUInt8(),o=!1;s===Ct.ADVANCED_TRANSACTION_MARKER&&u===Ct.ADVANCED_TRANSACTION_FLAG?o=!0:n.offset-=2;let a=n.readVarInt();for(let f=0;f<a;++f)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:Dq});let l=n.readVarInt();for(let f=0;f<l;++f)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(o){for(let f=0;f<a;++f)i.ins[f].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return Ct.fromBuffer(I.Buffer.from(e,"hex"),!1)}static isCoinbaseHash(e){uf(Pr.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&Ct.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return uf(Pr.tuple(Pr.Hash256bit,Pr.UInt32,Pr.maybe(Pr.UInt32),Pr.maybe(Pr.Buffer)),arguments),Pr.Null(n)&&(n=Ct.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||_p,sequence:n,witness:Dq})-1}addOutput(e,r){return uf(Pr.tuple(Pr.Buffer,Pr.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}dogeByteLength(){let e=26+this.ins.reduce((r,n)=>{let i=40+ta(n.script);return r+32+4+i},0)+this.outs.reduce((r,n)=>r+9+n.script.length,0);return Math.ceil(e)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+Jn.varuint.encodingLength(this.ins.length)+Jn.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+ta(i.script),0)+this.outs.reduce((n,i)=>n+8+ta(i.script),0)+(r?this.ins.reduce((n,i)=>n+Lq(i.witness),0):0)}clone(){let e=new Ct;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(uf(Pr.tuple(Pr.UInt32,Pr.Buffer,Pr.Number),arguments),e>=this.ins.length)return Hq;let i=Nq.compile(Nq.decompile(r).filter(o=>o!==D1e.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===Ct.SIGHASH_NONE)s.outs=[],s.ins.forEach((o,a)=>{a!==e&&(o.sequence=0)});else if((n&31)===Ct.SIGHASH_SINGLE){if(e>=this.outs.length)return Hq;s.outs.length=e+1;for(let o=0;o<e;o++)s.outs[o]=L1e;s.ins.forEach((o,a)=>{a!==e&&(o.sequence=0)})}n&Ct.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(o=>{o.script=_p}),s.ins[e].script=i);let u=I.Buffer.allocUnsafe(s.byteLength(!1)+4);return u.writeInt32LE(n,u.length-4),s.__toBuffer(u,0,!1),fs.hash256(u)}hashForCashSignature(e,r,n,i){if(i&Ct.SIGHASH_BITCOINCASHBIP143){if(Pr.Null(n))throw new Error("Bitcoin Cash sighash requires value of input to be signed.");return this.hashForWitnessV0(e,r,n,i)}else return this.hashForSignature(e,r,i)}hashForWitnessV1(e,r,n,i,s,u){if(uf(Pr.tuple(Pr.UInt32,uf.arrayOf(Pr.Buffer),uf.arrayOf(Pr.Satoshi),Pr.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let o=i===Ct.SIGHASH_DEFAULT?Ct.SIGHASH_ALL:i&Ct.SIGHASH_OUTPUT_MASK,l=(i&Ct.SIGHASH_INPUT_MASK)===Ct.SIGHASH_ANYONECANPAY,f=o===Ct.SIGHASH_NONE,c=o===Ct.SIGHASH_SINGLE,h=_p,d=_p,p=_p,m=_p,w=_p;if(!l){let S=Jn.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(F=>{S.writeSlice(F.hash),S.writeUInt32(F.index)}),h=fs.sha256(S.end()),S=Jn.BufferWriter.withCapacity(8*this.ins.length),n.forEach(F=>S.writeUInt64(F)),d=fs.sha256(S.end()),S=Jn.BufferWriter.withCapacity(r.map(ta).reduce((F,N)=>F+N)),r.forEach(F=>S.writeVarSlice(F)),p=fs.sha256(S.end()),S=Jn.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(F=>S.writeUInt32(F.sequence)),m=fs.sha256(S.end())}if(f||c){if(c&&e<this.outs.length){let S=this.outs[e],F=Jn.BufferWriter.withCapacity(8+ta(S.script));F.writeUInt64(S.value),F.writeVarSlice(S.script),w=fs.sha256(F.end())}}else{let S=this.outs.map(N=>8+ta(N.script)).reduce((N,H)=>N+H),F=Jn.BufferWriter.withCapacity(S);this.outs.forEach(N=>{F.writeUInt64(N.value),F.writeVarSlice(N.script)}),w=fs.sha256(F.end())}let x=(s?2:0)+(u?1:0),_=174-(l?49:0)-(f?32:0)+(u?32:0)+(s?37:0),y=Jn.BufferWriter.withCapacity(_);if(y.writeUInt8(i),y.writeInt32(this.version),y.writeUInt32(this.locktime),y.writeSlice(h),y.writeSlice(d),y.writeSlice(p),y.writeSlice(m),f||c||y.writeSlice(w),y.writeUInt8(x),l){let S=this.ins[e];y.writeSlice(S.hash),y.writeUInt32(S.index),y.writeUInt64(n[e]),y.writeVarSlice(r[e]),y.writeUInt32(S.sequence)}else y.writeUInt32(e);if(u){let S=Jn.BufferWriter.withCapacity(ta(u));S.writeVarSlice(u),y.writeSlice(fs.sha256(S.end()))}return c&&y.writeSlice(w),s&&(y.writeSlice(s),y.writeUInt8(0),y.writeUInt32(4294967295)),fs.taggedHash("TapSighash",I.Buffer.concat([I.Buffer.of(0),y.end()]))}hashForWitnessV0(e,r,n,i){uf(Pr.tuple(Pr.UInt32,Pr.Buffer,Pr.Satoshi,Pr.UInt32),arguments);let s=I.Buffer.from([]),u,o=p2,a=p2,l=p2;if(i&Ct.SIGHASH_ANYONECANPAY||(s=I.Buffer.allocUnsafe(36*this.ins.length),u=new Jn.BufferWriter(s,0),this.ins.forEach(c=>{u.writeSlice(c.hash),u.writeUInt32(c.index)}),a=fs.hash256(s)),!(i&Ct.SIGHASH_ANYONECANPAY)&&(i&31)!==Ct.SIGHASH_SINGLE&&(i&31)!==Ct.SIGHASH_NONE&&(s=I.Buffer.allocUnsafe(4*this.ins.length),u=new Jn.BufferWriter(s,0),this.ins.forEach(c=>{u.writeUInt32(c.sequence)}),l=fs.hash256(s)),(i&31)!==Ct.SIGHASH_SINGLE&&(i&31)!==Ct.SIGHASH_NONE){let c=this.outs.reduce((h,d)=>h+8+ta(d.script),0);s=I.Buffer.allocUnsafe(c),u=new Jn.BufferWriter(s,0),this.outs.forEach(h=>{u.writeUInt64(h.value),u.writeVarSlice(h.script)}),o=fs.hash256(s)}else if((i&31)===Ct.SIGHASH_SINGLE&&e<this.outs.length){let c=this.outs[e];s=I.Buffer.allocUnsafe(8+ta(c.script)),u=new Jn.BufferWriter(s,0),u.writeUInt64(c.value),u.writeVarSlice(c.script),o=fs.hash256(s)}s=I.Buffer.allocUnsafe(156+ta(r)),u=new Jn.BufferWriter(s,0);let f=this.ins[e];return u.writeInt32(this.version),u.writeSlice(a),u.writeSlice(l),u.writeSlice(f.hash),u.writeUInt32(f.index),u.writeVarSlice(r),u.writeUInt64(n),u.writeUInt32(f.sequence),u.writeSlice(o),u.writeUInt32(this.locktime),u.writeUInt32(i),fs.hash256(s)}getHash(e){return e&&this.isCoinbase()?I.Buffer.alloc(32,0):fs.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,Jn.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){uf(Pr.tuple(Pr.Number,Pr.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){uf(Pr.tuple(Pr.Number,[Pr.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=I.Buffer.allocUnsafe(this.byteLength(n)));let i=new Jn.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(Ct.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(Ct.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(u=>{i.writeSlice(u.hash),i.writeUInt32(u.index),i.writeVarSlice(u.script),i.writeUInt32(u.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(u=>{U1e(u)?i.writeUInt64(u.value):i.writeSlice(u.valueBuffer),i.writeVarSlice(u.script)}),s&&this.ins.forEach(u=>{i.writeVector(u.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}hashForWitness(e,r,n,i){uf(Pr.tuple(Pr.UInt32,Pr.Buffer,Pr.Satoshi,Pr.UInt32),arguments);let s=I.Buffer.from([]),u,o=p2,a=p2,l=p2;if(i&Ct.SIGHASH_ANYONECANPAY||(s=I.Buffer.allocUnsafe(36*this.ins.length),u=new Jn.BufferWriter(s,0),this.ins.forEach(c=>{u.writeSlice(c.hash),u.writeUInt32(c.index)}),a=fs.hash256(s)),!(i&Ct.SIGHASH_ANYONECANPAY)&&(i&31)!==Ct.SIGHASH_SINGLE&&(i&31)!==Ct.SIGHASH_NONE&&(s=I.Buffer.allocUnsafe(4*this.ins.length),u=new Jn.BufferWriter(s,0),this.ins.forEach(c=>{u.writeUInt32(c.sequence)}),l=fs.hash256(s)),(i&31)!==Ct.SIGHASH_SINGLE&&(i&31)!==Ct.SIGHASH_NONE){let c=this.outs.reduce((h,d)=>h+8+ta(d.script),0);s=I.Buffer.allocUnsafe(c),u=new Jn.BufferWriter(s,0),this.outs.forEach(h=>{u.writeUInt64(h.value),u.writeVarSlice(h.script)}),o=fs.hash256(s)}else if((i&31)===Ct.SIGHASH_SINGLE&&e<this.outs.length){let c=this.outs[e];s=I.Buffer.allocUnsafe(8+ta(c.script)),u=new Jn.BufferWriter(s,0),u.writeUInt64(c.value),u.writeVarSlice(c.script),o=fs.hash256(s)}s=I.Buffer.allocUnsafe(156+r.length),u=new Jn.BufferWriter(s,0);let f=this.ins[e];return u.writeInt32(this.version),u.writeSlice(a),u.writeSlice(l),u.writeSlice(f.hash),u.writeUInt32(f.index),u.writeSlice(r),u.writeUInt64(n),u.writeUInt32(f.sequence),u.writeSlice(o),u.writeUInt32(this.locktime),u.writeUInt32(i),fs.hash256(s)}};ra.Transaction=Ct;Ct.DEFAULT_SEQUENCE=4294967295;Ct.SIGHASH_DEFAULT=0;Ct.SIGHASH_ALL=1;Ct.SIGHASH_NONE=2;Ct.SIGHASH_SINGLE=3;Ct.SIGHASH_ANYONECANPAY=128;Ct.SIGHASH_OUTPUT_MASK=3;Ct.SIGHASH_INPUT_MASK=128;Ct.SIGHASH_BITCOINCASHBIP143=64;Ct.ADVANCED_TRANSACTION_MARKER=0;Ct.ADVANCED_TRANSACTION_FLAG=1});var Gs=$(Au=>{"use strict";B();k();Object.defineProperty(Au,"__esModule",{value:!0});Au.OUTPUT_TYPE_NAMES=Au.OutputTypes=Au.INPUT_TYPE_NAMES=Au.InputTypes=Au.GLOBAL_TYPE_NAMES=Au.GlobalTypes=void 0;var $1e;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})($1e=Au.GlobalTypes||(Au.GlobalTypes={}));Au.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var q1e;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(q1e=Au.InputTypes||(Au.InputTypes={}));Au.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var j1e;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(j1e=Au.OutputTypes||(Au.OutputTypes={}));Au.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var $q=$(xc=>{"use strict";B();k();Object.defineProperty(xc,"__esModule",{value:!0});xc.canAddToArray=xc.check=xc.expected=xc.encode=xc.decode=void 0;var Uq=Gs(),K1e=t=>[...Array(t).keys()];function z1e(t){if(t.key[0]!==Uq.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of K1e(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),u=i&2147483647;r.path+="/"+u.toString(10)+(s?"'":"")}return r}xc.decode=z1e;function V1e(t){let e=I.Buffer.from([Uq.GlobalTypes.GLOBAL_XPUB]),r=I.Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=I.Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(u=>{let o=u.slice(-1)==="'",a=2147483647&parseInt(o?u.slice(0,-1):u,10);o&&(a+=2147483648),i.writeUInt32LE(a,s),s+=4}),{key:r,value:i}}xc.encode=V1e;xc.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function G1e(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return I.Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&I.Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}xc.check=G1e;function W1e(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}xc.canAddToArray=W1e});var qq=$(sS=>{"use strict";B();k();Object.defineProperty(sS,"__esModule",{value:!0});sS.encode=void 0;var Y1e=Gs();function X1e(t){return{key:I.Buffer.from([Y1e.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}sS.encode=X1e});var Kq=$(Ic=>{"use strict";B();k();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.canAdd=Ic.check=Ic.expected=Ic.encode=Ic.decode=void 0;var jq=Gs();function Z1e(t){if(t.key[0]!==jq.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}Ic.decode=Z1e;function J1e(t){return{key:I.Buffer.from([jq.InputTypes.FINAL_SCRIPTSIG]),value:t}}Ic.encode=J1e;Ic.expected="Buffer";function Q1e(t){return I.Buffer.isBuffer(t)}Ic.check=Q1e;function e6e(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}Ic.canAdd=e6e});var Vq=$(Pc=>{"use strict";B();k();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.canAdd=Pc.check=Pc.expected=Pc.encode=Pc.decode=void 0;var zq=Gs();function t6e(t){if(t.key[0]!==zq.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}Pc.decode=t6e;function r6e(t){return{key:I.Buffer.from([zq.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}Pc.encode=r6e;Pc.expected="Buffer";function n6e(t){return I.Buffer.isBuffer(t)}Pc.check=n6e;function i6e(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}Pc.canAdd=i6e});var Wq=$(Oc=>{"use strict";B();k();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.canAdd=Oc.check=Oc.expected=Oc.encode=Oc.decode=void 0;var Gq=Gs();function s6e(t){if(t.key[0]!==Gq.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}Oc.decode=s6e;function u6e(t){return{key:I.Buffer.from([Gq.InputTypes.NON_WITNESS_UTXO]),value:t}}Oc.encode=u6e;Oc.expected="Buffer";function o6e(t){return I.Buffer.isBuffer(t)}Oc.check=o6e;function a6e(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}Oc.canAdd=a6e});var Xq=$(Bc=>{"use strict";B();k();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.canAddToArray=Bc.check=Bc.expected=Bc.encode=Bc.decode=void 0;var Yq=Gs();function c6e(t){if(t.key[0]!==Yq.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}Bc.decode=c6e;function f6e(t){let e=I.Buffer.from([Yq.InputTypes.PARTIAL_SIG]);return{key:I.Buffer.concat([e,t.pubkey]),value:t.signature}}Bc.encode=f6e;Bc.expected="{ pubkey: Buffer; signature: Buffer; }";function l6e(t){return I.Buffer.isBuffer(t.pubkey)&&I.Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&d6e(t.signature)}Bc.check=l6e;function d6e(t){if(!I.Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function h6e(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}Bc.canAddToArray=h6e});var Jq=$(kc=>{"use strict";B();k();Object.defineProperty(kc,"__esModule",{value:!0});kc.canAdd=kc.check=kc.expected=kc.encode=kc.decode=void 0;var Zq=Gs();function p6e(t){if(t.key[0]!==Zq.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}kc.decode=p6e;function b6e(t){return{key:I.Buffer.from([Zq.InputTypes.POR_COMMITMENT]),value:I.Buffer.from(t,"utf8")}}kc.encode=b6e;kc.expected="string";function g6e(t){return typeof t=="string"}kc.check=g6e;function m6e(t,e){return!!t&&!!e&&t.porCommitment===void 0}kc.canAdd=m6e});var ej=$(Cc=>{"use strict";B();k();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.canAdd=Cc.check=Cc.expected=Cc.encode=Cc.decode=void 0;var Qq=Gs();function y6e(t){if(t.key[0]!==Qq.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}Cc.decode=y6e;function v6e(t){let e=I.Buffer.from([Qq.InputTypes.SIGHASH_TYPE]),r=I.Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}Cc.encode=v6e;Cc.expected="number";function S6e(t){return typeof t=="number"}Cc.check=S6e;function _6e(t,e){return!!t&&!!e&&t.sighashType===void 0}Cc.canAdd=_6e});var nj=$(Fc=>{"use strict";B();k();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.canAdd=Fc.check=Fc.expected=Fc.encode=Fc.decode=void 0;var tj=Gs();function w6e(t){if(t.key[0]!==tj.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!rj(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}Fc.decode=w6e;function E6e(t){return{key:I.Buffer.from([tj.InputTypes.TAP_KEY_SIG]),value:t}}Fc.encode=E6e;Fc.expected="Buffer";function rj(t){return I.Buffer.isBuffer(t)&&(t.length===64||t.length===65)}Fc.check=rj;function A6e(t,e){return!!t&&!!e&&t.tapKeySig===void 0}Fc.canAdd=A6e});var sj=$(Rc=>{"use strict";B();k();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.canAddToArray=Rc.check=Rc.expected=Rc.encode=Rc.decode=void 0;var ij=Gs();function T6e(t){if(t.key[0]!==ij.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}Rc.decode=T6e;function x6e(t){let e=I.Buffer.from([ij.InputTypes.TAP_LEAF_SCRIPT]),r=I.Buffer.from([t.leafVersion]);return{key:I.Buffer.concat([e,t.controlBlock]),value:I.Buffer.concat([t.script,r])}}Rc.encode=x6e;Rc.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function I6e(t){return I.Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&I.Buffer.isBuffer(t.script)}Rc.check=I6e;function P6e(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}Rc.canAddToArray=P6e});var aj=$(Mc=>{"use strict";B();k();Object.defineProperty(Mc,"__esModule",{value:!0});Mc.canAdd=Mc.check=Mc.expected=Mc.encode=Mc.decode=void 0;var uj=Gs();function O6e(t){if(t.key[0]!==uj.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!oj(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}Mc.decode=O6e;function B6e(t){return{key:I.Buffer.from([uj.InputTypes.TAP_MERKLE_ROOT]),value:t}}Mc.encode=B6e;Mc.expected="Buffer";function oj(t){return I.Buffer.isBuffer(t)&&t.length===32}Mc.check=oj;function k6e(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}Mc.canAdd=k6e});var fj=$(Nc=>{"use strict";B();k();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.canAddToArray=Nc.check=Nc.expected=Nc.encode=Nc.decode=void 0;var cj=Gs();function C6e(t){if(t.key[0]!==cj.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}Nc.decode=C6e;function F6e(t){let e=I.Buffer.from([cj.InputTypes.TAP_SCRIPT_SIG]);return{key:I.Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}Nc.encode=F6e;Nc.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function R6e(t){return I.Buffer.isBuffer(t.pubkey)&&I.Buffer.isBuffer(t.leafHash)&&I.Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}Nc.check=R6e;function M6e(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}Nc.canAddToArray=M6e});var Ap=$(Ep=>{"use strict";B();k();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.encodingLength=Ep.decode=Ep.encode=void 0;var N6e=9007199254740991;function CP(t){if(t<0||t>N6e||t%1!==0)throw new RangeError("value out of range")}function ey(t,e,r){if(CP(t),e||(e=I.Buffer.allocUnsafe(lj(t))),!I.Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(ey,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(ey,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(ey,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(ey,{bytes:9})),e}Ep.encode=ey;function ty(t,e){if(!I.Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(ty,{bytes:1}),r;if(r===253)return Object.assign(ty,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(ty,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(ty,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return CP(s),s}}Ep.decode=ty;function lj(t){return CP(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Ep.encodingLength=lj});var oS=$(ls=>{"use strict";B();k();var D6e=ls&&ls.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H6e=ls&&ls.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),L6e=ls&&ls.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&D6e(e,t,r);return H6e(e,t),e};Object.defineProperty(ls,"__esModule",{value:!0});ls.writeUInt64LE=ls.readUInt64LE=ls.keyValToBuffer=ls.keyValsToBuffer=ls.reverseBuffer=ls.range=void 0;var uS=L6e(Ap()),U6e=t=>[...Array(t).keys()];ls.range=U6e;function $6e(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}ls.reverseBuffer=$6e;function q6e(t){let e=t.map(dj);return e.push(I.Buffer.from([0])),I.Buffer.concat(e)}ls.keyValsToBuffer=q6e;function dj(t){let e=t.key.length,r=t.value.length,n=uS.encodingLength(e),i=uS.encodingLength(r),s=I.Buffer.allocUnsafe(n+e+i+r);return uS.encode(e,s,0),t.key.copy(s,n),uS.encode(r,s,n+e),t.value.copy(s,n+e+i),s}ls.keyValToBuffer=dj;function hj(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function j6e(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,hj(n+r,9007199254740991),n+r}ls.readUInt64LE=j6e;function K6e(t,e,r){return hj(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}ls.writeUInt64LE=K6e});var gj=$(Ws=>{"use strict";B();k();var z6e=Ws&&Ws.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V6e=Ws&&Ws.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G6e=Ws&&Ws.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z6e(e,t,r);return V6e(e,t),e};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.canAdd=Ws.check=Ws.expected=Ws.encode=Ws.decode=void 0;var pj=Gs(),bj=oS(),aS=G6e(Ap());function W6e(t){if(t.key[0]!==pj.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=(0,bj.readUInt64LE)(t.value,0),r=8,n=aS.decode(t.value,r);r+=aS.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}Ws.decode=W6e;function Y6e(t){let{script:e,value:r}=t,n=aS.encodingLength(e.length),i=I.Buffer.allocUnsafe(8+n+e.length);return(0,bj.writeUInt64LE)(i,r,0),aS.encode(e.length,i,8),e.copy(i,8+n),{key:I.Buffer.from([pj.InputTypes.WITNESS_UTXO]),value:i}}Ws.encode=Y6e;Ws.expected="{ script: Buffer; value: number; }";function X6e(t){return I.Buffer.isBuffer(t.script)&&typeof t.value=="number"}Ws.check=X6e;function Z6e(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}Ws.canAdd=Z6e});var yj=$(Ys=>{"use strict";B();k();var J6e=Ys&&Ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Q6e=Ys&&Ys.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),e7e=Ys&&Ys.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&J6e(e,t,r);return Q6e(e,t),e};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.canAdd=Ys.check=Ys.expected=Ys.encode=Ys.decode=void 0;var mj=Gs(),FP=e7e(Ap());function t7e(t){if(t.key[0]!==mj.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=FP.decode(t.value,e);e+=FP.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}Ys.decode=t7e;function r7e(t){let e=I.Buffer.from([mj.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[I.Buffer.of(n.depth,n.leafVersion),FP.encode(n.script.length),n.script]));return{key:e,value:I.Buffer.concat(r)}}Ys.encode=r7e;Ys.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function n7e(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&I.Buffer.isBuffer(e.script))}Ys.check=n7e;function i7e(t,e){return!!t&&!!e&&t.tapTree===void 0}Ys.canAdd=i7e});var RP=$(cS=>{"use strict";B();k();Object.defineProperty(cS,"__esModule",{value:!0});cS.makeConverter=void 0;var s7e=t=>[...Array(t).keys()],u7e=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function o7e(t,e=u7e){function r(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+o.key.toString("hex"));let a=o.key.slice(1);if(!e(a))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+o.key.toString("hex"));if(o.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let l={masterFingerprint:o.value.slice(0,4),pubkey:a,path:"m"};for(let f of s7e(o.value.length/4-1)){let c=o.value.readUInt32LE(f*4+4),h=!!(c&2147483648),d=c&2147483647;l.path+="/"+d.toString(10)+(h?"'":"")}return l}function n(o){let a=I.Buffer.from([t]),l=I.Buffer.concat([a,o.pubkey]),f=o.path.split("/"),c=I.Buffer.allocUnsafe(f.length*4);o.masterFingerprint.copy(c,0);let h=4;return f.slice(1).forEach(d=>{let p=d.slice(-1)==="'",m=2147483647&parseInt(p?d.slice(0,-1):d,10);p&&(m+=2147483648),c.writeUInt32LE(m,h),h+=4}),{key:l,value:c}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(o){return I.Buffer.isBuffer(o.pubkey)&&I.Buffer.isBuffer(o.masterFingerprint)&&typeof o.path=="string"&&e(o.pubkey)&&o.masterFingerprint.length===4}function u(o,a,l){let f=a.pubkey.toString("hex");return l.has(f)?!1:(l.add(f),o.filter(c=>c.pubkey.equals(a.pubkey)).length===0)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:u}}cS.makeConverter=o7e});var vj=$(fS=>{"use strict";B();k();Object.defineProperty(fS,"__esModule",{value:!0});fS.makeChecker=void 0;function a7e(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}fS.makeChecker=a7e});var Sj=$(lS=>{"use strict";B();k();Object.defineProperty(lS,"__esModule",{value:!0});lS.makeConverter=void 0;function c7e(t){function e(u){if(u.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+u.key.toString("hex"));return u.value}function r(u){return{key:I.Buffer.from([t]),value:u}}let n="Buffer";function i(u){return I.Buffer.isBuffer(u)}function s(u,o){return!!u&&!!o&&u.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}lS.makeConverter=c7e});var wj=$(cl=>{"use strict";B();k();var f7e=cl&&cl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),l7e=cl&&cl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_j=cl&&cl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f7e(e,t,r);return l7e(e,t),e};Object.defineProperty(cl,"__esModule",{value:!0});cl.makeConverter=void 0;var dS=_j(Ap()),d7e=_j(RP()),h7e=t=>t.length===32;function p7e(t){let e=d7e.makeConverter(t,h7e);function r(u){let o=dS.decode(u.value),a=dS.encodingLength(o),l=e.decode({key:u.key,value:u.value.slice(a+o*32)}),f=new Array(o);for(let c=0,h=a;c<o;c++,h+=32)f[c]=u.value.slice(h,h+32);return{...l,leafHashes:f}}function n(u){let o=e.encode(u),a=dS.encodingLength(u.leafHashes.length),l=I.Buffer.allocUnsafe(a);dS.encode(u.leafHashes.length,l);let f=I.Buffer.concat([l,...u.leafHashes,o.value]);return{...o,value:f}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(u){return Array.isArray(u.leafHashes)&&u.leafHashes.every(o=>I.Buffer.isBuffer(o)&&o.length===32)&&e.check(u)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}cl.makeConverter=p7e});var Ej=$(hS=>{"use strict";B();k();Object.defineProperty(hS,"__esModule",{value:!0});hS.makeConverter=void 0;function b7e(t){function e(u){if(u.key[0]!==t||u.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+u.key.toString("hex"));if(u.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return u.value}function r(u){return{key:I.Buffer.from([t]),value:u}}let n="Buffer";function i(u){return I.Buffer.isBuffer(u)&&u.length===32}function s(u,o){return!!u&&!!o&&u.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}hS.makeConverter=b7e});var Aj=$(pS=>{"use strict";B();k();Object.defineProperty(pS,"__esModule",{value:!0});pS.makeConverter=void 0;function g7e(t){function e(u){if(u.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+u.key.toString("hex"));return u.value}function r(u){return{key:I.Buffer.from([t]),value:u}}let n="Buffer";function i(u){return I.Buffer.isBuffer(u)}function s(u,o){return!!u&&!!o&&u.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}pS.makeConverter=g7e});var bS=$(na=>{"use strict";B();k();var m7e=na&&na.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y7e=na&&na.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ds=na&&na.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m7e(e,t,r);return y7e(e,t),e};Object.defineProperty(na,"__esModule",{value:!0});na.outputs=na.inputs=na.globals=void 0;var ja=Gs(),v7e=ds($q()),S7e=ds(qq()),_7e=ds(Kq()),w7e=ds(Vq()),E7e=ds(Wq()),A7e=ds(Xq()),T7e=ds(Jq()),x7e=ds(ej()),I7e=ds(nj()),P7e=ds(sj()),O7e=ds(aj()),B7e=ds(fj()),k7e=ds(gj()),C7e=ds(yj()),Tj=ds(RP()),MP=ds(vj()),xj=ds(Sj()),Ij=ds(wj()),Pj=ds(Ej()),Oj=ds(Aj()),F7e={unsignedTx:S7e,globalXpub:v7e,checkPubkey:MP.makeChecker([])};na.globals=F7e;var R7e={nonWitnessUtxo:E7e,partialSig:A7e,sighashType:x7e,finalScriptSig:_7e,finalScriptWitness:w7e,porCommitment:T7e,witnessUtxo:k7e,bip32Derivation:Tj.makeConverter(ja.InputTypes.BIP32_DERIVATION),redeemScript:xj.makeConverter(ja.InputTypes.REDEEM_SCRIPT),witnessScript:Oj.makeConverter(ja.InputTypes.WITNESS_SCRIPT),checkPubkey:MP.makeChecker([ja.InputTypes.PARTIAL_SIG,ja.InputTypes.BIP32_DERIVATION]),tapKeySig:I7e,tapScriptSig:B7e,tapLeafScript:P7e,tapBip32Derivation:Ij.makeConverter(ja.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:Pj.makeConverter(ja.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:O7e};na.inputs=R7e;var M7e={bip32Derivation:Tj.makeConverter(ja.OutputTypes.BIP32_DERIVATION),redeemScript:xj.makeConverter(ja.OutputTypes.REDEEM_SCRIPT),witnessScript:Oj.makeConverter(ja.OutputTypes.WITNESS_SCRIPT),checkPubkey:MP.makeChecker([ja.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:Ij.makeConverter(ja.OutputTypes.TAP_BIP32_DERIVATION),tapTree:C7e,tapInternalKey:Pj.makeConverter(ja.OutputTypes.TAP_INTERNAL_KEY)};na.outputs=M7e});var Fj=$(ia=>{"use strict";B();k();var N7e=ia&&ia.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D7e=ia&&ia.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kj=ia&&ia.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N7e(e,t,r);return D7e(e,t),e};Object.defineProperty(ia,"__esModule",{value:!0});ia.psbtFromKeyVals=ia.checkKeyBuffer=ia.psbtFromBuffer=void 0;var Qn=kj(bS()),gS=oS(),Bj=kj(Ap()),br=Gs();function H7e(t,e){let r=0;function n(){let w=Bj.decode(t,r);r+=Bj.encodingLength(w);let x=t.slice(r,r+w);return r+=w,x}function i(){let w=t.readUInt32BE(r);return r+=4,w}function s(){let w=t.readUInt8(r);return r+=1,w}function u(){let w=n(),x=n();return{key:w,value:x}}function o(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let w=t.readUInt8(r)===0;return w&&r++,w}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let a=[],l={};for(;!o();){let w=u(),x=w.key.toString("hex");if(l[x])throw new Error("Format Error: Keys must be unique for global keymap: key "+x);l[x]=1,a.push(w)}let f=a.filter(w=>w.key[0]===br.GlobalTypes.UNSIGNED_TX);if(f.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let c=e(f[0].value),{inputCount:h,outputCount:d}=c.getInputOutputCounts(),p=[],m=[];for(let w of(0,gS.range)(h)){let x={},_=[];for(;!o();){let y=u(),S=y.key.toString("hex");if(x[S])throw new Error("Format Error: Keys must be unique for each input: input index "+w+" key "+S);x[S]=1,_.push(y)}p.push(_)}for(let w of(0,gS.range)(d)){let x={},_=[];for(;!o();){let y=u(),S=y.key.toString("hex");if(x[S])throw new Error("Format Error: Keys must be unique for each output: output index "+w+" key "+S);x[S]=1,_.push(y)}m.push(_)}return Cj(c,{globalMapKeyVals:a,inputKeyVals:p,outputKeyVals:m})}ia.psbtFromBuffer=H7e;function Tu(t,e,r){if(!e.equals(I.Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}ia.checkKeyBuffer=Tu;function Cj(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let f of e)switch(f.key[0]){case br.GlobalTypes.UNSIGNED_TX:if(Tu("global",f.key,br.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case br.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(Qn.globals.globalXpub.decode(f));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(f)}let u=r.length,o=n.length,a=[],l=[];for(let f of(0,gS.range)(u)){let c={};for(let h of r[f])switch(Qn.inputs.checkPubkey(h),h.key[0]){case br.InputTypes.NON_WITNESS_UTXO:if(Tu("input",h.key,br.InputTypes.NON_WITNESS_UTXO),c.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");c.nonWitnessUtxo=Qn.inputs.nonWitnessUtxo.decode(h);break;case br.InputTypes.WITNESS_UTXO:if(Tu("input",h.key,br.InputTypes.WITNESS_UTXO),c.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");c.witnessUtxo=Qn.inputs.witnessUtxo.decode(h);break;case br.InputTypes.PARTIAL_SIG:c.partialSig===void 0&&(c.partialSig=[]),c.partialSig.push(Qn.inputs.partialSig.decode(h));break;case br.InputTypes.SIGHASH_TYPE:if(Tu("input",h.key,br.InputTypes.SIGHASH_TYPE),c.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");c.sighashType=Qn.inputs.sighashType.decode(h);break;case br.InputTypes.REDEEM_SCRIPT:if(Tu("input",h.key,br.InputTypes.REDEEM_SCRIPT),c.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");c.redeemScript=Qn.inputs.redeemScript.decode(h);break;case br.InputTypes.WITNESS_SCRIPT:if(Tu("input",h.key,br.InputTypes.WITNESS_SCRIPT),c.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");c.witnessScript=Qn.inputs.witnessScript.decode(h);break;case br.InputTypes.BIP32_DERIVATION:c.bip32Derivation===void 0&&(c.bip32Derivation=[]),c.bip32Derivation.push(Qn.inputs.bip32Derivation.decode(h));break;case br.InputTypes.FINAL_SCRIPTSIG:Tu("input",h.key,br.InputTypes.FINAL_SCRIPTSIG),c.finalScriptSig=Qn.inputs.finalScriptSig.decode(h);break;case br.InputTypes.FINAL_SCRIPTWITNESS:Tu("input",h.key,br.InputTypes.FINAL_SCRIPTWITNESS),c.finalScriptWitness=Qn.inputs.finalScriptWitness.decode(h);break;case br.InputTypes.POR_COMMITMENT:Tu("input",h.key,br.InputTypes.POR_COMMITMENT),c.porCommitment=Qn.inputs.porCommitment.decode(h);break;case br.InputTypes.TAP_KEY_SIG:Tu("input",h.key,br.InputTypes.TAP_KEY_SIG),c.tapKeySig=Qn.inputs.tapKeySig.decode(h);break;case br.InputTypes.TAP_SCRIPT_SIG:c.tapScriptSig===void 0&&(c.tapScriptSig=[]),c.tapScriptSig.push(Qn.inputs.tapScriptSig.decode(h));break;case br.InputTypes.TAP_LEAF_SCRIPT:c.tapLeafScript===void 0&&(c.tapLeafScript=[]),c.tapLeafScript.push(Qn.inputs.tapLeafScript.decode(h));break;case br.InputTypes.TAP_BIP32_DERIVATION:c.tapBip32Derivation===void 0&&(c.tapBip32Derivation=[]),c.tapBip32Derivation.push(Qn.inputs.tapBip32Derivation.decode(h));break;case br.InputTypes.TAP_INTERNAL_KEY:Tu("input",h.key,br.InputTypes.TAP_INTERNAL_KEY),c.tapInternalKey=Qn.inputs.tapInternalKey.decode(h);break;case br.InputTypes.TAP_MERKLE_ROOT:Tu("input",h.key,br.InputTypes.TAP_MERKLE_ROOT),c.tapMerkleRoot=Qn.inputs.tapMerkleRoot.decode(h);break;default:c.unknownKeyVals||(c.unknownKeyVals=[]),c.unknownKeyVals.push(h)}a.push(c)}for(let f of(0,gS.range)(o)){let c={};for(let h of n[f])switch(Qn.outputs.checkPubkey(h),h.key[0]){case br.OutputTypes.REDEEM_SCRIPT:if(Tu("output",h.key,br.OutputTypes.REDEEM_SCRIPT),c.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");c.redeemScript=Qn.outputs.redeemScript.decode(h);break;case br.OutputTypes.WITNESS_SCRIPT:if(Tu("output",h.key,br.OutputTypes.WITNESS_SCRIPT),c.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");c.witnessScript=Qn.outputs.witnessScript.decode(h);break;case br.OutputTypes.BIP32_DERIVATION:c.bip32Derivation===void 0&&(c.bip32Derivation=[]),c.bip32Derivation.push(Qn.outputs.bip32Derivation.decode(h));break;case br.OutputTypes.TAP_INTERNAL_KEY:Tu("output",h.key,br.OutputTypes.TAP_INTERNAL_KEY),c.tapInternalKey=Qn.outputs.tapInternalKey.decode(h);break;case br.OutputTypes.TAP_TREE:Tu("output",h.key,br.OutputTypes.TAP_TREE),c.tapTree=Qn.outputs.tapTree.decode(h);break;case br.OutputTypes.TAP_BIP32_DERIVATION:c.tapBip32Derivation===void 0&&(c.tapBip32Derivation=[]),c.tapBip32Derivation.push(Qn.outputs.tapBip32Derivation.decode(h));break;default:c.unknownKeyVals||(c.unknownKeyVals=[]),c.unknownKeyVals.push(h)}l.push(c)}return{globalMap:i,inputs:a,outputs:l}}ia.psbtFromKeyVals=Cj});var Nj=$(Dc=>{"use strict";B();k();var L7e=Dc&&Dc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U7e=Dc&&Dc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$7e=Dc&&Dc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L7e(e,t,r);return U7e(e,t),e};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.psbtToKeyVals=Dc.psbtToBuffer=void 0;var NP=$7e(bS()),Rj=oS();function q7e({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=Mj({globalMap:t,inputs:e,outputs:r}),u=(0,Rj.keyValsToBuffer)(n),o=c=>c.length===0?[I.Buffer.from([0])]:c.map(Rj.keyValsToBuffer),a=o(i),l=o(s),f=I.Buffer.allocUnsafe(5);return f.writeUIntBE(482972169471,0,5),I.Buffer.concat([f,u].concat(a,l))}Dc.psbtToBuffer=q7e;var j7e=(t,e)=>t.key.compare(e.key);function DP(t,e){let r=new Set,n=Object.entries(t).reduce((s,[u,o])=>{if(u==="unknownKeyVals")return s;let a=e[u];if(a===void 0)return s;let l=(Array.isArray(o)?o:[o]).map(a.encode);return l.map(c=>c.key.toString("hex")).forEach(c=>{if(r.has(c))throw new Error("Serialize Error: Duplicate key: "+c);r.add(c)}),s.concat(l)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(j7e)}function Mj({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:DP(t,NP.globals),inputKeyVals:e.map(n=>DP(n,NP.inputs)),outputKeyVals:r.map(n=>DP(n,NP.outputs))}}Dc.psbtToKeyVals=Mj});var HP=$(Tp=>{"use strict";B();k();var K7e=Tp&&Tp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dj=Tp&&Tp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&K7e(e,t,r)};Object.defineProperty(Tp,"__esModule",{value:!0});Dj(Fj(),Tp);Dj(Nj(),Tp)});var Lj=$(mS=>{"use strict";B();k();Object.defineProperty(mS,"__esModule",{value:!0});mS.combine=void 0;var LP=HP();function z7e(t){let e=t[0],r=(0,LP.psbtToKeyVals)(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=Hj(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=b2(r.globalKeyVals),u=r.inputKeyVals.map(b2),o=r.outputKeyVals.map(b2);for(let a of n){let l=Hj(a);if(l===void 0||!l.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let f=(0,LP.psbtToKeyVals)(a);b2(f.globalKeyVals).forEach(UP(s,r.globalKeyVals,f.globalKeyVals)),f.inputKeyVals.map(b2).forEach((p,m)=>p.forEach(UP(u[m],r.inputKeyVals[m],f.inputKeyVals[m]))),f.outputKeyVals.map(b2).forEach((p,m)=>p.forEach(UP(o[m],r.outputKeyVals[m],f.outputKeyVals[m])))}return(0,LP.psbtFromKeyVals)(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}mS.combine=z7e;function UP(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function Hj(t){return t.globalMap.unsignedTx}function b2(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var qP=$(Gr=>{"use strict";B();k();var V7e=Gr&&Gr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G7e=Gr&&Gr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),W7e=Gr&&Gr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&V7e(e,t,r);return G7e(e,t),e};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.defaultLocktimeSetter=Gr.defaultVersionSetter=Gr.addOutputAttributes=Gr.addInputAttributes=Gr.updateOutput=Gr.updateInput=Gr.updateGlobal=Gr.inputCheckUncleanFinalized=Gr.getEnumLength=Gr.checkHasKey=Gr.checkForOutput=Gr.checkForInput=void 0;var Y7e=W7e(bS());function $j(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}Gr.checkForInput=$j;function qj(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}Gr.checkForOutput=qj;function X7e(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}Gr.checkHasKey=X7e;function Z7e(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}Gr.getEnumLength=Z7e;function J7e(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,u=!i||!!e.finalScriptWitness,o=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&u&&o}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}Gr.inputCheckUncleanFinalized=J7e;function Uj(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function $P(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:u,check:o,expected:a}=Y7e[t+"s"][n]||{},l=!!u;if(o)if(l){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(o)||Uj(t,n,a,i);let f=r[n]||[],c=new Set;if(!i.every(h=>u(f,h,c)))throw new Error("Can not add duplicate data to array");r[n]=f.concat(i)}else{if(o(i)||Uj(t,n,a,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}Gr.updateGlobal=$P("global");Gr.updateInput=$P("input");Gr.updateOutput=$P("output");function Q7e(t,e){let r=t.length-1,n=$j(t,r);(0,Gr.updateInput)(e,n)}Gr.addInputAttributes=Q7e;function e5e(t,e){let r=t.length-1,n=qj(t,r);(0,Gr.updateOutput)(e,n)}Gr.addOutputAttributes=e5e;function t5e(t,e){if(!I.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}Gr.defaultVersionSetter=t5e;function r5e(t,e){if(!I.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}Gr.defaultLocktimeSetter=r5e});var Kj=$(yS=>{"use strict";B();k();Object.defineProperty(yS,"__esModule",{value:!0});yS.Psbt=void 0;var n5e=Lj(),jj=HP(),jP=Gs(),xu=qP(),KP=class{static fromBase64(e,r){let n=I.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=I.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=(0,jj.psbtFromBuffer)(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return(0,jj.psbtToBuffer)(this)}updateGlobal(e){return(0,xu.updateGlobal)(e,this.globalMap),this}updateInput(e,r){let n=(0,xu.checkForInput)(this.inputs,e);return(0,xu.updateInput)(r,n),this}updateOutput(e,r){let n=(0,xu.checkForOutput)(this.outputs,e);return(0,xu.updateOutput)(r,n),this}addUnknownKeyValToGlobal(e){return(0,xu.checkHasKey)(e,this.globalMap.unknownKeyVals,(0,xu.getEnumLength)(jP.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=(0,xu.checkForInput)(this.inputs,e);return(0,xu.checkHasKey)(r,n.unknownKeyVals,(0,xu.getEnumLength)(jP.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=(0,xu.checkForOutput)(this.outputs,e);return(0,xu.checkHasKey)(r,n.unknownKeyVals,(0,xu.getEnumLength)(jP.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,xu.addInputAttributes)(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,xu.addOutputAttributes)(this.outputs,e),this}clearFinalizedInput(e){let r=(0,xu.checkForInput)(this.inputs,e);(0,xu.inputCheckUncleanFinalized)(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=(0,n5e.combine)([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};yS.Psbt=KP});var O6=$(on=>{"use strict";B();k();var i5e=on&&on.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s5e=on&&on.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zP=on&&on.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i5e(e,t,r);return s5e(e,t),e};Object.defineProperty(on,"__esModule",{value:!0});on.signatureBlocksAction=on.checkInputForSig=on.pubkeyInScript=on.pubkeyPositionInScript=on.witnessStackToScriptWitness=on.isP2TR=on.isP2SHScript=on.isP2WSHScript=on.isP2WPKH=on.isP2PKH=on.isP2PK=on.isP2MS=void 0;var zj=zP(Ap()),ry=zP(as()),vS=wp(),u5e=Eu(),I6=zP(vp());function P6(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}on.isP2MS=P6(I6.p2ms);on.isP2PK=P6(I6.p2pk);on.isP2PKH=P6(I6.p2pkh);on.isP2WPKH=P6(I6.p2wpkh);on.isP2WSHScript=P6(I6.p2wsh);on.isP2SHScript=P6(I6.p2sh);on.isP2TR=P6(I6.p2tr);function o5e(t){let e=I.Buffer.allocUnsafe(0);function r(u){e=I.Buffer.concat([e,I.Buffer.from(u)])}function n(u){let o=e.length,a=zj.encodingLength(u);e=I.Buffer.concat([e,I.Buffer.allocUnsafe(a)]),zj.encode(u,e,o)}function i(u){n(u.length),r(u)}function s(u){n(u.length),u.forEach(i)}return s(t),e}on.witnessStackToScriptWitness=o5e;function Vj(t,e){let r=(0,u5e.hash160)(t),n=t.slice(1,33),i=ry.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}on.pubkeyPositionInScript=Vj;function a5e(t,e){return Vj(t,e)!==-1}on.pubkeyInScript=a5e;function c5e(t,e){return f5e(t).some(n=>Gj(n,ry.signature.decode,e))}on.checkInputForSig=c5e;function Gj(t,e,r){let{hashType:n}=e(t),i=[];switch(n&vS.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case vS.Transaction.SIGHASH_ALL:break;case vS.Transaction.SIGHASH_SINGLE:case vS.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}on.signatureBlocksAction=Gj;function f5e(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=l5e(t)}else e=t.partialSig;return e.map(r=>r.signature)}function l5e(t){let e=t.finalScriptSig?ry.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?ry.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>I.Buffer.isBuffer(n)&&ry.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var XP=$(ui=>{"use strict";B();k();Object.defineProperty(ui,"__esModule",{value:!0});ui.checkTaprootInputForSigs=ui.tapTreeFromList=ui.tapTreeToList=ui.tweakInternalPubKey=ui.checkTaprootOutputFields=ui.checkTaprootInputFields=ui.isTaprootOutput=ui.isTaprootInput=ui.serializeTaprootSignature=ui.tapScriptFinalizer=ui.toXOnly=void 0;var YP=Qu(),d5e=wp(),wS=O6(),xp=eS(),h5e=vp(),p5e=O6(),b5e=t=>t.length===32?t:t.slice(1,33);ui.toXOnly=b5e;function g5e(t,e,r){let n=R5e(e,t,r);try{let s=C5e(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,wS.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}ui.tapScriptFinalizer=g5e;function m5e(t,e){let r=e?I.Buffer.from([e]):I.Buffer.from([]);return I.Buffer.concat([t,r])}ui.serializeTaprootSignature=m5e;function SS(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,wS.isP2TR)(t.witnessUtxo.script))}ui.isTaprootInput=SS;function _S(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,wS.isP2TR)(e))}ui.isTaprootOutput=_S;function y5e(t,e,r){O5e(t,e,r),k5e(t,e,r)}ui.checkTaprootInputFields=y5e;function v5e(t,e,r){B5e(t,e,r),S5e(t,e)}ui.checkTaprootOutputFields=v5e;function S5e(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=_5e(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}function _5e(t,e){let r=e&&Wj(e.leaves),{output:n}=(0,h5e.p2tr)({internalPubkey:t,scriptTree:r});return n}function w5e(t,e){let r=e.tapInternalKey,n=r&&(0,xp.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}ui.tweakInternalPubKey=w5e;function E5e(t){if(!(0,YP.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return GP(t)}ui.tapTreeToList=E5e;function Wj(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:P5e(t)}ui.tapTreeFromList=Wj;function A5e(t,e){return x5e(t).some(n=>(0,p5e.signatureBlocksAction)(n,T5e,e))}ui.checkTaprootInputForSigs=A5e;function T5e(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||d5e.Transaction.SIGHASH_DEFAULT}}function x5e(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=I5e(t.finalScriptWitness);r&&e.push(r)}return e}function I5e(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function GP(t,e=[],r=0){if(r>xp.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,YP.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||xp.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&GP(t[0],e,r+1),t[1]&&GP(t[1],e,r+1),e):[]}function P5e(t){let e;for(let r of t)if(e=WP(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function WP(t,e,r=0){if(r>xp.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,YP.isTapleaf)(e))return;let n=WP(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=WP(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function O5e(t,e,r){let n=SS(t)&&g2(e),i=g2(t)&&SS(e),s=t===e&&SS(e)&&g2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function B5e(t,e,r){let n=_S(t)&&g2(e),i=g2(t)&&_S(e),s=t===e&&_S(e)&&g2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function k5e(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>VP(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>VP(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>VP(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function VP(t,e){if(!e)return!0;let r=(0,xp.tapleafHash)({output:t.script,version:t.leafVersion});return(0,xp.rootHashFromPath)(t.controlBlock,r).equals(e)}function C5e(t,e){let r=(0,xp.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>F5e(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function F5e(t,e){return Object.assign({positionInScript:(0,wS.pubkeyPositionInScript)(e.pubkey,t)},e)}function R5e(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>M5e(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function M5e(t,e,r){let n=(0,xp.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}function g2(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var PS=$(Lc=>{"use strict";B();k();var N5e=Lc&&Lc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D5e=Lc&&Lc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eO=Lc&&Lc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N5e(e,t,r);return D5e(e,t),e};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getHashAndSighashType=Lc.Psbt=void 0;var Yj=Kj(),Xj=eO(Ap()),Io=qP(),Zj=h2(),m2=bp(),H5e=$a(),Hc=eO(vp()),L5e=eS(),Md=eO(as()),Fi=wp(),Rn=XP(),Xs=O6(),sy=yn(),U5e=as(),$5e=ul(),q5e=sy.signUtil.schnorr.secp256k1.schnorr,j5e={network:H5e.bitcoin,maximumFeeRate:5e3},y2=class{static fromBase64(e,r={}){let n=I.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=I.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=Yj.Psbt.fromBuffer(e,K5e),i=new y2(r,n);return Y5e(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new Yj.Psbt(new AS)){this.data=r,this.opts=Object.assign({},j5e,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,s,u,o)=>Object.defineProperty(i,s,{enumerable:u,writable:o});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,m2.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,Zj.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,m2.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=y2.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){ES(e),this.opts.maximumFeeRate=e}setVersion(e){ES(e),ny(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){ES(e),ny(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){ES(r),ny(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Rn.checkTaprootInputFields)(e,e,"addInput"),ny(this.data.inputs,"addInput"),e.witnessScript&&TS(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];uK(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&QP(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");ny(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,Zj.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,Rn.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(iK))throw new Error("Not finalized");let r=this.__CACHE;if(e||V5e(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return lK(this.data.inputs,n,r,!0),n}getFeeRate(){return rK("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return rK("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Io.checkForInput)(this.data.inputs,0),iy(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Io.checkForInput)(this.data.inputs,e);return(0,Rn.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Rn.tapScriptFinalizer){let i=(0,Io.checkForInput)(this.data.inputs,e);if((0,Rn.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=X5e){let{script:i,isP2SH:s,isP2WSH:u,isSegwit:o}=e2e(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);G5e(r);let{finalScriptSig:a,finalScriptWitness:l}=n(e,r,i,o,s,u);if(a&&this.data.updateInput(e,{finalScriptSig:a}),l&&this.data.updateInput(e,{finalScriptWitness:l}),!a&&!l)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Rn.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=Hc.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),u=(0,Xs.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:u})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Io.checkForInput)(this.data.inputs,e),n=dK(e,r,this.__CACHE),i=IS(n,e,"input",r.redeemScript||s2e(r.finalScriptSig),r.witnessScript||u2e(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",u=bK(i.meaningfulScript);return s+u}inputHasPubkey(e,r){let n=(0,Io.checkForInput)(this.data.inputs,e);return n2e(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Io.checkForInput)(this.data.inputs,e),i=Qj(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,Io.checkForOutput)(this.data.outputs,e);return i2e(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Io.checkForOutput)(this.data.outputs,e),i=Qj(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,Io.checkForInput)(this.data.inputs,0),iy(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Rn.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let u=n?s.filter(c=>c.pubkey.equals(n)):s;if(u.length<1)throw new Error("No signatures for this pubkey");let o=[],a,l,f;for(let c of u){let h=Md.signature.decode(c.signature),{hash:d,script:p}=f!==h.hashType?aK(e,Object.assign({},i,{sighashType:h.hashType}),this.__CACHE,!0):{hash:a,script:l};f=h.hashType,a=d,l=p,sK(c.pubkey,p,"verify"),o.push(r(c.pubkey,d,h.signature))}return o.every(c=>c===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,u=(i||{}).tapScriptSig;if(!i&&!s&&!(u&&!u.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Rn.toXOnly)(n);let o=n?JP(e,i,this.data.inputs,n,this.__CACHE):J5e(e,i,this.data.inputs,this.__CACHE);if(!o.length)throw new Error("No signatures for this pubkey");let a=o.find(l=>!!l.leafHash);if(s&&a&&!r(a.pubkey,a.hash,s))return!1;if(u)for(let l of u){let f=o.find(c=>l.pubkey.equals(c.pubkey));if(f&&!r(l.pubkey,f.hash,l.signature))return!1}return!0}signAllInputsHD(e,r=[Fi.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of iy(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Fi.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],u=[];for(let o of iy(this.data.inputs.length))u.push(this.signInputHDAsync(o,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(u).then(()=>{if(s.every(o=>o===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Fi.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return nK(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[Fi.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let o=nK(e,this.data.inputs,r).map(a=>this.signInputAsync(e,a,n));return Promise.all(o).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of iy(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],u=[];for(let[o]of this.data.inputs.entries())u.push(this.signInputAsync(o,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(u).then(()=>{if(s.every(o=>o===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Io.checkForInput)(this.data.inputs,e);return(0,Rn.isTaprootInput)(s)?this._signTaprootInput(e,s,r,i,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Io.checkForInput)(this.data.inputs,e);if((0,Rn.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}getHashAndSighashType(e,r,n=[Fi.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=uy(this.data.inputs,e,r,this.__CACHE,n);return{hash:i,sighashType:s}}_signInput(e,r,n=[Fi.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=uy(this.data.inputs,e,r.publicKey,this.__CACHE,n),u=[{pubkey:r.publicKey,signature:Md.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:u}),this}_signTaprootInput(e,r,n,i,s=[Fi.Transaction.SIGHASH_DEFAULT]){let u=this.checkTaprootHashesForSig(e,r,n,i,s),o=u.filter(l=>!l.leafHash).map(l=>(0,Rn.serializeTaprootSignature)(n.signSchnorr(l.hash),r.sighashType))[0],a=u.filter(l=>!!l.leafHash).map(l=>({pubkey:(0,Rn.toXOnly)(n.publicKey),signature:(0,Rn.serializeTaprootSignature)(n.signSchnorr(l.hash),r.sighashType),leafHash:l.leafHash}));return o&&this.data.updateInput(e,{tapKeySig:o}),a.length&&this.data.updateInput(e,{tapScriptSig:a}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Io.checkForInput)(this.data.inputs,e);return(0,Rn.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Io.checkForInput)(this.data.inputs,e);if((0,Rn.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Fi.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=uy(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(u=>{let o=[{pubkey:r.publicKey,signature:Md.signature.encode(u,s)}];this.data.updateInput(e,{partialSig:o})})}async _signTaprootInputAsync(e,r,n,i,s=[Fi.Transaction.SIGHASH_DEFAULT]){let u=this.checkTaprootHashesForSig(e,r,n,i,s),o=[],a=u.filter(f=>!f.leafHash)[0];if(a){let f=Promise.resolve(n.signSchnorr(a.hash)).then(c=>({tapKeySig:(0,Rn.serializeTaprootSignature)(c,r.sighashType)}));o.push(f)}let l=u.filter(f=>!!f.leafHash);if(l.length){let f=l.map(c=>Promise.resolve(n.signSchnorr(c.hash)).then(h=>({tapScriptSig:[{pubkey:(0,Rn.toXOnly)(n.publicKey),signature:(0,Rn.serializeTaprootSignature)(h,r.sighashType),leafHash:c.leafHash}]})));o.push(...f)}return Promise.all(o).then(f=>{f.forEach(c=>this.data.updateInput(e,c))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let u=JP(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!u||!u.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return u}toBuffer(){return ZP(this.__CACHE),this.data.toBuffer()}toHex(){return ZP(this.__CACHE),this.data.toHex()}toBase64(){return ZP(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&TS(r.witnessScript),(0,Rn.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&QP(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Rn.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}verify(e,r){let n=[Fi.Transaction.SIGHASH_SINGLE|Fi.Transaction.SIGHASH_ANYONECANPAY,Fi.Transaction.SIGHASH_ALL,Fi.Transaction.SIGHASH_DEFAULT];for(let i=0;i<this.inputCount;i++)if((0,Rn.isTaprootInput)(this.data.inputs[i])){let s=I.Buffer.from((0,$5e.taprootTweakPubkey)(e.slice(1))[0]),o=new m2.BufferReader(r).readVector(),a={publicKey:s,sign(c){return I.Buffer.alloc(64)},signSchnorr(c){return I.Buffer.alloc(64)}},f=this.checkTaprootHashesForSig(i,this.data.inputs[i],a,void 0,n).filter(c=>!c.leafHash)[0].hash;if(!q5e.verify(sy.base.toHex(o[0]),sy.base.toHex(f),sy.base.toHex(s)))return!1}else{let{hash:s}=uy(this.data.inputs,i,e,this.__CACHE,n),o=new m2.BufferReader(r).readVector(),a=U5e.signature.decode(o[0]).signature,l=o[1];if(!e.equals(l))throw Error("pubKey error");if(!sy.signUtil.secp256k1.verifyWithNoRecovery(s,a,e))return!1}return!0}};Lc.Psbt=y2;var K5e=t=>new AS(t),AS=class{constructor(e=I.Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Fi.Transaction.fromBuffer(e),W5e(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!I.Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,m2.reverseBuffer)(I.Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!I.Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function z5e(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return Jj(1,t.partialSig);case"multisig":let n=Hc.p2ms({output:e});return Jj(n.m,t.partialSig,n.pubkeys);default:return!1}}function ZP(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function Jj(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=o2e(i);return e.find(u=>u.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function iK(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function Qj(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function ES(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function V5e(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function ny(t,e){t.forEach(r=>{if((0,Rn.isTaprootInput)(r)?(0,Rn.checkTaprootInputForSigs)(r,e):(0,Xs.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function G5e(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=Md.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function sK(t,e,r){if(!(0,Xs.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function W5e(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function Y5e(t,e){t.ins.forEach(r=>{uK(e,r)})}function uK(t,e){let r=(0,m2.reverseBuffer)(I.Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function oK(t,e){return(r,n,i,s)=>{let u=t({redeem:{output:i}}).output;if(!n.equals(u))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}var eK=oK(Hc.p2sh,"Redeem script"),tK=oK(Hc.p2wsh,"Witness script");function rK(t,e,r,n){if(!r.every(iK))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),lK(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function X5e(t,e,r,n,i,s){let u=bK(r);if(!z5e(e,r,u))throw new Error(`Can not finalize input #${t}`);return Z5e(r,u,e.partialSig,n,i,s)}function Z5e(t,e,r,n,i,s){let u,o,a=Q5e(t,e,r),l=s?Hc.p2wsh({redeem:a}):null,f=i?Hc.p2sh({redeem:l||a}):null;return n?(l?o=(0,Xs.witnessStackToScriptWitness)(l.witness):o=(0,Xs.witnessStackToScriptWitness)(a.witness),f&&(u=f.input)):f?u=f.input:u=a.input,{finalScriptSig:u,finalScriptWitness:o}}function uy(t,e,r,n,i){let s=(0,Io.checkForInput)(t,e),{hash:u,sighashType:o,script:a}=aK(e,s,n,!1,i);return sK(r,a,"sign"),{hash:u,sighashType:o}}Lc.getHashAndSighashType=uy;function aK(t,e,r,n,i){let s=r.__TX,u=e.sighashType||Fi.Transaction.SIGHASH_ALL;cK(u,i);let o,a;if(e.nonWitnessUtxo){let c=xS(r,e,t),h=s.ins[t].hash,d=c.getHash();if(!h.equals(d))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let p=s.ins[t].index;a=c.outs[p]}else if(e.witnessUtxo)a=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:l,type:f}=IS(a.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(f)>=0)o=s.hashForWitnessV0(t,l,a.value,u);else if((0,Xs.isP2WPKH)(l)){let c=Hc.p2pkh({hash:l.slice(2)}).output;o=s.hashForWitnessV0(t,c,a.value,u)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${l.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),o=s.hashForSignature(t,l,u)}return{script:l,sighashType:u,hash:o}}function J5e(t,e,r,n){let i=[];if(e.tapInternalKey){let u=(0,Rn.tweakInternalPubKey)(t,e);i.push(u)}if(e.tapScriptSig){let u=e.tapScriptSig.map(o=>o.pubkey);i.push(...u)}return i.map(u=>JP(t,e,r,u,n)).flat()}function JP(t,e,r,n,i,s,u){let o=i.__TX,a=e.sighashType||Fi.Transaction.SIGHASH_DEFAULT;cK(a,u);let l=r.map((p,m)=>hK(m,p,i)),f=l.map(p=>p.script),c=l.map(p=>p.value),h=[];if(e.tapInternalKey&&!s){let p=(0,Rn.tweakInternalPubKey)(t,e);if((0,Rn.toXOnly)(n).equals(p)){let m=o.hashForWitnessV1(t,f,c,a);h.push({pubkey:n,hash:m})}}let d=(e.tapLeafScript||[]).map(p=>{let m=(0,L5e.tapleafHash)({output:p.script,version:p.leafVersion});return Object.assign({hash:m},p)}).filter(p=>!s||s.equals(p.hash)).map(p=>{let m=o.hashForWitnessV1(t,f,c,Fi.Transaction.SIGHASH_DEFAULT,p.hash);return{pubkey:n,hash:m,leafHash:p.hash}});return h.concat(d)}function cK(t,e){if(e&&e.indexOf(t)<0){let r=r2e(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function Q5e(t,e,r){let n;switch(e){case"multisig":let i=t2e(t,r);n=Hc.p2ms({output:t,signatures:i});break;case"pubkey":n=Hc.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Hc.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Hc.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function e2e(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=xS(r,e,t),u=n.ins[t].index;i.script=s.outs[u].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,Xs.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function nK(t,e,r){let n=(0,Io.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(u=>{if(u.masterFingerprint.equals(r.fingerprint))return u}).filter(u=>!!u);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(u=>{let o=r.derivePath(u.path);if(!u.pubkey.equals(o.publicKey))throw new Error("pubkey did not match bip32Derivation");return o})}function t2e(t,e){return Hc.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function fK(t){let e=0;function r(u){return e+=u,t.slice(e-u,e)}function n(){let u=Xj.decode(t,e);return e+=Xj.decode.bytes,u}function i(){return r(n())}function s(){let u=n(),o=[];for(let a=0;a<u;a++)o.push(i());return o}return s()}function r2e(t){let e=t&Fi.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Fi.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Fi.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Fi.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function QP(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Fi.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let u=i.__NON_WITNESS_UTXO_BUF_CACHE[s],o=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(u!==void 0)return u;{let a=o.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=a,a}},set(u){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=u}})}function lK(t,e,r,n){let i=0;t.forEach((a,l)=>{if(n&&a.finalScriptSig&&(e.ins[l].script=a.finalScriptSig),n&&a.finalScriptWitness&&(e.ins[l].witness=fK(a.finalScriptWitness)),a.witnessUtxo)i+=a.witnessUtxo.value;else if(a.nonWitnessUtxo){let f=xS(r,a,l),c=e.ins[l].index;i+=f.outs[c].value}});let s=e.outs.reduce((a,l)=>a+l.value,0),u=i-s;if(u<0)throw new Error("Outputs are spending more than Inputs");let o=e.virtualSize();r.__FEE=u,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(u/o)}function xS(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||QP(t,e,r),n[r]}function dK(t,e,r){let{script:n}=hK(t,e,r);return n}function hK(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=xS(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function n2e(t,e,r,n){let i=dK(r,e,n),{meaningfulScript:s}=IS(i,r,"input",e.redeemScript,e.witnessScript);return(0,Xs.pubkeyInScript)(t,s)}function i2e(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=IS(i,r,"output",e.redeemScript,e.witnessScript);return(0,Xs.pubkeyInScript)(t,s)}function s2e(t){if(!t)return;let e=Md.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!I.Buffer.isBuffer(r)||pK(r)||a2e(r)||!Md.decompile(r)))return r}function u2e(t){if(!t)return;let e=fK(t),r=e[e.length-1];if(!(pK(r)||!Md.decompile(r)))return r}function o2e(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function pK(t){return t.length===33&&Md.isCanonicalPubKey(t)}function a2e(t){return Md.isCanonicalScriptSignature(t)}function IS(t,e,r,n,i){let s=(0,Xs.isP2SHScript)(t),u=s&&n&&(0,Xs.isP2WSHScript)(n),o=(0,Xs.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((o||u)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let a;return u?(a=i,eK(e,t,n,r),tK(e,n,i,r),TS(a)):o?(a=i,tK(e,t,i,r),TS(a)):s?(a=n,eK(e,t,n,r)):a=t,{meaningfulScript:a,type:u?"p2sh-p2wsh":s?"p2sh":o?"p2wsh":"raw"}}function TS(t){if((0,Xs.isP2WPKH)(t)||(0,Xs.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function bK(t){return(0,Xs.isP2WPKH)(t)?"witnesspubkeyhash":(0,Xs.isP2PKH)(t)?"pubkeyhash":(0,Xs.isP2MS)(t)?"multisig":(0,Xs.isP2PK)(t)?"pubkey":"nonstandard"}function iy(t){return[...Array(t).keys()]}});var uO=$(Rt=>{"use strict";B();k();var c2e=Rt&&Rt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f2e=Rt&&Rt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yK=Rt&&Rt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&c2e(e,t,r);return f2e(e,t),e};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.generateMPCSignedPSBT=Rt.generateMPCUnsignedPSBT=Rt.generateMPCSignedBuyingTx=Rt.generateMPCUnsignedBuyingPSBT=Rt.generateMPCSignedListingPSBT=Rt.generateMPCUnsignedListingPSBT=Rt.generateSignedBuyingTx=Rt.mergeSignedBuyingPsbt=Rt.generateUnsignedBuyingPsbt=Rt.generateSignedListingPsbt=Rt.generateUnsignedListingPsbt=Rt.extractPsbtTransaction=Rt.psbtSignImpl=Rt.signPsbtWithKeyPathAndScriptPathImpl=Rt.signPsbtWithKeyPathAndScriptPath=Rt.signPsbtWithKeyPathAndScriptPathBatch=Rt.psbtDecode=Rt.psbtSign=Rt.classicToPsbt=Rt.buildPsbt=void 0;var sa=PS(),ur=yn(),Wi=qa(),lr=xo(),Ip=yK(ul()),of=XP(),l2e=h2(),d2e=bp(),gK=O6(),tO=yK(as()),h2e=Eu(),p2e=Ua(),oy=ur.signUtil.schnorr.secp256k1.schnorr,ay=5e3;function rO(t,e,r){return vK(t,e,r).toHex()}Rt.buildPsbt=rO;function vK(t,e,r){let n=new sa.Psbt({network:e,maximumFeeRate:r||ay});return t.inputs.forEach(i=>{let s=(0,l2e.toOutputScript)(i.address,e),u={hash:i.txId,index:i.vOut,witnessUtxo:{script:s,value:i.amount}},o=(0,Wi.getAddressType)(i.address,e||lr.networks.bitcoin);i.bip32Derivation&&(o==="segwit_taproot"?u.tapBip32Derivation=i.bip32Derivation.map(a=>{let l=ur.base.fromHex(a.pubkey);return l.length!=32&&(l=l.slice(1)),{masterFingerprint:ur.base.fromHex(a.masterFingerprint),pubkey:l,path:a.path,leafHashes:a.leafHashes.map(f=>I.Buffer.from(f,"hex"))}}):u.bip32Derivation=i.bip32Derivation.map(a=>({masterFingerprint:ur.base.fromHex(a.masterFingerprint),pubkey:ur.base.fromHex(a.pubkey),path:a.path}))),o==="legacy"?u.nonWitnessUtxo=ur.base.fromHex(i.nonWitnessUtxo):o==="segwit_taproot"?i.publicKey&&(u.tapInternalKey=(0,of.toXOnly)(ur.base.fromHex(i.publicKey))):o==="segwit_nested"&&(u.redeemScript=lr.payments.p2wpkh({pubkey:I.Buffer.from(i.publicKey,"hex"),network:e}).output),i.sighashType&&(u.sighashType=i.sighashType),n.addInput(u)}),t.outputs.forEach(i=>{if(i.omniScript)n.addOutput({script:ur.base.fromHex(i.omniScript),value:0});else{let s={address:i.address,value:i.amount};i.bip32Derivation&&(s.bip32Derivation=i.bip32Derivation.map(u=>({masterFingerprint:ur.base.fromHex(u.masterFingerprint),pubkey:ur.base.fromHex(u.pubkey),path:u.path}))),n.addOutput(s)}}),n}Rt.classicToPsbt=vK;function nO(t,e,r,n){let i=sa.Psbt.fromBase64(t,{network:r,maximumFeeRate:n||ay});return wK(i,e,r),i.toBase64()}Rt.psbtSign=nO;function b2e(t,e,r){try{let n=sa.Psbt.fromHex(t,{network:e,maximumFeeRate:r||ay});return n.txInputs?n.txInputs.filter(i=>!i.hash.equals(I.Buffer.alloc(32))).map(i=>({txId:ur.base.toHex(ur.base.reverseBuffer(i.hash)),vOut:i.index})):[]}catch{let i=sa.Psbt.fromBase64(t,{network:e,maximumFeeRate:r||ay});return i.txInputs?i.txInputs.filter(s=>!s.hash.equals(I.Buffer.alloc(32))).map(s=>({txId:ur.base.toHex(ur.base.reverseBuffer(s.hash)),vOut:s.index})):[]}}Rt.psbtDecode=b2e;function g2e(t,e,r,n){if(t==null||t.length==0)return[];let i=[],s=n==null?0:n.length,u=0;for(u=0;u<t.length;u++){let o={};u<s&&n&&(o=n[u]);let a=SK(t[u],e,r,{autoFinalized:o.autoFinalized,toSignInputs:o.toSignInputs});i.push(a)}return i}Rt.signPsbtWithKeyPathAndScriptPathBatch=g2e;function SK(t,e,r,n={}){let i=sO(t,r);return _K(i,e,r,n.autoFinalized,n.toSignInputs),i.toHex()}Rt.signPsbtWithKeyPathAndScriptPath=SK;function _K(t,e,r,n,i){r=r||lr.networks.bitcoin;let s=(0,Wi.privateKeyFromWIF)(e,r),u=new Map;i?.map(c=>{u.set(c.index,c)});let o={psbtIndex:0,needTweak:!0,tweakHash:I.Buffer.alloc(0),toSignInputsMap:u,publicKey:I.Buffer.alloc(0),sign(c){return(0,Wi.sign)(c,s)},signSchnorr(c){let h=Ip.taprootTweakPrivKey(ur.base.fromHex(s));return this.toSignInputsMap?.has(this.psbtIndex)&&this.toSignInputsMap.get(this.psbtIndex)?.disableTweakSigner?I.Buffer.from(oy.sign(c,s,ur.base.randomBytes(32))):this.needTweak?(this.needTweak&&this.tweakHash.length>0&&(h=Ip.taprootTweakPrivKey(ur.base.fromHex(s),this.tweakHash)),I.Buffer.from(oy.sign(c,h,ur.base.randomBytes(32)))):I.Buffer.from(oy.sign(c,s,ur.base.randomBytes(32)))}},a=[lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY,lr.Transaction.SIGHASH_ALL,lr.Transaction.SIGHASH_DEFAULT],l=()=>({psbtIndex:0,needTweak:!0,tweakHash:I.Buffer.alloc(0),toSignInputsMap:u,publicKey:I.Buffer.alloc(0),getPrivateKey(){let c=ur.base.fromHex(s);return this.needTweak&&(c=I.Buffer.from(Ip.taprootTweakPrivKey(c,this.tweakHash))),c},sign(c){return(0,Wi.sign)(c,this.getPrivateKey().toString("hex"))},signSchnorr(c){return I.Buffer.from(oy.sign(c,this.getPrivateKey(),ur.base.randomBytes(32)))}}),f=()=>[lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY,lr.Transaction.SIGHASH_ALL,lr.Transaction.SIGHASH_DEFAULT];for(let c=0;c<t.inputCount;c++)if(!(u?.size>0&&!u?.has(c)))if(u?.get(c)?.useTweakSigner!==void 0){let h=t.data.inputs[c],d,p=l(),m=f();p.psbtIndex=c,p.publicKey=(0,Wi.wif2Public)(e,r);let w=u.get(c);w.sighashTypes!==void 0&&(m=w.sighashTypes),p.needTweak=w.useTweakSigner,p.needTweak&&(p.publicKey=I.Buffer.from(Ip.taprootTweakPubkey((0,of.toXOnly)((0,Wi.wif2Public)(e,r)),p.tweakHash)[0])),(0,of.isTaprootInput)(h)&&(!h.tapInternalKey&&!h.tapLeafScript&&(h.tapInternalKey=(0,of.toXOnly)((0,Wi.wif2Public)(e,r))),w.tapLeafHashToSign!==void 0&&(d=I.Buffer.from(w.tapLeafHashToSign,"hex")));try{if(t.signInput(c,p,m,d),n!=null&&!n)continue;t.finalizeInput(c)}catch(x){throw x}}else{o.psbtIndex=c;let h=t.data.inputs[c];(0,of.isTaprootInput)(h)?(h.tapInternalKey||(h.tapInternalKey=(0,of.toXOnly)((0,Wi.wif2Public)(e,r))),o.needTweak=!0,o.publicKey=I.Buffer.from(Ip.taprootTweakPubkey((0,of.toXOnly)((0,Wi.wif2Public)(e,r)))[0]),u?.has(c)&&u?.get(c)?.disableTweakSigner&&(o.publicKey=(0,Wi.wif2Public)(e,r),o.needTweak=!1),h.tapLeafScript&&h.tapLeafScript?.length>0&&!h.tapMerkleRoot?h.tapLeafScript.map(d=>{d.controlBlock&&d.script&&(o.publicKey=(0,Wi.wif2Public)(e,r),o.needTweak=!1)}):h.tapMerkleRoot&&(o.needTweak=!0,o.tweakHash=h.tapMerkleRoot,o.publicKey=I.Buffer.from(Ip.taprootTweakPubkey((0,of.toXOnly)((0,Wi.wif2Public)(e,r)),h.tapMerkleRoot)[0]))):(o.needTweak=!1,o.tweakHash=I.Buffer.alloc(0),o.publicKey=(0,Wi.wif2Public)(e,r));try{if(u?.has(c)){let d=u?.get(c)?.sighashTypes;d!=null&&(a=d)}if(t.signInput(c,o,a),n!=null&&!n)continue;t.finalizeInput(c)}catch(d){if(u?.size>0&&u?.has(c))throw d}}}Rt.signPsbtWithKeyPathAndScriptPathImpl=_K;function wK(t,e,r){r=r||lr.networks.bitcoin;let n=(0,Wi.privateKeyFromWIF)(e,r),i={publicKey:I.Buffer.alloc(0),sign(u){return(0,Wi.sign)(u,n)},signSchnorr(u){let o=Ip.taprootTweakPrivKey(ur.base.fromHex(n));return I.Buffer.from(oy.sign(u,o,ur.base.randomBytes(32)))}},s=[lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY,lr.Transaction.SIGHASH_ALL|lr.Transaction.SIGHASH_ANYONECANPAY,lr.Transaction.SIGHASH_ALL,lr.Transaction.SIGHASH_DEFAULT];for(let u=0;u<t.inputCount;u++){if((0,of.isTaprootInput)(t.data.inputs[u])){let o=t.data.inputs[u];o.tapInternalKey||(o.tapInternalKey=(0,of.toXOnly)((0,Wi.wif2Public)(e,r))),i.publicKey=I.Buffer.from(Ip.taprootTweakPubkey((0,of.toXOnly)((0,Wi.wif2Public)(e,r)))[0])}else i.publicKey=(0,Wi.wif2Public)(e,r);try{t.signInput(u,i,s)}catch{}}}Rt.psbtSignImpl=wK;function iO(t,e,r){let n=sa.Psbt.fromHex(t,{network:e,maximumFeeRate:r||ay}),i;try{i=n.finalizeAllInputs().extractTransaction()}catch(s){i=n.extractTransaction(),console.log(s)}return i.toHex()}Rt.extractPsbtTransaction=iO;function EK(t,e,r){let n=lr.address.toOutputScript(t.nftAddress,e);if(((0,gK.isP2SHScript)(n)||(0,gK.isP2TR)(n))&&!r)throw new Error("Missing publicKey");let i={inputs:[],outputs:[]},s="bc1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6sw3rzmr";e===lr.networks.testnet&&(s="tb1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6see4dpv"),i.inputs.push({txId:"0".repeat(64),vOut:0,amount:0,address:s},{txId:"0".repeat(64),vOut:1,amount:0,address:s}),i.outputs.push({address:s,amount:0},{address:s,amount:0}),i.inputs.push({txId:t.nftUtxo.txHash,vOut:t.nftUtxo.vout,address:t.nftAddress,amount:t.nftUtxo.coinAmount,publicKey:r,nonWitnessUtxo:t.nftUtxo.rawTransation,sighashType:lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY}),i.outputs.push({address:t.receiveBtcAddress,amount:t.price});let u=rO(i,e);return ur.base.toBase64(ur.base.fromHex(u))}Rt.generateUnsignedListingPsbt=EK;function m2e(t,e,r){let n=ur.base.toHex((0,Wi.wif2Public)(e,r));return nO(EK(t,r,n),e,r)}Rt.generateSignedListingPsbt=m2e;var Pp=2,y2e=600,v2e=546;function AK(t,e,r){let n={inputs:[],outputs:[],address:t.paymentAndChangeAddress,feePerB:t.feeRate};t.dummyUtxos.forEach(u=>{n.inputs.push({txId:u.txHash,vOut:u.vout,address:t.paymentAndChangeAddress,amount:u.coinAmount,publicKey:r,nonWitnessUtxo:u.rawTransation})}),n.outputs.push({address:t.paymentAndChangeAddress,amount:t.dummyUtxos.reduce((u,o)=>u+o.coinAmount,0)});let i=[];t.sellerPsbts.forEach(u=>{let o=sa.Psbt.fromBase64(u,{network:e}),a=o.data.globalMap.unsignedTx.tx.ins[Pp];i.push(o.data.globalMap.unsignedTx.tx.outs[Pp]);let l=o.data.inputs[Pp].witnessUtxo;l||(l=lr.Transaction.fromBuffer(o.data.inputs[Pp].nonWitnessUtxo).outs[a.index]),n.inputs.push({txId:ur.base.toHex((0,d2e.reverseBuffer)(a.hash)),vOut:a.index,address:lr.address.fromOutputScript(l.script,e),amount:l.value,sighashType:lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY}),n.outputs.push({address:t.receiveNftAddress,amount:l.value})}),i.forEach(u=>{n.outputs.push({address:lr.address.fromOutputScript(u.script,e),amount:u.value})}),t.paymentUtxos.forEach(u=>{n.inputs.push({txId:u.txHash,vOut:u.vout,address:t.paymentAndChangeAddress,amount:u.coinAmount,publicKey:r,nonWitnessUtxo:u.rawTransation})}),t.dummyUtxos.forEach(()=>{n.outputs.push({address:t.paymentAndChangeAddress,amount:y2e})});let s=parseInt((0,Wi.signBtc)(n,"",e,void 0,!1,!0));return s>=v2e&&n.outputs.push({address:t.paymentAndChangeAddress,amount:s}),ur.base.toBase64(ur.base.fromHex(rO(n,e)))}Rt.generateUnsignedBuyingPsbt=AK;function TK(t,e){let r=sa.Psbt.fromBase64(t),n=e.length+1;return e.forEach((i,s)=>{let u=sa.Psbt.fromBase64(i);r.data.globalMap.unsignedTx.tx.ins[n+s]=u.data.globalMap.unsignedTx.tx.ins[Pp],r.data.inputs[n+s]=u.data.inputs[Pp]}),r}Rt.mergeSignedBuyingPsbt=TK;function S2e(t,e,r){let n=ur.base.toHex((0,Wi.wif2Public)(e,r)),i=nO(AK(t,r,n),e,r);return iO(TK(i,t.sellerPsbts).toHex(),r)}Rt.generateSignedBuyingTx=S2e;function _2e(t,e,r){let n=sa.Psbt.fromBase64(t,{network:r}),i=ur.base.fromHex(e),s=[lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY],u=[];for(let o=0;o<n.inputCount;o++){if(o!=Pp)continue;let{hash:a,sighashType:l}=n.getHashAndSighashType(o,i,s);u.push(ur.base.toHex(a))}return{psbtBase64:t,signHashList:u}}Rt.generateMPCUnsignedListingPSBT=_2e;function w2e(t,e,r,n){let i=sa.Psbt.fromBase64(t,{network:n}),u=[{pubkey:ur.base.fromHex(e),signature:tO.signature.encode(ur.base.fromHex(r),lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY)}];return i.data.updateInput(Pp,{partialSig:u}),i.toBase64()}Rt.generateMPCSignedListingPSBT=w2e;function E2e(t,e,r,n=1){let i=sa.Psbt.fromBase64(t,{network:r}),s=ur.base.fromHex(e),u=[lr.Transaction.SIGHASH_ALL],o=[],a=n+1;for(let l=0;l<i.inputCount;l++){if(l>=a&&l<a+n)continue;let{hash:f,sighashType:c}=i.getHashAndSighashType(l,s,u);o.push(ur.base.toHex(f))}return{psbtBase64:t,signHashList:o}}Rt.generateMPCUnsignedBuyingPSBT=E2e;function A2e(t,e,r,n,i=1){let s=sa.Psbt.fromBase64(t,{network:n}),u=ur.base.fromHex(e),o=i+1;for(let a=0;a<s.inputCount;a++){if(a>=o&&a<o+i)continue;let l=[{pubkey:u,signature:tO.signature.encode(ur.base.fromHex(r[a]),lr.Transaction.SIGHASH_ALL)}];s.data.updateInput(a,{partialSig:l})}return iO(s.toHex(),n)}Rt.generateMPCSignedBuyingTx=A2e;function xK(t,e,r){let n=sO(t,r),i=ur.base.fromHex(e),s=[lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY,lr.Transaction.SIGHASH_SINGLE|lr.Transaction.SIGHASH_ANYONECANPAY,lr.Transaction.SIGHASH_ALL|lr.Transaction.SIGHASH_ANYONECANPAY,lr.Transaction.SIGHASH_ALL,lr.Transaction.SIGHASH_DEFAULT],u=[];for(let a=0;a<n.inputCount;a++)try{let{hash:l,sighashType:f}=n.getHashAndSighashType(a,i,s);u.push(ur.base.toHex(l))}catch{let f=mK();u.push(f)}let o=new Map;return u.map((a,l)=>{let f=o.get(a);f=f??0,f!=null&&f>=1&&(u[l]=mK()),o.set(a,f+1)}),{psbtStr:t,signHashList:u}}Rt.generateMPCUnsignedPSBT=xK;function mK(){let t=(0,h2e.sha256)((0,p2e.randomBytes)(32)),e=ur.base.toHex(t.slice(0,28));return"ffffffff"+e}function T2e(t,e,r,n){let i=sO(t,n),s=ur.base.fromHex(e),u=lr.Transaction.SIGHASH_ALL,a=xK(t,e,n).signHashList;for(let l=0;l<i.inputCount;l++){if(a[l].slice(0,8)=="ffffffff")continue;i.data.inputs[l].sighashType!=null&&(u=i.data.inputs[l].sighashType);let f=[{pubkey:s,signature:tO.signature.encode(ur.base.fromHex(r[l]),u)}];try{i.data.updateInput(l,{partialSig:f})}catch{}}return i.toHex()}Rt.generateMPCSignedPSBT=T2e;function sO(t,e){let r;return ur.base.isHexString("0x"+t)?r=sa.Psbt.fromHex(t,{network:e}):r=sa.Psbt.fromBase64(t,{network:e}),r}});var FK=$(S2=>{"use strict";B();k();Object.defineProperty(S2,"__esModule",{value:!0});S2.verifySimple=S2.signSimple=void 0;var v2=yn(),PK=h2(),OK=wp(),BK=PS(),IK=bP(),x2e=uO(),I2e=qa(),kK=O6();function CK(t){let e="BIP0322-signed-message",r=v2.base.sha256(I.Buffer.from(e)),n=v2.base.sha256(I.Buffer.concat([r,r,I.Buffer.from(t)]));return v2.base.toHex(n)}async function P2e(t,e,r,n){let i=(0,PK.toOutputScript)(e,n),s=I.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),u=4294967295,o=0,a=I.Buffer.concat([I.Buffer.from("0020","hex"),I.Buffer.from(CK(t),"hex")]),l=new OK.Transaction;l.version=0,l.addInput(s,u,o,a),l.addOutput(i,0);let f=new BK.Psbt({network:n});f.setVersion(0),f.addInput({hash:l.getHash(),index:0,sequence:0,witnessUtxo:{script:i,value:0}}),(0,kK.isP2TR)(i)&&f.updateInput(0,{tapInternalKey:(0,I2e.wif2Public)(r,n).slice(1)}),f.addOutput({script:I.Buffer.from("6a","hex"),value:0}),(0,x2e.psbtSignImpl)(f,r,n),f.finalizeAllInputs();let c=f.extractTransaction();function h(m){return I.Buffer.concat([(0,IK.encode)(m.byteLength),m])}let d=(0,IK.encode)(c.ins[0].witness.length),p=I.Buffer.concat([d,...c.ins[0].witness.map(m=>h(m))]);return v2.base.toBase64(p)}S2.signSimple=P2e;function O2e(t,e,r,n,i){let s=(0,PK.toOutputScript)(e,i),u=I.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),o=4294967295,a=0,l=I.Buffer.concat([I.Buffer.from("0020","hex"),I.Buffer.from(CK(t),"hex")]),f=new OK.Transaction;f.version=0,f.addInput(u,o,a,l),f.addOutput(s,0);let c=new BK.Psbt;c.setVersion(0),c.addInput({hash:f.getHash(),index:0,sequence:0,witnessUtxo:{script:s,value:0}});let h=v2.base.fromHex(n);return(0,kK.isP2TR)(s)&&c.updateInput(0,{tapInternalKey:h.slice(1)}),c.addOutput({script:I.Buffer.from("6a","hex"),value:0}),c.verify(h,I.Buffer.from(v2.base.fromBase64(r)))}S2.verifySimple=O2e});var xo=$(Mn=>{"use strict";B();k();var B2e=Mn&&Mn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k2e=Mn&&Mn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B6=Mn&&Mn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B2e(e,t,r);return k2e(e,t),e};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.BufferWriter=Mn.Transaction=Mn.psbt=Mn.bip0322=Mn.script=Mn.payments=Mn.networks=Mn.crypto=Mn.address=void 0;var C2e=B6(h2());Mn.address=C2e;var F2e=B6(Eu());Mn.crypto=F2e;var R2e=B6($a());Mn.networks=R2e;var M2e=B6(vp());Mn.payments=M2e;var N2e=B6(as());Mn.script=N2e;var D2e=B6(FK());Mn.bip0322=D2e;var H2e=B6(PS());Mn.psbt=H2e;var L2e=wp();Object.defineProperty(Mn,"Transaction",{enumerable:!0,get:function(){return L2e.Transaction}});var U2e=bp();Object.defineProperty(Mn,"BufferWriter",{enumerable:!0,get:function(){return U2e.BufferWriter}})});var BS=$(OS=>{"use strict";B();k();Object.defineProperty(OS,"__esModule",{value:!0});OS.validate=void 0;function $2e(t,e){if(!t)throw new Error(e)}OS.validate=$2e});var NK=$(_2=>{"use strict";B();k();Object.defineProperty(_2,"__esModule",{value:!0});_2.decode=_2.encode=void 0;var MK=BS(),q2e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",RK={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};function j2e(t){for(var e="",r=0;r<t.length;++r){var n=t[r];(0,MK.validate)(0<=n&&n<32,"Invalid value: "+n+"."),e+=q2e[n]}return e}_2.encode=j2e;function K2e(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var n=t[r];(0,MK.validate)(n in RK,"Invalid value: "+n+"."),e[r]=RK[n]}return e}_2.decode=K2e});var DK=$((wit,kS)=>{B();k();var hs=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=f(n),s=Math.log(n);function u(q,X){return typeof q>"u"?u[0]:typeof X<"u"?+X==10?De(q):we(q,X):De(q)}function o(q,X){this.value=q,this.sign=X,this.isSmall=!1}o.prototype=Object.create(u.prototype);function a(q){this.value=q,this.sign=q<0,this.isSmall=!0}a.prototype=Object.create(u.prototype);function l(q){return-n<q&&q<n}function f(q){return q<1e7?[q]:q<1e14?[q%1e7,Math.floor(q/1e7)]:[q%1e7,Math.floor(q/1e7)%1e7,Math.floor(q/1e14)]}function c(q){h(q);var X=q.length;if(X<4&&C(q,i)<0)switch(X){case 0:return 0;case 1:return q[0];case 2:return q[0]+q[1]*e;default:return q[0]+(q[1]+q[2]*e)*e}return q}function h(q){for(var X=q.length;q[--X]===0;);q.length=X+1}function d(q){for(var X=new Array(q),z=-1;++z<q;)X[z]=0;return X}function p(q){return q>0?Math.floor(q):Math.ceil(q)}function m(q,X){var z=q.length,V=X.length,re=new Array(z),Q=0,ne=e,be,ie;for(ie=0;ie<V;ie++)be=q[ie]+X[ie]+Q,Q=be>=ne?1:0,re[ie]=be-Q*ne;for(;ie<z;)be=q[ie]+Q,Q=be===ne?1:0,re[ie++]=be-Q*ne;return Q>0&&re.push(Q),re}function w(q,X){return q.length>=X.length?m(q,X):m(X,q)}function x(q,X){var z=q.length,V=new Array(z),re=e,Q,ne;for(ne=0;ne<z;ne++)Q=q[ne]-re+X,X=Math.floor(Q/re),V[ne]=Q-X*re,X+=1;for(;X>0;)V[ne++]=X%re,X=Math.floor(X/re);return V}o.prototype.add=function(q){var X=De(q);if(this.sign!==X.sign)return this.subtract(X.negate());var z=this.value,V=X.value;return X.isSmall?new o(x(z,Math.abs(V)),this.sign):new o(w(z,V),this.sign)},o.prototype.plus=o.prototype.add,a.prototype.add=function(q){var X=De(q),z=this.value;if(z<0!==X.sign)return this.subtract(X.negate());var V=X.value;if(X.isSmall){if(l(z+V))return new a(z+V);V=f(Math.abs(V))}return new o(x(V,Math.abs(z)),z<0)},a.prototype.plus=a.prototype.add;function _(q,X){var z=q.length,V=X.length,re=new Array(z),Q=0,ne=e,be,ie;for(be=0;be<V;be++)ie=q[be]-Q-X[be],ie<0?(ie+=ne,Q=1):Q=0,re[be]=ie;for(be=V;be<z;be++){if(ie=q[be]-Q,ie<0)ie+=ne;else{re[be++]=ie;break}re[be]=ie}for(;be<z;be++)re[be]=q[be];return h(re),re}function y(q,X,z){var V;return C(q,X)>=0?V=_(q,X):(V=_(X,q),z=!z),V=c(V),typeof V=="number"?(z&&(V=-V),new a(V)):new o(V,z)}function S(q,X,z){var V=q.length,re=new Array(V),Q=-X,ne=e,be,ie;for(be=0;be<V;be++)ie=q[be]+Q,Q=Math.floor(ie/ne),ie%=ne,re[be]=ie<0?ie+ne:ie;return re=c(re),typeof re=="number"?(z&&(re=-re),new a(re)):new o(re,z)}o.prototype.subtract=function(q){var X=De(q);if(this.sign!==X.sign)return this.add(X.negate());var z=this.value,V=X.value;return X.isSmall?S(z,Math.abs(V),this.sign):y(z,V,this.sign)},o.prototype.minus=o.prototype.subtract,a.prototype.subtract=function(q){var X=De(q),z=this.value;if(z<0!==X.sign)return this.add(X.negate());var V=X.value;return X.isSmall?new a(z-V):S(V,Math.abs(z),z>=0)},a.prototype.minus=a.prototype.subtract,o.prototype.negate=function(){return new o(this.value,!this.sign)},a.prototype.negate=function(){var q=this.sign,X=new a(-this.value);return X.sign=!q,X},o.prototype.abs=function(){return new o(this.value,!1)},a.prototype.abs=function(){return new a(Math.abs(this.value))};function F(q,X){var z=q.length,V=X.length,re=z+V,Q=d(re),ne=e,be,ie,ye,Oe,xe;for(ye=0;ye<z;++ye){Oe=q[ye];for(var Te=0;Te<V;++Te)xe=X[Te],be=Oe*xe+Q[ye+Te],ie=Math.floor(be/ne),Q[ye+Te]=be-ie*ne,Q[ye+Te+1]+=ie}return h(Q),Q}function N(q,X){var z=q.length,V=new Array(z),re=e,Q=0,ne,be;for(be=0;be<z;be++)ne=q[be]*X+Q,Q=Math.floor(ne/re),V[be]=ne-Q*re;for(;Q>0;)V[be++]=Q%re,Q=Math.floor(Q/re);return V}function H(q,X){for(var z=[];X-- >0;)z.push(0);return z.concat(q)}function D(q,X){var z=Math.max(q.length,X.length);if(z<=30)return F(q,X);z=Math.ceil(z/2);var V=q.slice(z),re=q.slice(0,z),Q=X.slice(z),ne=X.slice(0,z),be=D(re,ne),ie=D(V,Q),ye=D(w(re,V),w(ne,Q)),Oe=w(w(be,H(_(_(ye,be),ie),z)),H(ie,2*z));return h(Oe),Oe}function L(q,X){return-.012*q-.012*X+15e-6*q*X>0}o.prototype.multiply=function(q){var X=De(q),z=this.value,V=X.value,re=this.sign!==X.sign,Q;if(X.isSmall){if(V===0)return u[0];if(V===1)return this;if(V===-1)return this.negate();if(Q=Math.abs(V),Q<e)return new o(N(z,Q),re);V=f(Q)}return L(z.length,V.length)?new o(D(z,V),re):new o(F(z,V),re)},o.prototype.times=o.prototype.multiply;function P(q,X,z){return q<e?new o(N(X,q),z):new o(F(X,f(q)),z)}a.prototype._multiplyBySmall=function(q){return l(q.value*this.value)?new a(q.value*this.value):P(Math.abs(q.value),f(Math.abs(this.value)),this.sign!==q.sign)},o.prototype._multiplyBySmall=function(q){return q.value===0?u[0]:q.value===1?this:q.value===-1?this.negate():P(Math.abs(q.value),this.value,this.sign!==q.sign)},a.prototype.multiply=function(q){return De(q)._multiplyBySmall(this)},a.prototype.times=a.prototype.multiply;function A(q){var X=q.length,z=d(X+X),V=e,re,Q,ne,be,ie;for(ne=0;ne<X;ne++){be=q[ne],Q=0-be*be;for(var ye=ne;ye<X;ye++)ie=q[ye],re=2*(be*ie)+z[ne+ye]+Q,Q=Math.floor(re/V),z[ne+ye]=re-Q*V;z[ne+X]=Q}return h(z),z}o.prototype.square=function(){return new o(A(this.value),!1)},a.prototype.square=function(){var q=this.value*this.value;return l(q)?new a(q):new o(A(f(Math.abs(this.value))),!1)};function b(q,X){var z=q.length,V=X.length,re=e,Q=d(X.length),ne=X[V-1],be=Math.ceil(re/(2*ne)),ie=N(q,be),ye=N(X,be),Oe,xe,Te,kt,ot,rt,hn;for(ie.length<=z&&ie.push(0),ye.push(0),ne=ye[V-1],xe=z-V;xe>=0;xe--){for(Oe=re-1,ie[xe+V]!==ne&&(Oe=Math.floor((ie[xe+V]*re+ie[xe+V-1])/ne)),Te=0,kt=0,rt=ye.length,ot=0;ot<rt;ot++)Te+=Oe*ye[ot],hn=Math.floor(Te/re),kt+=ie[xe+ot]-(Te-hn*re),Te=hn,kt<0?(ie[xe+ot]=kt+re,kt=-1):(ie[xe+ot]=kt,kt=0);for(;kt!==0;){for(Oe-=1,Te=0,ot=0;ot<rt;ot++)Te+=ie[xe+ot]-re+ye[ot],Te<0?(ie[xe+ot]=Te+re,Te=0):(ie[xe+ot]=Te,Te=1);kt+=Te}Q[xe]=Oe}return ie=v(ie,be)[0],[c(Q),c(ie)]}function g(q,X){for(var z=q.length,V=X.length,re=[],Q=[],ne=e,be,ie,ye,Oe,xe;z;){if(Q.unshift(q[--z]),h(Q),C(Q,X)<0){re.push(0);continue}ie=Q.length,ye=Q[ie-1]*ne+Q[ie-2],Oe=X[V-1]*ne+X[V-2],ie>V&&(ye=(ye+1)*ne),be=Math.ceil(ye/Oe);do{if(xe=N(X,be),C(xe,Q)<=0)break;be--}while(be);re.push(be),Q=_(Q,xe)}return re.reverse(),[c(re),c(Q)]}function v(q,X){var z=q.length,V=d(z),re=e,Q,ne,be,ie;for(be=0,Q=z-1;Q>=0;--Q)ie=be*re+q[Q],ne=p(ie/X),be=ie-ne*X,V[Q]=ne|0;return[V,be|0]}function E(q,X){var z,V=De(X),re=q.value,Q=V.value,ne;if(Q===0)throw new Error("Cannot divide by zero");if(q.isSmall)return V.isSmall?[new a(p(re/Q)),new a(re%Q)]:[u[0],q];if(V.isSmall){if(Q===1)return[q,u[0]];if(Q==-1)return[q.negate(),u[0]];var be=Math.abs(Q);if(be<e){z=v(re,be),ne=c(z[0]);var ie=z[1];return q.sign&&(ie=-ie),typeof ne=="number"?(q.sign!==V.sign&&(ne=-ne),[new a(ne),new a(ie)]):[new o(ne,q.sign!==V.sign),new a(ie)]}Q=f(be)}var ye=C(re,Q);if(ye===-1)return[u[0],q];if(ye===0)return[u[q.sign===V.sign?1:-1],u[0]];re.length+Q.length<=200?z=b(re,Q):z=g(re,Q),ne=z[0];var Oe=q.sign!==V.sign,xe=z[1],Te=q.sign;return typeof ne=="number"?(Oe&&(ne=-ne),ne=new a(ne)):ne=new o(ne,Oe),typeof xe=="number"?(Te&&(xe=-xe),xe=new a(xe)):xe=new o(xe,Te),[ne,xe]}o.prototype.divmod=function(q){var X=E(this,q);return{quotient:X[0],remainder:X[1]}},a.prototype.divmod=o.prototype.divmod,o.prototype.divide=function(q){return E(this,q)[0]},a.prototype.over=a.prototype.divide=o.prototype.over=o.prototype.divide,o.prototype.mod=function(q){return E(this,q)[1]},a.prototype.remainder=a.prototype.mod=o.prototype.remainder=o.prototype.mod,o.prototype.pow=function(q){var X=De(q),z=this.value,V=X.value,re,Q,ne;if(V===0)return u[1];if(z===0)return u[0];if(z===1)return u[1];if(z===-1)return X.isEven()?u[1]:u[-1];if(X.sign)return u[0];if(!X.isSmall)throw new Error("The exponent "+X.toString()+" is too large.");if(this.isSmall&&l(re=Math.pow(z,V)))return new a(p(re));for(Q=this,ne=u[1];V&!0&&(ne=ne.times(Q),--V),V!==0;)V/=2,Q=Q.square();return ne},a.prototype.pow=o.prototype.pow,o.prototype.modPow=function(q,X){if(q=De(q),X=De(X),X.isZero())throw new Error("Cannot take modPow with modulus 0");for(var z=u[1],V=this.mod(X);q.isPositive();){if(V.isZero())return u[0];q.isOdd()&&(z=z.multiply(V).mod(X)),q=q.divide(2),V=V.square().mod(X)}return z},a.prototype.modPow=o.prototype.modPow;function C(q,X){if(q.length!==X.length)return q.length>X.length?1:-1;for(var z=q.length-1;z>=0;z--)if(q[z]!==X[z])return q[z]>X[z]?1:-1;return 0}o.prototype.compareAbs=function(q){var X=De(q),z=this.value,V=X.value;return X.isSmall?1:C(z,V)},a.prototype.compareAbs=function(q){var X=De(q),z=Math.abs(this.value),V=X.value;return X.isSmall?(V=Math.abs(V),z===V?0:z>V?1:-1):-1},o.prototype.compare=function(q){if(q===1/0)return-1;if(q===-1/0)return 1;var X=De(q),z=this.value,V=X.value;return this.sign!==X.sign?X.sign?1:-1:X.isSmall?this.sign?-1:1:C(z,V)*(this.sign?-1:1)},o.prototype.compareTo=o.prototype.compare,a.prototype.compare=function(q){if(q===1/0)return-1;if(q===-1/0)return 1;var X=De(q),z=this.value,V=X.value;return X.isSmall?z==V?0:z>V?1:-1:z<0!==X.sign?z<0?-1:1:z<0?1:-1},a.prototype.compareTo=a.prototype.compare,o.prototype.equals=function(q){return this.compare(q)===0},a.prototype.eq=a.prototype.equals=o.prototype.eq=o.prototype.equals,o.prototype.notEquals=function(q){return this.compare(q)!==0},a.prototype.neq=a.prototype.notEquals=o.prototype.neq=o.prototype.notEquals,o.prototype.greater=function(q){return this.compare(q)>0},a.prototype.gt=a.prototype.greater=o.prototype.gt=o.prototype.greater,o.prototype.lesser=function(q){return this.compare(q)<0},a.prototype.lt=a.prototype.lesser=o.prototype.lt=o.prototype.lesser,o.prototype.greaterOrEquals=function(q){return this.compare(q)>=0},a.prototype.geq=a.prototype.greaterOrEquals=o.prototype.geq=o.prototype.greaterOrEquals,o.prototype.lesserOrEquals=function(q){return this.compare(q)<=0},a.prototype.leq=a.prototype.lesserOrEquals=o.prototype.leq=o.prototype.lesserOrEquals,o.prototype.isEven=function(){return(this.value[0]&1)===0},a.prototype.isEven=function(){return(this.value&1)===0},o.prototype.isOdd=function(){return(this.value[0]&1)===1},a.prototype.isOdd=function(){return(this.value&1)===1},o.prototype.isPositive=function(){return!this.sign},a.prototype.isPositive=function(){return this.value>0},o.prototype.isNegative=function(){return this.sign},a.prototype.isNegative=function(){return this.value<0},o.prototype.isUnit=function(){return!1},a.prototype.isUnit=function(){return Math.abs(this.value)===1},o.prototype.isZero=function(){return!1},a.prototype.isZero=function(){return this.value===0},o.prototype.isDivisibleBy=function(q){var X=De(q),z=X.value;return z===0?!1:z===1?!0:z===2?this.isEven():this.mod(X).equals(u[0])},a.prototype.isDivisibleBy=o.prototype.isDivisibleBy;function R(q){var X=q.abs();if(X.isUnit())return!1;if(X.equals(2)||X.equals(3)||X.equals(5))return!0;if(X.isEven()||X.isDivisibleBy(3)||X.isDivisibleBy(5))return!1;if(X.lesser(49))return!0}function O(q,X){for(var z=q.prev(),V=z,re=0,Q,ne,be,ie;V.isEven();)V=V.divide(2),re++;e:for(be=0;be<X.length;be++)if(!q.lesser(X[be])&&(ie=hs(X[be]).modPow(V,q),!(ie.equals(u[1])||ie.equals(z)))){for(Q=re-1;Q!=0;Q--){if(ie=ie.square().mod(q),ie.isUnit())return!1;if(ie.equals(z))continue e}return!1}return!0}o.prototype.isPrime=function(q){var X=R(this);if(X!==t)return X;var z=this.abs(),V=z.bitLength();if(V<=64)return O(z,[2,325,9375,28178,450775,9780504,1795265022]);for(var re=Math.log(2)*V,Q=Math.ceil(q===!0?2*Math.pow(re,2):re),ne=[],be=0;be<Q;be++)ne.push(hs(be+2));return O(z,ne)},a.prototype.isPrime=o.prototype.isPrime,o.prototype.isProbablePrime=function(q){var X=R(this);if(X!==t)return X;for(var z=this.abs(),V=q===t?5:q,re=[],Q=0;Q<V;Q++)re.push(hs.randBetween(2,z.minus(2)));return O(z,re)},a.prototype.isProbablePrime=o.prototype.isProbablePrime,o.prototype.modInv=function(q){for(var X=hs.zero,z=hs.one,V=De(q),re=this.abs(),Q,ne,be;!re.equals(hs.zero);)Q=V.divide(re),ne=X,be=V,X=z,V=re,z=ne.subtract(Q.multiply(z)),re=be.subtract(Q.multiply(re));if(!V.equals(1))throw new Error(this.toString()+" and "+q.toString()+" are not co-prime");return X.compare(0)===-1&&(X=X.add(q)),this.isNegative()?X.negate():X},a.prototype.modInv=o.prototype.modInv,o.prototype.next=function(){var q=this.value;return this.sign?S(q,1,this.sign):new o(x(q,1),this.sign)},a.prototype.next=function(){var q=this.value;return q+1<n?new a(q+1):new o(i,!1)},o.prototype.prev=function(){var q=this.value;return this.sign?new o(x(q,1),!0):S(q,1,this.sign)},a.prototype.prev=function(){var q=this.value;return q-1>-n?new a(q-1):new o(i,!0)};for(var M=[1];2*M[M.length-1]<=e;)M.push(2*M[M.length-1]);var T=M.length,U=M[T-1];function Y(q){return(typeof q=="number"||typeof q=="string")&&+Math.abs(q)<=e||q instanceof o&&q.value.length<=1}o.prototype.shiftLeft=function(q){if(!Y(q))throw new Error(String(q)+" is too large for shifting.");if(q=+q,q<0)return this.shiftRight(-q);var X=this;if(X.isZero())return X;for(;q>=T;)X=X.multiply(U),q-=T-1;return X.multiply(M[q])},a.prototype.shiftLeft=o.prototype.shiftLeft,o.prototype.shiftRight=function(q){var X;if(!Y(q))throw new Error(String(q)+" is too large for shifting.");if(q=+q,q<0)return this.shiftLeft(-q);for(var z=this;q>=T;){if(z.isZero()||z.isNegative()&&z.isUnit())return z;X=E(z,U),z=X[1].isNegative()?X[0].prev():X[0],q-=T-1}return X=E(z,M[q]),X[1].isNegative()?X[0].prev():X[0]},a.prototype.shiftRight=o.prototype.shiftRight;function te(q,X,z){X=De(X);for(var V=q.isNegative(),re=X.isNegative(),Q=V?q.not():q,ne=re?X.not():X,be=0,ie=0,ye=null,Oe=null,xe=[];!Q.isZero()||!ne.isZero();)ye=E(Q,U),be=ye[1].toJSNumber(),V&&(be=U-1-be),Oe=E(ne,U),ie=Oe[1].toJSNumber(),re&&(ie=U-1-ie),Q=ye[0],ne=Oe[0],xe.push(z(be,ie));for(var Te=z(V?1:0,re?1:0)!==0?hs(-1):hs(0),kt=xe.length-1;kt>=0;kt-=1)Te=Te.multiply(U).add(hs(xe[kt]));return Te}o.prototype.not=function(){return this.negate().prev()},a.prototype.not=o.prototype.not,o.prototype.and=function(q){return te(this,q,function(X,z){return X&z})},a.prototype.and=o.prototype.and,o.prototype.or=function(q){return te(this,q,function(X,z){return X|z})},a.prototype.or=o.prototype.or,o.prototype.xor=function(q){return te(this,q,function(X,z){return X^z})},a.prototype.xor=o.prototype.xor;var J=1<<30,ce=(e&-e)*(e&-e)|J;function se(q){var X=q.value,z=typeof X=="number"?X|J:X[0]+X[1]*e|ce;return z&-z}function j(q,X){if(X.compareTo(q)<=0){var z=j(q,X.square(X)),V=z.p,re=z.e,Q=V.multiply(X);return Q.compareTo(q)<=0?{p:Q,e:re*2+1}:{p:V,e:re*2}}return{p:hs(1),e:0}}o.prototype.bitLength=function(){var q=this;return q.compareTo(hs(0))<0&&(q=q.negate().subtract(hs(1))),q.compareTo(hs(0))===0?hs(0):hs(j(q,hs(2)).e).add(hs(1))},a.prototype.bitLength=o.prototype.bitLength;function Z(q,X){return q=De(q),X=De(X),q.greater(X)?q:X}function ee(q,X){return q=De(q),X=De(X),q.lesser(X)?q:X}function ue(q,X){if(q=De(q).abs(),X=De(X).abs(),q.equals(X))return q;if(q.isZero())return X;if(X.isZero())return q;for(var z=u[1],V,re;q.isEven()&&X.isEven();)V=Math.min(se(q),se(X)),q=q.divide(V),X=X.divide(V),z=z.multiply(V);for(;q.isEven();)q=q.divide(se(q));do{for(;X.isEven();)X=X.divide(se(X));q.greater(X)&&(re=X,X=q,q=re),X=X.subtract(q)}while(!X.isZero());return z.isUnit()?q:q.multiply(z)}function fe(q,X){return q=De(q).abs(),X=De(X).abs(),q.divide(ue(q,X)).multiply(X)}function de(q,X){q=De(q),X=De(X);var z=ee(q,X),V=Z(q,X),re=V.subtract(z).add(1);if(re.isSmall)return z.add(Math.floor(Math.random()*re));for(var Q=re.value.length-1,ne=[],be=!0,ie=Q;ie>=0;ie--){var ye=be?re.value[ie]:e,Oe=p(Math.random()*ye);ne.unshift(Oe),Oe<ye&&(be=!1)}return ne=c(ne),z.add(typeof ne=="number"?new a(ne):new o(ne,!1))}var we=function(q,X){for(var z=q.length,V,re=Math.abs(X),V=0;V<z;V++){var Q=q[V].toLowerCase();if(Q!=="-"&&/[a-z0-9]/.test(Q)){if(/[0-9]/.test(Q)&&+Q>=re){if(Q==="1"&&re===1)continue;throw new Error(Q+" is not a valid digit in base "+X+".")}else if(Q.charCodeAt(0)-87>=re)throw new Error(Q+" is not a valid digit in base "+X+".")}}if(2<=X&&X<=36&&z<=s/Math.log(X)){var ne=parseInt(q,X);if(isNaN(ne))throw new Error(Q+" is not a valid digit in base "+X+".");return new a(parseInt(q,X))}X=De(X);var be=[],ie=q[0]==="-";for(V=ie?1:0;V<q.length;V++){var Q=q[V].toLowerCase(),ye=Q.charCodeAt(0);if(48<=ye&&ye<=57)be.push(De(Q));else if(97<=ye&&ye<=122)be.push(De(Q.charCodeAt(0)-87));else if(Q==="<"){var Oe=V;do V++;while(q[V]!==">");be.push(De(q.slice(Oe+1,V)))}else throw new Error(Q+" is not a valid character")}return He(be,X,ie)};function He(q,X,z){var V=u[0],re=u[1],Q;for(Q=q.length-1;Q>=0;Q--)V=V.add(q[Q].times(re)),re=re.times(X);return z?V.negate():V}function Fe(q){return q<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(q):"<"+q+">"}function Le(q,X){if(X=hs(X),X.isZero()){if(q.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(X.equals(-1)){if(q.isZero())return{value:[0],isNegative:!1};if(q.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-q)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var z=Array.apply(null,Array(+q-1)).map(Array.prototype.valueOf,[0,1]);return z.unshift([1]),{value:[].concat.apply([],z),isNegative:!1}}var V=!1;if(q.isNegative()&&X.isPositive()&&(V=!0,q=q.abs()),X.equals(1))return q.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+q)).map(Number.prototype.valueOf,1),isNegative:V};for(var re=[],Q=q,ne;Q.isNegative()||Q.compareAbs(X)>=0;){ne=Q.divmod(X),Q=ne.quotient;var be=ne.remainder;be.isNegative()&&(be=X.minus(be).abs(),Q=Q.next()),re.push(be.toJSNumber())}return re.push(Q.toJSNumber()),{value:re.reverse(),isNegative:V}}function wt(q,X){var z=Le(q,X);return(z.isNegative?"-":"")+z.value.map(Fe).join("")}o.prototype.toArray=function(q){return Le(this,q)},a.prototype.toArray=function(q){return Le(this,q)},o.prototype.toString=function(q){if(q===t&&(q=10),q!==10)return wt(this,q);for(var X=this.value,z=X.length,V=String(X[--z]),re="0000000",Q;--z>=0;)Q=String(X[z]),V+=re.slice(Q.length)+Q;var ne=this.sign?"-":"";return ne+V},a.prototype.toString=function(q){return q===t&&(q=10),q!=10?wt(this,q):String(this.value)},o.prototype.toJSON=a.prototype.toJSON=function(){return this.toString()},o.prototype.valueOf=function(){return parseInt(this.toString(),10)},o.prototype.toJSNumber=o.prototype.valueOf,a.prototype.valueOf=function(){return this.value},a.prototype.toJSNumber=a.prototype.valueOf;function je(q){if(l(+q)){var X=+q;if(X===p(X))return new a(X);throw new Error("Invalid integer: "+q)}var z=q[0]==="-";z&&(q=q.slice(1));var V=q.split(/e/i);if(V.length>2)throw new Error("Invalid integer: "+V.join("e"));if(V.length===2){var re=V[1];if(re[0]==="+"&&(re=re.slice(1)),re=+re,re!==p(re)||!l(re))throw new Error("Invalid integer: "+re+" is not a valid exponent.");var Q=V[0],ne=Q.indexOf(".");if(ne>=0&&(re-=Q.length-ne-1,Q=Q.slice(0,ne)+Q.slice(ne+1)),re<0)throw new Error("Cannot include negative exponent part for integers");Q+=new Array(re+1).join("0"),q=Q}var be=/^([0-9][0-9]*)$/.test(q);if(!be)throw new Error("Invalid integer: "+q);for(var ie=[],ye=q.length,Oe=r,xe=ye-Oe;ye>0;)ie.push(+q.slice(xe,ye)),xe-=Oe,xe<0&&(xe=0),ye-=Oe;return h(ie),new o(ie,z)}function Re(q){if(l(q)){if(q!==p(q))throw new Error(q+" is not an integer.");return new a(q)}return je(q.toString())}function De(q){return typeof q=="number"?Re(q):typeof q=="string"?je(q):q}for(var Xe=0;Xe<1e3;Xe++)u[Xe]=new a(Xe),Xe>0&&(u[-Xe]=new a(-Xe));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=Z,u.min=ee,u.gcd=ue,u.lcm=fe,u.isInstance=function(q){return q instanceof o||q instanceof a},u.randBetween=de,u.fromArray=function(q,X,z){return He(q.map(De),De(X||10),z)},u}();typeof kS<"u"&&kS.hasOwnProperty("exports")&&(kS.exports=hs);typeof define=="function"&&define.amd&&define("big-integer",[],function(){return hs})});var LK=$(CS=>{"use strict";B();k();Object.defineProperty(CS,"__esModule",{value:!0});CS.convert=void 0;var HK=BS();function z2e(t,e,r,n){for(var i=n?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),s=(1<<r)-1,u=new Uint8Array(i),o=0,a=0,l=0,f=0;f<t.length;++f){var c=t[f];for((0,HK.validate)(0<=c&&c>>e===0,"Invalid value: "+c+"."),a=a<<e|c,l+=e;l>=r;)l-=r,u[o]=a>>l&s,++o}return n?(0,HK.validate)(l<e&&(a<<r-l&s)===0,"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):l>0&&(u[o]=a<<r-l&s,++o),u}CS.convert=z2e});var zK=$(Uc=>{"use strict";B();k();var V2e=Uc&&Uc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G2e=Uc&&Uc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UK=Uc&&Uc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&V2e(e,t,r);return G2e(e,t),e};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.decode=Uc.encode=void 0;var $K=UK(NK()),W2e=DK(),qK=UK(LK()),oO=BS();function Y2e(t,e,r){let n=k6(jK(t),new Uint8Array(1)),i=J2e(e)+e9e(r),s=r9e(k6(new Uint8Array([i]),r)),u=k6(k6(n,s),new Uint8Array(8)),o=k6(s,Z2e(KK(u)));return t+":"+$K.encode(o)}Uc.encode=Y2e;function X2e(t){let e=t.toLowerCase().split(":");(0,oO.validate)(e.length===2,"Missing prefix: "+t+".");let r=e[0],n=$K.decode(e[1]);(0,oO.validate)(i9e(r,n),"Invalid checksum: "+t+".");let i=n9e(n.subarray(0,-8)),s=i[0],u=i.subarray(1);(0,oO.validate)(t9e(s)===u.length*8,"Invalid hash size: "+t+".");let o=Q2e(s);return{prefix:r,type:o,hash:u}}Uc.decode=X2e;function jK(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0)&31;return e}function Z2e(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}function J2e(t){switch(t){case"P2PKH":return 0;case"P2SH":return 8;default:throw new Error("Invalid type: "+t+".")}}function Q2e(t){switch(t&120){case 0:return"P2PKH";case 8:return"P2SH";default:throw new Error("Invalid address type in version byte: "+t+".")}}function e9e(t){switch(t.length*8){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new Error("Invalid hash size: "+t.length+".")}}function t9e(t){switch(t&7){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}function r9e(t){return qK.convert(t,8,5,!1)}function n9e(t){return qK.convert(t,5,8,!0)}function k6(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function KK(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=W2e(1),n=0;n<t.length;++n){var i=t[n],s=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var u=0;u<e.length;++u)s.shiftRight(u).and(1).equals(1)&&(r=r.xor(e[u]))}return r.xor(1)}function i9e(t,e){var r=k6(jK(t),new Uint8Array(1)),n=k6(r,e);return KK(n).equals(0)}});var YK=$(ps=>{"use strict";B();k();var s9e=ps&&ps.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),u9e=ps&&ps.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GK=ps&&ps.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&s9e(e,t,r);return u9e(e,t),e};Object.defineProperty(ps,"__esModule",{value:!0});ps.convert2LegacyAddress=ps.isCashAddress=ps.ValidateBitcashP2PkHAddress=ps.GetBitcashP2PkHAddressByPublicKey=ps.GetBitcashAddressByPublicKey=ps.GetBitcashAddressByHash=void 0;var WK=Eu(),FS=GK(zK()),VK=GK(vp());function aO(t,e,r){return FS.encode(t,e,r)}ps.GetBitcashAddressByHash=aO;function o9e(t,e,r){let n=(0,WK.hash160)(I.Buffer.from(r));return aO(t,e,n)}ps.GetBitcashAddressByPublicKey=o9e;function a9e(t){let e=(0,WK.hash160)(I.Buffer.from(t));return aO("bitcoincash","P2PKH",e)}ps.GetBitcashP2PkHAddressByPublicKey=a9e;function c9e(t){try{t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{prefix:e,type:r,hash:n}=FS.decode(t);return r==="P2PKH"&&n.length===20}catch{return!1}}ps.ValidateBitcashP2PkHAddress=c9e;function f9e(t){try{return t.startsWith("bitcoincash:")||(t="bitcoincash:"+t,FS.decode(t)),!0}catch{return!1}}ps.isCashAddress=f9e;function l9e(t,e){t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{type:r,hash:n}=FS.decode(t);if(r=="P2PKH")return VK.p2pkh({hash:I.Buffer.from(n),network:e}).address;if(r=="P2SH")return VK.p2sh({hash:I.Buffer.from(n),network:e}).address;throw new Error("convert2LegacyAddress error")}ps.convert2LegacyAddress=l9e});var ZK=$(XK=>{"use strict";B();k();Object.defineProperty(XK,"__esModule",{value:!0})});var rz=$($c=>{"use strict";B();k();var d9e=$c&&$c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h9e=$c&&$c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cO=$c&&$c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d9e(e,t,r);return h9e(e,t),e};Object.defineProperty($c,"__esModule",{value:!0});$c.srcInscribe=$c.SrcInscriptionTool=void 0;var eo=cO(xo()),C6=yn(),p9e=cO(ul()),b9e=cO(Eu()),cy=qa(),g9e=xo(),JK=d2(),m9e=C6.signUtil.schnorr.secp256k1.schnorr,y9e=2,QK=31,v9e=4294967293,S9e=7800,_9e=7800,Dit=4e6/10,w2=class{constructor(){this.network=eo.networks.bitcoin,this.revealTxs=[],this.commitTx=new eo.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newSrcInscriptionTool(e,r){let n=new w2;n.network=e;let i=r.revealOutValue||S9e,s=r.minChangeValue||_9e;return n.buildCommitTx(e,r.inscriptionData,i,r.commitTxPrevOutputList,r.changeAddress,r.commitFeeRate,s)||n.signCommitTx(r.commitTxPrevOutputList),n}buildCommitTx(e,r,n,i,s,u,o){let a=I.Buffer.from(r.contentType),l=I.Buffer.from(r.body);for(;l[l.length-1]==0;)l=l.slice(0,l.length-1);let f=2+a.length+l.length,c=f%62==0?f:f+62-f%62,h=g9e.BufferWriter.withCapacity(c);h.writeSlice(I.Buffer.from([(a.length+l.length)/256,(a.length+l.length)%256])),h.writeSlice(a),h.writeSlice(l),c>f&&h.writeSlice(I.Buffer.alloc(c-f));let d=h.end(),p=C6.base.fromHex(T9e(i[0].txId,d.toString("hex"))),m=0,w=0,x=new eo.Transaction;for(x.version=y9e,w+=n,x.addOutput(eo.address.toOutputScript(r.revealAddr,e),n);p.length;){let H=p.slice(0,Math.min(QK,p.length)),D=H.toString("hex");D.length<62&&(D=D+"0".repeat(62-D.length)),p=p.slice(H.length);let P=p.slice(0,Math.min(QK,p.length)).toString("hex");P.length<62&&(P=P+"0".repeat(62-P.length)),p=p.slice(H.length);let A=["03"+D+"00","02"+P+"00","020202020202020202020202020202020202020202020202020202020202020202"].map(g=>I.Buffer.from(g,"hex")),b=eo.payments.p2ms({m:1,pubkeys:A});x.addOutput(b.output,n),w+=n}i.forEach(H=>{let D=C6.base.reverseBuffer(C6.base.fromHex(H.txId));x.addInput(D,H.vOut,v9e),this.commitTxPrevOutputFetcher.push(H.amount),m+=H.amount});let _=eo.address.toOutputScript(s,e);x.addOutput(_,0);let y=x.clone();ez(y,i,this.network);let S=(0,JK.countAdjustedVsize)(y,i.map(H=>H.address),e),F=Math.floor(S*u),N=m-w-F;if(N>=o)x.outs[x.outs.length-1].value=N;else{x.outs=x.outs.slice(0,x.outs.length-1),y.outs=y.outs.slice(0,y.outs.length-1);let H=(0,JK.countAdjustedVsize)(y,i.map(L=>L.address),e),D=Math.floor(H*u);if(m-w-D<0)return this.mustCommitTxFee=F,!0}return this.commitTx=x,!1}signCommitTx(e){ez(this.commitTx,e,this.network)}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};$c.SrcInscriptionTool=w2;function ez(t,e,r){t.ins.forEach((n,i)=>{let s=(0,cy.getAddressType)(e[i].address,r),u=C6.base.fromHex((0,cy.privateKeyFromWIF)(e[i].privateKey,r)),o=C6.base.toHex(u),a=(0,cy.private2public)(o);if(s==="segwit_taproot"){let l=e.map(p=>eo.address.toOutputScript(p.address,r)),f=e.map(p=>p.amount),c=t.hashForWitnessV1(i,l,f,eo.Transaction.SIGHASH_DEFAULT),h=p9e.taprootTweakPrivKey(u),d=I.Buffer.from(m9e.sign(c,h,C6.base.randomBytes(32)));n.witness=[I.Buffer.from(d)]}else if(s==="legacy"){let l=eo.address.toOutputScript(e[i].address,r),f=t.hashForSignature(i,l,eo.Transaction.SIGHASH_ALL),c=(0,cy.sign)(f,o),h=eo.payments.p2pkh({signature:eo.script.signature.encode(c,eo.Transaction.SIGHASH_ALL),pubkey:a});n.script=h.input}else{let l=b9e.hash160(a),f=I.Buffer.of(25,118,169,20,...l,136,172),c=e[i].amount,h=t.hashForWitness(i,f,c,eo.Transaction.SIGHASH_ALL),d=(0,cy.sign)(h,o);n.witness=[eo.script.signature.encode(d,eo.Transaction.SIGHASH_ALL),a];let p=I.Buffer.of(22,0,20,...l);s==="segwit_nested"&&(n.script=p)}})}function w9e(t,e){let r=w2.newSrcInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}$c.srcInscribe=w9e;function E9e(t,e){for(var r=[],n=0,i,s="",u=0;u<256;u++)r[u]=u;for(u=0;u<256;u++)n=(n+r[u]+t.charCodeAt(u%t.length))%256,i=r[u],r[u]=r[n],r[n]=i;u=0,n=0;for(var o=0;o<e.length;o++)u=(u+1)%256,n=(n+r[u])%256,i=r[u],r[u]=r[n],r[n]=i,s+=String.fromCharCode(e.charCodeAt(o)^r[(r[u]+r[n])%256]);return s}function tz(t){for(var e=[],r,n=0;n<t.length-1;n+=2){var i=parseInt(t.substr(n,2),16);e.push(i)}return r=String.fromCharCode.apply(String,e),r}function A9e(t){var e,r,n="",i;for(t+="",e=0,r=t.length;e<r;e++)i=t.charCodeAt(e).toString(16),n+=i.length<2?"0"+i:i;return n}function T9e(t,e){return A9e(E9e(tz(t),tz(e)))}});var fz=$(to=>{"use strict";B();k();var x9e=to&&to.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I9e=to&&to.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dO=to&&to.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x9e(e,t,r);return I9e(e,t),e};Object.defineProperty(to,"__esModule",{value:!0});to.inscribeForMPCSigned=to.inscribeForMPCUnsigned=to.inscribe=to.InscriptionTool=void 0;var cr=dO(xo()),ua=yn(),P9e=dO(ul()),iz=dO(Eu()),sz=wp(),F6=qa(),fO=O6(),RS=d2(),hO=ua.signUtil.schnorr.secp256k1.schnorr,MS=2,NS=4294967293,uz=546,oz=546,nz=4e6/10,E2=class{constructor(){this.network=cr.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new cr.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new E2;n.network=e;let i=r.revealOutValue||uz,s=r.minChangeValue||oz,u=r.commitTxPrevOutputList[0].privateKey;r.inscriptionDataList.forEach(l=>{n.inscriptionTxCtxDataList.push(az(e,l,u))});let o=n.buildEmptyRevealTx(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,o,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n){let i=0,s=[],u=[],o=[];return this.inscriptionTxCtxDataList.forEach((a,l)=>{let f=new cr.Transaction;f.version=MS,f.addInput(I.Buffer.alloc(32),l,NS),f.addOutput(a.revealPkScript,r);let c=I.Buffer.alloc(64),h=I.Buffer.alloc(33),d=[];d.push(c),d.push(a.inscriptionScript),d.push(h);let p=Math.floor((f.byteLength()+Math.floor(((0,sz.vectorSize)(d)+2+3)/4))*n),m=r+p;a.revealTxPrevOutput={pkScript:a.commitTxAddressPkScript,value:m},i+=m,s.push(f),u.push(p),o.push(a.commitTxAddress)}),this.revealTxs=s,this.mustRevealTxFees=u,this.commitAddrs=o,i}buildCommitTx(e,r,n,i,s,u){let o=0,a=new cr.Transaction;a.version=MS,r.forEach(p=>{let m=ua.base.reverseBuffer(ua.base.fromHex(p.txId));a.addInput(m,p.vOut,NS),this.commitTxPrevOutputFetcher.push(p.amount),o+=p.amount}),this.inscriptionTxCtxDataList.forEach(p=>{a.addOutput(p.revealTxPrevOutput.pkScript,p.revealTxPrevOutput.value)});let l=cr.address.toOutputScript(n,e);a.addOutput(l,0);let f=a.clone();lO(f,r,this.network);let c=(0,RS.countAdjustedVsize)(f,r.map(p=>p.address),e),h=Math.floor(c*s),d=o-i-h;if(d>=u)a.outs[a.outs.length-1].value=d;else{a.outs=a.outs.slice(0,a.outs.length-1),f.outs=f.outs.slice(0,f.outs.length-1);let p=(0,RS.countAdjustedVsize)(f,r.map(w=>w.address),e),m=Math.floor(p*s);if(o-i-m<0)return this.mustCommitTxFee=h,!0}return this.commitTx=a,!1}signCommitTx(e){lO(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,cr.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),u=I.Buffer.from(hO.sign(s,this.inscriptionTxCtxDataList[r].privateKey,ua.base.randomBytes(32)));e.ins[0].witness=[I.Buffer.from(u),...this.inscriptionTxCtxDataList[r].witness];let o=e.weight();if(o>nz)throw new Error(`reveal(index ${r}) transaction weight greater than ${nz} (MAX_STANDARD_TX_WEIGHT): ${o}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};to.InscriptionTool=E2;function lO(t,e,r){t.ins.forEach((n,i)=>{let s=(0,F6.getAddressType)(e[i].address,r),u=ua.base.fromHex((0,F6.privateKeyFromWIF)(e[i].privateKey,r)),o=ua.base.toHex(u),a=(0,F6.private2public)(o);if(s==="segwit_taproot"){let l=e.map(p=>cr.address.toOutputScript(p.address,r)),f=e.map(p=>p.amount),c=t.hashForWitnessV1(i,l,f,cr.Transaction.SIGHASH_DEFAULT),h=P9e.taprootTweakPrivKey(u),d=I.Buffer.from(hO.sign(c,h,ua.base.randomBytes(32)));n.witness=[I.Buffer.from(d)]}else if(s==="legacy"){let l=cr.address.toOutputScript(e[i].address,r),f=t.hashForSignature(i,l,cr.Transaction.SIGHASH_ALL),c=(0,F6.sign)(f,o),h=cr.payments.p2pkh({signature:cr.script.signature.encode(c,cr.Transaction.SIGHASH_ALL),pubkey:a});n.script=h.input}else{let l=iz.hash160(a),f=I.Buffer.of(25,118,169,20,...l,136,172),c=e[i].amount,h=t.hashForWitness(i,f,c,cr.Transaction.SIGHASH_ALL),d=(0,F6.sign)(h,o);n.witness=[cr.script.signature.encode(d,cr.Transaction.SIGHASH_ALL),a];let p=I.Buffer.of(22,0,20,...l);s==="segwit_nested"&&(n.script=p)}})}function az(t,e,r){let n=ua.base.fromHex((0,F6.privateKeyFromWIF)(r,t)),i=(0,F6.wif2Public)(r,t).slice(1),s=cr.script.OPS,u=[];u.push(i),u.push(s.OP_CHECKSIG),u.push(s.OP_FALSE),u.push(s.OP_IF),u.push(I.Buffer.from("ord")),u.push(s.OP_DATA_1),u.push(s.OP_DATA_1),u.push(I.Buffer.from(e.contentType)),u.push(s.OP_0);let o=520,a=I.Buffer.from(e.body),l=a.length;for(let x=0;x<l;x+=o){let _=x+o;_>l&&(_=l),u.push(a.slice(x,_))}u.push(s.OP_ENDIF);let f=cr.script.compile(u),c={output:f},h={output:f,redeemVersion:192},{output:d,witness:p,hash:m,address:w}=cr.payments.p2tr({internalPubkey:i,scriptTree:c,redeem:h,network:t});return{privateKey:n,inscriptionScript:f,commitTxAddress:w,commitTxAddressPkScript:d,witness:p,hash:m,revealTxPrevOutput:{pkScript:I.Buffer.alloc(0),value:0},revealPkScript:cr.address.toOutputScript(e.revealAddr,t)}}function O9e(t,e){let r=E2.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}to.inscribe=O9e;function cz(t,e,r,n){let i=t.commitTxPrevOutputList[0].privateKey,s=[];t.inscriptionDataList.forEach(F=>{s.push(az(e,F,i))});let u=0,o=t.revealOutValue||uz,a=[];s.forEach((F,N)=>{let H=new cr.Transaction;H.version=MS,H.addInput(I.Buffer.alloc(32),N,NS),H.addOutput(F.revealPkScript,o),a.push(H);let D=I.Buffer.alloc(64),L=I.Buffer.alloc(33),P=[];P.push(D),P.push(F.inscriptionScript),P.push(L);let A=Math.floor((H.byteLength()+Math.floor(((0,sz.vectorSize)(P)+2+3)/4))*t.revealFeeRate),b=o+A;F.revealTxPrevOutput={pkScript:F.commitTxAddressPkScript,value:b},u+=b});let l=0,f=new cr.Transaction;f.version=MS,t.commitTxPrevOutputList.forEach(F=>{f.addInput(ua.base.reverseBuffer(ua.base.fromHex(F.txId)),F.vOut,NS),l+=F.amount});let c=[];s.forEach(F=>{f.addOutput(F.revealTxPrevOutput.pkScript,F.revealTxPrevOutput.value),c.push(F.commitTxAddress)});let h=cr.address.toOutputScript(t.changeAddress,e);f.addOutput(h,0);let d=f.clone();lO(d,t.commitTxPrevOutputList,e);let p=(0,RS.countAdjustedVsize)(d,t.commitTxPrevOutputList.map(F=>F.address),e),m=Math.floor(p*t.commitFeeRate),w=l-u-m;if(w>=(t.minChangeValue||oz))f.outs[f.outs.length-1].value=w;else{f.outs=f.outs.slice(0,f.outs.length-1),d.outs=d.outs.slice(0,d.outs.length-1);let F=(0,RS.countAdjustedVsize)(d,t.commitTxPrevOutputList.map(H=>H.address),e),N=Math.floor(F*t.commitFeeRate);if(l-u-N<0)throw new Error("insufficient balance")}let x=k9e(f,t.commitTxPrevOutputList,e),_=f.getHash();n&&(_=n),a.forEach((F,N)=>{F.ins[0].hash=_;let H=[s[N].revealTxPrevOutput.pkScript],D=[s[N].revealTxPrevOutput.value],L=F.hashForWitnessV1(0,H,D,cr.Transaction.SIGHASH_DEFAULT,s[N].hash),P=I.Buffer.from(hO.sign(L,s[N].privateKey,ua.base.randomBytes(32)));F.ins[0].witness=[P,...s[N].witness]});let y=0;f.ins.forEach((F,N)=>{y+=t.commitTxPrevOutputList[N].amount}),f.outs.forEach(F=>{y-=F.value});let S=[];return a.forEach((F,N)=>{let H=0;H+=s[N].revealTxPrevOutput.value,H-=F.outs[0].value,S.push(H)}),{signHashList:x,commitTx:f.toHex(),revealTxs:a.map(F=>F.toHex()),commitTxFee:y,revealTxFees:S,commitAddrs:c}}to.inscribeForMPCUnsigned=cz;function B9e(t,e){let r=t.commitTx,n=t.signatureList,i=cr.Transaction.fromHex(r),s=i.getHash();i.ins.forEach((a,l)=>{let f=ua.base.fromHex(n[l]);!a.witness||a.witness.length==0?a.script=cr.payments.p2pkh({pubkey:cr.payments.p2pkh({input:a.script}).pubkey,signature:cr.script.signature.encode(f,cr.Transaction.SIGHASH_ALL)}).input:a.witness[0]=cr.script.signature.encode(f,cr.Transaction.SIGHASH_ALL)});let u=i.getHash(),o=cz(t,e,s,u);return{signHashList:null,commitTx:i.toHex(),revealTxs:o.revealTxs,commitTxFee:o.commitTxFee,revealTxFees:o.revealTxFees,commitAddrs:o.commitAddrs}}to.inscribeForMPCSigned=B9e;function k9e(t,e,r){let n=[];return t.ins.forEach((i,s)=>{let u=ua.base.fromHex(e[s].publicKey),o=cr.address.toOutputScript(e[s].address,r),a=I.Buffer.alloc(64,0),l;if((0,fO.isP2TR)(o)){let f=e.map(h=>cr.address.toOutputScript(h.address,r)),c=e.map(h=>h.amount);l=t.hashForWitnessV1(s,f,c,cr.Transaction.SIGHASH_DEFAULT),i.witness=[a]}else if((0,fO.isP2PKH)(o)){let f=cr.address.toOutputScript(e[s].address,r);l=t.hashForSignature(s,f,cr.Transaction.SIGHASH_ALL),i.script=cr.payments.p2pkh({pubkey:u,signature:cr.script.signature.encode(a,cr.Transaction.SIGHASH_ALL)}).input}else{let f=iz.hash160(u),c=I.Buffer.of(25,118,169,20,...f,136,172);l=t.hashForWitness(s,c,e[s].amount,cr.Transaction.SIGHASH_ALL),i.witness=cr.payments.p2wpkh({pubkey:u,signature:cr.script.signature.encode(a,cr.Transaction.SIGHASH_ALL)}).witness;let h=I.Buffer.of(22,0,20,...f);(0,fO.isP2SHScript)(o)&&(i.script=h)}n.push(ua.base.toHex(l))}),n}});var pz=$(oa=>{"use strict";B();k();var C9e=oa&&oa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F9e=oa&&oa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pO=oa&&oa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C9e(e,t,r);return F9e(e,t),e};Object.defineProperty(oa,"__esModule",{value:!0});oa.inscribeRefundFee=oa.createInscriptionTxCtxData=oa.InscriptionRefundFeeTool=void 0;var Zs=pO(xo()),M6=yn(),R9e=pO(ul()),M9e=pO(Eu()),R6=qa(),lz=d2(),N9e=M6.signUtil.schnorr.secp256k1.schnorr,D9e=2,H9e=4294967293,L9e=546,Kit=4e6/10,A2=class{constructor(){this.network=Zs.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.refundFeeTx=new Zs.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustTxFee=0,this.dustChange=0,this.commitAddrs=[],this.merkleRoot=new Uint8Array}static newInscriptionRefundFeeTool(e,r){let n=new A2;n.network=e;let i=r.minChangeValue||L9e;if(r.inputs&&r.inputs.length>600)throw new Error("invalid amount of inputs");let s=100;r.maxAmountOfInput&&(s=r.maxAmountOfInput),s>r.inputs.length&&(s=r.inputs.length);let u=r.inputs[0].privateKey;if(r.inscriptionRefundFeeDataList.forEach(a=>{n.inscriptionTxCtxDataList.push(hz(e,a,u))}),r.middleAddress&&r.middleAddress!=n.inscriptionTxCtxDataList[0].commitTxAddress)throw new Error("invalid middle address");return n.commitAddrs=[n.inscriptionTxCtxDataList[0].commitTxAddress],n.merkleRoot=n.inscriptionTxCtxDataList[0].hash,n.buildrRefundFeeTx(e,r.inputs.slice(0,s),r.changeAddress,0,r.feeRate,i)||n.signRefundFeeTx(r.inputs.slice(0,s)),n}buildrRefundFeeTx(e,r,n,i,s,u){let o=0,a=new Zs.Transaction;a.version=D9e,r.forEach(p=>{let m=M6.base.reverseBuffer(M6.base.fromHex(p.txId));a.addInput(m,p.vOut,H9e),this.commitTxPrevOutputFetcher.push(p.amount),o+=p.amount});let l=Zs.address.toOutputScript(n,e);a.addOutput(l,0);let f=a.clone();dz(f,r,this.network);let c=(0,lz.countAdjustedVsize)(f,r.map(p=>p.address),e),h=Math.floor(c*s),d=o-i-h;if(d>=u)a.outs[a.outs.length-1].value=d;else{if(a.outs.length<=1)return this.dustChange=d,!0;a.outs=a.outs.slice(0,a.outs.length-1),f.outs=f.outs.slice(0,f.outs.length-1);let p=(0,lz.countAdjustedVsize)(f,r.map(w=>w.address),e),m=Math.floor(p*s);if(o-i-m<0)return this.mustTxFee=h,!0}return this.refundFeeTx=a,!1}signRefundFeeTx(e){dz(this.refundFeeTx,e,this.network,this.merkleRoot)}calculateFee(){let e=0;return this.refundFeeTx.ins.forEach((r,n)=>{e+=this.commitTxPrevOutputFetcher[n]}),this.refundFeeTx.outs.forEach(r=>{e-=r.value}),{refundFeeTxFee:e}}};oa.InscriptionRefundFeeTool=A2;function dz(t,e,r,n=new Uint8Array){t.ins.forEach((i,s)=>{let u=(0,R6.getAddressType)(e[s].address,r),o=M6.base.fromHex((0,R6.privateKeyFromWIF)(e[s].privateKey,r)),a=M6.base.toHex(o),l=(0,R6.private2public)(a);if(u==="segwit_taproot"){let f=e.map(m=>Zs.address.toOutputScript(m.address,r)),c=e.map(m=>m.amount),h=t.hashForWitnessV1(s,f,c,Zs.Transaction.SIGHASH_DEFAULT),d=R9e.taprootTweakPrivKey(o,n),p=I.Buffer.from(N9e.sign(h,d,M6.base.randomBytes(32)));i.witness=[I.Buffer.from(p)]}else if(u==="legacy"){let f=Zs.address.toOutputScript(e[s].address,r),c=t.hashForSignature(s,f,Zs.Transaction.SIGHASH_ALL),h=(0,R6.sign)(c,a),d=Zs.payments.p2pkh({signature:Zs.script.signature.encode(h,Zs.Transaction.SIGHASH_ALL),pubkey:l});i.script=d.input}else{let f=M9e.hash160(l),c=I.Buffer.of(25,118,169,20,...f,136,172),h=e[s].amount,d=t.hashForWitness(s,c,h,Zs.Transaction.SIGHASH_ALL),p=(0,R6.sign)(d,a);i.witness=[Zs.script.signature.encode(p,Zs.Transaction.SIGHASH_ALL),l];let m=I.Buffer.of(22,0,20,...f);u==="segwit_nested"&&(i.script=m)}})}function hz(t,e,r){let n=M6.base.fromHex((0,R6.privateKeyFromWIF)(r,t)),i=(0,R6.wif2Public)(r,t).slice(1),s=Zs.script.OPS,u=[];u.push(i),u.push(s.OP_CHECKSIG),u.push(s.OP_FALSE),u.push(s.OP_IF),u.push(I.Buffer.from("ord")),u.push(s.OP_DATA_1),u.push(s.OP_DATA_1),u.push(I.Buffer.from(e.contentType)),u.push(s.OP_0);let o=520,a=I.Buffer.from(e.body),l=a.length;for(let x=0;x<l;x+=o){let _=x+o;_>l&&(_=l),u.push(a.slice(x,_))}u.push(s.OP_ENDIF);let f=Zs.script.compile(u),c={output:f},h={output:f,redeemVersion:192},{output:d,witness:p,hash:m,address:w}=Zs.payments.p2tr({internalPubkey:i,scriptTree:c,redeem:h,network:t});return{privateKey:n,inscriptionScript:f,commitTxAddress:w,commitTxAddressPkScript:d,witness:p,hash:m,revealTxPrevOutput:{pkScript:I.Buffer.alloc(0),value:0},revealPkScript:Zs.address.toOutputScript(e.revealAddr,t)}}oa.createInscriptionTxCtxData=hz;function U9e(t,e){let r=A2.newInscriptionRefundFeeTool(t,e);return r.mustTxFee>0||r.dustChange!=0?{refundFeeTx:"",mustTxFee:r.mustTxFee,dustChange:r.dustChange}:{refundFeeTx:r.refundFeeTx.toHex(),...r.calculateFee(),middleAddresses:r.commitAddrs}}oa.inscribeRefundFee=U9e});var Sz=$(Ri=>{"use strict";B();k();var $9e=Ri&&Ri.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q9e=Ri&&Ri.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mO=Ri&&Ri.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$9e(e,t,r);return q9e(e,t),e};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.dogInscribe=Ri.DogInscriptionTool=Ri.DogScript=Ri.bufferToChunk=Ri.bufferToBuffer=Ri.CHANGE_OUTPUT_MAX_SIZE=void 0;var Nn=mO(xo()),fl=yn(),j9e=mO(Eu()),qc=qa(),vz=xo(),Po=A6(),K9e=mO(vp()),Op=bp();Ri.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;var bz=2,bO=4294967293,z9e=1e5,V9e=1e5,G9e=240,gz=1500;function mz(t){return{buf:t<=16?void 0:t<128?I.Buffer.from([t]):I.Buffer.from([t%256,t/256]),len:t<=16?0:t<128?1:2,opcodenum:t==0?0:t<=16?80+t:t<128?1:2}}function fy(t){let e=T2(t),r=Op.varuint.encodingLength(e.opcodenum);var n=e.opcodenum;e.buf&&((n===Po.OPS.OP_PUSHDATA1||n===Po.OPS.OP_PUSHDATA2||n===Po.OPS.OP_PUSHDATA4)&&(r+=Op.varuint.encodingLength(e.len)),r+=e.buf.length);let i=vz.BufferWriter.withCapacity(r);return i.writeUInt8(e.opcodenum),e.buf&&(n<Po.OPS.OP_PUSHDATA1?i.writeSlice(e.buf):n===Po.OPS.OP_PUSHDATA1?(i.writeUInt8(e.len),i.writeSlice(e.buf)):n===Po.OPS.OP_PUSHDATA2?(i.writeUInt64(e.len),i.writeSlice(e.buf)):n===Po.OPS.OP_PUSHDATA4&&(i.writeUInt32(e.len),i.writeSlice(e.buf))),i.end()}Ri.bufferToBuffer=fy;function T2(t){return{buf:t.length?t:void 0,len:t.length,opcodenum:t.length<=75?t.length:t.length<=255?76:77}}Ri.bufferToChunk=T2;function gO(t){return{opcodenum:t}}var x2=class{constructor(){this.chunks=[]}total(){return this.chunks.length==0?0:this.chunks.map(r=>{let n=Op.varuint.encodingLength(r.opcodenum);var i=r.opcodenum;return r.buf&&(i<Po.OPS.OP_PUSHDATA1||(i===Po.OPS.OP_PUSHDATA1||i===Po.OPS.OP_PUSHDATA2||i===Po.OPS.OP_PUSHDATA4)&&(n+=Op.varuint.encodingLength(r.len)),n+=r.buf.length),n}).reduce((r,n)=>r+n)}toBuffer(){let e=this.total(),r=vz.BufferWriter.withCapacity(e);for(var n=0;n<this.chunks.length;n++){var i=this.chunks[n],s=i.opcodenum;r.writeUInt8(i.opcodenum),i.buf&&(s<Po.OPS.OP_PUSHDATA1?r.writeSlice(i.buf):s===Po.OPS.OP_PUSHDATA1?(r.writeUInt8(i.len),r.writeSlice(i.buf)):s===Po.OPS.OP_PUSHDATA2?(r.writeUInt64(i.len),r.writeSlice(i.buf)):s===Po.OPS.OP_PUSHDATA4&&(r.writeUInt32(i.len),r.writeSlice(i.buf)))}return r.end()}};Ri.DogScript=x2;var I2=class{constructor(){this.network=Nn.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new Nn.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[],this.fromAddr="",this.revealAddr=""}static newDogInscriptionTool(e,r){let n=new I2;n.network=e;let i=r.revealOutValue||z9e,s=r.minChangeValue||V9e,u=r.commitTxPrevOutputList[0].privateKey;n.inscriptionTxCtxDataList=W9e(e,r.inscriptionData,u),n.revealAddr=r.inscriptionData.revealAddr;let o=fl.base.toHex(fl.base.fromHex((0,qc.privateKeyFromWIF)(u,e))),a=(0,qc.private2public)(o);n.fromAddr=Nn.payments.p2pkh({pubkey:a,network:e}).address;let l=n.buildEmptyRevealTxs(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,l,i,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTxs(e,r,n){let i=0,s=[],u=[],o=[],a=0;for(let l=this.inscriptionTxCtxDataList.length-1;l>-1;l--){let f=this.inscriptionTxCtxDataList[l],c=new Nn.Transaction;c.version=bz,c.addInput(I.Buffer.alloc(32),0,bO),c.addInput(I.Buffer.alloc(32),1,bO),c.addOutput(l!=this.inscriptionTxCtxDataList.length-1?f.commitTxAddressPkScript:f.revealPkScript,r);let h=I.Buffer.alloc(72),d=I.Buffer.concat([f.inscriptionScript,fy(h),fy(f.redeemScript)]);c.ins[0].script=d,l!=this.inscriptionTxCtxDataList.length-1&&c.addOutput(Nn.address.toOutputScript(this.fromAddr,e),a),c.ins[1].script=I.Buffer.alloc(106);let p=Math.floor((c.dogeByteLength()+Ri.CHANGE_OUTPUT_MAX_SIZE)*n);a+=p;let m=p;f.revealTxPrevOutput={pkScript:f.commitTxAddressPkScript,value:m},i+=m,s.push(c),u.push(p),o.push(f.commitTxAddress)}for(let l=0,f=s.length-1;l<f;l++,f--)[s[l],s[f]]=[s[f],s[l]],[u[l],u[f]]=[u[f],u[l]],[o[l],o[f]]=[o[f],o[l]];return this.revealTxs=s,this.mustRevealTxFees=u,this.commitAddrs=o,i+=r,i}buildCommitTx(e,r,n,i,s,u,o){let a=0,l=new Nn.Transaction;l.version=bz,r.forEach(p=>{let m=fl.base.reverseBuffer(fl.base.fromHex(p.txId));l.addInput(m,p.vOut,bO),this.commitTxPrevOutputFetcher.push(p.amount),a+=p.amount}),l.addOutput(this.inscriptionTxCtxDataList[0].revealTxPrevOutput.pkScript,s),l.addOutput(Nn.address.toOutputScript(this.fromAddr,e),i);let f=Nn.address.toOutputScript(n,e);l.addOutput(f,0);let c=l.clone();yz(c,r,this.network);let h=Math.floor((c.dogeByteLength()+Ri.CHANGE_OUTPUT_MAX_SIZE)*u),d=a-i-h;if(d>=o)l.outs[l.outs.length-1].value=d;else{l.outs=l.outs.slice(0,l.outs.length-1),c.outs=c.outs.slice(0,c.outs.length-1);let p=Math.floor(c.dogeByteLength()*u);if(a-i-p<0)return this.mustCommitTxFee=h,!0}return this.commitTx=l,!1}signCommitTx(e){yz(this.commitTx,e,this.network)}completeRevealTx(){for(let e=0;e<this.revealTxs.length;e++){let r=this.revealTxs[e];r.ins[0].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),r.ins[1].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[e].revealTxPrevOutput.value);let n=this.inscriptionTxCtxDataList[e].redeemScript,i=r.hashForSignature(0,n,Nn.Transaction.SIGHASH_ALL),s=fl.base.toHex(this.inscriptionTxCtxDataList[e].privateKey),u=(0,qc.sign)(i,s),o=Nn.script.signature.encode(u,Nn.Transaction.SIGHASH_ALL);r.ins[0].script=I.Buffer.concat([this.inscriptionTxCtxDataList[e].inscriptionScript,fy(o),fy(this.inscriptionTxCtxDataList[e].redeemScript)]);let a=Nn.address.toOutputScript(this.fromAddr,this.network),l=r.hashForSignature(1,a,Nn.Transaction.SIGHASH_ALL),f=(0,qc.sign)(l,s),c=Nn.payments.p2pkh({signature:Nn.script.signature.encode(f,Nn.Transaction.SIGHASH_ALL),pubkey:(0,qc.private2public)(s)});r.ins[1].script=c.input}}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s=this.revealTxPrevOutputFetcher[i],r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Ri.DogInscriptionTool=I2;function yz(t,e,r){t.ins.forEach((n,i)=>{let s=(0,qc.getAddressType)(e[i].address,r),u=fl.base.fromHex((0,qc.privateKeyFromWIF)(e[i].privateKey,r)),o=fl.base.toHex(u),a=(0,qc.private2public)(o);if(s==="legacy"){let l=Nn.address.toOutputScript(e[i].address,r),f=t.hashForSignature(i,l,Nn.Transaction.SIGHASH_ALL),c=(0,qc.sign)(f,o),h=Nn.payments.p2pkh({signature:Nn.script.signature.encode(c,Nn.Transaction.SIGHASH_ALL),pubkey:a});n.script=h.input}else{let l=j9e.hash160(a),f=I.Buffer.of(25,118,169,20,...l,136,172),c=e[i].amount,h=t.hashForWitness(i,f,c,Nn.Transaction.SIGHASH_ALL),d=(0,qc.sign)(h,o);n.witness=[Nn.script.signature.encode(d,Nn.Transaction.SIGHASH_ALL),a];let p=I.Buffer.of(22,0,20,...l);s==="segwit_nested"&&(n.script=p)}})}function W9e(t,e,r){let n=fl.base.fromHex((0,qc.privateKeyFromWIF)(r,t)),i=(0,qc.wif2Public)(r,t),s=Nn.script.OPS,u;typeof e.body=="string"?u=I.Buffer.from(e.body):u=e.body;let o=[];for(;u.length;){let f=u.slice(0,Math.min(G9e,u.length));u=u.slice(f.length),o.push(f)}let a=new x2;a.chunks.push(T2(I.Buffer.from("ord"))),a.chunks.push(mz(o.length)),a.chunks.push(T2(I.Buffer.from(e.contentType))),o.forEach((f,c)=>{a.chunks.push(mz(o.length-c-1)),a.chunks.push(T2(f))});let l=[];for(;a.chunks.length;){let f=new x2;for(l.length==0&&f.chunks.push(a.chunks.shift());f.total()<=gz&&a.chunks.length;)f.chunks.push(a.chunks.shift()),f.chunks.push(a.chunks.shift());f.total()>gz&&(a.chunks.unshift(f.chunks.pop()),a.chunks.unshift(f.chunks.pop()));let c=new x2;c.chunks.push(T2(i)),c.chunks.push(gO(s.OP_CHECKSIGVERIFY)),f.chunks.forEach(()=>{c.chunks.push(gO(s.OP_DROP))}),c.chunks.push(gO(s.OP_TRUE));let h=fl.base.ripemd160(fl.base.sha256(c.toBuffer())),{output:d,address:p}=K9e.p2sh({hash:I.Buffer.from(h),network:t}),m={privateKey:n,inscriptionScript:f.toBuffer(),redeemScript:c.toBuffer(),commitTxAddress:p,commitTxAddressPkScript:d,revealTxPrevOutput:{pkScript:I.Buffer.alloc(0),value:1e5},revealPkScript:Nn.address.toOutputScript(e.revealAddr,t)};l.push(m)}return l}function Y9e(t,e){let r=I2.newDogInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Ri.dogInscribe=Y9e});var Az=$(aa=>{"use strict";B();k();Object.defineProperty(aa,"__esModule",{value:!0});aa.verifyWithAddress=aa.getMPCSignedMessage=aa.verify=aa.sign=aa.toCompact=aa.magicHash=void 0;var Si=yn(),X9e=qa(),Z9e=I.Buffer.from(`Bitcoin Signed Message:
`);function _z(t){let e;return t<253?(e=I.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=I.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=I.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=I.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e}function HS(t,e){let r=e?I.Buffer.from(e,"utf8"):Z9e,n=_z(r.length),i=I.Buffer.from(t),s=_z(i.length),u=I.Buffer.concat([n,r,s,i]);return Si.base.doubleSha256(u)}aa.magicHash=HS;function vO(t,e,r){if(!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");let n=t+27+4;return r||(n=n-4),I.Buffer.concat([Uint8Array.of(n),Uint8Array.from(e)])}aa.toCompact=vO;function J9e(t,e,r,n){let i=HS(e,n);if(!t)return Si.base.toHex(i);let s=Si.base.fromHex((0,X9e.privateKeyFromWIF)(t,r)),{signature:u,recovery:o}=Si.signUtil.secp256k1.sign(I.Buffer.from(i),s);return Si.base.toBase64(vO(o,u,!0))}aa.sign=J9e;function Q9e(t,e,r,n){let i=HS(e,n),s=Si.base.fromBase64(r),u=s[0]-27-4,o=s.slice(1);return Si.signUtil.secp256k1.verify(I.Buffer.from(i),o,u,Si.base.fromHex(t))}aa.verify=Q9e;function ebe(t,e,r){let n=Si.base.fromHex(e),i=n.slice(0,32),s=n.slice(32,64),u=Si.signUtil.secp256k1.getV(Si.base.fromHex(t),Si.base.toHex(i),Si.base.toHex(s),Si.base.fromHex(r));return Si.base.toBase64(vO(u,n,!0))}aa.getMPCSignedMessage=ebe;function tbe(t,e,r,n){let i=HS(e,n),s=Si.base.fromBase64(r),u=s[0]-27,o=s.slice(1),a=u&3,l=u&8?u&4?yO.P2WPKH:yO.P2SH_P2WPKH:null,f=!!(u&12),c=Si.signUtil.secp256k1.recover(o,a,I.Buffer.from(i),f);if(c==null)return!1;let h=I.Buffer.from(Si.base.hash160(c)),d,p;if(l)l===yO.P2SH_P2WPKH?(d=Ez(h),p=Si.base.fromBase58Check(t).slice(1)):(d=h,p=wz(t));else try{return p=wz(t),DS(h,p)}catch{let w=Ez(h),x=Si.base.fromBase58Check(t).slice(1);return DS(h,x)||DS(w,x)}return DS(d,p)}aa.verifyWithAddress=tbe;var yO={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function wz(t){let e=Si.base.bech32.decode(t),r=Si.base.bech32.fromWords(e.words.slice(1));return I.Buffer.from(r)}function Ez(t){let e=I.Buffer.concat([I.Buffer.from("0014","hex"),t]);return I.Buffer.from(Si.base.hash160(e))}function DS(t,e){if(!I.Buffer.isBuffer(t)||!I.Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}});var af=$(Mi=>{"use strict";B();k();var rbe=Mi&&Mi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nbe=Mi&&Mi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ibe=Mi&&Mi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rbe(e,t,r);return nbe(e,t),e};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.convert2UtxoTx=Mi.number2Hex=Mi.TBtcWallet=Mi.BtcWallet=Mi.BITCOIN_MESSAGE_BIP0322_SIMPLE=Mi.BITCOIN_MESSAGE_ECDSA=void 0;var vt=Pd(),P2=yn(),ze=ibe(ca()),Dn=ca();Mi.BITCOIN_MESSAGE_ECDSA=0;Mi.BITCOIN_MESSAGE_BIP0322_SIMPLE=1;var LS=class extends vt.BaseWallet{network(){return ze.networks.bitcoin}async getDerivedPath(e){return e.segwitType?e.segwitType==vt.segwitType.SEGWIT_NESTED?`m/84'/0'/0'/0/${e.index}`:e.segwitType==vt.segwitType.SEGWIT_NESTED_49?`m/49'/0'/0'/0/${e.index}`:e.segwitType==vt.segwitType.SEGWIT_NATIVE?`m/84'/0'/0'/0/${e.index}`:e.segwitType==vt.segwitType.SEGWIT_TAPROOT?`m/86'/0'/0'/0/${e.index}`:Promise.reject(vt.DerivePathError):`m/44'/0'/0'/0/${e.index}`}async validPrivateKey(e){let r;try{let{version:i}=ze.wif.decode(e.privateKey);r=i===this.network().wif}catch{r=!1}let n={isValid:r,privateKey:e.privateKey};return Promise.resolve(n)}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=e.addressType||"Legacy",s=ze.wif2Public(n,r),u;i==="Legacy"?u=ze.payments.p2pkh({pubkey:s,network:r}).address:i==="segwit_native"?u=ze.payments.p2wpkh({pubkey:s,network:r}).address:i==="segwit_nested"?u=ze.payments.p2sh({redeem:ze.payments.p2wpkh({pubkey:s,network:r})}).address:i==="segwit_taproot"&&(u=ze.payments.p2tr({internalPubkey:s.slice(1),network:r}).address);let o={address:u||"",publicKey:P2.base.toHex(i==="segwit_taproot"?s.slice(1):s),compressedPublicKey:P2.base.toHex(s)};return Promise.resolve(o)}catch{return Promise.reject(vt.NewAddressError)}}async validAddress(e){let r=!1,n=this.network();try{ze.address.toOutputScript(e.address,n)&&(r=!0)}catch{}e.addressType&&(r=e.addressType===ze.getAddressType(e.address,n));let i={isValid:r,address:e.address};return Promise.resolve(i)}async signTransaction(e){let r=e.data.type||0;if(r===ze.BtcXrcTypes.INSCRIBE)try{return Promise.resolve(ze.inscribe(this.network(),e.data))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT)try{return Promise.resolve(ze.psbtSign(e.data.psbt,e.privateKey,this.network()))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_DEODE)try{return Promise.resolve(ze.psbtDecode(e.data.psbt,this.network()))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_MPC_UNSIGNED_LIST)try{return Promise.resolve(ze.generateMPCUnsignedListingPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_MPC_SIGNED_LIST)try{return Promise.resolve(ze.generateMPCSignedListingPSBT(e.data.psbt,e.data.publicKey,e.data.signature,this.network()))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_MPC_UNSIGNED_BUY)try{return Promise.resolve(ze.generateMPCUnsignedBuyingPSBT(e.data.psbt,e.data.publicKey,this.network(),e.data.batchSize))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_MPC_SIGNED_BUY)try{return Promise.resolve(ze.generateMPCSignedBuyingTx(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network(),e.data.batchSize))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_MPC_UNSIGNED)try{return Promise.resolve(ze.generateMPCUnsignedPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_MPC_SIGNED)try{return Promise.resolve(ze.generateMPCSignedPSBT(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network()))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH)try{return Promise.resolve(ze.signPsbtWithKeyPathAndScriptPath(e.data.psbt,e.privateKey,this.network(),{autoFinalized:e.data.autoFinalized,toSignInputs:e.data.toSignInputs}))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH_BATCH)try{return Promise.resolve(ze.signPsbtWithKeyPathAndScriptPathBatch(e.data.psbtHexs,e.privateKey,this.network(),e.data.options))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.SRC20)try{return Promise.resolve(ze.srcInscribe(this.network(),e.data))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.RUNE)try{let n=new Dn.RuneWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.RuneTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.RUNEMAIN)try{let n=new Dn.RuneMainWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.RuneMainTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.ARC20)try{let n=new Dn.AtomicalWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.AtomicalTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(vt.SignTxError)}else if(r===ze.BtcXrcTypes.CAT20){let n=new Dn.CatWallet;try{return Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(vt.SignTxError)}}else if(r===ze.BtcXrcTypes.PSBT_RUNEMAIN)try{let n=new Dn.RuneMainWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(vt.SignTxError)}else{let n=null;try{let i=e.privateKey,s=ly(e.data);return n=ze.signBtc(s,i,this.network()),Promise.resolve(n)}catch{return Promise.reject(vt.SignTxError)}}}getRandomPrivateKey(){try{let e=this.network();for(;;){let r=P2.base.randomBytes(32);if((0,vt.secp256k1SignTest)(r)){let n=ze.private2Wif(r,e);return Promise.resolve(n)}}}catch{return Promise.reject(vt.GenPrivateKeyError)}}getDerivedPrivateKey(e){let r=this.network();return P2.bip39.mnemonicToSeed(e.mnemonic).then(n=>{let i=P2.bip32.fromSeed(n).derivePath(e.hdPath);if(!i.privateKey)return Promise.reject(vt.GenPrivateKeyError);let s=ze.private2Wif(i.privateKey,r);return Promise.resolve(s)}).catch(n=>Promise.reject(vt.GenPrivateKeyError))}getAddressByPublicKey(e){try{let r=this.network(),n=P2.base.fromHex(e.publicKey);if(e.addressType){if(e.addressType==="Legacy")return Promise.resolve(ze.payments.p2pkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_nested")return Promise.resolve(ze.payments.p2sh({redeem:ze.payments.p2wpkh({pubkey:n,network:r})}).address);if(e.addressType==="segwit_native")return Promise.resolve(ze.payments.p2wpkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_taproot")return Promise.resolve(ze.payments.p2tr({internalPubkey:n.slice(1),network:r}).address)}else{let i=[];return i.push({addressType:"Legacy",address:ze.payments.p2pkh({pubkey:n,network:r}).address}),i.push({addressType:"segwit_nested",address:ze.payments.p2sh({redeem:ze.payments.p2wpkh({pubkey:n,network:r})}).address}),i.push({addressType:"segwit_native",address:ze.payments.p2wpkh({pubkey:n,network:r}).address}),Promise.resolve(i)}}catch{}return Promise.reject(vt.NewAddressError)}getMPCRawTransaction(e){try{let r=ly(e.data),n=[],s={raw:ze.signBtc(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(vt.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=ze.getMPCTransaction(e.raw,e.sigs,!1);return Promise.resolve(r)}catch{return Promise.reject(vt.GetMpcTransactionError)}}async getMPCRawMessage(e){try{let r=await this.signMessage(e);return Promise.resolve({hash:r})}catch{return Promise.reject(vt.GetMpcRawTransactionError)}}async getMPCSignedMessage(e){try{return Promise.resolve(ze.message.getMPCSignedMessage(e.hash,e.sigs,e.publicKey))}catch{return Promise.reject(vt.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=ly(e.data);if(r===2){let i=ze.signBtc(n,"",this.network(),void 0,!0,!0),s=n.dustSize||546;if(parseInt(i)>=s){let o={address:n.address,amount:parseInt(i),bip32Derivation:n.bip32Derivation};n.outputs.push(o)}let u=ze.buildPsbt(n,this.network());return Promise.resolve(u)}else{let i=ze.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(i)}}catch{return Promise.reject(vt.GetHardwareRawTransactionError)}}async calcTxHash(e){try{return Promise.resolve(ze.Transaction.fromHex(e.data).getId())}catch{return Promise.reject(vt.CalcTxHashError)}}signMessage(e){try{let r=e.data,n;return r.type===Mi.BITCOIN_MESSAGE_ECDSA?n=ze.message.sign(e.privateKey,r.message,this.network()):n=ze.bip0322.signSimple(r.message,r.address,e.privateKey,this.network()),Promise.resolve(n)}catch{return Promise.reject(vt.SignMsgError)}}async verifyMessage(e){try{let r=e.data;if(r.type===Mi.BITCOIN_MESSAGE_ECDSA){let n=ze.message.verify(r.publicKey,r.message,e.signature);return Promise.resolve(n)}else{let n=ze.bip0322.verifySimple(r.message,r.address,e.signature,r.publicKey,this.network());return Promise.resolve(n)}}catch{return Promise.reject(vt.SignMsgError)}}static async extractPsbtTransaction(e){try{return Promise.resolve(ze.extractPsbtTransaction(e))}catch{return Promise.reject(vt.SignMsgError)}}async validSignedTransaction(e){try{e.data&&e.data.forEach(n=>n.value=n.amount);let r=ze.ValidSignedTransaction(e.tx,e.data,this.network());return Promise.resolve((0,vt.jsonStringifyUniform)(r))}catch{return Promise.reject(vt.validSignedTransactionError)}}async estimateFee(e){try{let r=e.data.type||0;if(r===ze.BtcXrcTypes.INSCRIBE)return Promise.reject(vt.EstimateFeeError);if(r===ze.BtcXrcTypes.PSBT)return Promise.reject(vt.EstimateFeeError);if(r===ze.BtcXrcTypes.RUNE)try{let n=new Dn.RuneWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.RuneTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(vt.EstimateFeeError)}else if(r===ze.BtcXrcTypes.RUNEMAIN)try{let n=new Dn.RuneMainWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.RuneMainTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(vt.EstimateFeeError)}else if(r===ze.BtcXrcTypes.ARC20)try{let n=new Dn.AtomicalWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.AtomicalTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(vt.EstimateFeeError)}else if(r===ze.BtcXrcTypes.CAT20)try{let n=new Dn.CatWallet;return Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(vt.EstimateFeeError)}else{let n=ly(e.data),i=ze.estimateBtcFee(n,this.network());return Promise.resolve(i)}}catch{return Promise.reject(vt.EstimateFeeError)}}static async oneKeyBuildBtcTx(e){try{return Promise.resolve(ze.oneKeyBuildBtcTx(e))}catch{return Promise.reject(vt.SignTxError)}}async buildPsbt(e){if((e.data.type||0)===ze.BtcXrcTypes.RUNEMAIN)try{let n=new Dn.RuneMainWallet;return this.network()===Dn.networks.testnet&&(n=new Dn.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(vt.SignTxError)}else{let n=null;try{return Promise.resolve(n)}catch{return Promise.reject(vt.SignTxError)}}}};Mi.BtcWallet=LS;var SO=class extends LS{network(){return ze.networks.testnet}};Mi.TBtcWallet=SO;function sbe(t,e){let r=t.toString(16),n=e-r.length;if(n>0)for(let i=0;i<n;i++)r="0"+r;return r}Mi.number2Hex=sbe;function ly(t){let e=(0,vt.cloneObject)(t);return e.inputs.forEach(r=>{r.amount=(0,vt.convert2Number)(r.amount)}),e.outputs.forEach(r=>{r.amount=(0,vt.convert2Number)(r.amount)}),e.omni&&(e.omni.amount=(0,vt.convert2Number)(e.omni.amount)),t.dustSize&&(e.dustSize=(0,vt.convert2Number)(t.dustSize)),e}Mi.convert2UtxoTx=ly});var xz=$(ll=>{"use strict";B();k();var ube=ll&&ll.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),obe=ll&&ll.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),abe=ll&&ll.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ube(e,t,r);return obe(e,t),e};Object.defineProperty(ll,"__esModule",{value:!0});ll.BchWallet=void 0;var O2=Pd(),Tz=yn(),dy=af(),Hn=abe(ca()),_O=class extends dy.BtcWallet{async getDerivedPath(e){return`m/44'/145'/0'/0/${e.index}`}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=Hn.wif2Public(n,r),o={address:Hn.GetBitcashP2PkHAddressByPublicKey(i).replace("bitcoincash:","")||"",publicKey:Tz.base.toHex(i)};return Promise.resolve(o)}catch{return Promise.reject(O2.NewAddressError)}}async validAddress(e){let r=!1;try{let i=this.network();Hn.address.toOutputScript(e.address,i)&&(r=!0)}catch{}r||(r=Hn.ValidateBitcashP2PkHAddress(e.address));let n={isValid:r,address:e.address};return Promise.resolve(n)}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,dy.convert2UtxoTx)(e.data);return i.outputs.forEach(s=>{Hn.isCashAddress(s.address)&&(s.address=Hn.convert2LegacyAddress(s.address,this.network()))}),Hn.isCashAddress(i.address)&&(i.address=Hn.convert2LegacyAddress(i.address,this.network())),r=Hn.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(O2.SignTxError)}}async estimateFee(e){try{let r=(0,dy.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{Hn.isCashAddress(i.address)&&(i.address=Hn.convert2LegacyAddress(i.address,this.network()))}),Hn.isCashAddress(r.address)&&(r.address=Hn.convert2LegacyAddress(r.address,this.network()));let n=Hn.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(O2.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,dy.convert2UtxoTx)(e.data);r.outputs.forEach(u=>{Hn.isCashAddress(u.address)&&(u.address=Hn.convert2LegacyAddress(u.address,this.network()))}),Hn.isCashAddress(r.address)&&(r.address=Hn.convert2LegacyAddress(r.address,this.network()));let n=[],s={raw:Hn.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(O2.GetMpcRawTransactionError)}}getAddressByPublicKey(e){let r=Tz.base.fromHex(e.publicKey),n=Hn.GetBitcashP2PkHAddressByPublicKey(r);return Promise.resolve(n.replace("bitcoincash:",""))}getMPCTransaction(e){try{let r=Hn.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(O2.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,dy.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{Hn.isCashAddress(i.address)&&(i.address=Hn.convert2LegacyAddress(i.address,this.network()))}),Hn.isCashAddress(r.address)&&(r.address=Hn.convert2LegacyAddress(r.address,this.network()));let n=Hn.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(O2.GetHardwareRawTransactionError)}}};ll.BchWallet=_O});var Iz=$(dl=>{"use strict";B();k();var cbe=dl&&dl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fbe=dl&&dl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lbe=dl&&dl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cbe(e,t,r);return fbe(e,t),e};Object.defineProperty(dl,"__esModule",{value:!0});dl.BsvWallet=void 0;var hy=Pd(),py=af(),by=lbe(ca()),wO=class extends py.BtcWallet{async getDerivedPath(e){return`m/44'/236'/0'/0/${e.index}`}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,py.convert2UtxoTx)(e.data);return r=by.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(hy.SignTxError)}}async estimateFee(e){try{let r=(0,py.convert2UtxoTx)(e.data),n=by.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(hy.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,py.convert2UtxoTx)(e.data),n=[],s={raw:by.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(hy.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=by.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(hy.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,py.convert2UtxoTx)(e.data),n=by.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(hy.GetHardwareRawTransactionError)}}};dl.BsvWallet=wO});var Pz=$(ro=>{"use strict";B();k();var dbe=ro&&ro.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hbe=ro&&ro.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pbe=ro&&ro.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dbe(e,t,r);return hbe(e,t),e};Object.defineProperty(ro,"__esModule",{value:!0});ro.DogeWallet=ro.dogeCoin=void 0;var US=pbe(ca()),$S=Pd(),bbe=af();ro.dogeCoin={messagePrefix:`Dogecoin Signed Message:
`,bech32:"bc",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158};var EO=class extends bbe.BtcWallet{network(){return ro.dogeCoin}async signTransaction(e){let r=e.data.type||0;if(r===1)try{return Promise.resolve(US.dogInscribe(ro.dogeCoin,e.data))}catch{return Promise.reject($S.SignTxError)}else if(r===2)try{return Promise.resolve(US.psbtSign(e.data.psbt,e.privateKey,this.network(),e.data.maximumFeeRate?e.data.maximumFeeRate:1e5))}catch{return Promise.reject($S.SignTxError)}else return super.signTransaction(e)}signMessage(e){try{let r=e.data,n=US.message.sign(e.privateKey,r.message,this.network(),ro.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject($S.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=US.message.verify(r.publicKey,r.message,e.signature,ro.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject($S.SignMsgError)}}};ro.DogeWallet=EO});var Bz=$(Oo=>{"use strict";B();k();var gbe=Oo&&Oo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mbe=Oo&&Oo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ybe=Oo&&Oo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gbe(e,t,r);return mbe(e,t),e};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.LtcWallet=Oo.litecoin=void 0;var B2=Pd(),vbe=af(),Oz=ybe(ca());Oo.litecoin={messagePrefix:`Litecoin Signed Message:
`,bech32:"ltc",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176};var AO=class extends vbe.BtcWallet{network(){return Oo.litecoin}async getDerivedPath(e){return e.segwitType?e.segwitType==B2.segwitType.SEGWIT_NESTED?`m/84'/2'/0'/0/${e.index}`:e.segwitType==B2.segwitType.SEGWIT_NESTED_49?`m/49'/2'/0'/0/${e.index}`:e.segwitType==B2.segwitType.SEGWIT_NATIVE?`m/84'/2'/0'/0/${e.index}`:Promise.reject(B2.DerivePathError):`m/44'/2'/0'/0/${e.index}`}signMessage(e){try{let r=e.data,n=Oz.message.sign(e.privateKey,r.message,this.network(),Oo.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(B2.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=Oz.message.verify(r.publicKey,r.message,e.signature,Oo.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(B2.SignMsgError)}}};Oo.LtcWallet=AO});var kz=$(jc=>{"use strict";B();k();var Sbe=jc&&jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_be=jc&&jc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wbe=jc&&jc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sbe(e,t,r);return _be(e,t),e};Object.defineProperty(jc,"__esModule",{value:!0});jc.UsdtTestWallet=jc.UsdtWallet=void 0;var k2=Pd(),hl=af(),C2=wbe(ca()),qS=class extends hl.BtcWallet{async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,hl.convert2UtxoTx)(e.data);if(!i.omni)return Promise.reject(k2.SignTxError);let s=(0,hl.number2Hex)(i.omni.coinType||31,8),u=(0,hl.number2Hex)(i.omni.amount,16),o="6a146f6d6e6900000000"+s+u,a={address:"",amount:0,omniScript:o};return i.outputs.push(a),r=C2.signBtc(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(k2.SignTxError)}}async estimateFee(e){try{let r=(0,hl.convert2UtxoTx)(e.data);if(!r.omni)return Promise.reject(k2.EstimateFeeError);let n=(0,hl.number2Hex)(r.omni.coinType||31,8),i=(0,hl.number2Hex)(r.omni.amount,16),s="6a146f6d6e6900000000"+n+i,u={address:"",amount:0,omniScript:s};r.outputs.push(u);let o=C2.estimateBtcFee(r,this.network());return Promise.resolve(o)}catch{return Promise.reject(k2.EstimateFeeError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=(0,hl.convert2UtxoTx)(e.data);if(!n.omni)return Promise.reject(k2.SignTxError);let i=(0,hl.number2Hex)(n.omni.coinType||31,8),s=(0,hl.number2Hex)(n.omni.amount,16),u="6a146f6d6e6900000000"+i+s,o={address:"",amount:0,omniScript:u};n.outputs.push(o);let a;if(r===2){let l=C2.signBtc(n,"",this.network(),void 0,!0,!0),f={address:n.address,amount:parseInt(l),bip32Derivation:n.bip32Derivation};n.outputs.push(f),a=C2.buildPsbt(n,this.network())}else a=C2.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(a)}catch{return Promise.reject(k2.GetHardwareRawTransactionError)}}};jc.UsdtWallet=qS;var TO=class extends qS{network(){return C2.networks.testnet}};jc.UsdtTestWallet=TO});var IO=$(oi=>{"use strict";B();k();var Ebe=oi&&oi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Abe=oi&&oi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tbe=oi&&oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ebe(e,t,r);return Abe(e,t),e};Object.defineProperty(oi,"__esModule",{value:!0});oi.buildRuneMainMintOp=oi.buildRuneMainMintData=oi.buildRuneData=oi.encodeToVecV2=oi.toVarIntV2=oi.fromVarInt=oi.encodeToVec=oi.toVarInt=void 0;var xO=Tbe(as()),gy=A6(),Cz=KS(),xbe=yn(),Fz=BigInt(0),yst=BigInt(2),vst=BigInt(4),Sst=BigInt(6),_st=BigInt(8),wst=BigInt(10),Est=BigInt(12),Ast=BigInt(14),Tst=BigInt(16),xst=BigInt(118),jS=BigInt(20),Rz=BigInt(22),Ist=BigInt(126),Pst=BigInt(1),Ost=BigInt(3),Bst=BigInt(5),kst=BigInt(127);function Ibe(t){let e=[];return F2(t,e),new Uint8Array(e)}oi.toVarInt=Ibe;function F2(t,e){let r=18,n=new Array(19).fill(0);for(n[r]=Number(t&BigInt(127));t>BigInt(127);)t=t/BigInt(128)-BigInt(1),r--,n[r]=Number(t&BigInt(255))|128;e.push(...n.slice(r))}oi.encodeToVec=F2;function Pbe(t){let e=[];return Ps(t,e),new Uint8Array(e)}oi.toVarIntV2=Pbe;function Ps(t,e){for(;t>>7n>0n;)e.push(Number(t&0x7fn|0x80n)),t>>=7n;return e.push(Number(t&0x7fn)),e}oi.encodeToVecV2=Ps;function Obe(t){let e=BigInt(0),r=0;for(;;){let n=BigInt(t[r]);if(n<BigInt(128))return[e+n,r+1];if(e+=n-BigInt(127),e=e*BigInt(128),r++,r>=t.length)throw new Error("Varint decoding error: buffer overflow")}}oi.fromVarInt=Obe;function Bbe(t,e){let r=[];for(let s of e)typeof s.amount=="string"&&(s.amount=BigInt(s.amount));if(e.length>0){F2(Fz,r),e.sort((u,o)=>u.id-o.id);let s=0;for(let u of e)F2(BigInt(u.id-s),r),F2(BigInt(u.amount),r),F2(BigInt(u.output),r),s=u.id}let n;return t?n="R":n="RUNE_TEST",xO.compile([gy.OPS.OP_RETURN,I.Buffer.from(n),I.Buffer.from(r)])}oi.buildRuneData=Bbe;function kbe(t,e,r,n,i,s){let u=[];for(let a of e)typeof a.amount=="string"&&(a.amount=BigInt(a.amount));if(i!=null&&i&&e[0].block!=null&&(Ps(jS,u),Ps(BigInt(e[0].block),u),Ps(jS,u),Ps(BigInt(e[0].id),u)),r&&(Ps(Rz,u),Ps(BigInt(n),u)),e.length>0){Ps(Fz,u),e.sort((f,c)=>f.block===c.block?f.id<c.id?-1:f.id>c.id?1:0:f.block-c.block);let a=0,l=0;for(let f of e)Ps(BigInt(f.block-l),u),Ps(BigInt(f.id-a),u),Ps(BigInt(f.amount),u),Ps(BigInt(f.output),u),a=f.id,l=f.block}if(u.length>80)throw new Error(JSON.stringify({errCode:Cz.ErrCodeOpreturnExceeds,date:{payloadLenth:u.length}}));return xO.compile([gy.OPS.OP_RETURN,gy.OPS.OP_13,I.Buffer.from(u)])}oi.buildRuneMainMintData=kbe;function Cbe(t,e,r,n){let i=[],s=parseInt(t.split(":")[0]),u=parseInt(t.split(":")[1]);if(n!=null&&n&&u!=null&&(Ps(jS,i),Ps(BigInt(s),i),Ps(jS,i),Ps(BigInt(u),i)),e&&(Ps(Rz,i),Ps(BigInt(r),i)),i.length>80)throw new Error(JSON.stringify({errCode:Cz.ErrCodeOpreturnExceeds,date:{payloadLenth:i.length}}));let o=xO.compile([gy.OPS.OP_RETURN,gy.OPS.OP_13,I.Buffer.from(i)]);return{address:"",amount:0,omniScript:xbe.base.toHex(o)}}oi.buildRuneMainMintOp=Cbe});var Dz=$(Kc=>{"use strict";B();k();var Fbe=Kc&&Kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rbe=Kc&&Kc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mbe=Kc&&Kc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fbe(e,t,r);return Rbe(e,t),e};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.RuneTestWallet=Kc.RuneWallet=void 0;var Nbe=Pd(),Dbe=af(),Nz=Mbe(ca()),Mz=ca(),Hbe=IO(),Lbe=yn(),zS=class extends Dbe.BtcWallet{convert2RuneTx(e){let r=(0,Nbe.cloneObject)(e);for(let c of r.inputs){let h=c.data;if(h!=null&&h instanceof Array)for(let d of h)typeof d.amount=="string"&&(d.amount=BigInt(d.amount))}for(let c of r.outputs){let h=c.data;if(h!=null&&h instanceof Array)for(let d of h)typeof d.amount=="string"&&(d.amount=BigInt(d.amount))}let n=r.inputs,i=new Map;for(let c of n){let h=c.data;if(h!=null&&h instanceof Array)for(let d of h){let p=d.id,m=BigInt(d.amount);if(p==null||m==null)continue;let w=i.get(p);w==null?i.set(p,m):i.set(p,BigInt(w)+BigInt(m))}}let s=r.outputs,u=new Map;for(let c of s){let h=c.data;if(h!=null){let d=h.id,p=BigInt(h.amount);if(d==null||p==null)continue;let m=u.get(d);m==null?u.set(d,p):u.set(d,BigInt(m)+BigInt(p))}}let o=!1;for(let c of i.keys()){let h=i.get(c),d=u.get(c);(h!=null&&d!=null&&h>d||h!=null&&d==null)&&(o=!0),o=!0}let a=0,l=[];if(o){let c={address:r.address,amount:546};l.push(c),a++}let f=[];for(let c of s){let h=c.data;if(h!=null){let d=h.id,p=BigInt(h.amount);if(d==null||p==null)continue;let m={id:parseInt("0x"+d),amount:BigInt(p),output:a};f.push(m)}c.data=null,l.push(c),a++}return{inputs:r.inputs,outputs:l,address:r.address,feePerB:r.feePerB,runeData:{edicts:f,etching:r.runeData.etching,burn:r.runeData.burn}}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),u=this.getOpReturnOutput(r,s.runeData);return s.outputs.push(u),n=(0,Mz.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}getOpReturnOutput(e,r){let n=!1;Mz.networks.bitcoin===e&&(n=!0),r.edicts==null&&(r.edicts=[]);let i=(0,Hbe.buildRuneData)(n,r.edicts);return{address:"",amount:0,omniScript:Lbe.base.toHex(i)}}async estimateFee(e){try{if(!e.data.runeData)return Promise.reject("missing runeData");let r=this.convert2RuneTx(e.data),n=this.getOpReturnOutput(this.network(),r.runeData);r.outputs.push(n);let i=Nz.estimateBtcFee(r,this.network());return Promise.resolve(i)}catch(r){return Promise.reject(r)}}};Kc.RuneWallet=zS;var PO=class extends zS{network(){return Nz.networks.testnet}};Kc.RuneTestWallet=PO});var $z=$(Ln=>{"use strict";B();k();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.isUpper=Ln.commitment=Ln.Tag=Ln.Flag=Ln.removeSpacers=Ln.getSpacersVal=Ln.applySpacers=Ln.decodeLEB128=Ln.encodeLEB128=Ln.base26Decode=Ln.base26Encode=void 0;var Ube=yn();function Hz(t){let e=0n;for(let r=0;r<t.length;r++){let n=BigInt(t.charCodeAt(r)-"A".charCodeAt(0)),i=BigInt(t.length)-1n-BigInt(r);i==0n?e+=n:e+=26n**i*(n+1n)}return e}Ln.base26Encode=Hz;function $be(t){if(t===340282366920938463463374607431768211455n)return"BCGDENLQRQWDSLRUGSNLBTMFIJAV";t+=1n;let e=[];for(;t>0;){let r=(t-1n)%26n;e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Number(r))),t=(t-1n)/26n}return e.reverse().join("")}Ln.base26Decode=$be;function qbe(t){let e=[],r=!0;for(;r;){let n=Number(t&BigInt(127));t>>=BigInt(7),t===BigInt(0)?r=!1:n|=128,e.push(n)}return e}Ln.encodeLEB128=qbe;function jbe(t){let e=BigInt(0);for(let r=0;r<t.length;r++){let n=BigInt(t[r]);if(r>18)throw new Error("Overlong");let i=n&BigInt(127);if(r==18&&(i&BigInt(124))!=BigInt(0))throw new Error("Overflow");if(e|=i<<BigInt(7)*BigInt(r),(n&BigInt(128))==BigInt(0))return{n:e,len:r+1}}throw new Error("Unterminated")}Ln.decodeLEB128=jbe;function Kbe(t,e){let r="";for(let n=0;n<t.length;n++)r+=t.charAt(n),e>0&&((e&1)===1&&(r+="\u2022"),e>>=1);return r}Ln.applySpacers=Kbe;function zbe(t){let e=0,r=0;for(let n=0;n<t.length;n++){let i=t.charAt(n);(i==="\u2022"||i==".")&&(e+=1<<n-1-r,r++)}return e}Ln.getSpacersVal=zbe;function Lz(t){return t.replace(/[.]+/g,"")}Ln.removeSpacers=Lz;var Vbe;(function(t){t[t.Etching=0]="Etching",t[t.Terms=1]="Terms",t[t.Turbo=2]="Turbo",t[t.Cenotaph=127]="Cenotaph"})(Vbe=Ln.Flag||(Ln.Flag={}));var Gbe;(function(t){t[t.Body=0]="Body",t[t.Flags=2]="Flags",t[t.Rune=4]="Rune",t[t.Premine=6]="Premine",t[t.Cap=8]="Cap",t[t.Amount=10]="Amount",t[t.HeightStart=12]="HeightStart",t[t.HeightEnd=14]="HeightEnd",t[t.OffsetStart=16]="OffsetStart",t[t.OffsetEnd=18]="OffsetEnd",t[t.Mint=20]="Mint",t[t.Pointer=22]="Pointer",t[t.Cenotaph=126]="Cenotaph",t[t.Divisibility=1]="Divisibility",t[t.Spacers=3]="Spacers",t[t.Symbol=5]="Symbol",t[t.Nop=127]="Nop"})(Gbe=Ln.Tag||(Ln.Tag={}));function Wbe(t){let e;if(typeof t.value=="string"){let n=Lz(t.value);if(!Uz(n))throw new Error("invalid rune");e=Hz(n)}else e=t.value;let r=e.toString(16);return r.length%2===1&&(r="0"+r),Ube.base.fromHex(r).reverse()}Ln.commitment=Wbe;function Uz(t){return/^[A-Z]+$/.test(t)}Ln.isUpper=Uz});var Xz=$(tn=>{"use strict";B();k();var Ybe=tn&&tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xbe=tn&&tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VS=tn&&tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ybe(e,t,r);return Xbe(e,t),e};Object.defineProperty(tn,"__esModule",{value:!0});tn.buildRuneMainDeployData=tn.inscribe=tn.runesMainInscribe=tn.checkEtching=tn.MAX_SPACERS=tn.uint64Max=tn.uint128Max=tn.RunesMainInscriptionTool=void 0;var ci=VS(xo()),Dd=yn(),Zbe=VS(ul()),Jbe=VS(Eu()),Qbe=wp(),Nd=qa(),ege=VS(as()),qz=d2(),ai=$z(),Gz=Dd.signUtil.schnorr.secp256k1.schnorr,jz=2,Kz=4294967293,tge=546,rge=546,zz=4e6/10,N6=class{constructor(){this.network=ci.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new ci.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new N6;n.network=e;let i=r.revealOutValue||tge,s=r.minChangeValue||rge,u=r.runeData.useDefaultOutput||!1,o=r.runeData.defaultOutput||0,a=r.commitTxPrevOutputList[0].privateKey;if(!r.runeData.etching||!r.runeData.revealAddr)throw new Error("etching is null");if(!Wz(r.runeData.etching))throw new Error("invalid etching parameter");let l=r.runeData.etching,f=(0,ai.commitment)(l.rune),c=Yz(l,u,o);r.runeData.etching.contentType&&r.runeData.etching.body?n.inscriptionTxCtxDataList.push(uge(e,{contentType:r.runeData.etching.contentType,body:r.runeData.etching.body,revealAddr:r.runeData.revealAddr},a,f)):n.inscriptionTxCtxDataList.push(sge(e,a,r.runeData.revealAddr,f));let h=n.buildEmptyRevealTx(e,i,r.revealFeeRate,c);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,h,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n,i){let s=0,u=[],o=[],a=[];return this.inscriptionTxCtxDataList.forEach((l,f)=>{let c=new ci.Transaction;c.version=jz,c.addInput(I.Buffer.alloc(32),f,Kz),i&&c.addOutput(i,0),c.addOutput(l.revealPkScript,r);let h=I.Buffer.alloc(64),d=I.Buffer.alloc(33),p=[];p.push(h),p.push(l.inscriptionScript),p.push(d);let m=Math.floor((c.byteLength()+Math.floor(((0,Qbe.vectorSize)(p)+2+3)/4))*n),w=r+m;l.revealTxPrevOutput={pkScript:l.commitTxAddressPkScript,value:w},s+=w,u.push(c),o.push(m),a.push(l.commitTxAddress)}),this.revealTxs=u,this.mustRevealTxFees=o,this.commitAddrs=a,s}buildCommitTx(e,r,n,i,s,u){let o=0,a=new ci.Transaction;a.version=jz,r.forEach(p=>{let m=Dd.base.reverseBuffer(Dd.base.fromHex(p.txId));a.addInput(m,p.vOut,Kz),this.commitTxPrevOutputFetcher.push(p.amount),o+=p.amount}),this.inscriptionTxCtxDataList.forEach(p=>{a.addOutput(p.revealTxPrevOutput.pkScript,p.revealTxPrevOutput.value)});let l=ci.address.toOutputScript(n,e);a.addOutput(l,0);let f=a.clone();Vz(f,r,this.network);let c=(0,qz.countAdjustedVsize)(f,r.map(p=>p.address),e),h=Math.floor(c*s),d=o-i-h;if(d>=u)a.outs[a.outs.length-1].value=d;else{a.outs=a.outs.slice(0,a.outs.length-1),f.outs=f.outs.slice(0,f.outs.length-1);let p=(0,qz.countAdjustedVsize)(f,r.map(w=>w.address),e),m=Math.floor(p*s);if(o-i-m<0)return this.mustCommitTxFee=h,!0}return this.commitTx=a,!1}signCommitTx(e){Vz(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,ci.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),u=I.Buffer.from(Gz.sign(s,this.inscriptionTxCtxDataList[r].privateKey,Dd.base.randomBytes(32)));e.ins[0].witness=[I.Buffer.from(u),...this.inscriptionTxCtxDataList[r].witness];let o=e.weight();if(o>zz)throw new Error(`reveal(index ${r}) transaction weight greater than ${zz} (MAX_STANDARD_TX_WEIGHT): ${o}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};tn.RunesMainInscriptionTool=N6;tn.uint128Max=(BigInt(1)<<BigInt(128))-BigInt(1);tn.uint64Max=(BigInt(1)<<BigInt(64))-BigInt(1);var nge=38;tn.MAX_SPACERS=134217727;function Wz(t){let e=t.premine?BigInt(t.premine):BigInt(0);if(e>tn.uint128Max||e<0)return!1;if(t.terms){let r=t.terms.amount?BigInt(t.terms.amount):BigInt(0),n=t.terms.cap?BigInt(t.terms.cap):BigInt(0);if(r<0||r>tn.uint128Max||n<0||n>tn.uint128Max||r*n>tn.uint128Max||e+r*n>tn.uint128Max||t.terms.height&&(t.terms.height.start&&(t.terms.height.start<0||t.terms.height.start>tn.uint64Max)||t.terms.height.end&&(t.terms.height.end<0||t.terms.height.end>tn.uint64Max)))return!1}return!(t.divisibility&&(t.divisibility<0||t.divisibility>nge)||typeof t.rune.value=="string"&&((0,ai.getSpacersVal)(t.rune.value)>tn.MAX_SPACERS||(0,ai.base26Encode)((0,ai.removeSpacers)(t.rune.value))>tn.uint128Max))}tn.checkEtching=Wz;function ige(t,e){let r=N6.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}tn.runesMainInscribe=ige;function Vz(t,e,r){t.ins.forEach((n,i)=>{let s=(0,Nd.getAddressType)(e[i].address,r),u=Dd.base.fromHex((0,Nd.privateKeyFromWIF)(e[i].privateKey,r)),o=Dd.base.toHex(u),a=(0,Nd.private2public)(o);if(s==="segwit_taproot"){let l=e.map(p=>ci.address.toOutputScript(p.address,r)),f=e.map(p=>p.amount),c=t.hashForWitnessV1(i,l,f,ci.Transaction.SIGHASH_DEFAULT),h=Zbe.taprootTweakPrivKey(u),d=I.Buffer.from(Gz.sign(c,h,Dd.base.randomBytes(32)));n.witness=[I.Buffer.from(d)]}else if(s==="legacy"){let l=ci.address.toOutputScript(e[i].address,r),f=t.hashForSignature(i,l,ci.Transaction.SIGHASH_ALL),c=(0,Nd.sign)(f,o),h=ci.payments.p2pkh({signature:ci.script.signature.encode(c,ci.Transaction.SIGHASH_ALL),pubkey:a});n.script=h.input}else{let l=Jbe.hash160(a),f=I.Buffer.of(25,118,169,20,...l,136,172),c=e[i].amount,h=t.hashForWitness(i,f,c,ci.Transaction.SIGHASH_ALL),d=(0,Nd.sign)(h,o);n.witness=[ci.script.signature.encode(d,ci.Transaction.SIGHASH_ALL),a];let p=I.Buffer.of(22,0,20,...l);s==="segwit_nested"&&(n.script=p)}})}function sge(t,e,r,n){let i=Dd.base.fromHex((0,Nd.privateKeyFromWIF)(e,t)),s=(0,Nd.wif2Public)(e,t).slice(1),u=[];u.push(s);let o=ci.script.OPS;u.push(o.OP_CHECKSIG),u.push(o.OP_FALSE),u.push(o.OP_IF),u.push(n),u.push(o.OP_ENDIF);let a=ci.script.compile(u),l={output:a},f={output:a,redeemVersion:192},{output:c,witness:h,hash:d,address:p}=ci.payments.p2tr({internalPubkey:s,scriptTree:l,redeem:f,network:t});return{privateKey:i,inscriptionScript:a,commitTxAddress:p,commitTxAddressPkScript:c,witness:h,hash:d,revealTxPrevOutput:{pkScript:I.Buffer.alloc(0),value:0},revealPkScript:ci.address.toOutputScript(r,t)}}function uge(t,e,r,n){let i=Dd.base.fromHex((0,Nd.privateKeyFromWIF)(r,t)),s=(0,Nd.wif2Public)(r,t).slice(1),u=ci.script.OPS,o=[];o.push(s),o.push(u.OP_CHECKSIG),n&&n.length>0&&(o.push(n),o.push(u.OP_DROP)),o.push(u.OP_FALSE),o.push(u.OP_IF),o.push(I.Buffer.from("ord")),o.push(u.OP_DATA_1),o.push(u.OP_DATA_1),o.push(I.Buffer.from(e.contentType)),o.push(u.OP_0);let a=520,l=I.Buffer.from(e.body),f=l.length;for(let _=0;_<f;_+=a){let y=_+a;y>f&&(y=f),o.push(l.slice(_,y))}o.push(u.OP_ENDIF);let c=ci.script.compile(o),h={output:c},d={output:c,redeemVersion:192},{output:p,witness:m,hash:w,address:x}=ci.payments.p2tr({internalPubkey:s,scriptTree:h,redeem:d,network:t});return{privateKey:i,inscriptionScript:c,commitTxAddress:x,commitTxAddressPkScript:p,witness:m,hash:w,revealTxPrevOutput:{pkScript:I.Buffer.alloc(0),value:0},revealPkScript:ci.address.toOutputScript(e.revealAddr,t)}}function oge(t,e){let r=N6.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}tn.inscribe=oge;function Yz(t,e,r){let n=cge(t,e,r),i=age(n),s=I.Buffer.from("6a5d","hex"),u;if(i.length<76)u=I.Buffer.alloc(1),u.writeUint8(i.length);else if(i.length<256)u=I.Buffer.alloc(2),u.writeUint8(76),u.writeUint8(i.length,1);else if(i.length<65536)u=I.Buffer.alloc(3),u.writeUint8(77),u.writeUint16LE(i.length,1);else if(i.length<4294967296)u=I.Buffer.alloc(5),u.writeUint8(78),u.writeUint32LE(i.length,1);else throw new Error("runestone too big!");return ege.compile(I.Buffer.concat([s,u,i]))}tn.buildRuneMainDeployData=Yz;function age(t){let e=[];for(let[r,n]of t)for(let i of n){let s=I.Buffer.alloc(1);s.writeUInt8(r),e.push(s),e.push(I.Buffer.from((0,ai.encodeLEB128)(i)))}return I.Buffer.concat(e)}function cge(t,e,r){let n=new Map,i=1;t.terms&&(i|=1<<ai.Flag.Terms),t.turbo&&(i|=1<<ai.Flag.Turbo),n.set(ai.Tag.Flags,[BigInt(i)]);let s;if(typeof t.rune.value=="string"?s=(0,ai.base26Encode)((0,ai.removeSpacers)(t.rune.value)):s=t.rune.value,n.set(ai.Tag.Rune,[BigInt(s)]),t.divisibility&&n.set(ai.Tag.Divisibility,[BigInt(t.divisibility)]),t.spacers)n.set(ai.Tag.Spacers,[BigInt(t.spacers)]);else{let u;typeof t.rune.value=="bigint"?u=0:u=(0,ai.getSpacersVal)(t.rune.value),u!==0&&n.set(ai.Tag.Spacers,[BigInt(u)])}if(t.symbol&&n.set(ai.Tag.Symbol,[BigInt(t.symbol.charCodeAt(0))]),t.premine&&n.set(ai.Tag.Premine,[BigInt(t.premine)]),t.terms){if(t.terms.amount&&n.set(ai.Tag.Amount,[BigInt(t.terms.amount)]),t.terms.cap&&n.set(ai.Tag.Cap,[BigInt(t.terms.cap)]),t.terms.height){let u=t.terms.height.start;u&&n.set(ai.Tag.HeightStart,[BigInt(u)]);let o=t.terms.height.end;o&&n.set(ai.Tag.HeightEnd,[BigInt(o)])}if(t.terms.offset){let u=t.terms.offset.start;u&&n.set(ai.Tag.OffsetStart,[BigInt(u)]);let o=t.terms.offset.end;o&&n.set(ai.Tag.OffsetEnd,[BigInt(o)])}}return e&&r&&n.set(ai.Tag.Pointer,[BigInt(r)]),n}});var Zz=$(_i=>{"use strict";B();k();var fge=_i&&_i.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lge=_i&&_i.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dge=_i&&_i.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fge(e,t,r);return lge(e,t),e};Object.defineProperty(_i,"__esModule",{value:!0});_i.RuneMainTestWallet=_i.RuneMainWallet=_i.ErrCodeMultipleRuneId=_i.ErrCodeRuneIdNotStandard=_i.ErrCodeOpreturnExceeds=_i.ErrCodeLessRunesMainAmt=void 0;var R2=Pd(),hge=af(),D6=dge(ca()),zc=ca(),OO=IO(),pge=yn(),bge=Xz();_i.ErrCodeLessRunesMainAmt=2010300;_i.ErrCodeOpreturnExceeds=2010301;_i.ErrCodeRuneIdNotStandard=2010302;_i.ErrCodeMultipleRuneId=2010303;var GS=class extends hge.BtcWallet{convert2RuneTx(e){let r=(0,R2.cloneObject)(e);r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput==null&&(r.runeData.defaultOutput=0),r.runeData.mint==!0&&r.runeData.mintNum==null&&(r.runeData.mintNUm=1);for(let c of r.inputs){let h=c.data;if(h!=null&&h instanceof Array)for(let d of h)typeof d.amount=="string"&&(r.runeData.mint?d.amount=BigInt(1):d.amount=BigInt(d.amount))}for(let c of r.outputs){let h=c.data;if(h!=null&&h instanceof Array)for(let d of h)typeof d.amount=="string"&&(r.runeData.mint?d.amount=BigInt(1):d.amount=BigInt(d.amount))}let n=r.inputs,i=new Map;for(let c of n){let h=c.data;if(h!=null&&h instanceof Array)for(let d of h){let p=d.id,m=BigInt(1);if(r.runeData.mint||(m=BigInt(d.amount)),p==null||m==null)continue;if(p.split(":").length<=1)throw new Error(JSON.stringify({errCode:_i.ErrCodeRuneIdNotStandard,date:{runeId:p}}));let w=i.get(p);w==null?i.set(p,m):i.set(p,BigInt(w)+BigInt(m))}}if(i.size>1)throw new Error(JSON.stringify({errCode:_i.ErrCodeMultipleRuneId,date:{runeInputMapSize:i.size}}));let s=r.outputs,u=new Map;for(let c of s){let h=c.data;if(h!=null){let d=h.id,p=BigInt(1);if(r.runeData.mint||(p=BigInt(h.amount)),d==null||p==null)continue;let m=u.get(d);m==null?u.set(d,p):u.set(d,BigInt(m)+BigInt(p))}}let o=!1;for(let c of i.keys()){let h=i.get(c),d=u.get(c);(h!=null&&d!=null&&h>d||h!=null&&d==null)&&r.runeData.useDefaultOutput==!1&&(o=!0)}let a=0,l=[];if(o){let c={address:r.address,amount:546};l.push(c),a++}let f=[];for(let c of s){let h=c.data;if(h!=null){let d=h.id,p=BigInt(1);if(r.runeData.mint||(p=BigInt(h.amount)),d==null||p==null)continue;let m={block:parseInt(d.split(":")[0]),id:parseInt(d.split(":")[1]),amount:BigInt(p),output:a};f.push(m)}c.data=null,l.push(c),a++}if(r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput>l.length-1)throw new Error(JSON.stringify({errCode:_i.ErrCodeLessRunesMainAmt,date:{defaultOutput:r.runeData.defaultOutput,ouputLenth:l.length}}));return{inputs:r.inputs,outputs:l,address:r.address,feePerB:r.feePerB,runeData:{edicts:f,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}getMockMinRuneTx(e,r){let n=(0,R2.cloneObject)(e),i=[],s={block:parseInt(r.id.split(":")[0]),id:parseInt(r.id.split(":")[1]),amount:BigInt(1),output:0};return i.push(s),{inputs:[{txId:n.inputs[0].txId,vOut:0,amount:600,data:[r]}],outputs:[{address:n.address,amount:546,data:r}],address:n.address,feePerB:n.feePerB,runeData:{edicts:i,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}getMinRuneTx(e,r,n,i){let s=(0,R2.cloneObject)(e);return{inputs:[n],outputs:[i],address:s.address,feePerB:s.feePerB,RuneData:s.runeData}}async signTransaction(e){let r=this.network(),n=null;if(e.data.runeData.etching)try{return Promise.resolve((0,bge.runesMainInscribe)(r,e.data))}catch{return Promise.reject(R2.SignTxError)}else if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),u=this.getRuneMainOpReturnOutput(r,s.runeData);return s.outputs.push(u),n=(0,zc.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}else if(e.data.runeData.mint&&!e.data.runeData.serialMint)try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let u={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},o=this.getMockMinRuneTx(e.data,u),a=this.getRuneMainOpReturnOutput(r,o.runeData);o.outputs.push(a),n=(0,zc.signBtc)(o,s,r);let l=D6.estimateBtcFee(o,this.network())+546,f=this.convert2RuneTx(e.data),c=f.outputs.length;for(let p=0;p<u.mintNum-1;p++)f.outputs.push({address:e.data.address,amount:l});let h=this.getRuneMainOpReturnOutput(r,f.runeData);f.outputs.push(h),n=(0,zc.signBtc)(f,s,r);let d=zc.Transaction.fromHex(n).getId();i.push(n);for(let p=0;p<u.mintNum-1;p++){let m={txId:d,vOut:c,address:e.data.address,amount:l,data:[u]},w={address:e.data.address,amount:546};c+=1;let x=this.getMinRuneTx(e.data,u,m,w);x.outputs.push(h);let _=(0,zc.signBtc)(x,s,r);i.push(_)}return Promise.resolve(i)}catch(i){return Promise.reject(i)}else try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let u={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},o=this.getMockMinRuneTx(e.data,u),a=(0,OO.buildRuneMainMintOp)(u.id,!1,0,!0);o.outputs.push(a);let l=D6.estimateBtcFee(o,this.network()),f=(u.mintNum-1)*l+546,c=this.convert2RuneTxSerialMint(e.data,f);c.outputs.push(a),n=(0,zc.signBtc)(c,s,r);let h=zc.Transaction.fromHex(n).getId();i.push(n);for(let d=1;d<u.mintNum;d++){let p={txId:h,vOut:0,address:e.data.address,amount:f};f=f-l;let m={address:e.data.address,amount:f},w=this.getMinRuneTx(e.data,u,p,m);w.outputs.push(a);let x=(0,zc.signBtc)(w,s,r);h=zc.Transaction.fromHex(x).getId(),i.push(x)}return i}catch(i){return Promise.reject(i)}}getRuneMainOpReturnOutput(e,r){let n=!1;zc.networks.bitcoin===e&&(n=!0),r.useDefaultOutput==null&&(r.useDefaultOutput=!1),r.defaultOutput==null&&(r.defaultOutput=0),r.mint==null&&(r.mint=!1),r.mintNum==null&&(r.mintNum=0);let i=(0,OO.buildRuneMainMintData)(n,r.edicts,r.useDefaultOutput,r.defaultOutput,r.mint,r.mintNum);return{address:"",amount:0,omniScript:pge.base.toHex(i)}}async estimateFee(e){try{let r=this.network();if(!e.data.runeData)return Promise.reject("missing runeData");let n=this.convert2RuneTx(e.data),i=this.getRuneMainOpReturnOutput(this.network(),n.runeData);n.outputs.push(i);let s={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},u=n.outputs.length;for(let a=0;a<s.mintNum-1;a++)n.outputs.push({address:e.data.address,amount:8e3});let o=D6.estimateBtcFee(n,this.network());if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)return Promise.resolve(o);if(e.data.runeData.mint&&!e.data.runeData.serialMint){let a=[];a.push(o);let l={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},f=this.getMockMinRuneTx(e.data,l),c=this.getRuneMainOpReturnOutput(this.network(),f.runeData);f.outputs.push(c);let h=D6.estimateBtcFee(f,this.network());for(let d=0;d<e.data.runeData.mintNum-1;d++)a.push(h);return Promise.resolve(a)}else if(e.data.runeData.mint&&e.data.runeData.serialMint){let a=[];if(!e.data.runeData)return Promise.reject("missing runeData");let l={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},f=this.getMockMinRuneTx(e.data,l),c=(0,OO.buildRuneMainMintOp)(l.id,!1,0,!0);f.outputs.push(c);let h=D6.estimateBtcFee(f,this.network()),d=(l.mintNum-1)*h+546,p=this.convert2RuneTxSerialMint(e.data,d);p.outputs.push(c);let m=D6.estimateBtcFee(p,r);a.push(m);for(let w=1;w<l.mintNum;w++)a.push(h);return Promise.resolve(a)}}catch(r){return Promise.reject(r)}}convert2RuneTxSerialMint(e,r){let n=(0,R2.cloneObject)(e),i=[{address:n.address,amount:r}];return{inputs:n.inputs,outputs:i,address:n.address,feePerB:n.feePerB,runeData:{edicts:n.runeData.edicts,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}convert2RuneTxPsbt(e){let r=(0,R2.cloneObject)(e);return{inputs:r.inputs,outputs:r.outputs,address:r.address,feePerB:r.feePerB,runeData:{edicts:r.runeData.edicts,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}async buildPsbt(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTxPsbt(e.data),u=this.getRuneMainOpReturnOutput(r,s.runeData);s.outputs.push(u);let o="KwdkfXMV2wxDVDMPPuFZsio3NeCskAUd4N2U4PriTgpj2MqAGmmc";s.dustSize==null&&(s.dustSize=546);let{inputAmount:a,outputAmount:l,virtualSize:f}=(0,zc.calculateTxSize)(s.inputs,s.outputs,s.address,o,r,s.dustSize),c=a-l-Math.ceil(f*s.feePerB);c>s.dustSize&&s.outputs.push({address:s.address,amount:c});let d=[(0,zc.buildPsbt)(s,r),c];return Promise.resolve(d)}catch(i){return Promise.reject(i)}}};_i.RuneMainWallet=GS;var BO=class extends GS{network(){return D6.networks.testnet}};_i.RuneMainTestWallet=BO});var Qz=$(Or=>{"use strict";B();k();var gge=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mge=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yge=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gge(e,t,r);return mge(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.AtomicalTestWallet=Or.AtomicalWallet=Or.ErrCodeInvalidInputAsset=Or.ErrCodeAtomicalNotFullyAllocated=Or.ErrCodeSemiColorOuput=Or.ErrCodeMul=Or.ErrCodeUnknownAsset=Or.ErrCodeCommon=Or.ErrCodeVoutDust=Or.ErrCodeAtomicalChangeFail=Or.ErrCodeLessAtomicalAmt=void 0;var vge=Pd(),Sge=af(),Jz=yge(ca()),_ge=ca();Or.ErrCodeLessAtomicalAmt=2011400;Or.ErrCodeAtomicalChangeFail=2011401;Or.ErrCodeVoutDust=2011402;Or.ErrCodeCommon=2011403;Or.ErrCodeUnknownAsset=2011404;Or.ErrCodeMul=2011420;Or.ErrCodeSemiColorOuput=2011405;Or.ErrCodeAtomicalNotFullyAllocated=2011406;Or.ErrCodeInvalidInputAsset=2011407;var WS=class extends Sge.BtcWallet{convert2AtomicalTx(e){let r=(0,vge.cloneObject)(e),n=new Map,i=new Map,s=new Map,u=[],o=r.feePerB||10,a=r.dustSize||546,l=r.inputs;for(let h of l){let d=h.data;if(d!=null&&d instanceof Array)for(let p of d){let m=p.atomicalId,w=p.type,x=Number(p.amount);if(m==null||x==null||w==null||w!="FT"&&w!="NFT")continue;if(x>h.amount)throw new Error(JSON.stringify({errCode:Or.ErrCodeInvalidInputAsset}));i.get(m)==null&&i.set(m,w);let _=n.get(m);_==null?n.set(m,x):n.set(m,_+x)}if(Object.keys(n).length>1)throw new Error(JSON.stringify({errCode:Or.ErrCodeMul}))}let f=r.outputs,c=0;for(let h of f){let d=h.data;if(d!=null&&d instanceof Array)for(let p of d){let m=p.atomicalId,w=Number(p.amount),x=p.type;if(x=="FT"&&w!=h.amount&&w>a)throw new Error(JSON.stringify({errCode:Or.ErrCodeSemiColorOuput}));if(m==null||w==null||x==null||x!="FT"&&x!="NFT")continue;if(x=="FT"&&w!=h.amount&&(c+=1,c==2))throw new Error(JSON.stringify({errCode:Or.ErrCodeSemiColorOuput}));if(i.get(m)!=x)throw new Error(JSON.stringify({errCode:Or.ErrCodeUnknownAsset}));let _=s.get(m);if(_==null)s.set(m,w);else if(s.set(m,_+w),x=="NFT")throw new Error(JSON.stringify({errCode:Or.ErrCodeMul}))}if(Object.keys(s).length>1)throw new Error(JSON.stringify({errCode:Or.ErrCodeMul}));u.push({amount:h.amount,address:h.address})}for(let h of n.keys()){let d=n.get(h),p=s.get(h);if(d!=p)throw new Error(JSON.stringify({errCode:Or.ErrCodeAtomicalNotFullyAllocated,date:{atomicalId:h,inputAmount:d,sendAmount:p}}))}for(let[h,d]of u.entries())if(d.amount<a)throw new Error(JSON.stringify({errCode:Or.ErrCodeVoutDust,vOut:h}));return{inputs:r.inputs,outputs:u,address:r.address,feePerB:o}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey,s=this.convert2AtomicalTx(e.data);return n=(0,_ge.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}async estimateFee(e){try{let r=this.convert2AtomicalTx(e.data),n=Jz.estimateBtcFee(r,this.network());return Promise.resolve(n)}catch(r){return Promise.reject(r)}}};Or.AtomicalWallet=WS;var kO=class extends WS{network(){return Jz.networks.testnet}};Or.AtomicalTestWallet=kO});var eV=$(YS=>{"use strict";B();k();Object.defineProperty(YS,"__esModule",{value:!0});YS.MAX_TOTAL_SUPPLY=void 0;var wge=2147483647n;YS.MAX_TOTAL_SUPPLY=wge});var CO=$(no=>{"use strict";B();k();Object.defineProperty(no,"__esModule",{value:!0});no.MinterType=no.CHANGE_MIN_POSTAGE=no.Postage=no.SupportedNetwork=no.CatAddressType=void 0;var Ege;(function(t){t.P2WPKH="p2wpkh",t.P2TR="p2tr"})(Ege=no.CatAddressType||(no.CatAddressType={}));var Age;(function(t){t.btcSignet="btc-signet",t.fractalMainnet="fractal-mainnet",t.fractalTestnet="fractal-testnet"})(Age=no.SupportedNetwork||(no.SupportedNetwork={}));var Tge;(function(t){t[t.METADATA_POSTAGE=546]="METADATA_POSTAGE",t[t.GUARD_POSTAGE=332]="GUARD_POSTAGE",t[t.MINTER_POSTAGE=331]="MINTER_POSTAGE",t[t.TOKEN_POSTAGE=330]="TOKEN_POSTAGE"})(Tge=no.Postage||(no.Postage={}));no.CHANGE_MIN_POSTAGE=546;var xge;(function(t){t.OPEN_MINTER_V1="21cbd2e538f2b6cc40ee180e174f1e25",t.OPEN_MINTER_V2="a6c2e92d74a23c07bb6220b676c6cb9b",t.UNKOWN_MINTER="unkown_minter"})(xge=no.MinterType||(no.MinterType={}))});var rV=$(tV=>{"use strict";B();k();Object.defineProperty(tV,"__esModule",{value:!0})});var iV=$(XS=>{"use strict";B();k();Object.defineProperty(XS,"__esModule",{value:!0});XS.isOpenMinter=void 0;var nV=CO();function Ige(t){return nV.MinterType.OPEN_MINTER_V1===t||nV.MinterType.OPEN_MINTER_V2===t}XS.isOpenMinter=Ige});var uV=$((aut,sV)=>{B();k();sV.exports="0.5.7"});var FO=$((lut,aV)=>{B();k();var Pge={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"};function Oge(t){return t>=55296&&t<=56319}function Bge(t){return t>=56320&&t<=57343}function oV(t){return typeof t.pipe=="function"&&typeof t._read=="function"&&typeof t._readableState=="object"&&t._readableState!==null}function kge(t,e,r,n){switch(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),n!==null&&(r=n.call(t,String(e),r)),typeof r){case"function":case"symbol":r=void 0;break;case"object":if(r!==null){let i=r.constructor;(i===String||i===Number||i===Boolean)&&(r=r.valueOf())}break}return r}function Cge(t){return t===null||typeof t!="object"?1:Array.isArray(t)?3:2}function Fge(t){return t===null||typeof t!="object"?1:typeof t.then=="function"?4:oV(t)?t._readableState.objectMode?6:5:Array.isArray(t)?3:2}function Rge(t){return typeof t=="function"?t:Array.isArray(t)?[...new Set(t.map(r=>{let n=r&&r.constructor;return n===String||n===Number?String(r):null}).filter(r=>typeof r=="string"))]:null}function Mge(t){return typeof t=="number"?!Number.isFinite(t)||t<1?!1:" ".repeat(Math.min(t,10)):typeof t=="string"&&t.slice(0,10)||!1}aV.exports={escapableCharCodeSubstitution:Pge,isLeadingSurrogate:Oge,isTrailingSurrogate:Bge,type:{PRIMITIVE:1,PROMISE:4,ARRAY:3,OBJECT:2,STRING_STREAM:5,OBJECT_STREAM:6},isReadableStream:oV,replaceValue:kge,getTypeNative:Cge,getTypeAsync:Fge,normalizeReplacer:Rge,normalizeSpace:Mge}});var dV=$((put,lV)=>{B();k();var{normalizeReplacer:Nge,normalizeSpace:Dge,replaceValue:Hge,getTypeNative:Lge,getTypeAsync:Uge,isLeadingSurrogate:$ge,isTrailingSurrogate:qge,escapableCharCodeSubstitution:jge,type:{PRIMITIVE:cV,OBJECT:Kge,ARRAY:zge,PROMISE:Vge,STRING_STREAM:Gge,OBJECT_STREAM:Wge}}=FO(),Yge=Array.from({length:2048}).map((t,e)=>jge.hasOwnProperty(e)?2:e<32?6:e<128?1:2);function fV(t){let e=0,r=!1;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<2048)e+=Yge[i];else if($ge(i)){e+=6,r=!0;continue}else qge(i)?e=r?e-2:e+6:e+=3;r=!1}return e+2}function Xge(t){switch(typeof t){case"string":return fV(t);case"number":return Number.isFinite(t)?String(t).length:4;case"boolean":return t?4:5;case"undefined":case"object":return 4;default:return 0}}function Zge(t){return t=Dge(t),typeof t=="string"?t.length:0}lV.exports=function(e,r,n,i){function s(w,x,_){if(p)return;_=Hge(w,x,_,r);let y=h(_);if(y!==cV&&a.has(_)){f.add(_),m+=4,i.continueOnCircular||(p=!0);return}switch(y){case cV:_!==void 0||Array.isArray(w)?m+=Xge(_):w===d&&(m+=9);break;case Kge:{if(o.has(_)){l.add(_),m+=o.get(_);break}let S=m,F=0;m+=2,a.add(_);for(let N in _)if(hasOwnProperty.call(_,N)&&(u===null||u.has(N))){let H=m;s(_,N,_[N]),H!==m&&(m+=fV(N)+1,F++)}F>1&&(m+=F-1),a.delete(_),n>0&&F>0&&(m+=(1+(a.size+1)*n+1)*F,m+=1+a.size*n),o.set(_,m-S);break}case zge:{if(o.has(_)){l.add(_),m+=o.get(_);break}let S=m;m+=2,a.add(_);for(let F=0;F<_.length;F++)s(_,F,_[F]);_.length>1&&(m+=_.length-1),a.delete(_),n>0&&_.length>0&&(m+=(1+(a.size+1)*n)*_.length,m+=1+a.size*n),o.set(_,m-S);break}case Vge:case Gge:c.add(_);break;case Wge:m+=2,c.add(_);break}}let u=null;r=Nge(r),Array.isArray(r)&&(u=new Set(r),r=null),n=Zge(n),i=i||{};let o=new Map,a=new Set,l=new Set,f=new Set,c=new Set,h=i.async?Uge:Lge,d={"":e},p=!1,m=0;return s(d,"",e),{minLength:isNaN(m)?1/0:m,circular:[...f],duplicate:[...l],async:[...c]}}});var pV=$((mut,hV)=>{B();k();hV.exports=()=>{throw new Error("Method is not supported")}});var gV=$((Sut,bV)=>{B();k();bV.exports=TextDecoder});var vV=$((Eut,yV)=>{B();k();var{isReadableStream:Jge}=FO(),Qge=gV(),my=1,eme=2,tme=new Qge;function mV(t){return t!==null&&typeof t=="object"}function RO(t,e){return t.name==="SyntaxError"&&e.jsonParseOffset&&(t.message=t.message.replace(/at position (\d+)/,(r,n)=>"at position "+(Number(n)+e.jsonParseOffset))),t}function rme(t,e){let r=t.length;t.length+=e.length;for(let n=0;n<e.length;n++)t[r+n]=e[n]}yV.exports=function(t){let e=new MO;if(mV(t)&&Jge(t))return new Promise((r,n)=>{t.on("data",i=>{try{e.push(i)}catch(s){n(RO(s,e)),e=null}}).on("error",i=>{e=null,n(i)}).on("end",()=>{try{r(e.finish())}catch(i){n(RO(i,e))}finally{e=null}})});if(typeof t=="function"){let r=t();if(mV(r)&&(Symbol.iterator in r||Symbol.asyncIterator in r))return new Promise(async(n,i)=>{try{for await(let s of r)e.push(s);n(e.finish())}catch(s){i(RO(s,e))}finally{e=null}})}throw new Error("Chunk emitter should be readable stream, generator, async generator or function returning an iterable object")};var MO=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,r){this.stack[this.lastFlushDepth-1]===my?(r&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(r&&(this.jsonParseOffset--,e="["+e+"]"),rme(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:r}=this.valueStack;if(Array.isArray(r)?r.length!==0:Object.keys(r).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,r,n){let i=e.slice(r,n);if(this.jsonParseOffset=this.chunkOffset+r,this.pendingChunk!==null&&(i=this.pendingChunk+i,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(i),!0):(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let s=this.flushDepth-1;s>=this.lastFlushDepth;s--)i+=this.stack[s]===my?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(i),!0);for(let s=this.lastFlushDepth||1;s<this.flushDepth;s++){let u=this.valueStack.value;if(this.stack[s-1]===my){let o;for(o in u);u=u[o]}else u=u[u.length-1];this.valueStack={value:u,prev:this.valueStack}}}else{i=this.prepareAddition(i);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.jsonParseOffset--,i=(this.stack[s]===my?"{":"[")+i;this.parseAndAppend(i,!1);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let s=e;e=new Uint8Array(this.pendingByteSeq.length+s.length),e.set(this.pendingByteSeq),e.set(s,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let s=0;s<e.length;s++){let u=e[e.length-1-s];if(u>>6===3){s++,(s!==4&&u>>3===30||s!==3&&u>>4===14||s!==2&&u>>5===6)&&(this.pendingByteSeq=e.slice(e.length-s),e=e.slice(0,-s));break}}e=tme.decode(e)}let r=e.length,n=0,i=0;e:for(let s=0;s<r;s++){if(this.stateString){for(;s<r;s++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(s)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(s)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:i=s;break;case 123:i=s+1,this.stack[this.flushDepth++]=my;break;case 91:i=s+1,this.stack[this.flushDepth++]=eme;break;case 93:case 125:i=s+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,n,i),n=i);break;case 9:case 10:case 13:case 32:n===s&&n++,i===s&&i++;break}}i>n&&this.flush(e,n,i),i<r&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(i,r)),this.chunkOffset+=r}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var NO=$((xut,SV)=>{B();k();SV.exports={version:uV(),stringifyInfo:dV(),stringifyStream:pV(),parseChunked:vV()}});var _V=$((Out,nme)=>{nme.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Ka=$(wV=>{"use strict";B();k();var cf=wV,ime=os(),sme=r$(),ZS=n$();cf.assert=sme;cf.toArray=ZS.toArray;cf.zero2=ZS.zero2;cf.toHex=ZS.toHex;cf.encode=ZS.encode;function ume(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),u=0;u<n.length;u++){var o,a=s.andln(i-1);s.isOdd()?(a>(i>>1)-1?o=(i>>1)-a:o=a,s.isubn(o)):o=0,n[u]=o,s.iushrn(1)}return n}cf.getNAF=ume;function ome(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var u=t.andln(3)+n&3,o=e.andln(3)+i&3;u===3&&(u=-1),o===3&&(o=-1);var a;(u&1)===0?a=0:(s=t.andln(7)+n&7,(s===3||s===5)&&o===2?a=-u:a=u),r[0].push(a);var l;(o&1)===0?l=0:(s=e.andln(7)+i&7,(s===3||s===5)&&u===2?l=-o:l=o),r[1].push(l),2*n===a+1&&(n=1-n),2*i===l+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}cf.getJSF=ome;function ame(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}cf.cachedProperty=ame;function cme(t){return typeof t=="string"?cf.toArray(t,"hex"):t}cf.parseBytes=cme;function fme(t){return new ime(t,"hex","le")}cf.intFromLE=fme});var vy=$((Fut,EV)=>{"use strict";B();k();var H6=os(),yy=Ka(),JS=yy.getNAF,lme=yy.getJSF,QS=yy.assert;function Bp(t,e){this.type=t,this.p=new H6(e.p,16),this.red=e.prime?H6.red(e.prime):H6.mont(this.p),this.zero=new H6(0).toRed(this.red),this.one=new H6(1).toRed(this.red),this.two=new H6(2).toRed(this.red),this.n=e.n&&new H6(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}EV.exports=Bp;Bp.prototype.point=function(){throw new Error("Not implemented")};Bp.prototype.validate=function(){throw new Error("Not implemented")};Bp.prototype._fixedNafMul=function(e,r){QS(e.precomputed);var n=e._getDoubles(),i=JS(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var u=[],o,a;for(o=0;o<i.length;o+=n.step){a=0;for(var l=o+n.step-1;l>=o;l--)a=(a<<1)+i[l];u.push(a)}for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=s;h>0;h--){for(o=0;o<u.length;o++)a=u[o],a===h?c=c.mixedAdd(n.points[o]):a===-h&&(c=c.mixedAdd(n.points[o].neg()));f=f.add(c)}return f.toP()};Bp.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,u=JS(r,n,this._bitLength),o=this.jpoint(null,null,null),a=u.length-1;a>=0;a--){for(var l=0;a>=0&&u[a]===0;a--)l++;if(a>=0&&l++,o=o.dblp(l),a<0)break;var f=u[a];QS(f!==0),e.type==="affine"?f>0?o=o.mixedAdd(s[f-1>>1]):o=o.mixedAdd(s[-f-1>>1].neg()):f>0?o=o.add(s[f-1>>1]):o=o.add(s[-f-1>>1].neg())}return e.type==="affine"?o.toP():o};Bp.prototype._wnafMulAdd=function(e,r,n,i,s){var u=this._wnafT1,o=this._wnafT2,a=this._wnafT3,l=0,f,c,h;for(f=0;f<i;f++){h=r[f];var d=h._getNAFPoints(e);u[f]=d.wnd,o[f]=d.points}for(f=i-1;f>=1;f-=2){var p=f-1,m=f;if(u[p]!==1||u[m]!==1){a[p]=JS(n[p],u[p],this._bitLength),a[m]=JS(n[m],u[m],this._bitLength),l=Math.max(a[p].length,l),l=Math.max(a[m].length,l);continue}var w=[r[p],null,null,r[m]];r[p].y.cmp(r[m].y)===0?(w[1]=r[p].add(r[m]),w[2]=r[p].toJ().mixedAdd(r[m].neg())):r[p].y.cmp(r[m].y.redNeg())===0?(w[1]=r[p].toJ().mixedAdd(r[m]),w[2]=r[p].add(r[m].neg())):(w[1]=r[p].toJ().mixedAdd(r[m]),w[2]=r[p].toJ().mixedAdd(r[m].neg()));var x=[-3,-1,-5,-7,0,7,5,1,3],_=lme(n[p],n[m]);for(l=Math.max(_[0].length,l),a[p]=new Array(l),a[m]=new Array(l),c=0;c<l;c++){var y=_[0][c]|0,S=_[1][c]|0;a[p][c]=x[(y+1)*3+(S+1)],a[m][c]=0,o[p]=w}}var F=this.jpoint(null,null,null),N=this._wnafT4;for(f=l;f>=0;f--){for(var H=0;f>=0;){var D=!0;for(c=0;c<i;c++)N[c]=a[c][f]|0,N[c]!==0&&(D=!1);if(!D)break;H++,f--}if(f>=0&&H++,F=F.dblp(H),f<0)break;for(c=0;c<i;c++){var L=N[c];L!==0&&(L>0?h=o[c][L-1>>1]:L<0&&(h=o[c][-L-1>>1].neg()),h.type==="affine"?F=F.mixedAdd(h):F=F.add(h))}}for(f=0;f<i;f++)o[f]=null;return s?F:F.toP()};function Vc(t,e){this.curve=t,this.type=e,this.precomputed=null}Bp.BasePoint=Vc;Vc.prototype.eq=function(){throw new Error("Not implemented")};Vc.prototype.validate=function(){return this.curve.validate(this)};Bp.prototype.decodePoint=function(e,r){e=yy.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?QS(e[e.length-1]%2===0):e[0]===7&&QS(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Vc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Vc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Vc.prototype.encode=function(e,r){return yy.encode(this._encode(r),e)};Vc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Vc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Vc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var u=0;u<e;u++)i=i.dbl();n.push(i)}return{step:e,points:n}};Vc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Vc.prototype._getBeta=function(){return null};Vc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var TV=$((Nut,AV)=>{"use strict";B();k();var dme=Ka(),Ni=os(),DO=w6(),M2=vy(),hme=dme.assert;function Gc(t){M2.call(this,"short",t),this.a=new Ni(t.a,16).toRed(this.red),this.b=new Ni(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}DO(Gc,M2);AV.exports=Gc;Gc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ni(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ni(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],hme(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var u;return e.basis?u=e.basis.map(function(o){return{a:new Ni(o.a,16),b:new Ni(o.b,16)}}):u=this._getEndoBasis(n),{beta:r,lambda:n,basis:u}}};Gc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ni.mont(e),n=new Ni(2).toRed(r).redInvm(),i=n.redNeg(),s=new Ni(3).toRed(r).redNeg().redSqrt().redMul(n),u=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[u,o]};Gc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ni(1),u=new Ni(0),o=new Ni(0),a=new Ni(1),l,f,c,h,d,p,m,w=0,x,_;n.cmpn(0)!==0;){var y=i.div(n);x=i.sub(y.mul(n)),_=o.sub(y.mul(s));var S=a.sub(y.mul(u));if(!c&&x.cmp(r)<0)l=m.neg(),f=s,c=x.neg(),h=_;else if(c&&++w===2)break;m=x,i=n,n=x,o=s,s=_,a=u,u=S}d=x.neg(),p=_;var F=c.sqr().add(h.sqr()),N=d.sqr().add(p.sqr());return N.cmp(F)>=0&&(d=l,p=f),c.negative&&(c=c.neg(),h=h.neg()),d.negative&&(d=d.neg(),p=p.neg()),[{a:c,b:h},{a:d,b:p}]};Gc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),u=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),a=u.mul(i.a),l=s.mul(n.b),f=u.mul(i.b),c=e.sub(o).sub(a),h=l.add(f).neg();return{k1:c,k2:h}};Gc.prototype.pointFromX=function(e,r){e=new Ni(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Gc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Gc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,u=0;u<e.length;u++){var o=this._endoSplit(r[u]),a=e[u],l=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),i[u*2]=a,i[u*2+1]=l,s[u*2]=o.k1,s[u*2+1]=o.k2}for(var f=this._wnafMulAdd(1,i,s,u*2,n),c=0;c<u*2;c++)i[c]=null,s[c]=null;return f};function Js(t,e,r,n){M2.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ni(e,16),this.y=new Ni(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}DO(Js,M2.BasePoint);Gc.prototype.point=function(e,r,n){return new Js(this,e,r,n)};Gc.prototype.pointFromJSON=function(e,r){return Js.fromJSON(this,e,r)};Js.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Js.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Js.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(o){return e.point(o[0],o[1],n)}var u=r[2];return i.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[i].concat(u.doubles.points.map(s))},naf:u.naf&&{wnd:u.naf.wnd,points:[i].concat(u.naf.points.map(s))}},i};Js.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Js.prototype.isInfinity=function(){return this.inf};Js.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Js.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),u=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,o)};Js.prototype.getX=function(){return this.x.fromRed()};Js.prototype.getY=function(){return this.y.fromRed()};Js.prototype.mul=function(e){return e=new Ni(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Js.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Js.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Js.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Js.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Js.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Iu(t,e,r,n){M2.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ni(0)):(this.x=new Ni(e,16),this.y=new Ni(r,16),this.z=new Ni(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}DO(Iu,M2.BasePoint);Gc.prototype.jpoint=function(e,r,n){return new Iu(this,e,r,n)};Iu.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Iu.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Iu.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),u=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),a=i.redSub(s),l=u.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),c=f.redMul(a),h=i.redMul(f),d=l.redSqr().redIAdd(c).redISub(h).redISub(h),p=l.redMul(h.redISub(d)).redISub(u.redMul(c)),m=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,p,m)};Iu.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,u=e.y.redMul(r).redMul(this.z),o=n.redSub(i),a=s.redSub(u);if(o.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),f=l.redMul(o),c=n.redMul(l),h=a.redSqr().redIAdd(f).redISub(c).redISub(c),d=a.redMul(c.redISub(h)).redISub(s.redMul(f)),p=this.z.redMul(o);return this.curve.jpoint(h,d,p)};Iu.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,u=this.x,o=this.y,a=this.z,l=a.redSqr().redSqr(),f=o.redAdd(o);for(r=0;r<e;r++){var c=u.redSqr(),h=f.redSqr(),d=h.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(l)),m=u.redMul(h),w=p.redSqr().redISub(m.redAdd(m)),x=m.redISub(w),_=p.redMul(x);_=_.redIAdd(_).redISub(d);var y=f.redMul(a);r+1<e&&(l=l.redMul(d)),u=w,a=y,f=_}return this.curve.jpoint(u,f.redMul(s),a)};Iu.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Iu.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),u=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(u);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),l=a.redSqr().redISub(o).redISub(o),f=u.redIAdd(u);f=f.redIAdd(f),f=f.redIAdd(f),e=l,r=a.redMul(o.redISub(l)).redISub(f),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(c).redISub(d);p=p.redIAdd(p);var m=c.redAdd(c).redIAdd(c),w=m.redSqr(),x=d.redIAdd(d);x=x.redIAdd(x),x=x.redIAdd(x),e=w.redISub(p).redISub(p),r=m.redMul(p.redISub(e)).redISub(x),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Iu.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),u=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(u);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);e=l;var f=u.redIAdd(u);f=f.redIAdd(f),f=f.redIAdd(f),r=a.redMul(o.redISub(l)).redISub(f),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),p=this.x.redSub(c).redMul(this.x.redAdd(c));p=p.redAdd(p).redIAdd(p);var m=d.redIAdd(d);m=m.redIAdd(m);var w=m.redAdd(m);e=p.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var x=h.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x),r=p.redMul(m.redISub(e)).redISub(x)}return this.curve.jpoint(e,r,n)};Iu.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),u=r.redSqr(),o=n.redSqr(),a=u.redAdd(u).redIAdd(u).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var f=l.redMul(o),c=a.redSqr().redISub(f.redAdd(f)),h=f.redISub(c),d=o.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=a.redMul(h).redISub(d),m=n.redAdd(n).redMul(i);return this.curve.jpoint(c,p,m)};Iu.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),u=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(u);var a=o.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var f=s.redIAdd(o).redSqr().redISub(u).redISub(a).redISub(l),c=r.redMul(f);c=c.redIAdd(c),c=c.redIAdd(c);var h=this.x.redMul(a).redISub(c);h=h.redIAdd(h),h=h.redIAdd(h);var d=this.y.redMul(f.redMul(l.redISub(f)).redISub(o.redMul(a)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=this.z.redAdd(o).redSqr().redISub(n).redISub(a);return this.curve.jpoint(h,d,p)};Iu.prototype.mul=function(e,r){return e=new Ni(e,r),this.curve._wnafMul(this,e)};Iu.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Iu.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Iu.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Iu.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var PV=$((Lut,IV)=>{"use strict";B();k();var N2=os(),xV=w6(),e_=vy(),pme=Ka();function D2(t){e_.call(this,"mont",t),this.a=new N2(t.a,16).toRed(this.red),this.b=new N2(t.b,16).toRed(this.red),this.i4=new N2(4).toRed(this.red).redInvm(),this.two=new N2(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}xV(D2,e_);IV.exports=D2;D2.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Qs(t,e,r){e_.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new N2(e,16),this.z=new N2(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}xV(Qs,e_.BasePoint);D2.prototype.decodePoint=function(e,r){return this.point(pme.toArray(e,r),1)};D2.prototype.point=function(e,r){return new Qs(this,e,r)};D2.prototype.pointFromJSON=function(e){return Qs.fromJSON(this,e)};Qs.prototype.precompute=function(){};Qs.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Qs.fromJSON=function(e,r){return new Qs(e,r[0],r[1]||e.one)};Qs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Qs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Qs.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),u=r.redMul(i),o=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(u,o)};Qs.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Qs.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),u=e.x.redSub(e.z),o=u.redMul(n),a=s.redMul(i),l=r.z.redMul(o.redAdd(a).redSqr()),f=r.x.redMul(o.redISub(a).redSqr());return this.curve.point(l,f)};Qs.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,u=[];r.cmpn(0)!==0;r.iushrn(1))u.push(r.andln(1));for(var o=u.length-1;o>=0;o--)u[o]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Qs.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Qs.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Qs.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Qs.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Qs.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var kV=$((qut,BV)=>{"use strict";B();k();var bme=Ka(),Hd=os(),OV=w6(),t_=vy(),gme=bme.assert;function pl(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,t_.call(this,"edwards",t),this.a=new Hd(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Hd(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Hd(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),gme(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}OV(pl,t_);BV.exports=pl;pl.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};pl.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};pl.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};pl.prototype.pointFromX=function(e,r){e=new Hd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),u=i.redMul(s.redInvm()),o=u.redSqrt();if(o.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");var a=o.fromRed().isOdd();return(r&&!a||!r&&a)&&(o=o.redNeg()),this.point(e,o)};pl.prototype.pointFromY=function(e,r){e=new Hd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),u=i.redMul(s.redInvm());if(u.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=u.redSqrt();if(o.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};pl.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Un(t,e,r,n,i){t_.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Hd(e,16),this.y=new Hd(r,16),this.z=n?new Hd(n,16):this.curve.one,this.t=i&&new Hd(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}OV(Un,t_.BasePoint);pl.prototype.pointFromJSON=function(e){return Un.fromJSON(this,e)};pl.prototype.point=function(e,r,n,i){return new Un(this,e,r,n,i)};Un.fromJSON=function(e,r){return new Un(e,r[0],r[1],r[2])};Un.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Un.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Un.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),u=i.redAdd(r),o=u.redSub(n),a=i.redSub(r),l=s.redMul(o),f=u.redMul(a),c=s.redMul(a),h=o.redMul(u);return this.curve.point(l,f,h,c)};Un.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,u,o,a,l;if(this.curve.twisted){o=this.curve._mulA(r);var f=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),s=f.redMul(o.redSub(n)),u=f.redSqr().redSub(f).redSub(f)):(a=this.z.redSqr(),l=f.redSub(a).redISub(a),i=e.redSub(r).redISub(n).redMul(l),s=f.redMul(o.redSub(n)),u=f.redMul(l))}else o=r.redAdd(n),a=this.curve._mulC(this.z).redSqr(),l=o.redSub(a).redSub(a),i=this.curve._mulC(e.redISub(o)).redMul(l),s=this.curve._mulC(o).redMul(r.redISub(n)),u=o.redMul(l);return this.curve.point(i,s,u)};Un.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Un.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),u=n.redSub(r),o=s.redSub(i),a=s.redAdd(i),l=n.redAdd(r),f=u.redMul(o),c=a.redMul(l),h=u.redMul(l),d=o.redMul(a);return this.curve.point(f,c,d,h)};Un.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),u=this.curve.d.redMul(i).redMul(s),o=n.redSub(u),a=n.redAdd(u),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),f=r.redMul(o).redMul(l),c,h;return this.curve.twisted?(c=r.redMul(a).redMul(s.redSub(this.curve._mulA(i))),h=o.redMul(a)):(c=r.redMul(a).redMul(s.redSub(i)),h=this.curve._mulC(o).redMul(a)),this.curve.point(f,c,h)};Un.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Un.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Un.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Un.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Un.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Un.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Un.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Un.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Un.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Un.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Un.prototype.toP=Un.prototype.normalize;Un.prototype.mixedAdd=Un.prototype.add});var HO=$(CV=>{"use strict";B();k();var r_=CV;r_.base=vy();r_.short=TV();r_.mont=PV();r_.edwards=kV()});var RV=$((Wut,FV)=>{B();k();FV.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var n_=$(DV=>{"use strict";B();k();var UO=DV,kp=r2(),LO=HO(),mme=Ka(),MV=mme.assert;function NV(t){t.type==="short"?this.curve=new LO.short(t):t.type==="edwards"?this.curve=new LO.edwards(t):this.curve=new LO.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,MV(this.g.validate(),"Invalid curve"),MV(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}UO.PresetCurve=NV;function Cp(t,e){Object.defineProperty(UO,t,{configurable:!0,enumerable:!0,get:function(){var r=new NV(e);return Object.defineProperty(UO,t,{configurable:!0,enumerable:!0,value:r}),r}})}Cp("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:kp.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Cp("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:kp.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Cp("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:kp.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Cp("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:kp.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Cp("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:kp.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Cp("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:kp.sha256,gRed:!1,g:["9"]});Cp("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:kp.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var $O;try{$O=RV()}catch{$O=void 0}Cp("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:kp.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",$O]})});var LV=$((eot,HV)=>{"use strict";B();k();var yme=os(),vme=Ka(),qO=vme.assert;function io(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}HV.exports=io;io.fromPublic=function(e,r,n){return r instanceof io?r:new io(e,{pub:r,pubEnc:n})};io.fromPrivate=function(e,r,n){return r instanceof io?r:new io(e,{priv:r,privEnc:n})};io.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};io.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};io.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};io.prototype._importPrivate=function(e,r){this.priv=new yme(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};io.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?qO(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&qO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};io.prototype.derive=function(e){return e.validate()||qO(e.validate(),"public point not validated"),e.mul(this.priv).getX()};io.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};io.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};io.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var qV=$((not,$V)=>{"use strict";B();k();var i_=os(),zO=Ka(),Sme=zO.assert;function s_(t,e){if(t instanceof s_)return t;this._importDER(t,e)||(Sme(t.r&&t.s,"Signature without r or s"),this.r=new i_(t.r,16),this.s=new i_(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}$V.exports=s_;function _me(){this.place=0}function jO(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,u=e.place;s<n;s++,u++)i<<=8,i|=t[u],i>>>=0;return i<=127?!1:(e.place=u,i)}function UV(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}s_.prototype._importDER=function(e,r){e=zO.toArray(e,r);var n=new _me;if(e[n.place++]!==48)return!1;var i=jO(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=jO(e,n);if(s===!1)return!1;var u=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=jO(e,n);if(o===!1||e.length!==o+n.place)return!1;var a=e.slice(n.place,o+n.place);if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new i_(u),this.s=new i_(a),this.recoveryParam=null,!0};function KO(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}s_.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=UV(r),n=UV(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];KO(i,r.length),i=i.concat(r),i.push(2),KO(i,n.length);var s=i.concat(n),u=[48];return KO(u,s.length),u=u.concat(s),zO.encode(u,e)}});var VV=$((uot,zV)=>{"use strict";B();k();var L6=os(),jV=i$(),wme=Ka(),VO=n_(),Eme=Uv(),KV=wme.assert,GO=LV(),u_=qV();function Wc(t){if(!(this instanceof Wc))return new Wc(t);typeof t=="string"&&(KV(Object.prototype.hasOwnProperty.call(VO,t),"Unknown curve "+t),t=VO[t]),t instanceof VO.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}zV.exports=Wc;Wc.prototype.keyPair=function(e){return new GO(this,e)};Wc.prototype.keyFromPrivate=function(e,r){return GO.fromPrivate(this,e,r)};Wc.prototype.keyFromPublic=function(e,r){return GO.fromPublic(this,e,r)};Wc.prototype.genKeyPair=function(e){e||(e={});for(var r=new jV({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Eme(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new L6(2));;){var s=new L6(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Wc.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Wc.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new L6(e,16));for(var s=this.n.byteLength(),u=r.getPrivate().toArray("be",s),o=e.toArray("be",s),a=new jV({hash:this.hash,entropy:u,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new L6(1)),f=0;;f++){var c=i.k?i.k(f):new L6(a.generate(this.n.byteLength()));if(c=this._truncateToN(c,!0),!(c.cmpn(1)<=0||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var d=h.getX(),p=d.umod(this.n);if(p.cmpn(0)!==0){var m=c.invm(this.n).mul(p.mul(r.getPrivate()).iadd(e));if(m=m.umod(this.n),m.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(d.cmp(p)!==0?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),w^=1),new u_({r:p,s:m,recoveryParam:w})}}}}}};Wc.prototype.verify=function(e,r,n,i){e=this._truncateToN(new L6(e,16)),n=this.keyFromPublic(n,i),r=new u_(r,"hex");var s=r.r,u=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var o=u.invm(this.n),a=o.mul(e).umod(this.n),l=o.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(a,n.getPublic(),l),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(a,n.getPublic(),l),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};Wc.prototype.recoverPubKey=function(t,e,r,n){KV((3&r)===r,"The recovery param is more than two bits"),e=new u_(e,n);var i=this.n,s=new L6(t),u=e.r,o=e.s,a=r&1,l=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?u=this.curve.pointFromX(u.add(this.curve.n),a):u=this.curve.pointFromX(u,a);var f=e.r.invm(i),c=i.sub(s).mul(f).umod(i),h=o.mul(f).umod(i);return this.g.mulAdd(c,u,h)};Wc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new u_(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var XV=$((cot,YV)=>{"use strict";B();k();var Sy=Ka(),WV=Sy.assert,GV=Sy.parseBytes,H2=Sy.cachedProperty;function eu(t,e){this.eddsa=t,this._secret=GV(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=GV(e.pub)}eu.fromPublic=function(e,r){return r instanceof eu?r:new eu(e,{pub:r})};eu.fromSecret=function(e,r){return r instanceof eu?r:new eu(e,{secret:r})};eu.prototype.secret=function(){return this._secret};H2(eu,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});H2(eu,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});H2(eu,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});H2(eu,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});H2(eu,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});H2(eu,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});eu.prototype.sign=function(e){return WV(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};eu.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};eu.prototype.getSecret=function(e){return WV(this._secret,"KeyPair is public only"),Sy.encode(this.secret(),e)};eu.prototype.getPublic=function(e){return Sy.encode(this.pubBytes(),e)};YV.exports=eu});var JV=$((dot,ZV)=>{"use strict";B();k();var Ame=os(),o_=Ka(),Tme=o_.assert,a_=o_.cachedProperty,xme=o_.parseBytes;function U6(t,e){this.eddsa=t,typeof e!="object"&&(e=xme(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Tme(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Ame&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}a_(U6,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});a_(U6,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});a_(U6,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});a_(U6,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});U6.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};U6.prototype.toHex=function(){return o_.encode(this.toBytes(),"hex").toUpperCase()};ZV.exports=U6});var nG=$((bot,rG)=>{"use strict";B();k();var Ime=r2(),Pme=n_(),L2=Ka(),Ome=L2.assert,eG=L2.parseBytes,tG=XV(),QV=JV();function fa(t){if(Ome(t==="ed25519","only tested with ed25519 so far"),!(this instanceof fa))return new fa(t);t=Pme[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Ime.sha512}rG.exports=fa;fa.prototype.sign=function(e,r){e=eG(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),u=this.encodePoint(s),o=this.hashInt(u,n.pubBytes(),e).mul(n.priv()),a=i.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:a,Rencoded:u})};fa.prototype.verify=function(e,r,n){e=eG(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),u=this.g.mul(r.S()),o=r.R().add(i.pub().mul(s));return o.eq(u)};fa.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return L2.intFromLE(e.digest()).umod(this.curve.n)};fa.prototype.keyFromPublic=function(e){return tG.fromPublic(this,e)};fa.prototype.keyFromSecret=function(e){return tG.fromSecret(this,e)};fa.prototype.makeSignature=function(e){return e instanceof QV?e:new QV(this,e)};fa.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};fa.prototype.decodePoint=function(e){e=L2.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=L2.intFromLE(n);return this.curve.pointFromY(s,i)};fa.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};fa.prototype.decodeInt=function(e){return L2.intFromLE(e)};fa.prototype.isPoint=function(e){return e instanceof this.pointClass}});var sG=$(iG=>{"use strict";B();k();var $6=iG;$6.version=_V().version;$6.utils=Ka();$6.rand=Uv();$6.curve=HO();$6.curves=n_();$6.ec=VV();$6.eddsa=nG()});var oG=$((_ot,uG)=>{"use strict";B();k();var c_=$m().Buffer;function Bme(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var u=t.length,o=t.charAt(0),a=Math.log(u)/Math.log(256),l=Math.log(256)/Math.log(u);function f(d){if((Array.isArray(d)||d instanceof Uint8Array)&&(d=c_.from(d)),!c_.isBuffer(d))throw new TypeError("Expected Buffer");if(d.length===0)return"";for(var p=0,m=0,w=0,x=d.length;w!==x&&d[w]===0;)w++,p++;for(var _=(x-w)*l+1>>>0,y=new Uint8Array(_);w!==x;){for(var S=d[w],F=0,N=_-1;(S!==0||F<m)&&N!==-1;N--,F++)S+=256*y[N]>>>0,y[N]=S%u>>>0,S=S/u>>>0;if(S!==0)throw new Error("Non-zero carry");m=F,w++}for(var H=_-m;H!==_&&y[H]===0;)H++;for(var D=o.repeat(p);H<_;++H)D+=t.charAt(y[H]);return D}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return c_.alloc(0);var p=0;if(d[p]!==" "){for(var m=0,w=0;d[p]===o;)m++,p++;for(var x=(d.length-p)*a+1>>>0,_=new Uint8Array(x);d[p];){var y=e[d.charCodeAt(p)];if(y===255)return;for(var S=0,F=x-1;(y!==0||S<w)&&F!==-1;F--,S++)y+=u*_[F]>>>0,_[F]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");w=S,p++}if(d[p]!==" "){for(var N=x-w;N!==x&&_[N]===0;)N++;var H=c_.allocUnsafe(m+(x-N));H.fill(0,0,m);for(var D=m;N!==x;)H[D++]=_[N++];return H}}}function h(d){var p=c(d);if(p)return p;throw new Error("Non-base"+u+" character")}return{encode:f,decodeUnsafe:c,decode:h}}uG.exports=Bme});var cG=$((Aot,aG)=>{B();k();var kme=oG(),Cme="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";aG.exports=kme(Cme)});var fG=$((Iot,WO)=>{B();k();typeof Object.create=="function"?WO.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:WO.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var XO=$((lG,YO)=>{B();k();(function(t){"use strict";for(var e=[null,0,{}],r=10,n=44032,i=4352,s=4449,u=4519,o=19,a=21,l=28,f=a*l,c=o*f,h=function(R,O){this.codepoint=R,this.feature=O},d={},p=[],m=0;m<=255;++m)p[m]=0;function w(R,O,M){var T=d[O];return T||(T=R(O,M),!!T.feature&&++p[O>>8&255]>r&&(d[O]=T)),T}function x(R,O,M){var T=O&65280,U=h.udata[T]||{},Y=U[O];return Y?new h(O,Y):new h(O,e)}function _(R,O,M){return M?R(O,M):new h(O,null)}function y(R,O,M){var T;if(O<i||i+o<=O&&O<n||n+c<O)return R(O,M);if(i<=O&&O<i+o){var U={},Y=(O-i)*a;for(T=0;T<a;++T)U[s+T]=n+l*(T+Y);return new h(O,[,,U])}var te=O-n,J=te%l,ce=[];if(J!==0)ce[0]=[n+te-J,u+J];else for(ce[0]=[i+Math.floor(te/f),s+Math.floor(te%f/l)],ce[2]={},T=1;T<l;++T)ce[2][u+T]=O+T;return new h(O,ce)}function S(R,O,M){return O<60||13311<O&&O<42607?new h(O,e):R(O,M)}var F=[S,w,_,y,x];h.fromCharCode=F.reduceRight(function(R,O){return function(M,T){return O(R,M,T)}},null),h.isHighSurrogate=function(R){return R>=55296&&R<=56319},h.isLowSurrogate=function(R){return R>=56320&&R<=57343},h.prototype.prepFeature=function(){this.feature||(this.feature=h.fromCharCode(this.codepoint,!0).feature)},h.prototype.toString=function(){if(this.codepoint<65536)return String.fromCharCode(this.codepoint);var R=this.codepoint-65536;return String.fromCharCode(Math.floor(R/1024)+55296,R%1024+56320)},h.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},h.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<8},h.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<9},h.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?this.feature[1]&255:0},h.prototype.getComposite=function(R){if(this.prepFeature(),!this.feature[2])return null;var O=this.feature[2][R.codepoint];return O?h.fromCharCode(O):null};var N=function(R){this.str=R,this.cursor=0};N.prototype.next=function(){if(!!this.str&&this.cursor<this.str.length){var R=this.str.charCodeAt(this.cursor++),O;return h.isHighSurrogate(R)&&this.cursor<this.str.length&&h.isLowSurrogate(O=this.str.charCodeAt(this.cursor))&&(R=(R-55296)*1024+(O-56320)+65536,++this.cursor),h.fromCharCode(R)}else return this.str=null,null};var H=function(R,O){this.it=R,this.canonical=O,this.resBuf=[]};H.prototype.next=function(){function R(M,T){var U=T.getDecomp();if(!!U&&!(M&&T.isCompatibility())){for(var Y=[],te=0;te<U.length;++te){var J=R(M,h.fromCharCode(U[te]));Y=Y.concat(J)}return Y}else return[T]}if(this.resBuf.length===0){var O=this.it.next();if(!O)return null;this.resBuf=R(this.canonical,O)}return this.resBuf.shift()};var D=function(R){this.it=R,this.resBuf=[]};D.prototype.next=function(){var R;if(this.resBuf.length===0)do{var O=this.it.next();if(!O)break;R=O.getCanonicalClass();var M=this.resBuf.length;if(R!==0)for(;M>0;--M){var T=this.resBuf[M-1],U=T.getCanonicalClass();if(U<=R)break}this.resBuf.splice(M,0,O)}while(R!==0);return this.resBuf.shift()};var L=function(R){this.it=R,this.procBuf=[],this.resBuf=[],this.lastClass=null};L.prototype.next=function(){for(;this.resBuf.length===0;){var R=this.it.next();if(!R){this.resBuf=this.procBuf,this.procBuf=[];break}if(this.procBuf.length===0)this.lastClass=R.getCanonicalClass(),this.procBuf.push(R);else{var O=this.procBuf[0],M=O.getComposite(R),T=R.getCanonicalClass();!!M&&(this.lastClass<T||this.lastClass===0)?this.procBuf[0]=M:(T===0&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=T,this.procBuf.push(R))}}return this.resBuf.shift()};var P=function(R,O){switch(R){case"NFD":return new D(new H(new N(O),!0));case"NFKD":return new D(new H(new N(O),!1));case"NFC":return new L(new D(new H(new N(O),!0)));case"NFKC":return new L(new D(new H(new N(O),!1)))}throw R+" is invalid"},A=function(R,O){for(var M=P(R,O),T="",U;U=M.next();)T+=U.toString();return T};function b(R){return A("NFD",R)}function g(R){return A("NFKD",R)}function v(R){return A("NFC",R)}function E(R){return A("NFKC",R)}h.udata={0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256],66272:[,220]},768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8e3,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256],66422:[,230],66423:[,230],66424:[,230],66425:[,230],66426:[,230]},1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230],2303:[,230]},2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9],68325:[,230],68326:[,220]},2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69759:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70003:[,7],70080:[,9]},4608:{70197:[,9],70198:[,7],70377:[,7],70378:[,9]},4864:{4957:[,230],4958:[,230],4959:[,230],70460:[,7],70471:[,,{70462:70475,70487:70476}],70475:[[70471,70462]],70476:[[70471,70487]],70477:[,9],70502:[,230],70503:[,230],70504:[,230],70505:[,230],70506:[,230],70507:[,230],70508:[,230],70512:[,230],70513:[,230],70514:[,230],70515:[,230],70516:[,230]},5120:{70841:[,,{70832:70844,70842:70843,70845:70846}],70843:[[70841,70842]],70844:[[70841,70832]],70846:[[70841,70845]],70850:[,9],70851:[,7]},5376:{71096:[,,{71087:71098}],71097:[,,{71087:71099}],71098:[[71096,71087]],71099:[[71097,71087]],71103:[,9],71104:[,7]},5632:{71231:[,9],71350:[,9],71351:[,7]},5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},6144:{6313:[,228]},6400:{6457:[,222],6458:[,230],6459:[,220]},6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220],6832:[,230],6833:[,230],6834:[,230],6835:[,230],6836:[,230],6837:[,220],6838:[,220],6839:[,220],6840:[,220],6841:[,220],6842:[,220],6843:[,230],6844:[,230],6845:[,220]},6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230],7416:[,230],7417:[,230]},7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7655:[,230],7656:[,230],7657:[,230],7658:[,230],7659:[,230],7660:[,230],7661:[,230],7662:[,230],7663:[,230],7664:[,230],7665:[,230],7666:[,230],7667:[,230],7668:[,230],7669:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8e3:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8e3,768]],8003:[[8001,768]],8004:[[8e3,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},8960:{9001:[[12296]],9002:[[12297]]},9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},11776:{11935:[[27597],256],12019:[[40863],256]},12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[3e4],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13e3:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},27136:{92912:[,1],92913:[,1],92914:[,1],92915:[,1],92916:[,1]},27392:{92976:[,230],92977:[,230],92978:[,230],92979:[,230],92980:[,230],92981:[,230],92982:[,230]},42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42652:[[1098],256],42653:[[1100],256],42655:[,230],42736:[,230],42737:[,230]},42752:{42864:[[42863],256],43e3:[[294],256],43001:[[339],256]},43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},43776:{43868:[[42791],256],43869:[[43831],256],43870:[[619],256],43871:[[43858],256],44013:[,9]},48128:{113822:[,1]},53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},53760:{119362:[,230],119363:[,230],119364:[,230]},54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],12e4:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},59392:{125136:[,220],125137:[,220],125138:[,220],125139:[,220],125140:[,220],125141:[,220],125142:[,220]},60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23e3]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149e3]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32e3]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195e3:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},64e3:{64e3:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[4e4]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65063:[,220],65064:[,220],65065:[,220],65066:[,220],65067:[,220],65068:[,220],65069:[,220],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}};var C={nfc:v,nfd:b,nfkc:E,nfkd:g};typeof YO=="object"?YO.exports=C:typeof define=="function"&&define.amd?define("unorm",function(){return C}):t.unorm=C,C.shimApplied=!1,String.prototype.normalize||(String.prototype.normalize=function(R){var O=""+this;if(R=R===void 0?"NFC":R,R==="NFC")return C.nfc(O);if(R==="NFD")return C.nfd(O);if(R==="NFKC")return C.nfkc(O);if(R==="NFKD")return C.nfkd(O);throw new RangeError("Invalid normalization form: "+R)},C.shimApplied=!0)})(lG)});var pG=$((Cot,hG)=>{B();k();var gr=us(),dG=sG(),Fp=r2(),JO=cG(),Ld=wc(),wy=fG(),U2=o$(),_y=XO(),Fme=os(),l_=globalThis,ZO={},f_={},G=l_.parcelRequire76f9;G==null&&(G=function(t){if(t in ZO)return ZO[t].exports;if(t in f_){var e=f_[t];delete f_[t];var r={id:t,exports:{}};return ZO[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n},G.register=function(e,r){f_[e]=r},l_.parcelRequire76f9=G);var Ve=G.register;Ve("1Q9VF",function(t,e){t.exports=JSON.parse(`{"name":"@scrypt-inc/bsv","version":"1.0.4","description":"A pure and powerful JavaScript Bitcoin SV (BSV) library.","author":"sCrypt.Inc","source":"./index.js","main":"dist/main.js","browser":"dist/browser.js","types":"./index.d.ts","scripts":{"lint":"standard --fix","build":"parcel build --no-cache","dev":"mocha -g 'BIP32' ","test":"standard && mocha","coverage":"nyc --reporter=text npm run test","prepublishOnly":"yarn build","release":"npm publish --access public"},"targets":{"types":false},"keywords":["bitcoin","bsv","scrypt","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],"repository":{"type":"git","url":"git+https://github.com/sCrypt-Inc/bsv"},"dependencies":{"aes-js":"^3.1.2","assert":"^2.1.0","bn.js":"=4.11.9","bs58":"=4.0.1","buffer":"^6.0.3","clone-deep":"^4.0.1","elliptic":"6.5.4","hash.js":"^1.1.7","inherits":"2.0.3","unorm":"1.4.1"},"devDependencies":{"brfs":"2.0.1","chai":"4.2.0","mocha":"^8.4.0","nyc":"^14.1.1","parcel":"latest","sinon":"7.2.3","standard":"12.0.1"},"license":"MIT","standard":{"globals":["afterEach","beforeEach","describe","it"],"ignore":["dist/**","esmTest/**"]}}`)});Ve("dIoYd",function(t,e){var r=gr.Buffer,n=G("jBF4k"),i=G("6gAsx"),s=G("kBBbb"),u=function(o){for(var a=r.alloc(o.length),l=0;l<o.length;l++)a[l]=o[o.length-1-l];return a};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(o){return i.checkArgument(s.isNumber(o)),new n(o)},n.fromString=function(o,a){return i.checkArgument(s.isString(o)),new n(o,a)},n.fromBuffer=function(o,a){typeof a<"u"&&a.endian==="little"&&(o=u(o));var l=o.toString("hex"),f=new n(l,16);return f},n.fromSM=function(o,a){var l;if(o.length===0)return n.fromBuffer(r.from([0]));var f="big";return a&&(f=a.endian),f==="little"&&(o=u(o)),o[0]&128?(o[0]=o[0]&127,l=n.fromBuffer(o),l.neg().copy(l)):l=n.fromBuffer(o),l},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(o){var a,l;if(o&&o.size){l=this.toString(16,2);var f=l.length/2;a=r.from(l,"hex"),f===o.size||(f>o.size?a=n.trim(a,f):f<o.size&&(a=n.pad(a,f,o.size)))}else l=this.toString(16,2),a=r.from(l,"hex");return typeof o<"u"&&o.endian==="little"&&(a=u(a)),a},n.prototype.toSMBigEndian=function(){var o;return this.cmp(n.Zero)===-1?(o=this.neg().toBuffer(),o[0]&128?o=r.concat([r.from([128]),o]):o[0]=o[0]|128):(o=this.toBuffer(),o[0]&128&&(o=r.concat([r.from([0]),o]))),o.length===1&o[0]===0&&(o=r.from([])),o},n.prototype.toSM=function(o){var a=o?o.endian:"big",l=this.toSMBigEndian();return a==="little"&&(l=u(l)),l},n.fromScriptNumBuffer=function(o,a,l){var f=l||Number.MAX_SAFE_INTEGER;if(i.checkArgument(o.length<=f,new Error("script number overflow")),a&&o.length>0&&(o[o.length-1]&127)===0&&(o.length<=1||(o[o.length-2]&128)===0))throw new Error("non-minimally encoded script number");return n.fromSM(o,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.trim=function(o,a){return o.slice(a-o.length,o.length)},n.pad=function(o,a,l){for(var f=r.alloc(l),c=0;c<o.length;c++)f[f.length-1-c]=o[o.length-1-c];for(c=0;c<l-a;c++)f[c]=0;return f},n.prototype.toHex=function(...o){return this.toBuffer(...o).toString("hex")},n.fromHex=function(o,...a){return n.fromBuffer(r.from(o,"hex"),...a)},t.exports=n});Ve("jBF4k",function(t,e){var r=gr.Buffer;(function(n,i){"use strict";function s(A,b){if(!A)throw new Error(b||"Assertion failed")}function u(A,b){A.super_=b;var g=function(){};g.prototype=b.prototype,A.prototype=new g,A.prototype.constructor=A}function o(A,b,g){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((b==="le"||b==="be")&&(g=b,b=10),this._init(A||0,b||10,g||"be"))}typeof n=="object"?n.exports=o:i.BN=o,o.BN=o,o.wordSize=26,o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,g){return b.cmp(g)>0?b:g},o.min=function(b,g){return b.cmp(g)<0?b:g},o.prototype._init=function(b,g,v){if(typeof b=="number")return this._initNumber(b,g,v);if(typeof b=="object")return this._initArray(b,g,v);g==="hex"&&(g=16),s(g===(g|0)&&g>=2&&g<=36),b=b.toString().replace(/\s+/g,"");var E=0;b[0]==="-"&&E++,g===16?this._parseHex(b,E):this._parseBase(b,g,E),b[0]==="-"&&(this.negative=1),this.strip(),v==="le"&&this._initArray(this.toArray(),g,v)},o.prototype._initNumber=function(b,g,v){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(s(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),g,v)},o.prototype._initArray=function(b,g,v){if(s(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var C,R,O=0;if(v==="be")for(E=b.length-1,C=0;E>=0;E-=3)R=b[E]|b[E-1]<<8|b[E-2]<<16,this.words[C]|=R<<O&67108863,this.words[C+1]=R>>>26-O&67108863,O+=24,O>=26&&(O-=26,C++);else if(v==="le")for(E=0,C=0;E<b.length;E+=3)R=b[E]|b[E+1]<<8|b[E+2]<<16,this.words[C]|=R<<O&67108863,this.words[C+1]=R>>>26-O&67108863,O+=24,O>=26&&(O-=26,C++);return this.strip()};function a(A,b,g){for(var v=0,E=Math.min(A.length,g),C=b;C<E;C++){var R=A.charCodeAt(C)-48;v<<=4,R>=49&&R<=54?v|=R-49+10:R>=17&&R<=22?v|=R-17+10:v|=R&15}return v}o.prototype._parseHex=function(b,g){this.length=Math.ceil((b.length-g)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var E,C,R=0;for(v=b.length-6,E=0;v>=g;v-=6)C=a(b,v,v+6),this.words[E]|=C<<R&67108863,this.words[E+1]|=C>>>26-R&4194303,R+=24,R>=26&&(R-=26,E++);v+6!==g&&(C=a(b,g,v+6),this.words[E]|=C<<R&67108863,this.words[E+1]|=C>>>26-R&4194303),this.strip()};function l(A,b,g,v){for(var E=0,C=Math.min(A.length,g),R=b;R<C;R++){var O=A.charCodeAt(R)-48;E*=v,O>=49?E+=O-49+10:O>=17?E+=O-17+10:E+=O}return E}o.prototype._parseBase=function(b,g,v){this.words=[0],this.length=1;for(var E=0,C=1;C<=67108863;C*=g)E++;E--,C=C/g|0;for(var R=b.length-v,O=R%E,M=Math.min(R,R-O)+v,T=0,U=v;U<M;U+=E)T=l(b,U,U+E,g),this.imuln(C),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(O!==0){var Y=1;for(T=l(b,U,b.length,g),U=0;U<O;U++)Y*=g;this.imuln(Y),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}},o.prototype.copy=function(b){b.words=new Array(this.length);for(var g=0;g<this.length;g++)b.words[g]=this.words[g];b.length=this.length,b.negative=this.negative,b.red=this.red},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,g){b=b||10,g=g|0||1;var v;if(b===16||b==="hex"){v="";for(var E=0,C=0,R=0;R<this.length;R++){var O=this.words[R],M=((O<<E|C)&16777215).toString(16);C=O>>>24-E&16777215,E+=2,E>=26&&(E-=26,R--),C!==0||R!==this.length-1?v=f[6-M.length]+M+v:v=M+v}for(C!==0&&(v=C.toString(16)+v);v.length%g!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(b===(b|0)&&b>=2&&b<=36){var T=c[b],U=h[b];v="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var te=Y.modn(U).toString(b);Y=Y.idivn(U),Y.isZero()?v=te+v:v=f[T-te.length]+te+v}for(this.isZero()&&(v="0"+v);v.length%g!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}s(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(b,g){return s(typeof r<"u"),this.toArrayLike(r,b,g)},o.prototype.toArray=function(b,g){return this.toArrayLike(Array,b,g)},o.prototype.toArrayLike=function(b,g,v){var E=this.byteLength(),C=v||Math.max(1,E);s(E<=C,"byte array longer than desired length"),s(C>0,"Requested array length <= 0"),this.strip();var R=g==="le",O=new b(C),M,T,U=this.clone();if(R){for(T=0;!U.isZero();T++)M=U.andln(255),U.iushrn(8),O[T]=M;for(;T<C;T++)O[T]=0}else{for(T=0;T<C-E;T++)O[T]=0;for(T=0;!U.isZero();T++)M=U.andln(255),U.iushrn(8),O[C-T-1]=M}return O},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var g=b,v=0;return g>=4096&&(v+=13,g>>>=13),g>=64&&(v+=7,g>>>=7),g>=8&&(v+=4,g>>>=4),g>=2&&(v+=2,g>>>=2),v+g},o.prototype._zeroBits=function(b){if(b===0)return 26;var g=b,v=0;return(g&8191)===0&&(v+=13,g>>>=13),(g&127)===0&&(v+=7,g>>>=7),(g&15)===0&&(v+=4,g>>>=4),(g&3)===0&&(v+=2,g>>>=2),(g&1)===0&&v++,v},o.prototype.bitLength=function(){var b=this.words[this.length-1],g=this._countBits(b);return(this.length-1)*26+g};function d(A){for(var b=new Array(A.bitLength()),g=0;g<b.length;g++){var v=g/26|0,E=g%26;b[g]=(A.words[v]&1<<E)>>>E}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,g=0;g<this.length;g++){var v=this._zeroBits(this.words[g]);if(b+=v,v!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var g=0;g<b.length;g++)this.words[g]=this.words[g]|b.words[g];return this.strip()},o.prototype.ior=function(b){return s((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var g;this.length>b.length?g=b:g=this;for(var v=0;v<g.length;v++)this.words[v]=this.words[v]&b.words[v];return this.length=g.length,this.strip()},o.prototype.iand=function(b){return s((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var g,v;this.length>b.length?(g=this,v=b):(g=b,v=this);for(var E=0;E<v.length;E++)this.words[E]=g.words[E]^v.words[E];if(this!==g)for(;E<g.length;E++)this.words[E]=g.words[E];return this.length=g.length,this.strip()},o.prototype.ixor=function(b){return s((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){s(typeof b=="number"&&b>=0);var g=Math.ceil(b/26)|0,v=b%26;this._expand(g),v>0&&g--;for(var E=0;E<g;E++)this.words[E]=~this.words[E]&67108863;return v>0&&(this.words[E]=~this.words[E]&67108863>>26-v),this.strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,g){s(typeof b=="number"&&b>=0);var v=b/26|0,E=b%26;return this._expand(v+1),g?this.words[v]=this.words[v]|1<<E:this.words[v]=this.words[v]&~(1<<E),this.strip()},o.prototype.iadd=function(b){var g;if(this.negative!==0&&b.negative===0)return this.negative=0,g=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,g=this.isub(b),b.negative=1,g._normSign();var v,E;this.length>b.length?(v=this,E=b):(v=b,E=this);for(var C=0,R=0;R<E.length;R++)g=(v.words[R]|0)+(E.words[R]|0)+C,this.words[R]=g&67108863,C=g>>>26;for(;C!==0&&R<v.length;R++)g=(v.words[R]|0)+C,this.words[R]=g&67108863,C=g>>>26;if(this.length=v.length,C!==0)this.words[this.length]=C,this.length++;else if(v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this},o.prototype.add=function(b){var g;return b.negative!==0&&this.negative===0?(b.negative=0,g=this.sub(b),b.negative^=1,g):b.negative===0&&this.negative!==0?(this.negative=0,g=b.sub(this),this.negative=1,g):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var g=this.iadd(b);return b.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var v=this.cmp(b);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,C;v>0?(E=this,C=b):(E=b,C=this);for(var R=0,O=0;O<C.length;O++)g=(E.words[O]|0)-(C.words[O]|0)+R,R=g>>26,this.words[O]=g&67108863;for(;R!==0&&O<E.length;O++)g=(E.words[O]|0)+R,R=g>>26,this.words[O]=g&67108863;if(R===0&&O<E.length&&E!==this)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=Math.max(this.length,O),E!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function p(A,b,g){g.negative=b.negative^A.negative;var v=A.length+b.length|0;g.length=v,v=v-1|0;var E=A.words[0]|0,C=b.words[0]|0,R=E*C,O=R&67108863,M=R/67108864|0;g.words[0]=O;for(var T=1;T<v;T++){for(var U=M>>>26,Y=M&67108863,te=Math.min(T,b.length-1),J=Math.max(0,T-A.length+1);J<=te;J++){var ce=T-J|0;E=A.words[ce]|0,C=b.words[J]|0,R=E*C+Y,U+=R/67108864|0,Y=R&67108863}g.words[T]=Y|0,M=U|0}return M!==0?g.words[T]=M|0:g.length--,g.strip()}var m=function(b,g,v){var E=b.words,C=g.words,R=v.words,O=0,M,T,U,Y=E[0]|0,te=Y&8191,J=Y>>>13,ce=E[1]|0,se=ce&8191,j=ce>>>13,Z=E[2]|0,ee=Z&8191,ue=Z>>>13,fe=E[3]|0,de=fe&8191,we=fe>>>13,He=E[4]|0,Fe=He&8191,Le=He>>>13,wt=E[5]|0,je=wt&8191,Re=wt>>>13,De=E[6]|0,Xe=De&8191,q=De>>>13,X=E[7]|0,z=X&8191,V=X>>>13,re=E[8]|0,Q=re&8191,ne=re>>>13,be=E[9]|0,ie=be&8191,ye=be>>>13,Oe=C[0]|0,xe=Oe&8191,Te=Oe>>>13,kt=C[1]|0,ot=kt&8191,rt=kt>>>13,hn=C[2]|0,Qt=hn&8191,at=hn>>>13,In=C[3]|0,er=In&8191,ct=In>>>13,Pn=C[4]|0,tr=Pn&8191,ft=Pn>>>13,On=C[5]|0,rr=On&8191,lt=On>>>13,Bn=C[6]|0,nr=Bn&8191,dt=Bn>>>13,kn=C[7]|0,ir=kn&8191,ht=kn>>>13,Cn=C[8]|0,sr=Cn&8191,pt=Cn>>>13,Fn=C[9]|0,zt=Fn&8191,Vt=Fn>>>13;v.negative=b.negative^g.negative,v.length=19,M=Math.imul(te,xe),T=Math.imul(te,Te),T=T+Math.imul(J,xe)|0,U=Math.imul(J,Te);var $0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+($0>>>26)|0,$0&=67108863,M=Math.imul(se,xe),T=Math.imul(se,Te),T=T+Math.imul(j,xe)|0,U=Math.imul(j,Te),M=M+Math.imul(te,ot)|0,T=T+Math.imul(te,rt)|0,T=T+Math.imul(J,ot)|0,U=U+Math.imul(J,rt)|0;var q0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(q0>>>26)|0,q0&=67108863,M=Math.imul(ee,xe),T=Math.imul(ee,Te),T=T+Math.imul(ue,xe)|0,U=Math.imul(ue,Te),M=M+Math.imul(se,ot)|0,T=T+Math.imul(se,rt)|0,T=T+Math.imul(j,ot)|0,U=U+Math.imul(j,rt)|0,M=M+Math.imul(te,Qt)|0,T=T+Math.imul(te,at)|0,T=T+Math.imul(J,Qt)|0,U=U+Math.imul(J,at)|0;var j0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(j0>>>26)|0,j0&=67108863,M=Math.imul(de,xe),T=Math.imul(de,Te),T=T+Math.imul(we,xe)|0,U=Math.imul(we,Te),M=M+Math.imul(ee,ot)|0,T=T+Math.imul(ee,rt)|0,T=T+Math.imul(ue,ot)|0,U=U+Math.imul(ue,rt)|0,M=M+Math.imul(se,Qt)|0,T=T+Math.imul(se,at)|0,T=T+Math.imul(j,Qt)|0,U=U+Math.imul(j,at)|0,M=M+Math.imul(te,er)|0,T=T+Math.imul(te,ct)|0,T=T+Math.imul(J,er)|0,U=U+Math.imul(J,ct)|0;var K0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(K0>>>26)|0,K0&=67108863,M=Math.imul(Fe,xe),T=Math.imul(Fe,Te),T=T+Math.imul(Le,xe)|0,U=Math.imul(Le,Te),M=M+Math.imul(de,ot)|0,T=T+Math.imul(de,rt)|0,T=T+Math.imul(we,ot)|0,U=U+Math.imul(we,rt)|0,M=M+Math.imul(ee,Qt)|0,T=T+Math.imul(ee,at)|0,T=T+Math.imul(ue,Qt)|0,U=U+Math.imul(ue,at)|0,M=M+Math.imul(se,er)|0,T=T+Math.imul(se,ct)|0,T=T+Math.imul(j,er)|0,U=U+Math.imul(j,ct)|0,M=M+Math.imul(te,tr)|0,T=T+Math.imul(te,ft)|0,T=T+Math.imul(J,tr)|0,U=U+Math.imul(J,ft)|0;var z0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(z0>>>26)|0,z0&=67108863,M=Math.imul(je,xe),T=Math.imul(je,Te),T=T+Math.imul(Re,xe)|0,U=Math.imul(Re,Te),M=M+Math.imul(Fe,ot)|0,T=T+Math.imul(Fe,rt)|0,T=T+Math.imul(Le,ot)|0,U=U+Math.imul(Le,rt)|0,M=M+Math.imul(de,Qt)|0,T=T+Math.imul(de,at)|0,T=T+Math.imul(we,Qt)|0,U=U+Math.imul(we,at)|0,M=M+Math.imul(ee,er)|0,T=T+Math.imul(ee,ct)|0,T=T+Math.imul(ue,er)|0,U=U+Math.imul(ue,ct)|0,M=M+Math.imul(se,tr)|0,T=T+Math.imul(se,ft)|0,T=T+Math.imul(j,tr)|0,U=U+Math.imul(j,ft)|0,M=M+Math.imul(te,rr)|0,T=T+Math.imul(te,lt)|0,T=T+Math.imul(J,rr)|0,U=U+Math.imul(J,lt)|0;var V0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(V0>>>26)|0,V0&=67108863,M=Math.imul(Xe,xe),T=Math.imul(Xe,Te),T=T+Math.imul(q,xe)|0,U=Math.imul(q,Te),M=M+Math.imul(je,ot)|0,T=T+Math.imul(je,rt)|0,T=T+Math.imul(Re,ot)|0,U=U+Math.imul(Re,rt)|0,M=M+Math.imul(Fe,Qt)|0,T=T+Math.imul(Fe,at)|0,T=T+Math.imul(Le,Qt)|0,U=U+Math.imul(Le,at)|0,M=M+Math.imul(de,er)|0,T=T+Math.imul(de,ct)|0,T=T+Math.imul(we,er)|0,U=U+Math.imul(we,ct)|0,M=M+Math.imul(ee,tr)|0,T=T+Math.imul(ee,ft)|0,T=T+Math.imul(ue,tr)|0,U=U+Math.imul(ue,ft)|0,M=M+Math.imul(se,rr)|0,T=T+Math.imul(se,lt)|0,T=T+Math.imul(j,rr)|0,U=U+Math.imul(j,lt)|0,M=M+Math.imul(te,nr)|0,T=T+Math.imul(te,dt)|0,T=T+Math.imul(J,nr)|0,U=U+Math.imul(J,dt)|0;var G0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(G0>>>26)|0,G0&=67108863,M=Math.imul(z,xe),T=Math.imul(z,Te),T=T+Math.imul(V,xe)|0,U=Math.imul(V,Te),M=M+Math.imul(Xe,ot)|0,T=T+Math.imul(Xe,rt)|0,T=T+Math.imul(q,ot)|0,U=U+Math.imul(q,rt)|0,M=M+Math.imul(je,Qt)|0,T=T+Math.imul(je,at)|0,T=T+Math.imul(Re,Qt)|0,U=U+Math.imul(Re,at)|0,M=M+Math.imul(Fe,er)|0,T=T+Math.imul(Fe,ct)|0,T=T+Math.imul(Le,er)|0,U=U+Math.imul(Le,ct)|0,M=M+Math.imul(de,tr)|0,T=T+Math.imul(de,ft)|0,T=T+Math.imul(we,tr)|0,U=U+Math.imul(we,ft)|0,M=M+Math.imul(ee,rr)|0,T=T+Math.imul(ee,lt)|0,T=T+Math.imul(ue,rr)|0,U=U+Math.imul(ue,lt)|0,M=M+Math.imul(se,nr)|0,T=T+Math.imul(se,dt)|0,T=T+Math.imul(j,nr)|0,U=U+Math.imul(j,dt)|0,M=M+Math.imul(te,ir)|0,T=T+Math.imul(te,ht)|0,T=T+Math.imul(J,ir)|0,U=U+Math.imul(J,ht)|0;var W0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(W0>>>26)|0,W0&=67108863,M=Math.imul(Q,xe),T=Math.imul(Q,Te),T=T+Math.imul(ne,xe)|0,U=Math.imul(ne,Te),M=M+Math.imul(z,ot)|0,T=T+Math.imul(z,rt)|0,T=T+Math.imul(V,ot)|0,U=U+Math.imul(V,rt)|0,M=M+Math.imul(Xe,Qt)|0,T=T+Math.imul(Xe,at)|0,T=T+Math.imul(q,Qt)|0,U=U+Math.imul(q,at)|0,M=M+Math.imul(je,er)|0,T=T+Math.imul(je,ct)|0,T=T+Math.imul(Re,er)|0,U=U+Math.imul(Re,ct)|0,M=M+Math.imul(Fe,tr)|0,T=T+Math.imul(Fe,ft)|0,T=T+Math.imul(Le,tr)|0,U=U+Math.imul(Le,ft)|0,M=M+Math.imul(de,rr)|0,T=T+Math.imul(de,lt)|0,T=T+Math.imul(we,rr)|0,U=U+Math.imul(we,lt)|0,M=M+Math.imul(ee,nr)|0,T=T+Math.imul(ee,dt)|0,T=T+Math.imul(ue,nr)|0,U=U+Math.imul(ue,dt)|0,M=M+Math.imul(se,ir)|0,T=T+Math.imul(se,ht)|0,T=T+Math.imul(j,ir)|0,U=U+Math.imul(j,ht)|0,M=M+Math.imul(te,sr)|0,T=T+Math.imul(te,pt)|0,T=T+Math.imul(J,sr)|0,U=U+Math.imul(J,pt)|0;var Y0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(Y0>>>26)|0,Y0&=67108863,M=Math.imul(ie,xe),T=Math.imul(ie,Te),T=T+Math.imul(ye,xe)|0,U=Math.imul(ye,Te),M=M+Math.imul(Q,ot)|0,T=T+Math.imul(Q,rt)|0,T=T+Math.imul(ne,ot)|0,U=U+Math.imul(ne,rt)|0,M=M+Math.imul(z,Qt)|0,T=T+Math.imul(z,at)|0,T=T+Math.imul(V,Qt)|0,U=U+Math.imul(V,at)|0,M=M+Math.imul(Xe,er)|0,T=T+Math.imul(Xe,ct)|0,T=T+Math.imul(q,er)|0,U=U+Math.imul(q,ct)|0,M=M+Math.imul(je,tr)|0,T=T+Math.imul(je,ft)|0,T=T+Math.imul(Re,tr)|0,U=U+Math.imul(Re,ft)|0,M=M+Math.imul(Fe,rr)|0,T=T+Math.imul(Fe,lt)|0,T=T+Math.imul(Le,rr)|0,U=U+Math.imul(Le,lt)|0,M=M+Math.imul(de,nr)|0,T=T+Math.imul(de,dt)|0,T=T+Math.imul(we,nr)|0,U=U+Math.imul(we,dt)|0,M=M+Math.imul(ee,ir)|0,T=T+Math.imul(ee,ht)|0,T=T+Math.imul(ue,ir)|0,U=U+Math.imul(ue,ht)|0,M=M+Math.imul(se,sr)|0,T=T+Math.imul(se,pt)|0,T=T+Math.imul(j,sr)|0,U=U+Math.imul(j,pt)|0,M=M+Math.imul(te,zt)|0,T=T+Math.imul(te,Vt)|0,T=T+Math.imul(J,zt)|0,U=U+Math.imul(J,Vt)|0;var X0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(X0>>>26)|0,X0&=67108863,M=Math.imul(ie,ot),T=Math.imul(ie,rt),T=T+Math.imul(ye,ot)|0,U=Math.imul(ye,rt),M=M+Math.imul(Q,Qt)|0,T=T+Math.imul(Q,at)|0,T=T+Math.imul(ne,Qt)|0,U=U+Math.imul(ne,at)|0,M=M+Math.imul(z,er)|0,T=T+Math.imul(z,ct)|0,T=T+Math.imul(V,er)|0,U=U+Math.imul(V,ct)|0,M=M+Math.imul(Xe,tr)|0,T=T+Math.imul(Xe,ft)|0,T=T+Math.imul(q,tr)|0,U=U+Math.imul(q,ft)|0,M=M+Math.imul(je,rr)|0,T=T+Math.imul(je,lt)|0,T=T+Math.imul(Re,rr)|0,U=U+Math.imul(Re,lt)|0,M=M+Math.imul(Fe,nr)|0,T=T+Math.imul(Fe,dt)|0,T=T+Math.imul(Le,nr)|0,U=U+Math.imul(Le,dt)|0,M=M+Math.imul(de,ir)|0,T=T+Math.imul(de,ht)|0,T=T+Math.imul(we,ir)|0,U=U+Math.imul(we,ht)|0,M=M+Math.imul(ee,sr)|0,T=T+Math.imul(ee,pt)|0,T=T+Math.imul(ue,sr)|0,U=U+Math.imul(ue,pt)|0,M=M+Math.imul(se,zt)|0,T=T+Math.imul(se,Vt)|0,T=T+Math.imul(j,zt)|0,U=U+Math.imul(j,Vt)|0;var Z0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(Z0>>>26)|0,Z0&=67108863,M=Math.imul(ie,Qt),T=Math.imul(ie,at),T=T+Math.imul(ye,Qt)|0,U=Math.imul(ye,at),M=M+Math.imul(Q,er)|0,T=T+Math.imul(Q,ct)|0,T=T+Math.imul(ne,er)|0,U=U+Math.imul(ne,ct)|0,M=M+Math.imul(z,tr)|0,T=T+Math.imul(z,ft)|0,T=T+Math.imul(V,tr)|0,U=U+Math.imul(V,ft)|0,M=M+Math.imul(Xe,rr)|0,T=T+Math.imul(Xe,lt)|0,T=T+Math.imul(q,rr)|0,U=U+Math.imul(q,lt)|0,M=M+Math.imul(je,nr)|0,T=T+Math.imul(je,dt)|0,T=T+Math.imul(Re,nr)|0,U=U+Math.imul(Re,dt)|0,M=M+Math.imul(Fe,ir)|0,T=T+Math.imul(Fe,ht)|0,T=T+Math.imul(Le,ir)|0,U=U+Math.imul(Le,ht)|0,M=M+Math.imul(de,sr)|0,T=T+Math.imul(de,pt)|0,T=T+Math.imul(we,sr)|0,U=U+Math.imul(we,pt)|0,M=M+Math.imul(ee,zt)|0,T=T+Math.imul(ee,Vt)|0,T=T+Math.imul(ue,zt)|0,U=U+Math.imul(ue,Vt)|0;var J0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(J0>>>26)|0,J0&=67108863,M=Math.imul(ie,er),T=Math.imul(ie,ct),T=T+Math.imul(ye,er)|0,U=Math.imul(ye,ct),M=M+Math.imul(Q,tr)|0,T=T+Math.imul(Q,ft)|0,T=T+Math.imul(ne,tr)|0,U=U+Math.imul(ne,ft)|0,M=M+Math.imul(z,rr)|0,T=T+Math.imul(z,lt)|0,T=T+Math.imul(V,rr)|0,U=U+Math.imul(V,lt)|0,M=M+Math.imul(Xe,nr)|0,T=T+Math.imul(Xe,dt)|0,T=T+Math.imul(q,nr)|0,U=U+Math.imul(q,dt)|0,M=M+Math.imul(je,ir)|0,T=T+Math.imul(je,ht)|0,T=T+Math.imul(Re,ir)|0,U=U+Math.imul(Re,ht)|0,M=M+Math.imul(Fe,sr)|0,T=T+Math.imul(Fe,pt)|0,T=T+Math.imul(Le,sr)|0,U=U+Math.imul(Le,pt)|0,M=M+Math.imul(de,zt)|0,T=T+Math.imul(de,Vt)|0,T=T+Math.imul(we,zt)|0,U=U+Math.imul(we,Vt)|0;var Q0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,M=Math.imul(ie,tr),T=Math.imul(ie,ft),T=T+Math.imul(ye,tr)|0,U=Math.imul(ye,ft),M=M+Math.imul(Q,rr)|0,T=T+Math.imul(Q,lt)|0,T=T+Math.imul(ne,rr)|0,U=U+Math.imul(ne,lt)|0,M=M+Math.imul(z,nr)|0,T=T+Math.imul(z,dt)|0,T=T+Math.imul(V,nr)|0,U=U+Math.imul(V,dt)|0,M=M+Math.imul(Xe,ir)|0,T=T+Math.imul(Xe,ht)|0,T=T+Math.imul(q,ir)|0,U=U+Math.imul(q,ht)|0,M=M+Math.imul(je,sr)|0,T=T+Math.imul(je,pt)|0,T=T+Math.imul(Re,sr)|0,U=U+Math.imul(Re,pt)|0,M=M+Math.imul(Fe,zt)|0,T=T+Math.imul(Fe,Vt)|0,T=T+Math.imul(Le,zt)|0,U=U+Math.imul(Le,Vt)|0;var ef=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(ef>>>26)|0,ef&=67108863,M=Math.imul(ie,rr),T=Math.imul(ie,lt),T=T+Math.imul(ye,rr)|0,U=Math.imul(ye,lt),M=M+Math.imul(Q,nr)|0,T=T+Math.imul(Q,dt)|0,T=T+Math.imul(ne,nr)|0,U=U+Math.imul(ne,dt)|0,M=M+Math.imul(z,ir)|0,T=T+Math.imul(z,ht)|0,T=T+Math.imul(V,ir)|0,U=U+Math.imul(V,ht)|0,M=M+Math.imul(Xe,sr)|0,T=T+Math.imul(Xe,pt)|0,T=T+Math.imul(q,sr)|0,U=U+Math.imul(q,pt)|0,M=M+Math.imul(je,zt)|0,T=T+Math.imul(je,Vt)|0,T=T+Math.imul(Re,zt)|0,U=U+Math.imul(Re,Vt)|0;var tf=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(tf>>>26)|0,tf&=67108863,M=Math.imul(ie,nr),T=Math.imul(ie,dt),T=T+Math.imul(ye,nr)|0,U=Math.imul(ye,dt),M=M+Math.imul(Q,ir)|0,T=T+Math.imul(Q,ht)|0,T=T+Math.imul(ne,ir)|0,U=U+Math.imul(ne,ht)|0,M=M+Math.imul(z,sr)|0,T=T+Math.imul(z,pt)|0,T=T+Math.imul(V,sr)|0,U=U+Math.imul(V,pt)|0,M=M+Math.imul(Xe,zt)|0,T=T+Math.imul(Xe,Vt)|0,T=T+Math.imul(q,zt)|0,U=U+Math.imul(q,Vt)|0;var rf=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(rf>>>26)|0,rf&=67108863,M=Math.imul(ie,ir),T=Math.imul(ie,ht),T=T+Math.imul(ye,ir)|0,U=Math.imul(ye,ht),M=M+Math.imul(Q,sr)|0,T=T+Math.imul(Q,pt)|0,T=T+Math.imul(ne,sr)|0,U=U+Math.imul(ne,pt)|0,M=M+Math.imul(z,zt)|0,T=T+Math.imul(z,Vt)|0,T=T+Math.imul(V,zt)|0,U=U+Math.imul(V,Vt)|0;var nf=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(nf>>>26)|0,nf&=67108863,M=Math.imul(ie,sr),T=Math.imul(ie,pt),T=T+Math.imul(ye,sr)|0,U=Math.imul(ye,pt),M=M+Math.imul(Q,zt)|0,T=T+Math.imul(Q,Vt)|0,T=T+Math.imul(ne,zt)|0,U=U+Math.imul(ne,Vt)|0;var S6=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(S6>>>26)|0,S6&=67108863,M=Math.imul(ie,zt),T=Math.imul(ie,Vt),T=T+Math.imul(ye,zt)|0,U=Math.imul(ye,Vt);var _6=(O+M|0)+((T&8191)<<13)|0;return O=(U+(T>>>13)|0)+(_6>>>26)|0,_6&=67108863,R[0]=$0,R[1]=q0,R[2]=j0,R[3]=K0,R[4]=z0,R[5]=V0,R[6]=G0,R[7]=W0,R[8]=Y0,R[9]=X0,R[10]=Z0,R[11]=J0,R[12]=Q0,R[13]=ef,R[14]=tf,R[15]=rf,R[16]=nf,R[17]=S6,R[18]=_6,O!==0&&(R[19]=O,v.length++),v};Math.imul||(m=p);function w(A,b,g){g.negative=b.negative^A.negative,g.length=A.length+b.length;for(var v=0,E=0,C=0;C<g.length-1;C++){var R=E;E=0;for(var O=v&67108863,M=Math.min(C,b.length-1),T=Math.max(0,C-A.length+1);T<=M;T++){var U=C-T,Y=A.words[U]|0,te=b.words[T]|0,J=Y*te,ce=J&67108863;R=R+(J/67108864|0)|0,ce=ce+O|0,O=ce&67108863,R=R+(ce>>>26)|0,E+=R>>>26,R&=67108863}g.words[C]=O,v=R,R=E}return v!==0?g.words[C]=v:g.length--,g.strip()}function x(A,b,g){var v=new _;return v.mulp(A,b,g)}o.prototype.mulTo=function(b,g){var v,E=this.length+b.length;return this.length===10&&b.length===10?v=m(this,b,g):E<63?v=p(this,b,g):E<1024?v=w(this,b,g):v=x(this,b,g),v};function _(A,b){this.x=A,this.y=b}_.prototype.makeRBT=function(b){for(var g=new Array(b),v=o.prototype._countBits(b)-1,E=0;E<b;E++)g[E]=this.revBin(E,v,b);return g},_.prototype.revBin=function(b,g,v){if(b===0||b===v-1)return b;for(var E=0,C=0;C<g;C++)E|=(b&1)<<g-C-1,b>>=1;return E},_.prototype.permute=function(b,g,v,E,C,R){for(var O=0;O<R;O++)E[O]=g[b[O]],C[O]=v[b[O]]},_.prototype.transform=function(b,g,v,E,C,R){this.permute(R,b,g,v,E,C);for(var O=1;O<C;O<<=1)for(var M=O<<1,T=Math.cos(2*Math.PI/M),U=Math.sin(2*Math.PI/M),Y=0;Y<C;Y+=M)for(var te=T,J=U,ce=0;ce<O;ce++){var se=v[Y+ce],j=E[Y+ce],Z=v[Y+ce+O],ee=E[Y+ce+O],ue=te*Z-J*ee;ee=te*ee+J*Z,Z=ue,v[Y+ce]=se+Z,E[Y+ce]=j+ee,v[Y+ce+O]=se-Z,E[Y+ce+O]=j-ee,ce!==M&&(ue=T*te-U*J,J=T*J+U*te,te=ue)}},_.prototype.guessLen13b=function(b,g){var v=Math.max(g,b)|1,E=v&1,C=0;for(v=v/2|0;v;v=v>>>1)C++;return 1<<C+1+E},_.prototype.conjugate=function(b,g,v){if(!(v<=1))for(var E=0;E<v/2;E++){var C=b[E];b[E]=b[v-E-1],b[v-E-1]=C,C=g[E],g[E]=-g[v-E-1],g[v-E-1]=-C}},_.prototype.normalize13b=function(b,g){for(var v=0,E=0;E<g/2;E++){var C=Math.round(b[2*E+1]/g)*8192+Math.round(b[2*E]/g)+v;b[E]=C&67108863,C<67108864?v=0:v=C/67108864|0}return b},_.prototype.convert13b=function(b,g,v,E){for(var C=0,R=0;R<g;R++)C=C+(b[R]|0),v[2*R]=C&8191,C=C>>>13,v[2*R+1]=C&8191,C=C>>>13;for(R=2*g;R<E;++R)v[R]=0;s(C===0),s((C&-8192)===0)},_.prototype.stub=function(b){for(var g=new Array(b),v=0;v<b;v++)g[v]=0;return g},_.prototype.mulp=function(b,g,v){var E=2*this.guessLen13b(b.length,g.length),C=this.makeRBT(E),R=this.stub(E),O=new Array(E),M=new Array(E),T=new Array(E),U=new Array(E),Y=new Array(E),te=new Array(E),J=v.words;J.length=E,this.convert13b(b.words,b.length,O,E),this.convert13b(g.words,g.length,U,E),this.transform(O,R,M,T,E,C),this.transform(U,R,Y,te,E,C);for(var ce=0;ce<E;ce++){var se=M[ce]*Y[ce]-T[ce]*te[ce];T[ce]=M[ce]*te[ce]+T[ce]*Y[ce],M[ce]=se}return this.conjugate(M,T,E),this.transform(M,T,J,R,E,C),this.conjugate(J,R,E),this.normalize13b(J,E),v.negative=b.negative^g.negative,v.length=b.length+g.length,v.strip()},o.prototype.mul=function(b){var g=new o(null);return g.words=new Array(this.length+b.length),this.mulTo(b,g)},o.prototype.mulf=function(b){var g=new o(null);return g.words=new Array(this.length+b.length),x(this,b,g)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){s(typeof b=="number"),s(b<67108864);for(var g=0,v=0;v<this.length;v++){var E=(this.words[v]|0)*b,C=(E&67108863)+(g&67108863);g>>=26,g+=E/67108864|0,g+=C>>>26,this.words[v]=C&67108863}return g!==0&&(this.words[v]=g,this.length++),this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var g=d(b);if(g.length===0)return new o(1);for(var v=this,E=0;E<g.length&&g[E]===0;E++,v=v.sqr());if(++E<g.length)for(var C=v.sqr();E<g.length;E++,C=C.sqr())g[E]!==0&&(v=v.mul(C));return v},o.prototype.iushln=function(b){s(typeof b=="number"&&b>=0);var g=b%26,v=(b-g)/26,E=67108863>>>26-g<<26-g,C;if(g!==0){var R=0;for(C=0;C<this.length;C++){var O=this.words[C]&E,M=(this.words[C]|0)-O<<g;this.words[C]=M|R,R=O>>>26-g}R&&(this.words[C]=R,this.length++)}if(v!==0){for(C=this.length-1;C>=0;C--)this.words[C+v]=this.words[C];for(C=0;C<v;C++)this.words[C]=0;this.length+=v}return this.strip()},o.prototype.ishln=function(b){return s(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,g,v){s(typeof b=="number"&&b>=0);var E;g?E=(g-g%26)/26:E=0;var C=b%26,R=Math.min((b-C)/26,this.length),O=67108863^67108863>>>C<<C,M=v;if(E-=R,E=Math.max(0,E),M){for(var T=0;T<R;T++)M.words[T]=this.words[T];M.length=R}if(R!==0)if(this.length>R)for(this.length-=R,T=0;T<this.length;T++)this.words[T]=this.words[T+R];else this.words[0]=0,this.length=1;var U=0;for(T=this.length-1;T>=0&&(U!==0||T>=E);T--){var Y=this.words[T]|0;this.words[T]=U<<26-C|Y>>>C,U=Y&O}return M&&U!==0&&(M.words[M.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(b,g,v){return s(this.negative===0),this.iushrn(b,g,v)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){s(typeof b=="number"&&b>=0);var g=b%26,v=(b-g)/26,E=1<<g;if(this.length<=v)return!1;var C=this.words[v];return!!(C&E)},o.prototype.imaskn=function(b){s(typeof b=="number"&&b>=0);var g=b%26,v=(b-g)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(g!==0&&v++,this.length=Math.min(v,this.length),g!==0){var E=67108863^67108863>>>g<<g;this.words[this.length-1]&=E}return this.strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return s(typeof b=="number"),s(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(b){if(s(typeof b=="number"),s(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,g,v){var E=b.length+v,C;this._expand(E);var R,O=0;for(C=0;C<b.length;C++){R=(this.words[C+v]|0)+O;var M=(b.words[C]|0)*g;R-=M&67108863,O=(R>>26)-(M/67108864|0),this.words[C+v]=R&67108863}for(;C<this.length-v;C++)R=(this.words[C+v]|0)+O,O=R>>26,this.words[C+v]=R&67108863;if(O===0)return this.strip();for(s(O===-1),O=0,C=0;C<this.length;C++)R=-(this.words[C]|0)+O,O=R>>26,this.words[C]=R&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(b,g){var v=this.length-b.length,E=this.clone(),C=b,R=C.words[C.length-1]|0,O=this._countBits(R);v=26-O,v!==0&&(C=C.ushln(v),E.iushln(v),R=C.words[C.length-1]|0);var M=E.length-C.length,T;if(g!=="mod"){T=new o(null),T.length=M+1,T.words=new Array(T.length);for(var U=0;U<T.length;U++)T.words[U]=0}var Y=E.clone()._ishlnsubmul(C,1,M);Y.negative===0&&(E=Y,T&&(T.words[M]=1));for(var te=M-1;te>=0;te--){var J=(E.words[C.length+te]|0)*67108864+(E.words[C.length+te-1]|0);for(J=Math.min(J/R|0,67108863),E._ishlnsubmul(C,J,te);E.negative!==0;)J--,E.negative=0,E._ishlnsubmul(C,1,te),E.isZero()||(E.negative^=1);T&&(T.words[te]=J)}return T&&T.strip(),E.strip(),g!=="div"&&v!==0&&E.iushrn(v),{div:T||null,mod:E}},o.prototype.divmod=function(b,g,v){if(s(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var E,C,R;return this.negative!==0&&b.negative===0?(R=this.neg().divmod(b,g),g!=="mod"&&(E=R.div.neg()),g!=="div"&&(C=R.mod.neg(),v&&C.negative!==0&&C.iadd(b)),{div:E,mod:C}):this.negative===0&&b.negative!==0?(R=this.divmod(b.neg(),g),g!=="mod"&&(E=R.div.neg()),{div:E,mod:R.mod}):(this.negative&b.negative)!==0?(R=this.neg().divmod(b.neg(),g),g!=="div"&&(C=R.mod.neg(),v&&C.negative!==0&&C.isub(b)),{div:R.div,mod:C}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?g==="div"?{div:this.divn(b.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modn(b.words[0]))}:this._wordDiv(b,g)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var g=this.divmod(b);if(g.mod.isZero())return g.div;var v=g.div.negative!==0?g.mod.isub(b):g.mod,E=b.ushrn(1),C=b.andln(1),R=v.cmp(E);return R<0||C===1&&R===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(b){s(b<=67108863);for(var g=67108864%b,v=0,E=this.length-1;E>=0;E--)v=(g*v+(this.words[E]|0))%b;return v},o.prototype.idivn=function(b){s(b<=67108863);for(var g=0,v=this.length-1;v>=0;v--){var E=(this.words[v]|0)+g*67108864;this.words[v]=E/b|0,g=E%b}return this.strip()},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){s(b.negative===0),s(!b.isZero());var g=this,v=b.clone();g.negative!==0?g=g.umod(b):g=g.clone();for(var E=new o(1),C=new o(0),R=new o(0),O=new o(1),M=0;g.isEven()&&v.isEven();)g.iushrn(1),v.iushrn(1),++M;for(var T=v.clone(),U=g.clone();!g.isZero();){for(var Y=0,te=1;(g.words[0]&te)===0&&Y<26;++Y,te<<=1);if(Y>0)for(g.iushrn(Y);Y-- >0;)(E.isOdd()||C.isOdd())&&(E.iadd(T),C.isub(U)),E.iushrn(1),C.iushrn(1);for(var J=0,ce=1;(v.words[0]&ce)===0&&J<26;++J,ce<<=1);if(J>0)for(v.iushrn(J);J-- >0;)(R.isOdd()||O.isOdd())&&(R.iadd(T),O.isub(U)),R.iushrn(1),O.iushrn(1);g.cmp(v)>=0?(g.isub(v),E.isub(R),C.isub(O)):(v.isub(g),R.isub(E),O.isub(C))}return{a:R,b:O,gcd:v.iushln(M)}},o.prototype._invmp=function(b){s(b.negative===0),s(!b.isZero());var g=this,v=b.clone();g.negative!==0?g=g.umod(b):g=g.clone();for(var E=new o(1),C=new o(0),R=v.clone();g.cmpn(1)>0&&v.cmpn(1)>0;){for(var O=0,M=1;(g.words[0]&M)===0&&O<26;++O,M<<=1);if(O>0)for(g.iushrn(O);O-- >0;)E.isOdd()&&E.iadd(R),E.iushrn(1);for(var T=0,U=1;(v.words[0]&U)===0&&T<26;++T,U<<=1);if(T>0)for(v.iushrn(T);T-- >0;)C.isOdd()&&C.iadd(R),C.iushrn(1);g.cmp(v)>=0?(g.isub(v),E.isub(C)):(v.isub(g),C.isub(E))}var Y;return g.cmpn(1)===0?Y=E:Y=C,Y.cmpn(0)<0&&Y.iadd(b),Y},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var g=this.clone(),v=b.clone();g.negative=0,v.negative=0;for(var E=0;g.isEven()&&v.isEven();E++)g.iushrn(1),v.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;v.isEven();)v.iushrn(1);var C=g.cmp(v);if(C<0){var R=g;g=v,v=R}else if(C===0||v.cmpn(1)===0)break;g.isub(v)}while(!0);return v.iushln(E)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){s(typeof b=="number");var g=b%26,v=(b-g)/26,E=1<<g;if(this.length<=v)return this._expand(v+1),this.words[v]|=E,this;for(var C=E,R=v;C!==0&&R<this.length;R++){var O=this.words[R]|0;O+=C,C=O>>>26,O&=67108863,this.words[R]=O}return C!==0&&(this.words[R]=C,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var g=b<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var v;if(this.length>1)v=1;else{g&&(b=-b),s(b<=67108863,"Number is too big");var E=this.words[0]|0;v=E===b?0:E<b?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var g=this.ucmp(b);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var g=0,v=this.length-1;v>=0;v--){var E=this.words[v]|0,C=b.words[v]|0;if(E!==C){E<C?g=-1:E>C&&(g=1);break}}return g},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new L(b)},o.prototype.toRed=function(b){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return s(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return s(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var y={k256:null,p224:null,p192:null,p25519:null};function S(A,b){this.name=A,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}S.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},S.prototype.ireduce=function(b){var g=b,v;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),v=g.bitLength();while(v>this.n);var E=v<this.n?-1:g.ucmp(this.p);return E===0?(g.words[0]=0,g.length=1):E>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},S.prototype.split=function(b,g){b.iushrn(this.n,0,g)},S.prototype.imulK=function(b){return b.imul(this.k)};function F(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(F,S),F.prototype.split=function(b,g){for(var v=4194303,E=Math.min(b.length,9),C=0;C<E;C++)g.words[C]=b.words[C];if(g.length=E,b.length<=9){b.words[0]=0,b.length=1;return}var R=b.words[9];for(g.words[g.length++]=R&v,C=10;C<b.length;C++){var O=b.words[C]|0;b.words[C-10]=(O&v)<<4|R>>>22,R=O}R>>>=22,b.words[C-10]=R,R===0&&b.length>10?b.length-=10:b.length-=9},F.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var g=0,v=0;v<b.length;v++){var E=b.words[v]|0;g+=E*977,b.words[v]=g&67108863,g=E*64+(g/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function N(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(N,S);function H(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(H,S);function D(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(D,S),D.prototype.imulK=function(b){for(var g=0,v=0;v<b.length;v++){var E=(b.words[v]|0)*19+g,C=E&67108863;E>>>=26,b.words[v]=C,g=E}return g!==0&&(b.words[b.length++]=g),b},o._prime=function(b){if(y[b])return y[b];var g;if(b==="k256")g=new F;else if(b==="p224")g=new N;else if(b==="p192")g=new H;else if(b==="p25519")g=new D;else throw new Error("Unknown prime "+b);return y[b]=g,g};function L(A){if(typeof A=="string"){var b=o._prime(A);this.m=b.p,this.prime=b}else s(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}L.prototype._verify1=function(b){s(b.negative===0,"red works only with positives"),s(b.red,"red works only with red numbers")},L.prototype._verify2=function(b,g){s((b.negative|g.negative)===0,"red works only with positives"),s(b.red&&b.red===g.red,"red works only with red numbers")},L.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},L.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},L.prototype.add=function(b,g){this._verify2(b,g);var v=b.add(g);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},L.prototype.iadd=function(b,g){this._verify2(b,g);var v=b.iadd(g);return v.cmp(this.m)>=0&&v.isub(this.m),v},L.prototype.sub=function(b,g){this._verify2(b,g);var v=b.sub(g);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},L.prototype.isub=function(b,g){this._verify2(b,g);var v=b.isub(g);return v.cmpn(0)<0&&v.iadd(this.m),v},L.prototype.shl=function(b,g){return this._verify1(b),this.imod(b.ushln(g))},L.prototype.imul=function(b,g){return this._verify2(b,g),this.imod(b.imul(g))},L.prototype.mul=function(b,g){return this._verify2(b,g),this.imod(b.mul(g))},L.prototype.isqr=function(b){return this.imul(b,b.clone())},L.prototype.sqr=function(b){return this.mul(b,b)},L.prototype.sqrt=function(b){if(b.isZero())return b.clone();var g=this.m.andln(3);if(s(g%2===1),g===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(b,v)}for(var E=this.m.subn(1),C=0;!E.isZero()&&E.andln(1)===0;)C++,E.iushrn(1);s(!E.isZero());var R=new o(1).toRed(this),O=R.redNeg(),M=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new o(2*T*T).toRed(this);this.pow(T,M).cmp(O)!==0;)T.redIAdd(O);for(var U=this.pow(T,E),Y=this.pow(b,E.addn(1).iushrn(1)),te=this.pow(b,E),J=C;te.cmp(R)!==0;){for(var ce=te,se=0;ce.cmp(R)!==0;se++)ce=ce.redSqr();s(se<J);var j=this.pow(U,new o(1).iushln(J-se-1));Y=Y.redMul(j),U=j.redSqr(),te=te.redMul(U),J=se}return Y},L.prototype.invm=function(b){var g=b._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},L.prototype.pow=function(b,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return b.clone();var v=4,E=new Array(1<<v);E[0]=new o(1).toRed(this),E[1]=b;for(var C=2;C<E.length;C++)E[C]=this.mul(E[C-1],b);var R=E[0],O=0,M=0,T=g.bitLength()%26;for(T===0&&(T=26),C=g.length-1;C>=0;C--){for(var U=g.words[C],Y=T-1;Y>=0;Y--){var te=U>>Y&1;if(R!==E[0]&&(R=this.sqr(R)),te===0&&O===0){M=0;continue}O<<=1,O|=te,M++,!(M!==v&&(C!==0||Y!==0))&&(R=this.mul(R,E[O]),M=0,O=0)}T=26}return R},L.prototype.convertTo=function(b){var g=b.umod(this.m);return g===b?g.clone():g},L.prototype.convertFrom=function(b){var g=b.clone();return g.red=null,g},o.mont=function(b){return new P(b)};function P(A){L.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(P,L),P.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},P.prototype.convertFrom=function(b){var g=this.imod(b.mul(this.rinv));return g.red=null,g},P.prototype.imul=function(b,g){if(b.isZero()||g.isZero())return b.words[0]=0,b.length=1,b;var v=b.imul(g),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=v.isub(E).iushrn(this.shift),R=C;return C.cmp(this.m)>=0?R=C.isub(this.m):C.cmpn(0)<0&&(R=C.iadd(this.m)),R._forceRed(this)},P.prototype.mul=function(b,g){if(b.isZero()||g.isZero())return new o(0)._forceRed(this);var v=b.mul(g),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=v.isub(E).iushrn(this.shift),R=C;return C.cmp(this.m)>=0?R=C.isub(this.m):C.cmpn(0)<0&&(R=C.iadd(this.m)),R._forceRed(this)},P.prototype.invm=function(b){var g=this.imod(b._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,this)});Ve("6gAsx",function(t,e){var r=gr.Buffer,n=G("kooOK"),i=G("kBBbb");t.exports={checkState:function(s,u){if(!s)throw new n.InvalidState(u)},checkArgument:function(s,u,o,a){if(!s)throw new n.InvalidArgument(u,o,a)},checkArgumentType:function(s,u,o){if(o=o||"(unknown name)",i.isString(u)){if(u==="Buffer"){if(!r.isBuffer(s))throw new n.InvalidArgumentType(s,u,o)}else if(typeof s!==u)throw new n.InvalidArgumentType(s,u,o)}else if(!(s instanceof u))throw new n.InvalidArgumentType(s,u.name,o)}}});Ve("kooOK",function(t,e){"use strict";var r=G("kBBbb");function n(l,f){return l.replace("{0}",f[0]).replace("{1}",f[1]).replace("{2}",f[2])}var i=function(l,f){var c=function(){if(r.isString(f.message))this.message=n(f.message,arguments);else if(r.isFunction(f.message))this.message=f.message.apply(null,arguments);else throw new Error("Invalid error definition for "+f.name);this.stack=this.message+`
`+new Error().stack};return c.prototype=Object.create(l.prototype),c.prototype.name=l.prototype.name+f.name,l[f.name]=c,f.errors&&s(c,f.errors),c},s=function(l,f){r.each(f,function(c){i(l,c)})},u=function(l,f){return s(l,f),l},o={};o.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack},o.Error.prototype=Object.create(Error.prototype),o.Error.prototype.name="bsv.Error";var a=G("hDuMS");u(o.Error,a),t.exports=o.Error,t.exports.extend=function(l){return i(o.Error,l)}});Ve("kBBbb",function(t,e){"use strict";var r={};r.isArray=n=>Array.isArray(n),r.isNumber=n=>typeof n=="number",r.isObject=n=>n&&typeof n=="object",r.isString=n=>typeof n=="string",r.isUndefined=n=>typeof n>"u",r.isFunction=n=>typeof n=="function",r.isNull=n=>n===null,r.isDate=n=>n instanceof Date,r.extend=(n,i)=>Object.assign(n,i),r.noop=()=>{},r.every=(n,i)=>n.every(i||(s=>s)),r.map=(n,i)=>Array.from(n).map(i||(s=>s)),r.includes=(n,i)=>n.includes(i),r.each=(n,i)=>n.forEach(i),r.clone=n=>Object.assign({},n),r.pick=(n,i)=>{let s={};return i.forEach(u=>{typeof n[u]<"u"&&(s[u]=n[u])}),s},r.values=n=>Object.values(n),r.filter=(n,i)=>n.filter(i),r.reduce=(n,i,s)=>n.reduce(i,s),r.without=(n,i)=>n.filter(s=>s!==i),r.shuffle=n=>{let i=n.slice(0);for(let s=i.length-1;s>0;s--){let u=Math.floor(Math.random()*(s+1));[i[s],i[u]]=[i[u],i[s]]}return i},r.difference=(n,i)=>n.filter(s=>!i.includes(s)),r.findIndex=(n,i)=>n.findIndex(i),r.some=(n,i)=>n.some(i),r.range=n=>[...Array(n).keys()],r.isPositiveNumber=n=>n<126,t.exports=r});Ve("hDuMS",function(t,e){"use strict";var r="https://docs.moneybutton.com/";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+r+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"MissingInput",message:"Invalid inputIndex."}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"MissingOutput",message:"Output not found"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"},{name:"TransactionAlreadySealed",message:"Cannot update sealed transaction"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"},{name:"InvalidOpcode",message:'Invalid Opcode: got "{0}"'}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]},{name:"ECIES",message:"Internal Error on bsv-ecies Module {0}",errors:[{name:"DecryptionError",message:"Invalid Message: {0}"},{name:"UnsupportAlgorithm",message:"Unsupport Algorithm: {0}"}]},{name:"Mnemonic",message:"Internal Error on bsv-mnemonic module {0}",errors:[{name:"InvalidEntropy",message:"Entropy length must be an even multiple of 11 bits: {0}"},{name:"UnknownWordlist",message:"Could not detect the used word list: {0}"},{name:"InvalidMnemonic",message:"Mnemonic string is invalid: {0}"}]}]});Ve("kmMTb",function(t,e){var r=gr.Buffer,n=G("dIoYd"),i=G("f0gTO"),s=G("gIXub"),u=G("arkeG"),o=G("7X5Fe"),a=G("bTTXN"),l=G("kBBbb"),f=G("6gAsx"),c=function h(d){if(!(this instanceof h))return new h(d);d&&this.set(d)};c.prototype.set=function(h){return this.hashbuf=h.hashbuf||this.hashbuf,this.endian=h.endian||this.endian,this.privkey=h.privkey||this.privkey,this.pubkey=h.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=h.sig||this.sig,this.k=h.k||this.k,this.verified=h.verified||this.verified,this},c.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},c.prototype.calci=function(){for(var h=0;h<4;h++){this.sig.i=h;var d;try{d=this.toPublicKey()}catch(p){console.error(p);continue}if(d.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},c.fromString=function(h){var d=JSON.parse(h);return new c(d)},c.prototype.randomK=function(){var h=i.getN(),d;do d=n.fromBuffer(o.getRandomBuffer(32));while(!(d.lt(h)&&d.gt(n.Zero)));return this.k=d,this},c.prototype.deterministicK=function(h){l.isUndefined(h)&&(h=0);var d=r.alloc(32);d.fill(1);var p=r.alloc(32);p.fill(0);var m=this.privkey.bn.toBuffer({size:32}),w=this.endian==="little"?r.from(this.hashbuf).reverse():this.hashbuf;p=a.sha256hmac(r.concat([d,r.from([0]),m,w]),p),d=a.sha256hmac(d,p),p=a.sha256hmac(r.concat([d,r.from([1]),m,w]),p),d=a.sha256hmac(d,p),d=a.sha256hmac(d,p);for(var x=n.fromBuffer(d),_=i.getN(),y=0;y<h||!(x.lt(_)&&x.gt(n.Zero));y++)p=a.sha256hmac(r.concat([d,r.from([0])]),p),d=a.sha256hmac(d,p),d=a.sha256hmac(d,p),x=n.fromBuffer(d);return this.k=x,this},c.prototype.toPublicKey=function(){var h=this.sig.i;f.checkArgument(h===0||h===1||h===2||h===3,new Error("i must be equal to 0, 1, 2, or 3"));var d=n.fromBuffer(this.hashbuf),p=this.sig.r,m=this.sig.s,w=h&1,x=h>>1,_=i.getN(),y=i.getG(),S=x?p.add(_):p,F=i.fromX(w,S),N=F.mul(_);if(!N.isInfinity())throw new Error("nR is not a valid curve point");var H=d.neg().umod(_),D=p.invm(_),L=F.mul(m).add(y.mul(H)).mul(D),P=u.fromPoint(L,this.sig.compressed);return P},c.prototype.sigError=function(){if(!r.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var h=this.sig.r,d=this.sig.s;if(!(h.gt(n.Zero)&&h.lt(i.getN()))||!(d.gt(n.Zero)&&d.lt(i.getN())))return"r and s not in range";var p=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),m=i.getN(),w=d.invm(m),x=w.mul(p).umod(m),_=w.mul(h).umod(m),y=i.getG().mulAdd(x,this.pubkey.point,_);return y.isInfinity()?"p is infinity":y.getX().umod(m).cmp(h)!==0?"Invalid signature":!1},c.toLowS=function(h){return h.gt(n.fromBuffer(r.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(h=i.getN().sub(h)),h},c.prototype._findSignature=function(h,d){var p=i.getN(),m=i.getG(),w=0,x,_,y,S;do(!this.k||w>0)&&this.deterministicK(w),w++,x=this.k,_=m.mul(x),y=new n(1).mul(_.x.umod(p)),S=x.invm(p).mul(d.add(h.mul(y))).umod(p);while(y.cmp(n.Zero)<=0||S.cmp(n.Zero)<=0);return S=c.toLowS(S),{s:S,r:y}},c.prototype.sign=function(){var h=this.hashbuf,d=this.privkey,p=d.bn;f.checkState(h&&d&&p,new Error("invalid parameters")),f.checkState(r.isBuffer(h)&&h.length===32,new Error("hashbuf must be a 32 byte buffer"));var m=n.fromBuffer(h,this.endian?{endian:this.endian}:void 0),w=this._findSignature(p,m);return w.compressed=this.pubkey.compressed,this.sig=new s(w),this},c.prototype.signRandomK=function(){return this.randomK(),this.sign()},c.prototype.toString=function(){var h={};return this.hashbuf&&(h.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(h.privkey=this.privkey.toString()),this.pubkey&&(h.pubkey=this.pubkey.toString()),this.sig&&(h.sig=this.sig.toString()),this.k&&(h.k=this.k.toString()),JSON.stringify(h)},c.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},c.sign=function(h,d,p){return c().set({hashbuf:h,endian:p,privkey:d}).sign().sig},c.signWithCalcI=function(h,d,p){return c().set({hashbuf:h,endian:p,privkey:d}).sign().calci().sig},c.signRandomK=function(h,d,p){return c().set({hashbuf:h,endian:p,privkey:d}).signRandomK().sig},c.verify=function(h,d,p,m){return c().set({hashbuf:h,endian:m,sig:d,pubkey:p}).verify().verified},t.exports=c});Ve("f0gTO",function(t,e){var r=gr.Buffer,n=G("dIoYd"),i=dG.ec,s=new i("secp256k1"),u=s.curve.point.bind(s.curve),o=s.curve.pointFromX.bind(s.curve),a=function(f,c,h){try{var d=u(f,c,h)}catch{throw new Error("Invalid Point")}return d.validate(),d};a.prototype=Object.getPrototypeOf(s.curve.point()),a.fromX=function(f,c){try{var h=o(c,f)}catch{throw new Error("Invalid X")}return h.validate(),h},a.getG=function(){return s.curve.g},a.getN=function(){return new n(s.curve.n.toArray())},a.prototype._getX||(a.prototype._getX=a.prototype.getX),a.prototype.getX=function(){return new n(this._getX().toArray())},a.prototype._getY||(a.prototype._getY=a.prototype.getY),a.prototype.getY=function(){return new n(this._getY().toArray())},a.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var f;try{f=o(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(f.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(a.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},a.pointToCompressed=function(f){var c=f.getX().toBuffer({size:32}),h=f.getY().toBuffer({size:32}),d,p=h[h.length-1]%2;return p?d=r.from([3]):d=r.from([2]),r.concat([d,c])},a.pointFromCompressed=function(l){if(l.length!==33)throw new Error("invalid buffer length");let f=l[0],c;if(f===3)c=!0;else if(f===2)c=!1;else throw new Error("invalid value of compressed prefix");let h=l.slice(1,33),d=n.fromBuffer(h);return a.fromX(c,d)},a.prototype.toBuffer=function(){return a.pointToCompressed(this)},a.prototype.toHex=function(){return this.toBuffer().toString("hex")},a.fromBuffer=function(l){return a.pointFromCompressed(l)},a.fromHex=function(l){return a.fromBuffer(r.from(l,"hex"))},t.exports=a});Ve("gIXub",function(t,e){var r=gr.Buffer,n=G("dIoYd"),i=G("kBBbb"),s=G("6gAsx"),u=G("gk75r"),o=function a(l,f){if(!(this instanceof a))return new a(l,f);if(l instanceof n)this.set({r:l,s:f});else if(l){var c=l;this.set(c)}};o.prototype.set=function(a){return this.r=a.r||this.r||void 0,this.s=a.s||this.s||void 0,this.i=typeof a.i<"u"?a.i:this.i,this.compressed=typeof a.compressed<"u"?a.compressed:this.compressed,this.nhashtype=a.nhashtype||this.nhashtype||void 0,this},o.fromCompact=function(a){s.checkArgument(r.isBuffer(a),"Argument is expected to be a Buffer");var l=new o,f=!0,c=a.slice(0,1)[0]-27-4;c<0&&(f=!1,c=c+4);var h=a.slice(1,33),d=a.slice(33,65);return s.checkArgument(c===0||c===1||c===2||c===3,new Error("i must be 0, 1, 2, or 3")),s.checkArgument(h.length===32,new Error("r must be 32 bytes")),s.checkArgument(d.length===32,new Error("s must be 32 bytes")),l.compressed=f,l.i=c,l.r=n.fromBuffer(h),l.s=n.fromBuffer(d),l},o.fromDER=o.fromBuffer=function(a,l){var f=o.parseDER(a,l),c=new o;return c.r=f.r,c.s=f.s,c},o.fromTxFormat=function(a){var l=a.readUInt8(a.length-1),f=a.slice(0,a.length-1),c=o.fromDER(f,!1);return c.nhashtype=l,c},o.fromString=function(a){var l=r.from(a,"hex");return o.fromDER(l)},o.parseDER=function(a,l){s.checkArgument(r.isBuffer(a),new Error("DER formatted signature should be a buffer")),i.isUndefined(l)&&(l=!0);var f=a[0];s.checkArgument(f===48,new Error("Header byte should be 0x30"));var c=a[1],h=a.slice(2).length;s.checkArgument(!l||c===h,new Error("Length byte should length of what follows")),c=c<h?c:h;var d=a[2];s.checkArgument(d===2,new Error("Integer byte for r should be 0x02"));var p=a[3],m=a.slice(4,4+p),w=n.fromBuffer(m),x=a[4]===0;s.checkArgument(p===m.length,new Error("Length of r incorrect"));var _=a[4+p+0];s.checkArgument(_===2,new Error("Integer byte for s should be 0x02"));var y=a[4+p+1],S=a.slice(4+p+2,4+p+2+y),F=n.fromBuffer(S),N=a[4+p+2+2]===0;s.checkArgument(y===S.length,new Error("Length of s incorrect"));var H=4+p+2+y;s.checkArgument(c===H-2,new Error("Length of signature incorrect"));var D={header:f,length:c,rheader:d,rlength:p,rneg:x,rbuf:m,r:w,sheader:_,slength:y,sneg:N,sbuf:S,s:F};return D},o.prototype.toCompact=function(a,l){if(a=typeof a=="number"?a:this.i,l=typeof l=="boolean"?l:this.compressed,!(a===0||a===1||a===2||a===3))throw new Error("i must be equal to 0, 1, 2, or 3");var f=a+27+4;l===!1&&(f=f-4);var c=r.from([f]),h=this.r.toBuffer({size:32}),d=this.s.toBuffer({size:32});return r.concat([c,h,d])},o.prototype.toBuffer=o.prototype.toDER=function(){var a=this.r.toBuffer(),l=this.s.toBuffer(),f=!!(a[0]&128),c=!!(l[0]&128),h=f?r.concat([r.from([0]),a]):a,d=c?r.concat([r.from([0]),l]):l,p=h.length,m=d.length,w=2+p+2+m,x=2,_=2,y=48,S=r.concat([r.from([y,w,x,p]),h,r.from([_,m]),d]);return S},o.prototype.toString=function(){var a=this.toDER();return a.toString("hex")},o.isTxDER=function(a){if(a.length<9||a.length>73||a[0]!==48||a[1]!==a.length-3)return!1;var l=a[3];if(5+l>=a.length)return!1;var f=a[5+l];if(l+f+7!==a.length)return!1;var c=a.slice(4);if(a[2]!==2||l===0||c[0]&128||l>1&&c[0]===0&&!(c[1]&128))return!1;var h=a.slice(6+l);return!(a[6+l-2]!==2||f===0||h[0]&128||f>1&&h[0]===0&&!(h[1]&128))},o.prototype.hasLowS=function(){return!(this.s.lt(new n(1))||this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))},o.prototype.hasDefinedHashtype=function(){if(!u.isNaturalNumber(this.nhashtype))return!1;var a=this.nhashtype&31;return!(a<o.SIGHASH_ALL||a>o.SIGHASH_SINGLE)},o.prototype.toTxFormat=function(){var a=this.toDER(),l=r.alloc(1);return l.writeUInt8(this.nhashtype,0),r.concat([a,l])},o.SIGHASH_ALL=1,o.SIGHASH_NONE=2,o.SIGHASH_SINGLE=3,o.SIGHASH_FORKID=64,o.SIGHASH_ANYONECANPAY=128,o.ALL=65,o.NONE=66,o.SINGLE=67,o.ANYONECANPAY_ALL=193,o.ANYONECANPAY_NONE=194,o.ANYONECANPAY_SINGLE=195,t.exports=o});Ve("gk75r",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=function(o){return n.isString(o)?/^[0-9a-fA-F]+$/.test(o):!1};t.exports={isValidJSON:function(o){var a;if(!n.isString(o))return!1;try{a=JSON.parse(o)}catch{return!1}return typeof a=="object"},isHexa:s,isHexaString:s,defineImmutable:function(o,a){return Object.keys(a).forEach(function(l){Object.defineProperty(o,l,{configurable:!1,enumerable:!0,value:a[l]})}),o},isNaturalNumber:function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o&&o>=0},integerAsBuffer:function(o){i.checkArgumentType(o,"number","integer");let a=r.allocUnsafe(4);return a.writeUInt32BE(o,0),a}}});Ve("arkeG",function(t,e){var r=gr.Buffer,n=G("dIoYd"),i=G("f0gTO"),s=G("bTTXN"),u=G("gk75r"),o=G("cyjag"),a=G("kBBbb"),l=G("6gAsx");function f(c,h){if(!(this instanceof f))return new f(c,h);if(l.checkArgument(c,"First argument is required, please include public key data."),c instanceof f)return c;h=h||{};var d=this._classifyArgs(c,h);return d.point.validate(),u.defineImmutable(this,{point:d.point,compressed:d.compressed,network:d.network||o.defaultNetwork}),this}f.prototype._classifyArgs=function(c,h){var d={compressed:a.isUndefined(h.compressed)||h.compressed};if(c instanceof i)d.point=c;else if(c.x&&c.y)d=f._transformObject(c);else if(typeof c=="string")d=f._transformDER(r.from(c,"hex"));else if(f._isBuffer(c))d=f._transformDER(c);else if(f._isPrivateKey(c))d=f._transformPrivateKey(c);else throw new TypeError("First argument is an unrecognized data format.");return d.network||(d.network=a.isUndefined(h.network)?void 0:o.get(h.network)),d},f._isPrivateKey=function(c){var h=G("7smYJ");return c instanceof h},f._isBuffer=function(c){return c instanceof r||c instanceof Uint8Array},f._transformPrivateKey=function(c){l.checkArgument(f._isPrivateKey(c),"Must be an instance of PrivateKey");var h={};return h.point=i.getG().mul(c.bn),h.compressed=c.compressed,h.network=c.network,h},f._transformDER=function(c,h){l.checkArgument(f._isBuffer(c),"Must be a buffer of DER encoded public key");var d={};h=a.isUndefined(h)?!0:h;var p,m,w,x;if(c[0]===4||!h&&(c[0]===6||c[0]===7)){if(w=c.slice(1,33),x=c.slice(33,65),w.length!==32||x.length!==32||c.length!==65)throw new TypeError("Length of x and y must be 32 bytes");p=new n(w),m=new n(x),d.point=new i(p,m),d.compressed=!1}else if(c[0]===3)w=c.slice(1),p=new n(w),d=f._transformX(!0,p),d.compressed=!0;else if(c[0]===2)w=c.slice(1),p=new n(w),d=f._transformX(!1,p),d.compressed=!0;else throw new TypeError("Invalid DER format public key");return d},f._transformX=function(c,h){l.checkArgument(typeof c=="boolean","Must specify whether y is odd or not (true or false)");var d={};return d.point=i.fromX(c,h),d},f._transformObject=function(c){var h=new n(c.x,"hex"),d=new n(c.y,"hex"),p=new i(h,d);return new f(p,{compressed:c.compressed})},f.fromPrivateKey=function(c){l.checkArgument(f._isPrivateKey(c),"Must be an instance of PrivateKey");var h=f._transformPrivateKey(c);return new f(h.point,{compressed:h.compressed,network:h.network})},f.fromDER=f.fromBuffer=function(c,h){l.checkArgument(f._isBuffer(c),"Must be a buffer of DER encoded public key");var d=f._transformDER(c,h);return new f(d.point,{compressed:d.compressed})},f.fromPoint=function(c,h){return l.checkArgument(c instanceof i,"First argument must be an instance of Point."),new f(c,{compressed:h})},f.fromHex=f.fromString=function(c,h){var d=r.from(c,h||"hex"),p=f._transformDER(d);return new f(p.point,{compressed:p.compressed})},f.fromX=function(c,h){var d=f._transformX(c,h);return new f(d.point,{compressed:d.compressed})},f.getValidationError=function(c){var h;try{new f(c)}catch(d){h=d}return h},f.isValid=function(c){return!f.getValidationError(c)},f.prototype.toObject=f.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},f.prototype.toBuffer=f.prototype.toDER=function(){var c=this.point.getX(),h=this.point.getY(),d=c.toBuffer({size:32}),p=h.toBuffer({size:32}),m;if(this.compressed){var w=p[p.length-1]%2;return w?m=r.from([3]):m=r.from([2]),r.concat([m,d])}else return m=r.from([4]),r.concat([m,d,p])},f.prototype._getID=function(){return s.sha256ripemd160(this.toBuffer())},f.prototype.toAddress=function(c){var h=G("iSUUt");return h.fromPublicKey(this,c||this.network)},f.prototype.toString=f.prototype.toHex=function(){return this.toDER().toString("hex")},f.prototype.inspect=function(){return"<PublicKey: "+this.toHex()+(this.compressed?"":", uncompressed")+">"},t.exports=f});Ve("bTTXN",function(t,e){t.exports=G("8Asny")});Ve("8Asny",function(t,e){var r=gr.Buffer,n=G("6gAsx"),i=t.exports;i.sha1=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Fp.sha1().update(s).digest("hex"),"hex")},i.sha1.blocksize=512,i.sha256=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Fp.sha256().update(s).digest("hex"),"hex")},i.sha256.blocksize=512,i.sha256sha256=function(s){return n.checkArgument(r.isBuffer(s)),i.sha256(i.sha256(s))},i.ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Fp.ripemd160().update(s).digest("hex"),"hex")},i.sha256ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),i.ripemd160(i.sha256(s))},i.sha512=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Fp.sha512().update(s).digest("hex"),"hex")},i.sha512.blocksize=1024,i.hmac=function(s,u,o){n.checkArgument(r.isBuffer(u)),n.checkArgument(r.isBuffer(o)),n.checkArgument(s.blocksize);var a=s.blocksize/8;if(o.length>a)o=s(o);else if(o<a){var l=r.alloc(a);l.fill(0),o.copy(l),o=l}var f=r.alloc(a);f.fill(92);var c=r.alloc(a);c.fill(54);for(var h=r.alloc(a),d=r.alloc(a),p=0;p<a;p++)h[p]=f[p]^o[p],d[p]=c[p]^o[p];return s(r.concat([h,s(r.concat([d,u]))]))},i.sha256hmac=function(s,u){return i.hmac(i.sha256,s,u)},i.sha512hmac=function(s,u){return i.hmac(i.sha512,s,u)}});Ve("cyjag",function(t,e){"use strict";var r=G("kBBbb"),n=G("gk75r"),i=[],s={};function u(){}u.prototype.toString=function(){return this.name};function o(v,E){if(~i.indexOf(v))return v;if(E){r.isArray(E)||(E=[E]);for(var C=0;C<i.length;C++){var R=i[C],O=r.pick(R,E),M=r.values(O);if(~M.indexOf(v))return R}return}return s[v]}function a(v){for(var E=[],C=0;C<v.length;C++)E.push(v.charCodeAt(C)&31);return E}function l(v){var E=new u;n.defineImmutable(E,{name:v.name,alias:v.alias,pubkeyhash:v.pubkeyhash,privatekey:v.privatekey,scripthash:v.scripthash,xpubkey:v.xpubkey,xprivkey:v.xprivkey});var C=v.indexBy||Object.keys(v);return v.cashAddrPrefix&&r.extend(E,{cashAddrPrefix:v.cashAddrPrefix,cashAddrPrefixArray:a(v.cashAddrPrefix)}),v.networkMagic&&r.extend(E,{networkMagic:n.integerAsBuffer(v.networkMagic)}),v.port&&r.extend(E,{port:v.port}),v.dnsSeeds&&r.extend(E,{dnsSeeds:v.dnsSeeds}),i.push(E),f(E,C),E}function f(v,E){for(var C=0;C<E.length;C++){var R=E[C],O=v[R];!r.isUndefined(O)&&!r.isObject(O)&&(s[O]=v)}}function c(v,E){for(var C=0;C<E.length;C++){var R=E[C];s[R]===v&&delete s[R]}}function h(v){for(var E=0;E<i.length;E++)i[E]===v&&i.splice(E,1);c(v,Object.keys(s))}var d={livenet:3823236072,testnet:4108710900,regtest:3669344250,stn:4224632057},p=["seed.bitcoinsv.org","seed.bitcoinunlimited.info"],m={PORT:18333,NETWORK_MAGIC:d.testnet,DNS_SEEDS:p,PREFIX:"testnet",CASHADDRPREFIX:"bchtest"},w={PORT:18444,NETWORK_MAGIC:d.regtest,DNS_SEEDS:[],PREFIX:"regtest",CASHADDRPREFIX:"bchreg"},x={PORT:9333,NETWORK_MAGIC:d.stn,DNS_SEEDS:["stn-seed.bitcoinsv.io"],PREFIX:"stn",CASHADDRPREFIX:"bsvstn"},_={name:"livenet",alias:"mainnet",prefix:"bitcoin",cashAddrPrefix:"bitcoincash",pubkeyhash:0,privatekey:128,scripthash:5,xpubkey:76067358,xprivkey:76066276,networkMagic:d.livenet,port:8333,dnsSeeds:p},y={name:"testnet",prefix:m.PREFIX,cashAddrPrefix:m.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:m.NETWORK_MAGIC},S={name:"regtest",prefix:w.PREFIX,cashAddrPrefix:w.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:w.NETWORK_MAGIC,port:w.PORT,dnsSeeds:[],indexBy:["port","name","cashAddrPrefix","networkMagic"]},F={name:"stn",prefix:x.PREFIX,cashAddrPrefix:x.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:x.NETWORK_MAGIC,indexBy:["port","name","cashAddrPrefix","networkMagic"]};l(y),l(F),l(S),l(_);var N=o("livenet"),H=o("regtest"),D=o("testnet"),L=o("stn");Object.defineProperty(D,"port",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?w.PORT:this.stnEnabled?x.PORT:m.PORT}}),Object.defineProperty(D,"networkMagic",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?n.integerAsBuffer(w.NETWORK_MAGIC):this.stnEnabled?n.integerAsBuffer(x.NETWORK_MAGIC):n.integerAsBuffer(m.NETWORK_MAGIC)}}),Object.defineProperty(D,"dnsSeeds",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?w.DNS_SEEDS:this.stnEnabled?x.DNS_SEEDS:m.DNS_SEEDS}}),Object.defineProperty(D,"cashAddrPrefix",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?w.CASHADDRPREFIX:this.stnEnabled?x.CASHADDRPREFIX:m.CASHADDRPREFIX}}),Object.defineProperty(D,"cashAddrPrefixArray",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?a(w.CASHADDRPREFIX):this.stnEnabled?x.cashAddrPrefixToArray(x.CASHADDRPREFIX):a(m.CASHADDRPREFIX)}});function P(){D.regtestEnabled=!0}function A(){D.regtestEnabled=!1}function b(){D.stnEnabled=!0}function g(){D.stnEnabled=!1}t.exports={add:l,remove:h,defaultNetwork:N,livenet:N,mainnet:N,testnet:D,regtest:H,stn:L,get:o,enableRegtest:P,disableRegtest:A,enableStn:b,disableStn:g}});Ve("7smYJ",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("iSUUt"),s=G("j7ODq"),u=G("dIoYd"),o=G("gk75r"),a=G("cyjag"),l=G("f0gTO"),f=G("arkeG"),c=G("7X5Fe"),h=G("6gAsx");function d(p,m){if(!(this instanceof d))return new d(p,m);if(p instanceof d)return p;var w=this._classifyArguments(p,m);if(!w.bn||w.bn.cmp(new u(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!w.bn.lt(l.getN()))throw new TypeError("Number must be less than N");if(typeof w.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return o.defineImmutable(this,{bn:w.bn,compressed:w.compressed,network:w.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}d.prototype._classifyArguments=function(p,m){var w={compressed:!0,network:m?a.get(m):a.defaultNetwork};if(n.isUndefined(p)||n.isNull(p))w.bn=d._getRandomBN();else if(p instanceof u)w.bn=p;else if(p instanceof r||p instanceof Uint8Array)w=d._transformBuffer(p,m);else if(p.bn&&p.network)w=d._transformObject(p);else if(!m&&a.get(p))w.bn=d._getRandomBN(),w.network=a.get(p);else if(typeof p=="string")o.isHexa(p)?w.bn=new u(r.from(p,"hex")):w=d._transformWIF(p,m);else throw new TypeError("First argument is an unrecognized data type.");return w},d._getRandomBN=function(){var p,m;do{var w=c.getRandomBuffer(32);m=u.fromBuffer(w),p=m.lt(l.getN())}while(!p);return m},d._transformBuffer=function(p,m){var w={};if(p.length===32)return d._transformBNBuffer(p,m);if(w.network=a.get(p[0],"privatekey"),!w.network)throw new Error("Invalid network");if(m&&w.network!==a.get(m))throw new TypeError("Private key network mismatch");if(p.length===34&&p[33]===1)w.compressed=!0;else if(p.length===33)w.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return w.bn=u.fromBuffer(p.slice(1,33)),w},d._transformBNBuffer=function(p,m){var w={};return w.network=a.get(m)||a.defaultNetwork,w.bn=u.fromBuffer(p),w.compressed=!1,w},d._transformWIF=function(p,m){return d._transformBuffer(s.decode(p),m)},d.fromBuffer=function(p,m){return new d(p,m)},d.fromHex=function(p,m){return d.fromBuffer(r.from(p,"hex"),m)},d._transformObject=function(p){var m=new u(p.bn,"hex"),w=a.get(p.network);return{bn:m,network:w,compressed:p.compressed}},d.fromString=d.fromWIF=function(p){return h.checkArgument(n.isString(p),"First argument is expected to be a string."),new d(p)},d.fromObject=d.fromJSON=function(p){return h.checkArgument(n.isObject(p),"First argument is expected to be an object."),new d(p)},d.fromRandom=function(p){var m=d._getRandomBN();return new d(m,p)},d.getValidationError=function(p,m){var w;try{new d(p,m)}catch(x){w=x}return w},d.isValid=function(p,m){return p?!d.getValidationError(p,m):!1},d.prototype.toString=function(){return this.toWIF()},d.prototype.toWIF=function(){var p=this.network,m=this.compressed,w;return m?w=r.concat([r.from([p.privatekey]),this.bn.toBuffer({size:32}),r.from([1])]):w=r.concat([r.from([p.privatekey]),this.bn.toBuffer({size:32})]),s.encode(w)},d.prototype.toBigNumber=function(){return this.bn},d.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},d.prototype.toHex=function(){return this.toBuffer().toString("hex")},d.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=f.fromPrivateKey(this)),this._pubkey},d.prototype.toAddress=function(p){var m=this.toPublicKey();return i.fromPublicKey(m,p||this.network)},d.prototype.toObject=d.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},d.prototype.inspect=function(){var p=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toHex()+", network: "+this.network+p+">"},t.exports=d});Ve("iSUUt",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("kooOK"),u=G("j7ODq"),o=G("cyjag"),a=G("bTTXN"),l=G("gk75r"),f=G("arkeG");function c(h,d,p){if(!(this instanceof c))return new c(h,d,p);if(n.isArray(h)&&n.isNumber(d))return c.createMultisig(h,d,p);if(h instanceof c)return h;if(i.checkArgument(h,"First argument is required, please include address data.","guide/address.html"),d&&!o.get(d))throw new TypeError('Second argument must be "livenet", "testnet", or "regtest".');if(p&&p!==c.PayToPublicKeyHash&&p!==c.PayToScriptHash)throw new TypeError('Third argument must be "pubkeyhash" or "scripthash".');var m=this._classifyArguments(h,d,p);return m.network=m.network||o.get(d)||o.defaultNetwork,m.type=m.type||p||c.PayToPublicKeyHash,l.defineImmutable(this,{hashBuffer:m.hashBuffer,network:m.network,type:m.type}),this}c.prototype._classifyArguments=function(h,d,p){var m=G("hkiTH");if((h instanceof r||h instanceof Uint8Array)&&h.length===20)return c._transformHash(h);if((h instanceof r||h instanceof Uint8Array)&&h.length===21)return c._transformBuffer(h,d,p);if(h instanceof f)return c._transformPublicKey(h);if(h instanceof m)return c._transformScript(h,d);if(typeof h=="string")return c._transformString(h,d,p);if(n.isObject(h))return c._transformObject(h);throw new TypeError("First argument is an unrecognized data format.")},c.PayToPublicKeyHash="pubkeyhash",c.PayToScriptHash="scripthash",c._transformHash=function(h){var d={};if(!(h instanceof r)&&!(h instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(h.length!==20)throw new TypeError("Address hashbuffers must be exactly 20 bytes.");return d.hashBuffer=h,d},c._transformObject=function(h){return i.checkArgument(h.hash||h.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(h.type,"Must provide a `type` property"),{hashBuffer:h.hash?r.from(h.hash,"hex"):h.hashBuffer,network:o.get(h.network)||o.defaultNetwork,type:h.type}},c._classifyFromVersion=function(h){var d={},p=o.get(h[0],"pubkeyhash"),m=o.get(h[0],"scripthash");return p?(d.network=p,d.type=c.PayToPublicKeyHash):m&&(d.network=m,d.type=c.PayToScriptHash),d},c._transformBuffer=function(h,d,p){var m={};if(!(h instanceof r)&&!(h instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(h.length!==21)throw new TypeError("Address buffers must be exactly 21 bytes.");var w=o.get(d),x=c._classifyFromVersion(h);if(d&&!w)throw new TypeError("Unknown network");if(!x.network||w&&w!==x.network)throw new TypeError("Address has mismatched network type.");if(!x.type||p&&p!==x.type)throw new TypeError("Address has mismatched type.");return m.hashBuffer=h.slice(1),m.network=x.network,m.type=x.type,m},c._transformPublicKey=function(h){var d={};if(!(h instanceof f))throw new TypeError("Address must be an instance of PublicKey.");return d.hashBuffer=a.sha256ripemd160(h.toBuffer()),d.type=c.PayToPublicKeyHash,d},c._transformScript=function(h,d){var p=G("hkiTH");i.checkArgument(h instanceof p,"script must be a Script instance");var m=h.getAddressInfo(d);if(!m)throw new s.Script.CantDeriveAddress(h);return m},c.createMultisig=function(h,d,p){var m=G("hkiTH");return p=p||h[0].network||o.defaultNetwork,c.payingTo(m.buildMultisigOut(h,d),p)},c._transformString=function(h,d,p){if(typeof h!="string")throw new TypeError("data parameter supplied is not a string.");if(h.length<27)throw new Error("Invalid Address string provided");h=h.trim();var m=o.get(d);if(d&&!m)throw new TypeError("Unknown network");var w=u.decode(h);return c._transformBuffer(w,d,p)},c.fromPublicKey=function(h,d){var p=c._transformPublicKey(h);return d=d||o.defaultNetwork,new c(p.hashBuffer,d,p.type)},c.fromPrivateKey=function(h,d){let p=f.fromPrivateKey(h);return d=d||h.network||o.defaultNetwork,c.fromPublicKey(p,d)},c.fromPublicKeyHash=function(h,d){var p=c._transformHash(h);return new c(p.hashBuffer,d,c.PayToPublicKeyHash)},c.fromScriptHash=function(h,d){i.checkArgument(h,"hash parameter is required");var p=c._transformHash(h);return new c(p.hashBuffer,d,c.PayToScriptHash)},c.payingTo=function(h,d){var p=G("hkiTH");return i.checkArgument(h,"script is required"),i.checkArgument(h instanceof p,"script must be instance of Script"),c.fromScriptHash(a.sha256ripemd160(h.toBuffer()),d)},c.fromScript=function(h,d){var p=G("hkiTH");i.checkArgument(h instanceof p,"script must be a Script instance");var m=c._transformScript(h,d);return new c(m.hashBuffer,d,m.type)},c.fromBuffer=function(h,d,p){var m=c._transformBuffer(h,d,p);return new c(m.hashBuffer,m.network,m.type)},c.fromHex=function(h,d,p){return c.fromBuffer(r.from(h,"hex"),d,p)},c.fromString=function(h,d,p){var m=c._transformString(h,d,p);return new c(m.hashBuffer,m.network,m.type)},c.fromObject=function(d){i.checkState(l.isHexa(d.hash),'Unexpected hash property, "'+d.hash+'", expected to be hex.');var p=r.from(d.hash,"hex");return new c(p,d.network,d.type)},c.getValidationError=function(h,d,p){var m;try{new c(h,d,p)}catch(w){m=w}return m},c.isValid=function(h,d,p){return!c.getValidationError(h,d,p)},c.prototype.isPayToPublicKeyHash=function(){return this.type===c.PayToPublicKeyHash},c.prototype.isPayToScriptHash=function(){return this.type===c.PayToScriptHash},c.prototype.toBuffer=function(){var h=r.from([this.network[this.type]]),d=r.concat([h,this.hashBuffer]);return d},c.prototype.toHex=function(){return this.toBuffer().toString("hex")},c.prototype.toObject=c.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},c.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},c.prototype.toString=function(){return u.encode(this.toBuffer())},t.exports=c});Ve("j7ODq",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("jG967"),s=G("bTTXN"),u=s.sha256sha256,o=function a(l){if(!(this instanceof a))return new a(l);if(r.isBuffer(l)){var f=l;this.fromBuffer(f)}else if(typeof l=="string"){var c=l;this.fromString(c)}};o.prototype.set=function(a){return this.buf=a.buf||this.buf||void 0,this},o.validChecksum=function(l,f){return n.isString(l)&&(l=r.from(i.decode(l))),n.isString(f)&&(f=r.from(i.decode(f))),f||(f=l.slice(-4),l=l.slice(0,-4)),o.checksum(l).toString("hex")===f.toString("hex")},o.decode=function(a){if(typeof a!="string")throw new Error("Input must be a string");var l=r.from(i.decode(a));if(l.length<4)throw new Error("Input string too short");var f=l.slice(0,-4),c=l.slice(-4),h=u(f),d=h.slice(0,4);if(c.toString("hex")!==d.toString("hex"))throw new Error("Checksum mismatch");return f},o.checksum=function(a){return u(a).slice(0,4)},o.encode=function(a){if(!r.isBuffer(a))throw new Error("Input must be a buffer");var l=r.alloc(a.length+4),f=o.checksum(a);return a.copy(l),f.copy(l,a.length),i.encode(l)},o.prototype.fromBuffer=function(a){return this.buf=a,this},o.fromBuffer=function(a){return new o().fromBuffer(a)},o.fromHex=function(a){return o.fromBuffer(r.from(a,"hex"))},o.prototype.fromString=function(a){var l=o.decode(a);return this.buf=l,this},o.fromString=function(a){var l=o.decode(a);return new i(l)},o.prototype.toBuffer=function(){return this.buf},o.prototype.toHex=function(){return this.toBuffer().toString("hex")},o.prototype.toString=function(){return o.encode(this.buf)},t.exports=o});Ve("jG967",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),s=function u(o){if(!(this instanceof u))return new u(o);if(r.isBuffer(o)){var a=o;this.fromBuffer(a)}else if(typeof o=="string"){var l=o;this.fromString(l)}};s.validCharacters=function(o){return r.isBuffer(o)&&(o=o.toString()),n.every(n.map(o,function(a){return n.includes(i,a)}))},s.prototype.set=function(u){return this.buf=u.buf||this.buf||void 0,this},s.encode=function(u){if(!r.isBuffer(u))throw new Error("Input should be a buffer");return JO.encode(u)},s.decode=function(u){if(typeof u!="string")throw new Error("Input should be a string");return r.from(JO.decode(u))},s.prototype.fromBuffer=function(u){return this.buf=u,this},s.fromBuffer=function(u){return new s().fromBuffer(u)},s.fromHex=function(u){return s.fromBuffer(r.from(u,"hex"))},s.prototype.fromString=function(u){var o=s.decode(u);return this.buf=o,this},s.fromString=function(u){return new s().fromString(u)},s.prototype.toBuffer=function(){return this.buf},s.prototype.toHex=function(){return this.toBuffer().toString("hex")},s.prototype.toString=function(){return s.encode(this.buf)},t.exports=s});Ve("hkiTH",function(t,e){t.exports=G("eIR83"),t.exports.Interpreter=G("g4xmW"),t.exports.Stack=G("bSS4t")});Ve("eIR83",function(t,e){var r=gr.Buffer,n=G("iSUUt"),i=G("2AZ1V"),s=G("bTTXN"),u=G("bpasi"),o=G("arkeG"),a=G("gIXub"),l=G("cyjag"),f=G("6gAsx"),c=G("kBBbb"),h=G("kooOK"),d=G("gk75r"),p=G("apNYJ"),m=G("62MER"),w=G("kndCV");let x=new WeakMap;var _=function y(S){if(!(this instanceof y))return new y(S);if(this.buffer=r.from([]),r.isBuffer(S))return y.fromBuffer(S);if(S instanceof n)return y.fromAddress(S);if(S instanceof y)return y.fromBuffer(S.toBuffer());if(c.isString(S))return y.fromString(S);if(c.isObject(S)&&c.isArray(S.chunks))return y.fromChunks(S.chunks);if(c.isObject(S)&&r.isBuffer(S.buffer))return y.fromBuffer(S.buffer)};_.prototype.set=function(y){if(f.checkArgument(c.isObject(y)),y.chunks&&c.isArray(y.chunks)){var S=_.fromChunks(y.chunks);return this.buffer=S.buffer,this}return f.checkArgument(r.isBuffer(y.buffer)),this.buffer=y.buffer,this},_.fromBuffer=function(y){f.checkArgument(r.isBuffer(y));var S=new _;return S.buffer=y,S},_.fromChunks=function(y){var S=new _;let F=new i;for(let N=0;N<y.length;N++){let H=y[N];F.writeUInt8(H.opcodenum),H.buf&&(H.opcodenum<u.OP_PUSHDATA1?F.write(H.buf):H.opcodenum===u.OP_PUSHDATA1?(F.writeUInt8(H.len),F.write(H.buf)):H.opcodenum===u.OP_PUSHDATA2?(F.writeUInt16LE(H.len),F.write(H.buf)):H.opcodenum===u.OP_PUSHDATA4&&(F.writeUInt32LE(H.len),F.write(H.buf)))}return S.buffer=F.toBuffer(),S},_.prototype.toBuffer=function(){return this.buffer},_.fromASM=function(y){return _.fromBuffer(m(y))},_.fromHex=function(y){return new _(r.from(y,"hex"))},_.fromString=function(y){if(d.isHexa(y)||y.length===0)return new _(r.from(y,"hex"));for(var S=[],F=y.split(" "),N=0;N<F.length;){var H=F[N],D=u(H),L=D.toNumber();if(c.isUndefined(L))if(L=parseInt(H),L>0&&L<u.OP_PUSHDATA1){var P=r.from(F[N+1].slice(2),"hex");if(P.length!==L)throw new Error("Invalid script buf len: "+JSON.stringify(y));S.push({buf:r.from(F[N+1].slice(2),"hex"),len:L,opcodenum:L}),N=N+2}else throw new Error("Invalid script: "+JSON.stringify(y));else if(L===u.OP_PUSHDATA1||L===u.OP_PUSHDATA2||L===u.OP_PUSHDATA4){if(F[N+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");S.push({buf:r.from(F[N+2].slice(2),"hex"),len:parseInt(F[N+1]),opcodenum:L}),N=N+3}else S.push({opcodenum:L}),N=N+1}return _.fromChunks(S)},_.prototype.slice=function(y,S){return this.buffer.slice(y,S)},Object.defineProperty(_.prototype,"chunks",{get(){if(x.has(this))return x.get(this);let y=p(this.buffer);return x.set(this,y),y}}),Object.defineProperty(_.prototype,"length",{get(){return this.buffer.length}}),_.prototype._chunkToString=function(y,S){var F=y.opcodenum,N=S==="asm",H="";if(y.buf)!N&&(F===u.OP_PUSHDATA1||F===u.OP_PUSHDATA2||F===u.OP_PUSHDATA4)&&(H=H+" "+u(F).toString()),y.len>0&&(N?H=H+" "+y.buf.toString("hex"):H=H+" "+y.len+" 0x"+y.buf.toString("hex"));else if(typeof u.reverseMap[F]<"u")N?F===0?H=H+" 0":F===79?H=H+" -1":H=H+" "+u(F).toString():H=H+" "+u(F).toString();else{var D=F.toString(16);D.length%2!==0&&(D="0"+D),N?H=H+" "+D:H=H+" 0x"+D}return H},_.prototype.toASM=function(){for(var y="",S=this.chunks,F=0;F<S.length;F++){var N=this.chunks[F];y+=this._chunkToString(N,"asm")}return y.substr(1)},_.prototype.toString=function(){for(var y="",S=0;S<this.chunks.length;S++){var F=this.chunks[S];y+=this._chunkToString(F)}return y.substr(1)},_.prototype.toHex=function(){return w(this.buffer)},_.prototype.inspect=function(){return"<Script: "+this.toString()+">"},_.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===u.OP_DUP&&this.chunks[1].opcodenum===u.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===u.OP_EQUALVERIFY&&this.chunks[4].opcodenum===u.OP_CHECKSIG)},_.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var y=this.chunks[0].buf,S=this.chunks[1].buf;if(y&&y.length&&y[0]===48&&S&&S.length){var F=S[0];if((F===4||F===6||F===7)&&S.length===65)return!0;if((F===3||F===2)&&S.length===33)return!0}}return!1},_.prototype.getPublicKey=function(){return f.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},_.prototype.getPublicKeyHash=function(){return f.checkState(this.isPublicKeyHashOut(),"Can't retrieve PublicKeyHash from a non-PKH output"),this.chunks[2].buf},_.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===u.OP_CHECKSIG){var y=this.chunks[0].buf,S=y[0],F=!1;if(((S===4||S===6||S===7)&&y.length===65||(S===3||S===2)&&y.length===33)&&(F=!0),F)return o.isValid(y)}return!1},_.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var y=this.chunks[0].buf;if(y&&y.length&&y[0]===48)return!0}return!1},_.prototype.isScriptHashOut=function(){var y=this.toBuffer();return y.length===23&&y[0]===u.OP_HASH160&&y[1]===20&&y[y.length-1]===u.OP_EQUAL},_.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var y=this.chunks[this.chunks.length-1],S=y.buf;if(!S)return!1;var F;try{F=_.fromBuffer(S)}catch(H){if(H instanceof h.Script.InvalidBuffer)return!1;throw H}var N=F.classify();return N!==_.types.UNKNOWN},_.prototype.isMultisigOut=function(){return this.chunks.length>3&&u.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(y){return y.buf&&r.isBuffer(y.buf)})&&u.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===u.OP_CHECKMULTISIG},_.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(y){return y.buf&&r.isBuffer(y.buf)&&a.isTxDER(y.buf)})},_.prototype.isDataOut=function(){var y=this.buffer.length>=1&&this.buffer[0]===u.OP_RETURN;if(!y)return!1;var S=this.buffer.slice(1),F=new _({buffer:S});return F.isPushOnly()},_.prototype.isSafeDataOut=function(){if(this.buffer.length<2||this.buffer[0]!==u.OP_FALSE)return!1;var y=this.buffer.slice(1),S=new _({buffer:y});return S.isDataOut()},_.prototype.getData=function(){if(this.isSafeDataOut()){var y=this.chunks.slice(2),S=y.map(F=>F.buf);return S}if(this.isDataOut()||this.isScriptHashOut())return c.isUndefined(this.chunks[1])?r.alloc(0):r.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return r.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},_.prototype.isPushOnly=function(){return c.every(this.chunks,function(y){return y.opcodenum<=u.OP_16||y.opcodenum===u.OP_PUSHDATA1||y.opcodenum===u.OP_PUSHDATA2||y.opcodenum===u.OP_PUSHDATA4})},_.types={},_.types.UNKNOWN="Unknown",_.types.PUBKEY_OUT="Pay to public key",_.types.PUBKEY_IN="Spend from public key",_.types.PUBKEYHASH_OUT="Pay to public key hash",_.types.PUBKEYHASH_IN="Spend from public key hash",_.types.SCRIPTHASH_OUT="Pay to script hash",_.types.SCRIPTHASH_IN="Spend from script hash",_.types.MULTISIG_OUT="Pay to multisig",_.types.MULTISIG_IN="Spend from multisig",_.types.DATA_OUT="Data push",_.types.SAFE_DATA_OUT="Safe data push",_.OP_RETURN_STANDARD_SIZE=220,_.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var y=this.classifyOutput();return y!==_.types.UNKNOWN?y:this.classifyInput()},_.outputIdentifiers={},_.outputIdentifiers.PUBKEY_OUT=_.prototype.isPublicKeyOut,_.outputIdentifiers.PUBKEYHASH_OUT=_.prototype.isPublicKeyHashOut,_.outputIdentifiers.MULTISIG_OUT=_.prototype.isMultisigOut,_.outputIdentifiers.SCRIPTHASH_OUT=_.prototype.isScriptHashOut,_.outputIdentifiers.DATA_OUT=_.prototype.isDataOut,_.outputIdentifiers.SAFE_DATA_OUT=_.prototype.isSafeDataOut,_.prototype.classifyOutput=function(){for(var y in _.outputIdentifiers)if(_.outputIdentifiers[y].bind(this)())return _.types[y];return _.types.UNKNOWN},_.inputIdentifiers={},_.inputIdentifiers.PUBKEY_IN=_.prototype.isPublicKeyIn,_.inputIdentifiers.PUBKEYHASH_IN=_.prototype.isPublicKeyHashIn,_.inputIdentifiers.MULTISIG_IN=_.prototype.isMultisigIn,_.inputIdentifiers.SCRIPTHASH_IN=_.prototype.isScriptHashIn,_.prototype.classifyInput=function(){for(var y in _.inputIdentifiers)if(_.inputIdentifiers[y].bind(this)())return _.types[y];return _.types.UNKNOWN},_.prototype.isStandard=function(){return this.classify()!==_.types.UNKNOWN},_.prototype.prepend=function(y){return this._addByType(y,!0),this},_.prototype.equals=function(y){if(f.checkState(y instanceof _,"Must provide another script"),this.buffer.length!==y.buffer.length)return!1;var S;for(S=0;S<this.buffer.length;S++)if(this.buffer[S]!==y.buffer[S])return!1;return!0},_.prototype.add=function(y){return this._addByType(y,!1),this},_.prototype._addByType=function(y,S){if(typeof y=="string")this._addOpcode(y,S);else if(typeof y=="number")this._addOpcode(y,S);else if(y instanceof u)this._addOpcode(y,S);else if(r.isBuffer(y))this._addBuffer(y,S);else if(y instanceof _)this._insertAtPosition(y.buffer,S);else if(typeof y=="object"){var F=_.fromChunks([y]);this._insertAtPosition(F.toBuffer(),S)}else throw new Error("Invalid script chunk")},_.prototype._insertAtPosition=function(y,S){var F=new i;S?(F.write(y),F.write(this.buffer)):(F.write(this.buffer),F.write(y)),this.buffer=F.toBuffer()},_.prototype._addOpcode=function(y,S){var F;if(typeof y=="number"?F=y:y instanceof u?F=y.toNumber():F=u(y).toNumber(),F>255)throw new h.Script.InvalidOpcode(F);return this._insertAtPosition(_.fromChunks([{opcodenum:F}]).toBuffer(),S),this},_.prototype._addBuffer=function(y,S){var F=new i,N,H=y.length;if(H===0)N=0,F.writeUInt8(N);else if(H>0&&H<u.OP_PUSHDATA1)N=H,F.writeUInt8(N),F.write(y);else if(H<Math.pow(2,8))N=u.OP_PUSHDATA1,F.writeUInt8(N),F.writeUInt8(H),F.write(y);else if(H<Math.pow(2,16))N=u.OP_PUSHDATA2,F.writeUInt8(N),F.writeUInt16LE(H),F.write(y);else if(H<Math.pow(2,32))N=u.OP_PUSHDATA4,F.writeUInt8(N),F.writeUInt32LE(H),F.write(y);else throw new Error("You can't push that much data");return this._insertAtPosition(F.toBuffer(),S),this},_.prototype.clone=function(){return _.fromBuffer(this.buffer.slice())},_.prototype.removeCodeseparators=function(){for(var y=[],S=0;S<this.chunks.length;S++)this.chunks[S].opcodenum!==u.OP_CODESEPARATOR&&y.push(this.chunks[S]);return x.delete(this),this.buffer=_.fromChunks(y).toBuffer(),this},_.prototype.subScript=function(y){for(var S=0,F=0;F<this.chunks.length;F++)if(this.chunks[F].opcodenum===u.OP_CODESEPARATOR){if(S===y)return _.fromChunks(this.chunks.slice(F+1));S++}return this},_.buildMultisigOut=function(y,S,F){f.checkArgument(S<=y.length,"Number of required signatures must be less than or equal to the number of public keys"),F=F||{};var N=new _;N.add(u.smallInt(S)),y=c.map(y,o);var H=y;F.noSorting||(H=y.map(P=>P.toString("hex")).sort().map(P=>new o(P)));for(var D=0;D<H.length;D++){var L=H[D];N.add(L.toBuffer())}return N.add(u.smallInt(y.length)),N.add(u.OP_CHECKMULTISIG),N},_.buildMultisigIn=function(y,S,F,N){f.checkArgument(c.isArray(y)),f.checkArgument(c.isNumber(S)),f.checkArgument(c.isArray(F)),N=N||{};var H=new _;return H.add(u.OP_0),c.each(F,function(D){f.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H},_.buildP2SHMultisigIn=function(y,S,F,N){f.checkArgument(c.isArray(y)),f.checkArgument(c.isNumber(S)),f.checkArgument(c.isArray(F)),N=N||{};var H=new _;return H.add(u.OP_0),c.each(F,function(D){f.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H.add((N.cachedMultisig||_.buildMultisigOut(y,S,N)).toBuffer()),H},_.buildPublicKeyHashOut=function(y){f.checkArgument(!c.isUndefined(y)),f.checkArgument(y instanceof o||y instanceof n||c.isString(y)),y instanceof o?y=y.toAddress():c.isString(y)&&(y=new n(y));var S=new _;return S.add(u.OP_DUP).add(u.OP_HASH160).add(y.hashBuffer).add(u.OP_EQUALVERIFY).add(u.OP_CHECKSIG),S._network=y.network,S},_.buildPublicKeyOut=function(y){f.checkArgument(y instanceof o);var S=new _;return S.add(y.toBuffer()).add(u.OP_CHECKSIG),S},_.buildDataOut=function(y,S){f.checkArgument(c.isUndefined(y)||c.isString(y)||c.isArray(y)||r.isBuffer(y));var F=y;c.isArray(F)||(F=[y]);var N=new _;N.add(u.OP_RETURN);for(let H of F)f.checkArgument(c.isUndefined(H)||c.isString(H)||r.isBuffer(H)),c.isString(H)&&(H=r.from(H,S)),c.isUndefined(H)||N.add(H);return N},_.buildSafeDataOut=function(y,S){var F=_.buildDataOut(y,S),N=new _;return N.add(u.OP_FALSE),N.add(F),N},_.buildScriptHashOut=function(y){f.checkArgument(y instanceof _||y instanceof n&&y.isPayToScriptHash());var S=new _;return S.add(u.OP_HASH160).add(y instanceof n?y.hashBuffer:s.sha256ripemd160(y.toBuffer())).add(u.OP_EQUAL),S._network=y._network||y.network,S},_.buildPublicKeyIn=function(y,S){f.checkArgument(y instanceof a||r.isBuffer(y)),f.checkArgument(c.isUndefined(S)||c.isNumber(S)),y instanceof a&&(y=y.toBuffer());var F=new _;return F.add(r.concat([y,r.from([(S||a.SIGHASH_ALL)&255])])),F},_.buildPublicKeyHashIn=function(y,S,F){f.checkArgument(S instanceof a||r.isBuffer(S)),f.checkArgument(c.isUndefined(F)||c.isNumber(F)),S instanceof a&&(S=S.toBuffer());var N=new _().add(r.concat([S,r.from([(F||a.SIGHASH_ALL)&255])])).add(new o(y).toBuffer());return N},_.empty=function(){return new _},_.prototype.toScriptHashOut=function(){return _.buildScriptHashOut(this)},_.fromAddress=function(y){if(y=n(y),y.isPayToScriptHash())return _.buildScriptHashOut(y);if(y.isPayToPublicKeyHash())return _.buildPublicKeyHashOut(y);throw new h.Script.UnrecognizedAddress(y)},_.prototype.getAddressInfo=function(y){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var S=this._getOutputAddressInfo();return S||this._getInputAddressInfo()},_.prototype._getOutputAddressInfo=function(){var y={};if(this.isScriptHashOut())y.hashBuffer=this.getData(),y.type=n.PayToScriptHash;else if(this.isPublicKeyHashOut())y.hashBuffer=this.getData(),y.type=n.PayToPublicKeyHash;else return!1;return y},_.prototype._getInputAddressInfo=function(){var y={};if(this.isPublicKeyHashIn())y.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),y.type=n.PayToPublicKeyHash;else if(this.isScriptHashIn())y.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),y.type=n.PayToScriptHash;else return!1;return y},_.prototype.toAddress=function(y){var S=this.getAddressInfo();return S?(S.network=l.get(y)||this._network||l.defaultNetwork,new n(S)):!1},_.prototype.findAndDelete=function(y){for(var S=y.toBuffer(),F=S.toString("hex"),N=this.chunks,H=0;H<N.length;H++){var D=_.fromChunks([N[H]]),L=D.toBuffer(),P=L.toString("hex");F===P&&(N.splice(H,1),this.buffer=_.fromChunks(N).toBuffer())}return this},_.prototype.checkMinimalPush=function(y){var S=this.chunks[y],F=S.buf,N=S.opcodenum;return F?F.length===0?N===u.OP_0:F.length===1&&F[0]>=1&&F[0]<=16?N===u.OP_1+(F[0]-1):F.length===1&&F[0]===129?N===u.OP_1NEGATE:F.length<=75?N===F.length:F.length<=255?N===u.OP_PUSHDATA1:F.length<=65535?N===u.OP_PUSHDATA2:!0:!0},_.prototype._decodeOP_N=function(y){if(y===u.OP_0)return 0;if(y>=u.OP_1&&y<=u.OP_16)return y-(u.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(y))},_.prototype.getSignatureOperationsCount=function(y){y=c.isUndefined(y)?!0:y;var S=this,F=0,N=u.OP_INVALIDOPCODE;return c.each(S.chunks,function(D){var L=D.opcodenum;L===u.OP_CHECKSIG||L===u.OP_CHECKSIGVERIFY?F++:(L===u.OP_CHECKMULTISIG||L===u.OP_CHECKMULTISIGVERIFY)&&(y&&N>=u.OP_1&&N<=u.OP_16?F+=S._decodeOP_N(N):F+=20),N=L}),F},t.exports=_});Ve("2AZ1V",function(t,e){var r=gr.Buffer,n=G("1gpKq"),i=G("8H5li"),s=G("cMUqj"),u=G("lHHTh"),o=G("dZClM");class a{constructor(f){f?this.set(f):(this.buffers=[],this.length=0)}write(f){return this.buffers.push(f),this.length+=f.length,this}set(f){return this.buffers=f.buffers||f.bufs||this.buffers||[],this.length=this.buffers.reduce(function(c,h){return c+h.length},0),this}concat(){return this.toBuffer()}toBuffer(){if(this.buffers.length===1)return r.from(this.buffers[0]);let f=new Uint8Array(this.length),c=0;return this.buffers.forEach(h=>{f.set(h,c),c+=h.length}),r.from(f)}writeReverse(f){return Ld(r.isBuffer(f)),this.write(r.from(f).reverse()),this}writeUInt16LE(f){return i(this,f),this}writeUInt16BE(f){var c=new a;return c.writeUInt16LE(f),this.writeReverse(c.toBuffer()),this}writeUInt32LE(f){return s(this,f),this}writeUInt32BE(f){var c=new a;return c.writeUInt32LE(f),this.writeReverse(c.toBuffer()),this}writeUInt8(f){return n(this,f),this}writeUInt64LEBN(f){var c=f.toBuffer({size:8});return this.writeReverse(c),this}writeUInt64BEBN(f){var c=new a;return c.writeUInt64LEBN(f),this.writeReverse(c.toBuffer()),this}writeVarintNum(f){return o(this,f),this}writeInt32LE(f){return u(this,f),this}static varintBufNum(f){var c=new a;return c.writeVarintNum(f),c.toBuffer()}writeVarintBN(f){var c=f.toNumber();if(c<253)n(this,c);else if(c<65536)n(this,253),i(this,c);else if(c<4294967296)n(this,254),s(this,c);else{var h=new a;h.writeUInt8(255),h.writeUInt64LEBN(f);var d=h.toBuffer();this.write(d)}return this}}t.exports=a});Ve("1gpKq",function(t,e){function r(n,i){if(i>255)throw new Error("number too large");let s=new Uint8Array(1);return s[0]=i,n.write(s)}t.exports=r});Ve("8H5li",function(t,e){function r(n,i){if(i>65535)throw new Error("number too large");let s=new Uint8Array(2);return s[0]=i%256,i=i>>8,s[1]=i%256,n.write(s)}t.exports=r});Ve("cMUqj",function(t,e){function r(n,i){if(i>4294967295)throw new Error("number too large");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Ve("lHHTh",function(t,e){function r(n,i){if(i<-2147483648||i>2147483647)throw new Error("Out of range. It must be >= -2147483648 and <= 2147483647.");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Ve("dZClM",function(t,e){function r(n,i){if(i>Number.MAX_SAFE_INTEGER)throw new Error("varint too large");if(i<=252)return n.write([i]);if(i<=65535)return n.write([253,i%256,Math.floor(i/256)]);if(i<=4294967295){let u=new Uint8Array(5);return u[0]=254,u[1]=i%256,i=Math.floor(i/256),u[2]=i%256,i=Math.floor(i/256),u[3]=i%256,i=Math.floor(i/256),u[4]=i,n.write(u)}let s=new Uint8Array(9);return s[0]=255,s[1]=i%256,i=Math.floor(i/256),s[2]=i%256,i=Math.floor(i/256),s[3]=i%256,i=Math.floor(i/256),s[4]=i%256,i=Math.floor(i/256),s[5]=i%256,i=Math.floor(i/256),s[6]=i%256,i=Math.floor(i/256),s[7]=i%256,i=Math.floor(i/256),s[8]=i,n.write(s)}t.exports=r});Ve("bpasi",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("gk75r");function u(a){if(!(this instanceof u))return new u(a);var l;if(n.isNumber(a))l=a;else if(n.isString(a))l=u.map[a];else throw new TypeError('Unrecognized num type: "'+typeof a+'" for Opcode');return s.defineImmutable(this,{num:l}),this}u.fromBuffer=function(a){return i.checkArgument(r.isBuffer(a)),new u(Number("0x"+a.toString("hex")))},u.fromNumber=function(a){return i.checkArgument(n.isNumber(a)),new u(a)},u.fromString=function(a){i.checkArgument(n.isString(a));var l=u.map[a];if(typeof l>"u")throw new TypeError("Invalid opcodestr");return new u(l)},u.prototype.toHex=function(){return this.num.toString(16)},u.prototype.toBuffer=function(){return r.from(this.toHex(),"hex")},u.prototype.toNumber=function(){return this.num},u.prototype.toString=function(){var a=u.reverseMap[this.num];if(typeof a>"u")throw new Error("Opcode does not have a string representation");return a},u.prototype.toSafeString=function(){var a=u.reverseMap[this.num];return typeof a>"u"?this.toHex():a},u.smallInt=function(a){return i.checkArgument(n.isNumber(a),"Invalid Argument: n should be number"),i.checkArgument(a>=0&&a<=16,"Invalid Argument: n must be between 0 and 16"),a===0?u("OP_0"):new u(u.map.OP_1+a-1)},u.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SPLIT:127,OP_NUM2BIN:128,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},u.reverseMap=[];for(var o in u.map)u.reverseMap[u.map[o]]=o;n.extend(u,u.map),u.isSmallIntOp=function(a){return a instanceof u&&(a=a.toNumber()),a===u.map.OP_0||a>=u.map.OP_1&&a<=u.map.OP_16},u.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=u});Ve("apNYJ",function(t,e){function r(n){let i=[],s=0,u=0;for(;s<n.length;){let o=n[s];s+=1,o===0?(u=o,i.push({opcodenum:o,len:u})):o<76?(u=o,i.push({opcodenum:o,buf:n.slice(s,s+o),len:u}),s+=o):o===76?(u=n[s],s+=1,i.push({opcodenum:o,buf:n.slice(s,s+u),len:u}),s+=u):o===77?(u=n[s]|n[s+1]<<8,s+=2,i.push({opcodenum:o,buf:n.slice(s,s+u),len:u}),s+=u):o===78?(u=n[s]+n[s+1]*256+n[s+2]*65536+n[s+3]*16777216,s+=4,i.push({opcodenum:o,buf:n.slice(s,s+u),len:u}),s+=u):i.push({opcodenum:o})}return i}t.exports=r});Ve("62MER",function(t,e){var r=G("5CDhN"),n=G("bpasi"),i=G("2AZ1V"),s=G("gVSXN");function u(o){let a=o.split(" "),l=new i;return a.forEach(f=>{if(f in n)l.write([n[f]]);else if(f==="0")l.write([n.OP_0]);else if(f==="-1")l.write([n.OP_1NEGATE]);else{let c=r(f);s(l,c)}}),l.toBuffer()}t.exports=u});Ve("5CDhN",function(t,e){var r=gr.Buffer,n=G("hAcaU");function i(s){if(typeof s!="string")throw new Error("not a string");if(s.startsWith("0x")&&(s=s.slice(2)),s.length%2===1&&(s="0"+s),!n(s))throw new Error("invalid hex string in script");if(typeof VARIANT>"u"||VARIANT==="browser"){let u=s.length/2,o=new Uint8Array(u),a=l=>l!==l;for(let l=0;l<u;++l){let f=parseInt(s.substr(l*2,2),16);if(a(f))throw new Error("bad hex char");o[l]=f}return o}else return r.from(s,"hex")}t.exports=i});Ve("hAcaU",function(t,e){let r=/^(?:[a-fA-F0-9][a-fA-F0-9])*$/;function n(i){return r.test(i)}t.exports=n});Ve("gVSXN",function(t,e){function r(n,i){if(i.length===0)n.write([0]);else if(i.length<=75)n.write([i.length]),n.write(i);else if(i.length<=255)n.write([76,i.length]),n.write(i);else if(i.length<=65535)n.write([77,i.length%256,i.length>>8]),n.write(i);else if(i.length<=4294967295){let s=new Uint8Array(5);s[0]=78;let u=i.length;s[1]=u%256,u=Math.floor(u/256),s[2]=u%256,u=Math.floor(u/256),s[3]=u%256,u=Math.floor(u/256),s[4]=u,n.write(s),n.write(i)}else throw new Error("data too large");return n}t.exports=r});Ve("kndCV",function(t,e){var r=gr.Buffer;let n=null;if(typeof VARIANT>"u"||VARIANT==="browser"){let i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];n=function(s){let u=s.length,o=new Array(u);for(let a=0;a<u;++a)o[a]=i[s[a]];return o.join("")}}else n=function(i){return i instanceof r?i.toString("hex"):r.from(i).toString("hex")};t.exports=n});Ve("g4xmW",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("eIR83"),s=G("bpasi"),u=G("dIoYd"),o=G("bTTXN"),a=G("gIXub"),l=G("arkeG"),f=G("bSS4t"),c=function d(p){if(!(this instanceof d))return new d(p);p?(this.initialize(),this.set(p)):this.initialize()};c.prototype.verify=function(d,p,m,w,x,_,y){var S=G("7pkU6");if(n.isUndefined(m)&&(m=new S),n.isUndefined(w)&&(w=0),n.isUndefined(x)&&(x=0),x&c.SCRIPT_ENABLE_SIGHASH_FORKID&&(x|=c.SCRIPT_VERIFY_STRICTENC,!_))throw new Error("internal error - need satoshisBN to verify FORKID transactions");this.set({script:d,tx:m,nin:w,flags:x,satoshisBN:_,sighashScript:y});var F;if((x&c.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!d.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate("scriptSig"))return!1;x&c.SCRIPT_VERIFY_P2SH&&(F=this.stack.copy());var N=this.stack;if(this.initialize(),this.set({script:p,stack:N,tx:m,nin:w,flags:x,satoshisBN:_,sighashScript:y}),!this.evaluate("scriptPubkey"))return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var H=this.stack.stacktop(-1);if(!c.castToBool(H))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;if(x&c.SCRIPT_VERIFY_P2SH&&p.isScriptHashOut()){if(!d.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(F.length===0)throw new Error("internal error - stack copy empty");var D=F.stacktop(-1),L=i.fromBuffer(D);if(F.pop(),this.initialize(),this.set({script:L,stack:F,tx:m,nin:w,flags:x,satoshisBN:_}),!this.evaluate())return!1;if(F.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!c.castToBool(F.stacktop(-1)))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1}return(x&c.SCRIPT_VERIFY_CLEANSTACK)!==0&&this.stack.length!==1?(this.errstr="SCRIPT_ERR_CLEANSTACK",!1):!0},t.exports=c,c.prototype.initialize=function(d){this.stack=new f([]),this.altstack=new f([]),this.pc=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.nonTopLevelReturnAfterGenesis=!1,this.returned=!1},c.prototype.set=function(d){this.script=d.script||this.script,this.tx=d.tx||this.tx,this.nin=typeof d.nin<"u"?d.nin:this.nin,this.satoshisBN=d.satoshisBN||this.satoshisBN,this.stack=d.stack||this.stack,this.altstack=d.altstack||this.altstack,this.pc=typeof d.pc<"u"?d.pc:this.pc,this.pbegincodehash=typeof d.pbegincodehash<"u"?d.pbegincodehash:this.pbegincodehash,this.nOpCount=typeof d.nOpCount<"u"?d.nOpCount:this.nOpCount,this.vfExec=d.vfExec||this.vfExec,this.errstr=d.errstr||this.errstr,this.flags=typeof d.flags<"u"?d.flags:this.flags,this.sighashScript=d.sighashScript||this.sighashScript},c.prototype.subscript=function(){return this.sighashScript?this.sighashScript.clone():i.fromChunks(this.script.chunks.slice(this.pbegincodehash))},c.getTrue=()=>r.from([1]),c.getFalse=()=>r.from([]),c.MAX_SCRIPT_ELEMENT_SIZE=520,c.MAXIMUM_ELEMENT_SIZE=4,c.LOCKTIME_THRESHOLD=5e8,c.LOCKTIME_THRESHOLD_BN=new u(c.LOCKTIME_THRESHOLD),c.SCRIPT_VERIFY_NONE=0,c.SCRIPT_VERIFY_P2SH=1,c.SCRIPT_VERIFY_STRICTENC=2,c.SCRIPT_VERIFY_DERSIG=4,c.SCRIPT_VERIFY_LOW_S=8,c.SCRIPT_VERIFY_NULLDUMMY=16,c.SCRIPT_VERIFY_SIGPUSHONLY=32,c.SCRIPT_VERIFY_MINIMALDATA=64,c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,c.SCRIPT_VERIFY_CLEANSTACK=256,c.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,c.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,c.SCRIPT_VERIFY_MINIMALIF=8192,c.SCRIPT_VERIFY_NULLFAIL=16384,c.SCRIPT_VERIFY_COMPRESSED_PUBKEYTYPE=32768,c.SCRIPT_ENABLE_SIGHASH_FORKID=65536,c.SCRIPT_ENABLE_REPLAY_PROTECTION=131072,c.SCRIPT_ENABLE_MONOLITH_OPCODES=262144,c.SCRIPT_ENABLE_MAGNETIC_OPCODES=524288,c.SEQUENCE_LOCKTIME_DISABLE_FLAG=-2147483648,c.SEQUENCE_LOCKTIME_TYPE_FLAG=4194304,c.SEQUENCE_LOCKTIME_MASK=65535,c.MAX_SCRIPT_SIZE=Number.MAX_SAFE_INTEGER,c.MAX_OPCODE_COUNT=Number.MAX_SAFE_INTEGER,c.DEFAULT_FLAGS=c.SCRIPT_ENABLE_MAGNETIC_OPCODES|c.SCRIPT_ENABLE_MONOLITH_OPCODES|c.SCRIPT_VERIFY_STRICTENC|c.SCRIPT_ENABLE_SIGHASH_FORKID|c.SCRIPT_VERIFY_LOW_S|c.SCRIPT_VERIFY_NULLFAIL|c.SCRIPT_VERIFY_DERSIG|c.SCRIPT_VERIFY_MINIMALDATA|c.SCRIPT_VERIFY_NULLDUMMY|c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|c.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|c.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|c.SCRIPT_VERIFY_CLEANSTACK,c.castToBool=function(d){for(var p=0;p<d.length;p++)if(d[p]!==0)return!(p===d.length-1&&d[p]===128);return!1},c.prototype.checkSignatureEncoding=function(d){var p;if(d.length===0)return!0;if((this.flags&(c.SCRIPT_VERIFY_DERSIG|c.SCRIPT_VERIFY_LOW_S|c.SCRIPT_VERIFY_STRICTENC))!==0&&!a.isTxDER(d))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&c.SCRIPT_VERIFY_LOW_S)!==0){if(p=a.fromTxFormat(d),!p.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&c.SCRIPT_VERIFY_STRICTENC)!==0){if(p=a.fromTxFormat(d),!p.hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;if(!(this.flags&c.SCRIPT_ENABLE_SIGHASH_FORKID)&&p.nhashtype&a.SIGHASH_FORKID)return this.errstr="SCRIPT_ERR_ILLEGAL_FORKID",!1;if(this.flags&c.SCRIPT_ENABLE_SIGHASH_FORKID&&!(p.nhashtype&a.SIGHASH_FORKID))return this.errstr="SCRIPT_ERR_MUST_USE_FORKID",!1}return!0},c.prototype.checkPubkeyEncoding=function(d){return(this.flags&c.SCRIPT_VERIFY_STRICTENC)!==0&&!l.isValid(d)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):!0},c._isMinimallyEncoded=function(d,p){return p=p||c.MAXIMUM_ELEMENT_SIZE,!(d.length>p||d.length>0&&(d[d.length-1]&127)===0&&(d.length<=1||(d[d.length-2]&128)===0))},c._minimallyEncode=function(d){if(d.length===0)return d;var p=d[d.length-1];if(p&127)return d;if(d.length===1)return r.from("");if(d[d.length-2]&128)return d;for(var m=d.length-1;m>0;m--)if(d[m-1]!==0)return d[m-1]&128?d[m++]=p:d[m-1]|=p,d.slice(0,m);return r.from("")},c.prototype.evaluate=function(d){if(this.script.toBuffer().length>c.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;!this.returned&&this.pc<this.script.chunks.length;){let m={pc:this.pc,fExec:this.vfExec.indexOf(!1)===-1,opcode:s.fromNumber(this.script.chunks[this.pc].opcodenum)};var p=this.step(d);if(this._callbackStep(m),!p)return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(m){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+m,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0},c.prototype._callbackStep=function(d){if(typeof this.stepListener=="function")try{this.stepListener(d)}catch(p){console.log(`Error in Step callback:${p}`)}},c.prototype._callbackStack=function(d,p,m){if(typeof this.stackListener=="function")try{this.stackListener(d,p,m)}catch(x){var w=this.script.chunks[p];console.error(`Error: ${x} in _updateStack pc: ${p}, opcode ${s.fromNumber(w.opcodenum).toSafeString()}`)}},c.prototype.checkLockTime=function(d){return!(!(this.tx.nLockTime<c.LOCKTIME_THRESHOLD&&d.lt(c.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=c.LOCKTIME_THRESHOLD&&d.gte(c.LOCKTIME_THRESHOLD_BN))||d.gt(new u(this.tx.nLockTime))||this.tx.inputs[this.nin].isFinal())},c.prototype.checkSequence=function(d){var p=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||p&c.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var m=c.SEQUENCE_LOCKTIME_TYPE_FLAG|c.SEQUENCE_LOCKTIME_MASK,w=new u(p&m),x=d.and(m),_=new u(c.SEQUENCE_LOCKTIME_TYPE_FLAG);return!(!(w.lt(_)&&x.lt(_)||w.gte(_)&&x.gte(_))||x.gt(w))};function h(d,p){let m=d;for(;m.length<p;)m=r.concat([r.from([0]),m]);return m}c.prototype.step=function(d){var p=this;function m(be){return p.stack.stacktop(be)}function w(be){return p.stack.vartop(be)}function x(be){switch(be){case s.OP_2MUL:case s.OP_2DIV:return!0;case s.OP_INVERT:case s.OP_MUL:case s.OP_LSHIFT:case s.OP_RSHIFT:if((p.flags&c.SCRIPT_ENABLE_MAGNETIC_OPCODES)===0)return!0;break;case s.OP_DIV:case s.OP_MOD:case s.OP_SPLIT:case s.OP_CAT:case s.OP_AND:case s.OP_OR:case s.OP_XOR:case s.OP_BIN2NUM:case s.OP_NUM2BIN:if((p.flags&c.SCRIPT_ENABLE_MONOLITH_OPCODES)===0)return!0;break;default:break}return!1}var _=(this.flags&c.SCRIPT_VERIFY_MINIMALDATA)!==0,y,S,F,N,H,D,L,P,A,b,g,v,E,C,R,O,M,T,U,Y,te=this.script.chunks[this.pc];this.pc++;var J=te.opcodenum;if(n.isUndefined(J))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(te.buf&&te.buf.length>c.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;var ce=this.vfExec.indexOf(!1)===-1&&(!this.nonTopLevelReturnAfterGenesis||J===s.OP_RETURN);if(J>s.OP_16&&++this.nOpCount>c.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(x(J))return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(ce&&J>=0&&J<=s.OP_PUSHDATA4){if(_&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!te.buf)this.stack.push(c.getFalse());else{if(te.len!==te.buf.length)throw new Error(`Length of push value not equal to length of data (${te.len},${te.buf.length})`);this.stack.push(te.buf)}}else if(ce||s.OP_IF<=J&&J<=s.OP_ENDIF)switch(J){case s.OP_1NEGATE:case s.OP_1:case s.OP_2:case s.OP_3:case s.OP_4:case s.OP_5:case s.OP_6:case s.OP_7:case s.OP_8:case s.OP_9:case s.OP_10:case s.OP_11:case s.OP_12:case s.OP_13:case s.OP_14:case s.OP_15:case s.OP_16:H=J-(s.OP_1-1),y=new u(H).toScriptNumBuffer(),this.stack.push(y);break;case s.OP_NOP:break;case s.OP_NOP2:case s.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&c.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var se=u.fromScriptNumBuffer(this.stack.stacktop(-1),_,5);if(se.lt(new u(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(se))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP3:case s.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&c.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var j=u.fromScriptNumBuffer(m(-1),_,5);if(j.lt(new u(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((j&c.SEQUENCE_LOCKTIME_DISABLE_FLAG)!==0)break;if(!this.checkSequence(j))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP1:case s.OP_NOP4:case s.OP_NOP5:case s.OP_NOP6:case s.OP_NOP7:case s.OP_NOP8:case s.OP_NOP9:case s.OP_NOP10:if(this.flags&c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case s.OP_IF:case s.OP_NOTIF:if(O=!1,ce){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(y=m(-1),this.flags&c.SCRIPT_VERIFY_MINIMALIF){if(y.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(y.length===1&&y[0]!==1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}O=c.castToBool(y),J===s.OP_NOTIF&&(O=!O),this.stack.pop()}this.vfExec.push(O);break;case s.OP_ELSE:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case s.OP_ENDIF:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case s.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(y=m(-1),O=c.castToBool(y),O)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1;break;case s.OP_RETURN:if((this.flags&c.SCRIPT_VERIFY_P2SH)===0){if(this.vfExec.length===0)return this.returned=!0,!0;this.nonTopLevelReturnAfterGenesis=!0}else return!1;break;case s.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-1),this.altstack.push(this.stack.pop(),T);break;case s.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;let be=this.altstack.vartop(-1);this.stack.push(this.altstack.pop(),be);break;case s.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case s.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-2),F=m(-1),T=w(-2),U=w(-1),this.stack.push(r.from(S),`$${T}`),this.stack.push(r.from(F),`$${U}`);break;case s.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-3),F=m(-2);var Z=m(-1);T=w(-3),U=w(-2),Y=w(-1),this.stack.push(r.from(S),`$${T}`),this.stack.push(r.from(F),`$${U}`),this.stack.push(r.from(Z),`$${Y}`);break;case s.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-4),F=m(-3),T=w(-4),U=w(-3),this.stack.push(r.from(S),`$${T}`),this.stack.push(r.from(F),`$${U}`);break;case s.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-6),U=w(-5),N=this.stack.splice(this.stack.length-6,2),this.stack.push(N[0],T),this.stack.push(N[1],U);break;case s.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-4),U=w(-3),N=this.stack.splice(this.stack.length-4,2),this.stack.push(N[0],T),this.stack.push(N[1],U);break;case s.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=m(-1),O=c.castToBool(y),O&&(T=w(-1),this.stack.push(r.from(y),`$${T}`));break;case s.OP_DEPTH:y=new u(this.stack.length).toScriptNumBuffer(),this.stack.push(y,"$depth");break;case s.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case s.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-1),this.stack.push(r.from(m(-1)),`$${T}`);break;case s.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case s.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;U=w(-2),this.stack.push(r.from(m(-2)),`$${U}`);break;case s.OP_PICK:case s.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(y=m(-1),P=u.fromScriptNumBuffer(y,_,4),H=P.toNumber(),this.stack.pop(),H<0||H>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=m(-H-1),T=w(-H-1),J===s.OP_ROLL?(this.stack.splice(this.stack.length-H-1,1),this.stack.push(r.from(y),T)):this.stack.push(r.from(y),`$${T}`);break;case s.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=m(-3),L=m(-2);var ee=m(-1);T=w(-3),U=w(-2),Y=w(-1),this.stack.write(-3,L),this.stack.write(-2,ee),this.stack.write(-1,D),this.stack.updateTopVars([T,Y,U]);break;case s.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=m(-2),L=m(-1),T=w(-2),U=w(-1),this.stack.write(-2,L),this.stack.write(-1,D),this.stack.updateTopVars([T,U]);break;case s.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-2),U=w(-1),this.stack.splice(this.stack.length-2,0,r.from(m(-1))),this.stack.updateTopVars([U,T,`$${U}`]);break;case s.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=new u(m(-1).length),this.stack.push(P.toScriptNumBuffer(),"$size");break;case s.OP_AND:case s.OP_OR:case s.OP_XOR:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-2),F=m(-1),S.length!==F.length)return this.errstr="SCRIPT_ERR_INVALID_OPERAND_SIZE",!1;switch(J){case s.OP_AND:for(let ie=0;ie<S.length;ie++)S[ie]&=F[ie];break;case s.OP_OR:for(let ie=0;ie<S.length;ie++)S[ie]|=F[ie];break;case s.OP_XOR:for(let ie=0;ie<S.length;ie++)S[ie]^=F[ie];break;default:break}this.stack.pop();break;case s.OP_INVERT:this.stack.length<1&&(this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION"),y=m(-1);for(let ie=0;ie<y.length;ie++)y[ie]=~y[ie];break;case s.OP_LSHIFT:case s.OP_RSHIFT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-2),S.length===0)this.stack.pop();else{if(A=new u(S),b=u.fromScriptNumBuffer(m(-1),_,4),H=b.toNumber(),H<0)return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;this.stack.pop(),this.stack.pop();let ie;J===s.OP_LSHIFT&&(ie=A.ushln(H)),J===s.OP_RSHIFT&&(ie=A.ushrn(H));let ye=h(r.from(ie.toArray().slice(S.length*-1)),S.length);this.stack.push(ye)}break;case s.OP_EQUAL:case s.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-2),F=m(-1);var ue=S.toString("hex")===F.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(ue?c.getTrue():c.getFalse()),J===s.OP_EQUALVERIFY)if(ue)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;break;case s.OP_1ADD:case s.OP_1SUB:case s.OP_NEGATE:case s.OP_ABS:case s.OP_NOT:case s.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(y=m(-1),P=u.fromScriptNumBuffer(y,_),J){case s.OP_1ADD:P=P.add(u.One);break;case s.OP_1SUB:P=P.sub(u.One);break;case s.OP_NEGATE:P=P.neg();break;case s.OP_ABS:P.cmp(u.Zero)<0&&(P=P.neg());break;case s.OP_NOT:P=new u((P.cmp(u.Zero)===0)+0);break;case s.OP_0NOTEQUAL:P=new u((P.cmp(u.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(P.toScriptNumBuffer());break;case s.OP_ADD:case s.OP_SUB:case s.OP_MUL:case s.OP_MOD:case s.OP_DIV:case s.OP_BOOLAND:case s.OP_BOOLOR:case s.OP_NUMEQUAL:case s.OP_NUMEQUALVERIFY:case s.OP_NUMNOTEQUAL:case s.OP_LESSTHAN:case s.OP_GREATERTHAN:case s.OP_LESSTHANOREQUAL:case s.OP_GREATERTHANOREQUAL:case s.OP_MIN:case s.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(A=u.fromScriptNumBuffer(m(-2),_),b=u.fromScriptNumBuffer(m(-1),_),P=new u(0),J){case s.OP_ADD:P=A.add(b);break;case s.OP_SUB:P=A.sub(b);break;case s.OP_MUL:P=A.mul(b);break;case s.OP_DIV:if(b===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;P=A.div(b);break;case s.OP_MOD:if(b===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;P=A.mod(b);break;case s.OP_BOOLAND:P=new u((A.cmp(u.Zero)!==0&&b.cmp(u.Zero)!==0)+0);break;case s.OP_BOOLOR:P=new u((A.cmp(u.Zero)!==0||b.cmp(u.Zero)!==0)+0);break;case s.OP_NUMEQUAL:P=new u((A.cmp(b)===0)+0);break;case s.OP_NUMEQUALVERIFY:P=new u((A.cmp(b)===0)+0);break;case s.OP_NUMNOTEQUAL:P=new u((A.cmp(b)!==0)+0);break;case s.OP_LESSTHAN:P=new u((A.cmp(b)<0)+0);break;case s.OP_GREATERTHAN:P=new u((A.cmp(b)>0)+0);break;case s.OP_LESSTHANOREQUAL:P=new u((A.cmp(b)<=0)+0);break;case s.OP_GREATERTHANOREQUAL:P=new u((A.cmp(b)>=0)+0);break;case s.OP_MIN:P=A.cmp(b)<0?A:b;break;case s.OP_MAX:P=A.cmp(b)>0?A:b;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(P.toScriptNumBuffer()),J===s.OP_NUMEQUALVERIFY)if(c.castToBool(m(-1)))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;break;case s.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;A=u.fromScriptNumBuffer(m(-3),_),b=u.fromScriptNumBuffer(m(-2),_);var fe=u.fromScriptNumBuffer(m(-1),_);O=b.cmp(A)<=0&&A.cmp(fe)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(O?c.getTrue():c.getFalse());break;case s.OP_RIPEMD160:case s.OP_SHA1:case s.OP_SHA256:case s.OP_HASH160:case s.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=m(-1);var de;J===s.OP_RIPEMD160?de=o.ripemd160(y):J===s.OP_SHA1?de=o.sha1(y):J===s.OP_SHA256?de=o.sha256(y):J===s.OP_HASH160?de=o.sha256ripemd160(y):J===s.OP_HASH256&&(de=o.sha256sha256(y)),this.stack.pop(),this.stack.push(de);break;case s.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case s.OP_CHECKSIG:case s.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(g=m(-2),v=m(-1),!this.checkSignatureEncoding(g)||!this.checkPubkeyEncoding(v))return!1;E=this.subscript();var we=new i().add(g);E.findAndDelete(we);try{C=a.fromTxFormat(g),R=l.fromBuffer(v,!1),M=this.tx.verifySignature(C,R,this.nin,E,this.satoshisBN,this.flags)}catch{M=!1}if(!M&&this.flags&c.SCRIPT_VERIFY_NULLFAIL&&g.length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(M?c.getTrue():c.getFalse()),J===s.OP_CHECKSIGVERIFY)if(M)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;break;case s.OP_CHECKMULTISIG:case s.OP_CHECKMULTISIGVERIFY:var He=1;if(this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Fe=u.fromScriptNumBuffer(m(-He),_).toNumber();if(Fe<0||Fe>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=Fe,this.nOpCount>c.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var Le=++He;He+=Fe;var wt=Fe+2;if(this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var je=u.fromScriptNumBuffer(m(-He),_).toNumber();if(je<0||je>Fe)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var Re=++He;if(He+=je,this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=this.subscript();for(var De=0;De<je;De++)g=m(-Re-De),E.findAndDelete(new i().add(g));for(M=!0;M&&je>0;){if(g=m(-Re),v=m(-Le),!this.checkSignatureEncoding(g)||!this.checkPubkeyEncoding(v))return!1;var Xe;try{C=a.fromTxFormat(g),R=l.fromBuffer(v,!1),Xe=this.tx.verifySignature(C,R,this.nin,E,this.satoshisBN,this.flags)}catch{Xe=!1}Xe&&(Re++,je--),Le++,Fe--,je>Fe&&(M=!1)}for(;He-- >1;){if(!M&&this.flags&c.SCRIPT_VERIFY_NULLFAIL&&!wt&&m(-1).length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;wt>0&&wt--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&c.SCRIPT_VERIFY_NULLDUMMY&&m(-1).length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(M?c.getTrue():c.getFalse()),J===s.OP_CHECKMULTISIGVERIFY)if(M)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;break;case s.OP_CAT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-2),F=m(-1),S.length+F.length>c.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.write(-2,r.concat([S,F])),this.stack.pop();break;case s.OP_SPLIT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-2);var q=u.fromScriptNumBuffer(m(-1),_).toNumber();if(q<0||q>S.length)return this.errstr="SCRIPT_ERR_INVALID_SPLIT_RANGE",!1;var X=r.from(S);this.stack.write(-2,X.slice(0,q)),this.stack.write(-1,X.slice(q));break;case s.OP_NUM2BIN:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var z=u.fromScriptNumBuffer(m(-1),_).toNumber();if(z>c.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.pop();var V=m(-1);if(V=c._minimallyEncode(V),V.length>z)return this.errstr="SCRIPT_ERR_IMPOSSIBLE_ENCODING",!1;if(V.length===z){this.stack.write(-1,V);break}var re=0;V.length>0&&(re=V[V.length-1]&128,V[V.length-1]&=127);var Q=r.alloc(z);V.copy(Q,0);for(var ne=V.length-1;ne++<z-2;)Q[ne]=0;Q[ne]=re,this.stack.write(-1,Q);break;case s.OP_BIN2NUM:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-1),F=c._minimallyEncode(S),this.stack.write(-1,F),!c._isMinimallyEncoded(F))return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.vfExec.indexOf(!1)===-1&&this._callbackStack(this.stack,this.pc,d),!0}});Ve("bSS4t",function(t,e){"use strict";var r=function(s,u){this.stack=s,this.varStack=u||[]};t.exports=r,r.prototype.pushVar=function(i){this.varStack.push(i||"$tmp")},r.prototype.popVar=function(){this.varStack.pop()},r.prototype.push=function(i,s){this.pushVar(s),this.stack.push(i),this.checkConsistency()},r.prototype.pop=function(){this.popVar();let i=this.stack.pop();return this.checkConsistency(),i},r.prototype.updateTopVars=function(i){if(i.length>this.varStack.length)throw new Error(`updateTopVars fail, stack: ${this.stack.length},  varStack: ${this.varStack.length}, vars:${i.length}`);i=i.reverse(),this.varStack.splice(this.varStack.length-i.length,i.length,...i)},r.prototype.stacktop=function(i){return this.stack[this.stack.length+i]},r.prototype.vartop=function(i){return this.varStack[this.varStack.length+i]},r.prototype.slice=function(i,s){return this.stack.slice(i,s)},r.prototype.splice=function(i,s,...u){return this.varStack.splice(i,s,...u),this.stack.splice(i,s,...u)},r.prototype.write=function(i,s){this.stack[this.stack.length+i]=s},r.prototype.copy=function(){return new r(this.stack.slice()||[],this.varStack.slice()||[])};function n(i){return i.reduce(function(s,u){return s+=("0"+(u&255).toString(16)).slice(-2),s},"")}r.prototype.printVarStack=function(){let i=this.varStack.map((s,u)=>({name:s,value:n(this.rawstack[u].data)}));console.log(JSON.stringify(i,null,4))},r.prototype.checkConsistency=function(){if(this.stack.length!==this.varStack.length)throw this.printVarStack(),new Error(`checkConsistency fail, stack: ${this.stack.length}, varStack:${this.varStack.length}`)},r.prototype.checkConsistencyWithVars=function(i){if(this.stack.length<i.length)throw this.printVarStack(),new Error(`checkConsistencyWithVars fail, stack: ${this.stack.length}, varStack:${i.length}`)},Object.defineProperty(r.prototype,"length",{get:function(){return this.stack.length}}),Object.defineProperty(r.prototype,"rawstack",{get:function(){return this.stack}})});Ve("7pkU6",function(t,e){t.exports=G("98CPZ"),t.exports.Input=G("dQaOn"),t.exports.Output=G("bczuf"),t.exports.UnspentOutput=G("G1usC"),t.exports.Signature=G("4Dqlv"),t.exports.Sighash=G("95EnH")});Ve("98CPZ",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("kooOK"),u=G("gk75r"),o=G("28ku8"),a=G("2AZ1V"),l=G("1zMJW"),f=G("bTTXN"),c=G("gIXub"),h=G("95EnH"),d=G("iSUUt"),p=G("G1usC"),m=G("dQaOn"),w=m.PublicKeyHash,x=m.PublicKey,_=m.MultiSigScriptHash,y=m.MultiSig,S=G("bczuf"),F=G("hkiTH"),N=G("7smYJ"),H=G("dIoYd");function D(g){if(!(this instanceof D))return new D(g);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,this._inputsMap=new Map,this._outputsMap=new Map,this._privateKey=void 0,this._sigType=void 0,this.sealed=!1,g){if(g instanceof D)return D.shallowCopy(g);if(u.isHexa(g))this.fromString(g);else if(r.isBuffer(g))this.fromBuffer(g);else if(n.isObject(g))this.fromObject(g);else throw new s.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var L=1,P=0;D.DUST_AMOUNT=1,D.FEE_SECURITY_MARGIN=150,D.MAX_MONEY=21e6*1e8,D.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,D.NLOCKTIME_MAX_VALUE=4294967295,D.FEE_PER_KB=50,D.CHANGE_OUTPUT_MAX_SIZE=62,D.DUMMY_PRIVATEKEY=N.fromWIF("cQ3nCBQB9RsFSyjNQM15NQLVpXXMtWh9PUyeFz5KxLJCHsuRH2Su"),D.shallowCopy=function(g){var v=new D(g.toBuffer());return v};var A={configurable:!1,enumerable:!0,get:function(){return this._hash=new o(this._getHash()).readReverse().toString("hex"),this._hash}};Object.defineProperty(D.prototype,"hash",A),Object.defineProperty(D.prototype,"id",A);var b={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(D.prototype,"inputAmount",b),b.get=function(){return this._getOutputAmount()},Object.defineProperty(D.prototype,"outputAmount",b),D.prototype._getHash=function(){return f.sha256sha256(this.toBuffer())},D.prototype.serialize=function(g){return g===!0||g&&g.disableAll?this.uncheckedSerialize():this.checkedSerialize(g)},D.prototype.uncheckedSerialize=D.prototype.toString=function(){return this.toBuffer().toString("hex")},D.prototype.checkedSerialize=function(g){var v=this.getSerializationError(g);if(v)throw v.message+=" - For more information please see: https://bsv.io/api/lib/transaction#serialization-checks",v;return this.uncheckedSerialize()},D.prototype.invalidSatoshis=function(){for(var g=!1,v=0;v<this.outputs.length;v++)this.outputs[v].invalidSatoshis()&&(g=!0);return g},D.prototype.getSerializationError=function(g){if(g=g||{},this.invalidSatoshis())return new s.Transaction.InvalidSatoshis;var v=this.getUnspentValue(),E;return v<0?g.disableMoreOutputThanInput||(E=new s.Transaction.InvalidOutputAmountSum):E=this._hasFeeError(g,v),E||this._hasDustOutputs(g)||this._isMissingSignatures(g)},D.prototype._hasFeeError=function(g,v){if(!n.isUndefined(this._fee)&&this._fee!==v)return new s.Transaction.FeeError.Different("Unspent value is "+v+" but specified fee is "+this._fee);if(!g.disableLargeFees){var E=Math.floor(D.FEE_SECURITY_MARGIN*this._estimateFee());if(v>E)return this._missingChange()?new s.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new s.Transaction.FeeError.TooLarge("expected less than "+E+" but got "+v)}},D.prototype._missingChange=function(){return!this._changeScript},D.prototype._hasDustOutputs=function(g){if(!g.disableDustOutputs){var v,E;for(v in this.outputs)if(E=this.outputs[v],E.satoshis<D.DUST_AMOUNT&&!E.script.isDataOut()&&!E.script.isSafeDataOut())return new s.Transaction.DustOutputs}},D.prototype._isMissingSignatures=function(g){if(!g.disableIsFullySigned&&!this.isFullySigned())return new s.Transaction.MissingSignatures},D.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},D.prototype.toBuffer=function(){var g=new a;return this.toBufferWriter(g).toBuffer()},D.prototype.toBufferWriter=function(g){return g.writeUInt32LE(this.version),g.writeVarintNum(this.inputs.length),n.each(this.inputs,function(v){v.toBufferWriter(g)}),g.writeVarintNum(this.outputs.length),n.each(this.outputs,function(v){v.toBufferWriter(g)}),g.writeUInt32LE(this.nLockTime),g},D.prototype.fromBuffer=function(g){var v=new o(g);return this.fromBufferReader(v)},D.prototype.fromBufferReader=function(g){i.checkArgument(!g.finished(),"No transaction data received");var v,E,C;for(this.version=g.readInt32LE(),E=g.readVarintNum(),v=0;v<E;v++){var R=m.fromBufferReader(g);this.inputs.push(R)}for(C=g.readVarintNum(),v=0;v<C;v++)this.outputs.push(S.fromBufferReader(g));return this.nLockTime=g.readUInt32LE(),this},D.prototype.toObject=D.prototype.toJSON=function(){var v=[];this.inputs.forEach(function(R){v.push(R.toObject())});var E=[];this.outputs.forEach(function(R){E.push(R.toObject())});var C={hash:this.hash,version:this.version,inputs:v,outputs:E,nLockTime:this.nLockTime};return this._changeScript&&(C.changeScript=this._changeScript.toString()),this._changeScript&&(C.changeAddress=this._changeAddress.toString()),n.isUndefined(this._changeIndex)||(C.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(C.fee=this._fee),C},D.prototype.fromObject=function(v){i.checkArgument(n.isObject(v)||v instanceof D);var E=this,C;return v instanceof D?C=C.toObject():C=v,n.each(C.inputs,function(R){if(!R.output||!R.output.script){E.uncheckedAddInput(new m(R));return}var O=new F(R.output.script),M;if(O.isPublicKeyHashOut())M=new m.PublicKeyHash(R);else if(O.isScriptHashOut()&&R.publicKeys&&R.threshold)M=new m.MultiSigScriptHash(R,R.publicKeys,R.threshold,R.signatures);else if(O.isPublicKeyOut())M=new m.PublicKey(R);else throw new s.Transaction.Input.UnsupportedScript(R.output.script);E.addInput(M)}),n.each(C.outputs,function(R){E.addOutput(new S(R))}),C.changeIndex&&(this._changeIndex=C.changeIndex),C.changeScript&&(this._changeScript=new F(C.changeScript)),C.changeAddress&&(this._changeAddress=d.fromString(C.changeAddress)),C.fee&&(this._fee=C.fee),this.nLockTime=C.nLockTime,this.version=C.version,this._checkConsistency(v),this},D.prototype._checkConsistency=function(g){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript,"Change script is expected."),i.checkState(this._changeAddress,"Change address is expected."),i.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),g&&g.hash&&i.checkState(g.hash===this.hash,"Hash in object does not match transaction hash.")},D.prototype.lockUntilDate=function(g){if(i.checkArgument(g),n.isNumber(g)&&g<D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.LockTimeTooEarly;n.isDate(g)&&(g=g.getTime()/1e3);for(var v=0;v<this.inputs.length;v++)this.inputs[v].sequenceNumber===m.DEFAULT_SEQNUMBER&&(this.inputs[v].sequenceNumber=m.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=g,this},D.prototype.lockUntilBlockHeight=function(g){if(i.checkArgument(n.isNumber(g)),g>=D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.BlockHeightTooHigh;if(g<0)throw new s.Transaction.NLockTimeOutOfRange;for(var v=0;v<this.inputs.length;v++)this.inputs[v].sequenceNumber===m.DEFAULT_SEQNUMBER&&(this.inputs[v].sequenceNumber=m.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=g,this},D.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<D.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},D.prototype.fromString=function(g){this.fromBuffer(r.from(g,"hex"))},D.prototype._newTransaction=function(){this.version=L,this.nLockTime=P},D.prototype.from=function(g,v,E){if(n.isArray(g)){var C=this;return n.each(g,function(O){C.from(O,v,E)}),this}var R=n.some(this.inputs,function(O){return O.prevTxId.toString("hex")===g.txId&&O.outputIndex===g.outputIndex});return R?this:(v&&E?this._fromMultisigUtxo(g,v,E):this._fromNonP2SH(g),this)},D.prototype._fromNonP2SH=function(g){var v;g=new p(g),g.script.isPublicKeyHashOut()?v=w:g.script.isPublicKeyOut()?v=x:v=m,this.addInput(new v({output:new S({script:g.script,satoshis:g.satoshis}),prevTxId:g.txId,outputIndex:g.outputIndex,script:F.empty()}))},D.prototype._fromMultisigUtxo=function(g,v,E){i.checkArgument(E<=v.length,"Number of required signatures must be greater than the number of public keys");var C;if(g=new p(g),g.script.isMultisigOut())C=y;else if(g.script.isScriptHashOut())C=_;else throw new Error("@TODO");this.addInput(new C({output:new S({script:g.script,satoshis:g.satoshis}),prevTxId:g.txId,outputIndex:g.outputIndex,script:F.empty()},v,E))},D.prototype.addInput=function(g,v,E){if(i.checkArgumentType(g,m,"input"),!g.output&&(n.isUndefined(v)||n.isUndefined(E)))throw new s.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!g.output&&v&&!n.isUndefined(E)&&(v=v instanceof F?v:new F(v),i.checkArgumentType(E,"number","satoshis"),g.output=new S({script:v,satoshis:E})),this.uncheckedAddInput(g)},D.prototype.uncheckedAddInput=function(g){return i.checkArgumentType(g,m,"input"),this.inputs.push(g),this._inputAmount=void 0,this._updateChangeOutput(),this},D.prototype.hasAllUtxoInfo=function(){return n.every(this.inputs.map(function(g){return!!g.output}))},D.prototype.fee=function(g){return i.checkArgument(n.isNumber(g),"amount must be a number"),this._fee=g,this._updateChangeOutput(),this},D.prototype.feePerKb=function(g){return i.checkArgument(n.isNumber(g),"amount must be a number"),this._feePerKb=g,this._updateChangeOutput(),this},D.prototype.change=function(g){return i.checkArgument(g,"address is required"),this._changeScript=F.fromAddress(g),this._changeAddress=d(g),this._updateChangeOutput(),this},D.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},D.prototype.getChangeAddress=function(){return this._changeAddress?this._changeAddress:null},D.prototype.to=function(g,v){if(n.isArray(g)){var E=this;return n.each(g,function(C){E.to(C.address,C.satoshis)}),this}return i.checkArgument(u.isNaturalNumber(v),"Amount is expected to be a positive integer"),this.addOutput(new S({script:F(new d(g)),satoshis:v})),this},D.prototype.addData=function(g){return this.addOutput(new S({script:F.buildDataOut(g),satoshis:0})),this},D.prototype.addSafeData=function(g){return this.addOutput(new S({script:F.buildSafeDataOut(g),satoshis:0})),this},D.prototype.addOutput=function(g){return i.checkArgumentType(g,S,"output"),this._addOutput(g),this._updateChangeOutput(),this},D.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},D.prototype._addOutput=function(g){this.outputs.push(g),this._outputAmount=void 0},D.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var g=this;this._outputAmount=0,n.each(this.outputs,function(v){g._outputAmount+=v.satoshis})}return this._outputAmount},D.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var g=this;this._inputAmount=0,n.each(this.inputs,function(v){if(n.isUndefined(v.output))throw new s.Transaction.Input.MissingPreviousOutput;g._inputAmount+=v.output.satoshis})}return this._inputAmount},D.prototype._updateChangeOutput=function(){if(this.sealed)throw new s.Transaction.TransactionAlreadySealed;if(!!this._changeScript){n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex),this._changeIndex=this.outputs.length,this._addOutput(new S({script:this._changeScript,satoshis:0}));var g=this.getUnspentValue(),v=this.getFee(),E=g-v;this._removeOutput(this._changeIndex),this._changeIndex=void 0,E>=D.DUST_AMOUNT&&(this._changeIndex=this.outputs.length,this._addOutput(new S({script:this._changeScript,satoshis:E}))),this._clearSignatures()}},D.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this.getUnspentValue():this._fee},D.prototype._estimateFee=function(){var g=this._estimateSize();return Math.ceil(g/1e3*(this._feePerKb||D.FEE_PER_KB))},D.prototype.getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},D.prototype._clearSignatures=function(){n.each(this.inputs,function(g){g.clearSignatures()})},D.prototype.getEstimateSize=function(){return this._estimateSize()},D.prototype._estimateSize=function(){var g=8;return g+=l(this.inputs.length).toBuffer().length,g+=l(this.outputs.length).toBuffer().length,n.each(this.inputs,function(v){g+=v._estimateSize()}),n.each(this.outputs,function(v){g+=v.getSize()}),g},D.prototype._removeOutput=function(g){var v=this.outputs[g];this.outputs=n.without(this.outputs,v),this._outputAmount=void 0},D.prototype.removeOutput=function(g){this._removeOutput(g),this._updateChangeOutput()},D.prototype.sort=function(){return this.sortInputs(function(g){var v=Array.prototype.concat.apply([],g);return v.sort(function(E,C){return E.prevTxId.compare(C.prevTxId)||E.outputIndex-C.outputIndex}),v}),this.sortOutputs(function(g){var v=Array.prototype.concat.apply([],g);return v.sort(function(E,C){return E.satoshis-C.satoshis||E.script.toBuffer().compare(C.script.toBuffer())}),v}),this},D.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},D.prototype.sortOutputs=function(g){var v=g(this.outputs);return this._newOutputOrder(v)},D.prototype.sortInputs=function(g){return this.inputs=g(this.inputs),this._clearSignatures(),this},D.prototype._newOutputOrder=function(g){var v=this.outputs.length!==g.length||n.difference(this.outputs,g).length!==0;if(v)throw new s.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var E=this.outputs[this._changeIndex];this._changeIndex=g.indexOf(E)}return this.outputs=g,this},D.prototype.removeInput=function(g,v){var E;if(!v&&n.isNumber(g)?E=g:E=n.findIndex(this.inputs,function(R){return R.prevTxId.toString("hex")===g&&R.outputIndex===v}),E<0||E>=this.inputs.length)throw new s.Transaction.InvalidIndex(E,this.inputs.length);var C=this.inputs[E];this.inputs=n.without(this.inputs,C),this._inputAmount=void 0,this._updateChangeOutput()},D.prototype.sign=function(g,v){i.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction.");var E=this;return n.isArray(g)?(n.each(g,function(C){E.sign(C,v)}),this):(n.each(this.getSignatures(g,v),function(C){E.applySignature(C)}),this._privateKey=g,this._sigType=v,this)},D.prototype.getSignatures=function(g,v){g=new N(g),v=v||c.SIGHASH_ALL|c.SIGHASH_FORKID;var E=this,C=[],R=f.sha256ripemd160(g.publicKey.toBuffer());return n.each(this.inputs,function(M,T){n.each(M.getSignatures(E,g,T,v,R),function(U){C.push(U)})}),C},D.prototype.applySignature=function(g){return this.inputs[g.inputIndex].addSignature(this,g),this},D.prototype.isFullySigned=function(){return n.each(this.inputs,function(g){if(g.isFullySigned===m.prototype.isFullySigned)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")}),n.every(n.map(this.inputs,function(g){return g.isFullySigned()}))},D.prototype.isValidSignature=function(g){var v=this;if(this.inputs[g.inputIndex].isValidSignature===m.prototype.isValidSignature)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[g.inputIndex].isValidSignature(v,g)},D.prototype.verifySignature=function(g,v,E,C,R,O){return h.verify(this,g,v,E,C,R,O)},D.prototype.verify=function(g){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var v=new H(0),E=0;E<this.outputs.length;E++){var C=this.outputs[E];if(C.invalidSatoshis())return"transaction txout "+E+" satoshis is invalid";if(C._satoshisBN.gt(new H(D.MAX_MONEY,10)))return"transaction txout "+E+" greater than MAX_MONEY";if(v=v.add(C._satoshisBN),v.gt(new H(D.MAX_MONEY)))return"transaction txout "+E+" total output greater than MAX_MONEY"}var R={};for(E=0;E<this.inputs.length;E++){var O=this.inputs[E],M=O.prevTxId+":"+O.outputIndex;if(!n.isUndefined(R[M]))return"transaction input "+E+" duplicate input";R[M]=!0}var T=this.isCoinbase();if(T){var U=this.inputs[0]._scriptBuffer;if(U.length<2||U.length>100)return"coinbase transaction script size invalid"}else for(E=0;E<this.inputs.length;E++){if(this.inputs[E].isNull())return"transaction input "+E+" has null input";if(!g){var Y=this.inputs[E].verify(this,E);if(!Y.success)return"transaction input "+E+" VerifyError: "+Y.error}}return!0},D.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()},D.prototype.setInputScript=function(g,v){var E=0,C,R,O=!1;if(typeof g=="number"?(E=g,R=c.SIGHASH_ALL|c.SIGHASH_FORKID):(E=g.inputIndex||0,C=g.privateKey,R=g.sigtype||c.SIGHASH_ALL|c.SIGHASH_FORKID,O=g.isLowS||!1),v instanceof Function){var M=this.inputs[E].output;this._inputsMap.set(E,{sigtype:R,privateKey:C,isLowS:O,callback:v});var T=v(this,M);this.inputs[E].setScript(T)}else this.inputs[E].setScript(v);return this},D.prototype.setInputScriptAsync=async function(g,v){var E=0,C,R=!1;if(typeof g=="number"?(E=g,C=c.SIGHASH_ALL|c.SIGHASH_FORKID):(E=g.inputIndex||0,C=g.sigtype||c.SIGHASH_ALL|c.SIGHASH_FORKID,R=g.isLowS||!1),v instanceof Function){var O=this.inputs[E].output;this._inputsMap.set(E,{sigtype:C,isLowS:R,callback:v});var M=await v(this,O);this.inputs[E].setScript(M)}else throw new s.InvalidArgument("Must provide a callback returns a unlocking script");return this},D.prototype.setInputSequence=function(g,v){return this.inputs[g].sequenceNumber=v,this},D.prototype.setOutput=function(g,v){return v instanceof Function?(this._outputsMap.set(g,v),this.outputs[g]=v(this)):this.outputs[g]=v,this._updateChangeOutput(),this},D.prototype.seal=function(){var g=this;return this._outputsMap.forEach(function(v,E){g.outputs[E]=v(g)}),this._updateChangeOutput(),this._inputsMap.forEach(function(v,E){var C=g.inputs[E].output,R=v.callback(g,C);g.inputs[E].setScript(R)}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.sealAsync=async function(){var g=this;this._outputsMap.forEach(function(E,C){g.outputs[C]=E(g)}),this._updateChangeOutput();var v=[];return this._inputsMap.forEach(function(E,C){var R=g.inputs[C].output;v.push(Promise.resolve(E.callback(g,R)).then(O=>({key:C,unlockScript:O})))}),await Promise.all(v).then(E=>{E.forEach(({key:C,unlockScript:R})=>{g.inputs[C].setScript(R)})}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.setLockTime=function(g){return this.nLockTime=g,this},D.prototype.getChangeAmount=function(){return n.isUndefined(this._changeIndex)?0:this.outputs[this._changeIndex].satoshis},D.prototype.getEstimateFee=function(){return this._estimateFee()},D.prototype.checkFeeRate=function(g){var v=this.getUnspentValue(),E=this._estimateSize(),C=(g||this._feePerKb||D.FEE_PER_KB)/1e3,R=v/E;return R>=C},D.prototype.prevouts=function(){var g=new a;n.each(this.inputs,function(E){g.writeReverse(E.prevTxId),g.writeUInt32LE(E.outputIndex)});var v=g.toBuffer();return v.toString("hex")},D.prototype.isSealed=function(){return this.sealed},D.prototype.getPreimage=function(g,v,E,C){i.checkArgumentType(g,"number","inputIndex"),v=v||c.SIGHASH_ALL|c.SIGHASH_FORKID,E=E||!1,g=g||0;var R=this.inputs[g].getPreimage(this,g,v,E,C);return R.toString("hex")},D.prototype.getSignature=function(g,v,E){i.checkArgumentType(g,"number","inputIndex");var C=[],R=(this._inputsMap||new Map).get(g);if(v=v||(R?R.privateKey:this._privateKey),v){E=E||c.SIGHASH_ALL|c.SIGHASH_FORKID;var O=this.inputs[g].getSignatures(this,v,g,E);return n.each(O,function(M){C.push(M.signature.toTxFormat().toString("hex"))}),C.length===1?C[0]:C}return[]},D.prototype.addInputFromPrevTx=function(g,v){i.checkArgumentType(g,D,"prevTx");var E=v||0;let C=g.outputs[E];return C.script.isPublicKeyHashOut()?this.addInput(new w({prevTxId:g.id,outputIndex:E,script:new F(""),output:C})):this.addInput(new m({prevTxId:g.id,outputIndex:E,script:new F(""),output:C}))},D.prototype.addDummyInput=function(g,v){return i.checkArgumentType(g,F,"script"),i.checkArgumentType(v,"number","satoshis"),this.addInput(new m({prevTxId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:new F(""),output:new S({script:g,satoshis:v})}))},D.prototype.dummyChange=function(){return this.change(D.DUMMY_PRIVATEKEY.toAddress())},D.prototype.verifyScript=function(g){if(i.checkArgumentType(g,"number","inputIndex"),!this.inputs[g])throw new s.Transaction.Input.MissingInput;return this.inputs[g].verify(this,g)},D.prototype.verifyInputScript=function(g){return this.verifyScript(g)},D.prototype.getInputAmount=function(g){if(i.checkArgumentType(g,"number","inputIndex"),!this.inputs[g])throw new s.Transaction.Input.MissingInput;return this.inputs[g].output.satoshis},D.prototype.getOutputAmount=function(g){if(i.checkArgumentType(g,"number","outputIndex"),!this.outputs[g])throw new s.Transaction.MissingOutput;return this.outputs[g].satoshis},t.exports=D});Ve("28ku8",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("dIoYd"),u=function o(a){if(!(this instanceof o))return new o(a);if(!n.isUndefined(a))if(r.isBuffer(a))this.set({buf:a});else if(n.isString(a)){var l=r.from(a,"hex");if(l.length*2!==a.length)throw new TypeError("Invalid hex string");this.set({buf:l})}else if(n.isObject(a)){var f=a;this.set(f)}else throw new TypeError("Unrecognized argument for BufferReader")};u.prototype.set=function(o){return this.buf=o.buf||this.buf||void 0,this.pos=o.pos||this.pos||0,this},u.prototype.eof=function(){return this.pos>=this.buf.length},u.prototype.finished=u.prototype.eof,u.prototype.read=function(o){i.checkArgument(!n.isUndefined(o),"Must specify a length");var a=this.buf.slice(this.pos,this.pos+o);return this.pos=this.pos+o,a},u.prototype.readAll=function(){var o=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,o},u.prototype.readUInt8=function(){var o=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,o},u.prototype.readUInt16BE=function(){var o=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,o},u.prototype.readUInt16LE=function(){var o=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,o},u.prototype.readUInt32BE=function(){var o=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,o},u.prototype.readUInt32LE=function(){var o=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,o},u.prototype.readInt32LE=function(){var o=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,o},u.prototype.readUInt64BEBN=function(){var o=this.buf.slice(this.pos,this.pos+8),a=s.fromBuffer(o);return this.pos=this.pos+8,a},u.prototype.readUInt64LEBN=function(){var o=this.buf.readUInt32LE(this.pos),a=this.buf.readUInt32LE(this.pos+4),l=a*4294967296+o,f;if(l<=9007199254740991)f=new s(l);else{var c=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);f=new s(c,10,"le")}return this.pos=this.pos+8,f},u.prototype.readVarintNum=function(){var o=this.readUInt8();switch(o){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var a=this.readUInt64LEBN(),l=a.toNumber();if(l<=Math.pow(2,53))return l;throw new Error("number too large to retain precision - use readVarintBN");default:return o}},u.prototype.readVarLengthBuffer=function(){var o=this.readVarintNum(),a=this.read(o);return i.checkState(a.length===o,"Invalid length while reading varlength buffer. Expected to read: "+o+" and read "+a.length),a},u.prototype.readVarintBuf=function(){var o=this.buf.readUInt8(this.pos);switch(o){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},u.prototype.readVarintBN=function(){var o=this.readUInt8();switch(o){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(o)}},u.prototype.reverse=function(){for(var o=r.alloc(this.buf.length),a=0;a<o.length;a++)o[a]=this.buf[this.buf.length-1-a];return this.buf=o,this},u.prototype.readReverse=function(o){n.isUndefined(o)&&(o=this.buf.length);var a=this.buf.slice(this.pos,this.pos+o);return this.pos=this.pos+o,r.from(a).reverse()},u.prototype.remaining=function(){return this.buf.length-this.pos},t.exports=u});Ve("1zMJW",function(t,e){var r=gr.Buffer,n=G("2AZ1V"),i=G("28ku8"),s=G("dIoYd"),u=function o(a){if(!(this instanceof o))return new o(a);if(r.isBuffer(a))this.buf=a;else if(typeof a=="number"){var l=a;this.fromNumber(l)}else if(a instanceof s){var f=a;this.fromBN(f)}else if(a){var c=a;this.set(c)}};u.prototype.set=function(o){return this.buf=o.buf||this.buf,this},u.prototype.fromString=function(o){return this.set({buf:r.from(o,"hex")}),this},u.prototype.toString=function(){return this.buf.toString("hex")},u.prototype.fromBuffer=function(o){return this.buf=o,this},u.prototype.fromBufferReader=function(o){return this.buf=o.readVarintBuf(),this},u.prototype.fromBN=function(o){var a=new n;return this.buf=a.writeVarintBN(o).toBuffer(),this},u.prototype.fromNumber=function(o){var a=new n;return this.buf=a.writeVarintNum(o).toBuffer(),this},u.prototype.toBuffer=function(){return this.buf},u.prototype.toBN=function(){return i(this.buf).readVarintBN()},u.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=u});Ve("95EnH",function(t,e){var r=gr.Buffer,n=G("gIXub"),i=G("hkiTH"),s=G("bczuf"),u=G("28ku8"),o=G("2AZ1V"),a=G("dIoYd"),l=G("bTTXN"),f=G("kmMTb"),c=G("6gAsx"),h=G("g4xmW"),d=G("kBBbb"),p=G("l0DuR"),m=r.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),w="ffffffffffffffff",x=h.SCRIPT_ENABLE_SIGHASH_FORKID,_=function(H,D,L,P,A,b=new p){var g=H.inputs[L];c.checkArgument(A instanceof a,"For ForkId=0 signatures, satoshis or complete input must be provided");function v(J){var ce=new o;d.each(J.inputs,function(Z){ce.writeReverse(Z.prevTxId),ce.writeUInt32LE(Z.outputIndex)});var se=ce.toBuffer(),j=l.sha256sha256(se);return j}function E(J){var ce=new o;d.each(J.inputs,function(Z){ce.writeUInt32LE(Z.sequenceNumber)});var se=ce.toBuffer(),j=l.sha256sha256(se);return j}function C(J,ce){var se=new o;d.isUndefined(ce)?d.each(J.outputs,function(ee){ee.toBufferWriter(se)}):J.outputs[ce].toBufferWriter(se);var j=se.toBuffer(),Z=l.sha256sha256(j);return Z}var R=r.alloc(32),O=r.alloc(32),M=r.alloc(32);D&n.SIGHASH_ANYONECANPAY||(R=b.prevoutsHashBuf?b.prevoutsHashBuf:b.prevoutsHashBuf=v(H)),!(D&n.SIGHASH_ANYONECANPAY)&&(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE&&(O=b.sequenceHashBuf?b.sequenceHashBuf:b.sequenceHashBuf=E(H)),(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE?M=b.outputsHashBuf?b.outputsHashBuf:b.outputsHashBuf=C(H):(D&31)===n.SIGHASH_SINGLE&&L<H.outputs.length&&(M=C(H,L));var T=new o;T.writeUInt32LE(H.version),T.write(R),T.write(O),T.writeReverse(g.prevTxId),T.writeUInt32LE(g.outputIndex);var U=P.toBuffer();T.writeVarintNum(U.length),T.write(U),T.writeUInt64LEBN(A);var Y=g.sequenceNumber;T.writeUInt32LE(Y),T.write(M),T.writeUInt32LE(H.nLockTime),T.writeUInt32LE(D>>>0);var te=T.toBuffer();return te},y=function(D,L,P,A,b,g,v=new p){var E=G("98CPZ"),C=G("dQaOn");if(d.isUndefined(g)&&(g=x),g&h.SCRIPT_ENABLE_REPLAY_PROTECTION){var R=L>>8,O=16711680|R^57005;L=O<<8|L&255}if(L&n.SIGHASH_FORKID&&g&h.SCRIPT_ENABLE_SIGHASH_FORKID)return _(D,L,P,A,b);var M=E.shallowCopy(D);A=new i(A),A.removeCodeseparators();var T;for(T=0;T<M.inputs.length;T++)M.inputs[T]=new C(M.inputs[T]).setScript(i.empty());if(M.inputs[P]=new C(M.inputs[P]).setScript(A),(L&31)===n.SIGHASH_NONE||(L&31)===n.SIGHASH_SINGLE)for(T=0;T<M.inputs.length;T++)T!==P&&(M.inputs[T].sequenceNumber=0);if((L&31)===n.SIGHASH_NONE)M.outputs=[];else if((L&31)===n.SIGHASH_SINGLE){if(P>=M.outputs.length)return m;for(M.outputs.length=P+1,T=0;T<P;T++)M.outputs[T]=new s({satoshis:a.fromBuffer(r.from(w,"hex")),script:i.empty()})}L&n.SIGHASH_ANYONECANPAY&&(M.inputs=[M.inputs[P]]);var U=new o().write(M.toBuffer()).writeInt32LE(L).toBuffer();return U},S=function(D,L,P,A,b,g,v=new p){var E=y(D,L,P,A,b,g,v);if(E.compare(m)===0)return E;var C=l.sha256sha256(E);return C=new u(C).readReverse(),C};function F(H,D,L,P,A,b,g,v=new p){var E=S(H,L,P,A,b,g,v),C=f.sign(E,D,"little").set({nhashtype:L});return C}function N(H,D,L,P,A,b,g,v=new p){c.checkArgument(!d.isUndefined(H)),c.checkArgument(!d.isUndefined(D)&&!d.isUndefined(D.nhashtype));var E=S(H,D.nhashtype,P,A,b,g,v);return f.verify(E,D,L,"little")}t.exports={sighashPreimage:y,sighash:S,sign:F,verify:N}});Ve("bczuf",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("dIoYd"),s=G("gk75r"),u=G("2AZ1V"),o=G("1zMJW"),a=G("hkiTH"),l=G("6gAsx"),f=G("kooOK"),c=9007199254740991;function h(d){if(!(this instanceof h))return new h(d);if(n.isObject(d))if(this.satoshis=d.satoshis,r.isBuffer(d.script))this.setScriptFromBuffer(d.script);else{var p;n.isString(d.script)&&s.isHexa(d.script)?p=r.from(d.script,"hex"):p=d.script,this.setScript(p)}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(h.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script}}),Object.defineProperty(h.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(d){d instanceof i?(this._satoshisBN=d,this._satoshis=d.toNumber()):n.isString(d)?(this._satoshis=parseInt(d),this._satoshisBN=i.fromNumber(this._satoshis)):(l.checkArgument(s.isNaturalNumber(d),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(d),this._satoshis=d),l.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),h.prototype.invalidSatoshis=function(){return this._satoshis>c?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1},Object.defineProperty(h.prototype,"satoshisBN",{configurable:!1,enumerable:!0,get:function(){return this._satoshisBN},set:function(d){this._satoshisBN=d,this._satoshis=d.toNumber(),l.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),h.prototype.toObject=h.prototype.toJSON=function(){var p={satoshis:this.satoshis};return p.script=this._script.toBuffer().toString("hex"),p},h.fromObject=function(d){return new h(d)},h.prototype.setScriptFromBuffer=function(d){try{this._script=a.fromBuffer(d),this._script._isOutput=!0}catch(p){if(p instanceof f.Script.InvalidBuffer)this._script=null;else throw p}},h.prototype.setScript=function(d){if(d instanceof a)this._script=d,this._script._isOutput=!0;else if(n.isString(d))this._script=a.fromString(d),this._script._isOutput=!0;else if(r.isBuffer(d))this.setScriptFromBuffer(d);else throw new TypeError("Invalid argument type: script");return this},h.prototype.inspect=function(){var d;return this.script&&(d=this.script.inspect()),"<Output ("+this.satoshis+" sats) "+d+">"},h.fromBufferReader=function(d){var p={};p.satoshis=d.readUInt64LEBN();var m=d.readVarintNum();if(m!==0){if(d.remaining()<m)throw new TypeError("Unrecognized Output");p.script=d.read(m)}else p.script=r.from([]);return new h(p)},h.prototype.toBufferWriter=function(d){d||(d=new u),d.writeUInt64LEBN(this._satoshisBN);var p=this._script.toBuffer();return d.writeVarintNum(p.length),d.write(p),d},h.prototype.getSize=function(){var d=this.script.toBuffer().length,p=o(d).toBuffer().length;return 8+p+d},t.exports=h});Ve("l0DuR",function(t,e){var r=gr.Buffer;class n{constructor(s,u,o){this.prevoutsHashBuf=s,this.sequenceHashBuf=u,this.outputsHashBuf=o}static fromBuffer(s){return n.fromJSON(JSON.parse(s.toString()))}toBuffer(){return r.from(JSON.stringify(this.toJSON()))}static fromJSON(s){return new n(s.prevoutsHashBuf?r.from(s.prevoutsHashBuf,"hex"):void 0,s.sequenceHashBuf?r.from(s.sequenceHashBuf,"hex"):void 0,s.outputsHashBuf?r.from(s.outputsHashBuf,"hex"):void 0)}toJSON(){return{prevoutsHashBuf:this.prevoutsHashBuf?this.prevoutsHashBuf.toString("hex"):void 0,sequenceHashBuf:this.sequenceHashBuf?this.sequenceHashBuf.toString("hex"):void 0,outputsHashBuf:this.outputsHashBuf?this.outputsHashBuf.toString("hex"):void 0}}toHex(){return this.toBuffer().toString("hex")}static fromHex(s){let u=r.from(s,"hex");return n.fromBuffer(u)}}t.exports=n});Ve("dQaOn",function(t,e){t.exports=G("jbAmm"),t.exports.PublicKey=G("b2vm0"),t.exports.PublicKeyHash=G("ddQTk"),t.exports.MultiSig=G("dHaKi"),t.exports.MultiSigScriptHash=G("eJIfU")});Ve("jbAmm",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("kooOK"),u=G("2AZ1V"),o=G("gk75r"),a=G("hkiTH"),l=G("95EnH"),f=G("bczuf"),c=G("gIXub"),h=G("4Dqlv"),d=G("bTTXN"),p=G("g4xmW"),m=G("bpasi"),w=G("7smYJ"),x=4294967295,_=x-2,y=x,S=x-1;function F(H,D,L,P,A){var b=0;do{var g=l.sighashPreimage(H,D,L,P,A),v=d.sha256sha256(g);if(n.isPositiveNumber(v.readUInt8())&&n.isPositiveNumber(v.readUInt8(31)))return g;H.nLockTime++}while(b<Number.MAX_SAFE_INTEGER)}function N(H){if(!(this instanceof N))return new N(H);if(H)return this._fromObject(H)}N.MAXINT=x,N.DEFAULT_SEQNUMBER=y,N.DEFAULT_LOCKTIME_SEQNUMBER=S,N.DEFAULT_RBF_SEQNUMBER=_,N.BASE_SIZE=40,Object.defineProperty(N.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new a(this._scriptBuffer),this._script._isInput=!0),this._script)}}),N.fromObject=function(H){i.checkArgument(n.isObject(H));var D=new N;return D._fromObject(H)},N.prototype._fromObject=function(H){var D;if(n.isString(H.prevTxId)&&o.isHexa(H.prevTxId)?D=r.from(H.prevTxId,"hex"):D=H.prevTxId,this.output=H.output?H.output instanceof f?H.output:new f(H.output):void 0,this.prevTxId=D||H.txidbuf,this.outputIndex=n.isUndefined(H.outputIndex)?H.txoutnum:H.outputIndex,this.sequenceNumber=n.isUndefined(H.sequenceNumber)?n.isUndefined(H.seqnum)?y:H.seqnum:H.sequenceNumber,n.isUndefined(H.script)&&n.isUndefined(H.scriptBuffer))throw new s.Transaction.Input.MissingScript;return this.setScript(H.scriptBuffer||H.script),this},N.prototype.toObject=N.prototype.toJSON=function(){var D={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(D.scriptString=this.script.toString()),this.output&&(D.output=this.output.toObject()),D},N.fromBufferReader=function(H){var D=new N;return D.prevTxId=H.readReverse(32),D.outputIndex=H.readUInt32LE(),D._scriptBuffer=H.readVarLengthBuffer(),D.sequenceNumber=H.readUInt32LE(),D},N.prototype.toBufferWriter=function(H){H||(H=new u),H.writeReverse(this.prevTxId),H.writeUInt32LE(this.outputIndex);var D=this._scriptBuffer;return H.writeVarintNum(D.length),H.write(D),H.writeUInt32LE(this.sequenceNumber),H},N.prototype.setScript=function(H){if(this._script=null,H instanceof a)this._script=H,this._script._isInput=!0,this._scriptBuffer=H.toBuffer();else if(H===null)this._script=a.empty(),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(o.isHexa(H))this._scriptBuffer=r.from(H,"hex");else if(n.isString(H))this._script=new a(H),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(r.isBuffer(H))this._scriptBuffer=r.from(H);else throw new TypeError("Invalid argument type: script");return this},N.prototype.getSignatures=function(H,D,L,P){i.checkState(this.output instanceof f),P=P||c.SIGHASH_ALL|c.SIGHASH_FORKID;var A=[];if(D instanceof w)A.push(new h({publicKey:D.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:L,signature:l.sign(H,D,P,L,this.output.script,this.output.satoshisBN),sigtype:P}));else if(n.isArray(D)){var b=this;n.each(D,function(g,v){var E=P;n.isArray(P)&&(E=P[v]||c.SIGHASH_ALL|c.SIGHASH_FORKID),A.push(new h({publicKey:g.publicKey,prevTxId:b.prevTxId,outputIndex:b.outputIndex,inputIndex:L,signature:l.sign(H,g,E,L,b.output.script,b.output.satoshisBN),sigtype:E}))})}return A},N.prototype.getPreimage=function(H,D,L,P,A){i.checkState(this.output instanceof f),L=L||c.SIGHASH_ALL|c.SIGHASH_FORKID,P=P||!1;var b=typeof A=="number"?this.output.script.subScript(A):this.output.script;return P?F(H,L,D,b,this.output.satoshisBN):l.sighashPreimage(H,L,D,b,this.output.satoshisBN)},N.prototype.isFullySigned=function(){throw new s.AbstractMethodInvoked("Input#isFullySigned")},N.prototype.isFinal=function(){return this.sequenceNumber===N.MAXINT},N.prototype.addSignature=function(){},N.prototype.clearSignatures=function(){},N.prototype.isValidSignature=function(H,D){return D.signature.nhashtype=D.sigtype,l.verify(H,D.signature,D.publicKey,D.inputIndex,this.output.script,this.output.satoshisBN)},N.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295},N.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},N.prototype.verify=function(H,D){i.checkState(this.output instanceof f),i.checkState(this.script instanceof a),i.checkState(this.output.script instanceof a);var L=this.script,P=this.output.script,A=this.output.satoshisBN;p.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,p.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let b=new p,g={};b.stepListener=function(E){(E.fExec||m.OP_IF<=E.opcode.toNumber()&&E.opcode.toNumber()<=m.OP_ENDIF)&&(m.OP_IF<=E.opcode.toNumber()&&E.opcode.toNumber()<=m.OP_ENDIF||E.opcode.toNumber()===m.OP_RETURN?g.opcode=E.opcode:g=E)};var v=b.verify(L,P,H,D,p.DEFAULT_FLAGS,A);return g.opcode&&(g.opcode=g.opcode.toNumber()),{success:v,error:b.errstr,failedAt:v?{}:g}},t.exports=N});Ve("4Dqlv",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("gk75r"),u=G("arkeG"),o=G("kooOK"),a=G("gIXub");function l(f){if(!(this instanceof l))return new l(f);if(f instanceof l)return f;if(n.isObject(f))return this._fromObject(f);throw new o.InvalidArgument("TransactionSignatures must be instantiated from an object")}wy(l,a),l.prototype._fromObject=function(f){return this._checkObjectArgs(f),this.publicKey=new u(f.publicKey),this.prevTxId=r.isBuffer(f.prevTxId)?f.prevTxId:r.from(f.prevTxId,"hex"),this.outputIndex=f.outputIndex,this.inputIndex=f.inputIndex,this.signature=f.signature instanceof a?f.signature:r.isBuffer(f.signature)?a.fromBuffer(f.signature):a.fromString(f.signature),this.sigtype=f.sigtype,this},l.prototype._checkObjectArgs=function(f){i.checkArgument(u(f.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(f.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(f.outputIndex),"outputIndex"),i.checkState(n.isNumber(f.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(f.outputIndex),"outputIndex must be a number"),i.checkArgument(f.signature,"signature"),i.checkArgument(f.prevTxId,"prevTxId"),i.checkState(f.signature instanceof a||r.isBuffer(f.signature)||s.isHexa(f.signature),"signature must be a buffer or hexa value"),i.checkState(r.isBuffer(f.prevTxId)||s.isHexa(f.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(f.sigtype,"sigtype"),i.checkState(n.isNumber(f.sigtype),"sigtype must be a number")},l.prototype.toObject=l.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},l.fromObject=function(f){return i.checkArgument(f),new l(f)},t.exports=l});Ve("b2vm0",function(t,e){"use strict";var r=G("6gAsx"),n=G("jbAmm"),i=G("bczuf"),s=G("95EnH"),u=G("hkiTH"),o=G("gIXub"),a=G("4Dqlv");function l(){n.apply(this,arguments)}wy(l,n),l.prototype.getSignatures=function(f,c,h,d){r.checkState(this.output instanceof i),d=d||o.SIGHASH_ALL|o.SIGHASH_FORKID;var p=c.toPublicKey();return p.toString()===this.output.script.getPublicKey().toString("hex")?[new a({publicKey:p,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:h,signature:s.sign(f,c,d,h,this.output.script,this.output.satoshisBN),sigtype:d})]:[]},l.prototype.addSignature=function(f,c){return r.checkState(this.isValidSignature(f,c),"Signature is invalid"),this.setScript(u.buildPublicKeyIn(c.signature.toDER(),c.sigtype)),this},l.prototype.clearSignatures=function(){return this.setScript(u.empty()),this},l.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},l.SCRIPT_MAX_SIZE=74,l.prototype._estimateSize=function(){return n.BASE_SIZE+l.SCRIPT_MAX_SIZE},t.exports=l});Ve("ddQTk",function(t,e){"use strict";var r=G("6gAsx"),n=G("bTTXN"),i=G("jbAmm"),s=G("bczuf"),u=G("95EnH"),o=G("hkiTH"),a=G("gIXub"),l=G("4Dqlv");function f(){i.apply(this,arguments)}wy(f,i),f.prototype.getSignatures=function(c,h,d,p,m){return r.checkState(this.output instanceof s),m=m||n.sha256ripemd160(h.publicKey.toBuffer()),p=p||a.SIGHASH_ALL|a.SIGHASH_FORKID,m.equals(this.output.script.getPublicKeyHash())?[new l({publicKey:h.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:d,signature:u.sign(c,h,p,d,this.output.script,this.output.satoshisBN),sigtype:p})]:[]},f.prototype.addSignature=function(c,h){return r.checkState(this.isValidSignature(c,h),"Signature is invalid"),this.setScript(o.buildPublicKeyHashIn(h.publicKey,h.signature.toDER(),h.sigtype)),this},f.prototype.clearSignatures=function(){return this.setScript(o.empty()),this},f.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()},f.SCRIPT_MAX_SIZE=140,f.prototype._estimateSize=function(){return i.BASE_SIZE+f.SCRIPT_MAX_SIZE},t.exports=f});Ve("dHaKi",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("jbAmm"),s=G("bczuf"),u=G("6gAsx"),o=G("hkiTH"),a=G("gIXub"),l=G("95EnH"),f=G("4Dqlv"),c=G("arkeG"),h=G("1zMJW");function d(p,m,w,x){i.apply(this,arguments);var _=this;m=m||p.publicKeys,w=w||p.threshold,x=x||p.signatures,this.publicKeys=m.map(y=>y.toString("hex")).sort().map(y=>new c(y)),u.checkState(o.buildMultisigOut(this.publicKeys,w).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,function(y,S){_.publicKeyIndex[y.toString()]=S}),this.threshold=w,this.signatures=x?this._deserializeSignatures(x):new Array(this.publicKeys.length)}wy(d,i),d.prototype.toObject=function(){var p=i.prototype.toObject.apply(this,arguments);return p.threshold=this.threshold,p.publicKeys=n.map(this.publicKeys,function(m){return m.toString()}),p.signatures=this._serializeSignatures(),p},d.prototype._deserializeSignatures=function(p){return n.map(p,function(m){if(!!m)return new f(m)})},d.prototype._serializeSignatures=function(){return n.map(this.signatures,function(p){if(!!p)return p.toObject()})},d.prototype.getSignatures=function(p,m,w,x){u.checkState(this.output instanceof s),x=x||a.SIGHASH_ALL|a.SIGHASH_FORKID;var _=this,y=[];return n.each(this.publicKeys,function(S){S.toString()===m.publicKey.toString()&&y.push(new f({publicKey:m.publicKey,prevTxId:_.prevTxId,outputIndex:_.outputIndex,inputIndex:w,signature:l.sign(p,m,x,w,_.output.script,_.output.satoshisBN),sigtype:x}))}),y},d.prototype.addSignature=function(p,m){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[m.publicKey.toString()]),"Signature has no matching public key"),u.checkState(this.isValidSignature(p,m)),this.signatures[this.publicKeyIndex[m.publicKey.toString()]]=m,this._updateScript(),this},d.prototype._updateScript=function(){return this.setScript(o.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},d.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(p){return!n.isUndefined(p)}),function(p){return r.concat([p.signature.toDER(),r.from([p.sigtype&255])])})},d.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},d.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},d.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},d.prototype.countSignatures=function(){return n.reduce(this.signatures,function(p,m){return p+!!m},0)},d.prototype.publicKeysWithoutSignature=function(){var p=this;return n.filter(this.publicKeys,function(m){return!p.signatures[p.publicKeyIndex[m.toString()]]})},d.prototype.isValidSignature=function(p,m){return m.signature.nhashtype=m.sigtype,l.verify(p,m.signature,m.publicKey,m.inputIndex,this.output.script,this.output.satoshisBN)},d.normalizeSignatures=function(p,m,w,x,_){return _.map(function(y){var S=null;return x=x.filter(function(F){if(S)return!0;var N=new f({signature:a.fromTxFormat(F),publicKey:y,prevTxId:m.prevTxId,outputIndex:m.outputIndex,inputIndex:w,sigtype:a.SIGHASH_ALL});N.signature.nhashtype=N.sigtype;var H=l.verify(p,N.signature,N.publicKey,N.inputIndex,m.output.script);return H?(S=N,!1):!0}),S||null})},d.SIGNATURE_SIZE=73,d.prototype._estimateSize=function(){var p=1+this.threshold*d.SIGNATURE_SIZE;return i.BASE_SIZE+h(p).toBuffer().length+p},t.exports=d});Ve("eJIfU",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("jbAmm"),s=G("bczuf"),u=G("6gAsx"),o=G("hkiTH"),a=G("gIXub"),l=G("95EnH"),f=G("4Dqlv"),c=G("arkeG"),h=G("1zMJW");function d(p,m,w,x){i.apply(this,arguments);var _=this;m=m||p.publicKeys,w=w||p.threshold,x=x||p.signatures,this.publicKeys=m.map(y=>y.toString("hex")).sort().map(y=>new c(y)),this.redeemScript=o.buildMultisigOut(this.publicKeys,w),u.checkState(o.buildScriptHashOut(this.redeemScript).equals(this.output.script),"Provided public keys don't hash to the provided output"),this.publicKeyIndex={},n.each(this.publicKeys,function(y,S){_.publicKeyIndex[y.toString()]=S}),this.threshold=w,this.signatures=x?this._deserializeSignatures(x):new Array(this.publicKeys.length)}wy(d,i),d.prototype.toObject=function(){var p=i.prototype.toObject.apply(this,arguments);return p.threshold=this.threshold,p.publicKeys=n.map(this.publicKeys,function(m){return m.toString()}),p.signatures=this._serializeSignatures(),p},d.prototype._deserializeSignatures=function(p){return n.map(p,function(m){if(!!m)return new f(m)})},d.prototype._serializeSignatures=function(){return n.map(this.signatures,function(p){if(!!p)return p.toObject()})},d.prototype.getSignatures=function(p,m,w,x){u.checkState(this.output instanceof s),x=x||a.SIGHASH_ALL|a.SIGHASH_FORKID;var _=this,y=[];return n.each(this.publicKeys,function(S){S.toString()===m.publicKey.toString()&&y.push(new f({publicKey:m.publicKey,prevTxId:_.prevTxId,outputIndex:_.outputIndex,inputIndex:w,signature:l.sign(p,m,x,w,_.redeemScript,_.output.satoshisBN),sigtype:x}))}),y},d.prototype.addSignature=function(p,m){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[m.publicKey.toString()]),"Signature has no matching public key"),u.checkState(this.isValidSignature(p,m)),this.signatures[this.publicKeyIndex[m.publicKey.toString()]]=m,this._updateScript(),this},d.prototype._updateScript=function(){return this.setScript(o.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript})),this},d.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(p){return!n.isUndefined(p)}),function(p){return r.concat([p.signature.toDER(),r.from([p.sigtype&255])])})},d.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},d.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},d.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},d.prototype.countSignatures=function(){return n.reduce(this.signatures,function(p,m){return p+!!m},0)},d.prototype.publicKeysWithoutSignature=function(){var p=this;return n.filter(this.publicKeys,function(m){return!p.signatures[p.publicKeyIndex[m.toString()]]})},d.prototype.isValidSignature=function(p,m){return m.signature.nhashtype=m.sigtype,l.verify(p,m.signature,m.publicKey,m.inputIndex,this.redeemScript,this.output.satoshisBN)},d.SIGNATURE_SIZE=73,d.PUBKEY_SIZE=34,d.prototype._estimateSize=function(){var p=this.publicKeys.length*d.PUBKEY_SIZE,m=this.threshold*d.SIGNATURE_SIZE,w=3+p,x=w<=75?1:w<=255?2:3,_=m+1+x+w;return i.BASE_SIZE+h(_).toBuffer().length+_},t.exports=d});Ve("G1usC",function(t,e){"use strict";var r=G("kBBbb"),n=G("6gAsx"),i=G("gk75r"),s=G("hkiTH"),u=G("iSUUt");function o(a){if(!(this instanceof o))return new o(a);n.checkArgument(r.isObject(a),"Must provide an object from where to extract data");var l=a.address?new u(a.address):void 0,f=a.txid?a.txid:a.txId;if(!f||!i.isHexaString(f)||f.length>64)throw new Error("Invalid TXID in object",a);var c=r.isUndefined(a.vout)?a.outputIndex:a.vout;if(!r.isNumber(c))throw new Error("Invalid outputIndex, received "+c);n.checkArgument(!r.isUndefined(a.scriptPubKey)||!r.isUndefined(a.script),"Must provide the scriptPubKey for that output!");var h=new s(a.scriptPubKey||a.script);n.checkArgument(!r.isUndefined(a.amount)||!r.isUndefined(a.satoshis),"Must provide an amount for the output");var d=r.isUndefined(a.amount)?a.satoshis:Math.round(a.amount*1e8);n.checkArgument(r.isNumber(d),"Amount must be a number"),i.defineImmutable(this,{address:l,txId:f,outputIndex:c,script:h,satoshis:d})}o.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},o.prototype.toString=function(){return this.txId+":"+this.outputIndex},o.fromObject=function(a){return new o(a)},o.prototype.toObject=o.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:Number.parseFloat((this.satoshis/1e8).toFixed(8))}},t.exports=o});Ve("7X5Fe",function(t,e){t.exports=G("fS7Ty")});Ve("fS7Ty",function(t,e){var r=gr.Buffer;function n(){}n.getRandomBuffer=function(i){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");var s;if(window.crypto&&window.crypto.getRandomValues)s=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)s=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var u=new Uint8Array(i);s.getRandomValues(u);var o=r.from(u);return o},t.exports=n});Ve("19NsJ",function(t,e){t.exports=G("dhOpK"),t.exports.BlockHeader=G("gGdD6"),t.exports.MerkleBlock=G("hVYHX")});Ve("dhOpK",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("gGdD6"),s=G("dIoYd"),u=G("28ku8"),o=G("2AZ1V"),a=G("bTTXN"),l=G("7pkU6"),f=G("6gAsx");function c(d){return this instanceof c?(n.extend(this,c._from(d)),this):new c(d)}c.MAX_BLOCK_SIZE=128e6,c._from=function(p){var m={};if(r.isBuffer(p))m=c._fromBufferReader(u(p));else if(n.isObject(p))m=c._fromObject(p);else throw new TypeError("Unrecognized argument for Block");return m},c._fromObject=function(p){var m=[];p.transactions.forEach(function(x){x instanceof l?m.push(x):m.push(l().fromObject(x))});var w={header:i.fromObject(p.header),transactions:m};return w},c.fromObject=function(p){var m=c._fromObject(p);return new c(m)},c._fromBufferReader=function(p){var m={};f.checkState(!p.finished(),"No block data received"),m.header=i.fromBufferReader(p);var w=p.readVarintNum();m.transactions=[];for(var x=0;x<w;x++)m.transactions.push(l().fromBufferReader(p));return m},c.fromBufferReader=function(p){f.checkArgument(p,"br is required");var m=c._fromBufferReader(p);return new c(m)},c.fromBuffer=function(p){return c.fromBufferReader(new u(p))},c.fromString=function(p){var m=r.from(p,"hex");return c.fromBuffer(m)},c.fromRawBlock=function(p){r.isBuffer(p)||(p=r.from(p,"binary"));var m=u(p);m.pos=c.Values.START_OF_BLOCK;var w=c._fromBufferReader(m);return new c(w)},c.prototype.toObject=c.prototype.toJSON=function(){var p=[];return this.transactions.forEach(function(m){p.push(m.toObject())}),{header:this.header.toObject(),transactions:p}},c.prototype.toBuffer=function(){return this.toBufferWriter().concat()},c.prototype.toString=function(){return this.toBuffer().toString("hex")},c.prototype.toBufferWriter=function(p){p||(p=new o),p.write(this.header.toBuffer()),p.writeVarintNum(this.transactions.length);for(var m=0;m<this.transactions.length;m++)this.transactions[m].toBufferWriter(p);return p},c.prototype.getTransactionHashes=function(){var p=[];if(this.transactions.length===0)return[c.Values.NULL_HASH];for(var m=0;m<this.transactions.length;m++)p.push(this.transactions[m]._getHash());return p},c.prototype.getMerkleTree=function(){for(var p=this.getTransactionHashes(),m=0,w=this.transactions.length;w>1;w=Math.floor((w+1)/2)){for(var x=0;x<w;x+=2){var _=Math.min(x+1,w-1),y=r.concat([p[m+x],p[m+_]]);p.push(a.sha256sha256(y))}m+=w}return p},c.prototype.getMerkleRoot=function(){var p=this.getMerkleTree();return p[p.length-1]},c.prototype.validMerkleRoot=function(){var p=new s(this.header.merkleRoot.toString("hex"),"hex"),m=new s(this.getMerkleRoot().toString("hex"),"hex");return p.cmp(m)===0},c.prototype._getHash=function(){return this.header._getHash()};var h={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(c.prototype,"id",h),Object.defineProperty(c.prototype,"hash",h),c.prototype.inspect=function(){return"<Block "+this.id+">"},c.Values={START_OF_BLOCK:8,NULL_HASH:r.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=c});Ve("gGdD6",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("dIoYd"),s=G("28ku8"),u=G("2AZ1V"),o=G("bTTXN"),a=G("6gAsx"),l=486604799,f=function h(d){if(!(this instanceof h))return new h(d);var p=h._from(d);return this.version=p.version,this.prevHash=p.prevHash,this.merkleRoot=p.merkleRoot,this.time=p.time,this.timestamp=p.time,this.bits=p.bits,this.nonce=p.nonce,p.hash&&a.checkState(this.hash===p.hash,"Argument object hash property does not match block hash."),this};f._from=function(d){var p={};if(r.isBuffer(d))p=f._fromBufferReader(s(d));else if(n.isObject(d))p=f._fromObject(d);else throw new TypeError("Unrecognized argument for BlockHeader");return p},f._fromObject=function(d){a.checkArgument(d,"data is required");var p=d.prevHash,m=d.merkleRoot;n.isString(d.prevHash)&&(p=r.from(d.prevHash,"hex").reverse()),n.isString(d.merkleRoot)&&(m=r.from(d.merkleRoot,"hex").reverse());var w={hash:d.hash,version:d.version,prevHash:p,merkleRoot:m,time:d.time,timestamp:d.time,bits:d.bits,nonce:d.nonce};return w},f.fromObject=function(d){var p=f._fromObject(d);return new f(p)},f.fromRawBlock=function(d){r.isBuffer(d)||(d=r.from(d,"binary"));var p=s(d);p.pos=f.Constants.START_OF_HEADER;var m=f._fromBufferReader(p);return new f(m)},f.fromBuffer=function(d){var p=f._fromBufferReader(s(d));return new f(p)},f.fromString=function(d){var p=r.from(d,"hex");return f.fromBuffer(p)},f._fromBufferReader=function(d){var p={};return p.version=d.readInt32LE(),p.prevHash=d.read(32),p.merkleRoot=d.read(32),p.time=d.readUInt32LE(),p.bits=d.readUInt32LE(),p.nonce=d.readUInt32LE(),p},f.fromBufferReader=function(d){var p=f._fromBufferReader(d);return new f(p)},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:r.from(this.prevHash).reverse().toString("hex"),merkleRoot:r.from(this.merkleRoot).reverse().toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(d){return d||(d=new u),d.writeInt32LE(this.version),d.write(this.prevHash),d.write(this.merkleRoot),d.writeUInt32LE(this.time),d.writeUInt32LE(this.bits),d.writeUInt32LE(this.nonce),d},f.prototype.getTargetDifficulty=function(d){d=d||this.bits;for(var p=new i(d&16777215),m=8*((d>>>24)-3);m-- >0;)p=p.mul(new i(2));return p},f.prototype.getDifficulty=function(){var d=this.getTargetDifficulty(l).mul(new i(Math.pow(10,8))),p=this.getTargetDifficulty(),m=d.div(p).toString(10),w=m.length-8;return m=m.slice(0,w)+"."+m.slice(w),parseFloat(m)},f.prototype._getHash=function(){var d=this.toBuffer();return o.sha256sha256(d)};var c={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",c),Object.defineProperty(f.prototype,"hash",c),f.prototype.validTimestamp=function(){var d=Math.round(new Date().getTime()/1e3);return!(this.time>d+f.Constants.MAX_TIME_OFFSET)},f.prototype.validProofOfWork=function(){var d=new i(this.id,"hex"),p=this.getTargetDifficulty();return!(d.cmp(p)>0)},f.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},f.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f});Ve("hVYHX",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("gGdD6"),s=G("28ku8"),u=G("2AZ1V"),o=G("bTTXN"),a=G("7pkU6"),l=G("kooOK"),f=G("6gAsx");function c(h){if(!(this instanceof c))return new c(h);var d={};if(r.isBuffer(h))d=c._fromBufferReader(s(h));else if(n.isObject(h)){var p;h.header instanceof i?p=h.header:p=i.fromObject(h.header),d={header:p,numTransactions:h.numTransactions,hashes:h.hashes,flags:h.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return n.extend(this,d),this._flagBitsUsed=0,this._hashesUsed=0,this}c.fromBuffer=function(d){return c.fromBufferReader(s(d))},c.fromBufferReader=function(d){return new c(c._fromBufferReader(d))},c.prototype.toBuffer=function(){return this.toBufferWriter().concat()},c.prototype.toBufferWriter=function(d){d||(d=new u),d.write(this.header.toBuffer()),d.writeUInt32LE(this.numTransactions),d.writeVarintNum(this.hashes.length);for(var p=0;p<this.hashes.length;p++)d.write(r.from(this.hashes[p],"hex"));for(d.writeVarintNum(this.flags.length),p=0;p<this.flags.length;p++)d.writeUInt8(this.flags[p]);return d},c.prototype.toObject=c.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},c.prototype.validMerkleTree=function(){if(f.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),f.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var d=this._calcTreeHeight(),p={hashesUsed:0,flagBitsUsed:0},m=this._traverseMerkleTree(d,0,p);return p.hashesUsed!==this.hashes.length?!1:m.equals(this.header.merkleRoot)},c.prototype.filterdTxsHash=function(){throw new Error("filterdTxsHash has been deprecated. use filteredTxsHash.")},c.prototype.filteredTxsHash=function(){if(f.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),f.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new l.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new l.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var d=this._calcTreeHeight(),p={hashesUsed:0,flagBitsUsed:0},m=this._traverseMerkleTree(d,0,p,!0);if(p.hashesUsed!==this.hashes.length)throw new l.MerkleBlock.InvalidMerkleTree;return m},c.prototype._traverseMerkleTree=function(d,p,m,w){if(m=m||{},m.txs=m.txs||[],m.flagBitsUsed=m.flagBitsUsed||0,m.hashesUsed=m.hashesUsed||0,w=w||!1,m.flagBitsUsed>this.flags.length*8)return null;var x=this.flags[m.flagBitsUsed>>3]>>>(m.flagBitsUsed++&7)&1;if(d===0||!x){if(m.hashesUsed>=this.hashes.length)return null;var _=this.hashes[m.hashesUsed++];return d===0&&x&&m.txs.push(_),r.from(_,"hex")}else{var y=this._traverseMerkleTree(d-1,p*2,m),S=y;return p*2+1<this._calcTreeWidth(d-1)&&(S=this._traverseMerkleTree(d-1,p*2+1,m)),w?m.txs:o.sha256sha256(r.concat([y,S]))}},c.prototype._calcTreeWidth=function(d){return this.numTransactions+(1<<d)-1>>d},c.prototype._calcTreeHeight=function(){for(var d=0;this._calcTreeWidth(d)>1;)d++;return d},c.prototype.hasTransaction=function(d){f.checkArgument(!n.isUndefined(d),"tx cannot be undefined"),f.checkArgument(d instanceof a||typeof d=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var p=d;d instanceof a&&(p=r.from(d.id,"hex").reverse().toString("hex"));var m=[],w=this._calcTreeHeight();return this._traverseMerkleTree(w,0,{txs:m}),m.indexOf(p)!==-1},c._fromBufferReader=function(d){f.checkState(!d.finished(),"No merkleblock data received");var p={};p.header=i.fromBufferReader(d),p.numTransactions=d.readUInt32LE();var m=d.readVarintNum();p.hashes=[];for(var w=0;w<m;w++)p.hashes.push(d.read(32).toString("hex"));var x=d.readVarintNum();for(p.flags=[],w=0;w<x;w++)p.flags.push(d.readUInt8());return p},c.fromObject=function(d){return new c(d)},t.exports=c});Ve("4bgoH",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("dIoYd"),u=G("jG967"),o=G("j7ODq"),a=G("bTTXN"),l=G("cyjag"),f=G("f0gTO"),c=G("7smYJ"),h=G("7X5Fe"),d=G("kooOK"),p=d.HDPrivateKey,m=G("gk75r"),w=128,x=1/8,_=512;function y(S){if(S instanceof y)return S;if(!(this instanceof y))return new y(S);if(!S)return this._generateRandomly();if(l.get(S))return this._generateRandomly(S);if(n.isString(S)||r.isBuffer(S))if(y.isValidSerialized(S))this._buildFromSerialized(S);else if(m.isValidJSON(S))this._buildFromJSON(S);else if(r.isBuffer(S)&&y.isValidSerialized(S.toString()))this._buildFromSerialized(S.toString());else throw y.getSerializedError(S);else if(n.isObject(S))this._buildFromObject(S);else throw new p.UnrecognizedArgument(S)}y.fromRandom=function(){return new y},y.isValidPath=function(S,F){if(n.isString(S)){var N=y._getDerivationIndexes(S);return N!==null&&n.every(N,y.isValidPath)}return n.isNumber(S)?(S<y.Hardened&&F===!0&&(S+=y.Hardened),S>=0&&S<y.MaxIndex):!1},y._getDerivationIndexes=function(S){var F=S.split("/");if(n.includes(y.RootElementAlias,S))return[];if(!n.includes(y.RootElementAlias,F[0]))return null;var N=F.slice(1).map(function(H){var D=H.slice(-1)==="'";if(D&&(H=H.slice(0,-1)),!H||H[0]==="-")return NaN;var L=+H;return D&&(L+=y.Hardened),L});return n.some(N,isNaN)?null:N},y.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},y.prototype.deriveChild=function(S,F){if(n.isNumber(S))return this._deriveWithNumber(S,F);if(n.isString(S))return this._deriveFromString(S);throw new p.InvalidDerivationArgument(S)},y.prototype.deriveNonCompliantChild=function(S,F){if(n.isNumber(S))return this._deriveWithNumber(S,F,!0);if(n.isString(S))return this._deriveFromString(S,!0);throw new p.InvalidDerivationArgument(S)},y.prototype._deriveWithNumber=function(S,F,N){if(!y.isValidPath(S,F))throw new p.InvalidPath(S);F=S>=y.Hardened?!0:F,S<y.Hardened&&F===!0&&(S+=y.Hardened);var H=m.integerAsBuffer(S),D;if(F&&N){var L=this.privateKey.bn.toBuffer();D=r.concat([r.from([0]),L,H])}else if(F){var P=this.privateKey.bn.toBuffer({size:32});Ld(P.length===32,"length of private key buffer is expected to be 32 bytes"),D=r.concat([r.from([0]),P,H])}else D=r.concat([this.publicKey.toBuffer(),H]);var A=a.sha512hmac(D,this._buffers.chainCode),b=s.fromBuffer(A.slice(0,32),{size:32}),g=A.slice(32,64),v=b.add(this.privateKey.toBigNumber()).umod(f.getN()).toBuffer({size:32});if(!c.isValid(v))return this._deriveWithNumber(S+1,null,N);var E=new y({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:S,chainCode:g,privateKey:v});return E},y.prototype._deriveFromString=function(S,F){if(!y.isValidPath(S))throw new p.InvalidPath(S);var N=y._getDerivationIndexes(S),H=N.reduce(function(D,L){return D._deriveWithNumber(L,null,F)},this);return H},y.isValidSerialized=function(S,F){return!y.getSerializedError(S,F)},y.getSerializedError=function(S,F){if(!(n.isString(S)||r.isBuffer(S)))return new p.UnrecognizedArgument("Expected string or buffer");if(!u.validCharacters(S))return new d.InvalidB58Char("(unknown)",S);try{S=o.decode(S)}catch{return new d.InvalidB58Checksum(S)}if(S.length!==y.DataLength)return new p.InvalidLength(S);if(!n.isUndefined(F)){var N=y._validateNetwork(S,F);if(N)return N}return null},y._validateNetwork=function(S,F){var N=l.get(F);if(!N)return new d.InvalidNetworkArgument(F);var H=S.slice(0,4);return H.readUInt32BE(0)!==N.xprivkey?new d.InvalidNetwork(H):null},y.fromString=function(S){return i.checkArgument(n.isString(S),"No valid string was provided"),new y(S)},y.fromObject=function(S){return i.checkArgument(n.isObject(S),"No valid argument was provided"),new y(S)},y.prototype._buildFromJSON=function(S){return this._buildFromObject(JSON.parse(S))},y.prototype._buildFromObject=function(S){var F={version:S.network?m.integerAsBuffer(l.get(S.network).xprivkey):S.version,depth:n.isNumber(S.depth)?r.from([S.depth&255]):S.depth,parentFingerPrint:n.isNumber(S.parentFingerPrint)?m.integerAsBuffer(S.parentFingerPrint):S.parentFingerPrint,childIndex:n.isNumber(S.childIndex)?m.integerAsBuffer(S.childIndex):S.childIndex,chainCode:n.isString(S.chainCode)?r.from(S.chainCode,"hex"):S.chainCode,privateKey:n.isString(S.privateKey)&&m.isHexa(S.privateKey)?r.from(S.privateKey,"hex"):S.privateKey,checksum:S.checksum?S.checksum.length?S.checksum:m.integerAsBuffer(S.checksum):void 0};return this._buildFromBuffers(F)},y.prototype._buildFromSerialized=function(S){var F=o.decode(S),N={version:F.slice(y.VersionStart,y.VersionEnd),depth:F.slice(y.DepthStart,y.DepthEnd),parentFingerPrint:F.slice(y.ParentFingerPrintStart,y.ParentFingerPrintEnd),childIndex:F.slice(y.ChildIndexStart,y.ChildIndexEnd),chainCode:F.slice(y.ChainCodeStart,y.ChainCodeEnd),privateKey:F.slice(y.PrivateKeyStart,y.PrivateKeyEnd),checksum:F.slice(y.ChecksumStart,y.ChecksumEnd),xprivkey:S};return this._buildFromBuffers(N)},y.prototype._generateRandomly=function(S){return y.fromSeed(h.getRandomBuffer(64),S)},y.fromSeed=function(S,F){if(m.isHexaString(S)&&(S=r.from(S,"hex")),!r.isBuffer(S))throw new p.InvalidEntropyArgument(S);if(S.length<w*x)throw new p.InvalidEntropyArgument.NotEnoughEntropy(S);if(S.length>_*x)throw new p.InvalidEntropyArgument.TooMuchEntropy(S);var N=a.sha512hmac(S,r.from("Bitcoin seed"));return new y({network:l.get(F)||l.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:N.slice(0,32),chainCode:N.slice(32,64)})},y.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var S=G("8kXe7");this._hdPublicKey=new S(this)}},y.prototype._buildFromBuffers=function(S){y._validateBufferArguments(S),m.defineImmutable(this,{_buffers:S});var F=[S.version,S.depth,S.parentFingerPrint,S.childIndex,S.chainCode,r.alloc(1),S.privateKey],N=r.concat(F);if(!S.checksum||!S.checksum.length)S.checksum=o.checksum(N);else if(S.checksum.toString()!==o.checksum(N).toString())throw new d.InvalidB58Checksum(N);var H=l.get(S.version.readUInt32BE(0)),D;D=o.encode(r.concat(F)),S.xprivkey=r.from(D);var L=new c(s.fromBuffer(S.privateKey),H),P=L.toPublicKey(),A=y.ParentFingerPrintSize,b=a.sha256ripemd160(P.toBuffer()).slice(0,A);return m.defineImmutable(this,{xprivkey:D,network:H,depth:S.depth[0],privateKey:L,publicKey:P,fingerPrint:b}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},y._validateBufferArguments=function(S){var F=function(N,H){var D=S[N];Ld(r.isBuffer(D),N+" argument is not a buffer"),Ld(D.length===H,N+" has not the expected size: found "+D.length+", expected "+H)};F("version",y.VersionSize),F("depth",y.DepthSize),F("parentFingerPrint",y.ParentFingerPrintSize),F("childIndex",y.ChildIndexSize),F("chainCode",y.ChainCodeSize),F("privateKey",y.PrivateKeySize),S.checksum&&S.checksum.length&&F("checksum",y.CheckSumSize)},y.prototype.toString=function(){return this.xprivkey},y.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},y.prototype.toObject=y.prototype.toJSON=function(){return{network:l.get(this._buffers.version.readUInt32BE(0),"xprivkey").name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:this._buffers.checksum.readUInt32BE(0),xprivkey:this.xprivkey}},y.fromBuffer=function(S){return new y(S.toString())},y.fromHex=function(S){return y.fromBuffer(r.from(S,"hex"))},y.prototype.toBuffer=function(){return r.from(this.toString())},y.prototype.toHex=function(){return this.toBuffer().toString("hex")},y.DefaultDepth=0,y.DefaultFingerprint=0,y.DefaultChildIndex=0,y.Hardened=2147483648,y.MaxIndex=2*y.Hardened,y.RootElementAlias=["m","M","m'","M'"],y.VersionSize=4,y.DepthSize=1,y.ParentFingerPrintSize=4,y.ChildIndexSize=4,y.ChainCodeSize=32,y.PrivateKeySize=32,y.CheckSumSize=4,y.DataLength=78,y.SerializedByteSize=82,y.VersionStart=0,y.VersionEnd=y.VersionStart+y.VersionSize,y.DepthStart=y.VersionEnd,y.DepthEnd=y.DepthStart+y.DepthSize,y.ParentFingerPrintStart=y.DepthEnd,y.ParentFingerPrintEnd=y.ParentFingerPrintStart+y.ParentFingerPrintSize,y.ChildIndexStart=y.ParentFingerPrintEnd,y.ChildIndexEnd=y.ChildIndexStart+y.ChildIndexSize,y.ChainCodeStart=y.ChildIndexEnd,y.ChainCodeEnd=y.ChainCodeStart+y.ChainCodeSize,y.PrivateKeyStart=y.ChainCodeEnd+1,y.PrivateKeyEnd=y.PrivateKeyStart+y.PrivateKeySize,y.ChecksumStart=y.PrivateKeyEnd,y.ChecksumEnd=y.ChecksumStart+y.CheckSumSize,Ld(y.ChecksumEnd===y.SerializedByteSize),t.exports=y});Ve("8kXe7",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("6gAsx"),s=G("dIoYd"),u=G("jG967"),o=G("j7ODq"),a=G("bTTXN"),l=G("4bgoH"),f=G("cyjag"),c=G("f0gTO"),h=G("arkeG"),d=G("kooOK"),p=d,m=d.HDPublicKey,w=G("gk75r");function x(_){if(_ instanceof x)return _;if(!(this instanceof x))return new x(_);if(_)if(n.isString(_)||r.isBuffer(_)){var y=x.getSerializedError(_);if(y){if(r.isBuffer(_)&&!x.getSerializedError(_.toString()))return this._buildFromSerialized(_.toString());if(y instanceof m.ArgumentIsPrivateExtended)return new l(_).hdPublicKey;throw y}else return this._buildFromSerialized(_)}else{if(n.isObject(_))return _ instanceof l?this._buildFromPrivate(_):this._buildFromObject(_);throw new m.UnrecognizedArgument(_)}else throw new m.MustSupplyArgument}x.fromHDPrivateKey=function(_){return new x(_)},x.isValidPath=function(_){if(n.isString(_)){var y=l._getDerivationIndexes(_);return y!==null&&n.every(y,x.isValidPath)}return n.isNumber(_)?_>=0&&_<x.Hardened:!1},x.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},x.prototype.deriveChild=function(_,y){if(n.isNumber(_))return this._deriveWithNumber(_,y);if(n.isString(_))return this._deriveFromString(_);throw new m.InvalidDerivationArgument(_)},x.prototype._deriveWithNumber=function(_,y){if(_>=x.Hardened||y)throw new m.InvalidIndexCantDeriveHardened;if(_<0)throw new m.InvalidPath(_);var S=w.integerAsBuffer(_),F=r.concat([this.publicKey.toBuffer(),S]),N=a.sha512hmac(F,this._buffers.chainCode),H=s.fromBuffer(N.slice(0,32),{size:32}),D=N.slice(32,64),L;try{L=h.fromPoint(c.getG().mul(H).add(this.publicKey.point))}catch{return this._deriveWithNumber(_+1)}var P=new x({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:_,chainCode:D,publicKey:L});return P},x.prototype._deriveFromString=function(_){if(n.includes(_,"'"))throw new m.InvalidIndexCantDeriveHardened;if(!x.isValidPath(_))throw new m.InvalidPath(_);var y=l._getDerivationIndexes(_),S=y.reduce(function(F,N){return F._deriveWithNumber(N)},this);return S},x.isValidSerialized=function(_,y){return n.isNull(x.getSerializedError(_,y))},x.getSerializedError=function(_,y){if(!(n.isString(_)||r.isBuffer(_)))return new m.UnrecognizedArgument("expected buffer or string");if(!u.validCharacters(_))return new p.InvalidB58Char("(unknown)",_);try{_=o.decode(_)}catch{return new p.InvalidB58Checksum(_)}if(_.length!==x.DataSize)return new m.InvalidLength(_);if(!n.isUndefined(y)){var S=x._validateNetwork(_,y);if(S)return S}var F=_.readUInt32BE(0);return F===f.livenet.xprivkey||F===f.testnet.xprivkey?new m.ArgumentIsPrivateExtended:null},x._validateNetwork=function(_,y){var S=f.get(y);if(!S)return new p.InvalidNetworkArgument(y);var F=_.slice(x.VersionStart,x.VersionEnd);return F.readUInt32BE(0)!==S.xpubkey?new p.InvalidNetwork(F):null},x.prototype._buildFromPrivate=function(_){var y=n.clone(_._buffers),S=c.getG().mul(s.fromBuffer(y.privateKey));return y.publicKey=c.pointToCompressed(S),y.version=w.integerAsBuffer(f.get(y.version.readUInt32BE(0)).xpubkey),y.privateKey=void 0,y.checksum=void 0,y.xprivkey=void 0,this._buildFromBuffers(y)},x.prototype._buildFromObject=function(_){var y={version:_.network?w.integerAsBuffer(f.get(_.network).xpubkey):_.version,depth:n.isNumber(_.depth)?r.from([_.depth&255]):_.depth,parentFingerPrint:n.isNumber(_.parentFingerPrint)?w.integerAsBuffer(_.parentFingerPrint):_.parentFingerPrint,childIndex:n.isNumber(_.childIndex)?w.integerAsBuffer(_.childIndex):_.childIndex,chainCode:n.isString(_.chainCode)?r.from(_.chainCode,"hex"):_.chainCode,publicKey:n.isString(_.publicKey)?r.from(_.publicKey,"hex"):r.isBuffer(_.publicKey)?_.publicKey:_.publicKey.toBuffer(),checksum:n.isNumber(_.checksum)?w.integerAsBuffer(_.checksum):_.checksum};return this._buildFromBuffers(y)},x.prototype._buildFromSerialized=function(_){var y=o.decode(_),S={version:y.slice(x.VersionStart,x.VersionEnd),depth:y.slice(x.DepthStart,x.DepthEnd),parentFingerPrint:y.slice(x.ParentFingerPrintStart,x.ParentFingerPrintEnd),childIndex:y.slice(x.ChildIndexStart,x.ChildIndexEnd),chainCode:y.slice(x.ChainCodeStart,x.ChainCodeEnd),publicKey:y.slice(x.PublicKeyStart,x.PublicKeyEnd),checksum:y.slice(x.ChecksumStart,x.ChecksumEnd),xpubkey:_};return this._buildFromBuffers(S)},x.prototype._buildFromBuffers=function(_){x._validateBufferArguments(_),w.defineImmutable(this,{_buffers:_});var y=[_.version,_.depth,_.parentFingerPrint,_.childIndex,_.chainCode,_.publicKey],S=r.concat(y),F=o.checksum(S);if(!_.checksum||!_.checksum.length)_.checksum=F;else if(_.checksum.toString("hex")!==F.toString("hex"))throw new p.InvalidB58Checksum(S,F);var N=f.get(_.version.readUInt32BE(0)),H;H=o.encode(r.concat(y)),_.xpubkey=r.from(H);var D=new h(_.publicKey,{network:N}),L=x.ParentFingerPrintSize,P=a.sha256ripemd160(D.toBuffer()).slice(0,L);return w.defineImmutable(this,{xpubkey:H,network:N,depth:_.depth[0],publicKey:D,fingerPrint:P}),this},x._validateBufferArguments=function(_){var y=function(S,F){var N=_[S];Ld(r.isBuffer(N),S+" argument is not a buffer, it's "+typeof N),Ld(N.length===F,S+" has not the expected size: found "+N.length+", expected "+F)};y("version",x.VersionSize),y("depth",x.DepthSize),y("parentFingerPrint",x.ParentFingerPrintSize),y("childIndex",x.ChildIndexSize),y("chainCode",x.ChainCodeSize),y("publicKey",x.PublicKeySize),_.checksum&&_.checksum.length&&y("checksum",x.CheckSumSize)},x.fromString=function(_){return i.checkArgument(n.isString(_),"No valid string was provided"),new x(_)},x.fromObject=function(_){return i.checkArgument(n.isObject(_),"No valid argument was provided"),new x(_)},x.prototype.toString=function(){return this.xpubkey},x.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},x.prototype.toObject=x.prototype.toJSON=function(){return{network:f.get(this._buffers.version.readUInt32BE(0)).name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),publicKey:this.publicKey.toString(),checksum:this._buffers.checksum.readUInt32BE(0),xpubkey:this.xpubkey}},x.fromBuffer=function(_){return new x(_)},x.fromHex=function(_){return x.fromBuffer(r.from(_,"hex"))},x.prototype.toBuffer=function(){return r.from(this._buffers.xpubkey)},x.prototype.toHex=function(){return this.toBuffer().toString("hex")},x.Hardened=2147483648,x.RootElementAlias=["m","M"],x.VersionSize=4,x.DepthSize=1,x.ParentFingerPrintSize=4,x.ChildIndexSize=4,x.ChainCodeSize=32,x.PublicKeySize=33,x.CheckSumSize=4,x.DataSize=78,x.SerializedByteSize=82,x.VersionStart=0,x.VersionEnd=x.VersionStart+x.VersionSize,x.DepthStart=x.VersionEnd,x.DepthEnd=x.DepthStart+x.DepthSize,x.ParentFingerPrintStart=x.DepthEnd,x.ParentFingerPrintEnd=x.ParentFingerPrintStart+x.ParentFingerPrintSize,x.ChildIndexStart=x.ParentFingerPrintEnd,x.ChildIndexEnd=x.ChildIndexStart+x.ChildIndexSize,x.ChainCodeStart=x.ChildIndexEnd,x.ChainCodeEnd=x.ChainCodeStart+x.ChainCodeSize,x.PublicKeyStart=x.ChainCodeEnd,x.PublicKeyEnd=x.PublicKeyStart+x.PublicKeySize,x.ChecksumStart=x.PublicKeyEnd,x.ChecksumEnd=x.ChecksumStart+x.CheckSumSize,Ld(x.PublicKeyEnd===x.DataSize),Ld(x.ChecksumEnd===x.SerializedByteSize),t.exports=x});Ve("de0HV",function(t,e){t.exports=G("fNnUs")});Ve("fNnUs",function(t,e){var r=gr.Buffer,n=G("arkeG"),i=G("7smYJ"),s=G("bTTXN"),u=G("6gAsx"),o=G("cQlxP"),a=G("kooOK"),l=U2.ModeOfOperation.cbc,f=function(){};f.encrypt=function(d,p,m){u.checkArgument(d),u.checkArgument(p),u.checkArgument(m),u.checkArgument(p.length===16,"keybuf length must be 16"),u.checkArgument(m.length===16,"ivbuf length must be 16"),d=U2.padding.pkcs7.pad(d);var w=new l(p,m),x=w.encrypt(d);return r.from(x)},f.decrypt=function(d,p,m){u.checkArgument(d),u.checkArgument(p),u.checkArgument(m),u.checkArgument(p.length===16,"keybuf length must be 16"),u.checkArgument(m.length===16,"ivbuf length must be 16");var w=new l(p,m),x=w.decrypt(d);return r.from(U2.padding.pkcs7.strip(x))};var c=function d(p,m="BIE1"){if(m!=="BIE1")throw new a.ECIES.UnsupportAlgorithm(m);if(!(this instanceof d))return new d(p,m);this._privateKey=new i,this.opts=p||{},this.opts.ephemeralKey=!0};c.prototype.privateKey=function(d){return u.checkArgument(i.isValid(d),"no private key provided"),this._privateKey=i(d.toHex())||null,this.opts.ephemeralKey=!1,this},c.prototype.publicKey=function(d){return u.checkArgument(n.isValid(d),"no public key provided"),this._publicKey=n(d.toString())||null,this._publicKey!=null&&(this.opts.fixedPublicKey=!0),this};var h=function(d,p){var m="_"+d;Object.defineProperty(c.prototype,d,{configurable:!1,enumerable:!0,get:function(){var w=this[m];return w=this[m]=p.apply(this),w}})};h("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),h("ivkEkM",function(){var d=this._privateKey.bn,p=this._publicKey.point,m=p.mul(d),w=n(m),x=w.toBuffer();return s.sha512(x)}),h("iv",function(){return this.ivkEkM.slice(0,16)}),h("kE",function(){return this.ivkEkM.slice(16,32)}),h("kM",function(){return this.ivkEkM.slice(32,64)}),c.prototype.encrypt=function(d){r.isBuffer(d)||(d=r.from(d));var p=f.encrypt(d,this.kE,this.iv),m,w=r.from("BIE1");this.opts.noKey&&!this.opts.ephemeralKey?m=r.concat([w,p]):m=r.concat([w,this.Rbuf,p]);var x=s.sha256hmac(m,this.kM);return this.opts.shortTag&&(x=x.slice(0,4)),r.concat([m,x])},c.prototype.decrypt=function(d){u.checkArgument(r.isBuffer(d),"ciphetext must be a buffer");var p=32,m=4;this.opts.shortTag&&(p=4);var w=d.slice(0,4);if(!w.equals(r.from("BIE1")))throw new a.DecryptionError("Invalid Magic");if(!this.opts.noKey){var x;x=d.slice(4,37),this.opts.fixedPublicKey?console.log('Notice: Overriding PublicKey in message. Consider use "noKey" option if you are not sending message to electrum and do not want to use ephemeral key'):this._publicKey=n.fromDER(x),m=37}var _=d.slice(m,d.length-p),y=d.slice(d.length-p,d.length),S=s.sha256hmac(d.slice(0,d.length-p),this.kM);if(this.opts.shortTag&&(S=S.slice(0,4)),!y.equals(S))throw new a.ECIES.DecryptionError("Invalid checksum");return f.decrypt(_,this.kE,this.iv)},c.bitcoreECIES=o,t.exports=c});Ve("cQlxP",function(t,e){var r=gr.Buffer,n=G("arkeG"),i=G("bTTXN"),s=G("6gAsx"),u=U2.ModeOfOperation.cbc,o=G("7X5Fe"),a=function(){};a.encrypt=function(c,h,d){s.checkArgument(c),s.checkArgument(h),s.checkArgument(d),d=d||o.getRandomBuffer(16),c=U2.padding.pkcs7.pad(c);var p=new u(h,d),m=p.encrypt(c),w=r.concat([d,m]);return w},a.decrypt=function(c,h){s.checkArgument(c),s.checkArgument(h);var d=c.slice(0,16),p=c.slice(16),m=new u(h,d),w=m.decrypt(p);return w=U2.padding.pkcs7.strip(w),r.from(w)};var l=function c(h){if(!(this instanceof c))return new c;this.opts=h||{}};l.prototype.privateKey=function(c){return s.checkArgument(c,"no private key provided"),this._privateKey=c||null,this},l.prototype.publicKey=function(c){return s.checkArgument(c,"no public key provided"),this._publicKey=c||null,this};var f=function(c,h){var d="_"+c;Object.defineProperty(l.prototype,c,{configurable:!1,enumerable:!0,get:function(){var p=this[d];return p||(p=this[d]=h.apply(this)),p}})};f("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),f("kEkM",function(){var c=this._privateKey.bn,h=this._publicKey.point,d=h.mul(c),p=d.getX(),m=p.toBuffer({size:32});return i.sha512(m)}),f("kE",function(){return this.kEkM.slice(0,32)}),f("kM",function(){return this.kEkM.slice(32,64)}),l.prototype.encrypt=function(c,h){r.isBuffer(c)||(c=r.from(c)),h===void 0&&(h=i.sha256hmac(c,this._privateKey.toBuffer()).slice(0,16));var d=a.encrypt(c,this.kE,h),p=i.sha256hmac(d,this.kM);this.opts.shortTag&&(p=p.slice(0,4));var m;return this.opts.noKey?m=r.concat([d,p]):m=r.concat([this.Rbuf,d,p]),m},l.prototype.decrypt=function(c){s.checkArgument(c);var h=0,d=32;if(this.opts.shortTag&&(d=4),!this.opts.noKey){var p;switch(c[0]){case 4:p=c.slice(0,65);break;case 3:case 2:p=c.slice(0,33);break;default:throw new Error("Invalid type: "+c[0])}this._publicKey=n.fromDER(p),h+=p.length}var m=c.slice(h,c.length-d),w=c.slice(c.length-d,c.length),x=i.sha256hmac(m,this.kM);this.opts.shortTag&&(x=x.slice(0,4));for(var _=!0,y=0;y<w.length;y++)_&=w[y]===x[y];if(!_)throw new Error("Invalid checksum");return a.decrypt(m,this.kE)},t.exports=l});Ve("9fBEz",function(t,e){var r=gr.Buffer,n=G("kBBbb"),i=G("7smYJ"),s=G("arkeG"),u=G("iSUUt"),o=G("2AZ1V"),a=G("kmMTb"),l=G("gIXub"),f=G("bTTXN"),c=f.sha256sha256,h=G("gk75r"),d=G("6gAsx"),p=function m(w){return this instanceof m?(d.checkArgument(n.isString(w)||r.isBuffer(w),"First argument should be a string or Buffer"),n.isString(w)&&(this.messageBuffer=r.from(w)),r.isBuffer(w)&&(this.messageBuffer=w),this):new m(w)};p.sign=function(m,w){return new p(m).sign(w)},p.verify=function(m,w,x){return new p(m).verify(w,x)},p.MAGIC_BYTES=r.from(`Bitcoin Signed Message:
`),p.prototype.magicHash=function(){var w=o.varintBufNum(p.MAGIC_BYTES.length),x=o.varintBufNum(this.messageBuffer.length),_=r.concat([w,p.MAGIC_BYTES,x,this.messageBuffer]),y=c(_);return y},p.prototype._sign=function(w){d.checkArgument(w instanceof i,"First argument should be an instance of PrivateKey");var x=this.magicHash();return a.signWithCalcI(x,w)},p.prototype.sign=function(w){var x=this._sign(w);return x.toCompact().toString("base64")},p.prototype._verify=function(w,x){d.checkArgument(w instanceof s,"First argument should be an instance of PublicKey"),d.checkArgument(x instanceof l,"Second argument should be an instance of Signature");var _=this.magicHash(),y=a.verify(_,x,w);return y||(this.error="The signature was invalid"),y},p.prototype.verify=function(w,x){d.checkArgument(w),d.checkArgument(x&&n.isString(x)),n.isString(w)&&(w=u.fromString(w));var _=l.fromCompact(r.from(x,"base64")),y=new a;y.hashbuf=this.magicHash(),y.sig=_;var S=y.toPublicKey(),F=u.fromPublicKey(S,w.network);return w.toString()!==F.toString()?(this.error="The signature did not match the message digest",!1):this._verify(S,_)},p.fromString=function(m){return new p(m)},p.fromJSON=function(w){return h.isValidJSON(w)&&(w=JSON.parse(w)),p.fromObject(w)},p.prototype.toObject=function(){return{messageHex:this.messageBuffer.toString("hex")}},p.fromObject=function(m){let w=r.from(m.messageHex,"hex");return new p(w)},p.prototype.toJSON=function(){return JSON.stringify(this.toObject())},p.prototype.toString=function(){return this.messageBuffer.toString()},p.prototype.inspect=function(){return"<Message: "+this.toString()+">"},t.exports=p});Ve("amN1b",function(t,e){var r=gr.Buffer,n=G("dIoYd"),i=G("bTTXN"),s=G("7X5Fe"),u=G("kBBbb"),o=G("d2BaI"),a=G("kooOK"),l=G("6gAsx"),f=G("4bgoH"),c=function(h,d){if(!(this instanceof c))return new c(h,d);u.isArray(h)&&(d=h,h=null);var p,m,w;if(r.isBuffer(h))w=h;else if(u.isString(h))m=_y.nfkd(h);else if(u.isNumber(h))p=h;else if(h)throw new a.InvalidArgument("data","Must be a Buffer, a string or an integer");if(p=p||128,d=d||c._getDictionary(m),m&&!d)throw new a.Mnemonic.UnknownWordlist(m);if(d=d||c.Words.ENGLISH,w&&(m=c._entropy2mnemonic(w,d)),m&&!c.isValid(m,d))throw new a.Mnemonic.InvalidMnemonic(m);if(p%32!==0||p<128)throw new a.InvalidArgument("ENT","Values must be ENT > 128 and ENT % 32 == 0");m=m||c._mnemonic(p,d),Object.defineProperty(this,"wordlist",{configurable:!1,value:d}),Object.defineProperty(this,"phrase",{configurable:!1,value:m})};c.fromRandom=function(h=c.Words.ENGLISH){return new c(h)},c.fromString=function(h,d=c.Words.ENGLISH){return new c(h,d)},c.Words=G("kWjfg"),c.isValid=function(h,d){if(h=_y.nfkd(h),d=d||c._getDictionary(h),!d)return!1;for(var p=h.split(" "),m="",w=0;w<p.length;w++){var x=d.indexOf(p[w]);if(x<0)return!1;m=m+("00000000000"+x.toString(2)).slice(-11)}var _=m.length/33,y=m.slice(-_),S=m.slice(0,m.length-_),F=r.alloc(S.length/8);for(w=0;w<S.length/8;w++)F.writeUInt8(parseInt(m.slice(w*8,(w+1)*8),2),w);var N=c._entropyChecksum(F);return N===y},c._belongsToWordlist=function(h,d){for(var p=_y.nfkd(h).split(" "),m=0;m<p.length;m++){var w=d.indexOf(p[m]);if(w<0)return!1}return!0},c._getDictionary=function(h){if(!h)return null;for(var d=Object.keys(c.Words),p=0;p<d.length;p++){var m=d[p];if(c._belongsToWordlist(h,c.Words[m]))return c.Words[m]}return null},c.prototype.toSeed=function(h){return h=h||"",o(_y.nfkd(this.phrase),_y.nfkd("mnemonic"+h),2048,64)},c.fromSeed=function(h,d){return l.checkArgument(r.isBuffer(h),"seed must be a Buffer."),l.checkArgument(u.isArray(d)||u.isString(d),"wordlist must be a string or an array."),new c(h,d)},c.prototype.toHDPrivateKey=function(h,d){var p=this.toSeed(h);return f.fromSeed(p,d)},c.prototype.toString=function(){return this.phrase},c.prototype.inspect=function(){return"<Mnemonic: "+this.toString()+" >"},c._mnemonic=function(h,d){var p=s.getRandomBuffer(h/8);return c._entropy2mnemonic(p,d)},c._entropy2mnemonic=function(h,d){for(var p="",m=0;m<h.length;m++)p=p+("00000000"+h[m].toString(2)).slice(-8);if(p=p+c._entropyChecksum(h),p.length%11!==0)throw new a.InvalidEntropy(p);var w=[];for(m=0;m<p.length/11;m++){var x=parseInt(p.slice(m*11,(m+1)*11),2);w.push(d[x])}var _;return d===c.Words.JAPANESE?_=w.join("\u3000"):_=w.join(" "),_},c._entropyChecksum=function(h){for(var d=i.sha256(h),p=h.length*8,m=p/32,w=new n(d.toString("hex"),16).toString(2);w.length%256!==0;)w="0"+w;var x=w.slice(0,m);return x},t.exports=c});Ve("d2BaI",function(t,e){t.exports=G("9Uipm")});Ve("9Uipm",function(t,e){var r=gr.Buffer;function n(i,s,u,o){var a=64;if(o>(Math.pow(2,32)-1)*a)throw Error("Requested key length too long");if(typeof i!="string"&&!r.isBuffer(i))throw new TypeError("key must a string or Buffer");if(typeof s!="string"&&!r.isBuffer(s))throw new TypeError("salt must a string or Buffer");typeof i=="string"&&(i=r.from(i)),typeof s=="string"&&(s=r.from(s));var l=r.alloc(o),f=r.alloc(a),c=r.alloc(a),h=r.alloc(s.length+4),d=Math.ceil(o/a),p=o-(d-1)*a;s.copy(h,0,0,s.length);for(var m=1;m<=d;m++){h[s.length+0]=m>>24&255,h[s.length+1]=m>>16&255,h[s.length+2]=m>>8&255,h[s.length+3]=m>>0&255,f=Fp.hmac(Fp.sha512,i).update(h).digest(),f.copy(c,0,0,a);for(var w=1;w<u;w++){f=Fp.hmac(Fp.sha512,i).update(f).digest();for(var x=0;x<a;x++)c[x]^=f[x]}var _=(m-1)*a,y=m===d?p:a;c.copy(l,_,0,y)}return l}t.exports=n});Ve("kWjfg",function(t,e){t.exports={CHINESE:G("1BMvs"),ENGLISH:G("hKmMn"),FRENCH:G("lnczd"),ITALIAN:G("dr8eV"),JAPANESE:G("9uq94"),SPANISH:G("8YfVJ")}});Ve("1BMvs",function(t,e){"use strict";var r=["\u7684","\u4E00","\u662F","\u5728","\u4E0D","\u4E86","\u6709","\u548C","\u4EBA","\u8FD9","\u4E2D","\u5927","\u4E3A","\u4E0A","\u4E2A","\u56FD","\u6211","\u4EE5","\u8981","\u4ED6","\u65F6","\u6765","\u7528","\u4EEC","\u751F","\u5230","\u4F5C","\u5730","\u4E8E","\u51FA","\u5C31","\u5206","\u5BF9","\u6210","\u4F1A","\u53EF","\u4E3B","\u53D1","\u5E74","\u52A8","\u540C","\u5DE5","\u4E5F","\u80FD","\u4E0B","\u8FC7","\u5B50","\u8BF4","\u4EA7","\u79CD","\u9762","\u800C","\u65B9","\u540E","\u591A","\u5B9A","\u884C","\u5B66","\u6CD5","\u6240","\u6C11","\u5F97","\u7ECF","\u5341","\u4E09","\u4E4B","\u8FDB","\u7740","\u7B49","\u90E8","\u5EA6","\u5BB6","\u7535","\u529B","\u91CC","\u5982","\u6C34","\u5316","\u9AD8","\u81EA","\u4E8C","\u7406","\u8D77","\u5C0F","\u7269","\u73B0","\u5B9E","\u52A0","\u91CF","\u90FD","\u4E24","\u4F53","\u5236","\u673A","\u5F53","\u4F7F","\u70B9","\u4ECE","\u4E1A","\u672C","\u53BB","\u628A","\u6027","\u597D","\u5E94","\u5F00","\u5B83","\u5408","\u8FD8","\u56E0","\u7531","\u5176","\u4E9B","\u7136","\u524D","\u5916","\u5929","\u653F","\u56DB","\u65E5","\u90A3","\u793E","\u4E49","\u4E8B","\u5E73","\u5F62","\u76F8","\u5168","\u8868","\u95F4","\u6837","\u4E0E","\u5173","\u5404","\u91CD","\u65B0","\u7EBF","\u5185","\u6570","\u6B63","\u5FC3","\u53CD","\u4F60","\u660E","\u770B","\u539F","\u53C8","\u4E48","\u5229","\u6BD4","\u6216","\u4F46","\u8D28","\u6C14","\u7B2C","\u5411","\u9053","\u547D","\u6B64","\u53D8","\u6761","\u53EA","\u6CA1","\u7ED3","\u89E3","\u95EE","\u610F","\u5EFA","\u6708","\u516C","\u65E0","\u7CFB","\u519B","\u5F88","\u60C5","\u8005","\u6700","\u7ACB","\u4EE3","\u60F3","\u5DF2","\u901A","\u5E76","\u63D0","\u76F4","\u9898","\u515A","\u7A0B","\u5C55","\u4E94","\u679C","\u6599","\u8C61","\u5458","\u9769","\u4F4D","\u5165","\u5E38","\u6587","\u603B","\u6B21","\u54C1","\u5F0F","\u6D3B","\u8BBE","\u53CA","\u7BA1","\u7279","\u4EF6","\u957F","\u6C42","\u8001","\u5934","\u57FA","\u8D44","\u8FB9","\u6D41","\u8DEF","\u7EA7","\u5C11","\u56FE","\u5C71","\u7EDF","\u63A5","\u77E5","\u8F83","\u5C06","\u7EC4","\u89C1","\u8BA1","\u522B","\u5979","\u624B","\u89D2","\u671F","\u6839","\u8BBA","\u8FD0","\u519C","\u6307","\u51E0","\u4E5D","\u533A","\u5F3A","\u653E","\u51B3","\u897F","\u88AB","\u5E72","\u505A","\u5FC5","\u6218","\u5148","\u56DE","\u5219","\u4EFB","\u53D6","\u636E","\u5904","\u961F","\u5357","\u7ED9","\u8272","\u5149","\u95E8","\u5373","\u4FDD","\u6CBB","\u5317","\u9020","\u767E","\u89C4","\u70ED","\u9886","\u4E03","\u6D77","\u53E3","\u4E1C","\u5BFC","\u5668","\u538B","\u5FD7","\u4E16","\u91D1","\u589E","\u4E89","\u6D4E","\u9636","\u6CB9","\u601D","\u672F","\u6781","\u4EA4","\u53D7","\u8054","\u4EC0","\u8BA4","\u516D","\u5171","\u6743","\u6536","\u8BC1","\u6539","\u6E05","\u7F8E","\u518D","\u91C7","\u8F6C","\u66F4","\u5355","\u98CE","\u5207","\u6253","\u767D","\u6559","\u901F","\u82B1","\u5E26","\u5B89","\u573A","\u8EAB","\u8F66","\u4F8B","\u771F","\u52A1","\u5177","\u4E07","\u6BCF","\u76EE","\u81F3","\u8FBE","\u8D70","\u79EF","\u793A","\u8BAE","\u58F0","\u62A5","\u6597","\u5B8C","\u7C7B","\u516B","\u79BB","\u534E","\u540D","\u786E","\u624D","\u79D1","\u5F20","\u4FE1","\u9A6C","\u8282","\u8BDD","\u7C73","\u6574","\u7A7A","\u5143","\u51B5","\u4ECA","\u96C6","\u6E29","\u4F20","\u571F","\u8BB8","\u6B65","\u7FA4","\u5E7F","\u77F3","\u8BB0","\u9700","\u6BB5","\u7814","\u754C","\u62C9","\u6797","\u5F8B","\u53EB","\u4E14","\u7A76","\u89C2","\u8D8A","\u7EC7","\u88C5","\u5F71","\u7B97","\u4F4E","\u6301","\u97F3","\u4F17","\u4E66","\u5E03","\u590D","\u5BB9","\u513F","\u987B","\u9645","\u5546","\u975E","\u9A8C","\u8FDE","\u65AD","\u6DF1","\u96BE","\u8FD1","\u77FF","\u5343","\u5468","\u59D4","\u7D20","\u6280","\u5907","\u534A","\u529E","\u9752","\u7701","\u5217","\u4E60","\u54CD","\u7EA6","\u652F","\u822C","\u53F2","\u611F","\u52B3","\u4FBF","\u56E2","\u5F80","\u9178","\u5386","\u5E02","\u514B","\u4F55","\u9664","\u6D88","\u6784","\u5E9C","\u79F0","\u592A","\u51C6","\u7CBE","\u503C","\u53F7","\u7387","\u65CF","\u7EF4","\u5212","\u9009","\u6807","\u5199","\u5B58","\u5019","\u6BDB","\u4EB2","\u5FEB","\u6548","\u65AF","\u9662","\u67E5","\u6C5F","\u578B","\u773C","\u738B","\u6309","\u683C","\u517B","\u6613","\u7F6E","\u6D3E","\u5C42","\u7247","\u59CB","\u5374","\u4E13","\u72B6","\u80B2","\u5382","\u4EAC","\u8BC6","\u9002","\u5C5E","\u5706","\u5305","\u706B","\u4F4F","\u8C03","\u6EE1","\u53BF","\u5C40","\u7167","\u53C2","\u7EA2","\u7EC6","\u5F15","\u542C","\u8BE5","\u94C1","\u4EF7","\u4E25","\u9996","\u5E95","\u6DB2","\u5B98","\u5FB7","\u968F","\u75C5","\u82CF","\u5931","\u5C14","\u6B7B","\u8BB2","\u914D","\u5973","\u9EC4","\u63A8","\u663E","\u8C08","\u7F6A","\u795E","\u827A","\u5462","\u5E2D","\u542B","\u4F01","\u671B","\u5BC6","\u6279","\u8425","\u9879","\u9632","\u4E3E","\u7403","\u82F1","\u6C27","\u52BF","\u544A","\u674E","\u53F0","\u843D","\u6728","\u5E2E","\u8F6E","\u7834","\u4E9A","\u5E08","\u56F4","\u6CE8","\u8FDC","\u5B57","\u6750","\u6392","\u4F9B","\u6CB3","\u6001","\u5C01","\u53E6","\u65BD","\u51CF","\u6811","\u6EB6","\u600E","\u6B62","\u6848","\u8A00","\u58EB","\u5747","\u6B66","\u56FA","\u53F6","\u9C7C","\u6CE2","\u89C6","\u4EC5","\u8D39","\u7D27","\u7231","\u5DE6","\u7AE0","\u65E9","\u671D","\u5BB3","\u7EED","\u8F7B","\u670D","\u8BD5","\u98DF","\u5145","\u5175","\u6E90","\u5224","\u62A4","\u53F8","\u8DB3","\u67D0","\u7EC3","\u5DEE","\u81F4","\u677F","\u7530","\u964D","\u9ED1","\u72AF","\u8D1F","\u51FB","\u8303","\u7EE7","\u5174","\u4F3C","\u4F59","\u575A","\u66F2","\u8F93","\u4FEE","\u6545","\u57CE","\u592B","\u591F","\u9001","\u7B14","\u8239","\u5360","\u53F3","\u8D22","\u5403","\u5BCC","\u6625","\u804C","\u89C9","\u6C49","\u753B","\u529F","\u5DF4","\u8DDF","\u867D","\u6742","\u98DE","\u68C0","\u5438","\u52A9","\u5347","\u9633","\u4E92","\u521D","\u521B","\u6297","\u8003","\u6295","\u574F","\u7B56","\u53E4","\u5F84","\u6362","\u672A","\u8DD1","\u7559","\u94A2","\u66FE","\u7AEF","\u8D23","\u7AD9","\u7B80","\u8FF0","\u94B1","\u526F","\u5C3D","\u5E1D","\u5C04","\u8349","\u51B2","\u627F","\u72EC","\u4EE4","\u9650","\u963F","\u5BA3","\u73AF","\u53CC","\u8BF7","\u8D85","\u5FAE","\u8BA9","\u63A7","\u5DDE","\u826F","\u8F74","\u627E","\u5426","\u7EAA","\u76CA","\u4F9D","\u4F18","\u9876","\u7840","\u8F7D","\u5012","\u623F","\u7A81","\u5750","\u7C89","\u654C","\u7565","\u5BA2","\u8881","\u51B7","\u80DC","\u7EDD","\u6790","\u5757","\u5242","\u6D4B","\u4E1D","\u534F","\u8BC9","\u5FF5","\u9648","\u4ECD","\u7F57","\u76D0","\u53CB","\u6D0B","\u9519","\u82E6","\u591C","\u5211","\u79FB","\u9891","\u9010","\u9760","\u6DF7","\u6BCD","\u77ED","\u76AE","\u7EC8","\u805A","\u6C7D","\u6751","\u4E91","\u54EA","\u65E2","\u8DDD","\u536B","\u505C","\u70C8","\u592E","\u5BDF","\u70E7","\u8FC5","\u5883","\u82E5","\u5370","\u6D32","\u523B","\u62EC","\u6FC0","\u5B54","\u641E","\u751A","\u5BA4","\u5F85","\u6838","\u6821","\u6563","\u4FB5","\u5427","\u7532","\u6E38","\u4E45","\u83DC","\u5473","\u65E7","\u6A21","\u6E56","\u8D27","\u635F","\u9884","\u963B","\u6BEB","\u666E","\u7A33","\u4E59","\u5988","\u690D","\u606F","\u6269","\u94F6","\u8BED","\u6325","\u9152","\u5B88","\u62FF","\u5E8F","\u7EB8","\u533B","\u7F3A","\u96E8","\u5417","\u9488","\u5218","\u554A","\u6025","\u5531","\u8BEF","\u8BAD","\u613F","\u5BA1","\u9644","\u83B7","\u8336","\u9C9C","\u7CAE","\u65A4","\u5B69","\u8131","\u786B","\u80A5","\u5584","\u9F99","\u6F14","\u7236","\u6E10","\u8840","\u6B22","\u68B0","\u638C","\u6B4C","\u6C99","\u521A","\u653B","\u8C13","\u76FE","\u8BA8","\u665A","\u7C92","\u4E71","\u71C3","\u77DB","\u4E4E","\u6740","\u836F","\u5B81","\u9C81","\u8D35","\u949F","\u7164","\u8BFB","\u73ED","\u4F2F","\u9999","\u4ECB","\u8FEB","\u53E5","\u4E30","\u57F9","\u63E1","\u5170","\u62C5","\u5F26","\u86CB","\u6C89","\u5047","\u7A7F","\u6267","\u7B54","\u4E50","\u8C01","\u987A","\u70DF","\u7F29","\u5F81","\u8138","\u559C","\u677E","\u811A","\u56F0","\u5F02","\u514D","\u80CC","\u661F","\u798F","\u4E70","\u67D3","\u4E95","\u6982","\u6162","\u6015","\u78C1","\u500D","\u7956","\u7687","\u4FC3","\u9759","\u8865","\u8BC4","\u7FFB","\u8089","\u8DF5","\u5C3C","\u8863","\u5BBD","\u626C","\u68C9","\u5E0C","\u4F24","\u64CD","\u5782","\u79CB","\u5B9C","\u6C22","\u5957","\u7763","\u632F","\u67B6","\u4EAE","\u672B","\u5BAA","\u5E86","\u7F16","\u725B","\u89E6","\u6620","\u96F7","\u9500","\u8BD7","\u5EA7","\u5C45","\u6293","\u88C2","\u80DE","\u547C","\u5A18","\u666F","\u5A01","\u7EFF","\u6676","\u539A","\u76DF","\u8861","\u9E21","\u5B59","\u5EF6","\u5371","\u80F6","\u5C4B","\u4E61","\u4E34","\u9646","\u987E","\u6389","\u5440","\u706F","\u5C81","\u63AA","\u675F","\u8010","\u5267","\u7389","\u8D75","\u8DF3","\u54E5","\u5B63","\u8BFE","\u51EF","\u80E1","\u989D","\u6B3E","\u7ECD","\u5377","\u9F50","\u4F1F","\u84B8","\u6B96","\u6C38","\u5B97","\u82D7","\u5DDD","\u7089","\u5CA9","\u5F31","\u96F6","\u6768","\u594F","\u6CBF","\u9732","\u6746","\u63A2","\u6ED1","\u9547","\u996D","\u6D53","\u822A","\u6000","\u8D76","\u5E93","\u593A","\u4F0A","\u7075","\u7A0E","\u9014","\u706D","\u8D5B","\u5F52","\u53EC","\u9F13","\u64AD","\u76D8","\u88C1","\u9669","\u5EB7","\u552F","\u5F55","\u83CC","\u7EAF","\u501F","\u7CD6","\u76D6","\u6A2A","\u7B26","\u79C1","\u52AA","\u5802","\u57DF","\u67AA","\u6DA6","\u5E45","\u54C8","\u7ADF","\u719F","\u866B","\u6CFD","\u8111","\u58E4","\u78B3","\u6B27","\u904D","\u4FA7","\u5BE8","\u6562","\u5F7B","\u8651","\u659C","\u8584","\u5EAD","\u7EB3","\u5F39","\u9972","\u4F38","\u6298","\u9EA6","\u6E7F","\u6697","\u8377","\u74E6","\u585E","\u5E8A","\u7B51","\u6076","\u6237","\u8BBF","\u5854","\u5947","\u900F","\u6881","\u5200","\u65CB","\u8FF9","\u5361","\u6C2F","\u9047","\u4EFD","\u6BD2","\u6CE5","\u9000","\u6D17","\u6446","\u7070","\u5F69","\u5356","\u8017","\u590F","\u62E9","\u5FD9","\u94DC","\u732E","\u786C","\u4E88","\u7E41","\u5708","\u96EA","\u51FD","\u4EA6","\u62BD","\u7BC7","\u9635","\u9634","\u4E01","\u5C3A","\u8FFD","\u5806","\u96C4","\u8FCE","\u6CDB","\u7238","\u697C","\u907F","\u8C0B","\u5428","\u91CE","\u732A","\u65D7","\u7D2F","\u504F","\u5178","\u9986","\u7D22","\u79E6","\u8102","\u6F6E","\u7237","\u8C46","\u5FFD","\u6258","\u60CA","\u5851","\u9057","\u6108","\u6731","\u66FF","\u7EA4","\u7C97","\u503E","\u5C1A","\u75DB","\u695A","\u8C22","\u594B","\u8D2D","\u78E8","\u541B","\u6C60","\u65C1","\u788E","\u9AA8","\u76D1","\u6355","\u5F1F","\u66B4","\u5272","\u8D2F","\u6B8A","\u91CA","\u8BCD","\u4EA1","\u58C1","\u987F","\u5B9D","\u5348","\u5C18","\u95FB","\u63ED","\u70AE","\u6B8B","\u51AC","\u6865","\u5987","\u8B66","\u7EFC","\u62DB","\u5434","\u4ED8","\u6D6E","\u906D","\u5F90","\u60A8","\u6447","\u8C37","\u8D5E","\u7BB1","\u9694","\u8BA2","\u7537","\u5439","\u56ED","\u7EB7","\u5510","\u8D25","\u5B8B","\u73BB","\u5DE8","\u8015","\u5766","\u8363","\u95ED","\u6E7E","\u952E","\u51E1","\u9A7B","\u9505","\u6551","\u6069","\u5265","\u51DD","\u78B1","\u9F7F","\u622A","\u70BC","\u9EBB","\u7EBA","\u7981","\u5E9F","\u76DB","\u7248","\u7F13","\u51C0","\u775B","\u660C","\u5A5A","\u6D89","\u7B52","\u5634","\u63D2","\u5CB8","\u6717","\u5E84","\u8857","\u85CF","\u59D1","\u8D38","\u8150","\u5974","\u5566","\u60EF","\u4E58","\u4F19","\u6062","\u5300","\u7EB1","\u624E","\u8FA9","\u8033","\u5F6A","\u81E3","\u4EBF","\u7483","\u62B5","\u8109","\u79C0","\u8428","\u4FC4","\u7F51","\u821E","\u5E97","\u55B7","\u7EB5","\u5BF8","\u6C57","\u6302","\u6D2A","\u8D3A","\u95EA","\u67EC","\u7206","\u70EF","\u6D25","\u7A3B","\u5899","\u8F6F","\u52C7","\u50CF","\u6EDA","\u5398","\u8499","\u82B3","\u80AF","\u5761","\u67F1","\u8361","\u817F","\u4EEA","\u65C5","\u5C3E","\u8F67","\u51B0","\u8D21","\u767B","\u9ECE","\u524A","\u94BB","\u52D2","\u9003","\u969C","\u6C28","\u90ED","\u5CF0","\u5E01","\u6E2F","\u4F0F","\u8F68","\u4EA9","\u6BD5","\u64E6","\u83AB","\u523A","\u6D6A","\u79D8","\u63F4","\u682A","\u5065","\u552E","\u80A1","\u5C9B","\u7518","\u6CE1","\u7761","\u7AE5","\u94F8","\u6C64","\u9600","\u4F11","\u6C47","\u820D","\u7267","\u7ED5","\u70B8","\u54F2","\u78F7","\u7EE9","\u670B","\u6DE1","\u5C16","\u542F","\u9677","\u67F4","\u5448","\u5F92","\u989C","\u6CEA","\u7A0D","\u5FD8","\u6CF5","\u84DD","\u62D6","\u6D1E","\u6388","\u955C","\u8F9B","\u58EE","\u950B","\u8D2B","\u865A","\u5F2F","\u6469","\u6CF0","\u5E7C","\u5EF7","\u5C0A","\u7A97","\u7EB2","\u5F04","\u96B6","\u7591","\u6C0F","\u5BAB","\u59D0","\u9707","\u745E","\u602A","\u5C24","\u7434","\u5FAA","\u63CF","\u819C","\u8FDD","\u5939","\u8170","\u7F18","\u73E0","\u7A77","\u68EE","\u679D","\u7AF9","\u6C9F","\u50AC","\u7EF3","\u5FC6","\u90A6","\u5269","\u5E78","\u6D46","\u680F","\u62E5","\u7259","\u8D2E","\u793C","\u6EE4","\u94A0","\u7EB9","\u7F62","\u62CD","\u54B1","\u558A","\u8896","\u57C3","\u52E4","\u7F5A","\u7126","\u6F5C","\u4F0D","\u58A8","\u6B32","\u7F1D","\u59D3","\u520A","\u9971","\u4EFF","\u5956","\u94DD","\u9B3C","\u4E3D","\u8DE8","\u9ED8","\u6316","\u94FE","\u626B","\u559D","\u888B","\u70AD","\u6C61","\u5E55","\u8BF8","\u5F27","\u52B1","\u6885","\u5976","\u6D01","\u707E","\u821F","\u9274","\u82EF","\u8BBC","\u62B1","\u6BC1","\u61C2","\u5BD2","\u667A","\u57D4","\u5BC4","\u5C4A","\u8DC3","\u6E21","\u6311","\u4E39","\u8270","\u8D1D","\u78B0","\u62D4","\u7239","\u6234","\u7801","\u68A6","\u82BD","\u7194","\u8D64","\u6E14","\u54ED","\u656C","\u9897","\u5954","\u94C5","\u4EF2","\u864E","\u7A00","\u59B9","\u4E4F","\u73CD","\u7533","\u684C","\u9075","\u5141","\u9686","\u87BA","\u4ED3","\u9B4F","\u9510","\u6653","\u6C2E","\u517C","\u9690","\u788D","\u8D6B","\u62E8","\u5FE0","\u8083","\u7F38","\u7275","\u62A2","\u535A","\u5DE7","\u58F3","\u5144","\u675C","\u8BAF","\u8BDA","\u78A7","\u7965","\u67EF","\u9875","\u5DE1","\u77E9","\u60B2","\u704C","\u9F84","\u4F26","\u7968","\u5BFB","\u6842","\u94FA","\u5723","\u6050","\u6070","\u90D1","\u8DA3","\u62AC","\u8352","\u817E","\u8D34","\u67D4","\u6EF4","\u731B","\u9614","\u8F86","\u59BB","\u586B","\u64A4","\u50A8","\u7B7E","\u95F9","\u6270","\u7D2B","\u7802","\u9012","\u620F","\u540A","\u9676","\u4F10","\u5582","\u7597","\u74F6","\u5A46","\u629A","\u81C2","\u6478","\u5FCD","\u867E","\u8721","\u90BB","\u80F8","\u5DE9","\u6324","\u5076","\u5F03","\u69FD","\u52B2","\u4E73","\u9093","\u5409","\u4EC1","\u70C2","\u7816","\u79DF","\u4E4C","\u8230","\u4F34","\u74DC","\u6D45","\u4E19","\u6682","\u71E5","\u6A61","\u67F3","\u8FF7","\u6696","\u724C","\u79E7","\u80C6","\u8BE6","\u7C27","\u8E0F","\u74F7","\u8C31","\u5446","\u5BBE","\u7CCA","\u6D1B","\u8F89","\u6124","\u7ADE","\u9699","\u6012","\u7C98","\u4E43","\u7EEA","\u80A9","\u7C4D","\u654F","\u6D82","\u7199","\u7686","\u4FA6","\u60AC","\u6398","\u4EAB","\u7EA0","\u9192","\u72C2","\u9501","\u6DC0","\u6068","\u7272","\u9738","\u722C","\u8D4F","\u9006","\u73A9","\u9675","\u795D","\u79D2","\u6D59","\u8C8C","\u5F79","\u5F7C","\u6089","\u9E2D","\u8D8B","\u51E4","\u6668","\u755C","\u8F88","\u79E9","\u5375","\u7F72","\u68AF","\u708E","\u6EE9","\u68CB","\u9A71","\u7B5B","\u5CE1","\u5192","\u5565","\u5BFF","\u8BD1","\u6D78","\u6CC9","\u5E3D","\u8FDF","\u7845","\u7586","\u8D37","\u6F0F","\u7A3F","\u51A0","\u5AE9","\u80C1","\u82AF","\u7262","\u53DB","\u8680","\u5965","\u9E23","\u5CAD","\u7F8A","\u51ED","\u4E32","\u5858","\u7ED8","\u9175","\u878D","\u76C6","\u9521","\u5E99","\u7B79","\u51BB","\u8F85","\u6444","\u88AD","\u7B4B","\u62D2","\u50DA","\u65F1","\u94BE","\u9E1F","\u6F06","\u6C88","\u7709","\u758F","\u6DFB","\u68D2","\u7A57","\u785D","\u97E9","\u903C","\u626D","\u4FA8","\u51C9","\u633A","\u7897","\u683D","\u7092","\u676F","\u60A3","\u998F","\u529D","\u8C6A","\u8FBD","\u52C3","\u9E3F","\u65E6","\u540F","\u62DC","\u72D7","\u57CB","\u8F8A","\u63A9","\u996E","\u642C","\u9A82","\u8F9E","\u52FE","\u6263","\u4F30","\u848B","\u7ED2","\u96FE","\u4E08","\u6735","\u59C6","\u62DF","\u5B87","\u8F91","\u9655","\u96D5","\u507F","\u84C4","\u5D07","\u526A","\u5021","\u5385","\u54AC","\u9A76","\u85AF","\u5237","\u65A5","\u756A","\u8D4B","\u5949","\u4F5B","\u6D47","\u6F2B","\u66FC","\u6247","\u9499","\u6843","\u6276","\u4ED4","\u8FD4","\u4FD7","\u4E8F","\u8154","\u978B","\u68F1","\u8986","\u6846","\u6084","\u53D4","\u649E","\u9A97","\u52D8","\u65FA","\u6CB8","\u5B64","\u5410","\u5B5F","\u6E20","\u5C48","\u75BE","\u5999","\u60DC","\u4EF0","\u72E0","\u80C0","\u8C10","\u629B","\u9709","\u6851","\u5C97","\u561B","\u8870","\u76D7","\u6E17","\u810F","\u8D56","\u6D8C","\u751C","\u66F9","\u9605","\u808C","\u54E9","\u5389","\u70C3","\u7EAC","\u6BC5","\u6628","\u4F2A","\u75C7","\u716E","\u53F9","\u9489","\u642D","\u830E","\u7B3C","\u9177","\u5077","\u5F13","\u9525","\u6052","\u6770","\u5751","\u9F3B","\u7FFC","\u7EB6","\u53D9","\u72F1","\u902E","\u7F50","\u7EDC","\u68DA","\u6291","\u81A8","\u852C","\u5BFA","\u9AA4","\u7A46","\u51B6","\u67AF","\u518C","\u5C38","\u51F8","\u7EC5","\u576F","\u727A","\u7130","\u8F70","\u6B23","\u664B","\u7626","\u5FA1","\u952D","\u9526","\u4E27","\u65EC","\u953B","\u5784","\u641C","\u6251","\u9080","\u4EAD","\u916F","\u8FC8","\u8212","\u8106","\u9176","\u95F2","\u5FE7","\u915A","\u987D","\u7FBD","\u6DA8","\u5378","\u4ED7","\u966A","\u8F9F","\u60E9","\u676D","\u59DA","\u809A","\u6349","\u98D8","\u6F02","\u6606","\u6B3A","\u543E","\u90CE","\u70F7","\u6C41","\u5475","\u9970","\u8427","\u96C5","\u90AE","\u8FC1","\u71D5","\u6492","\u59FB","\u8D74","\u5BB4","\u70E6","\u503A","\u5E10","\u6591","\u94C3","\u65E8","\u9187","\u8463","\u997C","\u96CF","\u59FF","\u62CC","\u5085","\u8179","\u59A5","\u63C9","\u8D24","\u62C6","\u6B6A","\u8461","\u80FA","\u4E22","\u6D69","\u5FBD","\u6602","\u57AB","\u6321","\u89C8","\u8D2A","\u6170","\u7F34","\u6C6A","\u614C","\u51AF","\u8BFA","\u59DC","\u8C0A","\u51F6","\u52A3","\u8BEC","\u8000","\u660F","\u8EBA","\u76C8","\u9A91","\u4E54","\u6EAA","\u4E1B","\u5362","\u62B9","\u95F7","\u54A8","\u522E","\u9A7E","\u7F06","\u609F","\u6458","\u94D2","\u63B7","\u9887","\u5E7B","\u67C4","\u60E0","\u60E8","\u4F73","\u4EC7","\u814A","\u7A9D","\u6DA4","\u5251","\u77A7","\u5821","\u6CFC","\u8471","\u7F69","\u970D","\u635E","\u80CE","\u82CD","\u6EE8","\u4FE9","\u6345","\u6E58","\u780D","\u971E","\u90B5","\u8404","\u75AF","\u6DEE","\u9042","\u718A","\u7CAA","\u70D8","\u5BBF","\u6863","\u6208","\u9A73","\u5AC2","\u88D5","\u5F99","\u7BAD","\u6350","\u80A0","\u6491","\u6652","\u8FA8","\u6BBF","\u83B2","\u644A","\u6405","\u9171","\u5C4F","\u75AB","\u54C0","\u8521","\u5835","\u6CAB","\u76B1","\u7545","\u53E0","\u9601","\u83B1","\u6572","\u8F96","\u94A9","\u75D5","\u575D","\u5DF7","\u997F","\u7978","\u4E18","\u7384","\u6E9C","\u66F0","\u903B","\u5F6D","\u5C1D","\u537F","\u59A8","\u8247","\u541E","\u97E6","\u6028","\u77EE","\u6B47"];t.exports=r});Ve("hKmMn",function(t,e){"use strict";var r=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];t.exports=r});Ve("lnczd",function(t,e){var r=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","acade\u0301mie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acque\u0301rir","acronyme","acteur","actif","actuel","adepte","ade\u0301quat","adhe\u0301sif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","ae\u0301rer","ae\u0301ronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agre\u0301able","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","alge\u0300bre","algue","alie\u0301ner","aliment","alle\u0301ger","alliage","allouer","allumer","alourdir","alpaga","altesse","alve\u0301ole","amateur","ambigu","ambre","ame\u0301nager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","ane\u0301antir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","ape\u0301ritif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arte\u0301riel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","bannie\u0300re","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","be\u0301lier","belote","be\u0301ne\u0301fice","berceau","berger","berline","bermuda","besace","besogne","be\u0301tail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","bre\u0300che","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafe\u0301ine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","came\u0301ra","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","ce\u0301dille","ceinture","ce\u0301leste","cellule","cendrier","censurer","central","cercle","ce\u0301re\u0301bral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","che\u0301quier","chercher","cheval","chien","chiffre","chignon","chime\u0300re","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cine\u0301ma","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohe\u0301sion","coiffer","coincer","cole\u0300re","colibri","colline","colmater","colonel","combat","come\u0301die","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","corte\u0300ge","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","cre\u0301ature","cre\u0301diter","cre\u0301meux","creuser","crevette","cribler","crier","cristal","crite\u0300re","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuille\u0300re","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","de\u0301battre","de\u0301biter","de\u0301border","de\u0301brider","de\u0301butant","de\u0301caler","de\u0301cembre","de\u0301chirer","de\u0301cider","de\u0301clarer","de\u0301corer","de\u0301crire","de\u0301cupler","de\u0301dale","de\u0301ductif","de\u0301esse","de\u0301fensif","de\u0301filer","de\u0301frayer","de\u0301gager","de\u0301givrer","de\u0301glutir","de\u0301grafer","de\u0301jeuner","de\u0301lice","de\u0301loger","demander","demeurer","de\u0301molir","de\u0301nicher","de\u0301nouer","dentelle","de\u0301nuder","de\u0301part","de\u0301penser","de\u0301phaser","de\u0301placer","de\u0301poser","de\u0301ranger","de\u0301rober","de\u0301sastre","descente","de\u0301sert","de\u0301signer","de\u0301sobe\u0301ir","dessiner","destrier","de\u0301tacher","de\u0301tester","de\u0301tourer","de\u0301tresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","diffe\u0301rer","dige\u0301rer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","e\u0301blouir","e\u0301carter","e\u0301charpe","e\u0301chelle","e\u0301clairer","e\u0301clipse","e\u0301clore","e\u0301cluse","e\u0301cole","e\u0301conomie","e\u0301corce","e\u0301couter","e\u0301craser","e\u0301cre\u0301mer","e\u0301crivain","e\u0301crou","e\u0301cume","e\u0301cureuil","e\u0301difier","e\u0301duquer","effacer","effectif","effigie","effort","effrayer","effusion","e\u0301galiser","e\u0301garer","e\u0301jecter","e\u0301laborer","e\u0301largir","e\u0301lectron","e\u0301le\u0301gant","e\u0301le\u0301phant","e\u0301le\u0300ve","e\u0301ligible","e\u0301litisme","e\u0301loge","e\u0301lucider","e\u0301luder","emballer","embellir","embryon","e\u0301meraude","e\u0301mission","emmener","e\u0301motion","e\u0301mouvoir","empereur","employer","emporter","emprise","e\u0301mulsion","encadrer","enche\u0300re","enclave","encoche","endiguer","endosser","endroit","enduire","e\u0301nergie","enfance","enfermer","enfouir","engager","engin","englober","e\u0301nigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","e\u0301nume\u0301rer","envahir","enviable","envoyer","enzyme","e\u0301olien","e\u0301paissir","e\u0301pargne","e\u0301patant","e\u0301paule","e\u0301picerie","e\u0301pide\u0301mie","e\u0301pier","e\u0301pilogue","e\u0301pine","e\u0301pisode","e\u0301pitaphe","e\u0301poque","e\u0301preuve","e\u0301prouver","e\u0301puisant","e\u0301querre","e\u0301quipe","e\u0301riger","e\u0301rosion","erreur","e\u0301ruption","escalier","espadon","espe\u0300ce","espie\u0300gle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","e\u0301tage\u0300re","e\u0301taler","e\u0301tanche","e\u0301tatique","e\u0301teindre","e\u0301tendoir","e\u0301ternel","e\u0301thanol","e\u0301thique","ethnie","e\u0301tirer","e\u0301toffer","e\u0301toile","e\u0301tonnant","e\u0301tourdir","e\u0301trange","e\u0301troit","e\u0301tude","euphorie","e\u0301valuer","e\u0301vasion","e\u0301ventail","e\u0301vidence","e\u0301viter","e\u0301volutif","e\u0301voquer","exact","exage\u0301rer","exaucer","exceller","excitant","exclusif","excuse","exe\u0301cuter","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expe\u0301dier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","fe\u0301brile","fe\u0301conder","fe\u0301de\u0301rer","fe\u0301lin","femme","fe\u0301mur","fendoir","fe\u0301odal","fermer","fe\u0301roce","ferveur","festival","feuille","feutre","fe\u0301vrier","fiasco","ficeler","fictif","fide\u0300le","figure","filature","filetage","filie\u0300re","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fle\u0301au","fle\u0300che","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fouge\u0300re","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fre\u0301gate","freiner","frelon","fre\u0301mir","fre\u0301ne\u0301sie","fre\u0300re","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","ge\u0301ant","ge\u0301latine","ge\u0301lule","gendarme","ge\u0301ne\u0301ral","ge\u0301nie","genou","gentil","ge\u0301ologie","ge\u0301ome\u0300tre","ge\u0301ranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruye\u0300re","gue\u0301pard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","he\u0301lium","he\u0301matome","herbe","he\u0301risson","hermine","he\u0301ron","he\u0301siter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homoge\u0300ne","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygie\u0300ne","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","impe\u0301rial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","ine\u0301dit","ineptie","inexact","infini","infliger","informer","infusion","inge\u0301rer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irre\u0301el","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juve\u0301nile","kayak","kimono","kiosque","label","labial","labourer","lace\u0301rer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","le\u0301gal","le\u0301ger","le\u0301gume","lessive","lettre","levier","lexique","le\u0301zard","liasse","libe\u0301rer","libre","licence","licorne","lie\u0300ge","lie\u0300vre","ligature","ligoter","ligue","limer","limite","limonade","limpide","line\u0301aire","lingot","lionceau","liquide","lisie\u0300re","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumie\u0300re","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","male\u0301fice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","mate\u0301riel","matie\u0300re","matraque","maudire","maussade","mauve","maximal","me\u0301chant","me\u0301connu","me\u0301daille","me\u0301decin","me\u0301diter","me\u0301duse","meilleur","me\u0301lange","me\u0301lodie","membre","me\u0301moire","menacer","mener","menhir","mensonge","mentor","mercredi","me\u0301rite","merle","messager","mesure","me\u0301tal","me\u0301te\u0301ore","me\u0301thode","me\u0301tier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mine\u0301ral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","mure\u0300ne","murmure","muscle","muse\u0301um","musicien","mutation","muter","mutuel","myriade","myrtille","myste\u0300re","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","ne\u0301buleux","nectar","ne\u0301faste","ne\u0301gation","ne\u0301gliger","ne\u0301gocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","nume\u0301ro","nuptial","nuque","nutritif","obe\u0301ir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","oce\u0301an","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","one\u0301reux","onirique","opale","opaque","ope\u0301rer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxyge\u0300ne","ozone","paisible","palace","palmare\u0300s","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","paste\u0300que","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pe\u0301lican","pelle","pelouse","peluche","pendule","pe\u0301ne\u0301trer","pe\u0301nible","pensif","pe\u0301nurie","pe\u0301pite","pe\u0301plum","perdrix","perforer","pe\u0301riode","permuter","perplexe","persil","perte","peser","pe\u0301tale","petit","pe\u0301trir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","pie\u0300ce","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poe\u0301sie","poe\u0300te","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponde\u0301rer","poney","portique","position","posse\u0301der","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","pre\u0301cieux","pre\u0301dire","pre\u0301fixe","pre\u0301lude","pre\u0301nom","pre\u0301sence","pre\u0301texte","pre\u0301voir","primitif","prince","prison","priver","proble\u0300me","proce\u0301der","prodige","profond","progre\u0300s","proie","projeter","prologue","promener","propre","prospe\u0300re","prote\u0301ger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quie\u0301tude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","re\u0301actif","re\u0301agir","re\u0301aliser","re\u0301animer","recevoir","re\u0301citer","re\u0301clamer","re\u0301colter","recruter","reculer","recycler","re\u0301diger","redouter","refaire","re\u0301flexe","re\u0301former","refrain","refuge","re\u0301galien","re\u0301gion","re\u0301glage","re\u0301gulier","re\u0301ite\u0301rer","rejeter","rejouer","relatif","relever","relief","remarque","reme\u0300de","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","re\u0301serve","re\u0301sineux","re\u0301soudre","respect","rester","re\u0301sultat","re\u0301tablir","retenir","re\u0301ticule","retomber","retracer","re\u0301union","re\u0301ussir","revanche","revivre","re\u0301volte","re\u0301vulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","rivie\u0300re","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","sce\u0301le\u0301rat","sce\u0301nario","sceptre","sche\u0301ma","science","scinder","score","scrutin","sculpter","se\u0301ance","se\u0301cable","se\u0301cher","secouer","se\u0301cre\u0301ter","se\u0301datif","se\u0301duire","seigneur","se\u0301jour","se\u0301lectif","semaine","sembler","semence","se\u0301minal","se\u0301nateur","sensible","sentence","se\u0301parer","se\u0301quence","serein","sergent","se\u0301rieux","serrure","se\u0301rum","service","se\u0301same","se\u0301vir","sevrage","sextuple","side\u0301ral","sie\u0300cle","sie\u0301ger","siffler","sigle","signal","silence","silicium","simple","since\u0300re","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","spe\u0301cial","sphe\u0300re","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succe\u0300s","sucre","suffixe","sugge\u0301rer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","syme\u0301trie","synapse","syntaxe","syste\u0300me","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","te\u0301moin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","te\u0301tine","texte","the\u0300me","the\u0301orie","the\u0301rapie","thorax","tibia","tie\u0300de","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tole\u0301rant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","tre\u0300fle","tremper","tre\u0301sor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","ve\u0301ge\u0301tal","ve\u0301hicule","veinard","ve\u0301loce","vendredi","ve\u0301ne\u0301rer","venger","venimeux","ventouse","verdure","ve\u0301rin","vernir","verrou","verser","vertu","veston","ve\u0301te\u0301ran","ve\u0301tuste","vexant","vexer","viaduc","viande","victoire","vidange","vide\u0301o","vignette","vigueur","vilain","village","vinaigre","violon","vipe\u0300re","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xe\u0301non","yacht","ze\u0300bre","ze\u0301nith","zeste","zoologie"];t.exports=r});Ve("dr8eV",function(t,e){"use strict";var r=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"];t.exports=r});Ve("9uq94",function(t,e){"use strict";var r=["\u3042\u3044\u3053\u304F\u3057\u3093","\u3042\u3044\u3055\u3064","\u3042\u3044\u305F\u3099","\u3042\u304A\u305D\u3099\u3089","\u3042\u304B\u3061\u3083\u3093","\u3042\u304D\u308B","\u3042\u3051\u304B\u3099\u305F","\u3042\u3051\u308B","\u3042\u3053\u304B\u3099\u308C\u308B","\u3042\u3055\u3044","\u3042\u3055\u3072","\u3042\u3057\u3042\u3068","\u3042\u3057\u3099\u308F\u3046","\u3042\u3059\u3099\u304B\u308B","\u3042\u3059\u3099\u304D","\u3042\u305D\u3075\u3099","\u3042\u305F\u3048\u308B","\u3042\u305F\u305F\u3081\u308B","\u3042\u305F\u308A\u307E\u3048","\u3042\u305F\u308B","\u3042\u3064\u3044","\u3042\u3064\u304B\u3046","\u3042\u3063\u3057\u3085\u304F","\u3042\u3064\u307E\u308A","\u3042\u3064\u3081\u308B","\u3042\u3066\u306A","\u3042\u3066\u306F\u307E\u308B","\u3042\u3072\u308B","\u3042\u3075\u3099\u3089","\u3042\u3075\u3099\u308B","\u3042\u3075\u308C\u308B","\u3042\u307E\u3044","\u3042\u307E\u3068\u3099","\u3042\u307E\u3084\u304B\u3059","\u3042\u307E\u308A","\u3042\u307F\u3082\u306E","\u3042\u3081\u308A\u304B","\u3042\u3084\u307E\u308B","\u3042\u3086\u3080","\u3042\u3089\u3044\u304F\u3099\u307E","\u3042\u3089\u3057","\u3042\u3089\u3059\u3057\u3099","\u3042\u3089\u305F\u3081\u308B","\u3042\u3089\u3086\u308B","\u3042\u3089\u308F\u3059","\u3042\u308A\u304B\u3099\u3068\u3046","\u3042\u308F\u305B\u308B","\u3042\u308F\u3066\u308B","\u3042\u3093\u3044","\u3042\u3093\u304B\u3099\u3044","\u3042\u3093\u3053","\u3042\u3093\u305B\u3099\u3093","\u3042\u3093\u3066\u3044","\u3042\u3093\u306A\u3044","\u3042\u3093\u307E\u308A","\u3044\u3044\u305F\u3099\u3059","\u3044\u304A\u3093","\u3044\u304B\u3099\u3044","\u3044\u304B\u3099\u304F","\u3044\u304D\u304A\u3044","\u3044\u304D\u306A\u308A","\u3044\u304D\u3082\u306E","\u3044\u304D\u308B","\u3044\u304F\u3057\u3099","\u3044\u304F\u3075\u3099\u3093","\u3044\u3051\u306F\u3099\u306A","\u3044\u3051\u3093","\u3044\u3053\u3046","\u3044\u3053\u304F","\u3044\u3053\u3064","\u3044\u3055\u307E\u3057\u3044","\u3044\u3055\u3093","\u3044\u3057\u304D","\u3044\u3057\u3099\u3085\u3046","\u3044\u3057\u3099\u3087\u3046","\u3044\u3057\u3099\u308F\u308B","\u3044\u3059\u3099\u307F","\u3044\u3059\u3099\u308C","\u3044\u305B\u3044","\u3044\u305B\u3048\u3072\u3099","\u3044\u305B\u304B\u3044","\u3044\u305B\u304D","\u3044\u305B\u3099\u3093","\u3044\u305D\u3046\u308D\u3046","\u3044\u305D\u304B\u3099\u3057\u3044","\u3044\u305F\u3099\u3044","\u3044\u305F\u3099\u304F","\u3044\u305F\u3059\u3099\u3089","\u3044\u305F\u307F","\u3044\u305F\u308A\u3042","\u3044\u3061\u304A\u3046","\u3044\u3061\u3057\u3099","\u3044\u3061\u3068\u3099","\u3044\u3061\u306F\u3099","\u3044\u3061\u3075\u3099","\u3044\u3061\u308A\u3085\u3046","\u3044\u3064\u304B","\u3044\u3063\u3057\u3085\u3093","\u3044\u3063\u305B\u3044","\u3044\u3063\u305D\u3046","\u3044\u3063\u305F\u3093","\u3044\u3063\u3061","\u3044\u3063\u3066\u3044","\u3044\u3063\u307B\u309A\u3046","\u3044\u3066\u3055\u3099","\u3044\u3066\u3093","\u3044\u3068\u3099\u3046","\u3044\u3068\u3053","\u3044\u306A\u3044","\u3044\u306A\u304B","\u3044\u306D\u3080\u308A","\u3044\u306E\u3061","\u3044\u306E\u308B","\u3044\u306F\u3064","\u3044\u306F\u3099\u308B","\u3044\u306F\u3093","\u3044\u3072\u3099\u304D","\u3044\u3072\u3093","\u3044\u3075\u304F","\u3044\u3078\u3093","\u3044\u307B\u3046","\u3044\u307F\u3093","\u3044\u3082\u3046\u3068","\u3044\u3082\u305F\u308C","\u3044\u3082\u308A","\u3044\u3084\u304B\u3099\u308B","\u3044\u3084\u3059","\u3044\u3088\u304B\u3093","\u3044\u3088\u304F","\u3044\u3089\u3044","\u3044\u3089\u3059\u3068","\u3044\u308A\u304F\u3099\u3061","\u3044\u308A\u3087\u3046","\u3044\u308C\u3044","\u3044\u308C\u3082\u306E","\u3044\u308C\u308B","\u3044\u308D\u3048\u3093\u3072\u309A\u3064","\u3044\u308F\u3044","\u3044\u308F\u3046","\u3044\u308F\u304B\u3093","\u3044\u308F\u306F\u3099","\u3044\u308F\u3086\u308B","\u3044\u3093\u3051\u3099\u3093\u307E\u3081","\u3044\u3093\u3055\u3064","\u3044\u3093\u3057\u3087\u3046","\u3044\u3093\u3088\u3046","\u3046\u3048\u304D","\u3046\u3048\u308B","\u3046\u304A\u3055\u3099","\u3046\u304B\u3099\u3044","\u3046\u304B\u3075\u3099","\u3046\u304B\u3078\u3099\u308B","\u3046\u304D\u308F","\u3046\u304F\u3089\u3044\u306A","\u3046\u304F\u308C\u308C","\u3046\u3051\u305F\u307E\u308F\u308B","\u3046\u3051\u3064\u3051","\u3046\u3051\u3068\u308B","\u3046\u3051\u3082\u3064","\u3046\u3051\u308B","\u3046\u3053\u3099\u304B\u3059","\u3046\u3053\u3099\u304F","\u3046\u3053\u3093","\u3046\u3055\u304D\u3099","\u3046\u3057\u306A\u3046","\u3046\u3057\u308D\u304B\u3099\u307F","\u3046\u3059\u3044","\u3046\u3059\u304D\u3099","\u3046\u3059\u304F\u3099\u3089\u3044","\u3046\u3059\u3081\u308B","\u3046\u305B\u3064","\u3046\u3061\u3042\u308F\u305B","\u3046\u3061\u304B\u3099\u308F","\u3046\u3061\u304D","\u3046\u3061\u3085\u3046","\u3046\u3063\u304B\u308A","\u3046\u3064\u304F\u3057\u3044","\u3046\u3063\u305F\u3048\u308B","\u3046\u3064\u308B","\u3046\u3068\u3099\u3093","\u3046\u306A\u304D\u3099","\u3046\u306A\u3057\u3099","\u3046\u306A\u3059\u3099\u304F","\u3046\u306A\u308B","\u3046\u306D\u308B","\u3046\u306E\u3046","\u3046\u3075\u3099\u3051\u3099","\u3046\u3075\u3099\u3053\u3099\u3048","\u3046\u307E\u308C\u308B","\u3046\u3081\u308B","\u3046\u3082\u3046","\u3046\u3084\u307E\u3046","\u3046\u3088\u304F","\u3046\u3089\u304B\u3099\u3048\u3059","\u3046\u3089\u304F\u3099\u3061","\u3046\u3089\u306A\u3044","\u3046\u308A\u3042\u3051\u3099","\u3046\u308A\u304D\u308C","\u3046\u308B\u3055\u3044","\u3046\u308C\u3057\u3044","\u3046\u308C\u3086\u304D","\u3046\u308C\u308B","\u3046\u308D\u3053","\u3046\u308F\u304D","\u3046\u308F\u3055","\u3046\u3093\u3053\u3046","\u3046\u3093\u3061\u3093","\u3046\u3093\u3066\u3093","\u3046\u3093\u3068\u3099\u3046","\u3048\u3044\u3048\u3093","\u3048\u3044\u304B\u3099","\u3048\u3044\u304D\u3087\u3046","\u3048\u3044\u3053\u3099","\u3048\u3044\u305B\u3044","\u3048\u3044\u3075\u3099\u3093","\u3048\u3044\u3088\u3046","\u3048\u3044\u308F","\u3048\u304A\u308A","\u3048\u304B\u3099\u304A","\u3048\u304B\u3099\u304F","\u3048\u304D\u305F\u3044","\u3048\u304F\u305B\u308B","\u3048\u3057\u3083\u304F","\u3048\u3059\u3066","\u3048\u3064\u3089\u3093","\u3048\u306E\u304F\u3099","\u3048\u307B\u3046\u307E\u304D","\u3048\u307B\u3093","\u3048\u307E\u304D","\u3048\u3082\u3057\u3099","\u3048\u3082\u306E","\u3048\u3089\u3044","\u3048\u3089\u3075\u3099","\u3048\u308A\u3042","\u3048\u3093\u3048\u3093","\u3048\u3093\u304B\u3044","\u3048\u3093\u304D\u3099","\u3048\u3093\u3051\u3099\u304D","\u3048\u3093\u3057\u3085\u3046","\u3048\u3093\u305B\u3099\u3064","\u3048\u3093\u305D\u304F","\u3048\u3093\u3061\u3087\u3046","\u3048\u3093\u3068\u3064","\u304A\u3044\u304B\u3051\u308B","\u304A\u3044\u3053\u3059","\u304A\u3044\u3057\u3044","\u304A\u3044\u3064\u304F","\u304A\u3046\u3048\u3093","\u304A\u3046\u3055\u307E","\u304A\u3046\u3057\u3099","\u304A\u3046\u305B\u3064","\u304A\u3046\u305F\u3044","\u304A\u3046\u3075\u304F","\u304A\u3046\u3078\u3099\u3044","\u304A\u3046\u3088\u3046","\u304A\u3048\u308B","\u304A\u304A\u3044","\u304A\u304A\u3046","\u304A\u304A\u3068\u3099\u304A\u308A","\u304A\u304A\u3084","\u304A\u304A\u3088\u305D","\u304A\u304B\u3048\u308A","\u304A\u304B\u3059\u3099","\u304A\u304B\u3099\u3080","\u304A\u304B\u308F\u308A","\u304A\u304D\u3099\u306A\u3046","\u304A\u304D\u308B","\u304A\u304F\u3055\u307E","\u304A\u304F\u3057\u3099\u3087\u3046","\u304A\u304F\u308A\u304B\u3099\u306A","\u304A\u304F\u308B","\u304A\u304F\u308C\u308B","\u304A\u3053\u3059","\u304A\u3053\u306A\u3046","\u304A\u3053\u308B","\u304A\u3055\u3048\u308B","\u304A\u3055\u306A\u3044","\u304A\u3055\u3081\u308B","\u304A\u3057\u3044\u308C","\u304A\u3057\u3048\u308B","\u304A\u3057\u3099\u304D\u3099","\u304A\u3057\u3099\u3055\u3093","\u304A\u3057\u3083\u308C","\u304A\u305D\u3089\u304F","\u304A\u305D\u308F\u308B","\u304A\u305F\u304B\u3099\u3044","\u304A\u305F\u304F","\u304A\u305F\u3099\u3084\u304B","\u304A\u3061\u3064\u304F","\u304A\u3063\u3068","\u304A\u3064\u308A","\u304A\u3066\u3099\u304B\u3051","\u304A\u3068\u3057\u3082\u306E","\u304A\u3068\u306A\u3057\u3044","\u304A\u3068\u3099\u308A","\u304A\u3068\u3099\u308D\u304B\u3059","\u304A\u306F\u3099\u3055\u3093","\u304A\u307E\u3044\u308A","\u304A\u3081\u3066\u3099\u3068\u3046","\u304A\u3082\u3044\u3066\u3099","\u304A\u3082\u3046","\u304A\u3082\u305F\u3044","\u304A\u3082\u3061\u3083","\u304A\u3084\u3064","\u304A\u3084\u3086\u3072\u3099","\u304A\u3088\u307B\u3099\u3059","\u304A\u3089\u3093\u305F\u3099","\u304A\u308D\u3059","\u304A\u3093\u304B\u3099\u304F","\u304A\u3093\u3051\u3044","\u304A\u3093\u3057\u3083","\u304A\u3093\u305B\u3093","\u304A\u3093\u305F\u3099\u3093","\u304A\u3093\u3061\u3085\u3046","\u304A\u3093\u3068\u3099\u3051\u3044","\u304B\u3042\u3064","\u304B\u3044\u304B\u3099","\u304B\u3099\u3044\u304D","\u304B\u3099\u3044\u3051\u3093","\u304B\u3099\u3044\u3053\u3046","\u304B\u3044\u3055\u3064","\u304B\u3044\u3057\u3083","\u304B\u3044\u3059\u3044\u3088\u304F","\u304B\u3044\u305B\u3099\u3093","\u304B\u3044\u305D\u3099\u3046\u3068\u3099","\u304B\u3044\u3064\u3046","\u304B\u3044\u3066\u3093","\u304B\u3044\u3068\u3046","\u304B\u3044\u3075\u304F","\u304B\u3099\u3044\u3078\u304D","\u304B\u3044\u307B\u3046","\u304B\u3044\u3088\u3046","\u304B\u3099\u3044\u3089\u3044","\u304B\u3044\u308F","\u304B\u3048\u308B","\u304B\u304A\u308A","\u304B\u304B\u3048\u308B","\u304B\u304B\u3099\u304F","\u304B\u304B\u3099\u3057","\u304B\u304B\u3099\u307F","\u304B\u304F\u3053\u3099","\u304B\u304F\u3068\u304F","\u304B\u3055\u3099\u308B","\u304B\u3099\u305D\u3099\u3046","\u304B\u305F\u3044","\u304B\u305F\u3061","\u304B\u3099\u3061\u3087\u3046","\u304B\u3099\u3063\u304D\u3085\u3046","\u304B\u3099\u3063\u3053\u3046","\u304B\u3099\u3063\u3055\u3093","\u304B\u3099\u3063\u3057\u3087\u3046","\u304B\u306A\u3055\u3099\u308F\u3057","\u304B\u306E\u3046","\u304B\u3099\u306F\u304F","\u304B\u3075\u3099\u304B","\u304B\u307B\u3046","\u304B\u307B\u3053\u3099","\u304B\u307E\u3046","\u304B\u307E\u307B\u3099\u3053","\u304B\u3081\u308C\u304A\u3093","\u304B\u3086\u3044","\u304B\u3088\u3046\u3072\u3099","\u304B\u3089\u3044","\u304B\u308B\u3044","\u304B\u308D\u3046","\u304B\u308F\u304F","\u304B\u308F\u3089","\u304B\u3099\u3093\u304B","\u304B\u3093\u3051\u3044","\u304B\u3093\u3053\u3046","\u304B\u3093\u3057\u3083","\u304B\u3093\u305D\u3046","\u304B\u3093\u305F\u3093","\u304B\u3093\u3061","\u304B\u3099\u3093\u306F\u3099\u308B","\u304D\u3042\u3044","\u304D\u3042\u3064","\u304D\u3044\u308D","\u304D\u3099\u3044\u3093","\u304D\u3046\u3044","\u304D\u3046\u3093","\u304D\u3048\u308B","\u304D\u304A\u3046","\u304D\u304A\u304F","\u304D\u304A\u3061","\u304D\u304A\u3093","\u304D\u304B\u3044","\u304D\u304B\u304F","\u304D\u304B\u3093\u3057\u3083","\u304D\u304D\u3066","\u304D\u304F\u306F\u3099\u308A","\u304D\u304F\u3089\u3051\u3099","\u304D\u3051\u3093\u305B\u3044","\u304D\u3053\u3046","\u304D\u3053\u3048\u308B","\u304D\u3053\u304F","\u304D\u3055\u3044","\u304D\u3055\u304F","\u304D\u3055\u307E","\u304D\u3055\u3089\u304D\u3099","\u304D\u3099\u3057\u3099\u304B\u304B\u3099\u304F","\u304D\u3099\u3057\u304D","\u304D\u3099\u3057\u3099\u305F\u3044\u3051\u3093","\u304D\u3099\u3057\u3099\u306B\u3063\u3066\u3044","\u304D\u3099\u3057\u3099\u3085\u3064\u3057\u3083","\u304D\u3059\u3046","\u304D\u305B\u3044","\u304D\u305B\u304D","\u304D\u305B\u3064","\u304D\u305D\u3046","\u304D\u305D\u3099\u304F","\u304D\u305D\u3099\u3093","\u304D\u305F\u3048\u308B","\u304D\u3061\u3087\u3046","\u304D\u3064\u3048\u3093","\u304D\u3099\u3063\u3061\u308A","\u304D\u3064\u3064\u304D","\u304D\u3064\u306D","\u304D\u3066\u3044","\u304D\u3068\u3099\u3046","\u304D\u3068\u3099\u304F","\u304D\u306A\u3044","\u304D\u306A\u304B\u3099","\u304D\u306A\u3053","\u304D\u306C\u3053\u3099\u3057","\u304D\u306D\u3093","\u304D\u306E\u3046","\u304D\u306E\u3057\u305F","\u304D\u306F\u304F","\u304D\u3072\u3099\u3057\u3044","\u304D\u3072\u3093","\u304D\u3075\u304F","\u304D\u3075\u3099\u3093","\u304D\u307B\u3099\u3046","\u304D\u307B\u3093","\u304D\u307E\u308B","\u304D\u307F\u3064","\u304D\u3080\u3059\u3099\u304B\u3057\u3044","\u304D\u3081\u308B","\u304D\u3082\u305F\u3099\u3081\u3057","\u304D\u3082\u3061","\u304D\u3082\u306E","\u304D\u3083\u304F","\u304D\u3084\u304F","\u304D\u3099\u3085\u3046\u306B\u304F","\u304D\u3088\u3046","\u304D\u3087\u3046\u308A\u3085\u3046","\u304D\u3089\u3044","\u304D\u3089\u304F","\u304D\u308A\u3093","\u304D\u308C\u3044","\u304D\u308C\u3064","\u304D\u308D\u304F","\u304D\u3099\u308D\u3093","\u304D\u308F\u3081\u308B","\u304D\u3099\u3093\u3044\u308D","\u304D\u3093\u304B\u304F\u3057\u3099","\u304D\u3093\u3057\u3099\u3087","\u304D\u3093\u3088\u3046\u3072\u3099","\u304F\u3099\u3042\u3044","\u304F\u3044\u3059\u3099","\u304F\u3046\u304B\u3093","\u304F\u3046\u304D","\u304F\u3046\u304F\u3099\u3093","\u304F\u3046\u3053\u3046","\u304F\u3099\u3046\u305B\u3044","\u304F\u3046\u305D\u3046","\u304F\u3099\u3046\u305F\u3089","\u304F\u3046\u3075\u304F","\u304F\u3046\u307B\u3099","\u304F\u304B\u3093","\u304F\u304D\u3087\u3046","\u304F\u3051\u3099\u3093","\u304F\u3099\u3053\u3046","\u304F\u3055\u3044","\u304F\u3055\u304D","\u304F\u3055\u306F\u3099\u306A","\u304F\u3055\u308B","\u304F\u3057\u3083\u307F","\u304F\u3057\u3087\u3046","\u304F\u3059\u306E\u304D","\u304F\u3059\u308A\u3086\u3072\u3099","\u304F\u305B\u3051\u3099","\u304F\u305B\u3093","\u304F\u3099\u305F\u3044\u3066\u304D","\u304F\u305F\u3099\u3055\u308B","\u304F\u305F\u3072\u3099\u308C\u308B","\u304F\u3061\u3053\u307F","\u304F\u3061\u3055\u304D","\u304F\u3064\u3057\u305F","\u304F\u3099\u3063\u3059\u308A","\u304F\u3064\u308D\u304F\u3099","\u304F\u3068\u3046\u3066\u3093","\u304F\u3068\u3099\u304F","\u304F\u306A\u3093","\u304F\u306D\u304F\u306D","\u304F\u306E\u3046","\u304F\u3075\u3046","\u304F\u307F\u3042\u308F\u305B","\u304F\u307F\u305F\u3066\u308B","\u304F\u3081\u308B","\u304F\u3084\u304F\u3057\u3087","\u304F\u3089\u3059","\u304F\u3089\u3078\u3099\u308B","\u304F\u308B\u307E","\u304F\u308C\u308B","\u304F\u308D\u3046","\u304F\u308F\u3057\u3044","\u304F\u3099\u3093\u304B\u3093","\u304F\u3099\u3093\u3057\u3087\u304F","\u304F\u3099\u3093\u305F\u3044","\u304F\u3099\u3093\u3066","\u3051\u3042\u306A","\u3051\u3044\u304B\u304F","\u3051\u3044\u3051\u3093","\u3051\u3044\u3053","\u3051\u3044\u3055\u3064","\u3051\u3099\u3044\u3057\u3099\u3085\u3064","\u3051\u3044\u305F\u3044","\u3051\u3099\u3044\u306E\u3046\u3057\u3099\u3093","\u3051\u3044\u308C\u304D","\u3051\u3044\u308D","\u3051\u304A\u3068\u3059","\u3051\u304A\u308A\u3082\u306E","\u3051\u3099\u304D\u304B","\u3051\u3099\u304D\u3051\u3099\u3093","\u3051\u3099\u304D\u305F\u3099\u3093","\u3051\u3099\u304D\u3061\u3093","\u3051\u3099\u304D\u3068\u3064","\u3051\u3099\u304D\u306F","\u3051\u3099\u304D\u3084\u304F","\u3051\u3099\u3053\u3046","\u3051\u3099\u3053\u304F\u3057\u3099\u3087\u3046","\u3051\u3099\u3055\u3099\u3044","\u3051\u3055\u304D","\u3051\u3099\u3055\u3099\u3093","\u3051\u3057\u304D","\u3051\u3057\u3053\u3099\u3080","\u3051\u3057\u3087\u3046","\u3051\u3099\u3059\u3068","\u3051\u305F\u306F\u3099","\u3051\u3061\u3083\u3063\u3075\u309A","\u3051\u3061\u3089\u3059","\u3051\u3064\u3042\u3064","\u3051\u3064\u3044","\u3051\u3064\u3048\u304D","\u3051\u3063\u3053\u3093","\u3051\u3064\u3057\u3099\u3087","\u3051\u3063\u305B\u304D","\u3051\u3063\u3066\u3044","\u3051\u3064\u307E\u3064","\u3051\u3099\u3064\u3088\u3046\u3072\u3099","\u3051\u3099\u3064\u308C\u3044","\u3051\u3064\u308D\u3093","\u3051\u3099\u3068\u3099\u304F","\u3051\u3068\u306F\u3099\u3059","\u3051\u3068\u308B","\u3051\u306A\u3051\u3099","\u3051\u306A\u3059","\u3051\u306A\u307F","\u3051\u306C\u304D","\u3051\u3099\u306D\u3064","\u3051\u306D\u3093","\u3051\u306F\u3044","\u3051\u3099\u3072\u3093","\u3051\u3075\u3099\u304B\u3044","\u3051\u3099\u307B\u3099\u304F","\u3051\u307E\u308A","\u3051\u307F\u304B\u308B","\u3051\u3080\u3057","\u3051\u3080\u308A","\u3051\u3082\u306E","\u3051\u3089\u3044","\u3051\u308D\u3051\u308D","\u3051\u308F\u3057\u3044","\u3051\u3093\u3044","\u3051\u3093\u3048\u3064","\u3051\u3093\u304A","\u3051\u3093\u304B","\u3051\u3099\u3093\u304D","\u3051\u3093\u3051\u3099\u3093","\u3051\u3093\u3053\u3046","\u3051\u3093\u3055\u304F","\u3051\u3093\u3057\u3085\u3046","\u3051\u3093\u3059\u3046","\u3051\u3099\u3093\u305D\u3046","\u3051\u3093\u3061\u304F","\u3051\u3093\u3066\u3044","\u3051\u3093\u3068\u3046","\u3051\u3093\u306A\u3044","\u3051\u3093\u306B\u3093","\u3051\u3099\u3093\u3075\u3099\u3064","\u3051\u3093\u307E","\u3051\u3093\u307F\u3093","\u3051\u3093\u3081\u3044","\u3051\u3093\u3089\u3093","\u3051\u3093\u308A","\u3053\u3042\u304F\u307E","\u3053\u3044\u306C","\u3053\u3044\u3072\u3099\u3068","\u3053\u3099\u3046\u3044","\u3053\u3046\u3048\u3093","\u3053\u3046\u304A\u3093","\u3053\u3046\u304B\u3093","\u3053\u3099\u3046\u304D\u3085\u3046","\u3053\u3099\u3046\u3051\u3044","\u3053\u3046\u3053\u3046","\u3053\u3046\u3055\u3044","\u3053\u3046\u3057\u3099","\u3053\u3046\u3059\u3044","\u3053\u3099\u3046\u305B\u3044","\u3053\u3046\u305D\u304F","\u3053\u3046\u305F\u3044","\u3053\u3046\u3061\u3083","\u3053\u3046\u3064\u3046","\u3053\u3046\u3066\u3044","\u3053\u3046\u3068\u3099\u3046","\u3053\u3046\u306A\u3044","\u3053\u3046\u306F\u3044","\u3053\u3099\u3046\u307B\u3046","\u3053\u3099\u3046\u307E\u3093","\u3053\u3046\u3082\u304F","\u3053\u3046\u308A\u3064","\u3053\u3048\u308B","\u3053\u304A\u308A","\u3053\u3099\u304B\u3044","\u3053\u3099\u304B\u3099\u3064","\u3053\u3099\u304B\u3093","\u3053\u304F\u3053\u3099","\u3053\u304F\u3055\u3044","\u3053\u304F\u3068\u3046","\u3053\u304F\u306A\u3044","\u3053\u304F\u306F\u304F","\u3053\u304F\u3099\u307E","\u3053\u3051\u3044","\u3053\u3051\u308B","\u3053\u3053\u306E\u304B","\u3053\u3053\u308D","\u3053\u3055\u3081","\u3053\u3057\u3064","\u3053\u3059\u3046","\u3053\u305B\u3044","\u3053\u305B\u304D","\u3053\u305B\u3099\u3093","\u3053\u305D\u305F\u3099\u3066","\u3053\u305F\u3044","\u3053\u305F\u3048\u308B","\u3053\u305F\u3064","\u3053\u3061\u3087\u3046","\u3053\u3063\u304B","\u3053\u3064\u3053\u3064","\u3053\u3064\u306F\u3099\u3093","\u3053\u3064\u3075\u3099","\u3053\u3066\u3044","\u3053\u3066\u3093","\u3053\u3068\u304B\u3099\u3089","\u3053\u3068\u3057","\u3053\u3068\u306F\u3099","\u3053\u3068\u308A","\u3053\u306A\u3053\u3099\u306A","\u3053\u306D\u3053\u306D","\u3053\u306E\u307E\u307E","\u3053\u306E\u307F","\u3053\u306E\u3088","\u3053\u3099\u306F\u3093","\u3053\u3072\u3064\u3057\u3099","\u3053\u3075\u3046","\u3053\u3075\u3093","\u3053\u307B\u3099\u308C\u308B","\u3053\u3099\u307E\u3042\u3075\u3099\u3089","\u3053\u307E\u304B\u3044","\u3053\u3099\u307E\u3059\u308A","\u3053\u307E\u3064\u306A","\u3053\u307E\u308B","\u3053\u3080\u304D\u3099\u3053","\u3053\u3082\u3057\u3099","\u3053\u3082\u3061","\u3053\u3082\u306E","\u3053\u3082\u3093","\u3053\u3084\u304F","\u3053\u3084\u307E","\u3053\u3086\u3046","\u3053\u3086\u3072\u3099","\u3053\u3088\u3044","\u3053\u3088\u3046","\u3053\u308A\u308B","\u3053\u308C\u304F\u3057\u3087\u3093","\u3053\u308D\u3063\u3051","\u3053\u308F\u3082\u3066","\u3053\u308F\u308C\u308B","\u3053\u3093\u3044\u3093","\u3053\u3093\u304B\u3044","\u3053\u3093\u304D","\u3053\u3093\u3057\u3085\u3046","\u3053\u3093\u3059\u3044","\u3053\u3093\u305F\u3099\u3066","\u3053\u3093\u3068\u3093","\u3053\u3093\u306A\u3093","\u3053\u3093\u3072\u3099\u306B","\u3053\u3093\u307B\u309A\u3093","\u3053\u3093\u307E\u3051","\u3053\u3093\u3084","\u3053\u3093\u308C\u3044","\u3053\u3093\u308F\u304F","\u3055\u3099\u3044\u3048\u304D","\u3055\u3044\u304B\u3044","\u3055\u3044\u304D\u3093","\u3055\u3099\u3044\u3051\u3099\u3093","\u3055\u3099\u3044\u3053","\u3055\u3044\u3057\u3087","\u3055\u3044\u305B\u3044","\u3055\u3099\u3044\u305F\u304F","\u3055\u3099\u3044\u3061\u3085\u3046","\u3055\u3044\u3066\u304D","\u3055\u3099\u3044\u308A\u3087\u3046","\u3055\u3046\u306A","\u3055\u304B\u3044\u3057","\u3055\u304B\u3099\u3059","\u3055\u304B\u306A","\u3055\u304B\u307F\u3061","\u3055\u304B\u3099\u308B","\u3055\u304D\u3099\u3087\u3046","\u3055\u304F\u3057","\u3055\u304F\u3072\u3093","\u3055\u304F\u3089","\u3055\u3053\u304F","\u3055\u3053\u3064","\u3055\u3059\u3099\u304B\u308B","\u3055\u3099\u305B\u304D","\u3055\u305F\u3093","\u3055\u3064\u3048\u3044","\u3055\u3099\u3064\u304A\u3093","\u3055\u3099\u3063\u304B","\u3055\u3099\u3064\u304B\u3099\u304F","\u3055\u3063\u304D\u3087\u304F","\u3055\u3099\u3063\u3057","\u3055\u3064\u3057\u3099\u3093","\u3055\u3099\u3063\u305D\u3046","\u3055\u3064\u305F\u306F\u3099","\u3055\u3064\u307E\u3044\u3082","\u3055\u3066\u3044","\u3055\u3068\u3044\u3082","\u3055\u3068\u3046","\u3055\u3068\u304A\u3084","\u3055\u3068\u3057","\u3055\u3068\u308B","\u3055\u306E\u3046","\u3055\u306F\u3099\u304F","\u3055\u3072\u3099\u3057\u3044","\u3055\u3078\u3099\u3064","\u3055\u307B\u3046","\u3055\u307B\u3068\u3099","\u3055\u307E\u3059","\u3055\u307F\u3057\u3044","\u3055\u307F\u305F\u3099\u308C","\u3055\u3080\u3051","\u3055\u3081\u308B","\u3055\u3084\u3048\u3093\u3068\u3099\u3046","\u3055\u3086\u3046","\u3055\u3088\u3046","\u3055\u3088\u304F","\u3055\u3089\u305F\u3099","\u3055\u3099\u308B\u305D\u306F\u3099","\u3055\u308F\u3084\u304B","\u3055\u308F\u308B","\u3055\u3093\u3044\u3093","\u3055\u3093\u304B","\u3055\u3093\u304D\u3083\u304F","\u3055\u3093\u3053\u3046","\u3055\u3093\u3055\u3044","\u3055\u3099\u3093\u3057\u3087","\u3055\u3093\u3059\u3046","\u3055\u3093\u305B\u3044","\u3055\u3093\u305D","\u3055\u3093\u3061","\u3055\u3093\u307E","\u3055\u3093\u307F","\u3055\u3093\u3089\u3093","\u3057\u3042\u3044","\u3057\u3042\u3051\u3099","\u3057\u3042\u3055\u3063\u3066","\u3057\u3042\u308F\u305B","\u3057\u3044\u304F","\u3057\u3044\u3093","\u3057\u3046\u3061","\u3057\u3048\u3044","\u3057\u304A\u3051","\u3057\u304B\u3044","\u3057\u304B\u304F","\u3057\u3099\u304B\u3093","\u3057\u3053\u3099\u3068","\u3057\u3059\u3046","\u3057\u3099\u305F\u3099\u3044","\u3057\u305F\u3046\u3051","\u3057\u305F\u304D\u3099","\u3057\u305F\u3066","\u3057\u305F\u307F","\u3057\u3061\u3087\u3046","\u3057\u3061\u308A\u3093","\u3057\u3063\u304B\u308A","\u3057\u3064\u3057\u3099","\u3057\u3064\u3082\u3093","\u3057\u3066\u3044","\u3057\u3066\u304D","\u3057\u3066\u3064","\u3057\u3099\u3066\u3093","\u3057\u3099\u3068\u3099\u3046","\u3057\u306A\u304D\u3099\u308C","\u3057\u306A\u3082\u306E","\u3057\u306A\u3093","\u3057\u306D\u307E","\u3057\u306D\u3093","\u3057\u306E\u304F\u3099","\u3057\u306E\u3075\u3099","\u3057\u306F\u3044","\u3057\u306F\u3099\u304B\u308A","\u3057\u306F\u3064","\u3057\u306F\u3089\u3044","\u3057\u306F\u3093","\u3057\u3072\u3087\u3046","\u3057\u3075\u304F","\u3057\u3099\u3075\u3099\u3093","\u3057\u3078\u3044","\u3057\u307B\u3046","\u3057\u307B\u3093","\u3057\u307E\u3046","\u3057\u307E\u308B","\u3057\u307F\u3093","\u3057\u3080\u3051\u308B","\u3057\u3099\u3080\u3057\u3087","\u3057\u3081\u3044","\u3057\u3081\u308B","\u3057\u3082\u3093","\u3057\u3083\u3044\u3093","\u3057\u3083\u3046\u3093","\u3057\u3083\u304A\u3093","\u3057\u3099\u3083\u304B\u3099\u3044\u3082","\u3057\u3084\u304F\u3057\u3087","\u3057\u3083\u304F\u307B\u3046","\u3057\u3083\u3051\u3093","\u3057\u3083\u3053","\u3057\u3083\u3055\u3099\u3044","\u3057\u3083\u3057\u3093","\u3057\u3083\u305B\u3093","\u3057\u3083\u305D\u3046","\u3057\u3083\u305F\u3044","\u3057\u3083\u3061\u3087\u3046","\u3057\u3083\u3063\u304D\u3093","\u3057\u3099\u3083\u307E","\u3057\u3083\u308A\u3093","\u3057\u3083\u308C\u3044","\u3057\u3099\u3086\u3046","\u3057\u3099\u3085\u3046\u3057\u3087","\u3057\u3085\u304F\u306F\u304F","\u3057\u3099\u3085\u3057\u3093","\u3057\u3085\u3063\u305B\u304D","\u3057\u3085\u307F","\u3057\u3085\u3089\u306F\u3099","\u3057\u3099\u3085\u3093\u306F\u3099\u3093","\u3057\u3087\u3046\u304B\u3044","\u3057\u3087\u304F\u305F\u304F","\u3057\u3087\u3063\u3051\u3093","\u3057\u3087\u3068\u3099\u3046","\u3057\u3087\u3082\u3064","\u3057\u3089\u305B\u308B","\u3057\u3089\u3078\u3099\u308B","\u3057\u3093\u304B","\u3057\u3093\u3053\u3046","\u3057\u3099\u3093\u3057\u3099\u3083","\u3057\u3093\u305B\u3044\u3057\u3099","\u3057\u3093\u3061\u304F","\u3057\u3093\u308A\u3093","\u3059\u3042\u3051\u3099","\u3059\u3042\u3057","\u3059\u3042\u306A","\u3059\u3099\u3042\u3093","\u3059\u3044\u3048\u3044","\u3059\u3044\u304B","\u3059\u3044\u3068\u3046","\u3059\u3099\u3044\u3075\u3099\u3093","\u3059\u3044\u3088\u3046\u3072\u3099","\u3059\u3046\u304B\u3099\u304F","\u3059\u3046\u3057\u3099\u3064","\u3059\u3046\u305B\u3093","\u3059\u304A\u3068\u3099\u308A","\u3059\u304D\u307E","\u3059\u304F\u3046","\u3059\u304F\u306A\u3044","\u3059\u3051\u308B","\u3059\u3053\u3099\u3044","\u3059\u3053\u3057","\u3059\u3099\u3055\u3093","\u3059\u3059\u3099\u3057\u3044","\u3059\u3059\u3080","\u3059\u3059\u3081\u308B","\u3059\u3063\u304B\u308A","\u3059\u3099\u3063\u3057\u308A","\u3059\u3099\u3063\u3068","\u3059\u3066\u304D","\u3059\u3066\u308B","\u3059\u306D\u308B","\u3059\u306E\u3053","\u3059\u306F\u305F\u3099","\u3059\u306F\u3099\u3089\u3057\u3044","\u3059\u3099\u3072\u3087\u3046","\u3059\u3099\u3075\u3099\u306C\u308C","\u3059\u3075\u3099\u308A","\u3059\u3075\u308C","\u3059\u3078\u3099\u3066","\u3059\u3078\u3099\u308B","\u3059\u3099\u307B\u3046","\u3059\u307B\u3099\u3093","\u3059\u307E\u3044","\u3059\u3081\u3057","\u3059\u3082\u3046","\u3059\u3084\u304D","\u3059\u3089\u3059\u3089","\u3059\u308B\u3081","\u3059\u308C\u3061\u304B\u3099\u3046","\u3059\u308D\u3063\u3068","\u3059\u308F\u308B","\u3059\u3093\u305B\u3099\u3093","\u3059\u3093\u307B\u309A\u3046","\u305B\u3042\u3075\u3099\u3089","\u305B\u3044\u304B\u3064","\u305B\u3044\u3051\u3099\u3093","\u305B\u3044\u3057\u3099","\u305B\u3044\u3088\u3046","\u305B\u304A\u3046","\u305B\u304B\u3044\u304B\u3093","\u305B\u304D\u306B\u3093","\u305B\u304D\u3080","\u305B\u304D\u3086","\u305B\u304D\u3089\u3093\u3046\u3093","\u305B\u3051\u3093","\u305B\u3053\u3046","\u305B\u3059\u3057\u3099","\u305B\u305F\u3044","\u305B\u305F\u3051","\u305B\u3063\u304B\u304F","\u305B\u3063\u304D\u3083\u304F","\u305B\u3099\u3063\u304F","\u305B\u3063\u3051\u3093","\u305B\u3063\u3053\u3064","\u305B\u3063\u3055\u305F\u304F\u307E","\u305B\u3064\u305D\u3099\u304F","\u305B\u3064\u305F\u3099\u3093","\u305B\u3064\u3066\u3099\u3093","\u305B\u3063\u306F\u309A\u3093","\u305B\u3064\u3072\u3099","\u305B\u3064\u3075\u3099\u3093","\u305B\u3064\u3081\u3044","\u305B\u3064\u308A\u3064","\u305B\u306A\u304B","\u305B\u306E\u3072\u3099","\u305B\u306F\u306F\u3099","\u305B\u3072\u3099\u308D","\u305B\u307B\u3099\u306D","\u305B\u307E\u3044","\u305B\u307E\u308B","\u305B\u3081\u308B","\u305B\u3082\u305F\u308C","\u305B\u308A\u3075","\u305B\u3099\u3093\u3042\u304F","\u305B\u3093\u3044","\u305B\u3093\u3048\u3044","\u305B\u3093\u304B","\u305B\u3093\u304D\u3087","\u305B\u3093\u304F","\u305B\u3093\u3051\u3099\u3093","\u305B\u3099\u3093\u3053\u3099","\u305B\u3093\u3055\u3044","\u305B\u3093\u3057\u3085","\u305B\u3093\u3059\u3044","\u305B\u3093\u305B\u3044","\u305B\u3093\u305D\u3099","\u305B\u3093\u305F\u304F","\u305B\u3093\u3061\u3087\u3046","\u305B\u3093\u3066\u3044","\u305B\u3093\u3068\u3046","\u305B\u3093\u306C\u304D","\u305B\u3093\u306D\u3093","\u305B\u3093\u306F\u309A\u3044","\u305B\u3099\u3093\u3075\u3099","\u305B\u3099\u3093\u307B\u309A\u3046","\u305B\u3093\u3080","\u305B\u3093\u3081\u3093\u3057\u3099\u3087","\u305B\u3093\u3082\u3093","\u305B\u3093\u3084\u304F","\u305B\u3093\u3086\u3046","\u305B\u3093\u3088\u3046","\u305B\u3099\u3093\u3089","\u305B\u3099\u3093\u308A\u3083\u304F","\u305B\u3093\u308C\u3044","\u305B\u3093\u308D","\u305D\u3042\u304F","\u305D\u3044\u3068\u3051\u3099\u308B","\u305D\u3044\u306D","\u305D\u3046\u304B\u3099\u3093\u304D\u3087\u3046","\u305D\u3046\u304D","\u305D\u3046\u3053\u3099","\u305D\u3046\u3057\u3093","\u305D\u3046\u305F\u3099\u3093","\u305D\u3046\u306A\u3093","\u305D\u3046\u3072\u3099","\u305D\u3046\u3081\u3093","\u305D\u3046\u308A","\u305D\u3048\u3082\u306E","\u305D\u3048\u3093","\u305D\u304B\u3099\u3044","\u305D\u3051\u3099\u304D","\u305D\u3053\u3046","\u305D\u3053\u305D\u3053","\u305D\u3055\u3099\u3044","\u305D\u3057\u306A","\u305D\u305B\u3044","\u305D\u305B\u3093","\u305D\u305D\u304F\u3099","\u305D\u305F\u3099\u3066\u308B","\u305D\u3064\u3046","\u305D\u3064\u3048\u3093","\u305D\u3063\u304B\u3093","\u305D\u3064\u304D\u3099\u3087\u3046","\u305D\u3063\u3051\u3064","\u305D\u3063\u3053\u3046","\u305D\u3063\u305B\u3093","\u305D\u3063\u3068","\u305D\u3068\u304B\u3099\u308F","\u305D\u3068\u3064\u3099\u3089","\u305D\u306A\u3048\u308B","\u305D\u306A\u305F","\u305D\u3075\u307B\u3099","\u305D\u307B\u3099\u304F","\u305D\u307B\u3099\u308D","\u305D\u307E\u3064","\u305D\u307E\u308B","\u305D\u3080\u304F","\u305D\u3080\u308A\u3048","\u305D\u3081\u308B","\u305D\u3082\u305D\u3082","\u305D\u3088\u304B\u305B\u3099","\u305D\u3089\u307E\u3081","\u305D\u308D\u3046","\u305D\u3093\u304B\u3044","\u305D\u3093\u3051\u3044","\u305D\u3093\u3055\u3099\u3044","\u305D\u3093\u3057\u3064","\u305D\u3093\u305D\u3099\u304F","\u305D\u3093\u3061\u3087\u3046","\u305D\u3099\u3093\u3072\u3099","\u305D\u3099\u3093\u3075\u3099\u3093","\u305D\u3093\u307F\u3093","\u305F\u3042\u3044","\u305F\u3044\u3044\u3093","\u305F\u3044\u3046\u3093","\u305F\u3044\u3048\u304D","\u305F\u3044\u304A\u3046","\u305F\u3099\u3044\u304B\u3099\u304F","\u305F\u3044\u304D","\u305F\u3044\u304F\u3099\u3046","\u305F\u3044\u3051\u3093","\u305F\u3044\u3053","\u305F\u3044\u3055\u3099\u3044","\u305F\u3099\u3044\u3057\u3099\u3087\u3046\u3075\u3099","\u305F\u3099\u3044\u3059\u304D","\u305F\u3044\u305B\u3064","\u305F\u3044\u305D\u3046","\u305F\u3099\u3044\u305F\u3044","\u305F\u3044\u3061\u3087\u3046","\u305F\u3044\u3066\u3044","\u305F\u3099\u3044\u3068\u3099\u3053\u308D","\u305F\u3044\u306A\u3044","\u305F\u3044\u306D\u3064","\u305F\u3044\u306E\u3046","\u305F\u3044\u306F\u3093","\u305F\u3099\u3044\u3072\u3087\u3046","\u305F\u3044\u3075\u3046","\u305F\u3044\u3078\u3093","\u305F\u3044\u307B","\u305F\u3044\u307E\u3064\u306F\u3099\u306A","\u305F\u3044\u307F\u3093\u304F\u3099","\u305F\u3044\u3080","\u305F\u3044\u3081\u3093","\u305F\u3044\u3084\u304D","\u305F\u3044\u3088\u3046","\u305F\u3044\u3089","\u305F\u3044\u308A\u3087\u304F","\u305F\u3044\u308B","\u305F\u3044\u308F\u3093","\u305F\u3046\u3048","\u305F\u3048\u308B","\u305F\u304A\u3059","\u305F\u304A\u308B","\u305F\u304A\u308C\u308B","\u305F\u304B\u3044","\u305F\u304B\u306D","\u305F\u304D\u3072\u3099","\u305F\u304F\u3055\u3093","\u305F\u3053\u304F","\u305F\u3053\u3084\u304D","\u305F\u3055\u3044","\u305F\u3057\u3055\u3099\u3093","\u305F\u3099\u3057\u3099\u3083\u308C","\u305F\u3059\u3051\u308B","\u305F\u3059\u3099\u3055\u308F\u308B","\u305F\u305D\u304B\u3099\u308C","\u305F\u305F\u304B\u3046","\u305F\u305F\u304F","\u305F\u305F\u3099\u3057\u3044","\u305F\u305F\u307F","\u305F\u3061\u306F\u3099\u306A","\u305F\u3099\u3063\u304B\u3044","\u305F\u3099\u3063\u304D\u3083\u304F","\u305F\u3099\u3063\u3053","\u305F\u3099\u3063\u3057\u3085\u3064","\u305F\u3099\u3063\u305F\u3044","\u305F\u3066\u308B","\u305F\u3068\u3048\u308B","\u305F\u306A\u306F\u3099\u305F","\u305F\u306B\u3093","\u305F\u306C\u304D","\u305F\u306E\u3057\u307F","\u305F\u306F\u3064","\u305F\u3075\u3099\u3093","\u305F\u3078\u3099\u308B","\u305F\u307B\u3099\u3046","\u305F\u307E\u3053\u3099","\u305F\u307E\u308B","\u305F\u3099\u3080\u308B","\u305F\u3081\u3044\u304D","\u305F\u3081\u3059","\u305F\u3081\u308B","\u305F\u3082\u3064","\u305F\u3084\u3059\u3044","\u305F\u3088\u308B","\u305F\u3089\u3059","\u305F\u308A\u304D\u307B\u3093\u304B\u3099\u3093","\u305F\u308A\u3087\u3046","\u305F\u308A\u308B","\u305F\u308B\u3068","\u305F\u308C\u308B","\u305F\u308C\u3093\u3068","\u305F\u308D\u3063\u3068","\u305F\u308F\u3080\u308C\u308B","\u305F\u3099\u3093\u3042\u3064","\u305F\u3093\u3044","\u305F\u3093\u304A\u3093","\u305F\u3093\u304B","\u305F\u3093\u304D","\u305F\u3093\u3051\u3093","\u305F\u3093\u3053\u3099","\u305F\u3093\u3055\u3093","\u305F\u3093\u3057\u3099\u3087\u3046\u3072\u3099","\u305F\u3099\u3093\u305B\u3044","\u305F\u3093\u305D\u304F","\u305F\u3093\u305F\u3044","\u305F\u3099\u3093\u3061","\u305F\u3093\u3066\u3044","\u305F\u3093\u3068\u3046","\u305F\u3099\u3093\u306A","\u305F\u3093\u306B\u3093","\u305F\u3099\u3093\u306D\u3064","\u305F\u3093\u306E\u3046","\u305F\u3093\u3072\u309A\u3093","\u305F\u3099\u3093\u307B\u3099\u3046","\u305F\u3093\u307E\u3064","\u305F\u3093\u3081\u3044","\u305F\u3099\u3093\u308C\u3064","\u305F\u3099\u3093\u308D","\u305F\u3099\u3093\u308F","\u3061\u3042\u3044","\u3061\u3042\u3093","\u3061\u3044\u304D","\u3061\u3044\u3055\u3044","\u3061\u3048\u3093","\u3061\u304B\u3044","\u3061\u304B\u3089","\u3061\u304D\u3085\u3046","\u3061\u304D\u3093","\u3061\u3051\u3044\u3059\u3099","\u3061\u3051\u3093","\u3061\u3053\u304F","\u3061\u3055\u3044","\u3061\u3057\u304D","\u3061\u3057\u308A\u3087\u3046","\u3061\u305B\u3044","\u3061\u305D\u3046","\u3061\u305F\u3044","\u3061\u305F\u3093","\u3061\u3061\u304A\u3084","\u3061\u3064\u3057\u3099\u3087","\u3061\u3066\u304D","\u3061\u3066\u3093","\u3061\u306C\u304D","\u3061\u306C\u308A","\u3061\u306E\u3046","\u3061\u3072\u3087\u3046","\u3061\u3078\u3044\u305B\u3093","\u3061\u307B\u3046","\u3061\u307E\u305F","\u3061\u307F\u3064","\u3061\u307F\u3068\u3099\u308D","\u3061\u3081\u3044\u3068\u3099","\u3061\u3083\u3093\u3053\u306A\u3078\u3099","\u3061\u3085\u3046\u3044","\u3061\u3086\u308A\u3087\u304F","\u3061\u3087\u3046\u3057","\u3061\u3087\u3055\u304F\u3051\u3093","\u3061\u3089\u3057","\u3061\u3089\u307F","\u3061\u308A\u304B\u3099\u307F","\u3061\u308A\u3087\u3046","\u3061\u308B\u3068\u3099","\u3061\u308F\u308F","\u3061\u3093\u305F\u3044","\u3061\u3093\u3082\u304F","\u3064\u3044\u304B","\u3064\u3044\u305F\u3061","\u3064\u3046\u304B","\u3064\u3046\u3057\u3099\u3087\u3046","\u3064\u3046\u306F\u3093","\u3064\u3046\u308F","\u3064\u304B\u3046","\u3064\u304B\u308C\u308B","\u3064\u304F\u306D","\u3064\u304F\u308B","\u3064\u3051\u306D","\u3064\u3051\u308B","\u3064\u3053\u3099\u3046","\u3064\u305F\u3048\u308B","\u3064\u3064\u3099\u304F","\u3064\u3064\u3057\u3099","\u3064\u3064\u3080","\u3064\u3068\u3081\u308B","\u3064\u306A\u304B\u3099\u308B","\u3064\u306A\u307F","\u3064\u306D\u3064\u3099\u306D","\u3064\u306E\u308B","\u3064\u3075\u3099\u3059","\u3064\u307E\u3089\u306A\u3044","\u3064\u307E\u308B","\u3064\u307F\u304D","\u3064\u3081\u305F\u3044","\u3064\u3082\u308A","\u3064\u3082\u308B","\u3064\u3088\u3044","\u3064\u308B\u307B\u3099","\u3064\u308B\u307F\u304F","\u3064\u308F\u3082\u306E","\u3064\u308F\u308A","\u3066\u3042\u3057","\u3066\u3042\u3066","\u3066\u3042\u307F","\u3066\u3044\u304A\u3093","\u3066\u3044\u304B","\u3066\u3044\u304D","\u3066\u3044\u3051\u3044","\u3066\u3044\u3053\u304F","\u3066\u3044\u3055\u3064","\u3066\u3044\u3057","\u3066\u3044\u305B\u3044","\u3066\u3044\u305F\u3044","\u3066\u3044\u3068\u3099","\u3066\u3044\u306D\u3044","\u3066\u3044\u3072\u3087\u3046","\u3066\u3044\u3078\u3093","\u3066\u3044\u307B\u3099\u3046","\u3066\u3046\u3061","\u3066\u304A\u304F\u308C","\u3066\u304D\u3068\u3046","\u3066\u304F\u3072\u3099","\u3066\u3099\u3053\u307B\u3099\u3053","\u3066\u3055\u304D\u3099\u3087\u3046","\u3066\u3055\u3051\u3099","\u3066\u3059\u308A","\u3066\u305D\u3046","\u3066\u3061\u304B\u3099\u3044","\u3066\u3061\u3087\u3046","\u3066\u3064\u304B\u3099\u304F","\u3066\u3064\u3064\u3099\u304D","\u3066\u3099\u3063\u306F\u309A","\u3066\u3064\u307B\u3099\u3046","\u3066\u3064\u3084","\u3066\u3099\u306C\u304B\u3048","\u3066\u306C\u304D","\u3066\u306C\u304F\u3099\u3044","\u3066\u306E\u3072\u3089","\u3066\u306F\u3044","\u3066\u3075\u3099\u304F\u308D","\u3066\u3075\u305F\u3099","\u3066\u307B\u3068\u3099\u304D","\u3066\u307B\u3093","\u3066\u307E\u3048","\u3066\u307E\u304D\u3059\u3099\u3057","\u3066\u307F\u3057\u3099\u304B","\u3066\u307F\u3084\u3051\u3099","\u3066\u3089\u3059","\u3066\u308C\u3072\u3099","\u3066\u308F\u3051","\u3066\u308F\u305F\u3057","\u3066\u3099\u3093\u3042\u3064","\u3066\u3093\u3044\u3093","\u3066\u3093\u304B\u3044","\u3066\u3093\u304D","\u3066\u3093\u304F\u3099","\u3066\u3093\u3051\u3093","\u3066\u3093\u3053\u3099\u304F","\u3066\u3093\u3055\u3044","\u3066\u3093\u3057","\u3066\u3093\u3059\u3046","\u3066\u3099\u3093\u3061","\u3066\u3093\u3066\u304D","\u3066\u3093\u3068\u3046","\u3066\u3093\u306A\u3044","\u3066\u3093\u3075\u309A\u3089","\u3066\u3093\u307B\u3099\u3046\u305F\u3099\u3044","\u3066\u3093\u3081\u3064","\u3066\u3093\u3089\u3093\u304B\u3044","\u3066\u3099\u3093\u308A\u3087\u304F","\u3066\u3099\u3093\u308F","\u3068\u3099\u3042\u3044","\u3068\u3044\u308C","\u3068\u3099\u3046\u304B\u3093","\u3068\u3046\u304D\u3085\u3046","\u3068\u3099\u3046\u304F\u3099","\u3068\u3046\u3057","\u3068\u3046\u3080\u304D\u3099","\u3068\u304A\u3044","\u3068\u304A\u304B","\u3068\u304A\u304F","\u3068\u304A\u3059","\u3068\u304A\u308B","\u3068\u304B\u3044","\u3068\u304B\u3059","\u3068\u304D\u304A\u308A","\u3068\u304D\u3068\u3099\u304D","\u3068\u304F\u3044","\u3068\u304F\u3057\u3085\u3046","\u3068\u304F\u3066\u3093","\u3068\u304F\u306B","\u3068\u304F\u3078\u3099\u3064","\u3068\u3051\u3044","\u3068\u3051\u308B","\u3068\u3053\u3084","\u3068\u3055\u304B","\u3068\u3057\u3087\u304B\u3093","\u3068\u305D\u3046","\u3068\u305F\u3093","\u3068\u3061\u3085\u3046","\u3068\u3063\u304D\u3085\u3046","\u3068\u3063\u304F\u3093","\u3068\u3064\u305B\u3099\u3093","\u3068\u3064\u306B\u3085\u3046","\u3068\u3068\u3099\u3051\u308B","\u3068\u3068\u306E\u3048\u308B","\u3068\u306A\u3044","\u3068\u306A\u3048\u308B","\u3068\u306A\u308A","\u3068\u306E\u3055\u307E","\u3068\u306F\u3099\u3059","\u3068\u3099\u3075\u3099\u304B\u3099\u308F","\u3068\u307B\u3046","\u3068\u307E\u308B","\u3068\u3081\u308B","\u3068\u3082\u305F\u3099\u3061","\u3068\u3082\u308B","\u3068\u3099\u3088\u3046\u3072\u3099","\u3068\u3089\u3048\u308B","\u3068\u3093\u304B\u3064","\u3068\u3099\u3093\u3075\u3099\u308A","\u306A\u3044\u304B\u304F","\u306A\u3044\u3053\u3046","\u306A\u3044\u3057\u3087","\u306A\u3044\u3059","\u306A\u3044\u305B\u3093","\u306A\u3044\u305D\u3046","\u306A\u304A\u3059","\u306A\u304B\u3099\u3044","\u306A\u304F\u3059","\u306A\u3051\u3099\u308B","\u306A\u3053\u3046\u3068\u3099","\u306A\u3055\u3051","\u306A\u305F\u3066\u3099\u3053\u3053","\u306A\u3063\u3068\u3046","\u306A\u3064\u3084\u3059\u307F","\u306A\u306A\u304A\u3057","\u306A\u306B\u3053\u3099\u3068","\u306A\u306B\u3082\u306E","\u306A\u306B\u308F","\u306A\u306E\u304B","\u306A\u3075\u305F\u3099","\u306A\u307E\u3044\u304D","\u306A\u307E\u3048","\u306A\u307E\u307F","\u306A\u307F\u305F\u3099","\u306A\u3081\u3089\u304B","\u306A\u3081\u308B","\u306A\u3084\u3080","\u306A\u3089\u3046","\u306A\u3089\u3072\u3099","\u306A\u3089\u3075\u3099","\u306A\u308C\u308B","\u306A\u308F\u3068\u3072\u3099","\u306A\u308F\u306F\u3099\u308A","\u306B\u3042\u3046","\u306B\u3044\u304B\u3099\u305F","\u306B\u3046\u3051","\u306B\u304A\u3044","\u306B\u304B\u3044","\u306B\u304B\u3099\u3066","\u306B\u304D\u3072\u3099","\u306B\u304F\u3057\u307F","\u306B\u304F\u307E\u3093","\u306B\u3051\u3099\u308B","\u306B\u3055\u3093\u304B\u305F\u3093\u305D","\u306B\u3057\u304D","\u306B\u305B\u3082\u306E","\u306B\u3061\u3057\u3099\u3087\u3046","\u306B\u3061\u3088\u3046\u3072\u3099","\u306B\u3063\u304B","\u306B\u3063\u304D","\u306B\u3063\u3051\u3044","\u306B\u3063\u3053\u3046","\u306B\u3063\u3055\u3093","\u306B\u3063\u3057\u3087\u304F","\u306B\u3063\u3059\u3046","\u306B\u3063\u305B\u304D","\u306B\u3063\u3066\u3044","\u306B\u306A\u3046","\u306B\u307B\u3093","\u306B\u307E\u3081","\u306B\u3082\u3064","\u306B\u3084\u308A","\u306B\u3085\u3046\u3044\u3093","\u306B\u308A\u3093\u3057\u3083","\u306B\u308F\u3068\u308A","\u306B\u3093\u3044","\u306B\u3093\u304B","\u306B\u3093\u304D","\u306B\u3093\u3051\u3099\u3093","\u306B\u3093\u3057\u304D","\u306B\u3093\u3059\u3099\u3046","\u306B\u3093\u305D\u3046","\u306B\u3093\u305F\u3044","\u306B\u3093\u3061","\u306B\u3093\u3066\u3044","\u306B\u3093\u306B\u304F","\u306B\u3093\u3075\u309A","\u306B\u3093\u307E\u308A","\u306B\u3093\u3080","\u306B\u3093\u3081\u3044","\u306B\u3093\u3088\u3046","\u306C\u3044\u304F\u304D\u3099","\u306C\u304B\u3059","\u306C\u304F\u3099\u3044\u3068\u308B","\u306C\u304F\u3099\u3046","\u306C\u304F\u3082\u308A","\u306C\u3059\u3080","\u306C\u307E\u3048\u3072\u3099","\u306C\u3081\u308A","\u306C\u3089\u3059","\u306C\u3093\u3061\u3083\u304F","\u306D\u3042\u3051\u3099","\u306D\u3044\u304D","\u306D\u3044\u308B","\u306D\u3044\u308D","\u306D\u304F\u3099\u305B","\u306D\u304F\u305F\u3044","\u306D\u304F\u3089","\u306D\u3053\u305B\u3099","\u306D\u3053\u3080","\u306D\u3055\u3051\u3099","\u306D\u3059\u3053\u3099\u3059","\u306D\u305D\u3078\u3099\u308B","\u306D\u305F\u3099\u3093","\u306D\u3064\u3044","\u306D\u3063\u3057\u3093","\u306D\u3064\u305D\u3099\u3046","\u306D\u3063\u305F\u3044\u304D\u3099\u3087","\u306D\u3075\u3099\u305D\u304F","\u306D\u3075\u305F\u3099","\u306D\u307B\u3099\u3046","\u306D\u307B\u308A\u306F\u307B\u308A","\u306D\u307E\u304D","\u306D\u307E\u308F\u3057","\u306D\u307F\u307F","\u306D\u3080\u3044","\u306D\u3080\u305F\u3044","\u306D\u3082\u3068","\u306D\u3089\u3046","\u306D\u308F\u3055\u3099","\u306D\u3093\u3044\u308A","\u306D\u3093\u304A\u3057","\u306D\u3093\u304B\u3093","\u306D\u3093\u304D\u3093","\u306D\u3093\u304F\u3099","\u306D\u3093\u3055\u3099","\u306D\u3093\u3057","\u306D\u3093\u3061\u3083\u304F","\u306D\u3093\u3068\u3099","\u306D\u3093\u3072\u309A","\u306D\u3093\u3075\u3099\u3064","\u306D\u3093\u307E\u3064","\u306D\u3093\u308A\u3087\u3046","\u306D\u3093\u308C\u3044","\u306E\u3044\u3059\u3099","\u306E\u304A\u3064\u3099\u307E","\u306E\u304B\u3099\u3059","\u306E\u304D\u306A\u307F","\u306E\u3053\u304D\u3099\u308A","\u306E\u3053\u3059","\u306E\u3053\u308B","\u306E\u305B\u308B","\u306E\u305D\u3099\u304F","\u306E\u305D\u3099\u3080","\u306E\u305F\u307E\u3046","\u306E\u3061\u307B\u3068\u3099","\u306E\u3063\u304F","\u306E\u306F\u3099\u3059","\u306E\u306F\u3089","\u306E\u3078\u3099\u308B","\u306E\u307B\u3099\u308B","\u306E\u307F\u3082\u306E","\u306E\u3084\u307E","\u306E\u3089\u3044\u306C","\u306E\u3089\u306D\u3053","\u306E\u308A\u3082\u306E","\u306E\u308A\u3086\u304D","\u306E\u308C\u3093","\u306E\u3093\u304D","\u306F\u3099\u3042\u3044","\u306F\u3042\u304F","\u306F\u3099\u3042\u3055\u3093","\u306F\u3099\u3044\u304B","\u306F\u3099\u3044\u304F","\u306F\u3044\u3051\u3093","\u306F\u3044\u3053\u3099","\u306F\u3044\u3057\u3093","\u306F\u3044\u3059\u3044","\u306F\u3044\u305B\u3093","\u306F\u3044\u305D\u3046","\u306F\u3044\u3061","\u306F\u3099\u3044\u306F\u3099\u3044","\u306F\u3044\u308C\u3064","\u306F\u3048\u308B","\u306F\u304A\u308B","\u306F\u304B\u3044","\u306F\u3099\u304B\u308A","\u306F\u304B\u308B","\u306F\u304F\u3057\u3085","\u306F\u3051\u3093","\u306F\u3053\u3075\u3099","\u306F\u3055\u307F","\u306F\u3055\u3093","\u306F\u3057\u3053\u3099","\u306F\u3099\u3057\u3087","\u306F\u3057\u308B","\u306F\u305B\u308B","\u306F\u309A\u305D\u3053\u3093","\u306F\u305D\u3093","\u306F\u305F\u3093","\u306F\u3061\u307F\u3064","\u306F\u3064\u304A\u3093","\u306F\u3063\u304B\u304F","\u306F\u3064\u3099\u304D","\u306F\u3063\u304D\u308A","\u306F\u3063\u304F\u3064","\u306F\u3063\u3051\u3093","\u306F\u3063\u3053\u3046","\u306F\u3063\u3055\u3093","\u306F\u3063\u3057\u3093","\u306F\u3063\u305F\u3064","\u306F\u3063\u3061\u3085\u3046","\u306F\u3063\u3066\u3093","\u306F\u3063\u3072\u309A\u3087\u3046","\u306F\u3063\u307B\u309A\u3046","\u306F\u306A\u3059","\u306F\u306A\u3072\u3099","\u306F\u306B\u304B\u3080","\u306F\u3075\u3099\u3089\u3057","\u306F\u307F\u304B\u3099\u304D","\u306F\u3080\u304B\u3046","\u306F\u3081\u3064","\u306F\u3084\u3044","\u306F\u3084\u3057","\u306F\u3089\u3046","\u306F\u308D\u3046\u3043\u3093","\u306F\u308F\u3044","\u306F\u3093\u3044","\u306F\u3093\u3048\u3044","\u306F\u3093\u304A\u3093","\u306F\u3093\u304B\u304F","\u306F\u3093\u304D\u3087\u3046","\u306F\u3099\u3093\u304F\u3099\u307F","\u306F\u3093\u3053","\u306F\u3093\u3057\u3083","\u306F\u3093\u3059\u3046","\u306F\u3093\u305F\u3099\u3093","\u306F\u309A\u3093\u3061","\u306F\u309A\u3093\u3064","\u306F\u3093\u3066\u3044","\u306F\u3093\u3068\u3057","\u306F\u3093\u306E\u3046","\u306F\u3093\u306F\u309A","\u306F\u3093\u3075\u3099\u3093","\u306F\u3093\u3078\u309A\u3093","\u306F\u3093\u307B\u3099\u3046\u304D","\u306F\u3093\u3081\u3044","\u306F\u3093\u3089\u3093","\u306F\u3093\u308D\u3093","\u3072\u3044\u304D","\u3072\u3046\u3093","\u3072\u3048\u308B","\u3072\u304B\u304F","\u3072\u304B\u308A","\u3072\u304B\u308B","\u3072\u304B\u3093","\u3072\u304F\u3044","\u3072\u3051\u3064","\u3072\u3053\u3046\u304D","\u3072\u3053\u304F","\u3072\u3055\u3044","\u3072\u3055\u3057\u3075\u3099\u308A","\u3072\u3055\u3093","\u3072\u3099\u3057\u3099\u3085\u3064\u304B\u3093","\u3072\u3057\u3087","\u3072\u305D\u304B","\u3072\u305D\u3080","\u3072\u305F\u3080\u304D","\u3072\u305F\u3099\u308A","\u3072\u305F\u308B","\u3072\u3064\u304D\u3099","\u3072\u3063\u3053\u3057","\u3072\u3063\u3057","\u3072\u3064\u3057\u3099\u3085\u3072\u3093","\u3072\u3063\u3059","\u3072\u3064\u305B\u3099\u3093","\u3072\u309A\u3063\u305F\u308A","\u3072\u309A\u3063\u3061\u308A","\u3072\u3064\u3088\u3046","\u3072\u3066\u3044","\u3072\u3068\u3053\u3099\u307F","\u3072\u306A\u307E\u3064\u308A","\u3072\u306A\u3093","\u3072\u306D\u308B","\u3072\u306F\u3093","\u3072\u3072\u3099\u304F","\u3072\u3072\u3087\u3046","\u3072\u307B\u3046","\u3072\u307E\u308F\u308A","\u3072\u307E\u3093","\u3072\u307F\u3064","\u3072\u3081\u3044","\u3072\u3081\u3057\u3099\u3057","\u3072\u3084\u3051","\u3072\u3084\u3059","\u3072\u3088\u3046","\u3072\u3099\u3087\u3046\u304D","\u3072\u3089\u304B\u3099\u306A","\u3072\u3089\u304F","\u3072\u308A\u3064","\u3072\u308A\u3087\u3046","\u3072\u308B\u307E","\u3072\u308B\u3084\u3059\u307F","\u3072\u308C\u3044","\u3072\u308D\u3044","\u3072\u308D\u3046","\u3072\u308D\u304D","\u3072\u308D\u3086\u304D","\u3072\u3093\u304B\u304F","\u3072\u3093\u3051\u3064","\u3072\u3093\u3053\u3093","\u3072\u3093\u3057\u3085","\u3072\u3093\u305D\u3046","\u3072\u309A\u3093\u3061","\u3072\u3093\u306F\u309A\u3093","\u3072\u3099\u3093\u307B\u3099\u3046","\u3075\u3042\u3093","\u3075\u3044\u3046\u3061","\u3075\u3046\u3051\u3044","\u3075\u3046\u305B\u3093","\u3075\u309A\u3046\u305F\u308D\u3046","\u3075\u3046\u3068\u3046","\u3075\u3046\u3075","\u3075\u3048\u308B","\u3075\u304A\u3093","\u3075\u304B\u3044","\u3075\u304D\u3093","\u3075\u304F\u3055\u3099\u3064","\u3075\u304F\u3075\u3099\u304F\u308D","\u3075\u3053\u3046","\u3075\u3055\u3044","\u3075\u3057\u304D\u3099","\u3075\u3057\u3099\u307F","\u3075\u3059\u307E","\u3075\u305B\u3044","\u3075\u305B\u304F\u3099","\u3075\u305D\u304F","\u3075\u3099\u305F\u306B\u304F","\u3075\u305F\u3093","\u3075\u3061\u3087\u3046","\u3075\u3064\u3046","\u3075\u3064\u304B","\u3075\u3063\u304B\u3064","\u3075\u3063\u304D","\u3075\u3063\u3053\u304F","\u3075\u3099\u3068\u3099\u3046","\u3075\u3068\u308B","\u3075\u3068\u3093","\u3075\u306E\u3046","\u3075\u306F\u3044","\u3075\u3072\u3087\u3046","\u3075\u3078\u3093","\u3075\u307E\u3093","\u3075\u307F\u3093","\u3075\u3081\u3064","\u3075\u3081\u3093","\u3075\u3088\u3046","\u3075\u308A\u3053","\u3075\u308A\u308B","\u3075\u308B\u3044","\u3075\u3093\u3044\u304D","\u3075\u3099\u3093\u304B\u3099\u304F","\u3075\u3099\u3093\u304F\u3099","\u3075\u3093\u3057\u3064","\u3075\u3099\u3093\u305B\u304D","\u3075\u3093\u305D\u3046","\u3075\u3099\u3093\u307B\u309A\u3046","\u3078\u3044\u3042\u3093","\u3078\u3044\u304A\u3093","\u3078\u3044\u304B\u3099\u3044","\u3078\u3044\u304D","\u3078\u3044\u3051\u3099\u3093","\u3078\u3044\u3053\u3046","\u3078\u3044\u3055","\u3078\u3044\u3057\u3083","\u3078\u3044\u305B\u3064","\u3078\u3044\u305D","\u3078\u3044\u305F\u304F","\u3078\u3044\u3066\u3093","\u3078\u3044\u306D\u3064","\u3078\u3044\u308F","\u3078\u304D\u304B\u3099","\u3078\u3053\u3080","\u3078\u3099\u306B\u3044\u308D","\u3078\u3099\u306B\u3057\u3087\u3046\u304B\u3099","\u3078\u3089\u3059","\u3078\u3093\u304B\u3093","\u3078\u3099\u3093\u304D\u3087\u3046","\u3078\u3099\u3093\u3053\u3099\u3057","\u3078\u3093\u3055\u3044","\u3078\u3093\u305F\u3044","\u3078\u3099\u3093\u308A","\u307B\u3042\u3093","\u307B\u3044\u304F","\u307B\u3099\u3046\u304D\u3099\u3087","\u307B\u3046\u3053\u304F","\u307B\u3046\u305D\u3046","\u307B\u3046\u307B\u3046","\u307B\u3046\u3082\u3093","\u307B\u3046\u308A\u3064","\u307B\u3048\u308B","\u307B\u304A\u3093","\u307B\u304B\u3093","\u307B\u304D\u3087\u3046","\u307B\u3099\u304D\u3093","\u307B\u304F\u308D","\u307B\u3051\u3064","\u307B\u3051\u3093","\u307B\u3053\u3046","\u307B\u3053\u308B","\u307B\u3057\u3044","\u307B\u3057\u3064","\u307B\u3057\u3085","\u307B\u3057\u3087\u3046","\u307B\u305B\u3044","\u307B\u305D\u3044","\u307B\u305D\u304F","\u307B\u305F\u3066","\u307B\u305F\u308B","\u307B\u309A\u3061\u3075\u3099\u304F\u308D","\u307B\u3063\u304D\u3087\u304F","\u307B\u3063\u3055","\u307B\u3063\u305F\u3093","\u307B\u3068\u3093\u3068\u3099","\u307B\u3081\u308B","\u307B\u3093\u3044","\u307B\u3093\u304D","\u307B\u3093\u3051","\u307B\u3093\u3057\u3064","\u307B\u3093\u3084\u304F","\u307E\u3044\u306B\u3061","\u307E\u304B\u3044","\u307E\u304B\u305B\u308B","\u307E\u304B\u3099\u308B","\u307E\u3051\u308B","\u307E\u3053\u3068","\u307E\u3055\u3064","\u307E\u3057\u3099\u3081","\u307E\u3059\u304F","\u307E\u305B\u3099\u308B","\u307E\u3064\u308A","\u307E\u3068\u3081","\u307E\u306A\u3075\u3099","\u307E\u306C\u3051","\u307E\u306D\u304F","\u307E\u307B\u3046","\u307E\u3082\u308B","\u307E\u3086\u3051\u3099","\u307E\u3088\u3046","\u307E\u308D\u3084\u304B","\u307E\u308F\u3059","\u307E\u308F\u308A","\u307E\u308F\u308B","\u307E\u3093\u304B\u3099","\u307E\u3093\u304D\u3064","\u307E\u3093\u305D\u3099\u304F","\u307E\u3093\u306A\u304B","\u307F\u3044\u3089","\u307F\u3046\u3061","\u307F\u3048\u308B","\u307F\u304B\u3099\u304F","\u307F\u304B\u305F","\u307F\u304B\u3093","\u307F\u3051\u3093","\u307F\u3053\u3093","\u307F\u3057\u3099\u304B\u3044","\u307F\u3059\u3044","\u307F\u3059\u3048\u308B","\u307F\u305B\u308B","\u307F\u3063\u304B","\u307F\u3064\u304B\u308B","\u307F\u3064\u3051\u308B","\u307F\u3066\u3044","\u307F\u3068\u3081\u308B","\u307F\u306A\u3068","\u307F\u306A\u307F\u304B\u3055\u3044","\u307F\u306D\u3089\u308B","\u307F\u306E\u3046","\u307F\u306E\u304B\u3099\u3059","\u307F\u307B\u3093","\u307F\u3082\u3068","\u307F\u3084\u3051\u3099","\u307F\u3089\u3044","\u307F\u308A\u3087\u304F","\u307F\u308F\u304F","\u307F\u3093\u304B","\u307F\u3093\u305D\u3099\u304F","\u3080\u3044\u304B","\u3080\u3048\u304D","\u3080\u3048\u3093","\u3080\u304B\u3044","\u3080\u304B\u3046","\u3080\u304B\u3048","\u3080\u304B\u3057","\u3080\u304D\u3099\u3061\u3083","\u3080\u3051\u308B","\u3080\u3051\u3099\u3093","\u3080\u3055\u307B\u3099\u308B","\u3080\u3057\u3042\u3064\u3044","\u3080\u3057\u306F\u3099","\u3080\u3057\u3099\u3085\u3093","\u3080\u3057\u308D","\u3080\u3059\u3046","\u3080\u3059\u3053","\u3080\u3059\u3075\u3099","\u3080\u3059\u3081","\u3080\u305B\u308B","\u3080\u305B\u3093","\u3080\u3061\u3085\u3046","\u3080\u306A\u3057\u3044","\u3080\u306E\u3046","\u3080\u3084\u307F","\u3080\u3088\u3046","\u3080\u3089\u3055\u304D","\u3080\u308A\u3087\u3046","\u3080\u308D\u3093","\u3081\u3044\u3042\u3093","\u3081\u3044\u3046\u3093","\u3081\u3044\u3048\u3093","\u3081\u3044\u304B\u304F","\u3081\u3044\u304D\u3087\u304F","\u3081\u3044\u3055\u3044","\u3081\u3044\u3057","\u3081\u3044\u305D\u3046","\u3081\u3044\u3075\u3099\u3064","\u3081\u3044\u308C\u3044","\u3081\u3044\u308F\u304F","\u3081\u304F\u3099\u307E\u308C\u308B","\u3081\u3055\u3099\u3059","\u3081\u3057\u305F","\u3081\u3059\u3099\u3089\u3057\u3044","\u3081\u305F\u3099\u3064","\u3081\u307E\u3044","\u3081\u3084\u3059","\u3081\u3093\u304D\u3087","\u3081\u3093\u305B\u304D","\u3081\u3093\u3068\u3099\u3046","\u3082\u3046\u3057\u3042\u3051\u3099\u308B","\u3082\u3046\u3068\u3099\u3046\u3051\u3093","\u3082\u3048\u308B","\u3082\u304F\u3057","\u3082\u304F\u3066\u304D","\u3082\u304F\u3088\u3046\u3072\u3099","\u3082\u3061\u308D\u3093","\u3082\u3068\u3099\u308B","\u3082\u3089\u3046","\u3082\u3093\u304F","\u3082\u3093\u305F\u3099\u3044","\u3084\u304A\u3084","\u3084\u3051\u308B","\u3084\u3055\u3044","\u3084\u3055\u3057\u3044","\u3084\u3059\u3044","\u3084\u3059\u305F\u308D\u3046","\u3084\u3059\u307F","\u3084\u305B\u308B","\u3084\u305D\u3046","\u3084\u305F\u3044","\u3084\u3061\u3093","\u3084\u3063\u3068","\u3084\u3063\u306F\u309A\u308A","\u3084\u3075\u3099\u308B","\u3084\u3081\u308B","\u3084\u3084\u3053\u3057\u3044","\u3084\u3088\u3044","\u3084\u308F\u3089\u304B\u3044","\u3086\u3046\u304D","\u3086\u3046\u3072\u3099\u3093\u304D\u3087\u304F","\u3086\u3046\u3078\u3099","\u3086\u3046\u3081\u3044","\u3086\u3051\u3064","\u3086\u3057\u3085\u3064","\u3086\u305B\u3093","\u3086\u305D\u3046","\u3086\u305F\u304B","\u3086\u3061\u3083\u304F","\u3086\u3066\u3099\u308B","\u3086\u306B\u3085\u3046","\u3086\u3072\u3099\u308F","\u3086\u3089\u3044","\u3086\u308C\u308B","\u3088\u3046\u3044","\u3088\u3046\u304B","\u3088\u3046\u304D\u3085\u3046","\u3088\u3046\u3057\u3099","\u3088\u3046\u3059","\u3088\u3046\u3061\u3048\u3093","\u3088\u304B\u305B\u3099","\u3088\u304B\u3093","\u3088\u304D\u3093","\u3088\u304F\u305B\u3044","\u3088\u304F\u307B\u3099\u3046","\u3088\u3051\u3044","\u3088\u3053\u3099\u308C\u308B","\u3088\u3055\u3093","\u3088\u3057\u3085\u3046","\u3088\u305D\u3046","\u3088\u305D\u304F","\u3088\u3063\u304B","\u3088\u3066\u3044","\u3088\u3068\u3099\u304B\u3099\u308F\u304F","\u3088\u306D\u3064","\u3088\u3084\u304F","\u3088\u3086\u3046","\u3088\u308D\u3053\u3075\u3099","\u3088\u308D\u3057\u3044","\u3089\u3044\u3046","\u3089\u304F\u304B\u3099\u304D","\u3089\u304F\u3053\u3099","\u3089\u304F\u3055\u3064","\u3089\u304F\u305F\u3099","\u3089\u3057\u3093\u306F\u3099\u3093","\u3089\u305B\u3093","\u3089\u305D\u3099\u304F","\u3089\u305F\u3044","\u3089\u3063\u304B","\u3089\u308C\u3064","\u308A\u3048\u304D","\u308A\u304B\u3044","\u308A\u304D\u3055\u304F","\u308A\u304D\u305B\u3064","\u308A\u304F\u304F\u3099\u3093","\u308A\u304F\u3064","\u308A\u3051\u3093","\u308A\u3053\u3046","\u308A\u305B\u3044","\u308A\u305D\u3046","\u308A\u305D\u304F","\u308A\u3066\u3093","\u308A\u306D\u3093","\u308A\u3086\u3046","\u308A\u3085\u3046\u304B\u3099\u304F","\u308A\u3088\u3046","\u308A\u3087\u3046\u308A","\u308A\u3087\u304B\u3093","\u308A\u3087\u304F\u3061\u3083","\u308A\u3087\u3053\u3046","\u308A\u308A\u304F","\u308A\u308C\u304D","\u308A\u308D\u3093","\u308A\u3093\u3053\u3099","\u308B\u3044\u3051\u3044","\u308B\u3044\u3055\u3044","\u308B\u3044\u3057\u3099","\u308B\u3044\u305B\u304D","\u308B\u3059\u306F\u3099\u3093","\u308B\u308A\u304B\u3099\u308F\u3089","\u308C\u3044\u304B\u3093","\u308C\u3044\u304D\u3099","\u308C\u3044\u305B\u3044","\u308C\u3044\u305D\u3099\u3046\u3053","\u308C\u3044\u3068\u3046","\u308C\u3044\u307B\u3099\u3046","\u308C\u304D\u3057","\u308C\u304D\u305F\u3099\u3044","\u308C\u3093\u3042\u3044","\u308C\u3093\u3051\u3044","\u308C\u3093\u3053\u3093","\u308C\u3093\u3055\u3044","\u308C\u3093\u3057\u3085\u3046","\u308C\u3093\u305D\u3099\u304F","\u308C\u3093\u3089\u304F","\u308D\u3046\u304B","\u308D\u3046\u3053\u3099","\u308D\u3046\u3057\u3099\u3093","\u308D\u3046\u305D\u304F","\u308D\u304F\u304B\u3099","\u308D\u3053\u3064","\u308D\u3057\u3099\u3046\u3089","\u308D\u3057\u3085\u3064","\u308D\u305B\u3093","\u308D\u3066\u3093","\u308D\u3081\u3093","\u308D\u308C\u3064","\u308D\u3093\u304D\u3099","\u308D\u3093\u306F\u309A","\u308D\u3093\u3075\u3099\u3093","\u308D\u3093\u308A","\u308F\u304B\u3059","\u308F\u304B\u3081","\u308F\u304B\u3084\u307E","\u308F\u304B\u308C\u308B","\u308F\u3057\u3064","\u308F\u3057\u3099\u307E\u3057","\u308F\u3059\u308C\u3082\u306E","\u308F\u3089\u3046","\u308F\u308C\u308B"];t.exports=r});Ve("8YfVJ",function(t,e){"use strict";var r=["a\u0301baco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accio\u0301n","aceite","acelga","acento","aceptar","a\u0301cido","aclarar","acne\u0301","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","ae\u0301reo","afectar","aficio\u0301n","afinar","afirmar","a\u0301gil","agitar","agoni\u0301a","agosto","agotar","agregar","agrio","agua","agudo","a\u0301guila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacra\u0301n","alambre","alarma","alba","a\u0301lbum","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodo\u0301n","aliado","aliento","alivio","alma","almeja","almi\u0301bar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","a\u0301mbar","a\u0301mbito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","ande\u0301n","anemia","a\u0301ngulo","anillo","a\u0301nimo","ani\u0301s","anotar","antena","antiguo","antojo","anual","anular","anuncio","an\u0303adir","an\u0303ejo","an\u0303o","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","aran\u0303a","arar","a\u0301rbitro","a\u0301rbol","arbusto","archivo","arco","arder","ardilla","arduo","a\u0301rea","a\u0301rido","aries","armoni\u0301a","arne\u0301s","aroma","arpa","arpo\u0301n","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","a\u0301spero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","a\u0301tico","atleta","a\u0301tomo","atraer","atroz","atu\u0301n","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avio\u0301n","aviso","ayer","ayuda","ayuno","azafra\u0301n","azar","azote","azu\u0301car","azufre","azul","baba","babor","bache","bahi\u0301a","baile","bajar","balanza","balco\u0301n","balde","bambu\u0301","banco","banda","ban\u0303o","barba","barco","barniz","barro","ba\u0301scula","basto\u0301n","basura","batalla","bateri\u0301a","batir","batuta","bau\u0301l","bazar","bebe\u0301","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsa\u0301i","borde","borrar","bosque","bote","boti\u0301n","bo\u0301veda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufo\u0301n","bu\u0301ho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzo\u0301n","caballo","cabeza","cabina","cabra","cacao","cada\u0301ver","cadena","caer","cafe\u0301","cai\u0301da","caima\u0301n","caja","cajo\u0301n","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","ca\u0301ncer","candil","canela","canguro","canica","canto","can\u0303a","can\u0303o\u0301n","caoba","caos","capaz","capita\u0301n","capote","captar","capucha","cara","carbo\u0301n","ca\u0301rcel","careta","carga","carin\u0303o","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","ce\u0301lebre","celoso","ce\u0301lula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","ce\u0301sped","cetro","chacal","chaleco","champu\u0301","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclo\u0301n","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipre\u0301s","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","cli\u0301nica","cobre","coccio\u0301n","cochino","cocina","coco","co\u0301digo","codo","cofre","coger","cohete","coji\u0301n","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","co\u0301modo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazo\u0301n","corbata","corcho","cordo\u0301n","corona","correr","coser","cosmos","costa","cra\u0301neo","cra\u0301ter","crear","crecer","crei\u0301do","crema","cri\u0301a","crimen","cripta","crisis","cromo","cro\u0301nica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupo\u0301n","cu\u0301pula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","da\u0301til","deber","de\u0301bil","de\u0301cada","decir","dedo","defensa","definir","dejar","delfi\u0301n","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvi\u0301o","detalle","detener","deuda","di\u0301a","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","difi\u0301cil","digno","dilema","diluir","dinero","directo","dirigir","disco","disen\u0303o","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","drago\u0301n","droga","ducha","duda","duelo","duen\u0303o","dulce","du\u0301o","duque","durar","dureza","duro","e\u0301bano","ebrio","echar","eco","ecuador","edad","edicio\u0301n","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","e\u0301lite","elixir","elogio","eludir","embudo","emitir","emocio\u0301n","empate","empen\u0303o","empleo","empresa","enano","encargo","enchufe","enci\u0301a","enemigo","enero","enfado","enfermo","engan\u0303o","enigma","enlace","enorme","enredo","ensayo","ensen\u0303ar","entero","entrar","envase","envi\u0301o","e\u0301poca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espi\u0301a","esposa","espuma","esqui\u0301","estar","este","estilo","estufa","etapa","eterno","e\u0301tica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","e\u0301xito","experto","explicar","exponer","extremo","fa\u0301brica","fa\u0301bula","fachada","fa\u0301cil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","farao\u0301n","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fe\u0301rtil","fervor","festi\u0301n","fiable","fianza","fiar","fibra","ficcio\u0301n","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","flu\u0301or","fobia","foca","fogata","fogo\u0301n","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fra\u0301gil","franja","frase","fraude","frei\u0301r","freno","fresa","fri\u0301o","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcio\u0301n","funda","furgo\u0301n","furia","fusil","fu\u0301tbol","futuro","gacela","gafas","gaita","gajo","gala","galeri\u0301a","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavila\u0301n","gemelo","gemir","gen","ge\u0301nero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","gra\u0301fico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","gru\u0301a","grueso","grumo","grupo","guante","guapo","guardia","guerra","gui\u0301a","guin\u0303o","guion","guiso","guitarra","gusano","gustar","haber","ha\u0301bil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazan\u0303a","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","he\u0301roe","hervir","hielo","hierro","hi\u0301gado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","hu\u0301medo","humilde","humo","hundir","huraca\u0301n","hurto","icono","ideal","idioma","i\u0301dolo","iglesia","iglu\u0301","igual","ilegal","ilusio\u0301n","imagen","ima\u0301n","imitar","impar","imperio","imponer","impulso","incapaz","i\u0301ndice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","intere\u0301s","i\u0301ntimo","intuir","inu\u0301til","invierno","ira","iris","ironi\u0301a","isla","islote","jabali\u0301","jabo\u0301n","jamo\u0301n","jarabe","jardi\u0301n","jarra","jaula","jazmi\u0301n","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","ju\u0301piter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladro\u0301n","lagarto","la\u0301grima","laguna","laico","lamer","la\u0301mina","la\u0301mpara","lana","lancha","langosta","lanza","la\u0301piz","largo","larva","la\u0301stima","lata","la\u0301tex","latir","laurel","lavar","lazo","leal","leccio\u0301n","leche","lector","leer","legio\u0301n","legumbre","lejano","lengua","lento","len\u0303a","leo\u0301n","leopardo","lesio\u0301n","letal","letra","leve","leyenda","libertad","libro","licor","li\u0301der","lidiar","lienzo","liga","ligero","lima","li\u0301mite","limo\u0301n","limpio","lince","lindo","li\u0301nea","lingote","lino","linterna","li\u0301quido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locio\u0301n","loco","locura","lo\u0301gica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","mai\u0301z","maldad","maleta","malla","malo","mama\u0301","mambo","mamut","manco","mando","manejar","manga","maniqui\u0301","manjar","mano","manso","manta","man\u0303ana","mapa","ma\u0301quina","mar","marco","marea","marfil","margen","marido","ma\u0301rmol","marro\u0301n","martes","marzo","masa","ma\u0301scara","masivo","matar","materia","matiz","matriz","ma\u0301ximo","mayor","mazorca","mecha","medalla","medio","me\u0301dula","mejilla","mejor","melena","melo\u0301n","memoria","menor","mensaje","mente","menu\u0301","mercado","merengue","me\u0301rito","mes","meso\u0301n","meta","meter","me\u0301todo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millo\u0301n","mimo","mina","minero","mi\u0301nimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocio\u0301n","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mon\u0303o","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","mo\u0301vil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","mun\u0303eca","mural","muro","mu\u0301sculo","museo","musgo","mu\u0301sica","muslo","na\u0301car","nacio\u0301n","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","na\u0301usea","naval","nave","navidad","necio","ne\u0301ctar","negar","negocio","negro","neo\u0301n","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","nin\u0303ez","nin\u0303o","ni\u0301tido","nivel","nobleza","noche","no\u0301mina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nu\u0301cleo","nudillo","nudo","nuera","nueve","nuez","nulo","nu\u0301mero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oce\u0301ano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oi\u0301do","oi\u0301r","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcio\u0301n","o\u0301pera","opinar","oponer","optar","o\u0301ptica","opuesto","oracio\u0301n","orador","oral","o\u0301rbita","orca","orden","oreja","o\u0301rgano","orgi\u0301a","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadi\u0301a","oscuro","osezno","oso","ostra","oton\u0303o","otro","oveja","o\u0301vulo","o\u0301xido","oxi\u0301geno","oyente","ozono","pacto","padre","paella","pa\u0301gina","pago","pai\u0301s","pa\u0301jaro","palabra","palco","paleta","pa\u0301lido","palma","paloma","palpar","pan","panal","pa\u0301nico","pantera","pan\u0303uelo","papa\u0301","papel","papilla","paquete","parar","parcela","pared","parir","paro","pa\u0301rpado","parque","pa\u0301rrafo","parte","pasar","paseo","pasio\u0301n","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peato\u0301n","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldan\u0303o","pelea","peligro","pellejo","pelo","peluca","pena","pensar","pen\u0303o\u0301n","peo\u0301n","peor","pepino","pequen\u0303o","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pe\u0301simo","pestan\u0303a","pe\u0301talo","petro\u0301leo","pez","pezun\u0303a","picar","picho\u0301n","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pin\u0303a","piojo","pipa","pirata","pisar","piscina","piso","pista","pito\u0301n","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesi\u0301a","poeta","polen","polici\u0301a","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcio\u0301n","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","pri\u0301ncipe","prisio\u0301n","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","pro\u0301ximo","prueba","pu\u0301blico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmo\u0301n","pulpo","pulso","puma","punto","pun\u0303al","pun\u0303o","pupa","pupila","pure\u0301","quedar","queja","quemar","querer","queso","quieto","qui\u0301mica","quince","quitar","ra\u0301bano","rabia","rabo","racio\u0301n","radical","rai\u0301z","rama","rampa","rancho","rango","rapaz","ra\u0301pido","rapto","rasgo","raspa","rato","rayo","raza","razo\u0301n","reaccio\u0301n","realidad","reban\u0303o","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refra\u0301n","refugio","regalo","regir","regla","regreso","rehe\u0301n","reino","rei\u0301r","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reve\u0301s","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","ri\u0301gido","rigor","rinco\u0301n","rin\u0303o\u0301n","ri\u0301o","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi\u0301","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sa\u0301bado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmo\u0301n","salo\u0301n","salsa","salto","salud","salvar","samba","sancio\u0301n","sandi\u0301a","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarte\u0301n","sastre","sata\u0301n","sauna","saxofo\u0301n","seccio\u0301n","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","sen\u0303al","sen\u0303or","separar","sepia","sequi\u0301a","ser","serie","sermo\u0301n","servir","sesenta","sesio\u0301n","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","si\u0301laba","silbar","silencio","silla","si\u0301mbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","so\u0301lido","soltar","solucio\u0301n","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","soste\u0301n","so\u0301tano","suave","subir","suceso","sudor","suegra","suelo","suen\u0303o","suerte","sufrir","sujeto","sulta\u0301n","sumar","superar","suplir","suponer","supremo","sur","surco","suren\u0303o","surgir","susto","sutil","tabaco","tabique","tabla","tabu\u0301","taco","tacto","tajo","talar","talco","talento","talla","talo\u0301n","taman\u0303o","tambor","tango","tanque","tapa","tapete","tapia","tapo\u0301n","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazo\u0301n","teatro","techo","tecla","te\u0301cnica","tejado","tejer","tejido","tela","tele\u0301fono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teori\u0301a","terapia","terco","te\u0301rmino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburo\u0301n","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","ti\u0301mido","timo","tinta","ti\u0301o","ti\u0301pico","tipo","tira","tiro\u0301n","tita\u0301n","ti\u0301tere","ti\u0301tulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","to\u0301rax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","to\u0301xico","trabajo","tractor","traer","tra\u0301fico","trago","traje","tramo","trance","trato","trauma","trazar","tre\u0301bol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberi\u0301a","tubo","tuerto","tumba","tumor","tu\u0301nel","tu\u0301nica","turbina","turismo","turno","tutor","ubicar","u\u0301lcera","umbral","unidad","unir","universo","uno","untar","un\u0303a","urbano","urbe","urgente","urna","usar","usuario","u\u0301til","utopi\u0301a","uva","vaca","vaci\u0301o","vacuna","vagar","vago","vaina","vajilla","vale","va\u0301lido","valle","valor","va\u0301lvula","vampiro","vara","variar","varo\u0301n","vaso","vecino","vector","vehi\u0301culo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","vi\u0301a","viaje","vibrar","vicio","vi\u0301ctima","vida","vi\u0301deo","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vin\u0303edo","violi\u0301n","viral","virgo","virtud","visor","vi\u0301spera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volca\u0301n","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"];t.exports=r});var Rme=gr.Buffer,Gt={};Gt.version="v"+G("1Q9VF").version;Gt.versionGuard=function(t){if(t!==void 0){var e=`
      More than one instance of scrypt bsv found. other version: ${t}
      Please make sure to require bsv and check that submodules do
      not also include their own bsv dependency.`;console.warn(e)}};Gt.versionGuard(l_._scrypt_bsv);l_._scrypt_bsv=Gt.version;Gt.crypto={};Gt.crypto.BN=G("dIoYd");Gt.crypto.ECDSA=G("kmMTb");Gt.crypto.Hash=G("bTTXN");Gt.crypto.Random=G("7X5Fe");Gt.crypto.Point=G("f0gTO");Gt.crypto.Signature=G("gIXub");Gt.encoding={};Gt.encoding.Base58=G("jG967");Gt.encoding.Base58Check=G("j7ODq");Gt.encoding.BufferReader=G("28ku8");Gt.encoding.BufferWriter=G("2AZ1V");Gt.encoding.Varint=G("1zMJW");Gt.util={};Gt.util.js=G("gk75r");Gt.util.preconditions=G("6gAsx");Gt.errors=G("kooOK");Gt.Address=G("iSUUt");Gt.Block=G("19NsJ");Gt.MerkleBlock=G("hVYHX");Gt.BlockHeader=G("gGdD6");Gt.HDPrivateKey=G("4bgoH");Gt.HDPublicKey=G("8kXe7");Gt.Networks=G("cyjag");Gt.Opcode=G("bpasi");Gt.PrivateKey=G("7smYJ");Gt.PublicKey=G("arkeG");Gt.Script=G("hkiTH");Gt.Transaction=G("7pkU6");Gt.ECIES=G("de0HV");Gt.HashCache=G("l0DuR");Gt.deps={};Gt.deps.bnjs=Fme;Gt.deps.bs58=JO;Gt.deps.Buffer=Rme;Gt.deps.elliptic=dG;Gt.deps._=G("kBBbb");Gt.Transaction.sighash=G("95EnH");Gt.Message=G("9fBEz");Gt.Mnemonic=G("amN1b");hG.exports=Gt});var EG={};Dv(EG,{basename:()=>_G,default:()=>Nme,delimiter:()=>vG,dirname:()=>SG,extname:()=>wG,isAbsolute:()=>tB,join:()=>gG,normalize:()=>eB,relative:()=>mG,resolve:()=>d_,sep:()=>yG});function bG(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];i==="."?t.splice(n,1):i===".."?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function d_(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;t=n+"/"+t,e=n.charAt(0)==="/"}return t=bG(rB(t.split("/"),function(i){return!!i}),!e).join("/"),(e?"/":"")+t||"."}function eB(t){var e=tB(t),r=Dme(t,-1)==="/";return t=bG(rB(t.split("/"),function(n){return!!n}),!e).join("/"),!t&&!e&&(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function tB(t){return t.charAt(0)==="/"}function gG(){var t=Array.prototype.slice.call(arguments,0);return eB(rB(t,function(e,r){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function mG(t,e){t=d_(t).substr(1),e=d_(e).substr(1);function r(l){for(var f=0;f<l.length&&l[f]==="";f++);for(var c=l.length-1;c>=0&&l[c]==="";c--);return f>c?[]:l.slice(f,c-f+1)}for(var n=r(t.split("/")),i=r(e.split("/")),s=Math.min(n.length,i.length),u=s,o=0;o<s;o++)if(n[o]!==i[o]){u=o;break}for(var a=[],o=u;o<n.length;o++)a.push("..");return a=a.concat(i.slice(u)),a.join("/")}function SG(t){var e=QO(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)}function _G(t,e){var r=QO(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r}function wG(t){return QO(t)[3]}function rB(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var Mme,QO,yG,vG,Nme,Dme,AG=Nv(()=>{B();k();Mme=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,QO=function(t){return Mme.exec(t).slice(1)};yG="/",vG=":";Nme={extname:wG,basename:_G,dirname:SG,sep:yG,delimiter:vG,relative:mG,join:gG,isAbsolute:tB,normalize:eB,resolve:d_};Dme="ab".substr(-1)==="b"?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}});var wi=$((Dot,h_)=>{B();k();var q6=(AG(),Hv(EG));if(q6&&q6.default){h_.exports=q6.default;for(let t in q6)h_.exports[t]=q6[t]}else q6&&(h_.exports=q6)});var xG=$((p_,TG)=>{B();k();(function(t,e){typeof p_=="object"&&typeof TG<"u"?e(p_):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.sourcemapCodec={}))})(p_,function(t){"use strict";let e=",".charCodeAt(0),r=";".charCodeAt(0),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(64),s=new Uint8Array(128);for(let L=0;L<n.length;L++){let P=n.charCodeAt(L);i[L]=P,s[P]=L}function u(L,P){let A=0,b=0,g=0;do{let E=L.next();g=s[E],A|=(g&31)<<b,b+=5}while(g&32);let v=A&1;return A>>>=1,v&&(A=-2147483648|-A),P+A}function o(L,P,A){let b=P-A;b=b<0?-b<<1|1:b<<1;do{let g=b&31;b>>>=5,b>0&&(g|=32),L.write(i[g])}while(b>0);return P}function a(L,P){return L.pos>=P?!1:L.peek()!==e}let l=1024*16,f=typeof TextDecoder<"u"?new TextDecoder:typeof I.Buffer<"u"?{decode(L){return I.Buffer.from(L.buffer,L.byteOffset,L.byteLength).toString()}}:{decode(L){let P="";for(let A=0;A<L.length;A++)P+=String.fromCharCode(L[A]);return P}};class c{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(l)}write(P){let{buffer:A}=this;A[this.pos++]=P,this.pos===l&&(this.out+=f.decode(A),this.pos=0)}flush(){let{buffer:P,out:A,pos:b}=this;return b>0?A+f.decode(P.subarray(0,b)):A}}class h{constructor(P){this.pos=0,this.buffer=P}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(P){let{buffer:A,pos:b}=this,g=A.indexOf(P,b);return g===-1?A.length:g}}let d=[];function p(L){let{length:P}=L,A=new h(L),b=[],g=[],v=0;for(;A.pos<P;A.pos++){v=u(A,v);let E=u(A,0);if(!a(A,P)){let U=g.pop();U[2]=v,U[3]=E;continue}let C=u(A,0),M=u(A,0)&1?[v,E,0,0,C,u(A,0)]:[v,E,0,0,C],T=d;if(a(A,P)){T=[];do{let U=u(A,0);T.push(U)}while(a(A,P))}M.vars=T,b.push(M),g.push(M)}return b}function m(L){let P=new c;for(let A=0;A<L.length;)A=w(L,A,P,[0]);return P.flush()}function w(L,P,A,b){let g=L[P],{0:v,1:E,2:C,3:R,4:O,vars:M}=g;P>0&&A.write(e),b[0]=o(A,v,b[0]),o(A,E,0),o(A,O,0);let T=g.length===6?1:0;o(A,T,0),g.length===6&&o(A,g[5],0);for(let U of M)o(A,U,0);for(P++;P<L.length;){let U=L[P],{0:Y,1:te}=U;if(Y>C||Y===C&&te>=R)break;P=w(L,P,A,b)}return A.write(e),b[0]=o(A,C,b[0]),o(A,R,0),P}function x(L){let{length:P}=L,A=new h(L),b=[],g=[],v=0,E=0,C=0,R=0,O=0,M=0,T=0,U=0;do{let Y=A.indexOf(";"),te=0;for(;A.pos<Y;A.pos++){if(te=u(A,te),!a(A,Y)){let fe=g.pop();fe[2]=v,fe[3]=te;continue}let J=u(A,0),ce=J&1,se=J&2,j=J&4,Z=null,ee=d,ue;if(ce){let fe=u(A,E);C=u(A,E===fe?C:0),E=fe,ue=[v,te,0,0,fe,C]}else ue=[v,te,0,0];if(ue.isScope=!!j,se){let fe=R,de=O;R=u(A,R);let we=fe===R;O=u(A,we?O:0),M=u(A,we&&de===O?M:0),Z=[R,O,M]}if(ue.callsite=Z,a(A,Y)){ee=[];do{T=v,U=te;let fe=u(A,0),de;if(fe<-1){de=[[u(A,0)]];for(let we=-1;we>fe;we--){let He=T;T=u(A,T),U=u(A,T===He?U:0);let Fe=u(A,0);de.push([Fe,T,U])}}else de=[[fe]];ee.push(de)}while(a(A,Y))}ue.bindings=ee,b.push(ue),g.push(ue)}v++,A.pos=Y+1}while(A.pos<P);return b}function _(L){if(L.length===0)return"";let P=new c;for(let A=0;A<L.length;)A=y(L,A,P,[0,0,0,0,0,0,0]);return P.flush()}function y(L,P,A,b){let g=L[P],{0:v,1:E,2:C,3:R,isScope:O,callsite:M,bindings:T}=g;b[0]<v?(S(A,b[0],v),b[0]=v,b[1]=0):P>0&&A.write(e),b[1]=o(A,g[1],b[1]);let U=(g.length===6?1:0)|(M?2:0)|(O?4:0);if(o(A,U,0),g.length===6){let{4:Y,5:te}=g;Y!==b[2]&&(b[3]=0),b[2]=o(A,Y,b[2]),b[3]=o(A,te,b[3])}if(M){let{0:Y,1:te,2:J}=g.callsite;Y!==b[4]?(b[5]=0,b[6]=0):te!==b[5]&&(b[6]=0),b[4]=o(A,Y,b[4]),b[5]=o(A,te,b[5]),b[6]=o(A,J,b[6])}if(T)for(let Y of T){Y.length>1&&o(A,-Y.length,0);let te=Y[0][0];o(A,te,0);let J=v,ce=E;for(let se=1;se<Y.length;se++){let j=Y[se];J=o(A,j[1],J),ce=o(A,j[2],ce),o(A,j[0],0)}}for(P++;P<L.length;){let Y=L[P],{0:te,1:J}=Y;if(te>C||te===C&&J>=R)break;P=y(L,P,A,b)}return b[0]<C?(S(A,b[0],C),b[0]=C,b[1]=0):A.write(e),b[1]=o(A,R,b[1]),P}function S(L,P,A){do L.write(r);while(++P<A)}function F(L){let{length:P}=L,A=new h(L),b=[],g=0,v=0,E=0,C=0,R=0;do{let O=A.indexOf(";"),M=[],T=!0,U=0;for(g=0;A.pos<O;){let Y;g=u(A,g),g<U&&(T=!1),U=g,a(A,O)?(v=u(A,v),E=u(A,E),C=u(A,C),a(A,O)?(R=u(A,R),Y=[g,v,E,C,R]):Y=[g,v,E,C]):Y=[g],M.push(Y),A.pos++}T||N(M),b.push(M),A.pos=O+1}while(A.pos<=P);return b}function N(L){L.sort(H)}function H(L,P){return L[0]-P[0]}function D(L){let P=new c,A=0,b=0,g=0,v=0;for(let E=0;E<L.length;E++){let C=L[E];if(E>0&&P.write(r),C.length===0)continue;let R=0;for(let O=0;O<C.length;O++){let M=C[O];O>0&&P.write(e),R=o(P,M[0],R),M.length!==1&&(A=o(P,M[1],A),b=o(P,M[2],b),g=o(P,M[3],g),M.length!==4&&(v=o(P,M[4],v)))}}return P.flush()}t.decode=F,t.decodeGeneratedRanges=x,t.decodeOriginalScopes=p,t.encode=D,t.encodeGeneratedRanges=_,t.encodeOriginalScopes=m,Object.defineProperty(t,"__esModule",{value:!0})})});var MG={};Dv(MG,{Url:()=>ff,default:()=>Hme,format:()=>kG,parse:()=>Ey,resolve:()=>CG,resolveObject:()=>FG});function ff(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Ey(t,e,r){if(t&&QI(t)&&t instanceof ff)return t;var n=new ff;return n.parse(t,e,r),n}function BG(t,e,r,n){if(!Lv(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=i!==-1&&i<e.indexOf("#")?"?":"#",u=e.split(s),o=/\\/g;u[0]=u[0].replace(o,"/"),e=u.join(s);var a=e;if(a=a.trim(),!n&&e.split("#").length===1){var l=$me.exec(a);if(l)return t.path=a,t.href=a,t.pathname=l[1],l[2]?(t.search=l[2],r?t.query=eP(t.search.substr(1)):t.query=t.search.substr(1)):r&&(t.search="",t.query={}),t}var f=Lme.exec(a);if(f){f=f[0];var c=f.toLowerCase();t.protocol=c,a=a.substr(f.length)}if(n||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(f&&iB[f])&&(a=a.substr(2),t.slashes=!0)}var d,p,m,w;if(!iB[f]&&(h||f&&!$2[f])){var x=-1;for(d=0;d<PG.length;d++)p=a.indexOf(PG[d]),p!==-1&&(x===-1||p<x)&&(x=p);var _,y;for(x===-1?y=a.lastIndexOf("@"):y=a.lastIndexOf("@",x),y!==-1&&(_=a.slice(0,y),a=a.slice(y+1),t.auth=decodeURIComponent(_)),x=-1,d=0;d<IG.length;d++)p=a.indexOf(IG[d]),p!==-1&&(x===-1||p<x)&&(x=p);x===-1&&(x=a.length),t.host=a.slice(0,x),a=a.slice(x),RG(t),t.hostname=t.hostname||"";var S=t.hostname[0]==="["&&t.hostname[t.hostname.length-1]==="]";if(!S){var F=t.hostname.split(/\./);for(d=0,m=F.length;d<m;d++){var N=F[d];if(!!N&&!N.match(OG)){for(var H="",D=0,L=N.length;D<L;D++)N.charCodeAt(D)>127?H+="x":H+=N[D];if(!H.match(OG)){var P=F.slice(0,d),A=F.slice(d+1),b=N.match(zme);b&&(P.push(b[1]),A.unshift(b[2])),A.length&&(a="/"+A.join(".")+a),t.hostname=P.join(".");break}}}}t.hostname.length>Kme?t.hostname="":t.hostname=t.hostname.toLowerCase(),S||(t.hostname=a$(t.hostname)),w=t.port?":"+t.port:"";var g=t.hostname||"";t.host=g+w,t.href+=t.host,S&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Vme[c])for(d=0,m=nB.length;d<m;d++){var v=nB[d];if(a.indexOf(v)!==-1){var E=encodeURIComponent(v);E===v&&(E=escape(v)),a=a.split(v).join(E)}}var C=a.indexOf("#");C!==-1&&(t.hash=a.substr(C),a=a.slice(0,C));var R=a.indexOf("?");if(R!==-1?(t.search=a.substr(R),t.query=a.substr(R+1),r&&(t.query=eP(t.query)),a=a.slice(0,R)):r&&(t.search="",t.query={}),a&&(t.pathname=a),$2[c]&&t.hostname&&!t.pathname&&(t.pathname="/"),t.pathname||t.search){w=t.pathname||"";var O=t.search||"";t.path=w+O}return t.href=sB(t),t}function kG(t){return Lv(t)&&(t=BG({},t)),sB(t)}function sB(t){var e=t.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var r=t.protocol||"",n=t.pathname||"",i=t.hash||"",s=!1,u="";t.host?s=e+t.host:t.hostname&&(s=e+(t.hostname.indexOf(":")===-1?t.hostname:"["+this.hostname+"]"),t.port&&(s+=":"+t.port)),t.query&&QI(t.query)&&Object.keys(t.query).length&&(u=c$(t.query));var o=t.search||u&&"?"+u||"";return r&&r.substr(-1)!==":"&&(r+=":"),t.slashes||(!r||$2[r])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),r+s+n+o+i}function CG(t,e){return Ey(t,!1,!0).resolve(e)}function FG(t,e){return t?Ey(t,!1,!0).resolveObject(e):e}function RG(t){var e=t.host,r=Ume.exec(e);r&&(r=r[0],r!==":"&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}var Hme,Lme,Ume,$me,qme,jme,nB,IG,PG,Kme,OG,zme,Vme,iB,$2,NG=Nv(()=>{B();k();dpe();cpe();hpe();Hme={parse:Ey,resolve:CG,resolveObject:FG,format:kG,Url:ff};Lme=/^([a-z0-9.+-]+:)/i,Ume=/:[0-9]*$/,$me=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,qme=["<",">",'"',"`"," ","\r",`
`,"	"],jme=["{","}","|","\\","^","`"].concat(qme),nB=["'"].concat(jme),IG=["%","/","?",";","#"].concat(nB),PG=["/","?","#"],Kme=255,OG=/^[+a-z0-9A-Z_-]{0,63}$/,zme=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Vme={javascript:!0,"javascript:":!0},iB={javascript:!0,"javascript:":!0},$2={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};ff.prototype.parse=function(t,e,r){return BG(this,t,e,r)};ff.prototype.format=function(){return sB(this)};ff.prototype.resolve=function(t){return this.resolveObject(Ey(t,!1,!0)).format()};ff.prototype.resolveObject=function(t){if(Lv(t)){var e=new ff;e.parse(t,!1,!0),t=e}for(var r=new ff,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),o=0;o<u.length;o++){var a=u[o];a!=="protocol"&&(r[a]=t[a])}return $2[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}var l;if(t.protocol&&t.protocol!==r.protocol){if(!$2[t.protocol]){for(var f=Object.keys(t),c=0;c<f.length;c++){var h=f[c];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!iB[t.protocol]){for(l=(t.pathname||"").split("/");l.length&&!(t.host=l.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),l[0]!==""&&l.unshift(""),l.length<2&&l.unshift(""),r.pathname=l.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",p=r.search||"";r.path=d+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&r.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=w||m||r.host&&t.pathname,_=x,y=r.pathname&&r.pathname.split("/")||[],S=r.protocol&&!$2[r.protocol];l=t.pathname&&t.pathname.split("/")||[],S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(l[0]===""?l[0]=t.host:l.unshift(t.host)),t.host=null),x=x&&(l[0]===""||y[0]===""));var F;if(w)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=l;else if(l.length)y||(y=[]),y.pop(),y=y.concat(l),r.search=t.search,r.query=t.query;else if(!e$(t.search))return S&&(r.hostname=r.host=y.shift(),F=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,F&&(r.auth=F.shift(),r.host=r.hostname=F.shift())),r.search=t.search,r.query=t.query,(!qm(r.pathname)||!qm(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=y.slice(-1)[0],H=(r.host||t.host||y.length>1)&&(N==="."||N==="..")||N==="",D=0,L=y.length;L>=0;L--)N=y[L],N==="."?y.splice(L,1):N===".."?(y.splice(L,1),D++):D&&(y.splice(L,1),D--);if(!x&&!_)for(;D--;D)y.unshift("..");x&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),H&&y.join("/").substr(-1)!=="/"&&y.push("");var P=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=P?"":y.length?y.shift():"",F=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,F&&(r.auth=F.shift(),r.host=r.hostname=F.shift())),x=x||r.host&&y.length,x&&!P&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(!qm(r.pathname)||!qm(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};ff.prototype.parseHost=function(){return RG(this)}});var g_=$((Got,b_)=>{B();k();var j6=(NG(),Hv(MG));if(j6&&j6.default){b_.exports=j6.default;for(let t in j6)b_.exports[t]=j6[t]}else j6&&(b_.exports=j6)});var DG={};Dv(DG,{default:()=>Gme});var Gme,HG=Nv(()=>{B();k();Gme={}});var Ay=$((Jot,m_)=>{B();k();var K6=(HG(),Hv(DG));if(K6&&K6.default){m_.exports=K6.default;for(let t in K6)m_.exports[t]=K6[t]}else K6&&(m_.exports=K6)});var LG=$(uB=>{B();k();var z6=wi(),Mp=process.platform==="win32",Rp=Ju(),Wme=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Yme(){var t;if(Wme){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function Xme(t){return typeof t=="function"?t:Yme()}var tat=z6.normalize;Mp?Ud=/(.*?)(?:[\/\\]+|$)/g:Ud=/(.*?)(?:[\/]+|$)/g;var Ud;Mp?Ty=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Ty=/^[\/]*/;var Ty;uB.realpathSync=function(e,r){if(e=z6.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},u,o,a,l;f();function f(){var w=Ty.exec(e);u=w[0].length,o=w[0],a=w[0],l="",Mp&&!s[a]&&(Rp.lstatSync(a),s[a]=!0)}for(;u<e.length;){Ud.lastIndex=u;var c=Ud.exec(e);if(l=o,o+=c[0],a=l+c[1],u=Ud.lastIndex,!(s[a]||r&&r[a]===a)){var h;if(r&&Object.prototype.hasOwnProperty.call(r,a))h=r[a];else{var d=Rp.lstatSync(a);if(!d.isSymbolicLink()){s[a]=!0,r&&(r[a]=a);continue}var p=null;if(!Mp){var m=d.dev.toString(32)+":"+d.ino.toString(32);i.hasOwnProperty(m)&&(p=i[m])}p===null&&(Rp.statSync(a),p=Rp.readlinkSync(a)),h=z6.resolve(l,p),r&&(r[a]=h),Mp||(i[m]=p)}e=z6.resolve(h,e.slice(u)),f()}}return r&&(r[n]=e),e};uB.realpath=function(e,r,n){if(typeof n!="function"&&(n=Xme(r),r=null),e=z6.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},u={},o,a,l,f;c();function c(){var w=Ty.exec(e);o=w[0].length,a=w[0],l=w[0],f="",Mp&&!u[l]?Rp.lstat(l,function(x){if(x)return n(x);u[l]=!0,h()}):process.nextTick(h)}function h(){if(o>=e.length)return r&&(r[i]=e),n(null,e);Ud.lastIndex=o;var w=Ud.exec(e);return f=a,a+=w[0],l=f+w[1],o=Ud.lastIndex,u[l]||r&&r[l]===l?process.nextTick(h):r&&Object.prototype.hasOwnProperty.call(r,l)?m(r[l]):Rp.lstat(l,d)}function d(w,x){if(w)return n(w);if(!x.isSymbolicLink())return u[l]=!0,r&&(r[l]=l),process.nextTick(h);if(!Mp){var _=x.dev.toString(32)+":"+x.ino.toString(32);if(s.hasOwnProperty(_))return p(null,s[_],l)}Rp.stat(l,function(y){if(y)return n(y);Rp.readlink(l,function(S,F){Mp||(s[_]=F),p(S,F)})})}function p(w,x,_){if(w)return n(w);var y=z6.resolve(f,x);r&&(r[_]=y),m(y)}function m(w){e=z6.resolve(w,e.slice(o)),c()}}});var fB=$((sat,jG)=>{B();k();jG.exports=Np;Np.realpath=Np;Np.sync=cB;Np.realpathSync=cB;Np.monkeypatch=Jme;Np.unmonkeypatch=Qme;var q2=Ju(),oB=q2.realpath,aB=q2.realpathSync,Zme=process.version,UG=/^v[0-5]\./.test(Zme),$G=LG();function qG(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function Np(t,e,r){if(UG)return oB(t,e,r);typeof e=="function"&&(r=e,e=null),oB(t,e,function(n,i){qG(n)?$G.realpath(t,e,r):r(n,i)})}function cB(t,e){if(UG)return aB(t,e);try{return aB(t,e)}catch(r){if(qG(r))return $G.realpathSync(t,e);throw r}}function Jme(){q2.realpath=Np,q2.realpathSync=cB}function Qme(){q2.realpath=oB,q2.realpathSync=aB}});var zG=$((aat,KG)=>{B();k();KG.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);eye(i)?r.push.apply(r,i):r.push(i)}return r};var eye=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var XG=$((lat,YG)=>{"use strict";B();k();YG.exports=GG;function GG(t,e,r){t instanceof RegExp&&(t=VG(t,r)),e instanceof RegExp&&(e=VG(e,r));var n=WG(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function VG(t,e){var r=e.match(t);return r?r[0]:null}GG.range=WG;function WG(t,e,r){var n,i,s,u,o,a=r.indexOf(t),l=r.indexOf(e,a+1),f=a;if(a>=0&&l>0){for(n=[],s=r.length;f>=0&&!o;)f==a?(n.push(f),a=r.indexOf(t,f+1)):n.length==1?o=[n.pop(),l]:(i=n.pop(),i<s&&(s=i,u=l),l=r.indexOf(e,f+1)),f=a<l&&a>=0?a:l;n.length&&(o=[s,u])}return o}});var iW=$((pat,nW)=>{B();k();var tye=zG(),ZG=XG();nW.exports=iye;var JG="\0SLASH"+Math.random()+"\0",QG="\0OPEN"+Math.random()+"\0",dB="\0CLOSE"+Math.random()+"\0",eW="\0COMMA"+Math.random()+"\0",tW="\0PERIOD"+Math.random()+"\0";function lB(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function rye(t){return t.split("\\\\").join(JG).split("\\{").join(QG).split("\\}").join(dB).split("\\,").join(eW).split("\\.").join(tW)}function nye(t){return t.split(JG).join("\\").split(QG).join("{").split(dB).join("}").split(eW).join(",").split(tW).join(".")}function rW(t){if(!t)return[""];var e=[],r=ZG("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,u=n.split(",");u[u.length-1]+="{"+i+"}";var o=rW(s);return s.length&&(u[u.length-1]+=o.shift(),u.push.apply(u,o)),e.push.apply(e,u),e}function iye(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),j2(rye(t),!0).map(nye)):[]}function sye(t){return"{"+t+"}"}function uye(t){return/^-?0\d/.test(t)}function oye(t,e){return t<=e}function aye(t,e){return t>=e}function j2(t,e){var r=[],n=ZG("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=i||s,o=n.body.indexOf(",")>=0;if(!u&&!o)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+dB+n.post,j2(t)):[t];var a;if(u)a=n.body.split(/\.\./);else if(a=rW(n.body),a.length===1&&(a=j2(a[0],!1).map(sye),a.length===1)){var f=n.post.length?j2(n.post,!1):[""];return f.map(function(A){return n.pre+a[0]+A})}var l=n.pre,f=n.post.length?j2(n.post,!1):[""],c;if(u){var h=lB(a[0]),d=lB(a[1]),p=Math.max(a[0].length,a[1].length),m=a.length==3?Math.abs(lB(a[2])):1,w=oye,x=d<h;x&&(m*=-1,w=aye);var _=a.some(uye);c=[];for(var y=h;w(y,d);y+=m){var S;if(s)S=String.fromCharCode(y),S==="\\"&&(S="");else if(S=String(y),_){var F=p-S.length;if(F>0){var N=new Array(F+1).join("0");y<0?S="-"+N+S.slice(1):S=N+S}}c.push(S)}}else c=tye(a,function(P){return j2(P,!1)});for(var H=0;H<c.length;H++)for(var D=0;D<f.length;D++){var L=l+c[H]+f[D];(!e||u||L)&&r.push(L)}return r}});var S_=$((mat,cW)=>{B();k();cW.exports=za;za.Minimatch=Pu;var xy=function(){try{return wi()}catch{}}()||{sep:"/"};za.sep=xy.sep;var bB=za.GLOBSTAR=Pu.GLOBSTAR={},cye=iW(),sW={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},hB="[^/]",pB=hB+"*?",fye="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",lye="(?:(?!(?:\\/|^)\\.).)*?",uW=dye("().*{}+?[]^$\\!");function dye(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var oW=/\/+/;za.filter=hye;function hye(t,e){return e=e||{},function(r,n,i){return za(r,t,e)}}function Dp(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}za.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return za;var e=za,r=function(i,s,u){return e(i,s,Dp(t,u))};return r.Minimatch=function(i,s){return new e.Minimatch(i,Dp(t,s))},r.Minimatch.defaults=function(i){return e.defaults(Dp(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,Dp(t,s))},r.defaults=function(i){return e.defaults(Dp(t,i))},r.makeRe=function(i,s){return e.makeRe(i,Dp(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,Dp(t,s))},r.match=function(n,i,s){return e.match(n,i,Dp(t,s))},r};Pu.defaults=function(t){return za.defaults(t).Minimatch};function za(t,e,r){return v_(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Pu(e,r).match(t)}function Pu(t,e){if(!(this instanceof Pu))return new Pu(t,e);v_(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&xy.sep!=="/"&&(t=t.split(xy.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Pu.prototype.debug=function(){};Pu.prototype.make=pye;function pye(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(oW)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Pu.prototype.parseNegate=bye;function bye(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}za.braceExpand=function(t,e){return aW(t,e)};Pu.prototype.braceExpand=aW;function aW(t,e){return e||(this instanceof Pu?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,v_(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:cye(t)}var gye=1024*64,v_=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>gye)throw new TypeError("pattern is too long")};Pu.prototype.parse=mye;var y_={};function mye(t,e){v_(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return bB;if(t==="")return"";var n="",i=!!r.nocase,s=!1,u=[],o=[],a,l=!1,f=-1,c=-1,h=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function p(){if(a){switch(a){case"*":n+=pB,i=!0;break;case"?":n+=hB,i=!0;break;default:n+="\\"+a;break}d.debug("clearStateChar %j %j",a,n),a=!1}}for(var m=0,w=t.length,x;m<w&&(x=t.charAt(m));m++){if(this.debug("%s	%s %s %j",t,m,n,x),s&&uW[x]){n+="\\"+x,s=!1;continue}switch(x){case"/":return!1;case"\\":p(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,m,n,x),l){this.debug("  in class"),x==="!"&&m===c+1&&(x="^"),n+=x;continue}d.debug("call clearStateChar %j",a),p(),a=x,r.noext&&p();continue;case"(":if(l){n+="(";continue}if(!a){n+="\\(";continue}u.push({type:a,start:m-1,reStart:n.length,open:sW[a].open,close:sW[a].close}),n+=a==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",a,n),a=!1;continue;case")":if(l||!u.length){n+="\\)";continue}p(),i=!0;var _=u.pop();n+=_.close,_.type==="!"&&o.push(_),_.reEnd=n.length;continue;case"|":if(l||!u.length||s){n+="\\|",s=!1;continue}p(),n+="|";continue;case"[":if(p(),l){n+="\\"+x;continue}l=!0,c=m,f=n.length,n+=x;continue;case"]":if(m===c+1||!l){n+="\\"+x,s=!1;continue}var y=t.substring(c+1,m);try{RegExp("["+y+"]")}catch{var S=this.parse(y,y_);n=n.substr(0,f)+"\\["+S[0]+"\\]",i=i||S[1],l=!1;continue}i=!0,l=!1,n+=x;continue;default:p(),s?s=!1:uW[x]&&!(x==="^"&&l)&&(n+="\\"),n+=x}}for(l&&(y=t.substr(c+1),S=this.parse(y,y_),n=n.substr(0,f)+"\\["+S[0],i=i||S[1]),_=u.pop();_;_=u.pop()){var F=n.slice(_.reStart+_.open.length);this.debug("setting tail",n,_),F=F.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(T,U,Y){return Y||(Y="\\"),U+U+Y+"|"}),this.debug(`tail=%j
   %s`,F,F,_,n);var N=_.type==="*"?pB:_.type==="?"?hB:"\\"+_.type;i=!0,n=n.slice(0,_.reStart)+N+"\\("+F}p(),s&&(n+="\\\\");var H=!1;switch(n.charAt(0)){case"[":case".":case"(":H=!0}for(var D=o.length-1;D>-1;D--){var L=o[D],P=n.slice(0,L.reStart),A=n.slice(L.reStart,L.reEnd-8),b=n.slice(L.reEnd-8,L.reEnd),g=n.slice(L.reEnd);b+=g;var v=P.split("(").length-1,E=g;for(m=0;m<v;m++)E=E.replace(/\)[+*?]?/,"");g=E;var C="";g===""&&e!==y_&&(C="$");var R=P+A+g+C+b;n=R}if(n!==""&&i&&(n="(?=.)"+n),H&&(n=h+n),e===y_)return[n,i];if(!i)return vye(t);var O=r.nocase?"i":"";try{var M=new RegExp("^"+n+"$",O)}catch{return new RegExp("$.")}return M._glob=t,M._src=n,M}za.makeRe=function(t,e){return new Pu(t,e||{}).makeRe()};Pu.prototype.makeRe=yye;function yye(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?pB:e.dot?fye:lye,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(u){return u===bB?r:typeof u=="string"?Sye(u):u._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}za.match=function(t,e,r){r=r||{};var n=new Pu(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Pu.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;xy.sep!=="/"&&(e=e.split(xy.sep).join("/")),e=e.split(oW),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,u;for(u=e.length-1;u>=0&&(s=e[u],!s);u--);for(u=0;u<i.length;u++){var o=i[u],a=e;n.matchBase&&o.length===1&&(a=[s]);var l=this.matchOne(a,o,r);if(l)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Pu.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,u=t.length,o=e.length;i<u&&s<o;i++,s++){this.debug("matchOne loop");var a=e[s],l=t[i];if(this.debug(e,a,l),a===!1)return!1;if(a===bB){this.debug("GLOBSTAR",[e,a,l]);var f=i,c=s+1;if(c===o){for(this.debug("** at the end");i<u;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;f<u;){var h=t[f];if(this.debug(`
globstar while`,t,f,e,c,h),this.matchOne(t.slice(f),e.slice(c),r))return this.debug("globstar found match!",f,u,h),!0;if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",t,f,e,c);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,f,e,c),f===u))}var d;if(typeof a=="string"?(d=l===a,this.debug("string match",a,l,d)):(d=l.match(a),this.debug("pattern match",a,l,d)),!d)return!1}if(i===u&&s===o)return!0;if(i===u)return r;if(s===o)return i===u-1&&t[i]==="";throw new Error("wtf?")};function vye(t){return t.replace(/\\(.)/g,"$1")}function Sye(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var w_=$((Sat,__)=>{"use strict";B();k();function fW(t){return t.charAt(0)==="/"}function lW(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}__.exports=process.platform==="win32"?lW:fW;__.exports.posix=fW;__.exports.win32=lW});var mB=$(Hp=>{B();k();Hp.setopts=xye;Hp.ownProp=dW;Hp.makeAbs=Iy;Hp.finish=Iye;Hp.mark=Pye;Hp.isIgnored=pW;Hp.childrenIgnored=Oye;function dW(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _ye=Ju(),K2=wi(),wye=S_(),hW=w_(),gB=wye.Minimatch;function Eye(t,e){return t.localeCompare(e,"en")}function Aye(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Tye))}function Tye(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new gB(r,{dot:!0})}return{matcher:new gB(t,{dot:!0}),gmatcher:e}}function xye(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||_ye,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Aye(t,r),t.changedCwd=!1;var n=process.cwd();dW(r,"cwd")?(t.cwd=K2.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||K2.resolve(t.cwd,"/"),t.root=K2.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=hW(t.cwd)?t.cwd:Iy(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new gB(e,r),t.options=t.minimatch.options}function Iye(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var u=t.minimatch.globSet[n];e?r.push(u):r[u]=!0}}else{var o=Object.keys(s);e?r.push.apply(r,o):o.forEach(function(a){r[a]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Eye)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(a){var l=!/\/$/.test(a),f=t.cache[a]||t.cache[Iy(t,a)];return l&&f&&(l=f!=="DIR"&&!Array.isArray(f)),l}))}t.ignore.length&&(r=r.filter(function(a){return!pW(t,a)})),t.found=r}function Pye(t,e){var r=Iy(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),u=e.slice(-1)==="/";if(s&&!u?i+="/":!s&&u&&(i=i.slice(0,-1)),i!==e){var o=Iy(t,i);t.statCache[o]=t.statCache[r],t.cache[o]=t.cache[r]}}return i}function Iy(t,e){var r=e;return e.charAt(0)==="/"?r=K2.join(t.root,e):hW(e)||e===""?r=e:t.changedCwd?r=K2.resolve(t.cwd,e):r=K2.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function pW(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Oye(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var vW=$((Oat,yW)=>{B();k();yW.exports=mW;mW.GlobSync=Os;var Bye=fB(),bW=S_(),xat=bW.Minimatch,Iat=SB().Glob,Pat=t$(),yB=wi(),gW=wc(),E_=w_(),V6=mB(),kye=V6.setopts,vB=V6.ownProp,Cye=V6.childrenIgnored,Fye=V6.isIgnored;function mW(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Os(t,e).found}function Os(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Os))return new Os(t,e);if(kye(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Os.prototype._finish=function(){if(gW.ok(this instanceof Os),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=Bye.realpathSync(i,t.realpathCache);n[s]=!0}catch(u){if(u.syscall==="stat")n[t._makeAbs(i)]=!0;else throw u}})}V6.finish(this)};Os.prototype._process=function(t,e,r){gW.ok(this instanceof Os);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),u;i===null?u=".":((E_(i)||E_(t.map(function(l){return typeof l=="string"?l:"[*]"}).join("/")))&&(!i||!E_(i))&&(i="/"+i),u=i);var o=this._makeAbs(u);if(!Cye(this,u)){var a=s[0]===bW.GLOBSTAR;a?this._processGlobStar(i,u,o,s,e,r):this._processReaddir(i,u,o,s,e,r)}};Os.prototype._processReaddir=function(t,e,r,n,i,s){var u=this._readdir(r,s);if(!!u){for(var o=n[0],a=!!this.minimatch.negate,l=o._glob,f=this.dot||l.charAt(0)===".",c=[],h=0;h<u.length;h++){var d=u[h];if(d.charAt(0)!=="."||f){var p;a&&!t?p=!d.match(o):p=d.match(o),p&&c.push(d)}}var m=c.length;if(m!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<m;h++){var d=c[h];t&&(t.slice(-1)!=="/"?d=t+"/"+d:d=t+d),d.charAt(0)==="/"&&!this.nomount&&(d=yB.join(this.root,d)),this._emitMatch(i,d)}return}n.shift();for(var h=0;h<m;h++){var d=c[h],w;t?w=[t,d]:w=[d],this._process(w.concat(n),i,s)}}}};Os.prototype._emitMatch=function(t,e){if(!Fye(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};Os.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};Os.prototype._readdir=function(t,e){var r;if(e&&!vB(this.symlinks,t))return this._readdirInGlobStar(t);if(vB(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};Os.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};Os.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Os.prototype._processGlobStar=function(t,e,r,n,i,s){var u=this._readdir(r,s);if(!!u){var o=n.slice(1),a=t?[t]:[],l=a.concat(o);this._process(l,i,!1);var f=u.length,c=this.symlinks[r];if(!(c&&s))for(var h=0;h<f;h++){var d=u[h];if(!(d.charAt(0)==="."&&!this.dot)){var p=a.concat(u[h],o);this._process(p,i,!0);var m=a.concat(u[h],n);this._process(m,i,!0)}}}};Os.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&E_(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=yB.join(this.root,t):(t=yB.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};Os.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&vB(this.cache,e)){var u=this.cache[e];if(Array.isArray(u)&&(u="DIR"),!r||u==="DIR")return u;if(r&&u==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var u=!0;return i&&(u=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||u,r&&u==="FILE"?!1:u};Os.prototype._mark=function(t){return V6.mark(this,t)};Os.prototype._makeAbs=function(t){return V6.makeAbs(this,t)}});var _W=$((Cat,SW)=>{B();k();var Rye=fpe(),Py=Object.create(null),Mye=s$();SW.exports=Rye(Nye);function Nye(t,e){return Py[t]?(Py[t].push(e),null):(Py[t]=[e],Dye(t))}function Dye(t){return Mye(function e(){var r=Py[t],n=r.length,i=Hye(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete Py[t]}})}function Hye(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var SB=$((Dat,EW)=>{B();k();EW.exports=G6;var Lye=fB(),wW=S_(),Mat=wW.Minimatch,Uye=w6(),$ye=JI().EventEmitter,_B=wi(),wB=wc(),Oy=w_(),AB=vW(),W6=mB(),qye=W6.setopts,EB=W6.ownProp,TB=_W(),Nat=t$(),jye=W6.childrenIgnored,Kye=W6.isIgnored,zye=s$();function G6(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return AB(t,e)}return new pn(t,e,r)}G6.sync=AB;var Vye=G6.GlobSync=AB.GlobSync;G6.glob=G6;function Gye(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}G6.hasMagic=function(t,e){var r=Gye({},e);r.noprocess=!0;var n=new pn(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};G6.Glob=pn;Uye(pn,$ye);function pn(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Vye(t,e)}if(!(this instanceof pn))return new pn(t,e,r);qye(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=zye(r),this.on("error",r),this.on("end",function(a){r(null,a)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return o();for(var s=!0,u=0;u<n;u++)this._process(this.minimatch.set[u],u,!1,o);s=!1;function o(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}pn.prototype._finish=function(){if(wB(this instanceof pn),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();W6.finish(this),this.emit("end",this.found)}};pn.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};pn.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var u=this.matches[t]=Object.create(null);n.forEach(function(o,a){o=i._makeAbs(o),Lye.realpath(o,i.realpathCache,function(l,f){l?l.syscall==="stat"?u[o]=!0:i.emit("error",l):u[f]=!0,--s===0&&(i.matches[t]=u,e())})})};pn.prototype._mark=function(t){return W6.mark(this,t)};pn.prototype._makeAbs=function(t){return W6.makeAbs(this,t)};pn.prototype.abort=function(){this.aborted=!0,this.emit("abort")};pn.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};pn.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};pn.prototype._process=function(t,e,r,n){if(wB(this instanceof pn),wB(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var u=t.slice(i),o;s===null?o=".":((Oy(s)||Oy(t.map(function(f){return typeof f=="string"?f:"[*]"}).join("/")))&&(!s||!Oy(s))&&(s="/"+s),o=s);var a=this._makeAbs(o);if(jye(this,o))return n();var l=u[0]===wW.GLOBSTAR;l?this._processGlobStar(s,o,a,u,e,r,n):this._processReaddir(s,o,a,u,e,r,n)}};pn.prototype._processReaddir=function(t,e,r,n,i,s,u){var o=this;this._readdir(r,s,function(a,l){return o._processReaddir2(t,e,r,n,i,s,l,u)})};pn.prototype._processReaddir2=function(t,e,r,n,i,s,u,o){if(!u)return o();for(var a=n[0],l=!!this.minimatch.negate,f=a._glob,c=this.dot||f.charAt(0)===".",h=[],d=0;d<u.length;d++){var p=u[d];if(p.charAt(0)!=="."||c){var m;l&&!t?m=!p.match(a):m=p.match(a),m&&h.push(p)}}var w=h.length;if(w===0)return o();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<w;d++){var p=h[d];t&&(t!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=_B.join(this.root,p)),this._emitMatch(i,p)}return o()}n.shift();for(var d=0;d<w;d++){var p=h[d],x;t&&(t!=="/"?p=t+"/"+p:p=t+p),this._process([p].concat(n),i,s,o)}o()};pn.prototype._emitMatch=function(t,e){if(!this.aborted&&!Kye(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=Oy(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};pn.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=TB(r,s);i&&n.fs.lstat(t,i);function s(u,o){if(u&&u.code==="ENOENT")return e();var a=o&&o.isSymbolicLink();n.symlinks[t]=a,!a&&o&&!o.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};pn.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=TB("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!EB(this.symlinks,t))return this._readdirInGlobStar(t,r);if(EB(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,Wye(this,t,r))}};function Wye(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}pn.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};pn.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};pn.prototype._processGlobStar=function(t,e,r,n,i,s,u){var o=this;this._readdir(r,s,function(a,l){o._processGlobStar2(t,e,r,n,i,s,l,u)})};pn.prototype._processGlobStar2=function(t,e,r,n,i,s,u,o){if(!u)return o();var a=n.slice(1),l=t?[t]:[],f=l.concat(a);this._process(f,i,!1,o);var c=this.symlinks[r],h=u.length;if(c&&s)return o();for(var d=0;d<h;d++){var p=u[d];if(!(p.charAt(0)==="."&&!this.dot)){var m=l.concat(u[d],a);this._process(m,i,!0,o);var w=l.concat(u[d],n);this._process(w,i,!0,o)}}o()};pn.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};pn.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&Oy(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=_B.join(this.root,t):(t=_B.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};pn.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&EB(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,u=this.statCache[r];if(u!==void 0){if(u===!1)return e(null,u);var o=u.isDirectory()?"DIR":"FILE";return n&&o==="FILE"?e():e(null,o,u)}var a=this,l=TB("stat\0"+r,f);l&&a.fs.lstat(r,l);function f(c,h){if(h&&h.isSymbolicLink())return a.fs.stat(r,function(d,p){d?a._stat2(t,r,null,h,e):a._stat2(t,r,d,p,e)});a._stat2(t,r,c,h,e)}};pn.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var u=!0;return n&&(u=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||u,s&&u==="FILE"?i():i(null,u,n)}});var OB=$((Uat,BW)=>{B();k();var En=wc(),IW=wi(),AW=Ju(),z2;try{z2=SB()}catch{}var Yye={nosort:!0,silent:!0},xB=0,By=process.platform==="win32",PW=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||AW[r],r=r+"Sync",t[r]=t[r]||AW[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&z2===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||Yye},PB=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),En(t,"rimraf: missing path"),En.equal(typeof t,"string","rimraf: path should be a string"),En.equal(typeof r,"function","rimraf: callback function required"),En(e,"rimraf: invalid options argument provided"),En.equal(typeof e,"object","rimraf: options should be object"),PW(e);let n=0,i=null,s=0,u=a=>{i=i||a,--s===0&&r(i)},o=(a,l)=>{if(a)return r(a);if(s=l.length,s===0)return r();l.forEach(f=>{let c=h=>{if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&n<e.maxBusyTries)return n++,setTimeout(()=>IB(f,e,c),n*100);if(h.code==="EMFILE"&&xB<e.emfileWait)return setTimeout(()=>IB(f,e,c),xB++);h.code==="ENOENT"&&(h=null)}xB=0,u(h)};IB(f,e,c)})};if(e.disableGlob||!z2.hasMagic(t))return o(null,[t]);e.lstat(t,(a,l)=>{if(!a)return o(null,[t]);z2(t,e.glob,o)})},IB=(t,e,r)=>{En(t),En(e),En(typeof r=="function"),e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&By&&TW(t,e,n,r),i&&i.isDirectory())return A_(t,e,n,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return By?TW(t,e,s,r):A_(t,e,s,r);if(s.code==="EISDIR")return A_(t,e,s,r)}return r(s)})})},TW=(t,e,r,n)=>{En(t),En(e),En(typeof n=="function"),e.chmod(t,438,i=>{i?n(i.code==="ENOENT"?null:r):e.stat(t,(s,u)=>{s?n(s.code==="ENOENT"?null:r):u.isDirectory()?A_(t,e,r,n):e.unlink(t,n)})})},xW=(t,e,r)=>{En(t),En(e);try{e.chmodSync(t,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?T_(t,e,r):e.unlinkSync(t)},A_=(t,e,r,n)=>{En(t),En(e),En(typeof n=="function"),e.rmdir(t,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Xye(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},Xye=(t,e,r)=>{En(t),En(e),En(typeof r=="function"),e.readdir(t,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return e.rmdir(t,r);let u;i.forEach(o=>{PB(IW.join(t,o),e,a=>{if(!u){if(a)return r(u=a);--s===0&&e.rmdir(t,r)}})})})},OW=(t,e)=>{e=e||{},PW(e),En(t,"rimraf: missing path"),En.equal(typeof t,"string","rimraf: path should be a string"),En(e,"rimraf: missing options"),En.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!z2.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=z2.sync(t,e.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=e.lstatSync(i)}catch(u){if(u.code==="ENOENT")return;u.code==="EPERM"&&By&&xW(i,e,u)}try{s&&s.isDirectory()?T_(i,e,null):e.unlinkSync(i)}catch(u){if(u.code==="ENOENT")return;if(u.code==="EPERM")return By?xW(i,e,u):T_(i,e,u);if(u.code!=="EISDIR")throw u;T_(i,e,u)}}},T_=(t,e,r)=>{En(t),En(e);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&Zye(t,e)}},Zye=(t,e)=>{En(t),En(e),e.readdirSync(t).forEach(i=>OW(IW.join(t,i),e));let r=By?100:1,n=0;do{let i=!0;try{let s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};BW.exports=PB;PB.sync=OW});var Cy=$(It=>{"use strict";B();k();Object.defineProperty(It,"__esModule",{value:!0});It.loadSourceMapfromArtifact=It.getStaticDeclaration=It.getAliasDeclaration=It.getContractDeclaration=It.getLibraryDeclaration=It.getStructDeclaration=It.getABIDeclaration=It.getContractName=It.getFullFilePath=It.compilerVersion=It.handleCompilerOutput=It.compile=It.settings2cmd=It.compileAsync=It.doCompileAsync=It.ABIEntityType=It.DebugModeTag=It.CompileResult=It.BuildType=It.CompileErrorType=It.SOURCE_REG=void 0;var CB=Ay(),la=Ju(),Di=wi(),Yc=Va(),Jye=OB(),Qye=f$(),e4e=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):\n([^\n]+\n){3}(unexpected (?<unexpected>[^\n]+)\nexpecting (?<expecting>[^\n]+)|(?<message>[^\n]+))/g,t4e=/Error:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,kW=/Internal error:(?<message>.+)/,r4e=/Warning:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,CW=Qye({alwaysParseAsBig:!0,constructorAction:"preserve"});It.SOURCE_REG=/^(?<fileIndex>-?\d+):(?<line>\d+):(?<col>\d+):(?<endLine>\d+):(?<endCol>\d+)(#(?<tagStr>.+))?/;var n4e=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+)/gi,ky;(function(t){t.SyntaxError="SyntaxError",t.SemanticError="SemanticError",t.InternalError="InternalError",t.Warning="Warning"})(ky=It.CompileErrorType||(It.CompileErrorType={}));var P_;(function(t){t.Debug="debug",t.Release="release"})(P_=It.BuildType||(It.BuildType={}));var Y6=class{constructor(e,r){this.errors=e,this.warnings=r}toArtifact(){return{version:Yc.CURRENT_CONTRACT_ARTIFACT_VERSION,compilerVersion:this.compilerVersion||"0.0.0",contract:this.contract||"",md5:this.md5||"",structs:this.structs||[],library:this.library||[],alias:this.alias||[],abi:this.abi||[],stateProps:this.stateProps||[],buildType:this.buildType||P_.Debug,file:this.file||"",hex:this.hex||"",asm:"",sourceMap:[],sources:[],sourceMapFile:this.sourceMapFile||""}}};It.CompileResult=Y6;var x_;(function(t){t.FuncStart="F0",t.FuncEnd="F1",t.LoopStart="L0"})(x_=It.DebugModeTag||(It.DebugModeTag={}));var I_;(function(t){t.FUNCTION="function",t.CONSTRUCTOR="constructor"})(I_=It.ABIEntityType||(It.ABIEntityType={}));function MW(t,e){return(0,Di.join)(t,(0,Di.basename)(e)+"-"+(0,Yc.hash160)(e,"utf-8").substring(0,10))}function NW(t,e,r){let n=t.path,i=(0,Di.dirname)(n),s=e.cwd||i,u=e.timeout||12e5,o=t.content!==void 0?t.content:(0,la.readFileSync)(n,"utf8"),a=FB(n,e),l=(0,CB.exec)(a,{cwd:s,timeout:u,killSignal:"SIGKILL"},(f,c)=>{if(f){console.error(`exec error: ${f} stdout: ${c}`),r(f,null);return}r(null,{path:n,output:c})});return l.stdin.write(o,f=>{if(f){r(f,null);return}l.stdin.end()}),l}It.doCompileAsync=NW;function i4e(t,e){return e=Object.assign({},DW,e),new Promise((r,n)=>{NW(t,e,async(i,s)=>{if(i){n(i);return}try{let u=RB(t.path,e,s.output);r(u)}catch(u){n(u)}})})}It.compileAsync=i4e;var DW={ast:!0,asm:!1,hex:!0,debug:!1,artifact:!1,outputDir:"",outputToFiles:!1,cwd:"",cmdPrefix:"",cmdArgs:"",buildType:P_.Debug,stdout:!1,sourceMap:!1,timeout:12e5,optimize:!1};function FB(t,e){let r=(0,Di.dirname)(t),n=e.outputDir||r,i=MW(n,t),s=e.cmdPrefix||(0,Yc.findCompiler)(),u=`-o "${i}"`;return e.stdout?(u="--stdout",`"${s}" compile ${e.asm||e.artifact?"--asm":""} ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} -r ${u} ${e.cmdArgs?e.cmdArgs:""}`):((0,la.existsSync)(i)||(0,la.mkdirSync)(i),`"${s}" compile ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} ${e.sourceMap==!0?"--source-map":""} -r ${u} ${e.cmdArgs?e.cmdArgs:""}`)}It.settings2cmd=FB;function s4e(t,e){let r=t.path,n=(0,Di.dirname)(r),i=e.cwd||n,s=t.content!==void 0?t.content:(0,la.readFileSync)(r,"utf8"),u=e.stdout?1024*1024*100:1024*1024;e=Object.assign({},DW,e);let o=FB(r,e),a=(0,CB.execSync)(o,{input:s,cwd:i,timeout:e.timeout,maxBuffer:u}).toString();return RB(r,e,a)}It.compile=s4e;function u4e(t){let e=t.replace(/<([^>]+)>/g,"<>");return(0,Yc.md5)(e)}function RB(t,e,r){let n=(0,Di.dirname)(t),i=(0,Di.basename)(t),s=e.outputDir||n,u=MW(s,t),o={};try{r=r.split(/\r?\n/g).join(`
`);let a=new Y6([],[]);if(a.compilerVersion=HW(e.cmdPrefix?e.cmdPrefix:(0,Yc.findCompiler)()),a.buildType=e.buildType||P_.Debug,(r.startsWith("Error:")||r.startsWith("Warning:"))&&(Object.assign(a,l4e(r,n,i)),a.errors.length>0||e.stdout&&a.warnings.length>0))return a;if(e.stdout){let l=CW.parse(r);RW(a,l.ast,n,i,t),d4e(a,l.asm,e,n,i)}else{if(e.ast||e.artifact){let l=V2(u,"ast"),f=l.replace("stdin",(0,Di.basename)(t,".scrypt"));(0,la.renameSync)(l,f),o.ast=f;let c=CW.parse((0,la.readFileSync)(f,"utf8"));RW(a,c,n,i,t)}if(e.hex||e.artifact){let l=V2(u,"hex"),f=l.replace("stdin",(0,Di.basename)(t,".scrypt"));(0,la.renameSync)(l,f),o.hex=f,a.hex=(0,la.readFileSync)(f,"utf8"),a.md5=u4e(a.hex)}if(e.sourceMap){let l=V2(u,"map");if(e.artifact){let c=V2(s,"map").replace("stdin",(0,Di.basename)(t,".scrypt"));(0,la.renameSync)(l,c),a.sourceMapFile=(0,Yc.path2uri)(c)}else{let f=l.replace("stdin",(0,Di.basename)(t,".scrypt"));(0,la.renameSync)(l,f),o.map=f,a.sourceMapFile=(0,Yc.path2uri)(f)}}if(e.debug){let l=V2(u,"dbg"),f=l.replace("stdin",(0,Di.basename)(t,".scrypt"));(0,la.renameSync)(l,f),a.dbgFile=(0,Yc.path2uri)(f)}if(e.artifact){let f=V2(s,"artifact").replace("stdin",(0,Di.basename)(t,".scrypt")),c=a.toArtifact();(0,la.writeFileSync)(f,JSON.stringify(c,(h,d)=>{if(h==="file")return(0,Di.relative)(f,d);if(!(h=="sources"||h=="sourceMap"||h==="asm"))return d},4))}}return a}finally{h4e(e,o,u)}}It.handleCompilerOutput=RB;function HW(t){try{let e=(0,CB.execSync)(`"${t}" version`).toString();return/Version:\s*([^\s]+)\s*/.exec(e)[1]}catch{throw new Error(`compilerVersion fail when run: ${t} version`)}}It.compilerVersion=HW;function o4e(t,e,r){for(let n in t)if(n==="std")t.std=kB(t.std,"std");else{let i=n==="stdin"?r:n,s=(0,Yc.path2uri)((0,Di.join)(e,i));t[s]=kB(t[n],s),delete t[n]}return t}function kB(t,e){if(typeof t!="object")return t;for(let r in t){let n=t[r];if(r==="src"){let i=/:(\d+):(\d+):(\d+):(\d+)/.exec(n);i?t.loc={source:e,start:{line:parseInt(i[1]),column:parseInt(i[2])},end:{line:parseInt(i[3]),column:parseInt(i[4])}}:t.loc=null,delete t.src}else typeof n=="object"&&kB(n,e)}return t}function V2(t,e){return e=="hex"?(0,Di.join)(t,`stdin_${e}.txt`):e==="map"?(0,Di.join)(t,`stdin.${e}.json`):e==="dbg"?(0,Di.join)(t,`stdin.${e}.json`):e==="artifact"?(0,Di.join)(t,"stdin.json"):(0,Di.join)(t,`stdin_${e}.json`)}function $d(t,e,r){return t.endsWith("stdin")?(0,Di.join)(e,r):t==="std"?"std":(0,Di.join)(e,t)}It.getFullFilePath=$d;function a4e(t){if(t.constructor)return{type:I_.CONSTRUCTOR,params:t.constructor.params.map(e=>({name:e.name,type:e.type}))};if(t.properties)return{type:I_.CONSTRUCTOR,params:t.properties.map(e=>({name:e.name.replace("this.",""),type:e.type}))}}function c4e(t){let e=t.contracts[t.contracts.length-1];return e&&e.properties?e.properties.filter(r=>r.state).map(r=>({name:r.name.replace("this.",""),type:r.type})):[]}function f4e(t){let e=0;return t.functions.filter(n=>n.visibility==="Public").map(n=>({type:I_.FUNCTION,name:n.name,index:n.nodeType==="Constructor"?void 0:e++,params:n.params.map(s=>({name:s.name,type:s.type}))}))}function MB(t){let e=t.contracts[t.contracts.length-1];return e&&e.name||""}It.getContractName=MB;function FW(t){let e=t.match(/__SCRYPT_(\w+)__/);return e?e[1]:t}function LW(t,e){let r=t.contracts[t.contracts.length-1];if(!r)return{contract:"",abi:[]};let n=f4e(r),i=a4e(r);return n.push(i),n.forEach(s=>{s.params=s.params.map(u=>Object.assign(u,{type:e(u.type).finalType}))}),{contract:MB(t),abi:n}}It.getABIDeclaration=LW;function UW(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.structs||[]).map(i=>({name:i.name,params:i.fields.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}))).flat(1)}It.getStructDeclaration=UW;function $W(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Library").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}It.getLibraryDeclaration=$W;function qW(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Contract").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}It.getContractDeclaration=qW;function jW(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.alias||[]).map(i=>({name:i.alias,type:i.type}))).flat(1)}It.getAliasDeclaration=jW;function KW(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.contracts||[]).map(i=>(i.statics||[]).map(s=>({const:s.const,name:`${i.name}.${s.name}`,type:s.type,value:(0,Yc.resolveConstValue)(s)})))).flat(1/0).flat(1)}It.getStaticDeclaration=KW;function BB(t,e,r){let n=[],i;for(;i=n4e.exec(t);){let s=i.groups.filePath;if(s==="null")continue;let u=$d(s,e,r),o=parseInt(i.groups?.line||"-1"),a=parseInt(i.groups?.column||"-1");n.push({filePath:u,position:[{line:o,column:a},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:""}),t=t.replace(/([^\s]+):(\d+):(\d+):(\d+):(\d+)/,"")}return{relatedInformation:n,message:t}}function l4e(t,e,r){let n=[...t.matchAll(r4e)].map(i=>{let s=i.groups?.filePath||"",u=i.groups?.message||"",{message:o,relatedInformation:a}=BB(u,e,r);return{type:ky.Warning,filePath:$d(s,e,r),position:[{line:parseInt(i.groups?.line||"-1"),column:parseInt(i.groups?.column||"-1")},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:o,relatedInformation:a}});if(t.match(kW)){let i=[{type:ky.InternalError,filePath:$d("stdin",e,r),message:`Compiler internal error: ${t.match(kW).groups?.message||""}`,position:[{line:1,column:1},{line:1,column:1}],relatedInformation:[]}];return new Y6(i,n)}else if(t.includes("Syntax error:")){let i=[...t.matchAll(e4e)].map(s=>{let u=s.groups?.filePath||"",o=s.groups?.unexpected||"",a=s.groups?.expecting||"",l=s.groups?.message||`unexpected ${o}
expecting ${a}`,{message:f,relatedInformation:c}=BB(l,e,r);return{type:ky.SyntaxError,filePath:$d(u,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")}],message:f,unexpected:o,expecting:a,relatedInformation:c}});return new Y6(i,n)}else{let i=[...t.matchAll(t4e)].map(s=>{let u=s.groups?.message||"",o=s.groups?.filePath||"",{message:a,relatedInformation:l}=BB(u,e,r);return{type:ky.SemanticError,filePath:$d(o,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")},{line:parseInt(s.groups?.line1||"-1"),column:parseInt(s.groups?.column1||"-1")}],message:a,relatedInformation:l}});return new Y6(i,n)}}function RW(t,e,r,n,i){let s=o4e(e,r,n),u=(0,Yc.path2uri)(i);t.file=i,t.ast=s[u],delete s[u],t.dependencyAsts=s;let o=jW(t.ast,s),a=UW(t.ast,s),l=$W(t.ast,s),f=KW(t.ast,s);t.contracts=qW(t.ast,s);let c=(0,Yc.buildTypeResolver)(MB(t.ast),o,a,l,t.contracts,f);t.alias=o.map(p=>({name:p.name,type:c(p.type).finalType})),t.structs=a.map(p=>({name:p.name,params:p.params.map(m=>({name:m.name,type:c(m.type).finalType})),genericTypes:p.genericTypes.map(m=>FW(m))})),t.library=l.map(p=>({name:p.name,params:p.params.map(m=>({name:m.name,type:c(m.type).finalType})),properties:p.properties.map(m=>({name:m.name,type:c(m.type).finalType})),genericTypes:p.genericTypes.map(m=>FW(m))})),t.statics=f.map(p=>Object.assign({...p},{type:c(p.type).finalType}));let{contract:h,abi:d}=LW(t.ast,c);t.stateProps=c4e(t.ast).map(p=>({name:p.name,type:c(p.type).finalType})),t.abi=d,t.contract=h}function d4e(t,e,r,n,i){let s=e.sources;r.debug&&Object.assign(t,{file:t.file,sources:e.sources.map(u=>$d(u,n,i)),sourceMap:e.output.map(u=>u.src)}),t.hex=r.hex?e.output.map(u=>u.hex).join(""):"",t.asm=e.output.map(u=>{if(!r.debug)return{opcode:u.opcode};let o=It.SOURCE_REG.exec(u.src);if(o&&o.groups){let a=parseInt(o.groups.fileIndex),l,f=o.groups.tagStr,c=/^(\w+)\.(\w+):(\d)(#(?<context>.+))?$/.exec(f);c?l={contract:c[1],func:c[2],tag:c[3]=="0"?x_.FuncStart:x_.FuncEnd,context:c.groups.context}:/loop:0/.test(f)&&(l={contract:"",func:"",tag:x_.LoopStart,context:""});let h=s[a]?{file:s[a]?$d(s[a],n,i):void 0,line:s[a]?parseInt(o.groups.line):void 0,endLine:s[a]?parseInt(o.groups.endLine):void 0,column:s[a]?parseInt(o.groups.col):void 0,endColumn:s[a]?parseInt(o.groups.endCol):void 0}:void 0;return{opcode:u.opcode,stack:u.stack,topVars:u.topVars||[],pos:h,debugInfo:l}}throw new Error("Compile Failed: Asm output parsing Error!")}),r.debug&&(t.autoTypedVars=e.autoTypedVars.map(u=>{let o=It.SOURCE_REG.exec(u.src);if(o&&o.groups){let a=parseInt(o.groups.fileIndex),l=s[a]?{file:s[a]?$d(s[a],n,i):void 0,line:s[a]?parseInt(o.groups.line):void 0,endLine:s[a]?parseInt(o.groups.endLine):void 0,column:s[a]?parseInt(o.groups.col):void 0,endColumn:s[a]?parseInt(o.groups.endCol):void 0}:void 0;return{name:u.name,type:u.type,pos:l}}}))}function h4e(t,e,r){if(!(t.stdout||t.outputToFiles||t.sourceMap))try{Object.keys(e).forEach(n=>{let i=e[n];(0,la.existsSync)(i)&&(0,la.unlinkSync)(i)}),Jye.sync(r)}catch{console.error("clean compiler output files failed!")}}function p4e(t){let e=t.sources,r=t.asm.split(" ");return!t.sourceMap||t.sourceMap.length==0?[]:r.map((n,i)=>{let s=t.sourceMap[i],u=It.SOURCE_REG.exec(s);if(u&&u.groups){let o=parseInt(u.groups.fileIndex);return{pos:e[o]?{file:e[o],line:e[o]?parseInt(u.groups.line):void 0,endLine:e[o]?parseInt(u.groups.endLine):void 0,column:e[o]?parseInt(u.groups.col):void 0,endColumn:e[o]?parseInt(u.groups.endCol):void 0}:void 0,opcode:n}}})}It.loadSourceMapfromArtifact=p4e});var jd=$(Pt=>{"use strict";B();k();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.isBytes=Pt.isSubBytes=Pt.isScryptType=Pt.getValidatedHexString=Pt.getSortedItem=Pt.OpCodeType=Pt.SigHashPreimage=Pt.SigHashType=Pt.SignatureHashType=Pt.HashedMap=Pt.HashedSet=Pt.Sha256=Pt.Sha1=Pt.PubKeyHash=Pt.Ripemd160=Pt.Sig=Pt.PubKey=Pt.PrivKey=Pt.Bytes=Pt.Bool=Pt.Int=Pt.ScryptType=Pt.SymbolType=void 0;var b4e;(function(t){t.ScryptType="ScryptType",t.Contract="Contract",t.Library="Library",t.Struct="Struct",t.Unknown="Unknown"})(b4e=Pt.SymbolType||(Pt.SymbolType={}));var Xc;(function(t){t.BOOL="bool",t.INT="int",t.BYTES="bytes",t.PUBKEY="PubKey",t.PRIVKEY="PrivKey",t.SIG="Sig",t.RIPEMD160="Ripemd160",t.SHA1="Sha1",t.SHA256="Sha256",t.SIGHASHTYPE="SigHashType",t.SIGHASHPREIMAGE="SigHashPreimage",t.OPCODETYPE="OpCodeType"})(Xc=Pt.ScryptType||(Pt.ScryptType={}));function zW(t){return BigInt(t)}Pt.Int=zW;function g4e(t){return t}Pt.Bool=g4e;function m4e(t){return qd(t)}Pt.Bytes=m4e;function y4e(t){return t}Pt.PrivKey=y4e;function v4e(t){return qd(t,!1)}Pt.PubKey=v4e;function S4e(t){return qd(t,!1)}Pt.Sig=S4e;function VW(t){return qd(t,!1)}Pt.Ripemd160=VW;function _4e(t){return VW(t)}Pt.PubKeyHash=_4e;function w4e(t){return qd(t,!1)}Pt.Sha1=w4e;function E4e(t){return qd(t,!1)}Pt.Sha256=E4e;function A4e(t){return t}Pt.HashedSet=A4e;function T4e(t){return t}Pt.HashedMap=T4e;var X6;(function(t){t[t.ALL=65]="ALL",t[t.NONE=66]="NONE",t[t.SINGLE=67]="SINGLE",t[t.ANYONECANPAY_ALL=193]="ANYONECANPAY_ALL",t[t.ANYONECANPAY_NONE=194]="ANYONECANPAY_NONE",t[t.ANYONECANPAY_SINGLE=195]="ANYONECANPAY_SINGLE"})(X6=Pt.SignatureHashType||(Pt.SignatureHashType={}));function x4e(t){if(t==0)return"00";if(t===X6.ALL||t===X6.NONE||t===X6.SINGLE||t===X6.ANYONECANPAY_ALL||t===X6.ANYONECANPAY_NONE||t===X6.ANYONECANPAY_SINGLE)return`${t.toString(16)}`;throw new Error(`unsupported SigHashType: ${t}`)}Pt.SigHashType=x4e;function I4e(t){return qd(t,!1)}Pt.SigHashPreimage=I4e;function P4e(t){return qd(t,!1)}Pt.OpCodeType=P4e;function O4e(t,e){return Object.assign({idx:zW(-1),item:e},{image:t instanceof Map?new Map(t):new Set(t)})}Pt.getSortedItem=O4e;function qd(t,e=!0){let r=t.trim();if(r.length<1&&!e)throw new Error("can't be empty string");if(r.length%2)throw new Error(`<${r}> should have even length`);if(r.length>0&&!/^[\da-f]+$/i.test(r))throw new Error(`<${r}> should only contain [0-9] or characters [a-fA-F]`);return r}Pt.getValidatedHexString=qd;function B4e(t){return Object.keys(Xc).map(e=>Xc[e]).includes(t)}Pt.isScryptType=B4e;function GW(t){return[Xc.OPCODETYPE,Xc.PUBKEY,Xc.RIPEMD160,Xc.SHA1,Xc.SHA256,Xc.SIG,Xc.SIGHASHPREIMAGE,Xc.SIGHASHTYPE,"PubKeyHash"].map(e=>e.toString()).includes(t)}Pt.isSubBytes=GW;function k4e(t){return t===Xc.BYTES||GW(t)}Pt.isBytes=k4e});var Dy=$(Wr=>{"use strict";B();k();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.resolveGenericType=Wr.parseGenericType=Wr.isGenericType=Wr.resolveType=Wr.findStatic=Wr.findConstStatic=Wr.flatternArg=Wr.deduceGenericLibrary=Wr.deduceGenericStruct=Wr.hasGeneric=Wr.checkSupportedParamType=Wr.subArrayType=Wr.toLiteralArrayType=Wr.arrayTypeAndSize=Wr.arrayTypeAndSizeStr=Wr.typeOfArg=void 0;var zd=mr(),B_=Va(),Ou=jd();function O_(t){return typeof t=="bigint"?"int":typeof t=="boolean"?"bool":typeof t=="string"?"bytes":Array.isArray(t)?"Array":typeof t}Wr.typeOfArg=O_;function Z6(t){let e=[];if(t.indexOf(">")>-1){let i=t.substring(0,t.lastIndexOf(">")+1);return[...t.substring(t.lastIndexOf(">")+1).matchAll(/\[([\w.]+)\]+/g)].map(u=>{e.push(u[1])}),[i,e]}return[...t.matchAll(/\[([\w.]+)\]+/g)].map(i=>{e.push(i[1])}),[t.split("[")[0],e]}Wr.arrayTypeAndSizeStr=Z6;function k_(t){let[e,r]=Z6(t);return[e,r.map(n=>{let i=parseInt(n);if(isNaN(i))throw new Error(`arrayTypeAndSize error type ${t} with sub isNaN`);return i})]}Wr.arrayTypeAndSize=k_;function J6(t,e){return[t,e.map(r=>`[${r}]`).join("")].join("")}Wr.toLiteralArrayType=J6;function NB(t){let[e,r]=k_(t);return J6(e,r.slice(1))}Wr.subArrayType=NB;function YW(t,e,r){let i=r(e.type).finalType,[s,u]=k_(i);return Array.isArray(t)?t.length!==u[0]?new Error(`The type of ${e.name} is wrong, expected a array with length = ${u[0]} but got a array with length = ${t.length} `):u.length==1?t.map(o=>Ry(o,{name:e.name,type:s},r)).find(o=>o instanceof Error):t.map(o=>YW(o,{name:e.name,type:NB(i)},r)).find(o=>o instanceof Error):new Error(`The type of ${e.name} is wrong, expected ${i} but got ${O_(t)}`)}function C4e(t,e,r){let n=r(e.type);if(!n.info)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let o=XW(e,i,r);if(o instanceof Error)return o;i=o}if(Array.isArray(t))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a array`);if(typeof t!="object")return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a ${typeof t}`);let s=i.params.map(o=>Object.keys(t).includes(o.name)?Ry(t[o.name],o,r):new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing member [${o.name}]`)).find(o=>o instanceof Error);if(s)return s;let u=i.params.map(o=>o.name);return Object.keys(t).map(o=>{if(!u.includes(o))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but redundant member [${o}] appears`)}).find(o=>o instanceof Error)}function F4e(t,e,r){let n=r(e.type);if(!n.info||n.symbolType!==Ou.SymbolType.Library)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let s=ZW(e,i,r);if(s instanceof Error)return s;i=s}return Array.isArray(t)?t.length!==i.params.length?new Error(`The type of ${e.name} is wrong, expected a array with length = ${i.params.length} but got a array with length = ${t.length} `):i.params.map((s,u)=>typeof t[u]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing parameter [${s.name}]`):Ry(t[u],s,r)).find(s=>s instanceof Error):typeof t=="object"?i.properties.map(s=>typeof t[s.name]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing property [${s.name}]`):Ry(t[s.name],s,r)).find(s=>s instanceof Error):new Error(`The type of ${e.name} is wrong, expected a array or a object but got ${typeof t}`)}function Ry(t,e,r){let n=r(e.type),i=n.finalType;if((0,zd.isArrayType)(i))return YW(t,e,r);if(n.symbolType===Ou.SymbolType.Struct)return C4e(t,e,r);if(n.symbolType===Ou.SymbolType.Library)return F4e(t,e,r);if(n.symbolType===Ou.SymbolType.ScryptType){let s=new Error(`The type of ${e.name} is wrong, expected ${i} but got ${O_(t)}`),u=O_(t);return(0,Ou.isBytes)(i)?u===Ou.ScryptType.BYTES?void 0:s:i===Ou.ScryptType.PRIVKEY?u==="int"?void 0:s:u==i?void 0:s}else return new Error(`can't not resolve type: ${e.type}`)}Wr.checkSupportedParamType=Ry;function DB(t){return t.genericTypes.length>0}Wr.hasGeneric=DB;var G2=class{constructor(e,r){this.entity=e,this.resolver=r,this.inferred={}}resolve(e){if(Object.keys(this.inferred).length>0){if(Ny(e)){let[r,n]=My(e);return(0,B_.toGenericType)(r,n.map(i=>this.inferred[i]||i))}if((0,zd.isArrayType)(e)){let[r,n]=Z6(e);return J6(r,n.map(i=>this.inferred[i]||i))}return this.inferred[e]||e}return e}inferr(e){let r=this.resolver(e.type),[n,i]=My(r.finalType);return this.entity.name!==n?new Error(`Generic inference failed, expected ${n} but got ${this.entity.name}`):this.entity.genericTypes.length!==i.length?new Error("Generic inference failed, genericTypes length not match"):this.entity.genericTypes.map((s,u)=>{let o=i[u];return this.assert(s,o)}).find(s=>s instanceof Error)}getEntity(){if(Object.prototype.hasOwnProperty.call(this.entity,"properties")){let e=this.entity;return{name:e.name,params:e.params.map(r=>({name:r.name,type:this.resolve(r.type)})),properties:e.properties.map(r=>({name:r.name,type:this.resolve(r.type)})),genericTypes:(this.entity.genericTypes||[]).map(r=>this.resolve(r))}}return{name:this.entity.name,params:this.entity.params.map(e=>({name:e.name,type:this.resolve(e.type)})),genericTypes:(this.entity.genericTypes||[]).map(e=>this.resolve(e))}}assert(e,r){if(this.inferred[e]){if(this.inferred[e]!==r)return new Error(`Generic inference failed, generic ${e} cannot be both type ${this.inferred[e]} and type ${r}`)}else this.inferred[e]=r}};function XW(t,e,r){if(!DB(e))return e;let n=new G2(e,r),i=n.inferr(t);return i||n.getEntity()}Wr.deduceGenericStruct=XW;function ZW(t,e,r){if(!DB(e))return e;let n=new G2(e,r),i=n.inferr(t);return i||n.getEntity()}Wr.deduceGenericLibrary=ZW;function R4e(t,e,r,n){let[i,s]=k_(e.type),u=r(i);if(!n.ignoreValue){if(!Array.isArray(t))throw new Error("flatternArray only work with array");if(t.length!=s[0])throw new Error(`Array length not match, expected ${s[0]} but got ${t.length}`)}return new Array(s[0]).fill(1).flatMap((o,a)=>{let l=n.ignoreValue?void 0:t[a];return s.length>1?Kd({name:`${e.name}[${a}]`,type:NB(e.type),value:l},r,n):u.symbolType===Ou.SymbolType.Struct?Kd({name:`${e.name}[${a}]`,type:i,value:l},r,n):u.symbolType===Ou.SymbolType.Library?Kd({name:`${e.name}[${a}]`,type:i,value:l},r,n):{value:l,name:`${e.name}${(0,B_.subscript)(a,s)}`,type:i}})}function M4e(t,e,r,n){let i=r(e.type);if(!n.ignoreValue&&typeof t!="object")throw new Error("flatternStruct only work with object");let s=i.info;if(i.generic){let u=new G2(s,r),o=u.inferr(e);if(o)throw o;s=u.getEntity()}return s.params.flatMap(u=>{let o=r(u.type),a=n.ignoreValue?void 0:t[u.name];return(0,zd.isArrayType)(o.finalType)?Kd({name:`${e.name}.${u.name}`,type:u.type,value:a},r,n):o.symbolType===Ou.SymbolType.Struct?Kd({name:`${e.name}.${u.name}`,type:u.type,value:a},r,n):{value:a,name:`${e.name}.${u.name}`,type:u.type}})}function N4e(t,e,r,n){let i=r(e.type),s=i.info;if(i.generic){let o=new G2(s,r),a=o.inferr(e);if(a)throw a;s=o.getEntity()}if(!n.ignoreValue)if(n.state){if(typeof t!="object")throw new Error("only work with object when flat a libray as state")}else{if(!Array.isArray(t))throw new Error("only work with array when flat a library");if(s.params.length!=t.length)throw new Error(`Array length not match, expected ${s.params.length} but got ${t.length}`)}return(n.state?s.properties:s.params).flatMap((o,a)=>{let l=r(o.type),f=n.ignoreValue?void 0:n.state?t[o.name]:t[a];return!n.ignoreValue&&typeof f>"u"&&(s.name==="HashedSet"||s.name==="HashedMap")&&(f=t[0]),(0,zd.isArrayType)(l.finalType)?Kd({name:`${e.name}.${o.name}`,type:o.type,value:f},r,n):l.symbolType===Ou.SymbolType.Struct?Kd({name:`${e.name}.${o.name}`,type:o.type,value:f},r,n):l.symbolType===Ou.SymbolType.Library?Kd({name:`${e.name}.${o.name}`,type:o.type,value:f},r,n):{value:f,name:`${e.name}.${o.name}`,type:o.type}})}function Kd(t,e,r){let n=[],i=e(t.type);return(0,zd.isArrayType)(i.finalType)?R4e(r.ignoreValue?void 0:t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Ou.SymbolType.Struct?M4e(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Ou.SymbolType.Library?N4e(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):n.push({name:t.name,type:i.finalType,value:t.value}),n}Wr.flatternArg=Kd;function JW(t,e){return t.find(r=>r.const===!0&&r.name===e)}Wr.findConstStatic=JW;function D4e(t,e){return t.find(r=>r.name===e)}Wr.findStatic=D4e;function QW(t,e){let r=t.find(n=>n.name===e);return r?QW(t,r.type):e}function Fy(t,e,r,n,i,s){if(t=QW(i,t),(0,zd.isArrayType)(t)){let[u,o]=Z6(t),a=Fy(u,e,r,n,i,s);if((0,zd.isArrayType)(a.finalType)){let[l,f]=Z6(a.finalType),c=Fy(l,e,r,n,i,s);return{info:a.info,generic:a.generic,finalType:WW(r,J6(c.finalType,o.concat(f)),n),symbolType:a.symbolType}}return{info:a.info,generic:a.generic,finalType:WW(r,J6(a.finalType,o),n),symbolType:a.symbolType}}else if(Ny(t)){let[u,o]=My(t),a=Fy(u,e,r,n,i,s),l=o.map(f=>Fy(f,e,r,n,i,s).finalType);return{info:a.info,generic:!0,finalType:(0,B_.toGenericType)(a.finalType,l),symbolType:a.symbolType}}return e[t]?e[t]:(0,Ou.isScryptType)(t)?{finalType:t,generic:!1,symbolType:Ou.SymbolType.ScryptType}:{finalType:t,generic:!1,symbolType:Ou.SymbolType.Unknown}}Wr.resolveType=Fy;function WW(t,e,r){if((0,zd.isArrayType)(e)){let[n,i]=Z6(e),s=i.map(u=>{if(/^(\d)+$/.test(u))return parseInt(u);{let o=u.indexOf(".")>0?u:`${t}.${u}`,a=JW(r,o);return a?a.value:u}});return J6(n,s)}return e}function Ny(t){return/^([\w]+)<([\w,[\]\s<>]+)>$/.test(t)}Wr.isGenericType=Ny;function My(t){if(Ny(t)){let e=t.match(/([\w]+)<([\w,[\]<>\s]+)>$/);if(e){let r=e[1],n=[],i=[],s="";for(let u=0;u<e[2].length;u++){let o=e[2].charAt(u);if(o==="<"||o==="[")i.push(o);else if(o===">"||o==="]")i.pop();else if(o===","&&i.length===0){n.push(s.trim()),s="";continue}s+=o}return n.push(s.trim()),[r,n]}}throw new Error(`"${t}" is not generic type`)}Wr.parseGenericType=My;function H4e(t,e){if(Object.keys(t).length>0){if(Ny(e)){let[r,n]=My(e);return(0,B_.toGenericType)(r,n.map(i=>t[i]||i))}if((0,zd.isArrayType)(e)){let[r,n]=Z6(e);return J6(r,n.map(i=>t[i]||i))}return t[e]||e}return e}Wr.resolveGenericType=H4e});var W2=$(Me=>{"use strict";B();k();Object.defineProperty(Me,"__esModule",{value:!0});Me.checkNOPScript=Me.md5=Me.findSrcInfoV1=Me.findSrcInfoV2=Me.JSONStringify=Me.JSONParserSync=Me.JSONParser=Me.structSign=Me.librarySign=Me.parseAbiFromUnlockingScript=Me.buildContractCode=Me.stripAnsi=Me.ansiRegex=Me.resolveConstValue=Me.newCall=Me.compileContractAsync=Me.compileContract=Me.isEmpty=Me.readFileByLine=Me.subscript=Me.toGenericType=Me.findStructByType=Me.getNameByType=Me.isArrayType=Me.findStructByName=Me.uri2path=Me.path2uri=Me.isNode=Me.getLowSPreimage=Me.hashIsPositiveNumber=Me.getPreimage=Me.signTx=Me.hexStringToBytes=Me.bytesToHexString=Me.bytes2Literal=Me.utf82Hex=Me.toHex=Me.uint82hex=Me.asm2int=Me.int2Asm=Me.DEFAULT_SIGHASH_TYPE=Me.DEFAULT_FLAGS=Me.bsv=void 0;var eY=NO(),tu=pG();Me.bsv=tu;var L4e=Ua(),bl=Ju(),tY=wi(),U4e=xG(),rY=g_(),$4e=Cy(),da=Va(),HB=Dy(),Hy=tu.crypto.BN,Ga=tu.Script.Interpreter;Me.DEFAULT_FLAGS=Ga.SCRIPT_ENABLE_MAGNETIC_OPCODES|Ga.SCRIPT_ENABLE_MONOLITH_OPCODES|Ga.SCRIPT_VERIFY_STRICTENC|Ga.SCRIPT_ENABLE_SIGHASH_FORKID|Ga.SCRIPT_VERIFY_LOW_S|Ga.SCRIPT_VERIFY_NULLFAIL|Ga.SCRIPT_VERIFY_DERSIG|Ga.SCRIPT_VERIFY_MINIMALDATA|Ga.SCRIPT_VERIFY_NULLDUMMY|Ga.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|Ga.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|Ga.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|Ga.SCRIPT_VERIFY_CLEANSTACK;Me.DEFAULT_SIGHASH_TYPE=tu.crypto.Signature.SIGHASH_ALL|tu.crypto.Signature.SIGHASH_FORKID;function q4e(t){if(/^(-?\d+)$/.test(t)||/^0x([0-9a-fA-F]+)$/.test(t)){let e=t.startsWith("0x")?new Hy(t.substring(2),16):new Hy(t,10);return e.eqn(-1)?"OP_1NEGATE":e.gten(0)&&e.lten(16)?"OP_"+e.toString():e.toSM({endian:"little"}).toString("hex")}else throw new Error(`invalid str '${t}' to convert to int`)}Me.int2Asm=q4e;function nY(t){switch(t){case"OP_1NEGATE":return-1;case"0":case"OP_0":case"OP_1":case"OP_2":case"OP_3":case"OP_4":case"OP_5":case"OP_6":case"OP_7":case"OP_8":case"OP_9":case"OP_10":case"OP_11":case"OP_12":case"OP_13":case"OP_14":case"OP_15":case"OP_16":return parseInt(t.replace("OP_",""));default:{let e=(0,da.getValidatedHexString)(t),r=Hy.fromHex(e,{endian:"little"});return r.toNumber()<Number.MAX_SAFE_INTEGER&&r.toNumber()>Number.MIN_SAFE_INTEGER?r.toNumber():r.toString()}}}Me.asm2int=nY;function LB(t){let e=t.toString(16);return e.length%2===1&&(e="0"+e),e}Me.uint82hex=LB;function F_(t){return t.toString("hex")}Me.toHex=F_;function j4e(t){let r=new TextEncoder().encode(t);return F_(I.Buffer.from(r))}Me.utf82Hex=j4e;function K4e(t,e){switch(e){case"bool":return Hy.fromBuffer(t,{endian:"little"}).gt(0)?"true":"false";case"int":case"PrivKey":return Hy.fromSM(t,{endian:"little"}).toString();case"bytes":return`b'${UB(t)}'`;default:return`b'${UB(t)}'`}}Me.bytes2Literal=K4e;function UB(t){return t.reduce(function(e,r){return e+=("0"+(r&255).toString(16)).slice(-2)},"")}Me.bytesToHexString=UB;function z4e(t){return(0,da.getValidatedHexString)(t),t.split("").reduce(function(e,r,n){return n%2===0?e.push(r):e[e.length-1]+=r,e},new Array).map(e=>parseInt(e,16))}Me.hexStringToBytes=z4e;function V4e(t,e,r,n,i=0,s=Me.DEFAULT_SIGHASH_TYPE,u=Me.DEFAULT_FLAGS,o){if(!t)throw new Error("param tx can not be empty");if(!e)throw new Error("param privateKey can not be empty");if(!r)throw new Error("param lockingScript can not be empty");if(!n)throw new Error("param inputAmount can not be empty");if(typeof r=="string")throw new Error("Breaking change: LockingScript in ASM format is no longer supported, please use the lockingScript object directly");return F_(tu.Transaction.Sighash.sign(t,e,s,i,r,new tu.crypto.BN(n),u,o).toTxFormat())}Me.signTx=V4e;function iY(t,e,r,n=0,i=Me.DEFAULT_SIGHASH_TYPE,s=Me.DEFAULT_FLAGS){let u=tu.Transaction.Sighash.sighashPreimage(t,i,n,e,new tu.crypto.BN(r),s);return F_(u)}Me.getPreimage=iY;var sY=126;function uY(t){return t.readUInt8(31)<sY}Me.hashIsPositiveNumber=uY;function G4e(t,e,r,n=0,i=Me.DEFAULT_SIGHASH_TYPE,s=Me.DEFAULT_FLAGS){for(let u=0;u<Number.MAX_SAFE_INTEGER;u++){let o=iY(t,e,r,n,i,s),a=tu.crypto.Hash.sha256sha256(I.Buffer.from(o,"hex"));if(a.readUInt8()<sY&&uY(a))return o;t.inputs[n].sequenceNumber--}}Me.getLowSPreimage=G4e;function $B(){return typeof window>"u"&&typeof process=="object"}Me.isNode=$B;function W4e(t){return $B()?(0,rY.pathToFileURL)(t).toString():t}Me.path2uri=W4e;function Y4e(t){return $B()?(0,rY.fileURLToPath)(t):t}Me.uri2path=Y4e;function oY(t,e){return e.find(r=>r.name==t)}Me.findStructByName=oY;function aY(t){return/^(.+)(\[[\w.]+\])+$/.test(t)}Me.isArrayType=aY;function C_(t){if(aY(t)){let[e,r]=(0,HB.arrayTypeAndSizeStr)(t);return C_(e)}if((0,HB.isGenericType)(t)){let[e,r]=(0,HB.parseGenericType)(t);return C_(e)}return t}Me.getNameByType=C_;function X4e(t,e){let r=C_(t);if(r)return oY(r,e)}Me.findStructByType=X4e;function Z4e(t,e){return`${t}<${e.join(",")}>`}Me.toGenericType=Z4e;function cY(t,e){if(e.length==1)return`[${t}]`;{let r=e.slice(1),n=r.reduce(function(i,s){return i*s},1);return`[${Math.floor(t/n)}]${cY(t%n,r)}`}}Me.subscript=cY;function J4e(t,e){let r="";return bl.readFileSync(t,"utf8").split(/\r?\n/).every(function(n,i){return i===e-1?(r=n,!1):!0}),r}Me.readFileByLine=J4e;function Q4e(t){return Object.keys(t).length===0}Me.isEmpty=Q4e;function e8e(t,e){if(e=Object.assign({out:(0,tY.join)(__dirname,"../out"),sourceMap:!1,artifact:!1,optimize:!1},e),!bl.existsSync(t))throw`file ${t} not exists!`;return bl.existsSync(e.out)||bl.mkdirSync(e.out),(0,da.compile)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,cmdPrefix:(0,da.findCompiler)()})}Me.compileContract=e8e;function t8e(t,e){if(e=Object.assign({out:(0,tY.join)(__dirname,"..","out"),sourceMap:!1,artifact:!1,optimize:!1},e),!bl.existsSync(t))throw`file ${t} not exists!`;return bl.existsSync(e.out)||bl.mkdirSync(e.out),(0,$4e.compileAsync)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,hex:!0,cmdPrefix:(0,da.findCompiler)()})}Me.compileContractAsync=t8e;function r8e(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))}Me.newCall=r8e;function n8e(t){let e;return t.expr.nodeType==="IntLiteral"?e=t.expr.value.toString(10):t.expr.nodeType==="BoolLiteral"&&(e=t.expr.value),t.expr.nodeType==="BytesLiteral"&&(e=`b'${t.expr.value.map(r=>LB(r)).join("")}'`),t.expr.nodeType==="FunctionCall"&&([da.ScryptType.PUBKEY,da.ScryptType.RIPEMD160,da.ScryptType.SIG,da.ScryptType.SIGHASHTYPE,da.ScryptType.OPCODETYPE,da.ScryptType.SIGHASHPREIMAGE,da.ScryptType.SHA1,da.ScryptType.SHA256].includes(t.expr.name)?e=`b'${t.expr.params[0].value.map(r=>LB(r)).join("")}'`:t.expr.name===da.ScryptType.PRIVKEY&&(e=t.expr.params[0].value.toString(10))),e}Me.resolveConstValue=n8e;function fY({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}Me.ansiRegex=fY;function i8e(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(fY(),"")}Me.stripAnsi=i8e;function s8e(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function u8e(t,e,r){let n=r;for(let i of t.entries()){let s=i[0],u=i[1];n=n.replace(s,u)}for(let i of e.entries()){let s=i[0],u=i[1];n=n.replace(new RegExp(`${s8e(s)}`,"g"),u)}return tu.Script.fromHex(n)}Me.buildContractCode=u8e;function o8e(t,e){let r=Object.getPrototypeOf(t).constructor.abi,n=r.filter(f=>f.type==="function");if(n.length===1)return n[0];let u=tu.Script.fromHex(e).toASM(),o=u.substr(u.lastIndexOf(" ")+1),a=nY(o),l=r.find(f=>f.index===a);if(!l)throw new Error(`the raw unlocking script cannot match the contract ${t.contractName}`);return l}Me.parseAbiFromUnlockingScript=o8e;function a8e(t){return`[${t.params.map(e=>e.type).join(",")}]`}Me.librarySign=a8e;function c8e(t){return`${JSON.stringify(t.params.reduce((e,r)=>Object.assign(e,{[r.name]:r.type}),{}),null,4)}`}Me.structSign=c8e;async function f8e(t){return new Promise((e,r)=>{(0,eY.parseChunked)(bl.createReadStream(t)).then(n=>{e(n)}).catch(n=>{r(n)})})}Me.JSONParser=f8e;function l8e(t){return JSON.parse(bl.readFileSync(t,"utf8"))}Me.JSONParserSync=l8e;async function d8e(t,e){return new Promise((r,n)=>{(0,eY.stringifyStream)(e).pipe(bl.createWriteStream(t)).on("finish",()=>{r(!0)}).on("error",i=>{n(i)})})}Me.JSONStringify=d8e;function h8e(t,e){let r=(0,U4e.decode)(e.mappings);for(let n=0;n<r[0].length;n++)if(!(r[0][n][0]<=t))return r[0][n-1];return r[0][r[0].length-1]}Me.findSrcInfoV2=h8e;function p8e(t,e){for(;--e>0;)if(t[e].pos&&t[e].pos.file!=="std"&&t[e].pos.line>0)return t[e]}Me.findSrcInfoV1=p8e;function b8e(t){return L4e.createHash("md5").update(t).digest("hex")}Me.md5=b8e;function g8e(t){tu.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,tu.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let e=new tu.Script.Interpreter,r=new tu.Transaction().from({txId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:"",satoshis:1});if(e.verify(new tu.Script(""),t,r,0,Me.DEFAULT_FLAGS,new tu.crypto.BN(1))||e.errstr!=="SCRIPT_ERR_EVAL_FALSE_NO_RESULT")throw new Error("NopScript should be a script that does not affect the Bitcoin virtual machine stack.")}Me.checkNOPScript=g8e});var qB=$(Zc=>{"use strict";B();k();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.toScriptASM=Zc.toScriptHex=Zc.bytes2hex=Zc.bool2hex=Zc.int2hex=void 0;var Vd=jd(),Ly=W2(),m8e=Ly.bsv.crypto.BN;function lY(t){if(t===(0,Vd.Int)(0))return"00";if(t===(0,Vd.Int)(-1))return"4f";if(t>(0,Vd.Int)(0)&&t<=(0,Vd.Int)(16))return t+=(0,Vd.Int)(80),t.toString(16);let r=new m8e(t).toSM({endian:"little"});return Ly.bsv.Script.fromASM(r.toString("hex")).toHex()}Zc.int2hex=lY;function dY(t){return t?"51":"00"}Zc.bool2hex=dY;function hY(t){if(t){if(t.length/2>1)return Ly.bsv.Script.fromASM(t).toHex();let e=parseInt(t,16);return e>=1&&e<=16?BigInt(e+80).toString(16):Ly.bsv.Script.fromASM(t).toHex()}return"00"}Zc.bytes2hex=hY;function pY(t,e){if(e===Vd.ScryptType.INT||e===Vd.ScryptType.PRIVKEY)return lY(t);if(e===Vd.ScryptType.BOOL)return dY(t);if((0,Vd.isBytes)(e))return hY(t);throw new Error(`unsupport SupportedParamType: ${t}`)}Zc.toScriptHex=pY;function y8e(t,e){let r=pY(t,e);return Ly.bsv.Script.fromHex(r).toASM()}Zc.toScriptASM=y8e});var jB=$(ru=>{"use strict";B();k();Object.defineProperty(ru,"__esModule",{value:!0});ru.deserializeArgfromHex=ru.createArray=ru.createLibrary=ru.createStruct=ru.deserializer=ru.hex2bytes=ru.hex2bool=ru.hex2int=void 0;var so=mr(),$n=jd(),M_=N_(),bY=W2();function R_(t){if(t==="00")return(0,$n.Int)(0);if(t==="4f")return(0,$n.Int)(-1);{let r=bY.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?BigInt(r.opcodenum-80):(0,so.bin2num)(r.buf.toString("hex"))}}ru.hex2int=R_;function gY(t){if(t==="51")return!0;if(t==="00")return!1;throw new Error(`invalid hex ${t}`)}ru.hex2bool=gY;function Gd(t){if(t==="00")return"";let r=bY.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?I.Buffer.from([r.opcodenum-80]).toString("hex"):r.buf.toString("hex")}ru.hex2bytes=Gd;function Uy(t,e){switch(t){case $n.ScryptType.BOOL:return(0,$n.Bool)(gY(e));case $n.ScryptType.INT:return(0,$n.Int)(R_(e));case $n.ScryptType.BYTES:return(0,$n.Bytes)(Gd(e));case $n.ScryptType.PRIVKEY:return(0,$n.PrivKey)(R_(e));case $n.ScryptType.PUBKEY:return(0,$n.PubKey)(Gd(e));case $n.ScryptType.SIG:return(0,$n.Sig)(Gd(e));case $n.ScryptType.RIPEMD160:return(0,$n.Ripemd160)(Gd(e));case $n.ScryptType.SHA1:return(0,$n.Sha1)(Gd(e));case $n.ScryptType.SHA256:return(0,$n.Sha256)(Gd(e));case $n.ScryptType.SIGHASHTYPE:return(0,$n.SigHashType)(Number(R_(e)));case $n.ScryptType.SIGHASHPREIMAGE:return(0,$n.SigHashPreimage)(Gd(e));case $n.ScryptType.OPCODETYPE:return(0,$n.OpCodeType)(Gd(e));default:throw new Error(`<${t}> cannot be cast to ScryptType, only sCrypt native types supported`)}}ru.deserializer=Uy;function Y2(t,e,r,n){let s=t(e.type).info,u=Object.create({});return s.params.forEach(o=>{let a=t(o.type);(0,so.isArrayType)(a.finalType)?Object.assign(u,{[o.name]:Z2(t,a.finalType,`${e.name}.${o.name}`,r,n)}):a.symbolType===so.SymbolType.Struct?Object.assign(u,{[o.name]:Y2(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):a.symbolType===so.SymbolType.Library?Object.assign(u,{[o.name]:X2(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):n.state?Object.assign(u,{[o.name]:M_.default.deserializer(a.finalType,r.get(`<${e.name}.${o.name}>`))}):Object.assign(u,{[o.name]:Uy(a.finalType,r.get(`<${e.name}.${o.name}>`))})}),u}ru.createStruct=Y2;function X2(t,e,r,n){let s=t(e.type).info;if(n.state){let u={};return s.properties.forEach(o=>{let a=t(o.type);(0,so.isArrayType)(a.finalType)?Object.assign(u,{[o.name]:Z2(t,o.type,`${e.name}.${o.name}`,r,n)}):a.symbolType===so.SymbolType.Struct?Object.assign(u,{[o.name]:Y2(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):a.symbolType===so.SymbolType.Library?Object.assign(u,{[o.name]:X2(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):Object.assign(u,{[o.name]:M_.default.deserializer(a.finalType,r.get(`<${e.name}.${o.name}>`))})}),u}else return s.params.map(u=>{let o=t(u.type);return(0,so.isArrayType)(o.finalType)?Z2(t,o.finalType,`${e.name}.${u.name}`,r,n):o.symbolType===so.SymbolType.Struct?Y2(t,{name:`${e.name}.${u.name}`,type:u.type},r,n):o.symbolType===so.SymbolType.Library?X2(t,{name:`${e.name}.${u.name}`,type:u.type},r,n):Uy(o.finalType,r.get(`<${e.name}.${u.name}>`))})}ru.createLibrary=X2;function Z2(t,e,r,n,i){let s=[],[u,o]=(0,so.arrayTypeAndSize)(e),a=o[0];if(o.length===1)for(let l=0;l<a;l++){let f=t(u);f.symbolType===so.SymbolType.Struct?s.push(Y2(t,{name:`${r}[${l}]`,type:f.finalType},n,i)):f.symbolType===so.SymbolType.Library?s.push(X2(t,{name:`${r}[${l}]`,type:f.finalType},n,i)):i.state?s.push(M_.default.deserializer(f.finalType,n.get(`<${r}[${l}]>`))):s.push(Uy(f.finalType,n.get(`<${r}[${l}]>`)))}else for(let l=0;l<a;l++){let c=[t(u).finalType,o.slice(1).map(h=>`[${h}]`).join("")].join("");s.push(Z2(t,c,`${r}[${l}]`,n,i))}return s}ru.createArray=Z2;function v8e(t,e,r,n){let i,s=t(e.type);return(0,so.isArrayType)(s.finalType)?i=Z2(t,e.type,e.name,r,n):s.symbolType===so.SymbolType.Struct?i=Y2(t,e,r,n):s.symbolType===so.SymbolType.Library?i=X2(t,e,r,n):n.state?i=M_.default.deserializer(e.type,r.get(`<${e.name}>`)):i=Uy(e.type,r.get(`<${e.name}>`)),e.value=i,e}ru.deserializeArgfromHex=v8e});var N_=$(zB=>{"use strict";B();k();Object.defineProperty(zB,"__esModule",{value:!0});var nu=mr(),mY=jB(),KB=Va(),Mt=jd(),An=class{static int2hex(e){let r="",n=new nu.bsv.crypto.BN(e);return n.eqn(0)?r="00":r=n.toSM({endian:"little"}).toString("hex"),nu.bsv.Script.fromASM(r).toHex()}static hex2int(e){let n=nu.bsv.Script.fromHex(e).chunks[0];return(0,nu.bin2num)(n.buf.toString("hex"))}static bool2hex(e){return e?"01":"00"}static hex2bool(e){if(e==="01")return!0;if(e==="00")return!1;throw new Error(`invalid hex ${e}`)}static bytes2hex(e){return e===""?"00":nu.bsv.Script.fromASM(e).toHex()}static hex2bytes(e){return e==="00"?"":nu.bsv.Script.fromHex(e).chunks[0].buf.toString("hex")}static toHex(e,r){if(r===Mt.ScryptType.INT||r===Mt.ScryptType.PRIVKEY)return An.int2hex(e);if(r===Mt.ScryptType.BOOL)return An.bool2hex(e);if((0,Mt.isBytes)(r))return An.bytes2hex(e);throw new Error(`unsupported type: ${r}`)}static serialize(e,r){if(r===Mt.ScryptType.INT||r===Mt.ScryptType.PRIVKEY){let n=new nu.bsv.crypto.BN(e);return n.eqn(0)?"":n.toSM({endian:"little"}).toString("hex")}else{if(r===Mt.ScryptType.BOOL)return e?"01":"";if((0,Mt.isBytes)(r))return e}throw new Error(`unsupported type: ${r}`)}static buildState(e,r,n){let i=e.map(u=>(0,KB.flatternArg)(u,n,{state:!0,ignoreValue:!1})).flat(1/0);if(i.length<=0)throw new Error("no state property found, buildContractState only used for state contract");let s=`${An.toHex(r,Mt.ScryptType.BOOL)}`;if(s+=i.map(u=>An.toHex(u.value,u.type)).join(""),s){let u=s.length/2;return s+=(0,nu.num2bin)(BigInt(u),4)+(0,nu.num2bin)(An.CURRENT_STATE_VERSION,1),s}return s}static buildDefaultStateArgs(e){let r=e.stateProps.map(i=>{let s=Object.assign({},i,{value:!1});return(0,KB.flatternArg)(s,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),n=new Map;return r.forEach(i=>{if(i.type===Mt.ScryptType.INT||i.type===Mt.ScryptType.PRIVKEY)n.set(`<${i.name}>`,An.int2hex((0,Mt.Int)(0)));else if(i.type===Mt.ScryptType.BOOL)n.set(`<${i.name}>`,An.bool2hex(!0));else if(i.type===Mt.ScryptType.BYTES||i.type===Mt.ScryptType.PUBKEY||i.type===Mt.ScryptType.SIG||i.type===Mt.ScryptType.RIPEMD160||i.type===Mt.ScryptType.SHA1||i.type===Mt.ScryptType.SHA256||i.type===Mt.ScryptType.SIGHASHTYPE||i.type===Mt.ScryptType.SIGHASHPREIMAGE||i.type===Mt.ScryptType.OPCODETYPE)n.set(`<${i.name}>`,An.bytes2hex("00"));else throw new Error(`param ${i.name} has unknown type ${i.type}`)}),e.stateProps.map(i=>(0,mY.deserializeArgfromHex)(e.resolver,Object.assign(i,{value:void 0}),n,{state:!0}))}static deserializer(e,r){switch(e){case Mt.ScryptType.BOOL:return(0,Mt.Bool)(An.hex2bool(r));case Mt.ScryptType.INT:return(0,Mt.Int)(An.hex2int(r));case Mt.ScryptType.BYTES:return(0,Mt.Bytes)(An.hex2bytes(r));case Mt.ScryptType.PRIVKEY:return(0,Mt.PrivKey)(An.hex2int(r));case Mt.ScryptType.PUBKEY:return(0,Mt.PubKey)(An.hex2bytes(r));case Mt.ScryptType.SIG:return(0,Mt.Sig)(An.hex2bytes(r));case Mt.ScryptType.RIPEMD160:return(0,Mt.Ripemd160)(An.hex2bytes(r));case Mt.ScryptType.SHA1:return(0,Mt.Sha1)(An.hex2bytes(r));case Mt.ScryptType.SHA256:return(0,Mt.Sha256)(An.hex2bytes(r));case Mt.ScryptType.SIGHASHTYPE:return(0,Mt.SigHashType)(Number(An.hex2int(r)));case Mt.ScryptType.SIGHASHPREIMAGE:return(0,Mt.SigHashPreimage)(An.hex2bytes(r));case Mt.ScryptType.OPCODETYPE:return(0,Mt.OpCodeType)(An.hex2bytes(r));default:throw new Error(`<${e}> cannot be cast to ScryptType, only sCrypt native types supported`)}}static readBytes(e){try{let r=e.readUInt8(),n,i;return r==0?i="":r>0&&r<nu.bsv.Opcode.OP_PUSHDATA1?(n=r,i=e.read(n).toString("hex")):r===nu.bsv.Opcode.OP_PUSHDATA1?(n=e.readUInt8(),i=e.read(n).toString("hex")):r===nu.bsv.Opcode.OP_PUSHDATA2?(n=e.readUInt16LE(),i=e.read(n).toString("hex")):r===nu.bsv.Opcode.OP_PUSHDATA4?(n=e.readUInt32LE(),i=e.read(n).toString("hex")):i=(0,nu.num2bin)(BigInt(r-80),1),{data:i,opcodenum:r}}catch(r){throw new Error("readBytes: "+r)}}static parseStateHex(e,r){let n=r.substr(r.length-10,10),i=Number((0,nu.bin2num)(n.substr(n.length-2,2))),s=Number((0,nu.bin2num)(n.substr(0,8))),u=r.substr(r.length-10-s*2,s*2),o=new nu.bsv.encoding.BufferReader(I.Buffer.from(u,"hex")),l=o.readUInt8()==1,f=new Map;e.stateProps.map(d=>{let p=Object.assign({},d,{value:!1});return(0,KB.flatternArg)(p,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0).forEach(d=>{if(d.type===Mt.ScryptType.BOOL){let p=o.readUInt8();f.set(`<${d.name}>`,p===1?"01":"00")}else{let{data:p}=An.readBytes(o);f.set(`<${d.name}>`,p?nu.bsv.Script.fromASM(p).toHex():"00")}});let h=e.stateProps.map(d=>Object.assign({},d,{value:!1})).map(d=>(0,mY.deserializeArgfromHex)(e.resolver,d,f,{state:!0}));return[l,h]}};zB.default=An;An.CURRENT_STATE_VERSION=(0,Mt.Int)(0)});var WB=$(uo=>{"use strict";B();k();Object.defineProperty(uo,"__esModule",{value:!0});uo.buildTypeResolver=uo.buildTypeResolverFromArtifact=uo.buildContractClass=uo.AbstractContract=uo.SUPPORTED_MINIMUM_VERSION=uo.CURRENT_CONTRACT_ARTIFACT_VERSION=void 0;var VB=wi(),GB=mr(),yY=Cy(),Et=Va(),Wa=jd(),$y=N_(),gl=Dy();uo.CURRENT_CONTRACT_ARTIFACT_VERSION=9;uo.SUPPORTED_MINIMUM_VERSION=8;var Lp=class{constructor(...e){this.calledPubFunctions=[],this.hasInlineASMVars=!1,this.hexTemplateInlineASM=new Map,this.hexTemplateArgs=new Map,this.statePropsArgs=[],this.isGenesis=!0}get lockingScript(){if(this.hasInlineASMVars&&this.hexTemplateInlineASM.size===0)throw new Error("Values for inline ASM variables have not yet been set! Cannot get locking script.");return this.dataPart?this.codePart.add(this.dataPart):this._wrapNOPScript(this.scriptedConstructor?.lockingScript)}_wrapNOPScript(e){return this.nopScript?this.nopScript.clone().add(e):e}set txContext(e){this._txContext=e}get txContext(){return this._txContext}get sourceMapFile(){return Object.getPrototypeOf(this).constructor.artifact.sourceMapFile}get file(){return Object.getPrototypeOf(this).constructor.artifact.file}get contractName(){return Object.getPrototypeOf(this).constructor.artifact.contract}get stateProps(){return Object.getPrototypeOf(this).constructor.artifact.stateProps||[]}get version(){return Object.getPrototypeOf(this).constructor.artifact.version||0}addFunctionCall(e){this.calledPubFunctions.push(e)}get resolver(){return Object.getPrototypeOf(this).constructor.resolver}replaceAsmVars(e){if(e)for(let i in e){let s=e[i];this.hexTemplateInlineASM.set(`<${i.startsWith("$")?i.substring(1):i}>`,Et.bsv.Script.fromASM(s).toHex())}let r=Object.getPrototypeOf(this).constructor.hex,n=(0,Et.buildContractCode)(this.hexTemplateArgs,this.hexTemplateInlineASM,r);this.scriptedConstructor.lockingScript=n}get asmArgs(){let e={};for(let r of this.hexTemplateInlineASM.entries()){let n=r[0].replace("<","").replace(">",""),i=r[1];e[n]=Et.bsv.Script.fromHex(i).toASM()}return e}getNewStateScript(e){let r=this.statePropsArgs;if(r.length===0)throw new Error(`Contract ${this.contractName} does not have any stateful property`);let n=[],i=r.map(s=>{if(Object.prototype.hasOwnProperty.call(e,s.name)){n.push(s.name);let u=e[s.name];u=this.transformerArg(u,s,!0);let o=(0,gl.checkSupportedParamType)(u,s,this.resolver);if(o)throw o;return Object.assign({...s},{value:u})}else return s});return Object.keys(e).forEach(s=>{if(n.indexOf(s)===-1)throw new Error(`Contract ${this.contractName} does not have stateful property ${s}`)}),this.codePart.add(Et.bsv.Script.fromHex($y.default.buildState(i,!1,this.resolver)))}run_verify(e,r){let n=Object.assign({},this._txContext||{},r||{}),i;typeof e=="string"?i=e.trim()?Et.bsv.Script.fromASM(e.trim()):new Et.bsv.Script(""):i=e||new Et.bsv.Script("");let s=Et.bsv.Script.fromHex(this.lockingScript.toHex()),u=typeof n.tx=="string"?new Et.bsv.Transaction(n.tx):n.tx,o=n.inputIndex,a=n.inputSatoshis;Et.bsv.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,Et.bsv.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let l=new Et.bsv.Script.Interpreter,f={};l.stepListener=function(h){(h.fExec||Et.bsv.Opcode.OP_IF<=h.opcode.toNumber()&&h.opcode.toNumber()<=Et.bsv.Opcode.OP_ENDIF)&&(Et.bsv.Opcode.OP_IF<=h.opcode.toNumber()&&h.opcode.toNumber()<=Et.bsv.Opcode.OP_ENDIF||h.opcode.toNumber()===Et.bsv.Opcode.OP_RETURN?f.opcode=h.opcode:f=h)};let c=l.verify(i,s,u,o,Et.DEFAULT_FLAGS,new Et.bsv.crypto.BN(a));if(c)return{success:!0,error:""};if((l.errstr||"").indexOf("SCRIPT_ERR_NULLFAIL")>-1){if(!n)throw new Error("should provide txContext when verify");if(!u)throw new Error("should provide txContext.tx when verify")}return f.opcode=f.opcode.toNumber(),{success:c,error:this.fmtError({error:l.errstr||"",failedAt:f})}}fmtError(e){let r=e.failedAt.opcode,n=`VerifyError: ${e.error}, fails at ${new Et.bsv.Opcode(r)}
`;if(this.sourceMapFile){let i=(0,Et.uri2path)(this.sourceMapFile),s=(0,Et.JSONParserSync)(i),u=(0,VB.join)(i,this.file),o=(0,VB.dirname)(u),a=(0,VB.basename)(u),l=s.sources.map(c=>(0,yY.getFullFilePath)(c,o,a)),f=(0,Et.findSrcInfoV2)(e.failedAt.pc,s);f&&l[f[1]]&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,Et.path2uri)(l[f[1]])}#${f[2]})  fails at ${new Et.bsv.Opcode(r)}
`)}else if(this.version<=8){let i=Object.getPrototypeOf(this).constructor.artifact,s=(0,yY.loadSourceMapfromArtifact)(i);if(s.length>0){let u=e.failedAt.pc;if(s[u]){let o=s[u];if(!o.pos||o.pos.file==="std"){let a=(0,Et.findSrcInfoV1)(s,u);a&&(o.pos=a.pos)}o&&o.pos&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,Et.path2uri)(o.pos.file)}#${o.pos.line})  fails at ${new Et.bsv.Opcode(r)}
`)}}}return n}genLaunchConfig(e){let r=Object.assign({},this.txContext||{},e||{}),n=this.lastCalledPubFunction();if(n)return`[Launch Debugger](${n.genLaunchConfig(r).replace(/file:/i,"scryptlaunch:")})
`;throw new Error("No public function called")}set dataPart(e){throw new Error("Setter for dataPart is not available. Please use: setDataPart() instead")}get dataPart(){if(Lp.isStateful(this)){let e=$y.default.buildState(this.statePropsArgs,this.isGenesis,this.resolver);return Et.bsv.Script.fromHex(e)}if(this._dataPartInHex)return Et.bsv.Script.fromHex(this._dataPartInHex)}setDataPart(e,r=!1){r==!1?(console.warn("deprecated, using setDataPartInASM"),this.setDataPartInASM(e)):(console.warn("deprecated, using setDataPartInHex"),this.setDataPartInHex(e))}setDataPartInASM(e){if(Lp.isStateful(this))throw new Error("should not use `setDataPartInASM` for a stateful contract, using `setDataPartInHex`");let r=e.trim();this.setDataPartInHex(Et.bsv.Script.fromASM(r).toHex())}setDataPartInHex(e){if(this._dataPartInHex=e.trim(),Lp.isStateful(this)){let[r,n]=$y.default.parseStateHex(this,this._dataPartInHex);this.statePropsArgs=n,this.isGenesis=r}}prependNOPScript(e){e instanceof Et.bsv.Script&&(0,Et.checkNOPScript)(e),this.nopScript=e}getPrependNOPScript(){return this.nopScript}get codePart(){let e=this.scriptedConstructor.toScript();return this._wrapNOPScript(e.clone()).add(Et.bsv.Script.fromHex("6a"))}get codeHash(){return this.dataPart?(0,Et.hash160)(this.codePart.toHex()):(0,Et.hash160)(this.lockingScript.toHex())}static getAsmVars(e){return this.fromHex(e).asmArgs}arguments(e){if(e==="constructor")return this.scriptedConstructor.args;for(let r=this.calledPubFunctions.length-1;r>=0;r--){let n=this.calledPubFunctions[r];if(n.methodName===e)return n.args}return[]}lastCalledPubFunction(){let e=this.calledPubFunctions.length-1;if(!(e<0))return this.calledPubFunctions[e]}ctorArgs(){return this.arguments("constructor")}get asmVars(){return this.ContractClass.getAsmVars(this.scriptedConstructor.toHex())}get ContractClass(){return Object.getPrototypeOf(this).constructor}transformerArgs(e,r,n){return r.map((i,s)=>this.transformerArg(e[s],i,n))}transformerArg(e,r,n){let i=this.resolver(r.type);if((0,Et.isArrayType)(i.finalType)){let[s,u]=(0,gl.arrayTypeAndSize)(i.finalType);if(!Array.isArray(e)||e.length!==u[0])return e;let o=(0,gl.subArrayType)(r.type),a=[];for(let l=0;l<u[0];l++){let f=e[l];a.push(this.transformerArg(f,{name:`${r.name}${(0,Et.subscript)(l,u)}`,type:o},n))}return a}else if(i.symbolType===Wa.SymbolType.Library){let s=i.info;if(s.name==="HashedMap"){if(e instanceof Map)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)]}else if(s.name==="HashedSet"&&e instanceof Set)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)];let u=n?s.properties:s.params;if(!n&&Array.isArray(e))return u.map((o,a)=>this.transformerArg(e[a],o,n));if(n&&typeof e=="object")return u.reduce((o,a)=>(Object.assign(o,{[a.name]:this.transformerArg(e[a.name],a,n)}),o),{})}else if(i.symbolType===Wa.SymbolType.Struct){if(!Array.isArray(e)&&typeof e=="object"){let s=i.info;if(s.name==="SortedItem"){if(e.idx===(0,Wa.Int)(-1)&&(e.image instanceof Map||e.image instanceof Set)){let[o,a]=(0,GB.parseGenericType)(i.finalType);return Object.assign({},{idx:this.ContractClass.findKeyIndex(e.image,e.item,a[0]),item:e.item})}return e}let u=Object.assign({},e);return s.params.forEach(o=>{typeof e[o.name]<"u"&&(u[o.name]=this.transformerArg(e[o.name],o,n))}),u}}else if(typeof e=="number")return BigInt(e);return e}checkArgs(e,r,...n){if(n.length!==r.length)throw new Error(`wrong number of arguments for '${this.contractName}.${e}', expected ${r.length} but got ${n.length}`);let i=this.transformerArgs(n,r,!1);return r.forEach((s,u)=>{let o=i[u],a=(0,gl.checkSupportedParamType)(o,s,this.resolver);if(a)throw a}),i}static fromASM(e){return this.fromHex(Et.bsv.Script.fromASM(e).toHex())}static fromHex(e){this.asmContract=!0;let r=this,n=new r;return this.asmContract=!1,n.scriptedConstructor=this.abiCoder.encodeConstructorCallFromRawHex(n,this.hex,e),n}static fromTransaction(e,r=0){let n=new Et.bsv.Transaction(e);return this.fromHex(n.outputs[r].script.toHex())}static isStateful(e){return e.stateProps.length>0}static flattenSha256(e,r){let n=(0,gl.checkSupportedParamType)(e,{name:"",type:r},this.resolver);if(n)throw n;let i=(0,gl.flatternArg)({name:"",type:r,value:e},this.resolver,{state:!0,ignoreValue:!1});if(i.length===1){let s=$y.default.serialize(i[0].value,i[0].type);return Et.bsv.crypto.Hash.sha256(I.Buffer.from(s,"hex")).toString("hex")}else{let s=i.map(u=>{let o=$y.default.serialize(u.value,u.type);return Et.bsv.crypto.Hash.sha256(I.Buffer.from(o,"hex")).toString("hex")}).join("");return Et.bsv.crypto.Hash.sha256(I.Buffer.from(s,"hex")).toString("hex")}}static sortmap(e,r){return new Map([...e.entries()].sort((n,i)=>Et.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(n[0],r),"hex"),{endian:"little"}).cmp(Et.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(i[0],r),"hex"),{endian:"little"}))))}static sortset(e,r){return new Set([...e.keys()].sort((n,i)=>Et.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(Et.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"}))))}static sortkeys(e,r){return e.sort((n,i)=>Et.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(Et.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"})))}static findKeyIndex(e,r,n){let i=[...e.keys()];i.push(r);let u=this.sortkeys(i,n).findIndex(o=>o===r);return BigInt(u)}static toData(e,r){let[n,i]=(0,GB.parseGenericType)(r),s="";if(e instanceof Map){let u=this.sortmap(e,i[0]);for(let o of u.entries())s+=this.flattenSha256(o[0],i[0])+this.flattenSha256(o[1],i[1])}else{let u=this.sortset(e,i[0]);for(let o of u.keys())s+=this.flattenSha256(o,i[0])}return(0,Wa.Bytes)(s)}};uo.AbstractContract=Lp;var S8e=["arguments","setDataPart","setDataPartInASM","setDataPartInHex","version","stateProps","sourceMapFile","file","contractName","ctorArgs","run_verify","replaceAsmVars","asmVars","asmArguments","dataPart","lockingScript","codeHash","codePart","resolver","getNewStateScript","txContext"];function _8e(t){if(t instanceof Et.CompileResult&&(t=t.toArtifact()),!t.contract)throw new Error("Missing field `contract` in artifact");if(!t.version)throw new Error("Missing field `version` in artifact");if(t.version<uo.SUPPORTED_MINIMUM_VERSION)throw new Error(`Contract artifact version deprecated, The minimum version number currently supported is ${uo.SUPPORTED_MINIMUM_VERSION}`);if(!t.abi)throw new Error("Missing field `abi` in artifact");if(!t.hex)throw new Error("Missing field `hex` in artifact");let e=class extends Lp{constructor(...r){super(),e.asmContract||(this.scriptedConstructor=e.abiCoder.encodeConstructorCall(this,e.hex,...r))}};return e.artifact=t,e.resolver=vY(t),e.abi=t.abi,e.hex=t.hex,e.abiCoder=new Et.ABICoder(t.abi,e.resolver,t.contract),e.stateProps=t.stateProps||[],e.abi.forEach(r=>{if(r.type!==GB.ABIEntityType.CONSTRUCTOR){if(!r.name||S8e.indexOf(r.name)>-1)throw new Error(`Method name [${r.name}] is used by scryptlib now, Pelease change you contract method name!`);e.prototype[r.name]=function(...n){let i=e.abiCoder.encodePubFunctionCall(this,r.name||"",n);return this.addFunctionCall(i),i}}}),e.stateProps.forEach(r=>{Object.defineProperty(e.prototype,r.name,{get(){let n=this.statePropsArgs.find(i=>i.name===r.name);if(n)return n.value;throw new Error(`property ${r.name} does not exists`)},set(n){let i=this.statePropsArgs.find(s=>s.name===r.name);if(i){n=this.transformerArg(n,i,!0);let s=(0,gl.checkSupportedParamType)(n,i,this.resolver);if(s)throw s;i.value=n,this.isGenesis=!1}else throw new Error(`property ${r.name} does not exists`)}})}),e}uo.buildContractClass=_8e;function vY(t){let e=t.alias||[],r=t.library||[],n=t.structs||[],i=t.contract;return SY(i,e,n,r)}uo.buildTypeResolverFromArtifact=vY;function SY(t,e,r,n,i=[],s=[]){let u={};return r.forEach(a=>{u[a.name]={info:a,generic:(0,gl.hasGeneric)(a),finalType:a.name,symbolType:Wa.SymbolType.Struct}}),n.forEach(a=>{u[a.name]={info:a,generic:(0,gl.hasGeneric)(a),finalType:a.name,symbolType:Wa.SymbolType.Library}}),i.forEach(a=>{u[a.name]={info:a,generic:(0,gl.hasGeneric)(a),finalType:a.name,symbolType:Wa.SymbolType.Contract}}),u.HashedMap={info:{name:"HashedMap",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["K","V"]},generic:!0,finalType:"HashedMap",symbolType:Wa.SymbolType.Library},u.HashedSet={info:{name:"HashedSet",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["E"]},generic:!0,finalType:"HashedSet",symbolType:Wa.SymbolType.Library},u.SortedItem={info:{name:"SortedItem",params:[{name:"item",type:"T"},{name:"idx",type:"int"}],genericTypes:["T"]},generic:!0,finalType:"SortedItem",symbolType:Wa.SymbolType.Struct},u.PubKeyHash={finalType:"Ripemd160",generic:!1,symbolType:Wa.SymbolType.ScryptType},a=>u[a]?u[a]:(0,Wa.isScryptType)(a)?{generic:!1,finalType:a,symbolType:Wa.SymbolType.ScryptType}:(0,Et.resolveType)(a,u,t,s,e,n)}uo.buildTypeResolver=SY});var ZB=$(Yr=>{"use strict";B();k();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.hash256=Yr.sha256=Yr.hash160=Yr.buildPublicKeyHashScript=Yr.buildOpreturnScript=Yr.writeVarint=Yr.toLEUnsigned=Yr.len=Yr.invert=Yr.xor=Yr.or=Yr.and=Yr.bin2num=Yr.num2bin=Yr.unpack=Yr.pack=void 0;var Yd=mr();function Up(t){return new Yd.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex")}Yr.pack=Up;function w8e(t){return BigInt(J2(t))}Yr.unpack=w8e;function Wd(t,e){let r=new Yd.bsv.crypto.BN(t);if(r.eqn(0))return"00".repeat(e);let n=r.toSM({endian:"little"}).toString("hex"),i=n.length/2;if(i>e)throw new Error(`${t} cannot fit in ${e} byte[s]`);if(i===e)return n;let s=e-i,u=n.substring(n.length-2),o=n.substring(0,n.length-2),a=parseInt(u,16);r.isNeg()&&(a&=127);let l=a.toString(16);l.length<2&&(l="0"+l);let f=t>0?"00".repeat(s):"00".repeat(s-1)+"80";return o+l+f}Yr.num2bin=Wd;function J2(t){let e=t.substring(t.length-2),r=t.substring(0,t.length-2),n=parseInt(e,16),s=(n&127).toString(16);s.length<2&&(s="0"+s);let u=Yd.bsv.crypto.BN.fromHex(r+s,{endian:"little"});return n>>7&&(u=u.neg()),BigInt(u.toString())}Yr.bin2num=J2;function E8e(t,e){let r=Up(t).length/2,n=Up(e).length/2,i=Math.max(r,n),s=I.Buffer.from(Wd(t,i),"hex"),u=I.Buffer.from(Wd(e,i),"hex");for(let o=0;o<s.length;o++)s[o]&=u[o];return J2(s.toString("hex"))}Yr.and=E8e;function A8e(t,e){let r=Up(t).length/2,n=Up(e).length/2,i=Math.max(r,n),s=I.Buffer.from(Wd(t,i),"hex"),u=I.Buffer.from(Wd(e,i),"hex");for(let o=0;o<s.length;o++)s[o]|=u[o];return J2(s.toString("hex"))}Yr.or=A8e;function T8e(t,e){let r=Up(t).length/2,n=Up(e).length/2,i=Math.max(r,n),s=I.Buffer.from(Wd(t,i),"hex"),u=I.Buffer.from(Wd(e,i),"hex");for(let o=0;o<s.length;o++)s[o]^=u[o];return J2(s.toString("hex"))}Yr.xor=T8e;function x8e(t){if(t===(0,Yd.Int)(0))return t;let e=Up(t).length/2,r=I.Buffer.from(Wd(t,e),"hex");for(let n=0;n<r.length;n++)r[n]=~r[n];return J2(r.toString("hex"))}Yr.invert=x8e;function XB(t){return BigInt(t.length/2)}Yr.len=XB;function qy(t,e){let r=Wd(t,e+1);return r.slice(0,Number(XB(r)-(0,Yd.Int)(1)))}Yr.toLEUnsigned=qy;function I8e(t){let e=XB(t),r="";return e<253?r=qy(e,1):e<65536?r="fd"+qy(e,2):e<4294967296?r="fe"+qy(e,4):e<18446744073709552e3&&(r="ff"+qy(e,8)),r+t}Yr.writeVarint=I8e;function P8e(t){return Yd.bsv.Script.fromASM(["OP_FALSE","OP_RETURN",t].join(" "))}Yr.buildOpreturnScript=P8e;function O8e(t){return Yd.bsv.Script.fromASM(["OP_DUP","OP_HASH160",t,"OP_EQUALVERIFY","OP_CHECKSIG"].join(" "))}Yr.buildPublicKeyHashScript=O8e;function B8e(t,e){return Yd.bsv.crypto.Hash.sha256ripemd160(I.Buffer.from(t,e||"hex")).toString("hex")}Yr.hash160=B8e;function YB(t,e){return Yd.bsv.crypto.Hash.sha256(I.Buffer.from(t,e||"hex")).toString("hex")}Yr.sha256=YB;function k8e(t,e){return YB(YB(t,e),e)}Yr.hash256=k8e});var RY={};Dv(RY,{EOL:()=>FY,arch:()=>C8e,cpus:()=>IY,default:()=>R8e,endianness:()=>_Y,freemem:()=>TY,getNetworkInterfaces:()=>kY,hostname:()=>wY,loadavg:()=>EY,networkInterfaces:()=>BY,platform:()=>F8e,release:()=>OY,tmpDir:()=>JB,tmpdir:()=>CY,totalmem:()=>xY,type:()=>PY,uptime:()=>AY});function _Y(){if(typeof D_>"u"){var t=new ArrayBuffer(2),e=new Uint8Array(t),r=new Uint16Array(t);if(e[0]=1,e[1]=2,r[0]===258)D_="BE";else if(r[0]===513)D_="LE";else throw new Error("unable to figure out endianess")}return D_}function wY(){return typeof globalThis.location<"u"?globalThis.location.hostname:""}function EY(){return[]}function AY(){return 0}function TY(){return Number.MAX_VALUE}function xY(){return Number.MAX_VALUE}function IY(){return[]}function PY(){return"Browser"}function OY(){return typeof globalThis.navigator<"u"?globalThis.navigator.appVersion:""}function BY(){}function kY(){}function C8e(){return"javascript"}function F8e(){return"browser"}function JB(){return"/tmp"}var D_,CY,FY,R8e,MY=Nv(()=>{B();k();CY=JB,FY=`
`,R8e={EOL:FY,tmpdir:CY,tmpDir:JB,networkInterfaces:BY,getNetworkInterfaces:kY,release:OY,type:PY,cpus:IY,totalmem:xY,freemem:TY,uptime:AY,loadavg:EY,hostname:wY,endianness:_Y}});var e7=$((vct,H_)=>{B();k();var Q6=(MY(),Hv(RY));if(Q6&&Q6.default){H_.exports=Q6.default;for(let t in Q6)H_.exports[t]=Q6[t]}else Q6&&(H_.exports=Q6)});var ek=$(Jc=>{"use strict";B();k();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.readLaunchJson=Jc.parseLiteral=Jc.stringToBytes=Jc.toJSON=Jc.genLaunchConfigFile=void 0;var St=Va(),t7=W2(),QB=Ju(),M8e=e7(),NY=wi();function N8e(t,e,r,n,i,s,u,o){if(!s)return"";let a={type:"scrypt",request:"launch",internalConsoleOptions:"openOnSessionStart",name:i,program:s,constructorArgs:e.map(h=>Q2(h,t)),pubFunc:n,pubFuncArgs:r.map(h=>Q2(h,t))},l={};if(!(0,t7.isEmpty)(u)){let h=u.inputIndex||0;if(u.tx){let d=u.inputSatoshis;Object.assign(l,{hex:u.tx.toString(),inputIndex:h,inputSatoshis:d})}u.opReturn?Object.assign(l,{opReturn:u.opReturn}):u.opReturnHex&&Object.assign(l,{opReturnHex:u.opReturnHex})}(0,t7.isEmpty)(o)||Object.assign(a,{asmArgs:o}),(0,t7.isEmpty)(l)||Object.assign(a,{txContext:l});let f={version:"0.2.0",configurations:[a]},c=JSON.stringify(f,(h,d)=>typeof d=="bigint"?d.toString():d,2);if((0,t7.isNode)()){let h=`${i}-launch.json`,d=(0,NY.join)(QB.mkdtempSync(`${(0,M8e.tmpdir)()}${NY.sep}sCrypt.`),h);return QB.writeFileSync(d,c),(0,t7.path2uri)(d)}else console.error(`${n}() call fail, see launch.json`,c)}Jc.genLaunchConfigFile=N8e;function Q2(t,e){let r=e(t.type);if((0,t7.isArrayType)(r.finalType)){let n=t.value,[i,s]=(0,St.arrayTypeAndSize)(r.finalType),u=(0,St.subArrayType)(r.finalType);return n.map((o,a)=>Q2({name:`${t.name}${(0,St.subscript)(a,s)}`,type:u,value:o},e))}else if(r.symbolType===St.SymbolType.Library){let n=[],i=(0,St.deduceGenericLibrary)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach((s,u)=>{n.push(Q2({name:s.name,type:s.type,value:t.value[u]},e))}),n}else if(r.symbolType===St.SymbolType.Struct){let n={},i=(0,St.deduceGenericStruct)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach(s=>{Object.assign(n,{[s.name]:Q2({name:s.name,type:s.type,value:t.value[s.name]},e)})}),n}else if(r.symbolType===St.SymbolType.ScryptType)switch(r.finalType){case St.ScryptType.BOOL:return t.value;case St.ScryptType.INT:return t.value>=BigInt(Number.MIN_SAFE_INTEGER)&&t.value<=BigInt(Number.MAX_SAFE_INTEGER)?Number(t.value):t.value.toString();case St.ScryptType.BYTES:return`b'${t.value.toString()}'`;case St.ScryptType.PRIVKEY:return`PrivKey(${t.value.toString()})`;case St.ScryptType.SIG:case St.ScryptType.RIPEMD160:case St.ScryptType.SHA1:case St.ScryptType.SHA256:case St.ScryptType.SIGHASHPREIMAGE:case St.ScryptType.OPCODETYPE:case St.ScryptType.SIGHASHTYPE:case St.ScryptType.PUBKEY:return`${r.finalType}(b'${t.value.toString()}')`}}Jc.toJSON=Q2;function DY(t){let r=new TextEncoder().encode(t);return(0,St.getValidatedHexString)(I.Buffer.from(r).toString("hex"))}Jc.stringToBytes=DY;function D8e(t,e=!1){if(t==="false")return[!1,St.ScryptType.BOOL];if(t==="true")return[!0,St.ScryptType.BOOL];if(e){let n=/^(0x[0-9a-fA-F]+)$/.exec(t);if(n)return[BigInt(n[1]),St.ScryptType.INT];if(n=/^(-?\d+)$/.exec(t),n)return[BigInt(n[1]),St.ScryptType.INT]}else if(/^([\da-fA-F]*)$/.exec(t))return[(0,St.Bytes)(t),St.ScryptType.BYTES];let r=/^b'([\da-fA-F]*)'$/.exec(t);if(r)return[(0,St.Bytes)(r[1]),St.ScryptType.BYTES];if(r=/^"([\s\S]*)"$/.exec(t),r)return[DY(r[1]),St.ScryptType.BYTES];if(r=/^PrivKey\((-?\d+)\)$/.exec(t),r)return[BigInt(r[1]),St.ScryptType.PRIVKEY];if(r=/^PrivKey\((0x[0-9a-fA-F]+)\)$/.exec(t),r)return[BigInt(r[1]),St.ScryptType.PRIVKEY];if(r=/^PubKey\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.PUBKEY]}if(r=/^Sig\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.SIG]}if(r=/^Ripemd160\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.RIPEMD160]}if(r=/^Sha1\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.SHA1]}if(r=/^Sha256\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.SHA256]}if(r=/^SigHashType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.SIGHASHTYPE]}if(r=/^SigHashPreimage\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.SIGHASHPREIMAGE]}if(r=/^OpCodeType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,St.getValidatedHexString)(r[1]);return[(0,St.Bytes)(n),St.ScryptType.OPCODETYPE]}throw new Error(`<${t}> cannot be cast to ASM format, only sCrypt native types supported`)}Jc.parseLiteral=D8e;var H8e=/(\[((!\[[^\]]*?\]\(\s*)([^\s()]+?)\s*\)\]|(?:\\\]|[^\]])*\])\(\s*)(([^\s()]|\([^\s()]*?\))+)\s*(".*?")?\)/g;function L8e(t){for(let e of t.matchAll(H8e))if(e[5]&&e[5].startsWith("scryptlaunch")){let r=e[5].replace(/scryptlaunch/,"file");return JSON.parse(QB.readFileSync((0,t7.uri2path)(r)).toString())}}Jc.readLaunchJson=L8e});var jY=$(e9=>{"use strict";B();k();Object.defineProperty(e9,"__esModule",{value:!0});e9.ABICoder=e9.FunctionCall=void 0;var tk=ZB(),HY=Cy(),qY=WB(),LY=jB(),U8e=ek(),$8e=jd(),UY=qB(),$Y=N_(),rk=Dy(),Bo=W2(),r7=class{get unlockingScript(){return this._unlockingScript}get lockingScript(){return this._lockingScript}set lockingScript(e){this._lockingScript=e}constructor(e,r){if(this.methodName=e,this.args=[],r.lockingScript===void 0&&r.unlockingScript===void 0)throw new Error("param binding.lockingScript & binding.unlockingScript cannot both be empty");this.contract=r.contract,this.args=r.args,r.lockingScript&&(this._lockingScript=r.lockingScript),r.unlockingScript&&(this._unlockingScript=r.unlockingScript)}toASM(){return this.toScript().toASM()}toString(){return this.toHex()}toScript(){return this.lockingScript?this.lockingScript:this.unlockingScript}toHex(){return this.toScript().toHex()}genLaunchConfig(e){let r=this.methodName,n=`Debug ${this.contract.contractName}`,i=`${this.contract.file}`,s=this.contract.asmArgs||{},u={};qY.AbstractContract.isStateful(this.contract)?Object.assign(u,{opReturnHex:this.contract.dataPart?.toHex()||""}):this.contract.dataPart&&Object.assign(u,{opReturn:this.contract.dataPart.toASM()});let o=Object.assign({},this.contract.txContext||{},e||{},u);return(0,U8e.genLaunchConfigFile)(this.contract.resolver,this.contract.ctorArgs(),this.args,r,n,i,o,s)}verify(e){let r=this.contract.run_verify(this.unlockingScript,e);if(!r.success){let n=this.genLaunchConfig(e);n&&(r.error=r.error+`	[Launch Debugger](${n.replace(/file:/i,"scryptlaunch:")})
`)}return r}};e9.FunctionCall=r7;var nk=class{constructor(e,r,n){this.abi=e,this.resolver=r,this.contractName=n}encodeConstructorCall(e,r,...n){let s=this.abi.filter(h=>h.type===HY.ABIEntityType.CONSTRUCTOR)[0]?.params||[],u=e.checkArgs("constructor",s,...n);s.flatMap((h,d)=>{let p=Object.assign({...h},{value:u[d]});return(0,rk.flatternArg)(p,this.resolver,{state:!1,ignoreValue:!1})}).forEach(h=>{if(!r.includes(`<${h.name}>`))throw new Error(`abi constructor params mismatch with args provided: missing ${h.name} in ASM tempalte`);e.hexTemplateArgs.set(`<${h.name}>`,(0,UY.toScriptHex)(h.value,h.type))});let a=!!r.match(/<__codePart__>/g);a&&e.hexTemplateArgs.set("<__codePart__>","00");let l=r.match(/<.*?>/g),f=l?l.length:0;e.hasInlineASMVars=a?f>e.hexTemplateArgs.size+1:f>e.hexTemplateArgs.size,e.statePropsArgs=$Y.default.buildDefaultStateArgs(e);let c=(0,Bo.buildContractCode)(e.hexTemplateArgs,e.hexTemplateInlineASM,r);return new r7("constructor",{contract:e,lockingScript:c,args:s.map((h,d)=>({name:h.name,type:h.type,value:u[d]}))})}encodeConstructorCallFromRawHex(e,r,n){let i=Bo.bsv.Script.fromHex(n),u=this.abi.filter(y=>y.type===HY.ABIEntityType.CONSTRUCTOR)[0]?.params||[],o=0,a,l=-1,f=new Error(`the raw script cannot match the ASM template of contract ${e.contractName}`);function c(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2}function h(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=F)throw f;o=o+y.len*2}function d(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+2);if(parseInt(F,16)!=y.len)throw f;o=o+2;let N=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=N)throw f;o=o+y.len*2}function p(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+4);if((0,tk.bin2num)(F)!=BigInt(y.len))throw f;o=o+4;let N=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=N)throw f;o=o+y.len*2}function m(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+8);if((0,tk.bin2num)(F)!=BigInt(y.len))throw f;o=o+8;let N=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=N)throw f;o=o+y.len*2}function w(){if(r.charAt(o)=="<"){let y=o,S=!1;for(;!S&&o<r.length;)o++,r.charAt(o)==">"&&(o++,S=!0);if(!S)throw new Error("cannot found break >");return r.substring(y,o)}}function x(y,S){let F=new Bo.bsv.encoding.BufferWriter;F.writeUInt8(S.opcodenum),S.buf&&(S.opcodenum<Bo.bsv.Opcode.OP_PUSHDATA1?F.write(S.buf):S.opcodenum===Bo.bsv.Opcode.OP_PUSHDATA1?(F.writeUInt8(S.len),F.write(S.buf)):S.opcodenum===Bo.bsv.Opcode.OP_PUSHDATA2?(F.writeUInt16LE(S.len),F.write(S.buf)):S.opcodenum===Bo.bsv.Opcode.OP_PUSHDATA4&&(F.writeUInt32LE(S.len),F.write(S.buf))),y.startsWith(`<${e.contractName}.`)?e.hexTemplateInlineASM.set(y,F.toBuffer().toString("hex")):e.hexTemplateArgs.set(y,F.toBuffer().toString("hex"))}for(let y=0;y<i.chunks.length;y++){let S=i.chunks[y],F=!1;switch(!0){case S.opcodenum===106:{o>=r.length?(a=Bo.bsv.Script.fromChunks(i.chunks.slice(y+1)).toHex(),l=y,F=!0):c(S);break}case S.opcodenum===0:{let N=w();N?x(N,S):c(S);break}case(S.opcodenum>=1&&S.opcodenum<=75):{let N=w();N?x(N,S):h(S);break}case(S.opcodenum>=79&&S.opcodenum<=96):{let N=w();N?x(N,S):c(S);break}case S.opcodenum===76:{let N=w();N?x(N,S):d(S);break}case S.opcodenum===77:{let N=w();N?x(N,S):p(S);break}case S.opcodenum===78:{let N=w();N?x(N,S):m(S);break}default:c(S)}if(F)break}let _=u.map(y=>(0,LY.deserializeArgfromHex)(e.resolver,Object.assign(y,{value:!1}),e.hexTemplateArgs,{state:!1}));if(qY.AbstractContract.isStateful(e)&&a){let y=a,S=a.substr(y.length-10,10);switch((0,tk.bin2num)(S.substr(S.length-2,2))){case(0,$8e.Int)(0):{let[N,H]=$Y.default.parseStateHex(e,y);e.statePropsArgs=H,e.isGenesis=N}break}}else a&&e.setDataPartInHex(a);return new r7("constructor",{contract:e,lockingScript:l>-1?Bo.bsv.Script.fromChunks(i.chunks.slice(0,l)):i,args:_})}encodePubFunctionCall(e,r,n){for(let i of this.abi)if(i.name===r){let s=e.checkArgs(r,i.params,...n),o=i.params.flatMap((a,l)=>{let f=Object.assign({...a},{value:s[l]});return(0,rk.flatternArg)(f,this.resolver,{state:!1,ignoreValue:!1})}).map(a=>(0,UY.toScriptHex)(a.value,a.type)).join("");if(this.abi.length>2&&i.index!==void 0){let a=i.index;o+=`${Bo.bsv.Script.fromASM((0,Bo.int2Asm)(a.toString())).toHex()}`}return new r7(r,{contract:e,unlockingScript:Bo.bsv.Script.fromHex(o),args:i.params.map((a,l)=>({name:a.name,type:a.type,value:s[l]}))})}throw new Error(`no public function named '${r}' found in contract '${e.contractName}'`)}encodePubFunctionCallFromHex(e,r){let n=this.parseCallData(r);return new r7(n.methodName,{contract:e,unlockingScript:n.unlockingScript,args:n.args})}parseCallData(e){let r=Bo.bsv.Script.fromHex(e),n=r.toASM(),i=this.abi.filter(d=>d.type==="function"),s=i.length,u;if(s===1)u=i[0];else{let d=n.slice(n.lastIndexOf(" ")+1),p=(0,Bo.asm2int)(d);u=this.abi.find(m=>m.index===p)}if(!u)throw new Error(`the raw unlocking script cannot match the contract ${this.constructor.name}`);let o=u.params||[],a=o.map(d=>{let p=Object.assign({},d,{value:!1});return(0,rk.flatternArg)(p,this.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),l=a.length;this.abi.length>2&&u.index!==void 0&&(l+=1);let f=n.split(" ");if(l!=f.length)throw new Error(`the raw unlockingScript cannot match the arguments of public function ${u.name} of contract ${this.contractName}`);let c=new Map;a.forEach((d,p)=>{c.set(`<${d.name}>`,Bo.bsv.Script.fromASM(f[p]).toHex())});let h=o.map(d=>(0,LY.deserializeArgfromHex)(this.resolver,Object.assign(d,{value:!1}),c,{state:!1}));return{methodName:u.name,args:h,unlockingScript:r}}};e9.ABICoder=nk});var ik=$((Pct,VY)=>{"use strict";B();k();function q8e(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}function KY(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function zY(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}VY.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(S){r.bools[S]=!0});var n={};function i(S){return n[S].some(function(F){return r.bools[F]})}Object.keys(e.alias||{}).forEach(function(S){n[S]=[].concat(e.alias[S]),n[S].forEach(function(F){n[F]=[S].concat(n[S].filter(function(N){return F!==N}))})}),[].concat(e.string).filter(Boolean).forEach(function(S){r.strings[S]=!0,n[S]&&[].concat(n[S]).forEach(function(F){r.strings[F]=!0})});var s=e.default||{},u={_:[]};function o(S,F){return r.allBools&&/^--[^=]+$/.test(F)||r.strings[S]||r.bools[S]||n[S]}function a(S,F,N){for(var H=S,D=0;D<F.length-1;D++){var L=F[D];if(zY(H,L))return;H[L]===void 0&&(H[L]={}),(H[L]===Object.prototype||H[L]===Number.prototype||H[L]===String.prototype)&&(H[L]={}),H[L]===Array.prototype&&(H[L]=[]),H=H[L]}var P=F[F.length-1];zY(H,P)||((H===Object.prototype||H===Number.prototype||H===String.prototype)&&(H={}),H===Array.prototype&&(H=[]),H[P]===void 0||r.bools[P]||typeof H[P]=="boolean"?H[P]=N:Array.isArray(H[P])?H[P].push(N):H[P]=[H[P],N])}function l(S,F,N){if(!(N&&r.unknownFn&&!o(S,N)&&r.unknownFn(N)===!1)){var H=!r.strings[S]&&KY(F)?Number(F):F;a(u,S.split("."),H),(n[S]||[]).forEach(function(D){a(u,D.split("."),H)})}}Object.keys(r.bools).forEach(function(S){l(S,s[S]===void 0?!1:s[S])});var f=[];t.indexOf("--")!==-1&&(f=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var c=0;c<t.length;c++){var h=t[c],d,p;if(/^--.+=/.test(h)){var m=h.match(/^--([^=]+)=([\s\S]*)$/);d=m[1];var w=m[2];r.bools[d]&&(w=w!=="false"),l(d,w,h)}else if(/^--no-.+/.test(h))d=h.match(/^--no-(.+)/)[1],l(d,!1,h);else if(/^--.+/.test(h))d=h.match(/^--(.+)/)[1],p=t[c+1],p!==void 0&&!/^(-|--)[^-]/.test(p)&&!r.bools[d]&&!r.allBools&&(n[d]?!i(d):!0)?(l(d,p,h),c+=1):/^(true|false)$/.test(p)?(l(d,p==="true",h),c+=1):l(d,r.strings[d]?"":!0,h);else if(/^-[^-]+/.test(h)){for(var x=h.slice(1,-1).split(""),_=!1,y=0;y<x.length;y++){if(p=h.slice(y+2),p==="-"){l(x[y],p,h);continue}if(/[A-Za-z]/.test(x[y])&&p[0]==="="){l(x[y],p.slice(1),h),_=!0;break}if(/[A-Za-z]/.test(x[y])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(p)){l(x[y],p,h),_=!0;break}if(x[y+1]&&x[y+1].match(/\W/)){l(x[y],h.slice(y+2),h),_=!0;break}else l(x[y],r.strings[x[y]]?"":!0,h)}d=h.slice(-1)[0],!_&&d!=="-"&&(t[c+1]&&!/^(-|--)[^-]/.test(t[c+1])&&!r.bools[d]&&(n[d]?!i(d):!0)?(l(d,t[c+1],h),c+=1):t[c+1]&&/^(true|false)$/.test(t[c+1])?(l(d,t[c+1]==="true",h),c+=1):l(d,r.strings[d]?"":!0,h))}else if((!r.unknownFn||r.unknownFn(h)!==!1)&&u._.push(r.strings._||!KY(h)?h:Number(h)),e.stopEarly){u._.push.apply(u._,t.slice(c+1));break}}return Object.keys(s).forEach(function(S){q8e(u,S.split("."))||(a(u,S.split("."),s[S]),(n[S]||[]).forEach(function(F){a(u,F.split("."),s[S])}))}),e["--"]?u["--"]=f.slice():f.forEach(function(S){u._.push(S)}),u}});var sk=$((kct,GY)=>{"use strict";B();k();var j8e=/[|\\{}()[\]^$+*?.]/g;GY.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(j8e,"\\$&")}});var YY=$((Rct,WY)=>{"use strict";B();k();WY.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var uk=$((Dct,QY)=>{B();k();var n7=YY(),JY={};for(L_ in n7)n7.hasOwnProperty(L_)&&(JY[n7[L_]]=L_);var L_,mt=QY.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(ko in mt)if(mt.hasOwnProperty(ko)){if(!("channels"in mt[ko]))throw new Error("missing channels property: "+ko);if(!("labels"in mt[ko]))throw new Error("missing channel labels property: "+ko);if(mt[ko].labels.length!==mt[ko].channels)throw new Error("channel and label counts mismatch: "+ko);XY=mt[ko].channels,ZY=mt[ko].labels,delete mt[ko].channels,delete mt[ko].labels,Object.defineProperty(mt[ko],"channels",{value:XY}),Object.defineProperty(mt[ko],"labels",{value:ZY})}var XY,ZY,ko;mt.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),u=s-i,o,a,l;return s===i?o=0:e===s?o=(r-n)/u:r===s?o=2+(n-e)/u:n===s&&(o=4+(e-r)/u),o=Math.min(o*60,360),o<0&&(o+=360),l=(i+s)/2,s===i?a=0:l<=.5?a=u/(s+i):a=u/(2-s-i),[o,a*100,l*100]};mt.rgb.hsv=function(t){var e,r,n,i,s,u=t[0]/255,o=t[1]/255,a=t[2]/255,l=Math.max(u,o,a),f=l-Math.min(u,o,a),c=function(h){return(l-h)/6/f+1/2};return f===0?i=s=0:(s=f/l,e=c(u),r=c(o),n=c(a),u===l?i=n-r:o===l?i=1/3+e-n:a===l&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,l*100]};mt.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=mt.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};mt.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,s,u,o;return o=Math.min(1-e,1-r,1-n),i=(1-e-o)/(1-o)||0,s=(1-r-o)/(1-o)||0,u=(1-n-o)/(1-o)||0,[i*100,s*100,u*100,o*100]};function K8e(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}mt.rgb.keyword=function(t){var e=JY[t];if(e)return e;var r=1/0,n;for(var i in n7)if(n7.hasOwnProperty(i)){var s=n7[i],u=K8e(t,s);u<r&&(r=u,n=i)}return n};mt.keyword.rgb=function(t){return n7[t]};mt.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,u=e*.0193+r*.1192+n*.9505;return[i*100,s*100,u*100]};mt.rgb.lab=function(t){var e=mt.rgb.xyz(t),r=e[0],n=e[1],i=e[2],s,u,o;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,u=500*(r-n),o=200*(n-i),[s,u,o]};mt.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,u,o,a;if(r===0)return a=n*255,[a,a,a];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,o=[0,0,0];for(var l=0;l<3;l++)u=e+1/3*-(l-1),u<0&&u++,u>1&&u--,6*u<1?a=i+(s-i)*6*u:2*u<1?a=s:3*u<2?a=i+(s-i)*(2/3-u)*6:a=i,o[l]=a*255;return o};mt.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01),u,o;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,o=(n+r)/2,u=n===0?2*i/(s+i):2*r/(n+r),[e,u*100,o*100]};mt.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),u=255*n*(1-r),o=255*n*(1-r*s),a=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,a,u];case 1:return[o,n,u];case 2:return[u,n,a];case 3:return[u,o,n];case 4:return[a,u,n];case 5:return[n,u,o]}};mt.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,u,o;return o=(2-r)*n,s=(2-r)*i,u=r*i,u/=s<=1?s:2-s,u=u||0,o/=2,[e,u*100,o*100]};mt.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s,u,o,a;i>1&&(r/=i,n/=i),s=Math.floor(6*e),u=1-n,o=6*e-s,(s&1)!==0&&(o=1-o),a=r+o*(u-r);var l,f,c;switch(s){default:case 6:case 0:l=u,f=a,c=r;break;case 1:l=a,f=u,c=r;break;case 2:l=r,f=u,c=a;break;case 3:l=r,f=a,c=u;break;case 4:l=a,f=r,c=u;break;case 5:l=u,f=r,c=a;break}return[l*255,f*255,c*255]};mt.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s,u,o;return s=1-Math.min(1,e*(1-i)+i),u=1-Math.min(1,r*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),[s*255,u*255,o*255]};mt.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,u;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,u=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),u=Math.min(Math.max(0,u),1),[i*255,s*255,u*255]};mt.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,u;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(e-r),u=200*(r-n),[i,s,u]};mt.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,s,u;s=(e+16)/116,i=r/500+s,u=s-n/200;var o=Math.pow(s,3),a=Math.pow(i,3),l=Math.pow(u,3);return s=o>.008856?o:(s-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,u=l>.008856?l:(u-16/116)/7.787,i*=95.047,s*=100,u*=108.883,[i,s,u]};mt.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,s,u;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),u=Math.sqrt(r*r+n*n),[e,u,s]};mt.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,u;return u=n/360*2*Math.PI,i=r*Math.cos(u),s=r*Math.sin(u),[e,i,s]};mt.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:mt.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};mt.hsv.ansi16=function(t){return mt.rgb.ansi16(mt.hsv.rgb(t),t[2])};mt.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};mt.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};mt.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,s=r%6/5*255;return[n,i,s]};mt.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};mt.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(o){return o+o}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,u=n&255;return[i,s,u]};mt.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),u=i-s,o,a;return u<1?o=s/(1-u):o=0,u<=0?a=0:i===e?a=(r-n)/u%6:i===r?a=2+(n-e)/u:a=4+(e-r)/u+4,a/=6,a%=1,[a*360,u*100,o*100]};mt.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};mt.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};mt.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],s=e%1*6,u=s%1,o=1-u,a=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=u,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=u;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=u,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return a=(1-r)*n,[(r*i[0]+a)*255,(r*i[1]+a)*255,(r*i[2]+a)*255]};mt.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};mt.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};mt.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};mt.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};mt.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};mt.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};mt.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};mt.gray.hsl=mt.gray.hsv=function(t){return[0,0,t[0]]};mt.gray.hwb=function(t){return[0,100,t[0]]};mt.gray.cmyk=function(t){return[0,0,0,t[0]]};mt.gray.lab=function(t){return[t[0],0,0]};mt.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};mt.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var tX=$((Uct,eX)=>{B();k();var U_=uk();function z8e(){for(var t={},e=Object.keys(U_),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function V8e(t){var e=z8e(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(U_[n]),s=i.length,u=0;u<s;u++){var o=i[u],a=e[o];a.distance===-1&&(a.distance=e[n].distance+1,a.parent=n,r.unshift(o))}return e}function G8e(t,e){return function(r){return e(t(r))}}function W8e(t,e){for(var r=[e[t].parent,t],n=U_[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=G8e(U_[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}eX.exports=function(t){for(var e=V8e(t),r={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var u=n[s],o=e[u];o.parent!==null&&(r[u]=W8e(u,e))}return r}});var ak=$((jct,rX)=>{B();k();var ok=uk(),Y8e=tX(),t9={},X8e=Object.keys(ok);function Z8e(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function J8e(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}X8e.forEach(function(t){t9[t]={},Object.defineProperty(t9[t],"channels",{value:ok[t].channels}),Object.defineProperty(t9[t],"labels",{value:ok[t].labels});var e=Y8e(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];t9[t][n]=J8e(i),t9[t][n].raw=Z8e(i)})});rX.exports=t9});var iX=$((Vct,nX)=>{"use strict";B();k();var r9=ak(),$_=(t,e)=>function(){return`\x1B[${t.apply(r9,arguments)+e}m`},q_=(t,e)=>function(){let r=t.apply(r9,arguments);return`\x1B[${38+e};5;${r}m`},j_=(t,e)=>function(){let r=t.apply(r9,arguments);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`};function Q8e(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(let i of Object.keys(e)){let s=e[i];for(let u of Object.keys(s)){let o=s[u];e[u]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},s[u]=e[u],t.set(o[0],o[1])}Object.defineProperty(e,i,{value:s,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}let r=i=>i,n=(i,s,u)=>[i,s,u];e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi={ansi:$_(r,0)},e.color.ansi256={ansi256:q_(r,0)},e.color.ansi16m={rgb:j_(n,0)},e.bgColor.ansi={ansi:$_(r,10)},e.bgColor.ansi256={ansi256:q_(r,10)},e.bgColor.ansi16m={rgb:j_(n,10)};for(let i of Object.keys(r9)){if(typeof r9[i]!="object")continue;let s=r9[i];i==="ansi16"&&(i="ansi"),"ansi16"in s&&(e.color.ansi[i]=$_(s.ansi16,0),e.bgColor.ansi[i]=$_(s.ansi16,10)),"ansi256"in s&&(e.color.ansi256[i]=q_(s.ansi256,0),e.bgColor.ansi256[i]=q_(s.ansi256,10)),"rgb"in s&&(e.color.ansi16m[i]=j_(s.rgb,0),e.bgColor.ansi16m[i]=j_(s.rgb,10))}return e}Object.defineProperty(nX,"exports",{enumerable:!0,get:Q8e})});var uX=$((Yct,sX)=>{"use strict";B();k();sX.exports={stdout:!1,stderr:!1}});var lX=$((Jct,fX)=>{"use strict";B();k();var eve=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,oX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,tve=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,rve=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,nve=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function cX(t){return t[0]==="u"&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):nve.get(t)||t}function ive(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n)if(!isNaN(s))r.push(Number(s));else if(i=s.match(tve))r.push(i[2].replace(rve,(u,o,a)=>o?cX(o):a));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`);return r}function sve(t){oX.lastIndex=0;let e=[],r;for(;(r=oX.exec(t))!==null;){let n=r[1];if(r[2]){let i=ive(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function aX(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let i of Object.keys(r))if(Array.isArray(r[i])){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);r[i].length>0?n=n[i].apply(n,r[i]):n=n[i]}return n}fX.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(eve,(s,u,o,a,l,f)=>{if(u)i.push(cX(u));else if(a){let c=i.join("");i=[],n.push(r.length===0?c:aX(t,r)(c)),r.push({inverse:o,styles:sve(a)})}else if(l){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(aX(t,r)(i.join(""))),i=[],r.pop()}else i.push(f)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var lk=$((t0t,Ky)=>{"use strict";B();k();var fk=sk(),bs=iX(),ck=uX().stdout,uve=lX(),hX=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),pX=["ansi","ansi","ansi256","ansi16m"],bX=new Set(["gray"]),n9=Object.create(null);function dX(t,e){e=e||{};let r=ck?ck.level:0;t.level=e.level===void 0?r:e.level,t.enabled="enabled"in e?e.enabled:t.level>0}function jy(t){if(!this||!(this instanceof jy)||this.template){let e={};return dX(e,t),e.template=function(){let r=[].slice.call(arguments);return cve.apply(null,[e.template].concat(r))},Object.setPrototypeOf(e,jy.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=jy,e.template}dX(this,t)}hX&&(bs.blue.open="\x1B[94m");for(let t of Object.keys(bs))bs[t].closeRe=new RegExp(fk(bs[t].close),"g"),n9[t]={get(){let e=bs[t];return K_.call(this,this._styles?this._styles.concat(e):[e],this._empty,t)}};n9.visible={get(){return K_.call(this,this._styles||[],!0,"visible")}};bs.color.closeRe=new RegExp(fk(bs.color.close),"g");for(let t of Object.keys(bs.color.ansi))bX.has(t)||(n9[t]={get(){let e=this.level;return function(){let n={open:bs.color[pX[e]][t].apply(null,arguments),close:bs.color.close,closeRe:bs.color.closeRe};return K_.call(this,this._styles?this._styles.concat(n):[n],this._empty,t)}}});bs.bgColor.closeRe=new RegExp(fk(bs.bgColor.close),"g");for(let t of Object.keys(bs.bgColor.ansi)){if(bX.has(t))continue;let e="bg"+t[0].toUpperCase()+t.slice(1);n9[e]={get(){let r=this.level;return function(){let i={open:bs.bgColor[pX[r]][t].apply(null,arguments),close:bs.bgColor.close,closeRe:bs.bgColor.closeRe};return K_.call(this,this._styles?this._styles.concat(i):[i],this._empty,t)}}}}var ove=Object.defineProperties(()=>{},n9);function K_(t,e,r){let n=function(){return ave.apply(n,arguments)};n._styles=t,n._empty=e;let i=this;return Object.defineProperty(n,"level",{enumerable:!0,get(){return i.level},set(s){i.level=s}}),Object.defineProperty(n,"enabled",{enumerable:!0,get(){return i.enabled},set(s){i.enabled=s}}),n.hasGrey=this.hasGrey||r==="gray"||r==="grey",n.__proto__=ove,n}function ave(){let t=arguments,e=t.length,r=String(arguments[0]);if(e===0)return"";if(e>1)for(let i=1;i<e;i++)r+=" "+t[i];if(!this.enabled||this.level<=0||!r)return this._empty?"":r;let n=bs.dim.open;hX&&this.hasGrey&&(bs.dim.open="");for(let i of this._styles.slice().reverse())r=i.open+r.replace(i.closeRe,i.open)+i.close,r=r.replace(/\r?\n/g,`${i.close}$&${i.open}`);return bs.dim.open=n,r}function cve(t,e){if(!Array.isArray(e))return[].slice.call(arguments,1).join(" ");let r=[].slice.call(arguments,2),n=[e.raw[0]];for(let i=1;i<e.length;i++)n.push(String(r[i-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(e.raw[i]));return uve(t,n.join(""))}Object.defineProperties(jy.prototype,n9);Ky.exports=jy();Ky.exports.supportsColor=ck;Ky.exports.default=Ky.exports});var mX=$((i0t,gX)=>{B();k();var dk=lk();function fve(){console.info(`${dk.bgRed.bold("**ERROR**: No sCrypt compiler found.")}`)}function lve(){console.info(`${dk.bgRed.bold("**ERROR**: Downloading sCrypt compiler failed.")}`),console.info(`Go to ${dk.blue.bold("https://github.com/sCrypt-Inc/compiler_dist/releases")} to download sCrypt compiler.
`)}gX.exports={showNoCompilerFound:fve,showDownloadFailed:lve}});var SX=$(i9=>{"use strict";B();k();Object.defineProperty(i9,"__esModule",{value:!0});i9.findCompiler=i9.getPlatformScryptc=void 0;var dve=Ay(),i7=Ju(),hve=ik(),pk=e7(),hk=wi(),pve=mX();function yX(){switch(pk.platform()){case"win32":return"compiler/scryptc/win32/scryptc.exe";case"linux":return"compiler/scryptc/linux/scryptc";case"darwin":return"compiler/scryptc/mac/scryptc";default:throw`sCrypt doesn't support ${pk.platform()}`}}i9.getPlatformScryptc=yX;function vX(t=__dirname){let e=(0,hk.resolve)(t,"compiler");if((0,i7.existsSync)(e)&&(0,i7.statSync)(e).isDirectory()){let n=(0,hk.join)(e,"..",yX());return(0,i7.existsSync)(n)?n:void 0}let r=(0,hk.resolve)(t,"..");if(r!==t)return vX(r)}function bve(){let e=pk.platform().indexOf("win")>-1?"where":"which";try{return(0,dve.execSync)(`${e} scryptc`,{stdio:[]}).toString().replace(/\r\n/g,"")}catch{return}}function gve(){let e=hve(process.argv.slice(2)).scryptc;if(e&&e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1)),e&&(0,i7.existsSync)(e))return e;if(process.env.SCRYPTC&&(0,i7.existsSync)(process.env.SCRYPTC))return process.env.SCRYPTC;if(e=vX(),e&&(0,i7.existsSync)(e)||(e=bve(),e&&(0,i7.existsSync)(e)))return e;(0,pve.showNoCompilerFound)()}i9.findCompiler=gve});var EX=$(s9=>{"use strict";B();k();Object.defineProperty(s9,"__esModule",{value:!0});s9.sha256ByPartialHash=s9.partialSha256=void 0;var mve=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yve(t,e){let r=t.length,n=r%64<56?64-r%64:128-r%64,i=I.Buffer.alloc(n),s=I.Buffer.concat([t,i]),u=r/536870912|0,o=r<<3;s[r]=128;for(let h=r+1;h<s.length-8;h++)s[h]=0;s[s.length-8]=u>>>24&255,s[s.length-7]=u>>>16&255,s[s.length-6]=u>>>8&255,s[s.length-5]=u>>>0&255,s[s.length-4]=o>>>24&255,s[s.length-3]=o>>>16&255,s[s.length-2]=o>>>8&255,s[s.length-1]=o>>>0&255;let a=[];for(let h=0;h<s.length/64;h++)a.push(s.slice(h*64,h*64+64));let f=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];for(let h=0;h<a.length;h++){let d=a[h];if(f=_X(f,d),r>64&&h==e)break}let c=wX(f);if(e>-1&&r>64){let h=t.slice((e+1)*64),d=s.slice(t.length);return[c,h.toString("hex"),d.toString("hex")]}return[c,"",""]}s9.partialSha256=yve;function vve(t,e,r){let n=I.Buffer.from(t,"hex"),i=I.Buffer.from(e+r,"hex"),s=[];for(let a=0;a<i.length/64;a++)s.push(i.slice(a*64,a*64+64));let o=[$p(n.slice(0,4)),$p(n.slice(4,8)),$p(n.slice(8,12)),$p(n.slice(12,16)),$p(n.slice(16,20)),$p(n.slice(20,24)),$p(n.slice(24,28)),$p(n.slice(28,32))];for(let a=0;a<s.length;a++){let l=s[a];o=_X(o,l)}return wX(o)}s9.sha256ByPartialHash=vve;function $p(t){return t.readUInt32BE()}function Sve(t){return t=Number(t),t<0?Math.ceil(t):Math.floor(t)}function _ve(t,e){return t-Math.floor(t/e)*e}function qp(t){return _ve(Sve(t),Math.pow(2,32))}function _X(t,e){let r=t[0],n=t[1],i=t[2],s=t[3],u=t[4],o=t[5],a=t[6],l=t[7],f=[];for(let c=0;c<64;c++){if(c<16)f[c]=e.slice(c*4,c*4+4).readUInt32BE();else{let _=f[c-15],y=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,S=f[c-2],F=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;f[c]=y+f[c-7]+F+f[c-16]}let h=u&o^~u&a,d=r&n^r&i^n&i,p=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),m=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),w=l+m+h+mve[c]+f[c],x=p+d;l=a,a=o,o=u,u=s+w,s=i,i=n,n=r,r=w+x}return[qp(t[0]+r),qp(t[1]+n),qp(t[2]+i),qp(t[3]+s),qp(t[4]+u),qp(t[5]+o),qp(t[6]+a),qp(t[7]+l)]}function jp(t){let e=I.Buffer.from([0,0,0,0]);return e.writeUInt32BE(t),e}function wX(t){return[jp(t[0]),jp(t[1]),jp(t[2]),jp(t[3]),jp(t[4]),jp(t[5]),jp(t[6]),jp(t[7])].reduce((r,n)=>I.Buffer.concat([r,n]),I.Buffer.from([])).toString("hex")}});var Va=$(Bu=>{"use strict";B();k();var wve=Bu&&Bu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lf=Bu&&Bu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wve(e,t,r)};Object.defineProperty(Bu,"__esModule",{value:!0});lf(W2(),Bu);lf(jd(),Bu);lf(qB(),Bu);lf(WB(),Bu);lf(Cy(),Bu);lf(jY(),Bu);lf(SX(),Bu);lf(EX(),Bu);lf(Dy(),Bu);lf(ZB(),Bu);lf(ek(),Bu)});var mr=$(oe=>{"use strict";B();k();Object.defineProperty(oe,"__esModule",{value:!0});oe.md5=oe.uri2path=oe.path2uri=oe.getFullFilePath=oe.JSONParser=oe.isEmpty=oe.parseLiteral=oe.compilerVersion=oe.typeOfArg=oe.getABIDeclaration=oe.getStructDeclaration=oe.buildTypeResolver=oe.resolveGenericType=oe.structSign=oe.librarySign=oe.toLiteralArrayType=oe.arrayTypeAndSizeStr=oe.resolveConstValue=oe.findStatic=oe.findConstStatic=oe.parseAbiFromUnlockingScript=oe.getLowSPreimage=oe.readLaunchJson=oe.parseGenericType=oe.isGenericType=oe.subArrayType=oe.genLaunchConfigFile=oe.getNameByType=oe.newCall=oe.arrayTypeAndSize=oe.isArrayType=oe.findStructByName=oe.findStructByType=oe.getValidatedHexString=oe.bytesToHexString=oe.bytes2Literal=oe.int2Asm=oe.bin2num=oe.toHex=oe.bsv=oe.CompileResult=oe.compileContractAsync=oe.handleCompilerOutput=oe.signTx=oe.getPreimage=oe.doCompileAsync=oe.compileContract=oe.compileAsync=oe.compile=oe.buildContractClass=void 0;oe.sha256ByPartialHash=oe.partialSha256=oe.findCompiler=oe.getPlatformScryptc=oe.toLEUnsigned=oe.writeVarint=oe.buildPublicKeyHashScript=oe.len=oe.buildOpreturnScript=oe.num2bin=oe.invert=oe.xor=oe.or=oe.and=oe.hash256=oe.sha256=oe.hash160=oe.DEFAULT_SIGHASH_TYPE=oe.ScryptType=oe.DEFAULT_FLAGS=oe.SymbolType=oe.DebugModeTag=oe.AbstractContract=oe.BuildType=oe.ABIEntityType=oe.HashedSet=oe.HashedMap=oe.PubKeyHash=oe.OpCodeType=oe.SigHashPreimage=oe.SigHashType=oe.Sha256=oe.Sha1=oe.Ripemd160=oe.Sig=oe.PubKey=oe.PrivKey=oe.Bytes=oe.Bool=oe.Int=oe.flatternArg=oe.getSortedItem=oe.toJSON=oe.isSubBytes=oe.isScryptType=oe.stringToBytes=oe.FunctionCall=void 0;var ml=Va();Object.defineProperty(oe,"buildContractClass",{enumerable:!0,get:function(){return ml.buildContractClass}});Object.defineProperty(oe,"compile",{enumerable:!0,get:function(){return ml.compile}});Object.defineProperty(oe,"compileAsync",{enumerable:!0,get:function(){return ml.compileAsync}});Object.defineProperty(oe,"compileContract",{enumerable:!0,get:function(){return ml.compileContract}});Object.defineProperty(oe,"doCompileAsync",{enumerable:!0,get:function(){return ml.doCompileAsync}});Object.defineProperty(oe,"getPreimage",{enumerable:!0,get:function(){return ml.getPreimage}});Object.defineProperty(oe,"signTx",{enumerable:!0,get:function(){return ml.signTx}});Object.defineProperty(oe,"handleCompilerOutput",{enumerable:!0,get:function(){return ml.handleCompilerOutput}});Object.defineProperty(oe,"compileContractAsync",{enumerable:!0,get:function(){return ml.compileContractAsync}});Object.defineProperty(oe,"CompileResult",{enumerable:!0,get:function(){return ml.CompileResult}});var Ht=Va();Object.defineProperty(oe,"bsv",{enumerable:!0,get:function(){return Ht.bsv}});Object.defineProperty(oe,"toHex",{enumerable:!0,get:function(){return Ht.toHex}});Object.defineProperty(oe,"bin2num",{enumerable:!0,get:function(){return Ht.bin2num}});Object.defineProperty(oe,"int2Asm",{enumerable:!0,get:function(){return Ht.int2Asm}});Object.defineProperty(oe,"bytes2Literal",{enumerable:!0,get:function(){return Ht.bytes2Literal}});Object.defineProperty(oe,"bytesToHexString",{enumerable:!0,get:function(){return Ht.bytesToHexString}});Object.defineProperty(oe,"getValidatedHexString",{enumerable:!0,get:function(){return Ht.getValidatedHexString}});Object.defineProperty(oe,"findStructByType",{enumerable:!0,get:function(){return Ht.findStructByType}});Object.defineProperty(oe,"findStructByName",{enumerable:!0,get:function(){return Ht.findStructByName}});Object.defineProperty(oe,"isArrayType",{enumerable:!0,get:function(){return Ht.isArrayType}});Object.defineProperty(oe,"arrayTypeAndSize",{enumerable:!0,get:function(){return Ht.arrayTypeAndSize}});Object.defineProperty(oe,"newCall",{enumerable:!0,get:function(){return Ht.newCall}});Object.defineProperty(oe,"getNameByType",{enumerable:!0,get:function(){return Ht.getNameByType}});Object.defineProperty(oe,"genLaunchConfigFile",{enumerable:!0,get:function(){return Ht.genLaunchConfigFile}});Object.defineProperty(oe,"subArrayType",{enumerable:!0,get:function(){return Ht.subArrayType}});Object.defineProperty(oe,"isGenericType",{enumerable:!0,get:function(){return Ht.isGenericType}});Object.defineProperty(oe,"parseGenericType",{enumerable:!0,get:function(){return Ht.parseGenericType}});Object.defineProperty(oe,"readLaunchJson",{enumerable:!0,get:function(){return Ht.readLaunchJson}});Object.defineProperty(oe,"getLowSPreimage",{enumerable:!0,get:function(){return Ht.getLowSPreimage}});Object.defineProperty(oe,"parseAbiFromUnlockingScript",{enumerable:!0,get:function(){return Ht.parseAbiFromUnlockingScript}});Object.defineProperty(oe,"findConstStatic",{enumerable:!0,get:function(){return Ht.findConstStatic}});Object.defineProperty(oe,"findStatic",{enumerable:!0,get:function(){return Ht.findStatic}});Object.defineProperty(oe,"resolveConstValue",{enumerable:!0,get:function(){return Ht.resolveConstValue}});Object.defineProperty(oe,"arrayTypeAndSizeStr",{enumerable:!0,get:function(){return Ht.arrayTypeAndSizeStr}});Object.defineProperty(oe,"toLiteralArrayType",{enumerable:!0,get:function(){return Ht.toLiteralArrayType}});Object.defineProperty(oe,"librarySign",{enumerable:!0,get:function(){return Ht.librarySign}});Object.defineProperty(oe,"structSign",{enumerable:!0,get:function(){return Ht.structSign}});Object.defineProperty(oe,"resolveGenericType",{enumerable:!0,get:function(){return Ht.resolveGenericType}});Object.defineProperty(oe,"buildTypeResolver",{enumerable:!0,get:function(){return Ht.buildTypeResolver}});Object.defineProperty(oe,"getStructDeclaration",{enumerable:!0,get:function(){return Ht.getStructDeclaration}});Object.defineProperty(oe,"getABIDeclaration",{enumerable:!0,get:function(){return Ht.getABIDeclaration}});Object.defineProperty(oe,"typeOfArg",{enumerable:!0,get:function(){return Ht.typeOfArg}});Object.defineProperty(oe,"compilerVersion",{enumerable:!0,get:function(){return Ht.compilerVersion}});Object.defineProperty(oe,"parseLiteral",{enumerable:!0,get:function(){return Ht.parseLiteral}});Object.defineProperty(oe,"isEmpty",{enumerable:!0,get:function(){return Ht.isEmpty}});Object.defineProperty(oe,"JSONParser",{enumerable:!0,get:function(){return Ht.JSONParser}});Object.defineProperty(oe,"getFullFilePath",{enumerable:!0,get:function(){return Ht.getFullFilePath}});Object.defineProperty(oe,"path2uri",{enumerable:!0,get:function(){return Ht.path2uri}});Object.defineProperty(oe,"uri2path",{enumerable:!0,get:function(){return Ht.uri2path}});Object.defineProperty(oe,"md5",{enumerable:!0,get:function(){return Ht.md5}});Object.defineProperty(oe,"FunctionCall",{enumerable:!0,get:function(){return Ht.FunctionCall}});Object.defineProperty(oe,"stringToBytes",{enumerable:!0,get:function(){return Ht.stringToBytes}});Object.defineProperty(oe,"isScryptType",{enumerable:!0,get:function(){return Ht.isScryptType}});Object.defineProperty(oe,"isSubBytes",{enumerable:!0,get:function(){return Ht.isSubBytes}});Object.defineProperty(oe,"toJSON",{enumerable:!0,get:function(){return Ht.toJSON}});Object.defineProperty(oe,"getSortedItem",{enumerable:!0,get:function(){return Ht.getSortedItem}});Object.defineProperty(oe,"flatternArg",{enumerable:!0,get:function(){return Ht.flatternArg}});var Ei=Va();Object.defineProperty(oe,"Int",{enumerable:!0,get:function(){return Ei.Int}});Object.defineProperty(oe,"Bool",{enumerable:!0,get:function(){return Ei.Bool}});Object.defineProperty(oe,"Bytes",{enumerable:!0,get:function(){return Ei.Bytes}});Object.defineProperty(oe,"PrivKey",{enumerable:!0,get:function(){return Ei.PrivKey}});Object.defineProperty(oe,"PubKey",{enumerable:!0,get:function(){return Ei.PubKey}});Object.defineProperty(oe,"Sig",{enumerable:!0,get:function(){return Ei.Sig}});Object.defineProperty(oe,"Ripemd160",{enumerable:!0,get:function(){return Ei.Ripemd160}});Object.defineProperty(oe,"Sha1",{enumerable:!0,get:function(){return Ei.Sha1}});Object.defineProperty(oe,"Sha256",{enumerable:!0,get:function(){return Ei.Sha256}});Object.defineProperty(oe,"SigHashType",{enumerable:!0,get:function(){return Ei.SigHashType}});Object.defineProperty(oe,"SigHashPreimage",{enumerable:!0,get:function(){return Ei.SigHashPreimage}});Object.defineProperty(oe,"OpCodeType",{enumerable:!0,get:function(){return Ei.OpCodeType}});Object.defineProperty(oe,"PubKeyHash",{enumerable:!0,get:function(){return Ei.PubKeyHash}});Object.defineProperty(oe,"HashedMap",{enumerable:!0,get:function(){return Ei.HashedMap}});Object.defineProperty(oe,"HashedSet",{enumerable:!0,get:function(){return Ei.HashedSet}});Object.defineProperty(oe,"ABIEntityType",{enumerable:!0,get:function(){return Ei.ABIEntityType}});Object.defineProperty(oe,"BuildType",{enumerable:!0,get:function(){return Ei.BuildType}});Object.defineProperty(oe,"AbstractContract",{enumerable:!0,get:function(){return Ei.AbstractContract}});Object.defineProperty(oe,"DebugModeTag",{enumerable:!0,get:function(){return Ei.DebugModeTag}});Object.defineProperty(oe,"SymbolType",{enumerable:!0,get:function(){return Ei.SymbolType}});Object.defineProperty(oe,"DEFAULT_FLAGS",{enumerable:!0,get:function(){return Ei.DEFAULT_FLAGS}});Object.defineProperty(oe,"ScryptType",{enumerable:!0,get:function(){return Ei.ScryptType}});Object.defineProperty(oe,"DEFAULT_SIGHASH_TYPE",{enumerable:!0,get:function(){return Ei.DEFAULT_SIGHASH_TYPE}});var Ya=Va();Object.defineProperty(oe,"hash160",{enumerable:!0,get:function(){return Ya.hash160}});Object.defineProperty(oe,"sha256",{enumerable:!0,get:function(){return Ya.sha256}});Object.defineProperty(oe,"hash256",{enumerable:!0,get:function(){return Ya.hash256}});Object.defineProperty(oe,"and",{enumerable:!0,get:function(){return Ya.and}});Object.defineProperty(oe,"or",{enumerable:!0,get:function(){return Ya.or}});Object.defineProperty(oe,"xor",{enumerable:!0,get:function(){return Ya.xor}});Object.defineProperty(oe,"invert",{enumerable:!0,get:function(){return Ya.invert}});Object.defineProperty(oe,"num2bin",{enumerable:!0,get:function(){return Ya.num2bin}});Object.defineProperty(oe,"buildOpreturnScript",{enumerable:!0,get:function(){return Ya.buildOpreturnScript}});Object.defineProperty(oe,"len",{enumerable:!0,get:function(){return Ya.len}});Object.defineProperty(oe,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return Ya.buildPublicKeyHashScript}});Object.defineProperty(oe,"writeVarint",{enumerable:!0,get:function(){return Ya.writeVarint}});Object.defineProperty(oe,"toLEUnsigned",{enumerable:!0,get:function(){return Ya.toLEUnsigned}});var AX=Va();Object.defineProperty(oe,"getPlatformScryptc",{enumerable:!0,get:function(){return AX.getPlatformScryptc}});Object.defineProperty(oe,"findCompiler",{enumerable:!0,get:function(){return AX.findCompiler}});var TX=Va();Object.defineProperty(oe,"partialSha256",{enumerable:!0,get:function(){return TX.partialSha256}});Object.defineProperty(oe,"sha256ByPartialHash",{enumerable:!0,get:function(){return TX.sha256ByPartialHash}})});var z_=$(Kp=>{"use strict";B();k();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.SortedItemAccessTracer=Kp.instanceOfSIATraceable=Kp.SortedItemAccess=void 0;var Eve=s7(),Ave=mr(),zp=class{constructor(e,r,n){this.item=e,this.itemHashHex=r,this.idx=n}serialize(){if(this.itemHashHex.length!==zp.ITEM_HASH_SIZE_IN_BYTES*2)throw new Error(`invalid hashed key size ${this.itemHashHex.length}, should be ${zp.ITEM_HASH_SIZE_IN_BYTES*2} in hex`);return Eve.VarIntWriter.writeInt(this.idx)}};Kp.SortedItemAccess=zp;zp.ITEM_HASH_SIZE_IN_BYTES=32;function Tve(t){return t&&"startTracing"in t&&"stopTracing"in t&&"serializedAccessPath"in t}Kp.instanceOfSIATraceable=Tve;var bk=class{constructor(e,r){this._itemType=e,this._DelegateClazz=r}hash(e){return this._DelegateClazz.flattenSha256(e,this._itemType)}},gk=class{constructor(e){this.hasher=e}findIndex(e,r){let n=this._item2BN(e),i=Array.from(r).map(s=>this._item2BN(s)).sort((s,u)=>s.cmp(u)).findIndex(s=>n.eq(s));return BigInt(i)}_item2BN(e){return Ave.bsv.crypto.BN.fromSM(I.Buffer.from(this.hasher.hash(e),"hex"),{endian:"little"})}},mk=class{constructor(e,r){this._traceEnabled=!1,this._accessPath=[],this._hasher=new bk(e,r),this._sequencer=new gk(this._hasher)}traceAccess(e,r){this._traceEnabled&&this._accessPath.push(new zp(e,this._hasher.hash(e),this._sequencer.findIndex(e,r)))}startTracing(){this._traceEnabled=!0,this._accessPath=[]}stopTracing(){this._traceEnabled=!1}serializedAccessPath(){return(this._accessPath||[]).map(e=>e.serialize()).join("")}};Kp.SortedItemAccessTracer=mk});var zy=$((xX,IX)=>{B();k();(function(t){var e;typeof xX=="object"?IX.exports=t():typeof define=="function"&&define.amd?define(t):(typeof window<"u"?e=window:typeof globalThis<"u"?e=globalThis:typeof self<"u"&&(e=self),e.objectHash=t())})(function(){return function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){var l=typeof Um=="function"&&Um;if(!a&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}a=r[o]={exports:{}},e[o][0].call(a.exports,function(f){var c=e[o][1][f];return i(c||f)},a,a.exports,t,e,r,n)}return r[o].exports}for(var s=typeof Um=="function"&&Um,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){"use strict";var h=t("crypto");function d(S,F){F=w(S,F);var N;return(N=F.algorithm!=="passthrough"?h.createHash(F.algorithm):new y).write===void 0&&(N.write=N.update,N.end=N.update),_(F,N).dispatch(S),N.update||N.end(""),N.digest?N.digest(F.encoding==="buffer"?void 0:F.encoding):(S=N.read(),F.encoding!=="buffer"?S.toString(F.encoding):S)}(r=e.exports=d).sha1=function(S){return d(S)},r.keys=function(S){return d(S,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(S){return d(S,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(S){return d(S,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=h.getHashes?h.getHashes().slice():["sha1","md5"],m=(p.push("passthrough"),["buffer","hex","binary","base64"]);function w(S,F){var N={};if(N.algorithm=(F=F||{}).algorithm||"sha1",N.encoding=F.encoding||"hex",N.excludeValues=!!F.excludeValues,N.algorithm=N.algorithm.toLowerCase(),N.encoding=N.encoding.toLowerCase(),N.ignoreUnknown=F.ignoreUnknown===!0,N.respectType=F.respectType!==!1,N.respectFunctionNames=F.respectFunctionNames!==!1,N.respectFunctionProperties=F.respectFunctionProperties!==!1,N.unorderedArrays=F.unorderedArrays===!0,N.unorderedSets=F.unorderedSets!==!1,N.unorderedObjects=F.unorderedObjects!==!1,N.replacer=F.replacer||void 0,N.excludeKeys=F.excludeKeys||void 0,S===void 0)throw new Error("Object argument required.");for(var H=0;H<p.length;++H)p[H].toLowerCase()===N.algorithm.toLowerCase()&&(N.algorithm=p[H]);if(p.indexOf(N.algorithm)===-1)throw new Error('Algorithm "'+N.algorithm+'"  not supported. supported values: '+p.join(", "));if(m.indexOf(N.encoding)===-1&&N.algorithm!=="passthrough")throw new Error('Encoding "'+N.encoding+'"  not supported. supported values: '+m.join(", "));return N}function x(S){if(typeof S=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(S))!=null}function _(S,F,N){N=N||[];function H(D){return F.update?F.update(D,"utf8"):F.write(D,"utf8")}return{dispatch:function(D){return this["_"+((D=S.replacer?S.replacer(D):D)===null?"null":typeof D)](D)},_object:function(D){var L,P=Object.prototype.toString.call(D),A=/\[object (.*)\]/i.exec(P);if(A=(A=A?A[1]:"unknown:["+P+"]").toLowerCase(),0<=(P=N.indexOf(D)))return this.dispatch("[CIRCULAR:"+P+"]");if(N.push(D),s!==void 0&&s.isBuffer&&s.isBuffer(D))return H("buffer:"),H(D);if(A==="object"||A==="function"||A==="asyncfunction")return P=Object.keys(D),S.unorderedObjects&&(P=P.sort()),S.respectType===!1||x(D)||P.splice(0,0,"prototype","__proto__","constructor"),S.excludeKeys&&(P=P.filter(function(b){return!S.excludeKeys(b)})),H("object:"+P.length+":"),L=this,P.forEach(function(b){L.dispatch(b),H(":"),S.excludeValues||L.dispatch(D[b]),H(",")});if(!this["_"+A]){if(S.ignoreUnknown)return H("["+A+"]");throw new Error('Unknown object type "'+A+'"')}this["_"+A](D)},_array:function(D,b){b=b!==void 0?b:S.unorderedArrays!==!1;var P=this;if(H("array:"+D.length+":"),!b||D.length<=1)return D.forEach(function(g){return P.dispatch(g)});var A=[],b=D.map(function(g){var v=new y,E=N.slice();return _(S,v,E).dispatch(g),A=A.concat(E.slice(N.length)),v.read().toString()});return N=N.concat(A),b.sort(),this._array(b,!1)},_date:function(D){return H("date:"+D.toJSON())},_symbol:function(D){return H("symbol:"+D.toString())},_error:function(D){return H("error:"+D.toString())},_boolean:function(D){return H("bool:"+D.toString())},_string:function(D){H("string:"+D.length+":"),H(D.toString())},_function:function(D){H("fn:"),x(D)?this.dispatch("[native]"):this.dispatch(D.toString()),S.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(D.name)),S.respectFunctionProperties&&this._object(D)},_number:function(D){return H("number:"+D.toString())},_xml:function(D){return H("xml:"+D.toString())},_null:function(){return H("Null")},_undefined:function(){return H("Undefined")},_regexp:function(D){return H("regex:"+D.toString())},_uint8array:function(D){return H("uint8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint8clampedarray:function(D){return H("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(D))},_int8array:function(D){return H("int8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint16array:function(D){return H("uint16array:"),this.dispatch(Array.prototype.slice.call(D))},_int16array:function(D){return H("int16array:"),this.dispatch(Array.prototype.slice.call(D))},_uint32array:function(D){return H("uint32array:"),this.dispatch(Array.prototype.slice.call(D))},_int32array:function(D){return H("int32array:"),this.dispatch(Array.prototype.slice.call(D))},_float32array:function(D){return H("float32array:"),this.dispatch(Array.prototype.slice.call(D))},_float64array:function(D){return H("float64array:"),this.dispatch(Array.prototype.slice.call(D))},_arraybuffer:function(D){return H("arraybuffer:"),this.dispatch(new Uint8Array(D))},_url:function(D){return H("url:"+D.toString())},_map:function(D){return H("map:"),D=Array.from(D),this._array(D,S.unorderedSets!==!1)},_set:function(D){return H("set:"),D=Array.from(D),this._array(D,S.unorderedSets!==!1)},_file:function(D){return H("file:"),this.dispatch([D.name,D.size,D.type,D.lastModfied])},_blob:function(){if(S.ignoreUnknown)return H("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return H("domwindow")},_bigint:function(D){return H("bigint:"+D.toString())},_process:function(){return H("process")},_timer:function(){return H("timer")},_pipe:function(){return H("pipe")},_tcp:function(){return H("tcp")},_udp:function(){return H("udp")},_tty:function(){return H("tty")},_statwatcher:function(){return H("statwatcher")},_securecontext:function(){return H("securecontext")},_connection:function(){return H("connection")},_zlib:function(){return H("zlib")},_context:function(){return H("context")},_nodescript:function(){return H("nodescript")},_httpparser:function(){return H("httpparser")},_dataview:function(){return H("dataview")},_signal:function(){return H("signal")},_fsevent:function(){return H("fsevent")},_tlswrap:function(){return H("tlswrap")}}}function y(){return{buf:"",write:function(S){this.buf+=S},end:function(S){this.buf+=S},read:function(){return this.buf}}}r.writeToStream=function(S,F,N){return N===void 0&&(N=F,F={}),_(F=w(S,F),N).dispatch(S)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){(function(h){"use strict";var d=typeof Uint8Array<"u"?Uint8Array:Array,p="+".charCodeAt(0),m="/".charCodeAt(0),w="0".charCodeAt(0),x="a".charCodeAt(0),_="A".charCodeAt(0),y="-".charCodeAt(0),S="_".charCodeAt(0);function F(N){return N=N.charCodeAt(0),N===p||N===y?62:N===m||N===S?63:N<w?-1:N<w+10?N-w+26+26:N<_+26?N-_:N<x+26?N-x+26:void 0}h.toByteArray=function(N){var H,D;if(0<N.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var L=N.length,L=N.charAt(L-2)==="="?2:N.charAt(L-1)==="="?1:0,P=new d(3*N.length/4-L),A=0<L?N.length-4:N.length,b=0;function g(v){P[b++]=v}for(H=0;H<A;H+=4,0)g((16711680&(D=F(N.charAt(H))<<18|F(N.charAt(H+1))<<12|F(N.charAt(H+2))<<6|F(N.charAt(H+3))))>>16),g((65280&D)>>8),g(255&D);return L==2?g(255&(D=F(N.charAt(H))<<2|F(N.charAt(H+1))>>4)):L==1&&(g((D=F(N.charAt(H))<<10|F(N.charAt(H+1))<<4|F(N.charAt(H+2))>>2)>>8&255),g(255&D)),P},h.fromByteArray=function(N){var H,D,L,P,A=N.length%3,b="";function g(v){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(v)}for(H=0,L=N.length-A;H<L;H+=3)D=(N[H]<<16)+(N[H+1]<<8)+N[H+2],b+=g((P=D)>>18&63)+g(P>>12&63)+g(P>>6&63)+g(63&P);switch(A){case 1:b=(b+=g((D=N[N.length-1])>>2))+g(D<<4&63)+"==";break;case 2:b=(b=(b+=g((D=(N[N.length-2]<<8)+N[N.length-1])>>10))+g(D>>4&63))+g(D<<2&63)+"="}return b}})(r===void 0?this.base64js={}:r)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,e,r){(function(n,i,p,u,o,a,l,f,c){var h=t("base64-js"),d=t("ieee754");function p(j,Z,ee){if(!(this instanceof p))return new p(j,Z,ee);var ue,fe,de,we,He=typeof j;if(Z==="base64"&&He=="string")for(j=(we=j).trim?we.trim():we.replace(/^\s+|\s+$/g,"");j.length%4!=0;)j+="=";if(He=="number")ue=C(j);else if(He=="string")ue=p.byteLength(j,Z);else{if(He!="object")throw new Error("First argument needs to be a number, array or string.");ue=C(j.length)}if(p._useTypedArrays?fe=p._augment(new Uint8Array(ue)):((fe=this).length=ue,fe._isBuffer=!0),p._useTypedArrays&&typeof j.byteLength=="number")fe._set(j);else if(R(we=j)||p.isBuffer(we)||we&&typeof we=="object"&&typeof we.length=="number")for(de=0;de<ue;de++)p.isBuffer(j)?fe[de]=j.readUInt8(de):fe[de]=j[de];else if(He=="string")fe.write(j,0,Z);else if(He=="number"&&!p._useTypedArrays&&!ee)for(de=0;de<ue;de++)fe[de]=0;return fe}function m(j,Z,ee,ue){return p._charsWritten=U(function(fe){for(var de=[],we=0;we<fe.length;we++)de.push(255&fe.charCodeAt(we));return de}(Z),j,ee,ue)}function w(j,Z,ee,ue){return p._charsWritten=U(function(fe){for(var de,we,He=[],Fe=0;Fe<fe.length;Fe++)we=fe.charCodeAt(Fe),de=we>>8,we=we%256,He.push(we),He.push(de);return He}(Z),j,ee,ue)}function x(j,Z,ee){var ue="";ee=Math.min(j.length,ee);for(var fe=Z;fe<ee;fe++)ue+=String.fromCharCode(j[fe]);return ue}function _(j,Z,ee,de){de||(se(typeof ee=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+1<j.length,"Trying to read beyond buffer length"));var fe,de=j.length;if(!(de<=Z))return ee?(fe=j[Z],Z+1<de&&(fe|=j[Z+1]<<8)):(fe=j[Z]<<8,Z+1<de&&(fe|=j[Z+1])),fe}function y(j,Z,ee,de){de||(se(typeof ee=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+3<j.length,"Trying to read beyond buffer length"));var fe,de=j.length;if(!(de<=Z))return ee?(Z+2<de&&(fe=j[Z+2]<<16),Z+1<de&&(fe|=j[Z+1]<<8),fe|=j[Z],Z+3<de&&(fe+=j[Z+3]<<24>>>0)):(Z+1<de&&(fe=j[Z+1]<<16),Z+2<de&&(fe|=j[Z+2]<<8),Z+3<de&&(fe|=j[Z+3]),fe+=j[Z]<<24>>>0),fe}function S(j,Z,ee,ue){if(ue||(se(typeof ee=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+1<j.length,"Trying to read beyond buffer length")),!(j.length<=Z))return ue=_(j,Z,ee,!0),32768&ue?-1*(65535-ue+1):ue}function F(j,Z,ee,ue){if(ue||(se(typeof ee=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+3<j.length,"Trying to read beyond buffer length")),!(j.length<=Z))return ue=y(j,Z,ee,!0),2147483648&ue?-1*(4294967295-ue+1):ue}function N(j,Z,ee,ue){return ue||(se(typeof ee=="boolean","missing or invalid endian"),se(Z+3<j.length,"Trying to read beyond buffer length")),d.read(j,Z,ee,23,4)}function H(j,Z,ee,ue){return ue||(se(typeof ee=="boolean","missing or invalid endian"),se(Z+7<j.length,"Trying to read beyond buffer length")),d.read(j,Z,ee,52,8)}function D(j,Z,ee,ue,fe){if(fe||(se(Z!=null,"missing value"),se(typeof ue=="boolean","missing or invalid endian"),se(ee!=null,"missing offset"),se(ee+1<j.length,"trying to write beyond buffer length"),te(Z,65535)),fe=j.length,!(fe<=ee))for(var de=0,we=Math.min(fe-ee,2);de<we;de++)j[ee+de]=(Z&255<<8*(ue?de:1-de))>>>8*(ue?de:1-de)}function L(j,Z,ee,ue,fe){if(fe||(se(Z!=null,"missing value"),se(typeof ue=="boolean","missing or invalid endian"),se(ee!=null,"missing offset"),se(ee+3<j.length,"trying to write beyond buffer length"),te(Z,4294967295)),fe=j.length,!(fe<=ee))for(var de=0,we=Math.min(fe-ee,4);de<we;de++)j[ee+de]=Z>>>8*(ue?de:3-de)&255}function P(j,Z,ee,ue,fe){fe||(se(Z!=null,"missing value"),se(typeof ue=="boolean","missing or invalid endian"),se(ee!=null,"missing offset"),se(ee+1<j.length,"Trying to write beyond buffer length"),J(Z,32767,-32768)),j.length<=ee||D(j,0<=Z?Z:65535+Z+1,ee,ue,fe)}function A(j,Z,ee,ue,fe){fe||(se(Z!=null,"missing value"),se(typeof ue=="boolean","missing or invalid endian"),se(ee!=null,"missing offset"),se(ee+3<j.length,"Trying to write beyond buffer length"),J(Z,2147483647,-2147483648)),j.length<=ee||L(j,0<=Z?Z:4294967295+Z+1,ee,ue,fe)}function b(j,Z,ee,ue,fe){fe||(se(Z!=null,"missing value"),se(typeof ue=="boolean","missing or invalid endian"),se(ee!=null,"missing offset"),se(ee+3<j.length,"Trying to write beyond buffer length"),ce(Z,34028234663852886e22,-34028234663852886e22)),j.length<=ee||d.write(j,Z,ee,ue,23,4)}function g(j,Z,ee,ue,fe){fe||(se(Z!=null,"missing value"),se(typeof ue=="boolean","missing or invalid endian"),se(ee!=null,"missing offset"),se(ee+7<j.length,"Trying to write beyond buffer length"),ce(Z,17976931348623157e292,-17976931348623157e292)),j.length<=ee||d.write(j,Z,ee,ue,52,8)}r.Buffer=p,r.SlowBuffer=p,r.INSPECT_MAX_BYTES=50,p.poolSize=8192,p._useTypedArrays=function(){try{var j=new ArrayBuffer(0),Z=new Uint8Array(j);return Z.foo=function(){return 42},Z.foo()===42&&typeof Z.subarray=="function"}catch{return!1}}(),p.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.isBuffer=function(j){return!(j==null||!j._isBuffer)},p.byteLength=function(j,Z){var ee;switch(j+="",Z||"utf8"){case"hex":ee=j.length/2;break;case"utf8":case"utf-8":ee=M(j).length;break;case"ascii":case"binary":case"raw":ee=j.length;break;case"base64":ee=T(j).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ee=2*j.length;break;default:throw new Error("Unknown encoding")}return ee},p.concat=function(j,Z){if(se(R(j),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),j.length===0)return new p(0);if(j.length===1)return j[0];if(typeof Z!="number")for(fe=Z=0;fe<j.length;fe++)Z+=j[fe].length;for(var ee=new p(Z),ue=0,fe=0;fe<j.length;fe++){var de=j[fe];de.copy(ee,ue),ue+=de.length}return ee},p.prototype.write=function(j,Z,ee,ue){isFinite(Z)?isFinite(ee)||(ue=ee,ee=void 0):(Fe=ue,ue=Z,Z=ee,ee=Fe),Z=Number(Z)||0;var fe,de,we,He,Fe=this.length-Z;switch((!ee||Fe<(ee=Number(ee)))&&(ee=Fe),ue=String(ue||"utf8").toLowerCase()){case"hex":fe=function(Le,wt,je,Re){je=Number(je)||0;var De=Le.length-je;(!Re||De<(Re=Number(Re)))&&(Re=De),se((De=wt.length)%2==0,"Invalid hex string"),De/2<Re&&(Re=De/2);for(var Xe=0;Xe<Re;Xe++){var q=parseInt(wt.substr(2*Xe,2),16);se(!isNaN(q),"Invalid hex string"),Le[je+Xe]=q}return p._charsWritten=2*Xe,Xe}(this,j,Z,ee);break;case"utf8":case"utf-8":de=this,we=Z,He=ee,fe=p._charsWritten=U(M(j),de,we,He);break;case"ascii":case"binary":fe=m(this,j,Z,ee);break;case"base64":de=this,we=Z,He=ee,fe=p._charsWritten=U(T(j),de,we,He);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":fe=w(this,j,Z,ee);break;default:throw new Error("Unknown encoding")}return fe},p.prototype.toString=function(j,Z,ee){var ue,fe,de,we,He=this;if(j=String(j||"utf8").toLowerCase(),Z=Number(Z)||0,(ee=ee!==void 0?Number(ee):He.length)===Z)return"";switch(j){case"hex":ue=function(Fe,Le,wt){var je=Fe.length;(!Le||Le<0)&&(Le=0),(!wt||wt<0||je<wt)&&(wt=je);for(var Re="",De=Le;De<wt;De++)Re+=O(Fe[De]);return Re}(He,Z,ee);break;case"utf8":case"utf-8":ue=function(Fe,Le,wt){var je="",Re="";wt=Math.min(Fe.length,wt);for(var De=Le;De<wt;De++)Fe[De]<=127?(je+=Y(Re)+String.fromCharCode(Fe[De]),Re=""):Re+="%"+Fe[De].toString(16);return je+Y(Re)}(He,Z,ee);break;case"ascii":case"binary":ue=x(He,Z,ee);break;case"base64":fe=He,we=ee,ue=(de=Z)===0&&we===fe.length?h.fromByteArray(fe):h.fromByteArray(fe.slice(de,we));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ue=function(Fe,Le,wt){for(var je=Fe.slice(Le,wt),Re="",De=0;De<je.length;De+=2)Re+=String.fromCharCode(je[De]+256*je[De+1]);return Re}(He,Z,ee);break;default:throw new Error("Unknown encoding")}return ue},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.copy=function(j,Z,ee,ue){if(Z=Z||0,(ue=ue||ue===0?ue:this.length)!==(ee=ee||0)&&j.length!==0&&this.length!==0){se(ee<=ue,"sourceEnd < sourceStart"),se(0<=Z&&Z<j.length,"targetStart out of bounds"),se(0<=ee&&ee<this.length,"sourceStart out of bounds"),se(0<=ue&&ue<=this.length,"sourceEnd out of bounds"),ue>this.length&&(ue=this.length);var fe=(ue=j.length-Z<ue-ee?j.length-Z+ee:ue)-ee;if(fe<100||!p._useTypedArrays)for(var de=0;de<fe;de++)j[de+Z]=this[de+ee];else j._set(this.subarray(ee,ee+fe),Z)}},p.prototype.slice=function(j,Z){var ee=this.length;if(j=E(j,ee,0),Z=E(Z,ee,ee),p._useTypedArrays)return p._augment(this.subarray(j,Z));for(var ue=Z-j,fe=new p(ue,void 0,!0),de=0;de<ue;de++)fe[de]=this[de+j];return fe},p.prototype.get=function(j){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(j)},p.prototype.set=function(j,Z){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(j,Z)},p.prototype.readUInt8=function(j,Z){if(Z||(se(j!=null,"missing offset"),se(j<this.length,"Trying to read beyond buffer length")),!(j>=this.length))return this[j]},p.prototype.readUInt16LE=function(j,Z){return _(this,j,!0,Z)},p.prototype.readUInt16BE=function(j,Z){return _(this,j,!1,Z)},p.prototype.readUInt32LE=function(j,Z){return y(this,j,!0,Z)},p.prototype.readUInt32BE=function(j,Z){return y(this,j,!1,Z)},p.prototype.readInt8=function(j,Z){if(Z||(se(j!=null,"missing offset"),se(j<this.length,"Trying to read beyond buffer length")),!(j>=this.length))return 128&this[j]?-1*(255-this[j]+1):this[j]},p.prototype.readInt16LE=function(j,Z){return S(this,j,!0,Z)},p.prototype.readInt16BE=function(j,Z){return S(this,j,!1,Z)},p.prototype.readInt32LE=function(j,Z){return F(this,j,!0,Z)},p.prototype.readInt32BE=function(j,Z){return F(this,j,!1,Z)},p.prototype.readFloatLE=function(j,Z){return N(this,j,!0,Z)},p.prototype.readFloatBE=function(j,Z){return N(this,j,!1,Z)},p.prototype.readDoubleLE=function(j,Z){return H(this,j,!0,Z)},p.prototype.readDoubleBE=function(j,Z){return H(this,j,!1,Z)},p.prototype.writeUInt8=function(j,Z,ee){ee||(se(j!=null,"missing value"),se(Z!=null,"missing offset"),se(Z<this.length,"trying to write beyond buffer length"),te(j,255)),Z>=this.length||(this[Z]=j)},p.prototype.writeUInt16LE=function(j,Z,ee){D(this,j,Z,!0,ee)},p.prototype.writeUInt16BE=function(j,Z,ee){D(this,j,Z,!1,ee)},p.prototype.writeUInt32LE=function(j,Z,ee){L(this,j,Z,!0,ee)},p.prototype.writeUInt32BE=function(j,Z,ee){L(this,j,Z,!1,ee)},p.prototype.writeInt8=function(j,Z,ee){ee||(se(j!=null,"missing value"),se(Z!=null,"missing offset"),se(Z<this.length,"Trying to write beyond buffer length"),J(j,127,-128)),Z>=this.length||(0<=j?this.writeUInt8(j,Z,ee):this.writeUInt8(255+j+1,Z,ee))},p.prototype.writeInt16LE=function(j,Z,ee){P(this,j,Z,!0,ee)},p.prototype.writeInt16BE=function(j,Z,ee){P(this,j,Z,!1,ee)},p.prototype.writeInt32LE=function(j,Z,ee){A(this,j,Z,!0,ee)},p.prototype.writeInt32BE=function(j,Z,ee){A(this,j,Z,!1,ee)},p.prototype.writeFloatLE=function(j,Z,ee){b(this,j,Z,!0,ee)},p.prototype.writeFloatBE=function(j,Z,ee){b(this,j,Z,!1,ee)},p.prototype.writeDoubleLE=function(j,Z,ee){g(this,j,Z,!0,ee)},p.prototype.writeDoubleBE=function(j,Z,ee){g(this,j,Z,!1,ee)},p.prototype.fill=function(j,Z,ee){if(Z=Z||0,ee=ee||this.length,se(typeof(j=typeof(j=j||0)=="string"?j.charCodeAt(0):j)=="number"&&!isNaN(j),"value is not a number"),se(Z<=ee,"end < start"),ee!==Z&&this.length!==0){se(0<=Z&&Z<this.length,"start out of bounds"),se(0<=ee&&ee<=this.length,"end out of bounds");for(var ue=Z;ue<ee;ue++)this[ue]=j}},p.prototype.inspect=function(){for(var j=[],Z=this.length,ee=0;ee<Z;ee++)if(j[ee]=O(this[ee]),ee===r.INSPECT_MAX_BYTES){j[ee+1]="...";break}return"<Buffer "+j.join(" ")+">"},p.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(p._useTypedArrays)return new p(this).buffer;for(var j=new Uint8Array(this.length),Z=0,ee=j.length;Z<ee;Z+=1)j[Z]=this[Z];return j.buffer};var v=p.prototype;function E(j,Z,ee){return typeof j!="number"?ee:Z<=(j=~~j)?Z:0<=j||0<=(j+=Z)?j:0}function C(j){return(j=~~Math.ceil(+j))<0?0:j}function R(j){return(Array.isArray||function(Z){return Object.prototype.toString.call(Z)==="[object Array]"})(j)}function O(j){return j<16?"0"+j.toString(16):j.toString(16)}function M(j){for(var Z=[],ee=0;ee<j.length;ee++){var ue=j.charCodeAt(ee);if(ue<=127)Z.push(j.charCodeAt(ee));else for(var fe=ee,de=(55296<=ue&&ue<=57343&&ee++,encodeURIComponent(j.slice(fe,ee+1)).substr(1).split("%")),we=0;we<de.length;we++)Z.push(parseInt(de[we],16))}return Z}function T(j){return h.toByteArray(j)}function U(j,Z,ee,ue){for(var fe=0;fe<ue&&!(fe+ee>=Z.length||fe>=j.length);fe++)Z[fe+ee]=j[fe];return fe}function Y(j){try{return decodeURIComponent(j)}catch{return String.fromCharCode(65533)}}function te(j,Z){se(typeof j=="number","cannot write a non-number as a number"),se(0<=j,"specified a negative value for writing an unsigned value"),se(j<=Z,"value is larger than maximum value for type"),se(Math.floor(j)===j,"value has a fractional component")}function J(j,Z,ee){se(typeof j=="number","cannot write a non-number as a number"),se(j<=Z,"value larger than maximum allowed value"),se(ee<=j,"value smaller than minimum allowed value"),se(Math.floor(j)===j,"value has a fractional component")}function ce(j,Z,ee){se(typeof j=="number","cannot write a non-number as a number"),se(j<=Z,"value larger than maximum allowed value"),se(ee<=j,"value smaller than minimum allowed value")}function se(j,Z){if(!j)throw new Error(Z||"Failed assertion")}p._augment=function(j){return j._isBuffer=!0,j._get=j.get,j._set=j.set,j.get=v.get,j.set=v.set,j.write=v.write,j.toString=v.toString,j.toLocaleString=v.toString,j.toJSON=v.toJSON,j.copy=v.copy,j.slice=v.slice,j.readUInt8=v.readUInt8,j.readUInt16LE=v.readUInt16LE,j.readUInt16BE=v.readUInt16BE,j.readUInt32LE=v.readUInt32LE,j.readUInt32BE=v.readUInt32BE,j.readInt8=v.readInt8,j.readInt16LE=v.readInt16LE,j.readInt16BE=v.readInt16BE,j.readInt32LE=v.readInt32LE,j.readInt32BE=v.readInt32BE,j.readFloatLE=v.readFloatLE,j.readFloatBE=v.readFloatBE,j.readDoubleLE=v.readDoubleLE,j.readDoubleBE=v.readDoubleBE,j.writeUInt8=v.writeUInt8,j.writeUInt16LE=v.writeUInt16LE,j.writeUInt16BE=v.writeUInt16BE,j.writeUInt32LE=v.writeUInt32LE,j.writeUInt32BE=v.writeUInt32BE,j.writeInt8=v.writeInt8,j.writeInt16LE=v.writeInt16LE,j.writeInt16BE=v.writeInt16BE,j.writeInt32LE=v.writeInt32LE,j.writeInt32BE=v.writeInt32BE,j.writeFloatLE=v.writeFloatLE,j.writeFloatBE=v.writeFloatBE,j.writeDoubleLE=v.writeDoubleLE,j.writeDoubleBE=v.writeDoubleBE,j.fill=v.fill,j.inspect=v.inspect,j.toArrayBuffer=v.toArrayBuffer,j}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,e,r){(function(n,i,h,u,o,a,l,f,c){var h=t("buffer").Buffer,d=4,p=new h(d);p.fill(0),e.exports={hash:function(m,w,x,_){for(var y=w(function(D,L){D.length%d!=0&&(P=D.length+(d-D.length%d),D=h.concat([D,p],P));for(var P,A=[],b=L?D.readInt32BE:D.readInt32LE,g=0;g<D.length;g+=d)A.push(b.call(D,g));return A}(m=h.isBuffer(m)?m:new h(m),_),8*m.length),w=_,S=new h(x),F=w?S.writeInt32BE:S.writeInt32LE,N=0;N<y.length;N++)F.call(S,y[N],4*N,!0);return S}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,e,r){(function(n,i,h,u,o,a,l,f,c){var h=t("buffer").Buffer,d=t("./sha"),p=t("./sha256"),m=t("./rng"),w={sha1:d,sha256:p,md5:t("./md5")},x=64,_=new h(x);function y(D,L){var P=w[D=D||"sha1"],A=[];return P||S("algorithm:",D,"is not yet supported"),{update:function(b){return h.isBuffer(b)||(b=new h(b)),A.push(b),b.length,this},digest:function(b){var g=h.concat(A),g=L?function(v,E,C){h.isBuffer(E)||(E=new h(E)),h.isBuffer(C)||(C=new h(C)),E.length>x?E=v(E):E.length<x&&(E=h.concat([E,_],x));for(var R=new h(x),O=new h(x),M=0;M<x;M++)R[M]=54^E[M],O[M]=92^E[M];return C=v(h.concat([R,C])),v(h.concat([O,C]))}(P,L,g):P(g);return A=null,b?g.toString(b):g}}}function S(){var D=[].slice.call(arguments).join(" ");throw new Error([D,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}_.fill(0),r.createHash=function(D){return y(D)},r.createHmac=y,r.randomBytes=function(D,L){if(!L||!L.call)return new h(m(D));try{L.call(this,void 0,new h(m(D)))}catch(P){L(P)}};var F,N=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],H=function(D){r[D]=function(){S("sorry,",D,"is not implemented yet")}};for(F in N)H(N[F],F)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){var h=t("./helpers");function d(S,F){S[F>>5]|=128<<F%32,S[14+(F+64>>>9<<4)]=F;for(var N=1732584193,H=-271733879,D=-1732584194,L=271733878,P=0;P<S.length;P+=16){var A=N,b=H,g=D,v=L,N=m(N,H,D,L,S[P+0],7,-680876936),L=m(L,N,H,D,S[P+1],12,-389564586),D=m(D,L,N,H,S[P+2],17,606105819),H=m(H,D,L,N,S[P+3],22,-1044525330);N=m(N,H,D,L,S[P+4],7,-176418897),L=m(L,N,H,D,S[P+5],12,1200080426),D=m(D,L,N,H,S[P+6],17,-1473231341),H=m(H,D,L,N,S[P+7],22,-45705983),N=m(N,H,D,L,S[P+8],7,1770035416),L=m(L,N,H,D,S[P+9],12,-1958414417),D=m(D,L,N,H,S[P+10],17,-42063),H=m(H,D,L,N,S[P+11],22,-1990404162),N=m(N,H,D,L,S[P+12],7,1804603682),L=m(L,N,H,D,S[P+13],12,-40341101),D=m(D,L,N,H,S[P+14],17,-1502002290),N=w(N,H=m(H,D,L,N,S[P+15],22,1236535329),D,L,S[P+1],5,-165796510),L=w(L,N,H,D,S[P+6],9,-1069501632),D=w(D,L,N,H,S[P+11],14,643717713),H=w(H,D,L,N,S[P+0],20,-373897302),N=w(N,H,D,L,S[P+5],5,-701558691),L=w(L,N,H,D,S[P+10],9,38016083),D=w(D,L,N,H,S[P+15],14,-660478335),H=w(H,D,L,N,S[P+4],20,-405537848),N=w(N,H,D,L,S[P+9],5,568446438),L=w(L,N,H,D,S[P+14],9,-1019803690),D=w(D,L,N,H,S[P+3],14,-187363961),H=w(H,D,L,N,S[P+8],20,1163531501),N=w(N,H,D,L,S[P+13],5,-1444681467),L=w(L,N,H,D,S[P+2],9,-51403784),D=w(D,L,N,H,S[P+7],14,1735328473),N=x(N,H=w(H,D,L,N,S[P+12],20,-1926607734),D,L,S[P+5],4,-378558),L=x(L,N,H,D,S[P+8],11,-2022574463),D=x(D,L,N,H,S[P+11],16,1839030562),H=x(H,D,L,N,S[P+14],23,-35309556),N=x(N,H,D,L,S[P+1],4,-1530992060),L=x(L,N,H,D,S[P+4],11,1272893353),D=x(D,L,N,H,S[P+7],16,-155497632),H=x(H,D,L,N,S[P+10],23,-1094730640),N=x(N,H,D,L,S[P+13],4,681279174),L=x(L,N,H,D,S[P+0],11,-358537222),D=x(D,L,N,H,S[P+3],16,-722521979),H=x(H,D,L,N,S[P+6],23,76029189),N=x(N,H,D,L,S[P+9],4,-640364487),L=x(L,N,H,D,S[P+12],11,-421815835),D=x(D,L,N,H,S[P+15],16,530742520),N=_(N,H=x(H,D,L,N,S[P+2],23,-995338651),D,L,S[P+0],6,-198630844),L=_(L,N,H,D,S[P+7],10,1126891415),D=_(D,L,N,H,S[P+14],15,-1416354905),H=_(H,D,L,N,S[P+5],21,-57434055),N=_(N,H,D,L,S[P+12],6,1700485571),L=_(L,N,H,D,S[P+3],10,-1894986606),D=_(D,L,N,H,S[P+10],15,-1051523),H=_(H,D,L,N,S[P+1],21,-2054922799),N=_(N,H,D,L,S[P+8],6,1873313359),L=_(L,N,H,D,S[P+15],10,-30611744),D=_(D,L,N,H,S[P+6],15,-1560198380),H=_(H,D,L,N,S[P+13],21,1309151649),N=_(N,H,D,L,S[P+4],6,-145523070),L=_(L,N,H,D,S[P+11],10,-1120210379),D=_(D,L,N,H,S[P+2],15,718787259),H=_(H,D,L,N,S[P+9],21,-343485551),N=y(N,A),H=y(H,b),D=y(D,g),L=y(L,v)}return Array(N,H,D,L)}function p(S,F,N,H,D,L){return y((F=y(y(F,S),y(H,L)))<<D|F>>>32-D,N)}function m(S,F,N,H,D,L,P){return p(F&N|~F&H,S,F,D,L,P)}function w(S,F,N,H,D,L,P){return p(F&H|N&~H,S,F,D,L,P)}function x(S,F,N,H,D,L,P){return p(F^N^H,S,F,D,L,P)}function _(S,F,N,H,D,L,P){return p(N^(F|~H),S,F,D,L,P)}function y(S,F){var N=(65535&S)+(65535&F);return(S>>16)+(F>>16)+(N>>16)<<16|65535&N}e.exports=function(S){return h.hash(S,d,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){var h;e.exports=h||function(d){for(var p,m=new Array(d),w=0;w<d;w++)(3&w)==0&&(p=4294967296*Math.random()),m[w]=p>>>((3&w)<<3)&255;return m}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){var h=t("./helpers");function d(w,x){w[x>>5]|=128<<24-x%32,w[15+(x+64>>9<<4)]=x;for(var _,y,S,F=Array(80),N=1732584193,H=-271733879,D=-1732584194,L=271733878,P=-1009589776,A=0;A<w.length;A+=16){for(var b=N,g=H,v=D,E=L,C=P,R=0;R<80;R++){F[R]=R<16?w[A+R]:m(F[R-3]^F[R-8]^F[R-14]^F[R-16],1);var O=p(p(m(N,5),(O=H,y=D,S=L,(_=R)<20?O&y|~O&S:!(_<40)&&_<60?O&y|O&S|y&S:O^y^S)),p(p(P,F[R]),(_=R)<20?1518500249:_<40?1859775393:_<60?-1894007588:-899497514)),P=L,L=D,D=m(H,30),H=N,N=O}N=p(N,b),H=p(H,g),D=p(D,v),L=p(L,E),P=p(P,C)}return Array(N,H,D,L,P)}function p(w,x){var _=(65535&w)+(65535&x);return(w>>16)+(x>>16)+(_>>16)<<16|65535&_}function m(w,x){return w<<x|w>>>32-x}e.exports=function(w){return h.hash(w,d,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){function h(x,_){var y=(65535&x)+(65535&_);return(x>>16)+(_>>16)+(y>>16)<<16|65535&y}function d(x,_){var y,S=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),F=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),N=new Array(64);x[_>>5]|=128<<24-_%32,x[15+(_+64>>9<<4)]=_;for(var H,D,L=0;L<x.length;L+=16){for(var P=F[0],A=F[1],b=F[2],g=F[3],v=F[4],E=F[5],C=F[6],R=F[7],O=0;O<64;O++)N[O]=O<16?x[O+L]:h(h(h((D=N[O-2],m(D,17)^m(D,19)^w(D,10)),N[O-7]),(D=N[O-15],m(D,7)^m(D,18)^w(D,3))),N[O-16]),y=h(h(h(h(R,m(D=v,6)^m(D,11)^m(D,25)),v&E^~v&C),S[O]),N[O]),H=h(m(H=P,2)^m(H,13)^m(H,22),P&A^P&b^A&b),R=C,C=E,E=v,v=h(g,y),g=b,b=A,A=P,P=h(y,H);F[0]=h(P,F[0]),F[1]=h(A,F[1]),F[2]=h(b,F[2]),F[3]=h(g,F[3]),F[4]=h(v,F[4]),F[5]=h(E,F[5]),F[6]=h(C,F[6]),F[7]=h(R,F[7])}return F}var p=t("./helpers"),m=function(x,_){return x>>>_|x<<32-_},w=function(x,_){return x>>>_};e.exports=function(x){return p.hash(x,d,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){r.read=function(h,d,p,m,L){var x,_,y=8*L-m-1,S=(1<<y)-1,F=S>>1,N=-7,H=p?L-1:0,D=p?-1:1,L=h[d+H];for(H+=D,x=L&(1<<-N)-1,L>>=-N,N+=y;0<N;x=256*x+h[d+H],H+=D,N-=8);for(_=x&(1<<-N)-1,x>>=-N,N+=m;0<N;_=256*_+h[d+H],H+=D,N-=8);if(x===0)x=1-F;else{if(x===S)return _?NaN:1/0*(L?-1:1);_+=Math.pow(2,m),x-=F}return(L?-1:1)*_*Math.pow(2,x-m)},r.write=function(h,d,p,m,w,P){var _,y,S=8*P-w-1,F=(1<<S)-1,N=F>>1,H=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=m?0:P-1,L=m?1:-1,P=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(y=isNaN(d)?1:0,_=F):(_=Math.floor(Math.log(d)/Math.LN2),d*(m=Math.pow(2,-_))<1&&(_--,m*=2),2<=(d+=1<=_+N?H/m:H*Math.pow(2,1-N))*m&&(_++,m/=2),F<=_+N?(y=0,_=F):1<=_+N?(y=(d*m-1)*Math.pow(2,w),_+=N):(y=d*Math.pow(2,N-1)*Math.pow(2,w),_=0));8<=w;h[p+D]=255&y,D+=L,y/=256,w-=8);for(_=_<<w|y,S+=w;0<S;h[p+D]=255&_,D+=L,_/=256,S-=8);h[p+D-L]|=128*P}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,e,r){(function(n,i,s,u,o,a,l,f,c){var h,d,p;function m(){}(n=e.exports={}).nextTick=(d=typeof window<"u"&&window.setImmediate,p=typeof window<"u"&&window.postMessage&&window.addEventListener,d?function(w){return window.setImmediate(w)}:p?(h=[],window.addEventListener("message",function(w){var x=w.source;x!==window&&x!==null||w.data!=="process-tick"||(w.stopPropagation(),0<h.length&&h.shift()())},!0),function(w){h.push(w),window.postMessage("process-tick","*")}):function(w){setTimeout(w,0)}),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.binding=function(w){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(w){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})});var u9=$(fi=>{"use strict";B();k();var xve=fi&&fi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});fi.checkTxFee=fi.fromByteString=fi.camelCaseCapitalized=fi.alterFileExt=fi.isInNodeEnv=fi.mapIter=fi.findSigs=fi.findSig=fi.toNumber=fi.getDummySig=void 0;var Ive=xve(wi()),yl=mr(),Pve=Vp();function Ove(){return new Array(72*2).fill(0).join("")}fi.getDummySig=Ove;function Bve(t){return parseInt("0x"+t)}fi.toNumber=Bve;function kve(t,e,r=yl.DEFAULT_SIGHASH_TYPE){return PX(t,[{pubKeyOrAddr:e,sigHashType:r}])[0]}fi.findSig=kve;function PX(t,e){return e.map(r=>{let n,i;return r instanceof yl.bsv.Address||r instanceof yl.bsv.PublicKey?(n=r,i=yl.DEFAULT_SIGHASH_TYPE):(n=r.pubKeyOrAddr,i=r.sigHashType||yl.DEFAULT_SIGHASH_TYPE),Array.from([n]).flat().map(s=>{let u=t.find(o=>(o.publicKey===s.toString()||yl.bsv.PublicKey.fromString(o.publicKey).toAddress(yl.bsv.Networks.testnet).toString()===s.toString()||yl.bsv.PublicKey.fromString(o.publicKey).toAddress(yl.bsv.Networks.livenet).toString()===s.toString())&&o.sigHashType===i);if(!u){let o=s instanceof yl.bsv.Address?"address":"public key";throw new Error(`cannot find signature for ${o} \`${s.toString()}\` in sigResponses`)}return(0,Pve.Sig)(u.sig)})}).flat()}fi.findSigs=PX;function*Cve(t,e){for(let r of t)yield e(r)}fi.mapIter=Cve;function Fve(){return typeof process<"u"}fi.isInNodeEnv=Fve;function Rve(t,e,r){let n=r||Ive.default.extname(t),i=new RegExp(`${n}$`);return t.replace(i,"."+e)}fi.alterFileExt=Rve;function Mve(t){return t.substring(0,1).toUpperCase()+t.substring(1)}fi.camelCaseCapitalized=Mve;function Nve(t){return new TextDecoder().decode(I.Buffer.from(t,"hex"))}fi.fromByteString=Nve;function Dve(t,e){let r=t.getUnspentValue(),n=t.getEstimateSize(),i=Math.max(1,Math.ceil(n/1e3*e));return r>=i}fi.checkTxFee=Dve});var Sk=$(a9=>{"use strict";B();k();var Hve=a9&&a9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a9,"__esModule",{value:!0});a9.HashedMap=void 0;var Lve=mr(),o9=Hve(zy()),Uve=z_(),yk=u9(),vk=class extends Map{constructor(e){super(e)}set(e,r){let n={originalKey:e,value:r};return Map.prototype.set.call(this,(0,o9.default)(e),n),this._traceAccess(e),this}get(e){let r=Map.prototype.get.call(this,(0,o9.default)(e));return r?.value}has(e){return this._traceAccess(e),Map.prototype.has.call(this,(0,o9.default)(e))}delete(e){return this._traceAccess(e),Map.prototype.delete.call(this,(0,o9.default)(e))}forEach(e,r){Map.prototype.forEach.call(this,(n,i,s)=>{let u=n;e(u.value,u.originalKey,s)},r)}entries(){return(0,yk.mapIter)(Map.prototype.entries.call(this),([e,r])=>[r.originalKey,r.value])}keys(){let e=this;return(0,yk.mapIter)(Map.prototype.keys.call(this),r=>Map.prototype.get.call(e,r).originalKey)}values(){return(0,yk.mapIter)(Map.prototype.values.call(this),e=>e.value)}[Symbol.iterator](){return this.entries()}canGet(e,r){this._traceAccess(e);let n=this.get(e);return typeof n<"u"?(0,o9.default)(n)===(0,o9.default)(r):!1}attachTo(e,r){let[n,i]=(0,Lve.parseGenericType)(e);this._keyType=i[0],this._valueType=i[1],this._DelegateClazz=r,this._type=e,this._tracer=new Uve.SortedItemAccessTracer(this._keyType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._keyType!==void 0&&this._valueType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.keys())}};a9.HashedMap=vk});var OX=$(c9=>{"use strict";B();k();var $ve=c9&&c9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c9,"__esModule",{value:!0});c9.HashedSet=void 0;var qve=mr(),jve=z_(),_k=$ve(zy()),wk=class extends Set{constructor(e){super(e),this._map=new Map}add(e){let r=(0,_k.default)(e);return this._map=this._map||new Map,this._map.has(r)||(Set.prototype.add.call(this,e),this._map.set(r,e)),this._traceAccess(e),this}delete(e){this._traceAccess(e);let r=(0,_k.default)(e),n=this._map.get(r);return this._map.delete(r),Set.prototype.delete.call(this,n)}has(e){this._traceAccess(e);let r=(0,_k.default)(e),n=this._map.get(r);return Set.prototype.has.call(this,n)}attachTo(e,r){let[n,i]=(0,qve.parseGenericType)(e);this._elemType=i[0],this._DelegateClazz=r,this._type=e,this._tracer=new jve.SortedItemAccessTracer(this._elemType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._elemType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.values())}};c9.HashedSet=wk});var Vp=$(Xr=>{"use strict";B();k();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.equals=Xr.toByteString=Xr.Sha256=Xr.Sha1=Xr.Addr=Xr.PubKeyHash=Xr.Ripemd160=Xr.Sig=Xr.PubKey=Xr.SigHashType=Xr.OpCodeType=Xr.PrivKey=Xr.SigHashPreimage=Xr.HashedSet=Xr.HashedMap=Xr.instanceOfSIATraceable=void 0;var Kve=mr(),df=mr();Object.defineProperty(Xr,"SigHashPreimage",{enumerable:!0,get:function(){return df.SigHashPreimage}});Object.defineProperty(Xr,"PrivKey",{enumerable:!0,get:function(){return df.PrivKey}});Object.defineProperty(Xr,"OpCodeType",{enumerable:!0,get:function(){return df.OpCodeType}});Object.defineProperty(Xr,"SigHashType",{enumerable:!0,get:function(){return df.SigHashType}});var zve=z_();Object.defineProperty(Xr,"instanceOfSIATraceable",{enumerable:!0,get:function(){return zve.instanceOfSIATraceable}});var Vve=Sk();Object.defineProperty(Xr,"HashedMap",{enumerable:!0,get:function(){return Vve.HashedMap}});var Gve=OX();Object.defineProperty(Xr,"HashedSet",{enumerable:!0,get:function(){return Gve.HashedSet}});function Wve(t){return(0,df.PubKey)(t)}Xr.PubKey=Wve;function Yve(t){return(0,df.Sig)(t)}Xr.Sig=Yve;function Xve(t){return(0,df.Ripemd160)(t)}Xr.Ripemd160=Xve;function Zve(t){return(0,df.PubKeyHash)(t)}Xr.PubKeyHash=Zve;function Jve(t){return(0,df.PubKeyHash)(t)}Xr.Addr=Jve;function Qve(t){return(0,df.Sha1)(t)}Xr.Sha1=Qve;function eSe(t){return(0,df.Sha256)(t)}Xr.Sha256=eSe;function tSe(t,e=!1){if(e===!0)return(0,Kve.stringToBytes)(t);if(t.length%2!==0)throw new Error("hex literal length must be even");return t}Xr.toByteString=tSe;function rSe(t,e){if(Array.isArray(t[0])){let r=[];for(let n=0;n<t.length;n++)r.push(V_(t[n],e[n]));for(let n=0;n<r.length;n++)if(!r[n])return!1;return!0}if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!V_(t[r],e[r]))return!1;return!0}function nSe(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;let i=[];for(let s=0;s<r.length;s++)i.push(V_(t[r[s]],e[n[s]]));for(let s=0;s<i.length;s++)if(!i[s])return!1;return!0}function V_(t,e){return Array.isArray(t)&&Array.isArray(e)?rSe(t,e):typeof t=="object"&&typeof e=="object"?nSe(t,e):t===e}Xr.equals=V_});var s7=$(Qe=>{"use strict";B();k();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.Constants=Qe.Tx=Qe.VarIntWriter=Qe.VarIntReader=Qe.SigHash=Qe.Utils=Qe.OpCode=Qe.asm=Qe.rshift=Qe.lshift=Qe.assert=Qe.pubKey2Addr=Qe.hash256=Qe.hash160=Qe.sha256=Qe.sha1=Qe.ripemd160=Qe.within=Qe.max=Qe.min=Qe.abs=Qe.exit=Qe.reverseByteString=Qe.len=Qe.byteString2Int=Qe.int2ByteString=Qe.fill=Qe.slice=Qe.getSortedItem=Qe.invert=Qe.or=Qe.xor=Qe.and=void 0;var ke=mr(),he=Vp(),iSe=Mr(),Gy=mr();Object.defineProperty(Qe,"and",{enumerable:!0,get:function(){return Gy.and}});Object.defineProperty(Qe,"xor",{enumerable:!0,get:function(){return Gy.xor}});Object.defineProperty(Qe,"or",{enumerable:!0,get:function(){return Gy.or}});Object.defineProperty(Qe,"invert",{enumerable:!0,get:function(){return Gy.invert}});Object.defineProperty(Qe,"getSortedItem",{enumerable:!0,get:function(){return Gy.getSortedItem}});function sSe(t,e,r){let n=Number(e)*2,i=typeof r=="bigint"?Number(r)*2:t.length;if(n<0||i<0)throw new Error("index should not be negative");if(typeof r=="bigint"&&n>i)throw new Error("start index should be less than or equal to end index");if(n>t.length)throw new Error("start index should not be greater than the length");if(i>t.length)throw new Error("end index should not be greater than the length");return t.slice(n,i)}Qe.slice=sSe;function uSe(t,e){return Array(e).fill(0).map(r=>(0,iSe.cloneDeep)(t))}Qe.fill=uSe;function Qc(t,e){return e===void 0?new ke.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex"):(0,ke.num2bin)(t,Number(e))}Qe.int2ByteString=Qc;function f9(t){return BigInt((0,ke.bin2num)(t))}Qe.byteString2Int=f9;function Co(t){return BigInt(t.length/2)}Qe.len=Co;function Ek(t,e){let r=Co(t);if(r!=e)throw new Error(`reverseByteString error, expected c = ${r}`);return t.match(/[a-fA-F0-9]{2}/g).reverse().join("")}Qe.reverseByteString=Ek;function oSe(t){}Qe.exit=oSe;function aSe(t){return t<0?-t:t}Qe.abs=aSe;function cSe(t,e){return t-e<0?t:e}Qe.min=cSe;function fSe(t,e){return t-e>0?t:e}Qe.max=fSe;function lSe(t,e,r){return e-t<=0&&t-r<0}Qe.within=lSe;function dSe(t){return(0,ke.Ripemd160)(ke.bsv.crypto.Hash.ripemd160(I.Buffer.from(t,"hex")).toString("hex"))}Qe.ripemd160=dSe;function hSe(t){return(0,ke.Sha1)(ke.bsv.crypto.Hash.sha1(I.Buffer.from(t,"hex")).toString("hex"))}Qe.sha1=hSe;function Ak(t){return(0,ke.Sha256)(ke.bsv.crypto.Hash.sha256(I.Buffer.from(t,"hex")).toString("hex"))}Qe.sha256=Ak;function BX(t){return(0,ke.Ripemd160)(ke.bsv.crypto.Hash.sha256ripemd160(I.Buffer.from(t,"hex")).toString("hex"))}Qe.hash160=BX;function pSe(t){return Ak(Ak(t))}Qe.hash256=pSe;function bSe(t){return BX(t)}Qe.pubKey2Addr=bSe;function Wy(t,e){if(!t){let r="Execution failed"+(e?`, ${e}`:"");throw new Error(r)}}Qe.assert=Wy;function gSe(t,e){let r=(0,ke.Int)(1);for(let n=0,i=e;n<i;n++)r*=t;return r}function kX(t){return gSe((0,ke.Int)(2),t)}function mSe(t,e){return Wy(e>=0,"n < 0"),t*kX(e)}Qe.lshift=mSe;function ySe(t,e){Wy(e>=0,"n < 0");let r=t/kX(e);return e==(0,ke.Int)(0)?t:t%(0,ke.Int)(2)==(0,ke.Int)(-1)?r-(0,ke.Int)(1):t<(0,ke.Int)(0)&&r==(0,ke.Int)(0)?(0,ke.Int)(-1):r}Qe.rshift=ySe;function vSe(t){throw new Error("unimplemented")}Qe.asm=vSe;var Ee=class{};Qe.OpCode=Ee;Ee.OP_0=(0,he.OpCodeType)("00");Ee.OP_FALSE=(0,he.OpCodeType)("00");Ee.OP_PUSHDATA1=(0,he.OpCodeType)("4c");Ee.OP_PUSHDATA2=(0,he.OpCodeType)("4d");Ee.OP_PUSHDATA4=(0,he.OpCodeType)("4e");Ee.OP_1NEGATE=(0,he.OpCodeType)("4f");Ee.OP_RESERVED=(0,he.OpCodeType)("50");Ee.OP_1=(0,he.OpCodeType)("51");Ee.OP_TRUE=(0,he.OpCodeType)("51");Ee.OP_2=(0,he.OpCodeType)("52");Ee.OP_3=(0,he.OpCodeType)("53");Ee.OP_4=(0,he.OpCodeType)("54");Ee.OP_5=(0,he.OpCodeType)("55");Ee.OP_6=(0,he.OpCodeType)("56");Ee.OP_7=(0,he.OpCodeType)("57");Ee.OP_8=(0,he.OpCodeType)("58");Ee.OP_9=(0,he.OpCodeType)("59");Ee.OP_10=(0,he.OpCodeType)("5a");Ee.OP_11=(0,he.OpCodeType)("5b");Ee.OP_12=(0,he.OpCodeType)("5c");Ee.OP_13=(0,he.OpCodeType)("5d");Ee.OP_14=(0,he.OpCodeType)("5e");Ee.OP_15=(0,he.OpCodeType)("5f");Ee.OP_16=(0,he.OpCodeType)("60");Ee.OP_NOP=(0,he.OpCodeType)("61");Ee.OP_VER=(0,he.OpCodeType)("62");Ee.OP_IF=(0,he.OpCodeType)("63");Ee.OP_NOTIF=(0,he.OpCodeType)("64");Ee.OP_VERIF=(0,he.OpCodeType)("65");Ee.OP_VERNOTIF=(0,he.OpCodeType)("66");Ee.OP_ELSE=(0,he.OpCodeType)("67");Ee.OP_ENDIF=(0,he.OpCodeType)("68");Ee.OP_VERIFY=(0,he.OpCodeType)("69");Ee.OP_RETURN=(0,he.OpCodeType)("6a");Ee.OP_TOALTSTACK=(0,he.OpCodeType)("6b");Ee.OP_FROMALTSTACK=(0,he.OpCodeType)("6c");Ee.OP_2DROP=(0,he.OpCodeType)("6d");Ee.OP_2DUP=(0,he.OpCodeType)("6e");Ee.OP_3DUP=(0,he.OpCodeType)("6f");Ee.OP_2OVER=(0,he.OpCodeType)("70");Ee.OP_2ROT=(0,he.OpCodeType)("71");Ee.OP_2SWAP=(0,he.OpCodeType)("72");Ee.OP_IFDUP=(0,he.OpCodeType)("73");Ee.OP_DEPTH=(0,he.OpCodeType)("74");Ee.OP_DROP=(0,he.OpCodeType)("75");Ee.OP_DUP=(0,he.OpCodeType)("76");Ee.OP_NIP=(0,he.OpCodeType)("77");Ee.OP_OVER=(0,he.OpCodeType)("78");Ee.OP_PICK=(0,he.OpCodeType)("79");Ee.OP_ROLL=(0,he.OpCodeType)("7a");Ee.OP_ROT=(0,he.OpCodeType)("7b");Ee.OP_SWAP=(0,he.OpCodeType)("7c");Ee.OP_TUCK=(0,he.OpCodeType)("7d");Ee.OP_CAT=(0,he.OpCodeType)("7e");Ee.OP_SPLIT=(0,he.OpCodeType)("7f");Ee.OP_NUM2BIN=(0,he.OpCodeType)("80");Ee.OP_BIN2NUM=(0,he.OpCodeType)("81");Ee.OP_SIZE=(0,he.OpCodeType)("82");Ee.OP_INVERT=(0,he.OpCodeType)("83");Ee.OP_AND=(0,he.OpCodeType)("84");Ee.OP_OR=(0,he.OpCodeType)("85");Ee.OP_XOR=(0,he.OpCodeType)("86");Ee.OP_EQUAL=(0,he.OpCodeType)("87");Ee.OP_EQUALVERIFY=(0,he.OpCodeType)("88");Ee.OP_RESERVED1=(0,he.OpCodeType)("89");Ee.OP_RESERVED2=(0,he.OpCodeType)("8a");Ee.OP_1ADD=(0,he.OpCodeType)("8b");Ee.OP_1SUB=(0,he.OpCodeType)("8c");Ee.OP_2MUL=(0,he.OpCodeType)("8d");Ee.OP_2DIV=(0,he.OpCodeType)("8e");Ee.OP_NEGATE=(0,he.OpCodeType)("8f");Ee.OP_ABS=(0,he.OpCodeType)("90");Ee.OP_NOT=(0,he.OpCodeType)("91");Ee.OP_0NOTEQUAL=(0,he.OpCodeType)("92");Ee.OP_ADD=(0,he.OpCodeType)("93");Ee.OP_SUB=(0,he.OpCodeType)("94");Ee.OP_MUL=(0,he.OpCodeType)("95");Ee.OP_DIV=(0,he.OpCodeType)("96");Ee.OP_MOD=(0,he.OpCodeType)("97");Ee.OP_LSHIFT=(0,he.OpCodeType)("98");Ee.OP_RSHIFT=(0,he.OpCodeType)("99");Ee.OP_BOOLAND=(0,he.OpCodeType)("9a");Ee.OP_BOOLOR=(0,he.OpCodeType)("9b");Ee.OP_NUMEQUAL=(0,he.OpCodeType)("9c");Ee.OP_NUMEQUALVERIFY=(0,he.OpCodeType)("9d");Ee.OP_NUMNOTEQUAL=(0,he.OpCodeType)("9e");Ee.OP_LESSTHAN=(0,he.OpCodeType)("9f");Ee.OP_GREATERTHAN=(0,he.OpCodeType)("a0");Ee.OP_LESSTHANOREQUAL=(0,he.OpCodeType)("a1");Ee.OP_GREATERTHANOREQUAL=(0,he.OpCodeType)("a2");Ee.OP_MIN=(0,he.OpCodeType)("a3");Ee.OP_MAX=(0,he.OpCodeType)("a4");Ee.OP_WITHIN=(0,he.OpCodeType)("a5");Ee.OP_RIPEMD160=(0,he.OpCodeType)("a6");Ee.OP_SHA1=(0,he.OpCodeType)("a7");Ee.OP_SHA256=(0,he.OpCodeType)("a8");Ee.OP_HASH160=(0,he.OpCodeType)("a9");Ee.OP_HASH256=(0,he.OpCodeType)("aa");Ee.OP_CODESEPARATOR=(0,he.OpCodeType)("ab");Ee.OP_CHECKSIG=(0,he.OpCodeType)("ac");Ee.OP_CHECKSIGVERIFY=(0,he.OpCodeType)("ad");Ee.OP_CHECKMULTISIG=(0,he.OpCodeType)("ae");Ee.OP_CHECKMULTISIGVERIFY=(0,he.OpCodeType)("af");Ee.OP_NOP1=(0,he.OpCodeType)("b0");Ee.OP_NOP2=(0,he.OpCodeType)("b1");Ee.OP_NOP3=(0,he.OpCodeType)("b2");Ee.OP_NOP4=(0,he.OpCodeType)("b3");Ee.OP_NOP5=(0,he.OpCodeType)("b4");Ee.OP_NOP6=(0,he.OpCodeType)("b5");Ee.OP_NOP7=(0,he.OpCodeType)("b6");Ee.OP_NOP8=(0,he.OpCodeType)("b7");Ee.OP_NOP9=(0,he.OpCodeType)("b8");Ee.OP_NOP10=(0,he.OpCodeType)("b9");Ee.OP_PUBKEYHASH=(0,he.OpCodeType)("fd");Ee.OP_PUBKEY=(0,he.OpCodeType)("fe");Ee.OP_INVALIDOPCODE=(0,he.OpCodeType)("ff");var an=class{static toLEUnsigned(e,r){let n=Qc(e,r+(0,ke.Int)(1));return n.slice(0,Number(Co(n))*2-2)}static fromLEUnsigned(e){return f9(e+(0,he.toByteString)("00"))}static readVarint(e){let r=(0,ke.Int)(0),n=(0,he.toByteString)(""),i=e.slice(0,2);return i==(0,he.toByteString)("fd")?(r=an.fromLEUnsigned(e.slice(2,6)),n=e.slice(6,6+Number(r*(0,ke.Int)(2)))):i==(0,he.toByteString)("fe")?(r=an.fromLEUnsigned(e.slice(2,10)),n=e.slice(10,10+Number(r*(0,ke.Int)(2)))):i==(0,he.toByteString)("ff")?(r=an.fromLEUnsigned(e.slice(2,18)),n=e.slice(18,18+Number(r*(0,ke.Int)(2)))):(r=an.fromLEUnsigned(e.slice(0,2)),n=e.slice(2,2+Number(r*(0,ke.Int)(2)))),n}static writeVarint(e){let r=Co(e),n=(0,he.toByteString)("");return r<253?n=an.toLEUnsigned((0,ke.Int)(r),(0,ke.Int)(1)):r<65536?n=(0,he.toByteString)("fd")+an.toLEUnsigned((0,ke.Int)(r),(0,ke.Int)(2)):r<4294967296?n=(0,he.toByteString)("fe")+an.toLEUnsigned((0,ke.Int)(r),(0,ke.Int)(4)):r<18446744073709552e3&&(n=(0,he.toByteString)("ff")+an.toLEUnsigned((0,ke.Int)(r),(0,ke.Int)(8))),n+e}static buildOutput(e,r){return Qc(r,hf.OutputValueLen)+an.writeVarint(e)}static buildPublicKeyHashScript(e){return(0,he.toByteString)(Ee.OP_DUP)+(0,he.toByteString)(Ee.OP_HASH160)+Qc(hf.PubKeyHashLen)+e+(0,he.toByteString)(Ee.OP_EQUALVERIFY)+(0,he.toByteString)(Ee.OP_CHECKSIG)}static buildPublicKeyHashOutput(e,r){return an.buildOutput(an.buildPublicKeyHashScript(e),r)}static buildAddressScript(e){return an.buildPublicKeyHashScript(e)}static buildAddressOutput(e,r){return an.buildPublicKeyHashOutput(e,r)}static buildOpreturnScript(e){return(0,he.toByteString)(Ee.OP_FALSE)+(0,he.toByteString)(Ee.OP_RETURN)+an.writeVarint(e)}};Qe.Utils=an;an.OutputValueLen=(0,ke.Int)(8);an.PubKeyHashLen=(0,ke.Int)(20);var ha=class{static nVersion(e){return(0,he.toByteString)(e).slice(0,8)}static hashPrevouts(e){return(0,he.toByteString)(e).slice(8,72)}static hashSequence(e){return(0,he.toByteString)(e).slice(36*2,68*2)}static outpoint(e){return(0,he.toByteString)(e).slice(68*2,104*2)}static scriptCode(e){return an.readVarint((0,he.toByteString)(e).slice(104*2))}static valueRaw(e){let r=Number(Co((0,he.toByteString)(e)));return(0,he.toByteString)(e).slice(r*2-104,r*2-88)}static value(e){return an.fromLEUnsigned(ha.valueRaw(e))}static nSequenceRaw(e){let r=Number(Co((0,he.toByteString)(e)));return(0,he.toByteString)(e).slice(r*2-88,r*2-80)}static nSequence(e){return an.fromLEUnsigned(ha.nSequenceRaw(e))}static hashOutputs(e){let r=Number(Co((0,he.toByteString)(e)));return(0,he.toByteString)(e).slice(r*2-80,r*2-16)}static nLocktimeRaw(e){let r=Number(Co((0,he.toByteString)(e)));return(0,he.toByteString)(e).slice(r*2-16,r*2-8)}static nLocktime(e){return an.fromLEUnsigned(ha.nLocktimeRaw(e))}static sigHashType(e){let r=Number(Co((0,he.toByteString)(e))),n=an.fromLEUnsigned((0,he.toByteString)(e).slice(r*2-8,r*2-6));return(0,ke.SigHashType)(Number(n))}};Qe.SigHash=ha;ha.ALL=(0,ke.SigHashType)(65);ha.NONE=(0,ke.SigHashType)(66);ha.SINGLE=(0,ke.SigHashType)(67);ha.ANYONECANPAY_ALL=(0,ke.SigHashType)(193);ha.ANYONECANPAY_NONE=(0,ke.SigHashType)(194);ha.ANYONECANPAY_SINGLE=(0,ke.SigHashType)(195);var ku=class{constructor(e){this.buf=e,this.pos=(0,ke.Int)(0)}eof(){return this.pos>=Co(this.buf)}readBytes(){let e=(0,ke.Int)(0),r=this.buf,n=(0,he.toByteString)(""),i=f9(r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+(0,ke.Int)(1))*(0,ke.Int)(2))));return this.pos++,i<(0,ke.Int)(76)?(e=i,n=r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+e)*(0,ke.Int)(2)))):i==(0,ke.Int)(76)?(e=an.fromLEUnsigned(r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+(0,ke.Int)(1))*(0,ke.Int)(2)))),this.pos+=(0,ke.Int)(1),n=r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+e)*(0,ke.Int)(2)))):i==(0,ke.Int)(77)?(e=an.fromLEUnsigned(r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+(0,ke.Int)(2))*(0,ke.Int)(2)))),this.pos+=(0,ke.Int)(2),n=r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+e)*(0,ke.Int)(2)))):i==(0,ke.Int)(78)?(e=an.fromLEUnsigned(r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+(0,ke.Int)(4))*(0,ke.Int)(2)))),this.pos+=(0,ke.Int)(4),n=r.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+e)*(0,ke.Int)(2)))):Wy(!1),this.pos+=e,n}readBool(){let e=this.buf.slice(Number(this.pos*(0,ke.Int)(2)),Number((this.pos+(0,ke.Int)(1))*(0,ke.Int)(2)));return this.pos++,(0,he.toByteString)("00")!=e}readInt(){return f9(this.readBytes())}static getStateStart(e){let r=BigInt(Co(e)),n=r-ku.StateLen-ku.VersionLen,i=r-ku.VersionLen,s=e.slice(Number(n*(0,ke.Int)(2)),Number(i*(0,ke.Int)(2))),u=f9(s);return r-u-ku.StateLen-ku.VersionLen}};Qe.VarIntReader=ku;ku.StateLen=(0,ke.Int)(4);ku.VersionLen=(0,ke.Int)(1);ku.Version=(0,ke.Int)(0);var Vy=class{static writeBytes(e){let r=BigInt(Co(e)),n=(0,he.toByteString)("");return r<76?n=an.toLEUnsigned(r,(0,ke.Int)(1)):r<256?n=(0,he.toByteString)("4c")+an.toLEUnsigned(r,(0,ke.Int)(1)):r<65536?n=(0,he.toByteString)("4d")+an.toLEUnsigned(r,(0,ke.Int)(2)):r<4294967296?n=(0,he.toByteString)("4e")+an.toLEUnsigned(r,(0,ke.Int)(4)):Wy(!1),n+e}static writeBool(e){return e?(0,he.toByteString)("01"):(0,he.toByteString)("00")}static writeInt(e){return Vy.writeBytes(e==(0,ke.Int)(0)?(0,he.toByteString)("00"):Qc(e))}static serializeState(e){let r=Qc(BigInt(Co(e)),ku.StateLen);return e+r+Qc(ku.Version,ku.VersionLen)}};Qe.VarIntWriter=Vy;var vl=class{static normalize(e,r){let n=e%r;return n<0?n+r:n}static sign(e,r,n,i,s,u){let o=n*(e+i*r),a=(0,ke.Int)("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");o=vl.normalize(o,a),o>a/(0,ke.Int)(2)&&(o=a-o);let l=BigInt(Co(s)),f=Number(Co(Qc(o))),c=Ek(Qc(o,BigInt(32)),BigInt(32)).slice(32*2-f*2),h=(0,ke.Int)(4)+l+BigInt(f),d=(0,he.toByteString)("30")+Qc(h)+(0,he.toByteString)("02")+Qc(l)+s+(0,he.toByteString)("02")+Qc(BigInt(f))+c+(0,he.toByteString)(u);return(0,he.Sig)(d)}static fromBEUnsigned(e){return f9(Ek(e,BigInt(32))+(0,he.toByteString)("00"))}static checkPreimageOpt(e){throw new Error("unimplemented")}static checkPreimageOpt_(e){throw new Error("unimplemented")}static checkPreimageAdvancedOCS(e,r,n,i,s,u,o){throw new Error("unimplemented")}static checkPreimageOCS(e){throw new Error("unimplemented")}static checkPreimageSigHashTypeOCS(e,r){throw new Error("unimplemented")}static checkPreimageOptOCS(e){throw new Error("unimplemented")}static checkPreimageOptOCS_(e){throw new Error("unimplemented")}static isFirstCall(e){let r=ha.scriptCode(e),n=ku.getStateStart(r);return new ku(r.slice(Number(n)*2)).readBool()}};Qe.Tx=vl;vl.privKey=(0,he.PrivKey)((0,ke.Int)("0x26f00fe2340a84335ebdf30f57e9bb58487117b29355718f5e46bf5168d7df97"));vl.pubKey=(0,he.PubKey)("02ba79df5f8ae7604a9830f03c7933028186aede0675a16f025dc4f8be8eec0382");vl.invK=(0,ke.Int)("0xc8ffdbaa05d93aa4ede79ec58f06a72562048b775a3507c2bf44bde4f007c40a");vl.r=(0,ke.Int)("0x1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");vl.rBigEndian=(0,he.toByteString)("1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");var hf=class{};Qe.Constants=hf;hf.InputSeqLen=(0,ke.Int)(4);hf.OutputValueLen=(0,ke.Int)(8);hf.PubKeyLen=(0,ke.Int)(33);hf.PubKeyHashLen=(0,ke.Int)(20);hf.TxIdLen=(0,ke.Int)(32);hf.OutpointLen=(0,ke.Int)(36)});var Yy=$(()=>{B();k();var CX;(function(t){(function(e){var r=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(s,u){return function(o,a){typeof s[o]!="function"&&Object.defineProperty(s,o,{configurable:!0,writable:!0,value:a}),u&&u(o,a)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",u=typeof Object.create=="function",o={__proto__:[]}instanceof Array,a=!u&&!o,l={create:u?function(){return X(Object.create(null))}:o?function(){return X({__proto__:null})}:function(){return X({})},has:a?function(z,V){return r.call(z,V)}:function(z,V){return V in z},get:a?function(z,V){return r.call(z,V)?z[V]:void 0}:function(z,V){return z[V]}},f=Object.getPrototypeOf(Function),c=typeof process=="object"&&process["env"]&&process["env"].REFLECT_METADATA_USE_MAP_POLYFILL==="true",h=!c&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:De(),d=!c&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Xe(),p=!c&&typeof WeakMap=="function"?WeakMap:q(),m=new p;function w(z,V,re,Q){if(U(re)){if(!ue(z))throw new TypeError;if(!de(V))throw new TypeError;return P(z,V)}else{if(!ue(z))throw new TypeError;if(!J(V))throw new TypeError;if(!J(Q)&&!U(Q)&&!Y(Q))throw new TypeError;return Y(Q)&&(Q=void 0),re=ee(re),A(z,V,re,Q)}}e("decorate",w);function x(z,V){function re(Q,ne){if(!J(Q))throw new TypeError;if(!U(ne)&&!we(ne))throw new TypeError;R(z,V,Q,ne)}return re}e("metadata",x);function _(z,V,re,Q){if(!J(re))throw new TypeError;return U(Q)||(Q=ee(Q)),R(z,V,re,Q)}e("defineMetadata",_);function y(z,V,re){if(!J(V))throw new TypeError;return U(re)||(re=ee(re)),g(z,V,re)}e("hasMetadata",y);function S(z,V,re){if(!J(V))throw new TypeError;return U(re)||(re=ee(re)),v(z,V,re)}e("hasOwnMetadata",S);function F(z,V,re){if(!J(V))throw new TypeError;return U(re)||(re=ee(re)),E(z,V,re)}e("getMetadata",F);function N(z,V,re){if(!J(V))throw new TypeError;return U(re)||(re=ee(re)),C(z,V,re)}e("getOwnMetadata",N);function H(z,V){if(!J(z))throw new TypeError;return U(V)||(V=ee(V)),O(z,V)}e("getMetadataKeys",H);function D(z,V){if(!J(z))throw new TypeError;return U(V)||(V=ee(V)),M(z,V)}e("getOwnMetadataKeys",D);function L(z,V,re){if(!J(V))throw new TypeError;U(re)||(re=ee(re));var Q=b(V,re,!1);if(U(Q)||!Q.delete(z))return!1;if(Q.size>0)return!0;var ne=m.get(V);return ne.delete(re),ne.size>0||m.delete(V),!0}e("deleteMetadata",L);function P(z,V){for(var re=z.length-1;re>=0;--re){var Q=z[re],ne=Q(V);if(!U(ne)&&!Y(ne)){if(!de(ne))throw new TypeError;V=ne}}return V}function A(z,V,re,Q){for(var ne=z.length-1;ne>=0;--ne){var be=z[ne],ie=be(V,re,Q);if(!U(ie)&&!Y(ie)){if(!J(ie))throw new TypeError;Q=ie}}return Q}function b(z,V,re){var Q=m.get(z);if(U(Q)){if(!re)return;Q=new h,m.set(z,Q)}var ne=Q.get(V);if(U(ne)){if(!re)return;ne=new h,Q.set(V,ne)}return ne}function g(z,V,re){var Q=v(z,V,re);if(Q)return!0;var ne=Re(V);return Y(ne)?!1:g(z,ne,re)}function v(z,V,re){var Q=b(V,re,!1);return U(Q)?!1:j(Q.has(z))}function E(z,V,re){var Q=v(z,V,re);if(Q)return C(z,V,re);var ne=Re(V);if(!Y(ne))return E(z,ne,re)}function C(z,V,re){var Q=b(V,re,!1);if(!U(Q))return Q.get(z)}function R(z,V,re,Q){var ne=b(re,Q,!0);ne.set(z,V)}function O(z,V){var re=M(z,V),Q=Re(z);if(Q===null)return re;var ne=O(Q,V);if(ne.length<=0)return re;if(re.length<=0)return ne;for(var be=new d,ie=[],ye=0,Oe=re;ye<Oe.length;ye++){var xe=Oe[ye],Te=be.has(xe);Te||(be.add(xe),ie.push(xe))}for(var kt=0,ot=ne;kt<ot.length;kt++){var xe=ot[kt],Te=be.has(xe);Te||(be.add(xe),ie.push(xe))}return ie}function M(z,V){var re=[],Q=b(z,V,!1);if(U(Q))return re;for(var ne=Q.keys(),be=Fe(ne),ie=0;;){var ye=wt(be);if(!ye)return re.length=ie,re;var Oe=Le(ye);try{re[ie]=Oe}catch(xe){try{je(be)}finally{throw xe}}ie++}}function T(z){if(z===null)return 1;switch(typeof z){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return z===null?1:6;default:return 6}}function U(z){return z===void 0}function Y(z){return z===null}function te(z){return typeof z=="symbol"}function J(z){return typeof z=="object"?z!==null:typeof z=="function"}function ce(z,V){switch(T(z)){case 0:return z;case 1:return z;case 2:return z;case 3:return z;case 4:return z;case 5:return z}var re=V===3?"string":V===5?"number":"default",Q=He(z,i);if(Q!==void 0){var ne=Q.call(z,re);if(J(ne))throw new TypeError;return ne}return se(z,re==="default"?"number":re)}function se(z,V){if(V==="string"){var re=z.toString;if(fe(re)){var Q=re.call(z);if(!J(Q))return Q}var ne=z.valueOf;if(fe(ne)){var Q=ne.call(z);if(!J(Q))return Q}}else{var ne=z.valueOf;if(fe(ne)){var Q=ne.call(z);if(!J(Q))return Q}var be=z.toString;if(fe(be)){var Q=be.call(z);if(!J(Q))return Q}}throw new TypeError}function j(z){return!!z}function Z(z){return""+z}function ee(z){var V=ce(z,3);return te(V)?V:Z(V)}function ue(z){return Array.isArray?Array.isArray(z):z instanceof Object?z instanceof Array:Object.prototype.toString.call(z)==="[object Array]"}function fe(z){return typeof z=="function"}function de(z){return typeof z=="function"}function we(z){switch(T(z)){case 3:return!0;case 4:return!0;default:return!1}}function He(z,V){var re=z[V];if(re!=null){if(!fe(re))throw new TypeError;return re}}function Fe(z){var V=He(z,s);if(!fe(V))throw new TypeError;var re=V.call(z);if(!J(re))throw new TypeError;return re}function Le(z){return z.value}function wt(z){var V=z.next();return V.done?!1:V}function je(z){var V=z.return;V&&V.call(z)}function Re(z){var V=Object.getPrototypeOf(z);if(typeof z!="function"||z===f||V!==f)return V;var re=z.prototype,Q=re&&Object.getPrototypeOf(re);if(Q==null||Q===Object.prototype)return V;var ne=Q.constructor;return typeof ne!="function"||ne===z?V:ne}function De(){var z={},V=[],re=function(){function ie(ye,Oe,xe){this._index=0,this._keys=ye,this._values=Oe,this._selector=xe}return ie.prototype["@@iterator"]=function(){return this},ie.prototype[s]=function(){return this},ie.prototype.next=function(){var ye=this._index;if(ye>=0&&ye<this._keys.length){var Oe=this._selector(this._keys[ye],this._values[ye]);return ye+1>=this._keys.length?(this._index=-1,this._keys=V,this._values=V):this._index++,{value:Oe,done:!1}}return{value:void 0,done:!0}},ie.prototype.throw=function(ye){throw this._index>=0&&(this._index=-1,this._keys=V,this._values=V),ye},ie.prototype.return=function(ye){return this._index>=0&&(this._index=-1,this._keys=V,this._values=V),{value:ye,done:!0}},ie}();return function(){function ie(){this._keys=[],this._values=[],this._cacheKey=z,this._cacheIndex=-2}return Object.defineProperty(ie.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ie.prototype.has=function(ye){return this._find(ye,!1)>=0},ie.prototype.get=function(ye){var Oe=this._find(ye,!1);return Oe>=0?this._values[Oe]:void 0},ie.prototype.set=function(ye,Oe){var xe=this._find(ye,!0);return this._values[xe]=Oe,this},ie.prototype.delete=function(ye){var Oe=this._find(ye,!1);if(Oe>=0){for(var xe=this._keys.length,Te=Oe+1;Te<xe;Te++)this._keys[Te-1]=this._keys[Te],this._values[Te-1]=this._values[Te];return this._keys.length--,this._values.length--,ye===this._cacheKey&&(this._cacheKey=z,this._cacheIndex=-2),!0}return!1},ie.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=z,this._cacheIndex=-2},ie.prototype.keys=function(){return new re(this._keys,this._values,Q)},ie.prototype.values=function(){return new re(this._keys,this._values,ne)},ie.prototype.entries=function(){return new re(this._keys,this._values,be)},ie.prototype["@@iterator"]=function(){return this.entries()},ie.prototype[s]=function(){return this.entries()},ie.prototype._find=function(ye,Oe){return this._cacheKey!==ye&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=ye)),this._cacheIndex<0&&Oe&&(this._cacheIndex=this._keys.length,this._keys.push(ye),this._values.push(void 0)),this._cacheIndex},ie}();function Q(ie,ye){return ie}function ne(ie,ye){return ye}function be(ie,ye){return[ie,ye]}}function Xe(){return function(){function z(){this._map=new h}return Object.defineProperty(z.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),z.prototype.has=function(V){return this._map.has(V)},z.prototype.add=function(V){return this._map.set(V,V),this},z.prototype.delete=function(V){return this._map.delete(V)},z.prototype.clear=function(){this._map.clear()},z.prototype.keys=function(){return this._map.keys()},z.prototype.values=function(){return this._map.values()},z.prototype.entries=function(){return this._map.entries()},z.prototype["@@iterator"]=function(){return this.keys()},z.prototype[s]=function(){return this.keys()},z}()}function q(){var z=16,V=l.create(),re=Q();return function(){function Oe(){this._key=Q()}return Oe.prototype.has=function(xe){var Te=ne(xe,!1);return Te!==void 0?l.has(Te,this._key):!1},Oe.prototype.get=function(xe){var Te=ne(xe,!1);return Te!==void 0?l.get(Te,this._key):void 0},Oe.prototype.set=function(xe,Te){var kt=ne(xe,!0);return kt[this._key]=Te,this},Oe.prototype.delete=function(xe){var Te=ne(xe,!1);return Te!==void 0?delete Te[this._key]:!1},Oe.prototype.clear=function(){this._key=Q()},Oe}();function Q(){var Oe;do Oe="@@WeakMap@@"+ye();while(l.has(V,Oe));return V[Oe]=!0,Oe}function ne(Oe,xe){if(!r.call(Oe,re)){if(!xe)return;Object.defineProperty(Oe,re,{value:l.create()})}return Oe[re]}function be(Oe,xe){for(var Te=0;Te<xe;++Te)Oe[Te]=Math.random()*255|0;return Oe}function ie(Oe){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Oe)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Oe)):be(new Uint8Array(Oe),Oe):be(new Array(Oe),Oe)}function ye(){var Oe=ie(z);Oe[6]=Oe[6]&79|64,Oe[8]=Oe[8]&191|128;for(var xe="",Te=0;Te<z;++Te){var kt=Oe[Te];(Te===4||Te===6||Te===8)&&(xe+="-"),kt<16&&(xe+="0"),xe+=kt.toString(16).toLowerCase()}return xe}}function X(z){return z.__=void 0,delete z.__,z}})})(CX||(CX={}))});var RX=$(pa=>{"use strict";B();k();var SSe=pa&&pa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Se=pa&&pa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FX=pa&&pa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SSe(e,t,r);return _Se(e,t),e};Object.defineProperty(pa,"__esModule",{value:!0});pa.IndexerReader=pa.INDEX_FILE_NAME=void 0;var Gp=FX(wi()),G_=FX(Ju());pa.INDEX_FILE_NAME="scrypt.index.json";var Tk=class{constructor(e){this.symbolPaths=new Map,this.filePath=e,this.load()}load(){if(!G_.existsSync(this.filePath))throw new Error(`index file not exist: ${this.filePath}`);let e=JSON.parse(G_.readFileSync(this.filePath).toString());if(!e.scryptBase)throw new Error(`missing \`scryptBase\` in index file ${this.filePath}`);if(this.scryptBasePath=e.scryptBase,!e.bindings)throw new Error(`missing \`bindings\` in index file ${this.filePath}`);e.bindings.forEach(r=>{r.symbol&&r.path&&this.symbolPaths.set(r.symbol,r.path)})}getRelativePath(e){return this.symbolPaths.get(e)}getFullPath(e){let r=this.getRelativePath(e);if(!!r)return Gp.join(Gp.dirname(this.filePath),this.scryptBasePath,r)}static queryIndexFile(e,r){let n=e;r=r===void 0?process.cwd():r;let i=(u,o)=>Gp.resolve(u).toLowerCase()==Gp.resolve(o).toLowerCase();for(;;){let u=Gp.join(n,pa.INDEX_FILE_NAME);if(G_.existsSync(u))return u;let o=Gp.join(n,"..");if(i(n,r)||i(n,o))break;n=o}let s=Gp.join(r,pa.INDEX_FILE_NAME);if(G_.existsSync(s))return s}query(e,r=!1){let n=this.symbolPaths.get(e);return n&&r?Gp.join(this.scryptBasePath,n):n}};pa.IndexerReader=Tk});var e0=$(ba=>{"use strict";B();k();Object.defineProperty(ba,"__esModule",{value:!0});ba.filterUTXO=ba.parseSignatureOption=ba.parseAddresses=ba.utxoFromOutput=ba.getRandomAddress=ba.getDummyP2pkhUTXOs=void 0;var Sl=mr(),wSe=Ua();function ESe(t=1){return new Array(t).fill(0).map(e=>({txId:(0,wSe.randomBytes)(32).toString("hex"),outputIndex:0,script:Sl.bsv.Script.buildPublicKeyHashOut(MX()).toHex(),satoshis:1}))}ba.getDummyP2pkhUTXOs=ESe;function MX(t=Sl.bsv.Networks.testnet){return Sl.bsv.Address.fromPrivateKey(Sl.bsv.PrivateKey.fromRandom(t.name),t)}ba.getRandomAddress=MX;function ASe(t,e){let r=t.outputs[e];if(!r)throw new Error(`outputIndex ${e} does not exist on tx ${t.id}`);return{txId:t.id,outputIndex:e,script:r.script.toHex(),satoshis:r.satoshis}}ba.utxoFromOutput=ASe;function NX(t,e){return Array.from([t]).flat().map(r=>r instanceof Sl.bsv.Address?r:r.toAddress(e))}ba.parseAddresses=NX;function TSe(t,e){return Array.from([t]).flat().map(r=>r instanceof Sl.bsv.Address?{address:r,sigHashType:Sl.DEFAULT_SIGHASH_TYPE}:r instanceof Sl.bsv.PublicKey?{address:r.toAddress(e),sigHashType:Sl.DEFAULT_SIGHASH_TYPE}:NX(r.pubKeyOrAddr,e).map(n=>({address:n,sigHashType:r.sigHashType||Sl.DEFAULT_SIGHASH_TYPE,csIdx:r.csIdx,data:r.data}))).flat()}ba.parseSignatureOption=TSe;function xSe(t,e){let r=e.unspentValue,n=e.estimateSize,i=e.feePerKb,s=e.additional||0;function u(l){let f=0,c=-1;for(let h=0;h<l.length;h++){let d=h+1;if(f+=l[h].satoshis,i<=(r+f)/(n+(180+s)*d)*1e3){c=h;break}}return c>=0?l.slice(0,c+1):[]}let o=t.sort((l,f)=>l.satoshis-f.satoshis),a=u(o);if(a.length===0&&(a=u(o.reverse()),a.length===0))throw new Error("no sufficient utxos");return a}ba.filterUTXO=xSe});var Y_=$(W_=>{"use strict";B();k();Object.defineProperty(W_,"__esModule",{value:!0});W_.SmartContractLib=void 0;Yy();var l9=class{constructor(...e){this.args=[],this.args=e}getArgs(){return(this.args||[]).map(e=>e instanceof l9?e.getArgs():e)}getState(){return Object.keys(this).reduce((e,r)=>typeof this[r]=="bigint"||typeof this[r]=="boolean"||typeof this[r]=="string"?Object.assign(e,{[r]:this[r]}):this[r]instanceof l9?Object.assign(e,{[r]:this[r].getState()}):e,{})}};W_.SmartContractLib=l9});var Ok=$((Q0t,VX)=>{B();k();var Xa=-1,Fo=1,Bs=0;function Xy(t,e,r,n,i){if(t===e)return t?[[Bs,t]]:[];if(r!=null){var s=MSe(t,e,r);if(s)return s}var u=Ik(t,e),o=t.substring(0,u);t=t.substring(u),e=e.substring(u),u=X_(t,e);var a=t.substring(t.length-u);t=t.substring(0,t.length-u),e=e.substring(0,e.length-u);var l=ISe(t,e);return o&&l.unshift([Bs,o]),a&&l.push([Bs,a]),Pk(l,i),n&&BSe(l),l}function ISe(t,e){var r;if(!t)return[[Fo,e]];if(!e)return[[Xa,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,s=n.indexOf(i);if(s!==-1)return r=[[Fo,n.substring(0,s)],[Bs,i],[Fo,n.substring(s+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=Xa),r;if(i.length===1)return[[Xa,t],[Fo,e]];var u=OSe(t,e);if(u){var o=u[0],a=u[1],l=u[2],f=u[3],c=u[4],h=Xy(o,l),d=Xy(a,f);return h.concat([[Bs,c]],d)}return PSe(t,e)}function PSe(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),s=i,u=2*i,o=new Array(u),a=new Array(u),l=0;l<u;l++)o[l]=-1,a[l]=-1;o[s+1]=0,a[s+1]=0;for(var f=r-n,c=f%2!==0,h=0,d=0,p=0,m=0,w=0;w<i;w++){for(var x=-w+h;x<=w-d;x+=2){var _=s+x,y;x===-w||x!==w&&o[_-1]<o[_+1]?y=o[_+1]:y=o[_-1]+1;for(var S=y-x;y<r&&S<n&&t.charAt(y)===e.charAt(S);)y++,S++;if(o[_]=y,y>r)d+=2;else if(S>n)h+=2;else if(c){var F=s+f-x;if(F>=0&&F<u&&a[F]!==-1){var N=r-a[F];if(y>=N)return DX(t,e,y,S)}}}for(var H=-w+p;H<=w-m;H+=2){var F=s+H,N;H===-w||H!==w&&a[F-1]<a[F+1]?N=a[F+1]:N=a[F-1]+1;for(var D=N-H;N<r&&D<n&&t.charAt(r-N-1)===e.charAt(n-D-1);)N++,D++;if(a[F]=N,N>r)m+=2;else if(D>n)p+=2;else if(!c){var _=s+f-H;if(_>=0&&_<u&&o[_]!==-1){var y=o[_],S=s+y-_;if(N=r-N,y>=N)return DX(t,e,y,S)}}}}return[[Xa,t],[Fo,e]]}function DX(t,e,r,n){var i=t.substring(0,r),s=e.substring(0,n),u=t.substring(r),o=e.substring(n),a=Xy(i,s),l=Xy(u,o);return a.concat(l)}function Ik(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(s,i)==e.substring(s,i)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return qX(t.charCodeAt(i-1))&&i--,i}function HX(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var s=0,u=1;;){var o=t.substring(i-u),a=e.indexOf(o);if(a==-1)return s;u+=a,(a==0||t.substring(i-u)==e.substring(0,u))&&(s=u,u++)}}function X_(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return jX(t.charCodeAt(t.length-i))&&i--,i}function OSe(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(d,p,m){for(var w=d.substring(m,m+Math.floor(d.length/4)),x=-1,_="",y,S,F,N;(x=p.indexOf(w,x+1))!==-1;){var H=Ik(d.substring(m),p.substring(x)),D=X_(d.substring(0,m),p.substring(0,x));_.length<D+H&&(_=p.substring(x-D,x)+p.substring(x,x+H),y=d.substring(0,m-D),S=d.substring(m+H),F=p.substring(0,x-D),N=p.substring(x+H))}return _.length*2>=d.length?[y,S,F,N,_]:null}var s=i(r,n,Math.ceil(r.length/4)),u=i(r,n,Math.ceil(r.length/2)),o;if(!s&&!u)return null;u?s?o=s[4].length>u[4].length?s:u:o=u:o=s;var a,l,f,c;t.length>e.length?(a=o[0],l=o[1],f=o[2],c=o[3]):(f=o[0],c=o[1],a=o[2],l=o[3]);var h=o[4];return[a,l,f,c,h]}function BSe(t){for(var e=!1,r=[],n=0,i=null,s=0,u=0,o=0,a=0,l=0;s<t.length;)t[s][0]==Bs?(r[n++]=s,u=a,o=l,a=0,l=0,i=t[s][1]):(t[s][0]==Fo?a+=t[s][1].length:l+=t[s][1].length,i&&i.length<=Math.max(u,o)&&i.length<=Math.max(a,l)&&(t.splice(r[n-1],0,[Xa,i]),t[r[n-1]+1][0]=Fo,n--,n--,s=n>0?r[n-1]:-1,u=0,o=0,a=0,l=0,i=null,e=!0)),s++;for(e&&Pk(t),FSe(t),s=1;s<t.length;){if(t[s-1][0]==Xa&&t[s][0]==Fo){var f=t[s-1][1],c=t[s][1],h=HX(f,c),d=HX(c,f);h>=d?(h>=f.length/2||h>=c.length/2)&&(t.splice(s,0,[Bs,c.substring(0,h)]),t[s-1][1]=f.substring(0,f.length-h),t[s+1][1]=c.substring(h),s++):(d>=f.length/2||d>=c.length/2)&&(t.splice(s,0,[Bs,f.substring(0,d)]),t[s-1][0]=Fo,t[s-1][1]=c.substring(0,c.length-d),t[s+1][0]=Xa,t[s+1][1]=f.substring(d),s++),s++}s++}}var LX=/[^a-zA-Z0-9]/,UX=/\s/,$X=/[\r\n]/,kSe=/\n\r?\n$/,CSe=/^\r?\n\r?\n/;function FSe(t){function e(d,p){if(!d||!p)return 6;var m=d.charAt(d.length-1),w=p.charAt(0),x=m.match(LX),_=w.match(LX),y=x&&m.match(UX),S=_&&w.match(UX),F=y&&m.match($X),N=S&&w.match($X),H=F&&d.match(kSe),D=N&&p.match(CSe);return H||D?5:F||N?4:x&&!y&&S?3:y||S?2:x||_?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==Bs&&t[r+1][0]==Bs){var n=t[r-1][1],i=t[r][1],s=t[r+1][1],u=X_(n,i);if(u){var o=i.substring(i.length-u);n=n.substring(0,n.length-u),i=o+i.substring(0,i.length-u),s=o+s}for(var a=n,l=i,f=s,c=e(n,i)+e(i,s);i.charAt(0)===s.charAt(0);){n+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var h=e(n,i)+e(i,s);h>=c&&(c=h,a=n,l=i,f=s)}t[r-1][1]!=a&&(a?t[r-1][1]=a:(t.splice(r-1,1),r--),t[r][1]=l,f?t[r+1][1]=f:(t.splice(r+1,1),r--))}r++}}function Pk(t,e){t.push([Bs,""]);for(var r=0,n=0,i=0,s="",u="",o;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case Fo:i++,u+=t[r][1],r++;break;case Xa:n++,s+=t[r][1],r++;break;case Bs:var a=r-i-n-1;if(e){if(a>=0&&zX(t[a][1])){var l=t[a][1].slice(-1);if(t[a][1]=t[a][1].slice(0,-1),s=l+s,u=l+u,!t[a][1]){t.splice(a,1),r--;var f=a-1;t[f]&&t[f][0]===Fo&&(i++,u=t[f][1]+u,f--),t[f]&&t[f][0]===Xa&&(n++,s=t[f][1]+s,f--),a=f}}if(KX(t[r][1])){var l=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),s+=l,u+=l}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(s.length>0||u.length>0){s.length>0&&u.length>0&&(o=Ik(u,s),o!==0&&(a>=0?t[a][1]+=u.substring(0,o):(t.splice(0,0,[Bs,u.substring(0,o)]),r++),u=u.substring(o),s=s.substring(o)),o=X_(u,s),o!==0&&(t[r][1]=u.substring(u.length-o)+t[r][1],u=u.substring(0,u.length-o),s=s.substring(0,s.length-o)));var c=i+n;s.length===0&&u.length===0?(t.splice(r-c,c),r=r-c):s.length===0?(t.splice(r-c,c,[Fo,u]),r=r-c+1):u.length===0?(t.splice(r-c,c,[Xa,s]),r=r-c+1):(t.splice(r-c,c,[Xa,s],[Fo,u]),r=r-c+2)}r!==0&&t[r-1][0]===Bs?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,s="",u="";break}}t[t.length-1][1]===""&&t.pop();var h=!1;for(r=1;r<t.length-1;)t[r-1][0]===Bs&&t[r+1][0]===Bs&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),h=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),h=!0)),r++;h&&Pk(t,e)}function qX(t){return t>=55296&&t<=56319}function jX(t){return t>=56320&&t<=57343}function KX(t){return jX(t.charCodeAt(0))}function zX(t){return qX(t.charCodeAt(t.length-1))}function RSe(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function xk(t,e,r,n){return zX(t)||KX(n)?null:RSe([[Bs,t],[Xa,e],[Fo,r],[Bs,n]])}function MSe(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,s=t.length,u=e.length;if(n.length===0&&(i===null||i.length===0)){var o=n.index,a=t.slice(0,o),l=t.slice(o),f=i?i.index:null;e:{var c=o+u-s;if(f!==null&&f!==c||c<0||c>u)break e;var h=e.slice(0,c),d=e.slice(c);if(d!==l)break e;var p=Math.min(o,c),m=a.slice(0,p),w=h.slice(0,p);if(m!==w)break e;var x=a.slice(p),_=h.slice(p);return xk(m,x,_,l)}e:{if(f!==null&&f!==o)break e;var y=o,h=e.slice(0,y),d=e.slice(y);if(h!==a)break e;var S=Math.min(s-y,u-y),F=l.slice(l.length-S),N=d.slice(d.length-S);if(F!==N)break e;var x=l.slice(0,l.length-S),_=d.slice(0,d.length-S);return xk(a,x,_,F)}}if(n.length>0&&i&&i.length===0){e:{var m=t.slice(0,n.index),F=t.slice(n.index+n.length),p=m.length,S=F.length;if(u<p+S)break e;var w=e.slice(0,p),N=e.slice(u-S);if(m!==w||F!==N)break e;var x=t.slice(p,s-S),_=e.slice(p,u-S);return xk(m,x,_,F)}}return null}function Z_(t,e,r,n){return Xy(t,e,r,n,!0)}Z_.INSERT=Fo;Z_.DELETE=Xa;Z_.EQUAL=Bs;VX.exports=Z_});var YX=$(t0=>{"use strict";B();k();var GX=t0&&t0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t0,"__esModule",{value:!0});t0.mergeNexts=t0.diffOutputs=t0.getExpectedOutputs=t0.getTransationOutputs=void 0;var h9=GX(Ok()),_l=mr(),WX=mr(),NSe=GX(lk()),Wp;(function(t){t.black="\x1B[30m",t.red="\x1B[31m",t.green="\x1B[32m",t.reset="\x1B[0m"})(Wp||(Wp={}));var Bk=class{red(e){return Wp.red+e+Wp.reset}grey(e){return Wp.black+e+Wp.reset}green(e){return Wp.green+e+Wp.reset}},Ar=typeof window>"u"?NSe.default:new Bk;function DSe(t,e){let r=Math.max(t.length,e.length),n=Math.abs(t.length-e.length),i=e.startsWith(t)||t.startsWith(e);return n/r>.5&&r>3e3&&!i}function HSe(t,e){let r=DSe(t,e),n=_l.bsv.Script.fromHex(t).toASM(),i=_l.bsv.Script.fromHex(e).toASM();if(r){let s=n.split(" "),u=i.split(" "),o=Math.min(s.length,u.length),a=Math.min(o,1e3);n=s.slice(0,a).join(" "),s.length>a&&(n+=" ..."),i=u.slice(0,a).join(" "),u.length>a&&(i+=" ...")}return[n,i]}function J_(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r,4)}function LSe(t,e,r){if(WX.AbstractContract.isStateful(t)){let n=t.codePart.toHex(),i=r.map((a,l)=>a.script.startsWith(n)?l:-1).filter(a=>a>-1),s=e.map((a,l)=>a.script.startsWith(n)?l:-1).filter(a=>a>-1),u=i.map((a,l)=>a===s[l]?a:-1).filter(a=>a>-1),o=(a,l)=>{var f;if(u.includes(l)){let c=t.ContractClass,h=(f=t.getPrependNOPScript())===null||f===void 0?void 0:f.toHex(),p=(h&&a.script.startsWith(h)?c.fromHex(a.script.slice(h.length)).statePropsArgs:c.fromHex(a.script).statePropsArgs).reduce((m,w)=>Object.assign(Object.assign({},m),{[w.name]:w.value}),{});return{script:a.script,satoshis:a.satoshis,states:p}}else return{script:a.script,satoshis:a.satoshis}};return[e.map(o),r.map(o)]}return[e,r]}function USe(t,e){let r="",n=0;for(r+=Ar.grey("["),t.forEach(i=>{typeof i.states<"u"&&(n>0&&(r+=Ar.grey(", ")),typeof e[n]>"u"?r+=Ar.red(J_(i.states)):(0,h9.default)(J_(e[n].states),J_(i.states)).forEach(s=>{s[0]===h9.default.INSERT?r+=Ar.red(s[1]):s[0]===h9.default.DELETE?r+=Ar.green(s[1]):r+=Ar.grey(s[1])})),n++});n<e.length;n++){let i=e[n];typeof i.states<"u"&&(r+=Ar.green(J_(i.states)))}return r+=Ar.grey("]"),r}function d9(t){let e=t.split(" ");return e.length>10?e.slice(0,5).concat(["..."]).concat(e.slice(e.length-5)).join(" "):t}function $Se(t,e,r){return(r&31)!=_l.bsv.crypto.Signature.SIGHASH_SINGLE&&(r&31)!=_l.bsv.crypto.Signature.SIGHASH_NONE?t.outputs.map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):(r&31)==_l.bsv.crypto.Signature.SIGHASH_SINGLE&&e<t.outputs.length?t.outputs.filter((n,i)=>i===e).map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):[]}t0.getTransationOutputs=$Se;function qSe(t){let e=new _l.bsv.encoding.BufferReader(I.Buffer.from(t,"hex")),r=[];try{for(;!e.eof();){let n=_l.bsv.Transaction.Output.fromBufferReader(e);r.push(n)}}catch{throw new Error("Invalid argument: `outputs`")}return r.map(n=>({script:n.script.toHex(),satoshis:n.satoshis}))}t0.getExpectedOutputs=qSe;function jSe(t,e,r){let n=`1. Outputs in the ${Ar.green("Transaction")} is marked green.
2. Outputs expected by the \`${Ar.red(t.contractName)}\` contract is marked red.
3. Identical parts are marked in gray.

`,[i,s]=LSe(t,e,r),u="",o=0;for(u+=Ar.grey("["),i.forEach(a=>{if(o>0&&(u+=Ar.grey(", ")),typeof s[o]>"u")u+=Ar.red(`{
`),u+=Ar.red("    satoshi:"+a.satoshis),u+=Ar.red(`,
`),u+=Ar.red("    script:"),u+=Ar.red(d9(_l.bsv.Script.fromHex(a.script).toASM())),u+=Ar.red(`
`),u+=Ar.red("}");else{if(u+=Ar.grey(`{
`),u+=Ar.grey("    satoshi:"),a.satoshis===s[o].satoshis?u+=Ar.grey(a.satoshis+""):(u+=Ar.red(a.satoshis+""),u+=Ar.green(s[o].satoshis+"")),u+=Ar.grey(`,
`),u+=Ar.grey("    script:"),a.script===s[o].script)u+=Ar.grey(d9(_l.bsv.Script.fromHex(a.script).toASM()));else{let[l,f]=HSe(s[o].script,a.script);(0,h9.default)(l,f).forEach(c=>{c[0]===h9.default.INSERT?u+=Ar.red(d9(c[1])):c[0]===h9.default.DELETE?u+=Ar.green(d9(c[1])):u+=Ar.grey(d9(c[1]))})}u+=Ar.grey(`
}`)}o++});o<s.length;o++){let a=s[o];u+=Ar.grey(","),u+=Ar.green(`{
`),u+=Ar.green("    satoshi:"+a.satoshis),u+=Ar.green(`,
`),u+=Ar.green("    script:"),u+=Ar.green(d9(_l.bsv.Script.fromHex(a.script).toASM())),u+=Ar.green(`
`),u+=Ar.green("}")}return u+=Ar.grey("]"),n=n+`Outputs: ${u}`,WX.AbstractContract.isStateful(t)&&(n=n+`

States: ${USe(i,s)}`),n}t0.diffOutputs=jSe;function KSe(t){let e=new Map;return t.forEach(r=>{(r.nexts||[]).forEach(n=>{if(!e.has(n.atOutputIndex))e.set(n.atOutputIndex,n);else if(e.get(n.atOutputIndex).instance!==n.instance)throw new Error(`The ${n.atOutputIndex}-th output of the transaction is repeatedly bound to the contract instance`)})}),Array.from(e.values()).sort((r,n)=>r.atOutputIndex-n.atOutputIndex)}t0.mergeNexts=KSe});var XX=$(Q_=>{"use strict";B();k();Object.defineProperty(Q_,"__esModule",{value:!0});Q_.throwUnInitializing=void 0;function zSe(t){throw new Error(`'${t}.compile' or '${t}.loadArtifact' should be called before initializing any instance!`)}Q_.throwUnInitializing=zSe});var Jy=$(r0=>{"use strict";B();k();var VSe=r0&&r0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GSe=r0&&r0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WSe=r0&&r0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VSe(e,t,r);return GSe(e,t),e},ga=r0&&r0.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(r0,"__esModule",{value:!0});r0.SmartContract=void 0;var wl=WSe(Ju()),YSe=e7(),p9=wi();Yy();var it=mr(),ZX=RX(),XSe=Mr(),rn=s7(),li=Vp(),ZSe=Ua(),JX=e0(),Zy=u9(),kk=b9(),QX=Y_(),ew=YX(),Xd=u9(),tw=XX(),Yp=class{static compileImpl(e){return ga(this,void 0,void 0,function*(){let r=wl.mkdtempSync((0,p9.join)((0,YSe.tmpdir)(),"scrypt-ts-")),n=yield(0,it.compileContractAsync)(e,{sourceMap:!0,artifact:!0,out:r});if(n.errors.length>0)throw new Error(`Compilation failed for class \`${this.name}\`. Check the output details at project building time!`);{let i=(0,p9.basename)(e).replace(".scrypt",".json"),s=wl.readdirSync(r).filter(u=>u==i)[0];s&&wl.copyFileSync((0,p9.join)(r,s),(0,p9.join)((0,p9.dirname)(e),s))}return n})}static compile(){return ga(this,void 0,void 0,function*(){let e=yield this.getTranspileErrors();if(Array.isArray(e)&&e[0])throw e[0];let r=this._loadCachedArtifact();if(r)this.DelegateClazz=(0,it.buildContractClass)(r);else{let n=this._getScryptFilePath(),i=yield this.compileImpl(n);this.DelegateClazz=(0,it.buildContractClass)(i),r=i.toArtifact()}return r})}static getTranspileErrors(){return ga(this,void 0,void 0,function*(){if(!(0,Xd.isInNodeEnv)())throw new Error("the 'getTranspileErrors()' method should only be called in Node.js environment!");let e=this._getTransformationResult();return e.success?[]:e.errors})}static loadArtifact(e=void 0){let r;if(typeof e>"u"?r=this._loadCachedArtifact():typeof e=="string"?r=this._loadArtifact(e):r=e,r===void 0)throw new Error(`Cannot find the artifact file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);this.DelegateClazz=(0,it.buildContractClass)(r)}static getArtifact(){if(!this.DelegateClazz)throw new Error("No artifact found, Please compile the contract first.");return this.DelegateClazz.artifact}static _getTransformationResult(){let e=this._getScryptFilePath(),r=(0,Zy.alterFileExt)(e,"transformer.json");return JSON.parse(wl.readFileSync(r).toString())}static _getScryptFilePath(){let e=Reflect.getMetadata("scrypt:filepath",this);if(e)return e;let r=(0,p9.join)(".",ZX.INDEX_FILE_NAME);if(!wl.existsSync(r))throw new Error("Cannot find `scrypt.index.json` file, run `npx scrypt-cli@latest compile` to generate it.");let i=new ZX.IndexerReader(r).getFullPath(this.name);if(!wl.existsSync(i))throw new Error(`Cannot find the bundled scrypt file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);return Reflect.defineMetadata("scrypt:filepath",i,this),i}static _loadCachedArtifact(){let e=this._getScryptFilePath(),r=(0,Zy.alterFileExt)(e,"json");return this._loadArtifact(r)}static _loadArtifact(e){if(!!wl.existsSync(e))return JSON.parse(wl.readFileSync(e,"utf8").toString())}getDelegateClazz(){var e;return(e=Object.getOwnPropertyDescriptor(this.constructor,"DelegateClazz"))===null||e===void 0?void 0:e.value}static getDelegateClazz(){return this.DelegateClazz}getDelegateInstance(){return this.delegateInstance}setDelegateInstance(e){this.delegateInstance=e}constructor(...e){if(this.enableUpdateEMC=!1,this._txBuilders=new Map,Object.getPrototypeOf(this.constructor).name==="SmartContract")this._initDelegateInstance(...e);else try{this._initDelegateInstance(...e)}catch{}}_initDelegateInstance(...e){let r=this.getDelegateClazz();r||(0,tw.throwUnInitializing)(this.constructor.name);let n=e.map((i,s)=>{if(i instanceof QX.SmartContractLib)return i.getArgs();if(i instanceof li.HashedMap||i instanceof li.HashedSet){let o=r.abi.find(a=>a.type===it.ABIEntityType.CONSTRUCTOR).params[s].type;return i.attachTo(o,r),i}return i});this.delegateInstance=new r(...n),this.delegateInstance.isGenesis=!1}init(...e){this._initDelegateInstance(...e)}verify(e){if(this._csNum=0,!(0,Xd.isInNodeEnv)()){console.error("the 'verify' method should only be called in Node.js environment!");return}let r=Object.getPrototypeOf(this).constructor._getScryptFilePath(),n=r.replace(/\.scrypt$/,".scrypt.map");if(!wl.existsSync(n))throw new Error(`cannot find the bundled sourcemap file for \`${typeof this}\` at ${n}`);let i=JSON.parse(wl.readFileSync(n).toString()),s={};if(this.to){s.tx=this.to.tx;let u=this.to.inputIndex;s.inputIndex=u,s.inputSatoshis=this.to.tx.inputs[u].output.satoshis}try{let u=(a=>{let l=a.verify(s);if(!l.success&&l.error){let f=/\[(.+?)\]\((.+?)#(\d+)\)/.exec(l.error);l.error.substring(0,f.index);let c=parseInt(f[3]),h=i[c-1][0][2]+1;l.error=`[Go to Source](file://${r}:${h})`}return l}).bind(this),o=this.buildEntryMethodCall(e);return o instanceof Promise?o.then(a=>u(a)):u(o)}catch(u){throw u}}getUnlockingScript(e){try{let r=this.clone().buildEntryMethodCall(e);return r instanceof Promise?r.then(n=>n.unlockingScript):r.unlockingScript}catch(r){throw r}}syncStateProps(){this.delegateInstance.isGenesis||(Reflect.getMetadata("scrypt:stateProps",this)||[]).forEach(r=>{this[r]instanceof QX.SmartContractLib?this.delegateInstance[r]=this[r].getState():this[r]instanceof li.HashedMap?this.delegateInstance[r]=this[r]:this[r]instanceof li.HashedSet?this.delegateInstance[r]=this[r]:this.delegateInstance[r]=this[r]})}get lockingScript(){return this.syncStateProps(),this.delegateInstance.lockingScript}get scriptSize(){return this.lockingScript.toBuffer().length}get codePart(){return this.delegateInstance.codePart.toHex()}get scriptHash(){return(0,it.sha256)(this.lockingScript.toHex()).match(/.{2}/g).reverse().join("")}setAsmVars(e){this.delegateInstance.replaceAsmVars(e)}get asmArgs(){return this.delegateInstance.asmArgs}clone(e){this.syncStateProps();let r=["from","to","_signer","_provider"].concat(e?.refCloneProps||[]),n=r.map(s=>this[s]);r.forEach(s=>this[s]=void 0);let i=(0,XSe.cloneDeep)(this);return r.forEach((s,u)=>i[s]=n[u]),r.forEach((s,u)=>this[s]=n[u]),i}next(e){let r=this.clone(e);return r.from=void 0,r.to=void 0,r.delegateInstance.isGenesis=!1,r.prependNOPScript(null),r}markAsGenesis(){return this.delegateInstance.isGenesis=!0,this}buildStateOutput(e){let r=this.getStateScript();return rn.Utils.buildOutput(r,e)}buildChangeOutput(){if(this.changeAmount>BigInt(0)){let e=rn.Utils.buildPublicKeyHashScript(this.changeAddress);return rn.Utils.buildOutput(e,this.changeAmount)}return(0,li.toByteString)("")}getStateScript(){let e=rn.VarIntWriter.writeBool(!1);return this.delegateInstance.stateProps.forEach(r=>{let n=this[r.name];(n instanceof li.HashedMap||n instanceof li.HashedSet)&&(n={_data:n.data()}),(0,it.flatternArg)(Object.assign({},r,{value:n}),this.delegateInstance.resolver,{state:!0,ignoreValue:!1}).forEach(i=>{["bytes","PubKey","Ripemd160","Sig","Sha1","SigHashPreimage","Sha256","SigHashType","OpCodeType"].includes(i.type)?e+=rn.VarIntWriter.writeBytes(i.value):i.type==="int"||i.type==="PrivKey"?e+=rn.VarIntWriter.writeInt(i.value):i.type==="bool"&&(e+=rn.VarIntWriter.writeBool(i.value))})}),this.codePart+rn.VarIntWriter.serializeState(e)}checkSig(e,r,n="signature check failed"){if(!this.checkSignatureEncoding(e)||!this.checkPubkeyEncoding(r))return!1;let i=!1;this._assertToExist();let s=I.Buffer.from(e,"hex"),u=I.Buffer.from((0,li.toByteString)(r),"hex");try{let o=it.bsv.crypto.Signature.fromTxFormat(s),a=it.bsv.PublicKey.fromBuffer(u,!1),l=this.to.tx,f=this.to.inputIndex||0,c=this.to.tx.inputs[f].output.satoshis,h=this.lockingScript.subScript(this._csNum-1);i=l.verifySignature(o,a,f,h,it.bsv.crypto.BN.fromNumber(c),it.DEFAULT_FLAGS)}catch{i=!1}if(!i&&s.length)throw new Error(n);return i}checkPreimageAdvanced(e,r,n,i,s,u,o){let a=(0,rn.hash256)((0,li.toByteString)(e)),l=rn.Tx.sign(rn.Tx.fromBEUnsigned(a),r,i,s,u,o);return this.checkSig(l,n)}checkPreimageSigHashType(e,r){return this.checkPreimageAdvanced(e,rn.Tx.privKey,rn.Tx.pubKey,rn.Tx.invK,rn.Tx.r,rn.Tx.rBigEndian,r)}checkPreimage(e){return this.checkPreimageAdvanced(e,rn.Tx.privKey,rn.Tx.pubKey,rn.Tx.invK,rn.Tx.r,rn.Tx.rBigEndian,rn.SigHash.ALL)}insertCodeSeparator(){this._csNum++}checkMultiSig(e,r){for(let o=0;o<e.length;o++)if(!this.checkSignatureEncoding(e[o]))return!1;for(let o=0;o<r.length;o++)if(!this.checkPubkeyEncoding(r[o]))return!1;this._assertToExist();let n=this.to.tx,i=this.to.inputIndex||0,s=this.to.tx.inputs[i].output.satoshis,u=new Set;for(let o=0;o<e.length;o++){let a=it.bsv.crypto.Signature.fromTxFormat(I.Buffer.from((0,li.toByteString)(e[o]),"hex")),l=!0;for(let f=0;f<r.length;f++){if(u.has(f))continue;u.add(f);let c=it.bsv.PublicKey.fromBuffer(I.Buffer.from((0,li.toByteString)(r[f]),"hex"),!1),h=this.lockingScript.subScript(this._csNum-1);try{if(n.verifySignature(a,c,i,h,it.bsv.crypto.BN.fromNumber(s),it.DEFAULT_FLAGS)){l=!1;break}}catch{continue}}if(l)return!1}return!0}timeLock(e){let r=!0;return r=this.ctx.sequence<4294967295,e<5e8&&(r=r&&this.ctx.locktime<5e8),r&&this.ctx.locktime>=e}get changeAmount(){return this._assertToExist(),BigInt(this.to.tx.getChangeAmount())}get prevouts(){return this._assertToExist(),this.sigTypeOfMethod(this._currentMethod)&it.bsv.crypto.Signature.SIGHASH_ANYONECANPAY?(0,li.toByteString)(""):this.to.tx.prevouts()}get changeAddress(){if(this._assertToExist(),!this.to.tx._changeAddress)throw new Error("No change output found on the transaction");return(0,it.PubKeyHash)(this.to.tx._changeAddress.toObject().hash)}checkPubkeyEncoding(e){return!((it.DEFAULT_FLAGS&it.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&!it.bsv.PublicKey.isValid((0,li.toByteString)(e)))}checkSignatureEncoding(e){var r=I.Buffer.from((0,li.toByteString)(e),"hex"),n;if(r.length===0)return!0;if((it.DEFAULT_FLAGS&(it.bsv.Script.Interpreter.SCRIPT_VERIFY_DERSIG|it.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S|it.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC))!==0&&!it.bsv.crypto.Signature.isTxDER(r))return!1;if((it.DEFAULT_FLAGS&it.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S)!==0){if(n=it.bsv.crypto.Signature.fromTxFormat(r),!n.hasLowS())return!1}else if((it.DEFAULT_FLAGS&it.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&(n=it.bsv.crypto.Signature.fromTxFormat(r),!n.hasDefinedHashtype()||!(it.DEFAULT_FLAGS&it.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID)&&n.nhashtype&it.bsv.crypto.Signature.SIGHASH_FORKID||it.DEFAULT_FLAGS&it.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID&&!(n.nhashtype&it.bsv.crypto.Signature.SIGHASH_FORKID)))return!1;return!0}hasPrevouts(e){let r=this.getDelegateClazz().abi.find(n=>n.name===e);if(!r)throw new Error(`contract ${this.constructor.name} doesnot have method ${e}`);return r.params.findIndex(n=>n.name==="__scrypt_ts_prevouts"&&n.type==="bytes")>-1}callDelegatedMethod(e,...r){let n=this.getDelegateClazz().abi.find(f=>f.name===e);if(!n)return;this._currentMethod=e;let i=n.params.slice(0,r.length),s=n.params.slice(r.length),u=new Map,o,a,l=new Map;return s.forEach((f,c)=>{if(f.name==="__scrypt_ts_txPreimage"&&f.type==="SigHashPreimage"){this._assertToExist();let h=this.sigTypeOfMethod(e);o=(0,li.SigHashPreimage)(this.to.tx.getPreimage(this.to.inputIndex,h)),u.set(f.name,o)}if(f.name==="__scrypt_ts_changeAmount"&&f.type==="int"&&u.set(f.name,this.changeAmount),f.name==="__scrypt_ts_changeAddress"&&f.type==="Ripemd160"&&u.set(f.name,this.changeAddress),f.name.startsWith("__scrypt_ts_accessPathForProp__")&&f.type==="bytes"){let h=f.name.replace("__scrypt_ts_accessPathForProp__",""),d=this[h];if(!(0,li.instanceOfSIATraceable)(d))throw new Error(`Internel error: traceable object \`${h}\` not found`);d.startTracing();let p=i.length+c;l.set(p,()=>(d.stopTracing(),d.serializedAccessPath())),u.set(f.name,(0,ZSe.randomBytes)(2*30).toString("hex"))}f.name==="__scrypt_ts_prevouts"&&f.type==="bytes"&&(a=this.prevouts,u.set(f.name,a))}),r.push(...s.map(f=>{let c=u.get(f.name);if(c===void 0)throw new Error(`missing auto-filled value for argument ${f.name}`);return c})),{publicMethodCall:this.encodeMethodCall(e,r),txPreimage:o,prevouts:a,traceableArgCallbacks:l,abi:n}}encodeMethodCall(e,r){return this.getDelegateClazz().prototype[e].call(this.delegateInstance,...r)}setCtx(e){let r=rn.SigHash.outpoint(e);this._ctx={version:rn.SigHash.nVersion(e),utxo:{value:rn.SigHash.value(e),script:rn.SigHash.scriptCode(e),outpoint:{txid:r.slice(0,32*2),outputIndex:rn.Utils.fromLEUnsigned(r.slice(32*2))}},hashPrevouts:rn.SigHash.hashPrevouts(e),hashSequence:rn.SigHash.hashSequence(e),sequence:rn.SigHash.nSequence(e),hashOutputs:rn.SigHash.hashOutputs(e),locktime:rn.SigHash.nLocktime(e),sigHashType:rn.SigHash.sigHashType(e),serialize(){return e}}}clearCtx(){this._ctx=void 0}setDataPartInASM(e){this.delegateInstance.setDataPartInASM(e)}setDataPartInHex(e){this.delegateInstance.setDataPartInHex(e)}get dataPart(){return this.delegateInstance.dataPart}buildEntryMethodCall(e){this.entryMethodCall=void 0,this.enableUpdateEMC=!0;let r=(()=>{if(!this.entryMethodCall)throw new Error("a contract public method should be called on the `self` parameter within the `callPub` function");let i=this.entryMethodCall;return this.entryMethodCall=void 0,this.enableUpdateEMC=!1,i}).bind(this),n=e(this);return n instanceof Promise?n.then(()=>r()):r()}_assertToExist(){if(!this.to)throw new Error("`this.to` is undefined, it should be set properly before calling the method")}_assertFromExist(){if(!this.from)throw new Error("`this.from` is undefined, it should be set properly before calling the method")}connect(e){return ga(this,void 0,void 0,function*(){if(!(yield e.isAuthenticated()))throw new Error("the signer is unauthenticated");this._signer=e,this._provider=e.provider})}setProvider(e){this._provider=e}get signer(){if(!this._signer)throw new Error("No signer found!");return this._signer}get provider(){if(!this._provider)throw new Error("No provider found!");return this._provider}buildDeployTransaction(e,r,n){return ga(this,void 0,void 0,function*(){let i=new it.bsv.Transaction().from(e).addOutput(new it.bsv.Transaction.Output({script:this.lockingScript,satoshis:r}));return i.change(n),i.feePerKb(yield this.provider.getFeePerKb()),i})}deploy(e=1,r){return ga(this,void 0,void 0,function*(){this.markAsGenesis();let n=r?.changeAddress||(yield this.signer.getDefaultAddress()),i=yield this.buildDeployTransaction(r?.utxos||[],e,n),s=r?.address||(yield this.signer.getDefaultAddress()),u=yield this.provider.getFeePerKb();yield Yp.autoPayfee(i,u,this.signer,s);let o=yield this.signer.signAndsendTransaction(i,{address:s});return this.from={tx:o,outputIndex:0},o})}_prepareArgsForMethodCall(e,...r){let n=this.getDelegateClazz().abi.find(l=>l.name===e);if(!n)throw new Error(`\`${this.constructor.name}.${e}\` no exists!`);let i=this.getMethodsMeta(e).argLength;if(r.length!=i&&r.length!=i+1)throw new Error(`argument count mismatch while calling \`this.methods.${e}\`. Expected ${i} or ${i+1} (if passing \`MethodCallOptions\`), but got ${r.length}`);let s=r.slice(0,i),u=r[i],o={verify:!1,partiallySigned:!1,exec:!0,autoPayFee:!0,multiContractCall:!1,next:[]};if(u){if(typeof u!="object")throw new Error(`The last argument is expected to be an object of type \`MethodCallOptions\`. Got \`${typeof u}' instead.`);Object.assign(o,u)}let a=s.reduce((l,f,c)=>{let d=n.params[c].type.match(/^Sig(\[(\d+)\])?$/),p=typeof f;if(d){let m=d[2]||"1";if(p!=="function")throw new Error("a callback function of type `(sigResponses: SignatureResponse[]) => Sig | Sig[] ` should be given for the Sig type argument");l.set(c,{callback:f,length:parseInt(m)})}else if(p==="function")throw new Error("a callback function given for the non-Sig type argument is not allowed");return l},new Map);return{methodArgs:s,methodCallOptions:o,sigArgs:a}}call(e,...r){return ga(this,void 0,void 0,function*(){this._csNum=0;let{methodArgs:n,methodCallOptions:i,sigArgs:s}=this._prepareArgsForMethodCall(e,...r);return i.multiContractCall===!0?this.multiContractCall(e,i,n,s):this.singleContractCall(e,i,n,s)})}singleContractCall(e,r,n,i){return ga(this,void 0,void 0,function*(){let s=yield this.signer.getDefaultAddress(),u=yield this.provider.getFeePerKb(),o=this.getTxBuilder(e);if(!o)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let a=n.map((d,p)=>{let m=i.get(p);return m?m.length>1?new Array(m.length).fill((0,Xd.getDummySig)()):(0,Xd.getDummySig)():d});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let l=r.autoPayFee===void 0||r.autoPayFee===!0,{tx:f,atInputIndex:c,nexts:h}=yield o.call(null,this,r,...a);if(f.feePerKb(u),this.to={tx:f,inputIndex:c},this.dummySignSingleCallTx(f,c,e,...a),l){let d=this.hasPrevouts(e);yield Yp.autoPayfee(f,u,this.signer,s,d?36:0),d&&(this.dummySignSingleCallTx(f,c,e,...a),f._feePerKb=u,Object.getPrototypeOf(f)._updateChangeOutput.apply(f))}if(yield this.signSingleCallTx(f,c,s,r,e,n,i),this.to={tx:f,inputIndex:c},h&&h.forEach(d=>{d.instance.from={tx:f,outputIndex:d.atOutputIndex}}),!r.partiallySigned){if(r.verify||process.env.NETWORK==="local"){let d=f.verify();if(typeof d=="string")throw new Error(`Transaction verify failed: ${d}`)}yield this.provider.sendTransaction(f)}return{tx:f,atInputIndex:c,nexts:h,next:Array.isArray(h)?h[0]:void 0}})}multiContractCall(e,r,n,i){return ga(this,void 0,void 0,function*(){let s=this.getTxBuilder(e);if(!s)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let u=n.map((f,c)=>{let h=i.get(c);return h?h.length>1?new Array(h.length).fill((0,Xd.getDummySig)()):(0,Xd.getDummySig)():f});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let{tx:o,atInputIndex:a,nexts:l}=yield s.call(null,this,r,...u);return this.to={tx:o,inputIndex:a},l&&l.forEach(f=>{f.instance.from={tx:o,outputIndex:f.atOutputIndex}}),Object.prototype.hasOwnProperty.call(o,"calllogs")?o.calllogs.push({instance:this,methodArgs:n,sigArgs:i,atInputIndex:a,nexts:l,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}):Object.defineProperty(o,"calllogs",{value:[{instance:this,methodArgs:n,sigArgs:i,atInputIndex:a,nexts:l,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}],writable:!1}),{tx:o,atInputIndex:a,nexts:l,next:Array.isArray(l)?l[0]:void 0}})}signSingleCallTx(e,r,n,i,s,u,o){return ga(this,void 0,void 0,function*(){let a=this.provider.getNetwork(),l=e.inputs.flatMap((c,h)=>{if(!(!i.autoPayFee&&h!==r)){if(h===r)return(i.pubKeyOrAddrToSign?(0,JX.parseSignatureOption)(i.pubKeyOrAddrToSign,a):[{address:n,sigHashType:it.DEFAULT_SIGHASH_TYPE}]).map(p=>({prevTxId:(0,it.toHex)(c.prevTxId),outputIndex:c.outputIndex,inputIndex:h,satoshis:c.output.satoshis,scriptHex:c.output.script.toHex(),address:p.address,sigHashType:p.sigHashType,csIdx:p.csIdx,data:p.data}));{let d=c.output.script.isPublicKeyHashOut()?it.bsv.Address.fromPublicKeyHash(c.output.script.getPublicKeyHash(),a):n;return{prevTxId:(0,it.toHex)(c.prevTxId),outputIndex:c.outputIndex,inputIndex:h,satoshis:c.output.satoshis,scriptHex:c.output.script.toHex(),address:d,sigHashType:it.DEFAULT_SIGHASH_TYPE,csIdx:void 0}}}}).filter(c=>c!==void 0);(yield this.signer.getSignatures(e.toString(),l)).reduce((c,h)=>{let d=h.inputIndex,p=c.get(d)||[];return p.push(h),c.set(d,p),c},new Map).forEach((c,h)=>{if(h===r){let d=u.map((p,m)=>{let w=o.get(m);if(!w)return p;let x=y=>{if(typeof y!="string")throw new Error(`the ${m+1}th argument calback function should returns a valid \`Sig\``)},_=w.callback.call(this,c)||"";if(_ instanceof Array){if(_.length!==w.length)throw new Error(`the ${m+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${w.length}, but got ${_.length}`);_.forEach(y=>x(y))}else x(_);return _});if(i.exec){let p=this.getUnlockingScript(m=>{m[s](...d)});e.inputs[r].setScript(p)}else{let{publicMethodCall:p}=this.callDelegatedMethod(s,...d);e.inputs[r].setScript(p.toScript())}}else i.autoPayFee&&c.forEach(d=>{e.applySignature({inputIndex:d.inputIndex,sigtype:d.sigHashType||it.DEFAULT_SIGHASH_TYPE,publicKey:it.bsv.PublicKey.fromString(d.publicKey),signature:it.bsv.crypto.Signature.fromTxFormat(I.Buffer.from(d.sig,"hex"))})})})})}dummySignSingleCallTx(e,r,n,...i){e.inputs.forEach((s,u)=>{if(u===r){let{publicMethodCall:o}=this.callDelegatedMethod(n,...i);s.setScript(o.toScript())}})}get methods(){let e=this;return this.getDelegateClazz().abi.filter(n=>n.type==="function").map(n=>n.name).reduce((n,i)=>(n[i]=(...s)=>e.call(i,...s),n),{})}getTxBuilder(e){if(!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and do not have any bounded \`txBuilder\``);if(this._txBuilders.has(e))return this._txBuilders.get(e);let n=Object.getOwnPropertyNames(this.constructor).filter(i=>typeof this.constructor[i]=="function").find(i=>i===`buildTxFor${(0,Zy.camelCaseCapitalized)(e)}`);return n?this.constructor[n]:this.getDefaultTxBuilder(e)}getDefaultTxBuilder(e){return Yp.defaultCallTxBuilder(this.getMethodsMeta(e).sigHashType)}bindTxBuilder(e,r){if(this.getDelegateClazz()||(0,tw.throwUnInitializing)(this.constructor.name),!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and cat not set bounded \`txBuilder\``);this._txBuilders.set(e,r)}static defaultCallTxBuilder(e){return function(r,n,...i){return ga(this,void 0,void 0,function*(){let s=yield r.signer.getDefaultAddress(),u=new it.bsv.Transaction().addInput(r.buildContractInput(n.fromUTXO)),o;if(o=Array.from([n.next||[]]).flat().map((l,f)=>(u.addOutput(new it.bsv.Transaction.Output({script:l.instance.lockingScript,satoshis:l.balance})),Object.assign({},l,{atOutputIndex:f}))),u.change(n.changeAddress||s),n.sequence!==void 0&&u.setInputSequence(0,n.sequence),n.lockTime){let l=n.sequence!==void 0?n.sequence:4294967294;u.setInputSequence(0,l),u.setLockTime(n.lockTime)}return Promise.resolve({tx:u,atInputIndex:0,nexts:o,next:Array.isArray(o)?o[0]:void 0})})}}buildContractInput(e){if(!e&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");if(e)return new it.bsv.Transaction.Input({prevTxId:e.txId,outputIndex:e.outputIndex,script:new it.bsv.Script(""),output:new it.bsv.Transaction.Output({script:this.lockingScript,satoshis:e.satoshis})});if("tx"in this.from)return new it.bsv.Transaction.Input({prevTxId:this.from.tx.id,outputIndex:this.from.outputIndex,script:new it.bsv.Script(""),output:new it.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})});{let r=this.from;return new it.bsv.Transaction.Input({prevTxId:r.txId,outputIndex:r.outputIndex,script:new it.bsv.Script(""),output:new it.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})})}}isStateful(){return Reflect.getOwnMetadata(kk.StatePropsMetaKey,this.constructor.prototype)!==void 0}sigTypeOfMethod(e){let r=this.getMethodsMeta(e);if(!r)throw new Error(`${e} is not a public @method of ${this.constructor.name}`);return(0,Xd.toNumber)(r.sigHashType)}getMethodsMeta(e){return Reflect.getOwnMetadata(kk.MethodsMetaKey,this.constructor.prototype).get(e)}diffOutputs(e){this._assertToExist();try{let r=(0,ew.diffOutputs)(this.delegateInstance,(0,ew.getExpectedOutputs)(e),(0,ew.getTransationOutputs)(this.to.tx,this.to.inputIndex,this.sigTypeOfMethod(this._currentMethod)));console.info(r)}catch(r){throw new Error(`diffOutputs failed, error: ${r.message}`)}}get debug(){let e=this;return{diffOutputs:r=>{e.diffOutputs(r)},genLaunchConfig:()=>{this.to?console.log(e.delegateInstance.genLaunchConfig({tx:e.to.tx,inputIndex:e.to.inputIndex,inputSatoshis:e.to.tx.getInputAmount(e.to.inputIndex)})):console.log(e.delegateInstance.genLaunchConfig())}}}get balance(){return this._assertFromExist(),"tx"in this.from?this.from.tx.outputs[this.from.outputIndex].satoshis:this.from.satoshis}get utxo(){return this._assertFromExist(),"tx"in this.from?{txId:this.from.tx.id,outputIndex:this.from.outputIndex,script:this.from.tx.outputs[this.from.outputIndex].script.toHex(),satoshis:this.from.tx.outputs[this.from.outputIndex].satoshis}:this.from}get ctx(){if(!this._ctx)throw new Error("`this.ctx` is undefined, `to` should be called before to access its value!");return this._ctx}static fromLockingScript(e,r,n){this.DelegateClazz||(0,tw.throwUnInitializing)(this.name);let i;if(n){if(!e.startsWith(n.toHex()))throw new Error("script doesn't start with nopScript");let l=e.slice(n.toHex().length);i=this.DelegateClazz.fromHex(l)}else i=this.DelegateClazz.fromHex(e);let s=i.ctorArgs().map(l=>l.type.startsWith("HashedMap")?new li.HashedMap:l.type.startsWith("HashedSet")?new li.HashedSet:l.value),u=new this(...s);u.delegateInstance=i,u.prependNOPScript(n||null);let o=Reflect.getMetadata(kk.PropsMetaKey,u)||[],a=i.stateProps.map(l=>l.name)||[];return o.forEach(l=>{let f=i.isGenesis;if(u[l]instanceof li.HashedMap||u[l]instanceof li.HashedSet){if(r===void 0||r[l]===void 0)throw new Error(`should pass the currrent value of \`${l}\``);if(u[l]instanceof li.HashedMap&&!(r[l]instanceof li.HashedMap))throw new Error(`\`offchainValues.${l}\` should be a HashedMap`);if(u[l]instanceof li.HashedSet&&!(r[l]instanceof li.HashedSet))throw new Error(`\`offchainValues.${l}\` should be a HashedSet`);if(r[l].attachTo(u[l]._type,this.DelegateClazz),a.includes(l)&&!f&&i[l]._data!==r[l].data())throw new Error(`the current value of \`${l}\` passed in does not match the state in the script`);u[l]=r[l]}else a.includes(l)&&!f&&(u[l]=i[l])}),Object.getOwnPropertyNames(r||{}).filter(l=>!o.includes(l)).forEach(l=>u[l]=r[l]),u}static fromTx(e,r,n,i){if(r<0||r>=e.outputs.length)throw new Error(`the value of \`atOutputIndex\` is out of range [0, ${e.outputs.length})`);let s=this.fromLockingScript(e.outputs[r].script.toHex(),n,i);return s.from={tx:e,outputIndex:r},s}static fromUTXO(e,r,n){let i=this.fromLockingScript(e.script,r,n);return i.from=e,i}static dummySignMultiCallTx(e,r){let n=r.map(i=>i.instance);e.inputs.forEach((i,s)=>{if(n[s]){let u=r[s].methodArgs.map((a,l)=>{let f=r[s].sigArgs.get(l);return f?f.length>1?new Array(f.length).fill((0,Xd.getDummySig)()):(0,Xd.getDummySig)():a}),{publicMethodCall:o}=n[s].callDelegatedMethod(r[s].methodName,...u);i.setScript(o.toScript())}})}static signMultiCallTx(e,r,n,i){return ga(this,void 0,void 0,function*(){let s=n.map(d=>d.instance),u=yield e.getDefaultAddress(),o=e.provider.getNetwork(),a=r.inputs.map((d,p)=>({input:d,inputIndex:p,instance:s[p],calllog:n[p]})).filter(d=>d.instance instanceof Yp),l=[];for(let d of a){let{input:p,calllog:m,instance:w,inputIndex:x}=d,_=m.pubKeyOrAddrToSign,S=(_?(0,JX.parseSignatureOption)(_,o):[{address:u,sigHashType:it.DEFAULT_SIGHASH_TYPE}]).map(N=>({prevTxId:(0,it.toHex)(p.prevTxId),outputIndex:p.outputIndex,inputIndex:x,satoshis:p.output.satoshis,scriptHex:p.output.script.toHex(),address:N.address,sigHashType:N.sigHashType,csIdx:N.csIdx,data:N.data})),F=[];m.sigArgs.size>0&&(F=yield w.signer.getSignatures(r.toString(),S)),l.push({unlockingScript:this.handleSigResponses(F,w,m,x),inputIndex:d.inputIndex})}if(l.forEach(d=>{r.inputs[d.inputIndex].setScript(d.unlockingScript)}),!i.autoPayFee)return;let c=r.inputs.map((d,p)=>({input:d,inputIndex:p})).filter(d=>typeof s[d.inputIndex]>"u").map(d=>{let{input:p,inputIndex:m}=d;return{prevTxId:(0,it.toHex)(p.prevTxId),outputIndex:p.outputIndex,inputIndex:m,satoshis:p.output.satoshis,scriptHex:p.output.script.toHex(),address:u,sigHashType:it.DEFAULT_SIGHASH_TYPE,csIdx:void 0}});(yield e.getSignatures(r.toString(),c)).forEach(d=>{r.applySignature({inputIndex:d.inputIndex,sigtype:d.sigHashType||it.DEFAULT_SIGHASH_TYPE,publicKey:it.bsv.PublicKey.fromString(d.publicKey),signature:it.bsv.crypto.Signature.fromTxFormat(I.Buffer.from(d.sig,"hex"))})})})}static handleSigResponses(e,r,n,i){let s=e.reduce((a,l)=>{let f=l.inputIndex,c=a.get(f)||[];return c.push(l),a.set(f,c),a},new Map),u=n.methodArgs.map((a,l)=>{let f=n.sigArgs.get(l);if(!f)return a;let c=d=>{if(typeof d!="string")throw new Error(`the ${l+1}th argument calback function should returns a valid \`Sig\``)},h=f.callback.call(this,s.get(i)||[])||"";if(h instanceof Array){if(h.length!==f.length)throw new Error(`the ${l+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${f.length}, but got ${h.length}`);h.forEach(d=>c(d))}else c(h);return h});n.exec&&r.getUnlockingScript(a=>{a[n.methodName](...u)});let{publicMethodCall:o}=r.callDelegatedMethod(n.methodName,...u);return o.toScript()}static multiContractCall(e,r,n){return ga(this,void 0,void 0,function*(){n=Object.assign({},{verify:!1,partiallySigned:!1,autoPayFee:!0},n);let i=e.tx,s=i.calllogs||[];if(i.inputs.length<s.length)throw new Error("Check if all called contracts are added as inputs to the transaction");let u=n.autoPayFee,o=yield r.getDefaultAddress(),a=yield r.provider.getFeePerKb();if(i.feePerKb(a),this.dummySignMultiCallTx(i,s),u){let f=s.find(c=>c.instance.hasPrevouts(c.methodName))!==void 0;yield this.autoPayfee(i,a,r,o,f?36*s.length:0),f&&(this.dummySignMultiCallTx(i,s),i._feePerKb=a,Object.getPrototypeOf(i)._updateChangeOutput.apply(i))}if(yield this.signMultiCallTx(r,i,s,n),!n.partiallySigned){if(n.verify||process.env.NETWORK==="local"){let l=i.verify();if(typeof l=="string")throw new Error(`Transaction verify failed: ${l}`)}yield r.provider.sendTransaction(i)}return{tx:i,atInputIndices:s.map(l=>l.atInputIndex),nexts:(0,ew.mergeNexts)(s)}})}static parseCallData(e,r){this.DelegateClazz||(0,tw.throwUnInitializing)(this.name);let n=e.inputs[r].script,i=this.DelegateClazz.abiCoder.parseCallData(n.toHex());return Object.assign(Object.assign({},i),{args:i.args.filter(s=>!s.name.startsWith("__scrypt_ts"))})}static autoPayfee(e,r,n,i,s=0){return ga(this,void 0,void 0,function*(){if(e.outputs.length>0&&(0,Zy.checkTxFee)(e,r))return;let u=e.getEstimateSize(),o=e.inputAmount,a=e.outputAmount;e.getChangeOutput()===null&&e.getChangeAddress()!==null&&(u+=34,a+=1);let l=yield n.listUnspent(i,{unspentValue:o-a,estimateSize:u,feePerKb:r,additional:s});if(e.from(l),!(0,Zy.checkTxFee)(e,r))throw new Error(`no sufficient utxos to pay the fee ${Math.ceil(u/1e3*r)}`)})}prependNOPScript(e){this.delegateInstance.prependNOPScript(e)}getPrependNOPScript(){return this.delegateInstance.getPrependNOPScript()}getOffchainUpdates(){return null}};r0.SmartContract=Yp});var b9=$(iu=>{"use strict";B();k();Object.defineProperty(iu,"__esModule",{value:!0});iu.prop=iu.PropsMetaKey=iu.StatePropsMetaKey=iu.method=iu.MethodsMetaKey=void 0;var Qy=s7(),JSe=Mr(),QSe=Jy(),e_e=Y_();iu.MethodsMetaKey="scrypt:methods";function t_e(t=Qy.SigHash.ALL){return function(e,r,n){let i=n.value,s=Reflect.getOwnMetadata(iu.MethodsMetaKey,e)||new Map;return s.set(r,{argLength:i.length,sigHashType:t}),Reflect.defineMetadata(iu.MethodsMetaKey,s,e),{configurable:!0,enumerable:!1,get(){return(...a)=>{if(typeof e=="function")return i.apply(this,a);if(this instanceof e_e.SmartContractLib)return i.apply(this,a);if(this instanceof QSe.SmartContract){let h=this.callDelegatedMethod(r,...a);if(h){let{publicMethodCall:d,txPreimage:p,traceableArgCallbacks:m,abi:w,prevouts:x}=h;p&&(this.setCtx(p),w.params.find(S=>S.type==="SigHashPreimage"&&S.name==="__scrypt_ts_txPreimage")&&(0,Qy.assert)(this.checkPreimageSigHashType(p,t),"checkPreimage failed!")),a=d.args.map(S=>S.value);let _=a.map(S=>(0,JSe.cloneDeep)(S));this._currentMethod=r,x&&p&&w.params.find(S=>S.type==="bytes"&&S.name==="__scrypt_ts_prevouts")&&(0,Qy.assert)((0,Qy.hash256)(x)===Qy.SigHash.hashPrevouts(p),"check prevouts failed!");let y=i.apply(this,a);if(this._currentMethod=void 0,p&&this.clearCtx(),this.enableUpdateEMC&&!this.entryMethodCall){let S=_.map((F,N)=>{let H=m.get(N);return H?H():F});this.entryMethodCall=this.encodeMethodCall(r,S)}return y}return i.apply(this,a)}throw new Error(`@method decorator used on \`${this.name||this.constructor.name}#${r}\`, it should only be used in subclasses of \`SmartContract\` or \`SmartContractLib\``)}}}}}iu.method=t_e;iu.StatePropsMetaKey="scrypt:stateProps";iu.PropsMetaKey="scrypt:props";function r_e(t=!1){return function(e,r){if(t){let i=(Reflect.getMetadata(iu.StatePropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(iu.StatePropsMetaKey,i,e)}let n=(Reflect.getMetadata(iu.PropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(iu.PropsMetaKey,n,e)}}iu.prop=r_e});var rZ=$(Xp=>{"use strict";B();k();var eZ=Xp&&Xp.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},rw=Xp&&Xp.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.P2PKH=void 0;var g9=mr(),n_e=Jy(),tZ=b9(),Ck=s7(),pft=Vp(),m9=class extends n_e.SmartContract{constructor(e){super(...arguments),this.addr=e}unlock(e,r){(0,Ck.assert)((0,Ck.pubKey2Addr)(r)==this.addr,"public key hashes are not equal"),(0,Ck.assert)(this.checkSig(e,r),"signature check failed")}get lockingScript(){return new g9.bsv.Script("").add(g9.bsv.Opcode.OP_DUP).add(g9.bsv.Opcode.OP_HASH160).add(g9.bsv.Script.fromASM(this.addr)).add(g9.bsv.Opcode.OP_EQUALVERIFY).add(g9.bsv.Opcode.OP_CHECKSIG)}};Xp.P2PKH=m9;eZ([(0,tZ.prop)(),rw("design:type",String)],m9.prototype,"addr",void 0);eZ([(0,tZ.method)(),rw("design:type",Function),rw("design:paramtypes",[String,String]),rw("design:returntype",void 0)],m9.prototype,"unlock",null);var i_e={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PKH",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"},{name:"pubkey",type:"PubKey"}]},{type:"constructor",params:[{name:"addr",type:"Ripemd160"}]}],stateProps:[],buildType:"release",file:"",hex:"76a9<addr>88ac",sourceMapFile:""};m9.loadArtifact(i_e)});var sZ=$(Zp=>{"use strict";B();k();var nZ=Zp&&Zp.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},nw=Zp&&Zp.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.P2PK=void 0;var Fk=mr(),s_e=Jy(),iZ=b9(),u_e=s7(),yft=Vp(),y9=class extends s_e.SmartContract{constructor(e){super(...arguments),this.pubKey=e}unlock(e){(0,u_e.assert)(this.checkSig(e,this.pubKey),"signature check failed")}get lockingScript(){return new Fk.bsv.Script("").add(Fk.bsv.Script.fromASM(this.pubKey)).add(Fk.bsv.Opcode.OP_CHECKSIG)}};Zp.P2PK=y9;nZ([(0,iZ.prop)(),nw("design:type",String)],y9.prototype,"pubKey",void 0);nZ([(0,iZ.method)(),nw("design:type",Function),nw("design:paramtypes",[String]),nw("design:returntype",void 0)],y9.prototype,"unlock",null);var o_e={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PK",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"}]},{type:"constructor",params:[{name:"pubKey",type:"PubKey"}]}],stateProps:[],buildType:"release",file:"",hex:"<pubKey>ac",sourceMapFile:""};y9.loadArtifact(o_e)});var oZ=$(iw=>{"use strict";B();k();Object.defineProperty(iw,"__esModule",{value:!0});iw.bsv=void 0;var uZ=mr();Object.defineProperty(iw,"bsv",{enumerable:!0,get:function(){return uZ.bsv}});uZ.bsv.PrivateKey.prototype.toByteString=function(){return this.toHex()}});var cZ=$(sw=>{"use strict";B();k();Object.defineProperty(sw,"__esModule",{value:!0});sw.bsv=void 0;var aZ=mr();Object.defineProperty(sw,"bsv",{enumerable:!0,get:function(){return aZ.bsv}});aZ.bsv.PublicKey.prototype.toByteString=function(){return this.toHex()}});var lZ=$(uw=>{"use strict";B();k();Object.defineProperty(uw,"__esModule",{value:!0});uw.bsv=void 0;var fZ=mr();Object.defineProperty(uw,"bsv",{enumerable:!0,get:function(){return fZ.bsv}});fZ.bsv.Address.prototype.toByteString=function(){return this.toHex().slice(2)}});var Mk=$(Zd=>{"use strict";B();k();var a_e=Zd&&Zd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rk=Zd&&Zd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&a_e(e,t,r)};Object.defineProperty(Zd,"__esModule",{value:!0});Rk(oZ(),Zd);Rk(cZ(),Zd);Rk(lZ(),Zd)});var dZ=$(ow=>{"use strict";B();k();Object.defineProperty(ow,"__esModule",{value:!0});ow.SignatureHashType=void 0;var c_e=jd();Object.defineProperty(ow,"SignatureHashType",{enumerable:!0,get:function(){return c_e.SignatureHashType}})});var pZ=$(hZ=>{"use strict";B();k();Object.defineProperty(hZ,"__esModule",{value:!0})});var bZ=$(u7=>{"use strict";B();k();var f_e=u7&&u7.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),l_e=u7&&u7.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&f_e(e,t,r)};Object.defineProperty(u7,"__esModule",{value:!0});l_e(pZ(),u7)});var gZ=$((jft,Nk)=>{B();k();typeof Nk<"u"&&(Nk.exports=Za);function Za(t){if(t)return d_e(t)}function d_e(t){for(var e in Za.prototype)t[e]=Za.prototype[e];return t}Za.prototype.on=Za.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Za.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Za.prototype.off=Za.prototype.removeListener=Za.prototype.removeAllListeners=Za.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Za.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Za.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Za.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var wZ=$((Vft,_Z)=>{B();k();_Z.exports=e4;e4.default=e4;e4.stable=vZ;e4.stableStringify=vZ;var aw="[...]",mZ="[Circular]",a7=[],o7=[];function yZ(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function e4(t,e,r,n){typeof n>"u"&&(n=yZ()),Dk(t,"",0,[],void 0,0,n);var i;try{o7.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,SZ(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;a7.length!==0;){var s=a7.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function v9(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),a7.push([n,r,e,i])):o7.push([e,r,t]):(n[r]=t,a7.push([n,r,e]))}function Dk(t,e,r,n,i,s,u){s+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<n.length;o++)if(n[o]===t){v9(mZ,t,e,i);return}if(typeof u.depthLimit<"u"&&s>u.depthLimit){v9(aw,t,e,i);return}if(typeof u.edgesLimit<"u"&&r+1>u.edgesLimit){v9(aw,t,e,i);return}if(n.push(t),Array.isArray(t))for(o=0;o<t.length;o++)Dk(t[o],o,o,n,t,s,u);else{var a=Object.keys(t);for(o=0;o<a.length;o++){var l=a[o];Dk(t[l],l,o,n,t,s,u)}}n.pop()}}function h_e(t,e){return t<e?-1:t>e?1:0}function vZ(t,e,r,n){typeof n>"u"&&(n=yZ());var i=Hk(t,"",0,[],void 0,0,n)||t,s;try{o7.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,SZ(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;a7.length!==0;){var u=a7.pop();u.length===4?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function Hk(t,e,r,n,i,s,u){s+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<n.length;o++)if(n[o]===t){v9(mZ,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof u.depthLimit<"u"&&s>u.depthLimit){v9(aw,t,e,i);return}if(typeof u.edgesLimit<"u"&&r+1>u.edgesLimit){v9(aw,t,e,i);return}if(n.push(t),Array.isArray(t))for(o=0;o<t.length;o++)Hk(t[o],o,o,n,t,s,u);else{var a={},l=Object.keys(t).sort(h_e);for(o=0;o<l.length;o++){var f=l[o];Hk(t[f],f,o,n,t,s,u),a[f]=t[f]}if(typeof i<"u")a7.push([i,e,t]),i[e]=a;else return a}n.pop()}}function SZ(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(o7.length>0)for(var n=0;n<o7.length;n++){var i=o7[n];if(i[1]===e&&i[0]===r){r=i[2],o7.splice(n,1);break}}return t.call(this,e,r)}}});var AZ=$((Yft,EZ)=>{"use strict";B();k();EZ.exports=Error});var xZ=$((Jft,TZ)=>{"use strict";B();k();TZ.exports=EvalError});var PZ=$((tlt,IZ)=>{"use strict";B();k();IZ.exports=RangeError});var BZ=$((ilt,OZ)=>{"use strict";B();k();OZ.exports=ReferenceError});var Lk=$((olt,kZ)=>{"use strict";B();k();kZ.exports=SyntaxError});var S9=$((flt,CZ)=>{"use strict";B();k();CZ.exports=TypeError});var RZ=$((hlt,FZ)=>{"use strict";B();k();FZ.exports=URIError});var NZ=$((glt,MZ)=>{"use strict";B();k();MZ.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==i||u.enumerable!==!0)return!1}return!0}});var Uk=$((vlt,HZ)=>{"use strict";B();k();var DZ=typeof Symbol<"u"&&Symbol,p_e=NZ();HZ.exports=function(){return typeof DZ!="function"||typeof Symbol!="function"||typeof DZ("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:p_e()}});var $Z=$((wlt,UZ)=>{"use strict";B();k();var LZ={foo:{}},b_e=Object;UZ.exports=function(){return{__proto__:LZ}.foo===LZ.foo&&!({__proto__:null}instanceof b_e)}});var KZ=$((Tlt,jZ)=>{"use strict";B();k();var g_e="Function.prototype.bind called on incompatible ",m_e=Object.prototype.toString,y_e=Math.max,v_e="[object Function]",qZ=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},S_e=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},__e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};jZ.exports=function(e){var r=this;if(typeof r!="function"||m_e.apply(r)!==v_e)throw new TypeError(g_e+r);for(var n=S_e(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,qZ(n,arguments));return Object(f)===f?f:this}return r.apply(e,qZ(n,arguments))},u=y_e(0,r.length-n.length),o=[],a=0;a<u;a++)o[a]="$"+a;if(i=Function("binder","return function ("+__e(o,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var VZ=$((Plt,zZ)=>{"use strict";B();k();var w_e=KZ();zZ.exports=Function.prototype.bind||w_e});var YZ=$((klt,WZ)=>{"use strict";B();k();var E_e="Function.prototype.bind called on incompatible ",A_e=Object.prototype.toString,T_e=Math.max,x_e="[object Function]",GZ=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},I_e=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},P_e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};WZ.exports=function(e){var r=this;if(typeof r!="function"||A_e.apply(r)!==x_e)throw new TypeError(E_e+r);for(var n=I_e(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,GZ(n,arguments));return Object(f)===f?f:this}return r.apply(e,GZ(n,arguments))},u=T_e(0,r.length-n.length),o=[],a=0;a<u;a++)o[a]="$"+a;if(i=Function("binder","return function ("+P_e(o,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var ZZ=$((Rlt,XZ)=>{"use strict";B();k();var O_e=YZ();XZ.exports=Function.prototype.bind||O_e});var QZ=$((Dlt,JZ)=>{"use strict";B();k();var B_e=Function.prototype.call,k_e=Object.prototype.hasOwnProperty,C_e=ZZ();JZ.exports=C_e.call(B_e,k_e)});var T9=$((Ult,iJ)=>{"use strict";B();k();var Hr,F_e=AZ(),R_e=xZ(),M_e=PZ(),N_e=BZ(),A9=Lk(),E9=S9(),D_e=RZ(),nJ=Function,$k=function(t){try{return nJ('"use strict"; return ('+t+").constructor;")()}catch{}},c7=Object.getOwnPropertyDescriptor;if(c7)try{c7({},"")}catch{c7=null}var qk=function(){throw new E9},H_e=c7?function(){try{return arguments.callee,qk}catch{try{return c7(arguments,"callee").get}catch{return qk}}}():qk,_9=Uk()(),L_e=$Z()(),su=Object.getPrototypeOf||(L_e?function(t){return t.__proto__}:null),w9={},U_e=typeof Uint8Array>"u"||!su?Hr:su(Uint8Array),f7={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Hr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Hr:ArrayBuffer,"%ArrayIteratorPrototype%":_9&&su?su([][Symbol.iterator]()):Hr,"%AsyncFromSyncIteratorPrototype%":Hr,"%AsyncFunction%":w9,"%AsyncGenerator%":w9,"%AsyncGeneratorFunction%":w9,"%AsyncIteratorPrototype%":w9,"%Atomics%":typeof Atomics>"u"?Hr:Atomics,"%BigInt%":typeof BigInt>"u"?Hr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Hr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Hr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Hr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":F_e,"%eval%":eval,"%EvalError%":R_e,"%Float32Array%":typeof Float32Array>"u"?Hr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Hr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Hr:FinalizationRegistry,"%Function%":nJ,"%GeneratorFunction%":w9,"%Int8Array%":typeof Int8Array>"u"?Hr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Hr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Hr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_9&&su?su(su([][Symbol.iterator]())):Hr,"%JSON%":typeof JSON=="object"?JSON:Hr,"%Map%":typeof Map>"u"?Hr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_9||!su?Hr:su(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Hr:Promise,"%Proxy%":typeof Proxy>"u"?Hr:Proxy,"%RangeError%":M_e,"%ReferenceError%":N_e,"%Reflect%":typeof Reflect>"u"?Hr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Hr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_9||!su?Hr:su(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Hr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_9&&su?su(""[Symbol.iterator]()):Hr,"%Symbol%":_9?Symbol:Hr,"%SyntaxError%":A9,"%ThrowTypeError%":H_e,"%TypedArray%":U_e,"%TypeError%":E9,"%Uint8Array%":typeof Uint8Array>"u"?Hr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Hr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Hr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Hr:Uint32Array,"%URIError%":D_e,"%WeakMap%":typeof WeakMap>"u"?Hr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Hr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Hr:WeakSet};if(su)try{null.error}catch(t){eJ=su(su(t)),f7["%Error.prototype%"]=eJ}var eJ,$_e=function t(e){var r;if(e==="%AsyncFunction%")r=$k("async function () {}");else if(e==="%GeneratorFunction%")r=$k("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=$k("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&su&&(r=su(i.prototype))}return f7[e]=r,r},tJ={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},t4=VZ(),cw=QZ(),q_e=t4.call(Function.call,Array.prototype.concat),j_e=t4.call(Function.apply,Array.prototype.splice),rJ=t4.call(Function.call,String.prototype.replace),fw=t4.call(Function.call,String.prototype.slice),K_e=t4.call(Function.call,RegExp.prototype.exec),z_e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V_e=/\\(\\)?/g,G_e=function(e){var r=fw(e,0,1),n=fw(e,-1);if(r==="%"&&n!=="%")throw new A9("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new A9("invalid intrinsic syntax, expected opening `%`");var i=[];return rJ(e,z_e,function(s,u,o,a){i[i.length]=o?rJ(a,V_e,"$1"):u||s}),i},W_e=function(e,r){var n=e,i;if(cw(tJ,n)&&(i=tJ[n],n="%"+i[0]+"%"),cw(f7,n)){var s=f7[n];if(s===w9&&(s=$_e(n)),typeof s>"u"&&!r)throw new E9("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new A9("intrinsic "+e+" does not exist!")};iJ.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new E9("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new E9('"allowMissing" argument must be a boolean');if(K_e(/^%?[^%]*%?$/,e)===null)throw new A9("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=G_e(e),i=n.length>0?n[0]:"",s=W_e("%"+i+"%",r),u=s.name,o=s.value,a=!1,l=s.alias;l&&(i=l[0],j_e(n,q_e([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=fw(h,0,1),p=fw(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new A9("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(a=!0),i+="."+h,u="%"+i+"%",cw(f7,u))o=f7[u];else if(o!=null){if(!(h in o)){if(!r)throw new E9("base intrinsic for "+e+" exists, but the property is not available.");return}if(c7&&f+1>=n.length){var m=c7(o,h);c=!!m,c&&"get"in m&&!("originalValue"in m.get)?o=m.get:o=o[h]}else c=cw(o,h),o=o[h];c&&!a&&(f7[u]=o)}}return o}});var oJ=$((jlt,uJ)=>{"use strict";B();k();var Y_e="Function.prototype.bind called on incompatible ",X_e=Object.prototype.toString,Z_e=Math.max,J_e="[object Function]",sJ=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Q_e=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},ewe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};uJ.exports=function(e){var r=this;if(typeof r!="function"||X_e.apply(r)!==J_e)throw new TypeError(Y_e+r);for(var n=Q_e(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,sJ(n,arguments));return Object(f)===f?f:this}return r.apply(e,sJ(n,arguments))},u=Z_e(0,r.length-n.length),o=[],a=0;a<u;a++)o[a]="$"+a;if(i=Function("binder","return function ("+ewe(o,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var cJ=$((Vlt,aJ)=>{"use strict";B();k();var twe=oJ();aJ.exports=Function.prototype.bind||twe});var dw=$((Ylt,fJ)=>{"use strict";B();k();var rwe=T9(),lw=rwe("%Object.defineProperty%",!0)||!1;if(lw)try{lw({},"a",{value:1})}catch{lw=!1}fJ.exports=lw});var dJ=$((Jlt,lJ)=>{"use strict";B();k();var nwe="Function.prototype.bind called on incompatible ",jk=Array.prototype.slice,iwe=Object.prototype.toString,swe="[object Function]";lJ.exports=function(e){var r=this;if(typeof r!="function"||iwe.call(r)!==swe)throw new TypeError(nwe+r);for(var n=jk.call(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,n.concat(jk.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(jk.call(arguments)))},u=Math.max(0,r.length-n.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var Kk=$((tdt,hJ)=>{"use strict";B();k();var uwe=dJ();hJ.exports=Function.prototype.bind||uwe});var bJ=$((idt,pJ)=>{"use strict";B();k();var owe=Kk();pJ.exports=owe.call(Function.call,Object.prototype.hasOwnProperty)});var _J=$((odt,SJ)=>{"use strict";B();k();var Lr,O9=SyntaxError,vJ=Function,P9=TypeError,zk=function(t){try{return vJ('"use strict"; return ('+t+").constructor;")()}catch{}},l7=Object.getOwnPropertyDescriptor;if(l7)try{l7({},"")}catch{l7=null}var Vk=function(){throw new P9},awe=l7?function(){try{return arguments.callee,Vk}catch{try{return l7(arguments,"callee").get}catch{return Vk}}}():Vk,x9=Uk()(),El=Object.getPrototypeOf||function(t){return t.__proto__},I9={},cwe=typeof Uint8Array>"u"?Lr:El(Uint8Array),d7={"%AggregateError%":typeof AggregateError>"u"?Lr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lr:ArrayBuffer,"%ArrayIteratorPrototype%":x9?El([][Symbol.iterator]()):Lr,"%AsyncFromSyncIteratorPrototype%":Lr,"%AsyncFunction%":I9,"%AsyncGenerator%":I9,"%AsyncGeneratorFunction%":I9,"%AsyncIteratorPrototype%":I9,"%Atomics%":typeof Atomics>"u"?Lr:Atomics,"%BigInt%":typeof BigInt>"u"?Lr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Lr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Lr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Lr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lr:FinalizationRegistry,"%Function%":vJ,"%GeneratorFunction%":I9,"%Int8Array%":typeof Int8Array>"u"?Lr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x9?El(El([][Symbol.iterator]())):Lr,"%JSON%":typeof JSON=="object"?JSON:Lr,"%Map%":typeof Map>"u"?Lr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!x9?Lr:El(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lr:Promise,"%Proxy%":typeof Proxy>"u"?Lr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Lr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!x9?Lr:El(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x9?El(""[Symbol.iterator]()):Lr,"%Symbol%":x9?Symbol:Lr,"%SyntaxError%":O9,"%ThrowTypeError%":awe,"%TypedArray%":cwe,"%TypeError%":P9,"%Uint8Array%":typeof Uint8Array>"u"?Lr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Lr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lr:WeakSet};try{null.error}catch(t){gJ=El(El(t)),d7["%Error.prototype%"]=gJ}var gJ,fwe=function t(e){var r;if(e==="%AsyncFunction%")r=zk("async function () {}");else if(e==="%GeneratorFunction%")r=zk("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=zk("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=El(i.prototype))}return d7[e]=r,r},mJ={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},r4=Kk(),hw=bJ(),lwe=r4.call(Function.call,Array.prototype.concat),dwe=r4.call(Function.apply,Array.prototype.splice),yJ=r4.call(Function.call,String.prototype.replace),pw=r4.call(Function.call,String.prototype.slice),hwe=r4.call(Function.call,RegExp.prototype.exec),pwe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,bwe=/\\(\\)?/g,gwe=function(e){var r=pw(e,0,1),n=pw(e,-1);if(r==="%"&&n!=="%")throw new O9("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new O9("invalid intrinsic syntax, expected opening `%`");var i=[];return yJ(e,pwe,function(s,u,o,a){i[i.length]=o?yJ(a,bwe,"$1"):u||s}),i},mwe=function(e,r){var n=e,i;if(hw(mJ,n)&&(i=mJ[n],n="%"+i[0]+"%"),hw(d7,n)){var s=d7[n];if(s===I9&&(s=fwe(n)),typeof s>"u"&&!r)throw new P9("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new O9("intrinsic "+e+" does not exist!")};SJ.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new P9("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new P9('"allowMissing" argument must be a boolean');if(hwe(/^%?[^%]*%?$/,e)===null)throw new O9("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=gwe(e),i=n.length>0?n[0]:"",s=mwe("%"+i+"%",r),u=s.name,o=s.value,a=!1,l=s.alias;l&&(i=l[0],dwe(n,lwe([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=pw(h,0,1),p=pw(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new O9("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(a=!0),i+="."+h,u="%"+i+"%",hw(d7,u))o=d7[u];else if(o!=null){if(!(h in o)){if(!r)throw new P9("base intrinsic for "+e+" exists, but the property is not available.");return}if(l7&&f+1>=n.length){var m=l7(o,h);c=!!m,c&&"get"in m&&!("originalValue"in m.get)?o=m.get:o=o[h]}else c=hw(o,h),o=o[h];c&&!a&&(d7[u]=o)}}return o}});var Gk=$((fdt,wJ)=>{"use strict";B();k();var ywe=_J(),bw=ywe("%Object.getOwnPropertyDescriptor%",!0);if(bw)try{bw([],"length")}catch{bw=null}wJ.exports=bw});var xJ=$((hdt,TJ)=>{"use strict";B();k();var EJ=dw(),vwe=Lk(),B9=S9(),AJ=Gk();TJ.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new B9("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new B9("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new B9("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new B9("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new B9("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new B9("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,a=!!AJ&&AJ(e,r);if(EJ)EJ(e,r,{configurable:u===null&&a?a.configurable:!u,enumerable:i===null&&a?a.enumerable:!i,value:n,writable:s===null&&a?a.writable:!s});else if(o||!i&&!s&&!u)e[r]=n;else throw new vwe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var OJ=$((gdt,PJ)=>{"use strict";B();k();var Wk=dw(),IJ=function(){return!!Wk};IJ.hasArrayLengthDefineBug=function(){if(!Wk)return null;try{return Wk([],"length",{value:1}).length!==1}catch{return!0}};PJ.exports=IJ});var RJ=$((vdt,FJ)=>{"use strict";B();k();var Swe=T9(),BJ=xJ(),_we=OJ()(),kJ=Gk(),CJ=S9(),wwe=Swe("%Math.floor%");FJ.exports=function(e,r){if(typeof e!="function")throw new CJ("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||wwe(r)!==r)throw new CJ("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&kJ){var u=kJ(e,"length");u&&!u.configurable&&(i=!1),u&&!u.writable&&(s=!1)}return(i||s||!n)&&(_we?BJ(e,"length",r,!0,!0):BJ(e,"length",r)),e}});var UJ=$((wdt,gw)=>{"use strict";B();k();var Yk=cJ(),mw=T9(),Ewe=RJ(),Awe=S9(),DJ=mw("%Function.prototype.apply%"),HJ=mw("%Function.prototype.call%"),LJ=mw("%Reflect.apply%",!0)||Yk.call(HJ,DJ),MJ=dw(),Twe=mw("%Math.max%");gw.exports=function(e){if(typeof e!="function")throw new Awe("a function is required");var r=LJ(Yk,HJ,arguments);return Ewe(r,1+Twe(0,e.length-(arguments.length-1)),!0)};var NJ=function(){return LJ(Yk,DJ,arguments)};MJ?MJ(gw.exports,"apply",{value:NJ}):gw.exports.apply=NJ});var KJ=$((Tdt,jJ)=>{"use strict";B();k();var $J=T9(),qJ=UJ(),xwe=qJ($J("String.prototype.indexOf"));jJ.exports=function(e,r){var n=$J(e,!!r);return typeof n=="function"&&xwe(e,".prototype.")>-1?qJ(n):n}});var zJ=$(()=>{B();k()});var lQ=$((Cdt,fQ)=>{B();k();var sC=typeof Map=="function"&&Map.prototype,Xk=Object.getOwnPropertyDescriptor&&sC?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,vw=sC&&Xk&&typeof Xk.get=="function"?Xk.get:null,VJ=sC&&Map.prototype.forEach,uC=typeof Set=="function"&&Set.prototype,Zk=Object.getOwnPropertyDescriptor&&uC?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Sw=uC&&Zk&&typeof Zk.get=="function"?Zk.get:null,GJ=uC&&Set.prototype.forEach,Iwe=typeof WeakMap=="function"&&WeakMap.prototype,i4=Iwe?WeakMap.prototype.has:null,Pwe=typeof WeakSet=="function"&&WeakSet.prototype,s4=Pwe?WeakSet.prototype.has:null,Owe=typeof WeakRef=="function"&&WeakRef.prototype,WJ=Owe?WeakRef.prototype.deref:null,Bwe=Boolean.prototype.valueOf,kwe=Object.prototype.toString,Cwe=Function.prototype.toString,Fwe=String.prototype.match,oC=String.prototype.slice,Qp=String.prototype.replace,Rwe=String.prototype.toUpperCase,YJ=String.prototype.toLowerCase,iQ=RegExp.prototype.test,XJ=Array.prototype.concat,Al=Array.prototype.join,Mwe=Array.prototype.slice,ZJ=Math.floor,eC=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Jk=Object.getOwnPropertySymbols,tC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,k9=typeof Symbol=="function"&&typeof Symbol.iterator=="object",oo=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===k9?"object":"symbol")?Symbol.toStringTag:null,sQ=Object.prototype.propertyIsEnumerable,JJ=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function QJ(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||iQ.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-ZJ(-t):ZJ(t);if(n!==t){var i=String(n),s=oC.call(e,i.length+1);return Qp.call(i,r,"$&_")+"."+Qp.call(Qp.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qp.call(e,r,"$&_")}var rC=zJ(),eQ=rC.custom,tQ=oQ(eQ)?eQ:null;fQ.exports=function t(e,r,n,i){var s=r||{};if(Jp(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jp(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=Jp(s,"customInspect")?s.customInspect:!0;if(typeof u!="boolean"&&u!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jp(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jp(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return cQ(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var a=String(e);return o?QJ(e,a):a}if(typeof e=="bigint"){var l=String(e)+"n";return o?QJ(e,l):l}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return nC(e)?"[Array]":"[Object]";var c=Qwe(s,n);if(typeof i>"u")i=[];else if(aQ(i,e)>=0)return"[Circular]";function h(g,v,E){if(v&&(i=Mwe.call(i),i.push(v)),E){var C={depth:s.depth};return Jp(s,"quoteStyle")&&(C.quoteStyle=s.quoteStyle),t(g,C,n+1,i)}return t(g,s,n+1,i)}if(typeof e=="function"&&!rQ(e)){var d=Kwe(e),p=yw(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Al.call(p,", ")+" }":"")}if(oQ(e)){var m=k9?Qp.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):tC.call(e);return typeof e=="object"&&!k9?n4(m):m}if(Xwe(e)){for(var w="<"+YJ.call(String(e.nodeName)),x=e.attributes||[],_=0;_<x.length;_++)w+=" "+x[_].name+"="+uQ(Nwe(x[_].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+YJ.call(String(e.nodeName))+">",w}if(nC(e)){if(e.length===0)return"[]";var y=yw(e,h);return c&&!Jwe(y)?"["+iC(y,c)+"]":"[ "+Al.call(y,", ")+" ]"}if(Hwe(e)){var S=yw(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!sQ.call(e,"cause")?"{ ["+String(e)+"] "+Al.call(XJ.call("[cause]: "+h(e.cause),S),", ")+" }":S.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Al.call(S,", ")+" }"}if(typeof e=="object"&&u){if(tQ&&typeof e[tQ]=="function"&&rC)return rC(e,{depth:f-n});if(u!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(zwe(e)){var F=[];return VJ&&VJ.call(e,function(g,v){F.push(h(v,e,!0)+" => "+h(g,e))}),nQ("Map",vw.call(e),F,c)}if(Wwe(e)){var N=[];return GJ&&GJ.call(e,function(g){N.push(h(g,e))}),nQ("Set",Sw.call(e),N,c)}if(Vwe(e))return Qk("WeakMap");if(Ywe(e))return Qk("WeakSet");if(Gwe(e))return Qk("WeakRef");if(Uwe(e))return n4(h(Number(e)));if(qwe(e))return n4(h(eC.call(e)));if($we(e))return n4(Bwe.call(e));if(Lwe(e))return n4(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===globalThis)return"{ [object globalThis] }";if(!Dwe(e)&&!rQ(e)){var H=yw(e,h),D=JJ?JJ(e)===Object.prototype:e instanceof Object||e.constructor===Object,L=e instanceof Object?"":"null prototype",P=!D&&oo&&Object(e)===e&&oo in e?oC.call(e3(e),8,-1):L?"Object":"",A=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",b=A+(P||L?"["+Al.call(XJ.call([],P||[],L||[]),": ")+"] ":"");return H.length===0?b+"{}":c?b+"{"+iC(H,c)+"}":b+"{ "+Al.call(H,", ")+" }"}return String(e)};function uQ(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Nwe(t){return Qp.call(String(t),/"/g,"&quot;")}function nC(t){return e3(t)==="[object Array]"&&(!oo||!(typeof t=="object"&&oo in t))}function Dwe(t){return e3(t)==="[object Date]"&&(!oo||!(typeof t=="object"&&oo in t))}function rQ(t){return e3(t)==="[object RegExp]"&&(!oo||!(typeof t=="object"&&oo in t))}function Hwe(t){return e3(t)==="[object Error]"&&(!oo||!(typeof t=="object"&&oo in t))}function Lwe(t){return e3(t)==="[object String]"&&(!oo||!(typeof t=="object"&&oo in t))}function Uwe(t){return e3(t)==="[object Number]"&&(!oo||!(typeof t=="object"&&oo in t))}function $we(t){return e3(t)==="[object Boolean]"&&(!oo||!(typeof t=="object"&&oo in t))}function oQ(t){if(k9)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!tC)return!1;try{return tC.call(t),!0}catch{}return!1}function qwe(t){if(!t||typeof t!="object"||!eC)return!1;try{return eC.call(t),!0}catch{}return!1}var jwe=Object.prototype.hasOwnProperty||function(t){return t in this};function Jp(t,e){return jwe.call(t,e)}function e3(t){return kwe.call(t)}function Kwe(t){if(t.name)return t.name;var e=Fwe.call(Cwe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function aQ(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function zwe(t){if(!vw||!t||typeof t!="object")return!1;try{vw.call(t);try{Sw.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Vwe(t){if(!i4||!t||typeof t!="object")return!1;try{i4.call(t,i4);try{s4.call(t,s4)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Gwe(t){if(!WJ||!t||typeof t!="object")return!1;try{return WJ.call(t),!0}catch{}return!1}function Wwe(t){if(!Sw||!t||typeof t!="object")return!1;try{Sw.call(t);try{vw.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Ywe(t){if(!s4||!t||typeof t!="object")return!1;try{s4.call(t,s4);try{i4.call(t,i4)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Xwe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function cQ(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return cQ(oC.call(t,0,e.maxStringLength),e)+n}var i=Qp.call(Qp.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Zwe);return uQ(i,"single",e)}function Zwe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Rwe.call(e.toString(16))}function n4(t){return"Object("+t+")"}function Qk(t){return t+" { ? }"}function nQ(t,e,r,n){var i=n?iC(r,n):Al.call(r,", ");return t+" ("+e+") {"+i+"}"}function Jwe(t){for(var e=0;e<t.length;e++)if(aQ(t[e],`
`)>=0)return!1;return!0}function Qwe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Al.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Al.call(Array(e+1),r)}}function iC(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Al.call(t,","+r)+`
`+e.prev}function yw(t,e){var r=nC(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Jp(t,i)?e(t[i],t):""}var s=typeof Jk=="function"?Jk(t):[],u;if(k9){u={};for(var o=0;o<s.length;o++)u["$"+s[o]]=s[o]}for(var a in t)!Jp(t,a)||r&&String(Number(a))===a&&a<t.length||k9&&u["$"+a]instanceof Symbol||(iQ.call(/[^\w$]/,a)?n.push(e(a,t)+": "+e(t[a],t)):n.push(a+": "+e(t[a],t)));if(typeof Jk=="function")for(var l=0;l<s.length;l++)sQ.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}});var pQ=$((Mdt,hQ)=>{"use strict";B();k();var dQ=T9(),C9=KJ(),eEe=lQ(),tEe=S9(),_w=dQ("%WeakMap%",!0),ww=dQ("%Map%",!0),rEe=C9("WeakMap.prototype.get",!0),nEe=C9("WeakMap.prototype.set",!0),iEe=C9("WeakMap.prototype.has",!0),sEe=C9("Map.prototype.get",!0),uEe=C9("Map.prototype.set",!0),oEe=C9("Map.prototype.has",!0),aC=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},aEe=function(t,e){var r=aC(t,e);return r&&r.value},cEe=function(t,e,r){var n=aC(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},fEe=function(t,e){return!!aC(t,e)};hQ.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new tEe("Side channel does not contain "+eEe(s))},get:function(s){if(_w&&s&&(typeof s=="object"||typeof s=="function")){if(e)return rEe(e,s)}else if(ww){if(r)return sEe(r,s)}else if(n)return aEe(n,s)},has:function(s){if(_w&&s&&(typeof s=="object"||typeof s=="function")){if(e)return iEe(e,s)}else if(ww){if(r)return oEe(r,s)}else if(n)return fEe(n,s);return!1},set:function(s,u){_w&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new _w),nEe(e,s,u)):ww?(r||(r=new ww),uEe(r,s,u)):(n||(n={key:{},next:null}),cEe(n,s,u))}};return i}});var Ew=$((Hdt,bQ)=>{"use strict";B();k();var lEe=String.prototype.replace,dEe=/%20/g,cC={RFC1738:"RFC1738",RFC3986:"RFC3986"};bQ.exports={default:cC.RFC3986,formatters:{RFC1738:function(t){return lEe.call(t,dEe,"+")},RFC3986:function(t){return String(t)}},RFC1738:cC.RFC1738,RFC3986:cC.RFC3986}});var dC=$(($dt,mQ)=>{"use strict";B();k();var hEe=Ew(),fC=Object.prototype.hasOwnProperty,h7=Array.isArray,Tl=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),pEe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(h7(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},gQ=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},bEe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(h7(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!fC.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return h7(e)&&!h7(r)&&(i=gQ(e,n)),h7(e)&&h7(r)?(r.forEach(function(s,u){if(fC.call(e,u)){var o=e[u];o&&typeof o=="object"&&s&&typeof s=="object"?e[u]=t(o,s,n):e.push(s)}else e[u]=s}),e):Object.keys(r).reduce(function(s,u){var o=r[u];return fC.call(s,u)?s[u]=t(s[u],o,n):s[u]=o,s},i)},gEe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},mEe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},lC=1024,yEe=function(e,r,n,i,s){if(e.length===0)return e;var u=e;if(typeof e=="symbol"?u=Symbol.prototype.toString.call(e):typeof e!="string"&&(u=String(e)),n==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var o="",a=0;a<u.length;a+=lC){for(var l=u.length>=lC?u.slice(a,a+lC):u,f=[],c=0;c<l.length;++c){var h=l.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===hEe.RFC1738&&(h===40||h===41)){f[f.length]=l.charAt(c);continue}if(h<128){f[f.length]=Tl[h];continue}if(h<2048){f[f.length]=Tl[192|h>>6]+Tl[128|h&63];continue}if(h<55296||h>=57344){f[f.length]=Tl[224|h>>12]+Tl[128|h>>6&63]+Tl[128|h&63];continue}c+=1,h=65536+((h&1023)<<10|l.charCodeAt(c)&1023),f[f.length]=Tl[240|h>>18]+Tl[128|h>>12&63]+Tl[128|h>>6&63]+Tl[128|h&63]}o+=f.join("")}return o},vEe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],u=s.obj[s.prop],o=Object.keys(u),a=0;a<o.length;++a){var l=o[a],f=u[l];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:u,prop:l}),n.push(f))}return pEe(r),e},SEe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_Ee=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},wEe=function(e,r){return[].concat(e,r)},EEe=function(e,r){if(h7(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};mQ.exports={arrayToObject:gQ,assign:gEe,combine:wEe,compact:vEe,decode:mEe,encode:yEe,isBuffer:_Ee,isRegExp:SEe,maybeMap:EEe,merge:bEe}});var EQ=$((Kdt,wQ)=>{"use strict";B();k();var vQ=pQ(),Aw=dC(),u4=Ew(),AEe=Object.prototype.hasOwnProperty,SQ={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},xl=Array.isArray,TEe=Array.prototype.push,_Q=function(t,e){TEe.apply(t,xl(e)?e:[e])},xEe=Date.prototype.toISOString,yQ=u4.default,ks={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Aw.encode,encodeValuesOnly:!1,format:yQ,formatter:u4.formatters[yQ],indices:!1,serializeDate:function(e){return xEe.call(e)},skipNulls:!1,strictNullHandling:!1},IEe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},hC={},PEe=function t(e,r,n,i,s,u,o,a,l,f,c,h,d,p,m,w,x,_){for(var y=e,S=_,F=0,N=!1;(S=S.get(hC))!==void 0&&!N;){var H=S.get(e);if(F+=1,typeof H<"u"){if(H===F)throw new RangeError("Cyclic object value");N=!0}typeof S.get(hC)>"u"&&(F=0)}if(typeof f=="function"?y=f(r,y):y instanceof Date?y=d(y):n==="comma"&&xl(y)&&(y=Aw.maybeMap(y,function(T){return T instanceof Date?d(T):T})),y===null){if(u)return l&&!w?l(r,ks.encoder,x,"key",p):r;y=""}if(IEe(y)||Aw.isBuffer(y)){if(l){var D=w?r:l(r,ks.encoder,x,"key",p);return[m(D)+"="+m(l(y,ks.encoder,x,"value",p))]}return[m(r)+"="+m(String(y))]}var L=[];if(typeof y>"u")return L;var P;if(n==="comma"&&xl(y))w&&l&&(y=Aw.maybeMap(y,l)),P=[{value:y.length>0?y.join(",")||null:void 0}];else if(xl(f))P=f;else{var A=Object.keys(y);P=c?A.sort(c):A}var b=a?r.replace(/\./g,"%2E"):r,g=i&&xl(y)&&y.length===1?b+"[]":b;if(s&&xl(y)&&y.length===0)return g+"[]";for(var v=0;v<P.length;++v){var E=P[v],C=typeof E=="object"&&typeof E.value<"u"?E.value:y[E];if(!(o&&C===null)){var R=h&&a?E.replace(/\./g,"%2E"):E,O=xl(y)?typeof n=="function"?n(g,R):g:g+(h?"."+R:"["+R+"]");_.set(e,F);var M=vQ();M.set(hC,_),_Q(L,t(C,O,n,i,s,u,o,a,n==="comma"&&w&&xl(y)?null:l,f,c,h,d,p,m,w,x,M))}}return L},OEe=function(e){if(!e)return ks;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ks.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=u4.default;if(typeof e.format<"u"){if(!AEe.call(u4.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=u4.formatters[n],s=ks.filter;(typeof e.filter=="function"||xl(e.filter))&&(s=e.filter);var u;if(e.arrayFormat in SQ?u=e.arrayFormat:"indices"in e?u=e.indices?"indices":"repeat":u=ks.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:ks.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ks.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ks.allowEmptyArrays,arrayFormat:u,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ks.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ks.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ks.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ks.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ks.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ks.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ks.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ks.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ks.strictNullHandling}};wQ.exports=function(t,e){var r=t,n=OEe(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):xl(n.filter)&&(s=n.filter,i=s);var u=[];if(typeof r!="object"||r===null)return"";var o=SQ[n.arrayFormat],a=o==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=vQ(),f=0;f<i.length;++f){var c=i[f];n.skipNulls&&r[c]===null||_Q(u,PEe(r[c],c,o,a,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=u.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""}});var xQ=$((Gdt,TQ)=>{"use strict";B();k();var F9=dC(),pC=Object.prototype.hasOwnProperty,BEe=Array.isArray,Hi={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:F9.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},kEe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},AQ=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},CEe="utf8=%26%2310003%3B",FEe="utf8=%E2%9C%93",REe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,u=i.split(r.delimiter,s),o=-1,a,l=r.charset;if(r.charsetSentinel)for(a=0;a<u.length;++a)u[a].indexOf("utf8=")===0&&(u[a]===FEe?l="utf-8":u[a]===CEe&&(l="iso-8859-1"),o=a,a=u.length);for(a=0;a<u.length;++a)if(a!==o){var f=u[a],c=f.indexOf("]="),h=c===-1?f.indexOf("="):c+1,d,p;h===-1?(d=r.decoder(f,Hi.decoder,l,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(f.slice(0,h),Hi.decoder,l,"key"),p=F9.maybeMap(AQ(f.slice(h+1),r),function(w){return r.decoder(w,Hi.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=kEe(p)),f.indexOf("[]=")>-1&&(p=BEe(p)?[p]:p);var m=pC.call(n,d);m&&r.duplicates==="combine"?n[d]=F9.combine(n[d],p):(!m||r.duplicates==="last")&&(n[d]=p)}return n},MEe=function(t,e,r,n){for(var i=n?e:AQ(e,r),s=t.length-1;s>=0;--s){var u,o=t[s];if(o==="[]"&&r.parseArrays)u=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{u=r.plainObjects?Object.create(null):{};var a=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,l=r.decodeDotInKeys?a.replace(/%2E/g,"."):a,f=parseInt(l,10);!r.parseArrays&&l===""?u={0:i}:!isNaN(f)&&o!==l&&String(f)===l&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(u=[],u[f]=i):l!=="__proto__"&&(u[l]=i)}i=u}return i},NEe=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,u=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,a=n.depth>0&&u.exec(s),l=a?s.slice(0,a.index):s,f=[];if(l){if(!n.plainObjects&&pC.call(Object.prototype,l)&&!n.allowPrototypes)return;f.push(l)}for(var c=0;n.depth>0&&(a=o.exec(s))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&pC.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(a[1])}if(a){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+s.slice(a.index)+"]")}return MEe(f,r,n,i)}},DEe=function(e){if(!e)return Hi;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Hi.charset:e.charset,n=typeof e.duplicates>"u"?Hi.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Hi.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Hi.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Hi.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Hi.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Hi.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Hi.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Hi.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Hi.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Hi.decoder,delimiter:typeof e.delimiter=="string"||F9.isRegExp(e.delimiter)?e.delimiter:Hi.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Hi.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Hi.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Hi.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Hi.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Hi.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Hi.strictNullHandling}};TQ.exports=function(t,e){var r=DEe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?REe(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),u=0;u<s.length;++u){var o=s[u],a=NEe(o,n[o],r,typeof t=="string");i=F9.merge(i,a,r)}return r.allowSparse===!0?i:F9.compact(i)}});var PQ=$((Xdt,IQ)=>{"use strict";B();k();var HEe=EQ(),LEe=xQ(),UEe=Ew();IQ.exports={formats:UEe,parse:LEe,stringify:HEe}});var OQ=$(()=>{B();k()});var Tw=$(Jd=>{"use strict";B();k();function kQ(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$Ee(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){u=!0,o=l},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(u)throw o}}}}function $Ee(t,e){if(!!t){if(typeof t=="string")return BQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BQ(t,e)}}function BQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Jd.type=t=>t.split(/ *; */).shift();Jd.params=t=>{let e={};var r=kQ(t.split(/ *; */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *= */),u=s.shift(),o=s.shift();u&&o&&(e[u]=o)}}catch(i){r.e(i)}finally{r.f()}return e};Jd.parseLinks=t=>{let e={};var r=kQ(t.split(/ *, */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *; */),u=s[0].slice(1,-1),o=s[1].split(/ *= */)[1].slice(1,-1);e[o]=u}}catch(i){r.e(i)}finally{r.f()}return e};Jd.cleanHeader=(t,e)=>(delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t);Jd.isObject=t=>t!==null&&typeof t=="object";Jd.hasOwn=Object.hasOwn||function(t,e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(t),e)};Jd.mixin=(t,e)=>{for(let r in e)Jd.hasOwn(e,r)&&(t[r]=e[r])}});var MQ=$((uht,RQ)=>{"use strict";B();k();var CQ=OQ(),FQ=Tw(),xw=FQ.isObject,o4=FQ.hasOwn;RQ.exports=cn;function cn(){}cn.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};cn.prototype.parse=function(t){return this._parser=t,this};cn.prototype.responseType=function(t){return this._responseType=t,this};cn.prototype.serialize=function(t){return this._serializer=t,this};cn.prototype.timeout=function(t){if(!t||typeof t!="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(let e in t)if(o4(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this};cn.prototype.retry=function(t,e){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var qEe=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),jEe=new Set([408,413,429,500,502,503,504,521,522,524]);cn.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{let r=this._retryCallback(t,e);if(r===!0)return!0;if(r===!1)return!1}catch(r){console.error(r)}return!!(e&&e.status&&jEe.has(e.status)||t&&(t.code&&qEe.has(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))};cn.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};cn.prototype.then=function(t,e){if(!this._fullfilledPromise){let r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((n,i)=>{r.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError){i(this.timedoutError);return}let s=new Error("Aborted");s.code="ABORTED",s.status=this.status,s.method=this.method,s.url=this.url,i(s)}),r.end((s,u)=>{s?i(s):n(u)})})}return this._fullfilledPromise.then(t,e)};cn.prototype.catch=function(t){return this.then(void 0,t)};cn.prototype.use=function(t){return t(this),this};cn.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this};cn.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1};cn.prototype.get=function(t){return this._header[t.toLowerCase()]};cn.prototype.getHeader=cn.prototype.get;cn.prototype.set=function(t,e){if(xw(t)){for(let r in t)o4(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this};cn.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this};cn.prototype.field=function(t,e,r){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(xw(t)){for(let n in t)o4(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(let n in e)o4(e,n)&&this.field(t,e[n]);return this}if(e==null)throw new Error(".field(name, val) val can not be empty");return typeof e=="boolean"&&(e=String(e)),r?this._getFormData().append(t,e,r):this._getFormData().append(t,e),this};cn.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(CQ.gte(process.version,"v13.0.0")&&CQ.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this};cn.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization",`Basic ${n(`${t}:${e}`)}`);break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization",`Bearer ${t}`);break;default:break}return this};cn.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this};cn.prototype.redirects=function(t){return this._maxRedirects=t,this};cn.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this};cn.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};cn.prototype.send=function(t){let e=xw(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&xw(this._data))for(let n in t){if(typeof t[n]=="bigint"&&!t[n].toJSON)throw new Error("Cannot serialize BigInt value to json");o4(t,n)&&(this._data[n]=t[n])}else{if(typeof t=="bigint")throw new Error("Cannot send value of type BigInt");typeof t=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?`${this._data}&${t}`:t:this._data=(this._data||"")+t):this._data=t}return!e||this._isHost(t)?this:(r||this.type("json"),this)};cn.prototype.sortQuery=function(t){return this._sort=typeof t>"u"?!0:t,this};cn.prototype._finalizeQueryString=function(){let t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){let e=this.url.indexOf("?");if(e>=0){let r=this.url.slice(e+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}};cn.prototype._appendQueryString=()=>{console.warn("Unsupported")};cn.prototype._timeoutError=function(t,e,r){if(this._aborted)return;let n=new Error(`${t+e}ms exceeded`);n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)};cn.prototype._setTimeouts=function(){let t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}});var DQ=$((cht,NQ)=>{"use strict";B();k();var bC=Tw();NQ.exports=Iw;function Iw(){}Iw.prototype.get=function(t){return this.header[t.toLowerCase()]};Iw.prototype._setHeaderProperties=function(t){let e=t["content-type"]||"";this.type=bC.type(e);let r=bC.params(e);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{t.link&&(this.links=bC.parseLinks(t.link))}catch{}};Iw.prototype._setStatusProperties=function(t){let e=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=e===1,this.ok=e===2,this.redirect=e===3,this.clientError=e===4,this.serverError=e===5,this.error=e===4||e===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422}});var UQ=$((dht,LQ)=>{"use strict";B();k();function KEe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=zEe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){u=!0,o=l},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(u)throw o}}}}function zEe(t,e){if(!!t){if(typeof t=="string")return HQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HQ(t,e)}}function HQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mC(){this._defaults=[]}for(Pw=0,gC=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];Pw<gC.length;Pw++){let t=gC[Pw];mC.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}}var Pw,gC;mC.prototype._setDefaults=function(t){var e=KEe(this._defaults),r;try{for(e.s();!(r=e.n()).done;){let n=r.value;t[n.fn](...n.args)}}catch(n){e.e(n)}finally{e.f()}};LQ.exports=mC});var Cu=$((p7,wC)=>{"use strict";B();k();function VEe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=GEe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){u=!0,o=l},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(u)throw o}}}}function GEe(t,e){if(!!t){if(typeof t=="string")return $Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $Q(t,e)}}function $Q(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var R9;typeof window<"u"?R9=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),R9=void 0):R9=self;var WEe=gZ(),YEe=wZ(),XEe=PQ(),ZEe=MQ(),SC=Tw(),qQ=SC.isObject,jQ=SC.mixin,_C=SC.hasOwn,JEe=DQ(),Bw=UQ();function QEe(){}wC.exports=function(t,e){return typeof e=="function"?new p7.Request("GET",t).end(e):arguments.length===1?new p7.Request("GET",t):new p7.Request(t,e)};p7=wC.exports;var dn=p7;p7.Request=Ai;dn.getXHR=()=>{if(R9.XMLHttpRequest)return new R9.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};var eAe="".trim?t=>t.trim():t=>t.replace(/(^\s*|\s*$)/g,"");function KQ(t){if(!qQ(t))return t;let e=[];for(let r in t)_C(t,r)&&vC(e,r,t[r]);return e.join("&")}function vC(t,e,r){if(r!==void 0){if(r===null){t.push(encodeURI(e));return}if(Array.isArray(r)){var n=VEe(r),i;try{for(n.s();!(i=n.n()).done;){let s=i.value;vC(t,e,s)}}catch(s){n.e(s)}finally{n.f()}}else if(qQ(r))for(let s in r)_C(r,s)&&vC(t,`${e}[${s}]`,r[s]);else t.push(encodeURI(e)+"="+encodeURIComponent(r))}}dn.serializeObject=KQ;function zQ(t){let e={},r=t.split("&"),n,i;for(let s=0,u=r.length;s<u;++s)n=r[s],i=n.indexOf("="),i===-1?e[decodeURIComponent(n)]="":e[decodeURIComponent(n.slice(0,i))]=decodeURIComponent(n.slice(i+1));return e}dn.parseString=zQ;dn.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};dn.serialize={"application/x-www-form-urlencoded":XEe.stringify,"application/json":YEe};dn.parse={"application/x-www-form-urlencoded":zQ,"application/json":JSON.parse};function tAe(t){let e=t.split(/\r?\n/),r={},n,i,s,u;for(let o=0,a=e.length;o<a;++o)i=e[o],n=i.indexOf(":"),n!==-1&&(s=i.slice(0,n).toLowerCase(),u=eAe(i.slice(n+1)),r[s]=u);return r}function VQ(t){return/[/+]json($|[^-\w])/i.test(t)}function a4(t){this.req=t,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let e=this.xhr.status;e===1223&&(e=204),this._setStatusProperties(e),this.headers=tAe(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&t._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}jQ(a4.prototype,JEe.prototype);a4.prototype._parseBody=function(t){let e=dn.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&VQ(this.type)&&(e=dn.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)};a4.prototype.toError=function(){let t=this.req,e=t.method,r=t.url,n=`cannot ${e} ${r} (${this.status})`,i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i};dn.Response=a4;function Ai(t,e){let r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",()=>{let n=null,i=null;try{i=new a4(r)}catch(u){return n=new Error("Parser is unable to parse the response"),n.parse=!0,n.original=u,r.xhr?(n.rawResponse=typeof r.xhr.responseType>"u"?r.xhr.responseText:r.xhr.response,n.status=r.xhr.status?r.xhr.status:null,n.statusCode=n.status):(n.rawResponse=null,n.status=null),r.callback(n)}r.emit("response",i);let s;try{r._isResponseOK(i)||(s=new Error(i.statusText||i.text||"Unsuccessful HTTP response"))}catch(u){s=u}s?(s.original=n,s.response=i,s.status=s.status||i.status,r.callback(s,i)):r.callback(null,i)})}WEe(Ai.prototype);jQ(Ai.prototype,ZEe.prototype);Ai.prototype.type=function(t){return this.set("Content-Type",dn.types[t]||t),this};Ai.prototype.accept=function(t){return this.set("Accept",dn.types[t]||t),this};Ai.prototype.auth=function(t,e,r){arguments.length===1&&(e=""),typeof e=="object"&&e!==null&&(r=e,e=""),r||(r={type:typeof btoa=="function"?"basic":"auto"});let n=r.encoder?r.encoder:i=>{if(typeof btoa=="function")return btoa(i);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,n)};Ai.prototype.query=function(t){return typeof t!="string"&&(t=KQ(t)),t&&this._query.push(t),this};Ai.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this};Ai.prototype._getFormData=function(){return this._formData||(this._formData=new R9.FormData),this._formData};Ai.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();let r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)};Ai.prototype.crossDomainError=function(){let t=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)};Ai.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this};Ai.prototype.ca=Ai.prototype.agent;Ai.prototype.buffer=Ai.prototype.ca;Ai.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")};Ai.prototype.pipe=Ai.prototype.write;Ai.prototype._isHost=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&Object.prototype.toString.call(t)!=="[object Object]"};Ai.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||QEe,this._finalizeQueryString(),this._end()};Ai.prototype._setUploadTimeout=function(){let t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))};Ai.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));let t=this;this.xhr=dn.getXHR();let e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.addEventListener("readystatechange",()=>{let i=e.readyState;if(i>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),i!==4)return;let s;try{s=e.status}catch{s=0}if(!s)return t.timedout||t._aborted?void 0:t.crossDomainError();t.emit("end")});let n=(i,s)=>{s.total>0&&(s.percent=s.loaded/s.total*100,s.percent===100&&clearTimeout(t._uploadTimeoutTimer)),s.direction=i,t.emit("progress",s)};if(this.hasListeners("progress"))try{e.addEventListener("progress",n.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",n.bind(null,"upload"))}catch{}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(i){return this.callback(i)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof r!="string"&&!this._isHost(r)){let i=this._header["content-type"],s=this._serializer||dn.serialize[i?i.split(";")[0]:""];!s&&VQ(i)&&(s=dn.serialize["application/json"]),s&&(r=s(r))}for(let i in this.header)this.header[i]!==null&&_C(this.header,i)&&e.setRequestHeader(i,this.header[i]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(typeof r>"u"?null:r)};dn.agent=()=>new Bw;for(Ow=0,yC=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];Ow<yC.length;Ow++){let t=yC[Ow];Bw.prototype[t.toLowerCase()]=function(e,r){let n=new dn.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}}var Ow,yC;Bw.prototype.del=Bw.prototype.delete;dn.get=(t,e,r)=>{let n=dn("GET",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};dn.head=(t,e,r)=>{let n=dn("HEAD",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};dn.options=(t,e,r)=>{let n=dn("OPTIONS",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};function GQ(t,e,r){let n=dn("DELETE",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}dn.del=GQ;dn.delete=GQ;dn.patch=(t,e,r)=>{let n=dn("PATCH",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};dn.post=(t,e,r)=>{let n=dn("POST",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};dn.put=(t,e,r)=>{let n=dn("PUT",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}});var XQ=$(t3=>{"use strict";B();k();var b7=t3&&t3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},rAe=t3&&t3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t3,"__esModule",{value:!0});t3.replayToLatest=void 0;var EC=Mk(),nAe=rAe(Cu());function YQ(t){let e=t.toASM(),r=e.lastIndexOf("OP_RETURN"),n=r===-1?t:EC.bsv.Script.fromASM(e.substring(0,r).trim());return EC.bsv.crypto.Hash.sha256(n.toBuffer()).toString("hex")}function iAe(t,e){return b7(this,void 0,void 0,function*(){let r=yield t.getTransaction(e.txId);return YQ(r.outputs[e.outputIndex].script)})}function sAe(t,e){return b7(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.getNetwork()===EC.bsv.Networks.mainnet?"main":"test"}/tx/${e.txId}/${e.outputIndex}/spent`;return nAe.default.get(n).then(i=>b7(this,void 0,void 0,function*(){return{tx:yield t.getTransaction(i.body.txid),atInputIndex:i.body.vin}})).catch(i=>{if(i.response.status!==404)throw new Error(i.message)})})}function WQ(t,e,r){return b7(this,void 0,void 0,function*(){let n=yield sAe(t,e);if(!n)return;let{tx:i}=n,s=i.outputs.filter(u=>YQ(u.script)===r).map((u,o)=>o);if(s.length>1)throw Error("only support linear spent chain");return{spentIn:n,nextOutputIndex:s.length===1?s[0]:void 0}})}function uAe(t,e){return b7(this,void 0,void 0,function*(){let r=yield iAe(t,e),n=[],i=yield WQ(t,e,r);for(;i&&i.nextOutputIndex!==void 0;)n.push(i),i=yield WQ(t,{txId:i.spentIn.tx.id,outputIndex:i.nextOutputIndex},r);return n})}function oAe(t,e){return b7(this,void 0,void 0,function*(){if(!t||e.nextOutputIndex===void 0)return;let r=t.next(),{tx:n,atInputIndex:i}=e.spentIn,u=r.constructor.parseCallData(n,i),{methodName:o,args:a}=u,l=r.getOffchainUpdates();if(l){let f=l[o];f?.call(r,r,...a.map(c=>c.value))}return r.from={tx:n,outputIndex:e.nextOutputIndex},r})}function aAe(t,e){return b7(this,void 0,void 0,function*(){let r=yield uAe(t.provider,e),n=t;for(let i of r)n=yield oAe(n,i);return n})}t3.replayToLatest=aAe});var Il=$(r3=>{"use strict";B();k();var AC=r3&&r3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},cAe=r3&&r3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r3,"__esModule",{value:!0});r3.Provider=void 0;var fAe=cAe(JI()),lAe=mr(),TC=class extends fAe.default{constructor(){super(),this._isProvider=!0}_initializeConnection(){new Promise((e,r)=>{setTimeout(()=>{this.connect().then(n=>{e(n)},n=>{r(n)})},0)})}_ready(){return AC(this,void 0,void 0,function*(){if(!this.isConnected())try{yield this.connect()}catch(e){throw e}})}getEstimateFee(e){return AC(this,void 0,void 0,function*(){let r=new lAe.bsv.Transaction(e.uncheckedSerialize());return r.feePerKb(yield this.getFeePerKb()),r.getEstimateFee()})}sendTransaction(e){return AC(this,void 0,void 0,function*(){let r=e.serialize({disableIsFullySigned:!0}),n=yield this.getFeePerKb(),i=Math.ceil(r.length/2/1e3*n);if(e._inputAmount=void 0,e.getUnspentValue()<i)throw new Error("invalid fee, fee too low.");if(e.getUnspentValue()>i*3)throw new Error("invalid fee, fee too high.");return this.sendRawTransaction(r)})}static isProvider(e){return!!(e&&e._isProvider)}};r3.Provider=TC});var c4=$(n3=>{"use strict";B();k();var kw=n3&&n3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},dAe=n3&&n3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n3,"__esModule",{value:!0});n3.WhatsonchainProvider=void 0;var Cw=mr(),hAe=Il(),Fw=dAe(Cu()),pAe=e0(),xC=class extends hAe.Provider{constructor(e){super(),this._isConnected=!1,this._network=e,this._initializeConnection()}get apiPrefix(){return`https://api.whatsonchain.com/v1/bsv/${this._network.name===Cw.bsv.Networks.mainnet.name?"main":"test"}`}isConnected(){return this._isConnected}connect(){var e;return kw(this,void 0,void 0,function*(){try{let r=yield Fw.default.get(`${this.apiPrefix}/woc`).timeout(3e3);if(r.ok&&r.text==="Whats On Chain")this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){return kw(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{return(yield Fw.default.post(`${this.apiPrefix}/tx/raw`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").send({txhex:e})).body}catch(i){if(i.response&&i.response.text){if(bAe(i.response.text))return new Cw.bsv.Transaction(e).id;throw new Error(`WhatsonchainProvider ERROR: ${gAe(i.response.text)}`)}throw new Error(`WhatsonchainProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return kw(this,void 0,void 0,function*(){yield this._ready();let i=(yield Fw.default.get(`${this.apiPrefix}/address/${e}/unspent`)).body.map(s=>({txId:s.tx_hash,outputIndex:s.tx_pos,satoshis:s.value,script:Cw.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,pAe.filterUTXO)(i,r):i})}getBalance(e){return this.listUnspent(e).then(r=>({confirmed:r.reduce((n,i)=>(n+=i.satoshis,n),0),unconfirmed:0}))}getTransaction(e){return kw(this,void 0,void 0,function*(){return yield this._ready(),Fw.default.get(`${this.apiPrefix}/tx/${e}/hex`).then(r=>{if(r.ok)return new Cw.bsv.Transaction(r.text);throw r.error?r.error:`getTransaction error ${e}`})})}getFeePerKb(){return Promise.resolve(1)}};n3.WhatsonchainProvider=xC;function bAe(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}function gAe(t){return t.includes("bad-txns-vin-empty")?"Transaction is missing inputs.":t.includes("bad-txns-vout-empty")?"Transaction is missing outputs.":t.includes("bad-txns-oversize")?"Transaction is too large.":t.includes("bad-txns-vout-negative")?"Transaction output value is negative.":t.includes("bad-txns-vout-toolarge")?"Transaction outputut value is too large.":t.includes("bad-txns-txouttotal-toolarge")?"Transaction total outputut value is too large.":t.includes("bad-txns-prevout-null")?"Transaction inputs previous TX reference is null.":t.includes("bad-txns-inputs-duplicate")?"Transaction contains duplicate inputs.":t.includes("bad-txns-inputs-too-large")?"Transaction inputs too large.":t.includes("bad-txns-fee-negative")?"Transaction network fee is negative.":t.includes("bad-txns-fee-outofrange")?"Transaction network fee is out of range.":t.includes("mandatory-script-verify-flag-failed")?"Script evaluation failed.":t}});var PC=$(M9=>{"use strict";B();k();var f4=M9&&M9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(M9,"__esModule",{value:!0});M9.SensibleProvider=void 0;var Rw=mr(),mAe=Il(),l4=Cu(),yAe=e0(),IC=class extends mAe.Provider{constructor(e,r){super(),this.network=e,this.apiKey=r,this._isConnected=!1,this._initializeConnection()}get apiEndpoint(){return this.network.name===Rw.bsv.Networks.mainnet.name?"https://api.sensiblequery.com":"https://api.sensiblequery.com/test/"}isConnected(){return this._isConnected}connect(){var e;return f4(this,void 0,void 0,function*(){try{let r=yield(0,l4.get)(this.apiEndpoint).set("Authorization",`Bearer ${this.apiKey}`).timeout(3e3);if(r.ok&&r.body.code===0)this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}sendRawTransaction(e){return f4(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{let i=yield(0,l4.post)(`${this.apiEndpoint}/pushtx`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").set("Authorization",`Bearer ${this.apiKey}`).send({txhex:e});if(console.log("SensibleProvider",i.body),i.ok&&i.body.code===0)return i.body.data;if(typeof i.text=="string"&&i.text.includes("service is restricted"))throw new Error("According to your IP and nationality, you are in a country/region where our service is restricted.");if(typeof i.text=="string"&&vAe(i.text))return new Rw.bsv.Transaction(e).id;throw new Error(`${i.body.msg?i.body.msg:i.text}`)}catch(i){throw new Error(`SensibleProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return f4(this,void 0,void 0,function*(){if(yield this._ready(),Array.isArray(e))throw new Error("SensibleProvider ERROR: only support list one address");let n=yield(0,l4.get)(`${this.apiEndpoint}/address/${e}/utxo`).set("Authorization",`Bearer ${this.apiKey}`);if(n.ok&&n.body.code===0){let i=n.body.data.map(s=>({txId:s.txid,outputIndex:s.vout,satoshis:s.satoshi,script:Rw.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,yAe.filterUTXO)(i,r):i}throw new Error(`SensibleProvider ERROR: ${n.body.msg}`)})}getBalance(e){return f4(this,void 0,void 0,function*(){yield this._ready();let r=yield(0,l4.get)(`${this.apiEndpoint}/address/${e}/balance`).set("Authorization",`Bearer ${this.apiKey}`);if(r.body.code===0)return{confirmed:r.body.data.satoshi,unconfirmed:r.body.data.pendingSatoshi};throw new Error(`SensibleProvider ERROR: ${r.body.msg}`)})}getTransaction(e){return f4(this,void 0,void 0,function*(){return yield this._ready(),(0,l4.get)(`${this.apiEndpoint}/rawtx/${e}`).set("Authorization",`Bearer ${this.apiKey}`).set("Content-Type","application/json").set("Accept","application/json").then(r=>{if(r.ok&&r.body.code===0)return new Rw.bsv.Transaction(r.body.data);throw r.error?r.error:new Error(`SensibleProvider ERROR: ${r.body.msg}`)})})}getFeePerKb(){return Promise.resolve(1)}};M9.SensibleProvider=IC;function vAe(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}});var BC=$(N9=>{"use strict";B();k();var d4=N9&&N9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(N9,"__esModule",{value:!0});N9.GorillapoolProvider=void 0;var SAe=mr(),_Ae=Il(),wAe=c4(),ZQ=Cu(),OC=class extends _Ae.Provider{constructor(e,r){super(),this.apiKey=r,this._feePerKb=-1,this._network=e,this._mapiURL=e==SAe.bsv.Networks.mainnet?"https://mapi.gorillapool.io/mapi/":"https://testnet-mapi.gorillapool.io/mapi/",this._provider=new wAe.WhatsonchainProvider(e)}isConnected(){return this._provider.isConnected()}connect(){return d4(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return d4(this,void 0,void 0,function*(){let s=Math.max(1,e.length/2/1024),u=Math.max(1e4,1e3*s);try{let o=(0,ZQ.post)(this._mapiURL+"tx").timeout({response:u,deadline:6e4}).set("Content-Type","application/octet-stream");this.apiKey&&o.set("Authorization",`Bearer ${this.apiKey}`);let a=yield o.send(I.Buffer.from(e,"hex")),l=JSON.parse(a.body.payload);if(l.returnResult==="success")return l.txid;if(l.returnResult==="failure")throw new Error(l.resultDescription)}catch(o){throw((r=o.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=o.response)===null||n===void 0?void 0:n.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((i=o.response)===null||i===void 0?void 0:i.body)}`):new Error(`GorillapoolProvider ERROR: ${o.message}`)}})}listUnspent(e,r){return d4(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return d4(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return d4(this,void 0,void 0,function*(){try{let i=(0,ZQ.get)(this._mapiURL+"feeQuote").timeout({response:5e3,deadline:1e4});this.apiKey&&i.set("Authorization",`Bearer ${this.apiKey}`);let s=yield i;JSON.parse(s.body.payload).fees.forEach(o=>{o.feeType=="standard"&&(this._feePerKb=o.miningFee.satoshis*1e3/o.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`GorillapoolProvider ERROR: ${i.message}`)}})}};N9.GorillapoolProvider=OC});var FC=$(D9=>{"use strict";B();k();var h4=D9&&D9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(D9,"__esModule",{value:!0});D9.TaalProvider=void 0;var kC=mr(),EAe=Il(),AAe=c4(),JQ=Cu(),CC=class extends EAe.Provider{constructor(e="testnet_4df8757e4c289af199f69ad759be31b4"){super(),this.apiKey=e,this._network=kC.bsv.Networks.testnet,this._feePerKb=-1,this.apiKey.startsWith("testnet_")?this._network=kC.bsv.Networks.testnet:this._network=kC.bsv.Networks.mainnet,this._provider=new AAe.WhatsonchainProvider(this._network),this._initializeConnection()}get apiPrefix(){return"https://api.taal.com/api/v1/broadcast"}isConnected(){return this._provider.isConnected()}connect(){return h4(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return h4(this,void 0,void 0,function*(){yield this._ready();let s=Math.max(1,e.length/2/1024),u=Math.max(1e4,1e3*s);try{return(yield(0,JQ.post)("https://api.taal.com/api/v1/broadcast").timeout({response:u,deadline:6e4}).set("Content-Type","application/octet-stream").set("Authorization",this.apiKey).send(I.Buffer.from(e,"hex"))).text}catch(o){throw((r=o.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=o.response)===null||n===void 0?void 0:n.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((i=o.response)===null||i===void 0?void 0:i.body)}`):new Error(`TaalProvider ERROR: ${o.message}`)}})}listUnspent(e,r){return h4(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return h4(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return h4(this,void 0,void 0,function*(){try{let i=yield(0,JQ.get)("https://api.taal.com/mapi/feeQuote").timeout({response:5e3,deadline:1e4}).set("Authorization",this.apiKey);JSON.parse(i.body.payload).fees.forEach(u=>{u.feeType=="standard"&&(this._feePerKb=u.miningFee.satoshis*1e3/u.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`TaalProvider ERROR: ${i.message}`)}})}};D9.TaalProvider=CC});var tee=$(L9=>{"use strict";B();k();var H9=L9&&L9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(L9,"__esModule",{value:!0});L9.FallbackProvider=void 0;var RC=Il(),QQ={stallTimeout:400,priority:1,weight:1};function p4(t){if(t==null||t instanceof Error)return"null";if(Array.isArray(t))return"["+t.map(p4).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return p4(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${p4(t[r])}`).join(",")+"}"}}throw new Error(`Could not serialize ${t}`)}function eee(t){if("error"in t){let r=t.error;return{tag:p4(r),value:r}}let e=t.result;return{tag:p4(e),value:e}}function TAe(t,e){let r=new Map;for(let{value:i,tag:s,weight:u}of e){let o=r.get(s)||{value:i,weight:0};o.weight+=u,r.set(s,o)}let n=null;if(r.forEach((i,s)=>{i.weight>=t&&(!n||i.weight>n.weight)&&(n=i)}),n)return n.value}function xAe(t,e){let r=TAe(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}var MC=class extends RC.Provider{constructor(e){if(super(),this.configs=e.map(n=>n instanceof RC.Provider?Object.assign({provider:n},QQ):Object.assign({},QQ,n)).sort((n,i)=>i.priority-n.priority),this.configs.length===0)throw new Error("No providers passed when initializing a FallbackProvider");let r=this.configs[0].provider.getNetwork();if(!this.configs.every(n=>n.provider.getNetwork()===r))throw new Error("All the providers passed should have the same network when initializing a FallbackProvider");if(this.quorum=2,this.quorum>this.configs.reduce((n,i)=>n+i.weight,0))throw new Error("quorum exceed provider wieght")}isConnected(){let e=!1;return this.configs.forEach(r=>{e=e||r.provider.isConnected()}),e}connect(){return H9(this,void 0,void 0,function*(){return yield this._getBestProviderResult(e=>e.connect()),Promise.resolve(this)})}updateNetwork(e){this.configs.forEach(r=>r.provider.updateNetwork(e))}getNetwork(){return this.configs[0].provider.getNetwork()}getFeePerKb(){return this._getBestProviderResult(e=>e.getFeePerKb())}sendRawTransaction(e){return this.perform("sendRawTransaction",r=>r.sendRawTransaction(e))}getTransaction(e){return this.perform("getTransaction",r=>r.getTransaction(e))}listUnspent(e,r){return this.perform("listUnspent",n=>n.listUnspent(e,r))}getBalance(e){return this.perform("getBalance",r=>r.getBalance(e))}_getBestProviderResult(e){return H9(this,void 0,void 0,function*(){let r=yield Promise.all(this.configs.map(({provider:i,weight:s})=>H9(this,void 0,void 0,function*(){try{let u=yield e(i);return Object.assign(eee({result:u}),{weight:s})}catch{return Object.assign(eee({result:50}),{weight:s})}}))),n=xAe(this.quorum,r);if(n instanceof Error)throw n;return n})}_getFastProviderResult(e){return H9(this,void 0,void 0,function*(){return yield new Promise((n,i)=>{let s=0;this.configs.forEach(({provider:u,weight:o})=>H9(this,void 0,void 0,function*(){try{let a=yield e(u);n(a instanceof RC.Provider?this:a)}catch(a){s++,s>=this.configs.length&&n(a)}}))})})}perform(e,r){return H9(this,void 0,void 0,function*(){let n=yield this._getFastProviderResult(r);if(n instanceof Error)throw n;return n})}};L9.FallbackProvider=MC});var iee=$(U9=>{"use strict";B();k();var IAe=U9&&U9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(U9,"__esModule",{value:!0});U9.DefaultProvider=void 0;var NC=mr(),PAe=Il(),OAe=BC(),BAe=tee(),kAe=PC(),CAe=FC(),ree=c4();function nee(t){return t==NC.bsv.Networks.testnet}var DC=class extends PAe.Provider{constructor(e){super(),this._providers=[],e=e||{network:NC.bsv.Networks.livenet};let r=e.network||NC.bsv.Networks.livenet;this._providers.push(new ree.WhatsonchainProvider(r)),(e.taal||nee(r))&&this._providers.push(new CAe.TaalProvider(e.taal)),(e.gorillapool||nee(r))&&this._providers.push(new OAe.GorillapoolProvider(r,e.gorillapool)),e.sensible&&this._providers.push(new kAe.SensibleProvider(r,e.sensible)),this._providers.length===0&&this._providers.push(new ree.WhatsonchainProvider(r))}get bestProvider(){return this._providers.length===1?"provider"in this._providers[0]?this._providers[0].provider:this._providers[0]:new BAe.FallbackProvider(this._providers)}isConnected(){return this.bestProvider.isConnected()}connect(){return IAe(this,void 0,void 0,function*(){return yield this.bestProvider.connect(),this})}updateNetwork(e){this.bestProvider.updateNetwork(e)}getNetwork(){return this.bestProvider.getNetwork()}getFeePerKb(){return this.bestProvider.getFeePerKb()}sendRawTransaction(e){return this.bestProvider.sendRawTransaction(e)}getTransaction(e){return this.bestProvider.getTransaction(e)}listUnspent(e,r){return this.bestProvider.listUnspent(e,r)}getBalance(e){return this.bestProvider.getBalance(e)}};U9.DefaultProvider=DC});var uee=$(Mw=>{"use strict";B();k();Object.defineProperty(Mw,"__esModule",{value:!0});Mw.DummyProvider=void 0;var HC=mr(),FAe=Il(),see=Ua(),RAe=e0(),LC=class extends FAe.Provider{constructor(e){super(),this.satoshisArray=e}isConnected(){return!0}connect(){return Promise.resolve(this)}updateNetwork(e){}getNetwork(){return HC.bsv.Networks.testnet}getFeePerKb(){return Promise.resolve(1)}sendRawTransaction(e){return Promise.resolve(e)}getTransaction(e){throw new Error("Method not implemented.")}listUnspent(e,r){if(this.satoshisArray){let n=this.satoshisArray.map(i=>({txId:(0,see.randomBytes)(32).toString("hex"),outputIndex:0,script:HC.bsv.Script.fromAddress(e).toHex(),satoshis:i}));return r?Promise.resolve((0,RAe.filterUTXO)(n,r)):Promise.resolve(n)}return Promise.resolve([{txId:(0,see.randomBytes)(32).toString("hex"),outputIndex:0,script:HC.bsv.Script.fromAddress(e).toHex(),satoshis:9999999999}])}getBalance(e){throw new Error("Method not implemented.")}};Mw.DummyProvider=LC});var oee=$(Nw=>{"use strict";B();k();Object.defineProperty(Nw,"__esModule",{value:!0});Nw.GetTransactionAction=void 0;var MAe=mr(),UC=class{constructor(){this.method="GET",this.pathPattern="/tx/:txId"}serilizeRequest(e){return e}deserilizeResponse(e,r){return new MAe.bsv.Transaction(e.txHex)}};Nw.GetTransactionAction=UC});var aee=$(Dw=>{"use strict";B();k();Object.defineProperty(Dw,"__esModule",{value:!0});Dw.GetBalanceAction=void 0;var $C=class{constructor(){this.method="GET",this.pathPattern="/address/:address/balance"}serilizeRequest(e){return{address:e.address.toString()}}deserilizeResponse(e,r){return e}};Dw.GetBalanceAction=$C});var cee=$(Hw=>{"use strict";B();k();Object.defineProperty(Hw,"__esModule",{value:!0});Hw.SendRawTransactionAction=void 0;var qC=class{constructor(){this.method="POST",this.pathPattern="/tx"}serilizeRequest(e){return e}deserilizeResponse(e,r){return e.txId}};Hw.SendRawTransactionAction=qC});var fee=$(Lw=>{"use strict";B();k();Object.defineProperty(Lw,"__esModule",{value:!0});Lw.ListUnspentAction=void 0;var NAe=e0(),jC=class{constructor(){this.method="GET",this.pathPattern="/address/:address/utxo"}serilizeRequest(e){return{address:e.address.toString(),options:e.options}}deserilizeResponse(e,r){let n=r.address.toString();e.forEach(s=>(s.address=n,s));let i=r.options;return i?(0,NAe.filterUTXO)(e,i):e}};Lw.ListUnspentAction=jC});var lee=$(Uw=>{"use strict";B();k();Object.defineProperty(Uw,"__esModule",{value:!0});Uw.GetFeePerKBAction=void 0;var KC=class{constructor(){this.method="GET",this.pathPattern="/feeperkb"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return e.satoshis}};Uw.GetFeePerKBAction=KC});var dee=$($w=>{"use strict";B();k();Object.defineProperty($w,"__esModule",{value:!0});$w.ConnectAction=void 0;var zC=class{constructor(){this.method="GET",this.pathPattern="/health"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return{success:e.status==="ok",error:""}}};$w.ConnectAction=zC});var GC=$(q9=>{"use strict";B();k();var $9=q9&&q9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(q9,"__esModule",{value:!0});q9.BsvApi=void 0;var DAe=oee(),HAe=aee(),LAe=cee(),UAe=fee(),$Ae=lee(),qAe=dee(),VC=class{constructor(e){this._core=e}getTransaction(e){return $9(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new DAe.GetTransactionAction,{txId:e})})}getBalance(e){return $9(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new HAe.GetBalanceAction,{address:e})})}getFeePerKB(){return $9(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new $Ae.GetFeePerKBAction,{})})}connect(){return $9(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new qAe.ConnectAction,{})})}sendRawTransaction(e){return $9(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new LAe.SendRawTransactionAction,{txHex:e})})}listUnspent(e,r){return $9(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new UAe.ListUnspentAction,{address:e,options:r})})}};q9.BsvApi=VC});var hee=$(qw=>{"use strict";B();k();Object.defineProperty(qw,"__esModule",{value:!0});qw.GetLatestInstanceAction=void 0;var WC=class{constructor(){this.method="GET",this.pathPattern="/contract/:txId/:outputIndex/utxo"}serilizeRequest(e){let{contractId:r}=e;return r}deserilizeResponse(e,r){if(e.length===0)throw new Error("The utxo related to the contract was not found, please check whether the contract artifact has been uploaded.");let n=r.clazz.fromLockingScript(e[0].script);return n.from=e[0],n}};qw.GetLatestInstanceAction=WC});var bee=$(jw=>{"use strict";B();k();Object.defineProperty(jw,"__esModule",{value:!0});jw.SyncHashedPropsAction=void 0;var jAe=b9(),YC=Sk(),pee=Vp();BigInt.prototype.toJSON=function(){return this.toString()};var XC=class{constructor(){this.method="POST",this.pathPattern="/contract/syncHashedProps?txId=:txId&outputIndex=:outputIndex"}serilizeRequest(e){let r=e.instance,n=(Reflect.getMetadata(jAe.PropsMetaKey,r)||[]).filter(s=>r[s]instanceof YC.HashedMap||r[s]instanceof pee.HashedSet).map(s=>{let u=r[s],o;return(r[s]instanceof YC.HashedMap||r[s]instanceof pee.HashedSet)&&(u=Array.from(r[s].entries()),o=r[s]._type),{name:s,type:r[s]instanceof YC.HashedMap?"HashedMap":"HashedSet",value:u}}),i=r.utxo;return{txId:i.txId,outputIndex:i.outputIndex,props:n}}deserilizeResponse(e,r){}};jw.SyncHashedPropsAction=XC});var mee=$(i3=>{"use strict";B();k();var KAe=i3&&i3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},zAe=i3&&i3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i3,"__esModule",{value:!0});i3.getTransaction=void 0;var VAe=zAe(Cu()),gee=mr();function GAe(t,e){return KAe(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.name===gee.bsv.Networks.mainnet.name?"main":"test"}`;return(0,VAe.default)("GET",`${n}/tx/${e}/hex`).timeout(2e5).retry(2).then(i=>{if(i.ok)return new gee.bsv.Transaction(i.text);throw i.error?i.error:`getTransaction error ${e}`})})}i3.getTransaction=GAe});var Kw=$(s3=>{"use strict";B();k();Object.defineProperty(s3,"__esModule",{value:!0});s3.ERROR_PACKET=s3.PACKET_TYPES_REVERSE=s3.PACKET_TYPES=void 0;var Pl=Object.create(null);s3.PACKET_TYPES=Pl;Pl.open="0";Pl.close="1";Pl.ping="2";Pl.pong="3";Pl.message="4";Pl.upgrade="5";Pl.noop="6";var yee=Object.create(null);s3.PACKET_TYPES_REVERSE=yee;Object.keys(Pl).forEach(t=>{yee[Pl[t]]=t});var WAe={type:"error",data:"parser error"};s3.ERROR_PACKET=WAe});var Tee=$(b4=>{"use strict";B();k();Object.defineProperty(b4,"__esModule",{value:!0});b4.encodePacket=void 0;b4.encodePacketToBinary=XAe;var YAe=Kw(),_ee=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wee=typeof ArrayBuffer=="function",Eee=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Aee=({type:t,data:e},r,n)=>_ee&&e instanceof Blob?r?n(e):vee(e,n):wee&&(e instanceof ArrayBuffer||Eee(e))?r?n(e):vee(new Blob([e]),n):n(YAe.PACKET_TYPES[t]+(e||""));b4.encodePacket=Aee;var vee=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function See(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var ZC;function XAe(t,e){if(_ee&&t.data instanceof Blob)return t.data.arrayBuffer().then(See).then(e);if(wee&&(t.data instanceof ArrayBuffer||Eee(t.data)))return e(See(t.data));Aee(t,!1,r=>{ZC||(ZC=new TextEncoder),e(ZC.encode(r))})}});var xee=$(K9=>{"use strict";B();k();Object.defineProperty(K9,"__esModule",{value:!0});K9.decode=K9.encode=void 0;var j9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<j9.length;t++)g4[j9.charCodeAt(t)]=t;var ZAe=t=>{let e=new Uint8Array(t),r,n=e.length,i="";for(r=0;r<n;r+=3)i+=j9[e[r]>>2],i+=j9[(e[r]&3)<<4|e[r+1]>>4],i+=j9[(e[r+1]&15)<<2|e[r+2]>>6],i+=j9[e[r+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};K9.encode=ZAe;var JAe=t=>{let e=t.length*.75,r=t.length,n,i=0,s,u,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let l=new ArrayBuffer(e),f=new Uint8Array(l);for(n=0;n<r;n+=4)s=g4[t.charCodeAt(n)],u=g4[t.charCodeAt(n+1)],o=g4[t.charCodeAt(n+2)],a=g4[t.charCodeAt(n+3)],f[i++]=s<<2|u>>4,f[i++]=(u&15)<<4|o>>2,f[i++]=(o&3)<<6|a&63;return l};K9.decode=JAe});var Pee=$(Vw=>{"use strict";B();k();Object.defineProperty(Vw,"__esModule",{value:!0});Vw.decodePacket=void 0;var zw=Kw(),QAe=xee(),eTe=typeof ArrayBuffer=="function",tTe=(t,e)=>{if(typeof t!="string")return{type:"message",data:Iee(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:rTe(t.substring(1),e)}:zw.PACKET_TYPES_REVERSE[r]?t.length>1?{type:zw.PACKET_TYPES_REVERSE[r],data:t.substring(1)}:{type:zw.PACKET_TYPES_REVERSE[r]}:zw.ERROR_PACKET};Vw.decodePacket=tTe;var rTe=(t,e)=>{if(eTe){let r=(0,QAe.decode)(t);return Iee(r,e)}else return{base64:!0,data:t}},Iee=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});var z9=$(ma=>{"use strict";B();k();Object.defineProperty(ma,"__esModule",{value:!0});ma.decodePayload=ma.decodePacket=ma.encodePayload=ma.encodePacket=ma.protocol=void 0;ma.createPacketEncoderStream=sTe;ma.createPacketDecoderStream=uTe;var QC=Tee();Object.defineProperty(ma,"encodePacket",{enumerable:!0,get:function(){return QC.encodePacket}});var eF=Pee();Object.defineProperty(ma,"decodePacket",{enumerable:!0,get:function(){return eF.decodePacket}});var Oee=Kw(),Bee=String.fromCharCode(30),nTe=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((s,u)=>{(0,QC.encodePacket)(s,!1,o=>{n[u]=o,++i===r&&e(n.join(Bee))})})};ma.encodePayload=nTe;var iTe=(t,e)=>{let r=t.split(Bee),n=[];for(let i=0;i<r.length;i++){let s=(0,eF.decodePacket)(r[i],e);if(n.push(s),s.type==="error")break}return n};ma.decodePayload=iTe;function sTe(){return new TransformStream({transform(t,e){(0,QC.encodePacketToBinary)(t,r=>{let n=r.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);let s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}var JC;function Gw(t){return t.reduce((e,r)=>e+r.length,0)}function Ww(t,e){if(t[0].length===e)return t.shift();let r=new Uint8Array(e),n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function uTe(t,e){JC||(JC=new TextDecoder);let r=[],n=0,i=-1,s=!1;return new TransformStream({transform(u,o){for(r.push(u);;){if(n===0){if(Gw(r)<1)break;let a=Ww(r,1);s=(a[0]&128)===128,i=a[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Gw(r)<2)break;let a=Ww(r,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),n=3}else if(n===2){if(Gw(r)<8)break;let a=Ww(r,8),l=new DataView(a.buffer,a.byteOffset,a.length),f=l.getUint32(0);if(f>Math.pow(2,53-32)-1){o.enqueue(Oee.ERROR_PACKET);break}i=f*Math.pow(2,32)+l.getUint32(4),n=3}else{if(Gw(r)<i)break;let a=Ww(r,i);o.enqueue((0,eF.decodePacket)(s?a:JC.decode(a),e)),n=0}if(i===0||i>t){o.enqueue(Oee.ERROR_PACKET);break}}}})}ma.protocol=4});var g7=$(kee=>{B();k();kee.Emitter=Ro;function Ro(t){if(t)return oTe(t)}function oTe(t){for(var e in Ro.prototype)t[e]=Ro.prototype[e];return t}Ro.prototype.on=Ro.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ro.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Ro.prototype.off=Ro.prototype.removeListener=Ro.prototype.removeAllListeners=Ro.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Ro.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Ro.prototype.emitReserved=Ro.prototype.emit;Ro.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ro.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var m4=$(Yw=>{"use strict";B();k();Object.defineProperty(Yw,"__esModule",{value:!0});Yw.globalThisShim=void 0;Yw.globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())()});var V9=$(o3=>{"use strict";B();k();Object.defineProperty(o3,"__esModule",{value:!0});o3.byteLength=o3.installTimerFunctions=o3.pick=void 0;var u3=m4();function aTe(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}o3.pick=aTe;var cTe=u3.globalThisShim.setTimeout,fTe=u3.globalThisShim.clearTimeout;function lTe(t,e){e.useNativeTimers?(t.setTimeoutFn=cTe.bind(u3.globalThisShim),t.clearTimeoutFn=fTe.bind(u3.globalThisShim)):(t.setTimeoutFn=u3.globalThisShim.setTimeout.bind(u3.globalThisShim),t.clearTimeoutFn=u3.globalThisShim.clearTimeout.bind(u3.globalThisShim))}o3.installTimerFunctions=lTe;var dTe=1.33;function hTe(t){return typeof t=="string"?pTe(t):Math.ceil((t.byteLength||t.size)*dTe)}o3.byteLength=hTe;function pTe(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}});var tF=$(G9=>{"use strict";B();k();Object.defineProperty(G9,"__esModule",{value:!0});G9.decode=G9.encode=void 0;function bTe(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}G9.encode=bTe;function gTe(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}G9.decode=gTe});var y4=$(a3=>{"use strict";B();k();var mTe=a3&&a3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a3,"__esModule",{value:!0});a3.Transport=a3.TransportError=void 0;var yTe=z9(),vTe=g7(),STe=V9(),_Te=mTe(Yf()),wTe=tF(),ETe=(0,_Te.default)("engine.io-client:transport"),Xw=class extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}};a3.TransportError=Xw;var rF=class extends vTe.Emitter{constructor(e){super(),this.writable=!1,(0,STe.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new Xw(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):ETe("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let r=(0,yTe.decodePacket)(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let r=(0,wTe.encode)(e);return r.length?"?"+r:""}};a3.Transport=rF});var iF=$(f3=>{"use strict";B();k();Object.defineProperty(f3,"__esModule",{value:!0});f3.yeast=f3.decode=f3.encode=void 0;var Ree="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Zw=64,Mee={},Cee=0,c3=0,Fee;function nF(t){let e="";do e=Ree[t%Zw]+e,t=Math.floor(t/Zw);while(t>0);return e}f3.encode=nF;function ATe(t){let e=0;for(c3=0;c3<t.length;c3++)e=e*Zw+Mee[t.charAt(c3)];return e}f3.decode=ATe;function TTe(){let t=nF(+new Date);return t!==Fee?(Cee=0,Fee=t):t+"."+nF(Cee++)}f3.yeast=TTe;for(;c3<Zw;c3++)Mee[Ree[c3]]=c3});var Dee=$(Jw=>{"use strict";B();k();Object.defineProperty(Jw,"__esModule",{value:!0});Jw.hasCORS=void 0;var Nee=!1;try{Nee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}Jw.hasCORS=Nee});var Hee=$(W9=>{"use strict";B();k();Object.defineProperty(W9,"__esModule",{value:!0});W9.createCookieJar=W9.XHR=void 0;var xTe=Dee(),ITe=m4();function PTe(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xTe.hasCORS))return new XMLHttpRequest}catch{}if(!e)try{return new ITe.globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}W9.XHR=PTe;function OTe(){}W9.createCookieJar=OTe});var qee=$(l3=>{"use strict";B();k();var BTe=l3&&l3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l3,"__esModule",{value:!0});l3.Request=l3.Polling=void 0;var kTe=y4(),CTe=BTe(Yf()),FTe=iF(),Lee=z9(),uF=Hee(),RTe=g7(),Uee=V9(),MTe=m4(),ya=(0,CTe.default)("engine.io-client:polling");function NTe(){}var DTe=function(){return new uF.XHR({xdomain:!1}).responseType!=null}(),sF=class extends kTe.Transport{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let n=location.protocol==="https:",i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}let r=e&&e.forceBase64;this.supportsBinary=DTe&&!r,this.opts.withCredentials&&(this.cookieJar=(0,uF.createCookieJar)())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let r=()=>{ya("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(ya("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){ya("pre-pause polling complete"),--n||r()})),this.writable||(ya("we are currently writing - waiting to pause"),n++,this.once("drain",function(){ya("pre-pause writing complete"),--n||r()}))}else r()}poll(){ya("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){ya("polling got data %s",e);let r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};(0,Lee.decodePayload)(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this.poll():ya('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{ya("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(ya("transport open - closing"),e()):(ya("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,Lee.encodePayload)(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=(0,FTe.yeast)()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ja(this.uri(),e)}doWrite(e,r){let n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){ya("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}};l3.Polling=sF;var Ja=class extends RTe.Emitter{constructor(e,r){super(),(0,Uee.installTimerFunctions)(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;let r=(0,Uee.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;let n=this.xhr=new uF.XHR(r);try{ya("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},ya("xhr data %s",this.data),n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Ja.requestsCount++,Ja.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=NTe,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ja.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};l3.Request=Ja;Ja.requestsCount=0;Ja.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",$ee);else if(typeof addEventListener=="function"){let t="onpagehide"in MTe.globalThisShim?"pagehide":"unload";addEventListener(t,$ee,!1)}}function $ee(){for(let t in Ja.requests)Ja.requests.hasOwnProperty(t)&&Ja.requests[t].abort()}});var v4=$(Ol=>{"use strict";B();k();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.defaultBinaryType=Ol.usingBrowserWebSocket=Ol.WebSocket=Ol.nextTick=void 0;var jee=m4();Ol.nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))();Ol.WebSocket=jee.globalThisShim.WebSocket||jee.globalThisShim.MozWebSocket;Ol.usingBrowserWebSocket=!0;Ol.defaultBinaryType="arraybuffer"});var zee=$(Y9=>{"use strict";B();k();var HTe=Y9&&Y9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y9,"__esModule",{value:!0});Y9.WS=void 0;var LTe=y4(),UTe=iF(),$Te=V9(),d3=v4(),qTe=HTe(Yf()),jTe=z9(),KTe=(0,qTe.default)("engine.io-client:websocket"),Kee=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",oF=class extends LTe.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),r=this.opts.protocols,n=Kee?{}:(0,$Te.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=d3.usingBrowserWebSocket&&!Kee?r?new d3.WebSocket(e,r):new d3.WebSocket(e):new d3.WebSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;(0,jTe.encodePacket)(n,this.supportsBinary,s=>{let u={};d3.usingBrowserWebSocket||(n.options&&(u.compress=n.options.compress),this.opts.perMessageDeflate&&(typeof s=="string"?I.Buffer.byteLength(s):s.length)<this.opts.perMessageDeflate.threshold&&(u.compress=!1));try{d3.usingBrowserWebSocket?this.ws.send(s):this.ws.send(s,u)}catch{KTe("websocket closed before onclose event")}i&&(0,d3.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=(0,UTe.yeast)()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!d3.WebSocket}};Y9.WS=oF});var Gee=$(X9=>{"use strict";B();k();var zTe=X9&&X9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X9,"__esModule",{value:!0});X9.WT=void 0;var VTe=y4(),GTe=v4(),Vee=z9(),WTe=zTe(Yf()),S4=(0,WTe.default)("engine.io-client:webtransport"),aF=class extends VTe.Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{S4("transport closed gracefully"),this.onClose()}).catch(e=>{S4("transport closed due to %s",e),this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let r=(0,Vee.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=(0,Vee.createPacketEncoderStream)();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();let s=()=>{n.read().then(({done:o,value:a})=>{if(o){S4("session is closed");return}S4("received chunk: %o",a),this.onPacket(a),s()}).catch(o=>{S4("an error occurred while reading: %s",o)})};s();let u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this.writer.write(u).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;this.writer.write(n).then(()=>{i&&(0,GTe.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};X9.WT=aF});var cF=$(Qw=>{"use strict";B();k();Object.defineProperty(Qw,"__esModule",{value:!0});Qw.transports=void 0;var YTe=qee(),XTe=zee(),ZTe=Gee();Qw.transports={websocket:XTe.WS,webtransport:ZTe.WT,polling:YTe.Polling}});var fF=$(eE=>{"use strict";B();k();Object.defineProperty(eE,"__esModule",{value:!0});eE.parse=void 0;var JTe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,QTe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function exe(t){if(t.length>2e3)throw"URI too long";let e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=JTe.exec(t||""),s={},u=14;for(;u--;)s[QTe[u]]=i[u]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=txe(s,s.path),s.queryKey=rxe(s,s.query),s}eE.parse=exe;function txe(t,e){let r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function rxe(t,e){let r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}});var Zee=$(Z9=>{"use strict";B();k();var nxe=Z9&&Z9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Z9,"__esModule",{value:!0});Z9.Socket=void 0;var ixe=cF(),Wee=V9(),sxe=tF(),Yee=fF(),uxe=nxe(Yf()),oxe=g7(),Xee=z9(),axe=v4(),Ti=(0,uxe.default)("engine.io-client:socket"),Bl=class extends oxe.Emitter{constructor(e,r={}){super(),this.binaryType=axe.defaultBinaryType,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=(0,Yee.parse)(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=(0,Yee.parse)(r.host).host),(0,Wee.installTimerFunctions)(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(0,sxe.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Ti('creating transport "%s"',e);let r=Object.assign({},this.opts.query);r.EIO=Xee.protocol,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return Ti("options: %j",n),new ixe.transports[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Bl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(r){Ti("error while creating transport: %s",r),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){Ti("setting transport %s",e.name),this.transport&&(Ti("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){Ti('probing transport "%s"',e);let r=this.createTransport(e),n=!1;Bl.priorWebsocketSuccess=!1;let i=()=>{n||(Ti('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",c=>{if(!n)if(c.type==="pong"&&c.data==="probe"){if(Ti('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Bl.priorWebsocketSuccess=r.name==="websocket",Ti('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||this.readyState!=="closed"&&(Ti("changing transport and sending upgrade packet"),f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{Ti('probe transport "%s" failed',e);let h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function s(){n||(n=!0,f(),r.close(),r=null)}let u=c=>{let h=new Error("probe error: "+c);h.transport=r.name,s(),Ti('probe transport "%s" failed because of error: %s',e,c),this.emitReserved("upgradeError",h)};function o(){u("transport closed")}function a(){u("socket closed")}function l(c){r&&c.name!==r.name&&(Ti('"%s" works - aborting "%s"',c.name,r.name),s())}let f=()=>{r.removeListener("open",i),r.removeListener("error",u),r.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};r.once("open",i),r.once("error",u),r.once("close",o),this.once("close",a),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(Ti("socket open"),this.readyState="open",Bl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){Ti("starting upgrade probes");let e=0,r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ti('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else Ti('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();Ti("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){let i=this.writeBuffer[n].data;if(i&&(r+=(0,Wee.byteLength)(i)),n>0&&r>this.maxPayload)return Ti("only send %d out of %d packets",n,this.writeBuffer.length),this.writeBuffer.slice(0,n);r+=2}return Ti("payload size is %d (max: %d)",r,this.maxPayload),this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this.onClose("forced close"),Ti("socket closing - telling transport to close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Ti("socket error %j",e),Bl.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(Ti('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let r=[],n=0,i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};Z9.Socket=Bl;Bl.protocol=Xee.protocol});var lF=$(uu=>{"use strict";B();k();Object.defineProperty(uu,"__esModule",{value:!0});uu.nextTick=uu.parse=uu.installTimerFunctions=uu.transports=uu.TransportError=uu.Transport=uu.protocol=uu.Socket=void 0;var Jee=Zee();Object.defineProperty(uu,"Socket",{enumerable:!0,get:function(){return Jee.Socket}});uu.protocol=Jee.Socket.protocol;var Qee=y4();Object.defineProperty(uu,"Transport",{enumerable:!0,get:function(){return Qee.Transport}});Object.defineProperty(uu,"TransportError",{enumerable:!0,get:function(){return Qee.TransportError}});var cxe=cF();Object.defineProperty(uu,"transports",{enumerable:!0,get:function(){return cxe.transports}});var fxe=V9();Object.defineProperty(uu,"installTimerFunctions",{enumerable:!0,get:function(){return fxe.installTimerFunctions}});var lxe=fF();Object.defineProperty(uu,"parse",{enumerable:!0,get:function(){return lxe.parse}});var dxe=v4();Object.defineProperty(uu,"nextTick",{enumerable:!0,get:function(){return dxe.nextTick}})});var tte=$(J9=>{"use strict";B();k();var hxe=J9&&J9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J9,"__esModule",{value:!0});J9.url=void 0;var pxe=lF(),bxe=hxe(Yf()),ete=bxe.default("socket.io-client:url");function gxe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(ete("protocol-less url %s",t),typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),ete("parse %s",t),n=pxe.parse(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}J9.url=gxe});var dF=$(Q9=>{"use strict";B();k();Object.defineProperty(Q9,"__esModule",{value:!0});Q9.hasBinary=Q9.isBinary=void 0;var mxe=typeof ArrayBuffer=="function",yxe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,rte=Object.prototype.toString,vxe=typeof Blob=="function"||typeof Blob<"u"&&rte.call(Blob)==="[object BlobConstructor]",Sxe=typeof File=="function"||typeof File<"u"&&rte.call(File)==="[object FileConstructor]";function nte(t){return mxe&&(t instanceof ArrayBuffer||yxe(t))||vxe&&t instanceof Blob||Sxe&&t instanceof File}Q9.isBinary=nte;function tE(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(tE(t[r]))return!0;return!1}if(nte(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return tE(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&tE(t[r]))return!0;return!1}Q9.hasBinary=tE});var ite=$(eb=>{"use strict";B();k();Object.defineProperty(eb,"__esModule",{value:!0});eb.reconstructPacket=eb.deconstructPacket=void 0;var _xe=dF();function wxe(t){let e=[],r=t.data,n=t;return n.data=hF(r,e),n.attachments=e.length,{packet:n,buffers:e}}eb.deconstructPacket=wxe;function hF(t,e){if(!t)return t;if((0,_xe.isBinary)(t)){let r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=hF(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){let r={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=hF(t[n],e));return r}return t}function Exe(t,e){return t.data=pF(t.data,e),delete t.attachments,t}eb.reconstructPacket=Exe;function pF(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=pF(t[r],e);else if(typeof t=="object")for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=pF(t[r],e));return t}});var rE=$(pf=>{"use strict";B();k();Object.defineProperty(pf,"__esModule",{value:!0});pf.Decoder=pf.Encoder=pf.PacketType=pf.protocol=void 0;var Axe=g7(),ute=ite(),ote=dF(),Txe=Yf(),bF=(0,Txe.default)("socket.io-parser"),xxe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];pf.protocol=5;var Li;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Li=pf.PacketType||(pf.PacketType={}));var gF=class{constructor(e){this.replacer=e}encode(e){return bF("encoding packet %j",e),(e.type===Li.EVENT||e.type===Li.ACK)&&(0,ote.hasBinary)(e)?this.encodeAsBinary({type:e.type===Li.EVENT?Li.BINARY_EVENT:Li.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Li.BINARY_EVENT||e.type===Li.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),bF("encoded %j as %s",e,r),r}encodeAsBinary(e){let r=(0,ute.deconstructPacket)(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};pf.Encoder=gF;function ste(t){return Object.prototype.toString.call(t)==="[object Object]"}var _4=class extends Axe.Emitter{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);let n=r.type===Li.BINARY_EVENT;n||r.type===Li.BINARY_ACK?(r.type=n?Li.EVENT:Li.ACK,this.reconstructor=new mF(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if((0,ote.isBinary)(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0,n={type:Number(e.charAt(0))};if(Li[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Li.BINARY_EVENT||n.type===Li.BINARY_ACK){let s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);let u=e.substring(s,r);if(u!=Number(u)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(u)}if(e.charAt(r+1)==="/"){let s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";let i=e.charAt(r+1);if(i!==""&&Number(i)==i){let s=r+1;for(;++r;){let u=e.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){let s=this.tryParse(e.substr(r));if(_4.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return bF("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Li.CONNECT:return ste(r);case Li.DISCONNECT:return r===void 0;case Li.CONNECT_ERROR:return typeof r=="string"||ste(r);case Li.EVENT:case Li.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&xxe.indexOf(r[0])===-1);case Li.ACK:case Li.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};pf.Decoder=_4;var mF=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let r=(0,ute.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var yF=$(nE=>{"use strict";B();k();Object.defineProperty(nE,"__esModule",{value:!0});nE.on=void 0;function Ixe(t,e,r){return t.on(e,r),function(){t.off(e,r)}}nE.on=Ixe});var SF=$(tb=>{"use strict";B();k();var Pxe=tb&&tb.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tb,"__esModule",{value:!0});tb.Socket=void 0;var bf=rE(),iE=yF(),Oxe=g7(),Bxe=Pxe(Yf()),Cs=Bxe.default("socket.io-client:socket"),kxe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),vF=class extends Oxe.Emitter{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[iE.on(e,"open",this.onopen.bind(this)),iE.on(e,"packet",this.onpacket.bind(this)),iE.on(e,"error",this.onerror.bind(this)),iE.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(kxe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let n={type:bf.PacketType.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let u=this.ids++;Cs("emitting packet with ack id %d",u);let o=r.pop();this._registerAckCallback(u,o),n.id=u}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?Cs("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n),this.flags={},this}_registerAckCallback(e,r){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&(Cs("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(o,1));Cs("event with ack id %d has timed out after %d ms",e,i),r.call(this,new Error("operation has timed out"))},i),u=(...o)=>{this.io.clearTimeoutFn(s),r.apply(this,o)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...r){return new Promise((n,i)=>{let s=(u,o)=>u?i(u):n(o);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(Cs("packet [%d] is discarded after %d tries",n.id,n.tryCount),this._queue.shift(),r&&r(i)):(Cs("packet [%d] was successfully sent",n.id),this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(Cs("draining queue"),!this.connected||this._queue.length===0)return;let r=this._queue[0];if(r.pending&&!e){Cs("packet [%d] has already been sent and is waiting for an ack",r.id);return}r.pending=!0,r.tryCount++,Cs("sending packet [%d] (try n\xB0%d)",r.id,r.tryCount),this.flags=r.flags,this.emit.apply(this,r.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){Cs("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:bf.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){Cs("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case bf.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bf.PacketType.EVENT:case bf.PacketType.BINARY_EVENT:this.onevent(e);break;case bf.PacketType.ACK:case bf.PacketType.BINARY_ACK:this.onack(e);break;case bf.PacketType.DISCONNECT:this.ondisconnect();break;case bf.PacketType.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let r=e.data||[];Cs("emitting event %j",r),e.id!=null&&(Cs("attaching ack callback to event"),r.push(this.ack(e.id))),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let r=this,n=!1;return function(...i){n||(n=!0,Cs("sending ack %j",i),r.packet({type:bf.PacketType.ACK,id:e,data:i}))}}onack(e){let r=this.acks[e.id];if(typeof r!="function"){Cs("bad ack %s",e.id);return}delete this.acks[e.id],Cs("calling ack %s with %j",e.id,e.data),r.withError&&e.data.unshift(null),r.apply(this,e.data)}onconnect(e,r){Cs("socket connected with id %s",e),this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){Cs("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(Cs("performing disconnect (%s)",this.nsp),this.packet({type:bf.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let n of r)n.apply(this,e.data)}}};tb.Socket=vF});var ate=$(sE=>{"use strict";B();k();Object.defineProperty(sE,"__esModule",{value:!0});sE.Backoff=void 0;function rb(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}sE.Backoff=rb;rb.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};rb.prototype.reset=function(){this.attempts=0};rb.prototype.setMin=function(t){this.ms=t};rb.prototype.setMax=function(t){this.max=t};rb.prototype.setJitter=function(t){this.jitter=t}});var cte=$(n0=>{"use strict";B();k();var Cxe=n0&&n0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fxe=n0&&n0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rxe=n0&&n0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cxe(e,t,r);return Fxe(e,t),e},Mxe=n0&&n0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n0,"__esModule",{value:!0});n0.Manager=void 0;var _F=lF(),Nxe=SF(),Dxe=Rxe(rE()),m7=yF(),Hxe=ate(),Lxe=g7(),Uxe=Mxe(Yf()),Fu=Uxe.default("socket.io-client:manager"),wF=class extends Lxe.Emitter{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,_F.installTimerFunctions(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Hxe.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;let i=r.parser||Dxe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(Fu("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Fu("opening %s",this.uri),this.engine=new _F.Socket(this.uri,this.opts);let r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=m7.on(r,"open",function(){n.onopen(),e&&e()}),s=o=>{Fu("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},u=m7.on(r,"error",s);if(this._timeout!==!1){let o=this._timeout;Fu("connect attempt will timeout after %d",o);let a=this.setTimeoutFn(()=>{Fu("connect attempt timed out after %d",o),i(),s(new Error("timeout")),r.close()},o);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(i),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){Fu("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(m7.on(e,"ping",this.onping.bind(this)),m7.on(e,"data",this.ondata.bind(this)),m7.on(e,"error",this.onerror.bind(this)),m7.on(e,"close",this.onclose.bind(this)),m7.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){_F.nextTick(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){Fu("error",e),this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Nxe.Socket(this,e,r),this.nsps[e]=n),n}_destroy(e){let r=Object.keys(this.nsps);for(let n of r)if(this.nsps[n].active){Fu("socket %s is still active, skipping close",n);return}this._close()}_packet(e){Fu("writing packet %j",e);let r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){Fu("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){Fu("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){Fu("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Fu("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();Fu("will wait %dms before reconnect attempt",r),this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(Fu("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(Fu("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(Fu("reconnect success"),e.onreconnect())}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};n0.Manager=wF});var EF=$((ao,dte)=>{"use strict";B();k();var $xe=ao&&ao.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ao,"__esModule",{value:!0});ao.default=ao.connect=ao.io=ao.Socket=ao.Manager=ao.protocol=void 0;var qxe=tte(),uE=cte();Object.defineProperty(ao,"Manager",{enumerable:!0,get:function(){return uE.Manager}});var lte=SF();Object.defineProperty(ao,"Socket",{enumerable:!0,get:function(){return lte.Socket}});var jxe=$xe(Yf()),fte=jxe.default("socket.io-client"),w4={};function y7(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let r=qxe.url(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,u=w4[i]&&s in w4[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||u,a;return o?(fte("ignoring socket cache for %s",n),a=new uE.Manager(n,e)):(w4[i]||(fte("new io instance for %s",n),w4[i]=new uE.Manager(n,e)),a=w4[i]),r.query&&!e.query&&(e.query=r.queryKey),a.socket(r.path,e)}ao.io=y7;ao.connect=y7;ao.default=y7;Object.assign(y7,{Manager:uE.Manager,Socket:lte.Socket,io:y7,connect:y7});var Kxe=rE();Object.defineProperty(ao,"protocol",{enumerable:!0,get:function(){return Kxe.protocol}});dte.exports=y7});var xF=$(nb=>{"use strict";B();k();var AF=nb&&nb.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(nb,"__esModule",{value:!0});nb.ContractApi=void 0;var zxe=hee(),Vxe=bee(),Gxe=mee(),Wxe=EF(),Yxe=t=>new Promise(e=>setTimeout(e,t)),hte=(t,e,r,n)=>new Promise((i,s)=>t().then(i).catch(u=>r>0&&(n&&n(u)||typeof n>"u")?Yxe(e).then(hte.bind(null,t,e,r-1)).then(i).catch(s):s(u))),TF=class{constructor(e){this._core=e}syncHashedProps(e){return AF(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new Vxe.SyncHashedPropsAction,{instance:e})})}getLatestInstance(e,r){return AF(this,void 0,void 0,function*(){return yield hte(()=>this._core.actionResolver.resolve(new zxe.GetLatestInstanceAction,{clazz:e,contractId:r}),3e3,10,i=>i.message.includes("The utxo related to the contract was not found"))})}subscribe(e,r){let n=this,i=this._core.getBaseUrl(),s=this._core.getApiKey(),u=Wxe(i,{path:"/streams/contract",query:e.id,auth:{token:s}}),o=()=>{u.close(),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`),n._core.logger.info("unsubscribe",`The connection to ${e.id.txId}:${e.id.outputIndex} has been unsubscribed.`)};return u.on("connect",function(){n._core.logger.info("Connected",`The connection to ${e.id.txId}:${e.id.outputIndex} has been established.`)}),u.on("connect_error",a=>{n._core.logger.error("connect_error","The connection")}),u.on("utxoSpent",function(a){return AF(this,void 0,void 0,function*(){n._core.logger.debug("utxoSpent",`Got message ${e.id.txId}:${e.id.outputIndex}: ${a}`);let l=e.clazz,f=yield(0,Gxe.getTransaction)(n._core.getNetWork(),a.spentBy.txId),c=l.parseCallData(f,a.spentBy.inputIndex);if(Array.isArray(e.methodNames)&&!e.methodNames.includes(c.methodName))return;let h=Array.isArray(a.createdInSpentTxOutputs)?a.createdInSpentTxOutputs.map(d=>l.fromTx(f,d)):[];r({nexts:h,methodName:c.methodName,args:c.args.map(d=>d.value),tx:f})})}),u.on("subscribeFailed",function(a){n._core.logger.error("subscribeFailed",`Subscribe contract ${e.id.txId}:${e.id.outputIndex} failed: ${a}.`),o()}),u.on("error",function({statusCode:a,errorMsg:l}){n._core.logger.error("websocket error",`statusCode=${a}, errorMsg=${l}`),o()}),u.on("disconnect",function(){n._core.logger.info("Disconnected",`The connection to ${e.id.txId}:${e.id.outputIndex} disconnected.`),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`)}),this._core.events.set(`${e.id.txId}:${e.id.outputIndex}`,u),{unsubscribe:o}}};nb.ContractApi=TF});var IF=$(h3=>{"use strict";B();k();var Xxe=h3&&h3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},Zxe=h3&&h3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(h3,"__esModule",{value:!0});h3.RequestController=void 0;var Jxe=Zxe(Cu()),pte=mr(),v7;(function(t){t.apiKey="apiKey",t.network="network",t.timeout="timeout",t.maxRetries="maxRetries"})(v7||(v7={}));var E4=class{constructor(e,r){this._config=e,this._logger=r}request(e){return Xxe(this,void 0,void 0,function*(){this._logger.debug(this.constructor.name,`[${e.method}]request ${e.pathPattern}`,e.data);let r=(0,Jxe.default)(e.method,E4.getUrl(this.baseUrl,e.pathPattern,e.data)).auth(this._config.get(v7.apiKey),{type:"bearer"}).set("Content-Type","application/json").timeout(this._config.get(v7.timeout,2e4)).retry(this._config.get(v7.maxRetries,3));for(let n in e.headers||{})r=r.set(n,e.headers[n]);e.data&&(e.method==="GET"?r=r.query(e.data):r=r.send(e.data));try{let n=yield r;if(n.ok)return n.body;throw new Error(n.text)}catch(n){throw this._logger.error(this.constructor.name,n.message),n}})}get network(){return this._config.get(v7.network,pte.bsv.Networks.mainnet)}get apiKey(){return this._config.get(v7.apiKey,"")}get baseUrl(){let e=this.network===pte.bsv.Networks.mainnet?"https://api.scrypt.io":"https://testnet-api.scrypt.io";return process.env.BASEURL||e}static getUrl(e,r,n){let i=r.match(/:\w+/g)||[],s=r;for(let u of i){let o=u.replace(":",""),a=n[o];if(a===void 0)throw new Error(`Missing path argument ${o}`);if(typeof a!="string"&&typeof a!="number")throw new Error(`Path argument ${o} must be a string or number`);s=s.replace(u,a.toString())}return`${e.replace(/\/+$/,"")}/${s.replace(/^\/+/,"")}`}};h3.RequestController=E4});var OF=$(p3=>{"use strict";B();k();var Qxe=p3&&p3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(p3,"__esModule",{value:!0});p3.ActionResolver=p3.ActionError=void 0;var eIe=IF(),oE=class extends Error{constructor(e,r){super(r),this.statusCode=e,this.message=r}};p3.ActionError=oE;var PF=class{constructor(e,r){this._requestController=e,this._loggerController=r}resolve(e,r){return Qxe(this,void 0,void 0,function*(){let n=e.serilizeRequest(r),i=yield this._requestController.request({pathPattern:e.pathPattern,method:e.method,data:n});if(i.statusCode!==0){let s=eIe.RequestController.getUrl("/",e.pathPattern,n),u=`Action [${e.method} ${s}] failed with error code ${i.statusCode}, ${i.errorMsg}`;throw this._loggerController.error(this.constructor.name,u,i.data||""),new oE(i.statusCode,i.errorMsg)}return e.deserilizeResponse(i.data,r)})}};p3.ActionResolver=PF});var bte=$(aE=>{"use strict";B();k();Object.defineProperty(aE,"__esModule",{value:!0});aE.Config=void 0;var BF=class{constructor(){this.options=new Map,this.isInitialized=!1}get(e,r){if(!this.isInitialized)throw new Error("Config is not initialized");let n=this.options.get(e);if(!n&&r===void 0)throw new Error(`Config option ${e} not found`);return n||r}set(e,r){this.options.set(e,r)}finishInit(){this.isInitialized=!0}};aE.Config=BF});var mte=$(cE=>{"use strict";B();k();Object.defineProperty(cE,"__esModule",{value:!0});cE.LoggerController=void 0;var gte={verbose:0,debug:1,info:2,warning:3,error:4,off:5},kF;(function(t){t.logLevel="logLevel"})(kF||(kF={}));var CF=class{constructor(e){this.config=e}logLevel(){return this.config.get(kF.logLevel,"info")}verbose(e,r,...n){this._log("verbose",e,r,...n)}debug(e,r,...n){this._log("debug",e,r,...n)}info(e,r,...n){this._log("info",e,r,...n)}warning(e,r,...n){this._log("warning",e,r,...n)}error(e,r,...n){this._log("error",e,r,...n)}_log(e,r,n,...i){let s=gte[this.logLevel()];if(gte[e]<s)return;let o=`[${e.toUpperCase()}][#${r}]: `;switch(e){case"verbose":case"debug":console.debug(o,n,...i);break;case"info":console.log(o,n,...i);break;case"warning":console.warn(o,n,...i);break;case"error":console.error(o,n,...i)}}};cE.LoggerController=CF});var yte=$(fE=>{"use strict";B();k();Object.defineProperty(fE,"__esModule",{value:!0});fE.Core=void 0;var tIe=OF(),rIe=bte(),nIe=mte(),iIe=IF(),FF=class{constructor(){this.config=new rIe.Config,this.logger=new nIe.LoggerController(this.config),this.requestController=new iIe.RequestController(this.config,this.logger),this.actionResolver=new tIe.ActionResolver(this.requestController,this.logger),this.events=new Map}init(e){Object.keys(e).forEach(r=>{this.config.set(r,e[r])}),this.config.finishInit()}getNetWork(){return this.requestController.network}getApiKey(){return this.requestController.apiKey}getBaseUrl(){return this.requestController.baseUrl}};fE.Core=FF});var RF=$(kl=>{"use strict";B();k();Object.defineProperty(kl,"__esModule",{value:!0});kl.BsvApi=kl.ContractApi=kl.ActionError=kl.Scrypt=void 0;var sIe=GC(),uIe=xF(),oIe=yte(),lE=new oIe.Core,aIe=new sIe.BsvApi(lE),cIe=new uIe.ContractApi(lE);kl.Scrypt={bsvApi:aIe,contractApi:cIe,init(t){lE.init(t)},getConfig(t,e){return lE.config.get(t,e)}};var fIe=OF();Object.defineProperty(kl,"ActionError",{enumerable:!0,get:function(){return fIe.ActionError}});var lIe=xF();Object.defineProperty(kl,"ContractApi",{enumerable:!0,get:function(){return lIe.ContractApi}});var dIe=GC();Object.defineProperty(kl,"BsvApi",{enumerable:!0,get:function(){return dIe.BsvApi}})});var Ste=$(sb=>{"use strict";B();k();var ib=sb&&sb.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(sb,"__esModule",{value:!0});sb.ScryptProvider=void 0;var vte=mr(),hIe=Il(),S7=RF(),MF=class extends hIe.Provider{constructor(){super(),this._isConnected=!1;let e=S7.Scrypt.getConfig("network","mainnet");this.network=e==="mainnet"?vte.bsv.Networks.livenet:vte.bsv.Networks.testnet,this._initializeConnection()}isConnected(){return this._isConnected}connect(){var e;return ib(this,void 0,void 0,function*(){try{let{success:r,error:n}=yield S7.Scrypt.bsvApi.connect();if(this._isConnected=r,!r)throw new Error(n);this.emit("connected",!0)}catch(r){throw this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return this})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}getFeePerKb(){return ib(this,void 0,void 0,function*(){return yield this._ready(),S7.Scrypt.bsvApi.getFeePerKB()})}sendRawTransaction(e){return ib(this,void 0,void 0,function*(){return yield this._ready(),S7.Scrypt.bsvApi.sendRawTransaction(e)})}getTransaction(e){return ib(this,void 0,void 0,function*(){return yield this._ready(),S7.Scrypt.bsvApi.getTransaction(e)})}listUnspent(e,r){return ib(this,void 0,void 0,function*(){return yield this._ready(),S7.Scrypt.bsvApi.listUnspent(e,r)})}getBalance(e){return ib(this,void 0,void 0,function*(){return yield this._ready(),S7.Scrypt.bsvApi.getBalance(e)})}};sb.ScryptProvider=MF});var _te=$(co=>{"use strict";B();k();Object.defineProperty(co,"__esModule",{value:!0});co.ScryptProvider=co.DummyProvider=co.DefaultProvider=co.TaalProvider=co.GorillapoolProvider=co.SensibleProvider=co.WhatsonchainProvider=void 0;var pIe=c4();Object.defineProperty(co,"WhatsonchainProvider",{enumerable:!0,get:function(){return pIe.WhatsonchainProvider}});var bIe=PC();Object.defineProperty(co,"SensibleProvider",{enumerable:!0,get:function(){return bIe.SensibleProvider}});var gIe=BC();Object.defineProperty(co,"GorillapoolProvider",{enumerable:!0,get:function(){return gIe.GorillapoolProvider}});var mIe=FC();Object.defineProperty(co,"TaalProvider",{enumerable:!0,get:function(){return mIe.TaalProvider}});var yIe=iee();Object.defineProperty(co,"DefaultProvider",{enumerable:!0,get:function(){return yIe.DefaultProvider}});var vIe=uee();Object.defineProperty(co,"DummyProvider",{enumerable:!0,get:function(){return vIe.DummyProvider}});var SIe=Ste();Object.defineProperty(co,"ScryptProvider",{enumerable:!0,get:function(){return SIe.ScryptProvider}})});var _7=$(Qd=>{"use strict";B();k();var A4=Qd&&Qd.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.Signer=Qd.DEFAULT_SIGHASH_TYPE=void 0;var b3=mr();Qd.DEFAULT_SIGHASH_TYPE=b3.bsv.crypto.Signature.ALL;var NF=class{constructor(e){this._isSigner=!0,this.provider=e}signRawTransaction(e,r){return A4(this,void 0,void 0,function*(){return(yield this.signTransaction(new b3.bsv.Transaction(e),r)).toString()})}signTransaction(e,r){return A4(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=(r?.sigRequests||[]).reduce((o,a)=>(o.set(a.inputIndex,a),o),new Map);e.inputs.forEach((o,a)=>{if(o.output){let l=i.get(a);if(!l)return;if((l.scriptHex?l.scriptHex:b3.bsv.Script.buildPublicKeyHashOut(l.address.toString()).toHex())!==o.output.script.toHex())throw new Error(`\`SignatureRequest\` script is not match the script of input: ${a}`);if(l.satoshis!==o.output.satoshis)throw new Error(`\`SignatureRequest\` satoshis is not match the satoshis of input: ${a}`)}else{let l=i.get(a);if(!l)throw new Error(`\`SignatureRequest\` info should be provided for the input ${a} to call #signTransaction`);let f=l.scriptHex?new b3.bsv.Script(l.scriptHex):b3.bsv.Script.buildPublicKeyHashOut(l.address.toString());o.output=new b3.bsv.Transaction.Output({script:f,satoshis:l.satoshis})}});let s=e.inputs.map((o,a)=>{var l,f,c,h,d;if(!((f=(l=o.output)===null||l===void 0?void 0:l.script)===null||f===void 0)&&f.isPublicKeyHashOut()){let p=o.output.script.toAddress(n);return{prevTxId:(0,b3.toHex)(o.prevTxId),outputIndex:o.outputIndex,inputIndex:a,satoshis:(c=o.output)===null||c===void 0?void 0:c.satoshis,address:p,scriptHex:(d=(h=o.output)===null||h===void 0?void 0:h.script)===null||d===void 0?void 0:d.toHex(),sigHashType:Qd.DEFAULT_SIGHASH_TYPE}}else return}).filter(o=>typeof o=="object"),u=yield this.getSignatures(e.toString(),s);return e.inputs.forEach((o,a)=>{var l;let f=u.find(c=>c.inputIndex===a);if(f&&((l=o.output)===null||l===void 0?void 0:l.script.isPublicKeyHashOut())){let c=new b3.bsv.Script("").add(I.Buffer.from(f.sig,"hex")).add(I.Buffer.from(f.publicKey,"hex"));o.setScript(c)}}),e})}get connectedProvider(){if(!this.provider)throw new Error(`the provider of signer ${this.constructor.name} is not set yet!`);return this.provider}signAndsendTransaction(e,r){return A4(this,void 0,void 0,function*(){yield e.sealAsync();let n=yield this.signTransaction(e,r);return yield this.connectedProvider.sendTransaction(n),n})}listUnspent(e,r){return this.connectedProvider.listUnspent(e,r)}getBalance(e){return A4(this,void 0,void 0,function*(){return e=e||(yield this.getDefaultAddress()),this.connectedProvider.getBalance(e)})}static isSigner(e){return!!(e&&e._isSigner)}alignProviderNetwork(){var e;return A4(this,void 0,void 0,function*(){if(yield this.isAuthenticated()){yield(e=this.provider)===null||e===void 0?void 0:e.connect();let n=yield this.getNetwork();this.connectedProvider.updateNetwork(n)}})}};Qd.Signer=NF});var Ete=$(ub=>{"use strict";B();k();var th=ub&&ub.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ub,"__esModule",{value:!0});ub.TestWallet=void 0;var _Ie=_7(),i0=mr(),wIe=e0(),EIe=i0.bsv.crypto.Signature.ALL,T4=class extends _Ie.Signer{constructor(e,r){super(r),this.splitFeeTx=!0,e instanceof Array?this._privateKeys=e:this._privateKeys=[e],this.checkPrivateKeys(),this._utxoManagers=new Map}static random(e,r=i0.bsv.Networks.testnet){return new T4(i0.bsv.PrivateKey.fromRandom(r),e)}enableSplitFeeTx(e){this.splitFeeTx=e}isAuthenticated(){return th(this,void 0,void 0,function*(){return Promise.resolve(!0)})}requestAuth(){return th(this,void 0,void 0,function*(){return Promise.resolve({isAuthenticated:!0,error:""})})}get network(){return this.provider.getNetwork()}get addresses(){return this._privateKeys.map(e=>e.toAddress(this.network).toString())}addPrivateKey(e){let r=e instanceof Array?e:[e];return this._privateKeys.push(...r),this.checkPrivateKeys(),this}checkPrivateKeys(){let e=this._privateKeys.map(r=>r.toAddress().network);if(!e.every(r=>r.name===e[0].name))throw new Error(`All private keys should be ${e[0].name} private key`);return e[0]}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Promise.resolve(this._defaultPrivateKey.toAddress())}getDefaultPubKey(){return Promise.resolve(this._defaultPrivateKey.toPublicKey())}getPubKey(e){return Promise.resolve(this._getPrivateKeys(e)[0].toPublicKey())}getNetwork(){return Promise.resolve(this._defaultPrivateKey.toAddress().network)}getBalance(e){let r=Object.create(null,{getBalance:{get:()=>super.getBalance}});return th(this,void 0,void 0,function*(){e=e||(yield this.getDefaultAddress());let n=this._utxoManagers.get(e.toString());return n?{confirmed:n.balance(),unconfirmed:0}:r.getBalance.call(this,e)})}signTransaction(e,r){return th(this,void 0,void 0,function*(){let n=r?.address;return this._checkAddressOption(n),Promise.resolve(e.sign(this._getPrivateKeys(n)))})}signMessage(e,r){throw new Error("Method #signMessage not implemented.")}getSignatures(e,r){this._checkAddressOption(this._getAddressesIn(r));let n=new i0.bsv.Transaction(e),i=r.flatMap(s=>{let u=s.scriptHex?new i0.bsv.Script(s.scriptHex):i0.bsv.Script.buildPublicKeyHashOut((0,wIe.parseAddresses)(s.address,this.network)[0]);return n.inputs[s.inputIndex].output=new i0.bsv.Transaction.Output({script:u,satoshis:s.satoshis}),this._getPrivateKeys(s.address).map(a=>{let l=s.csIdx!==void 0?u.subScript(s.csIdx):u;return{sig:(0,i0.signTx)(n,a,l,s.satoshis,s.inputIndex,s.sigHashType),publicKey:a.publicKey.toString(),inputIndex:s.inputIndex,sigHashType:s.sigHashType||EIe,csIdx:s.csIdx}})});return Promise.resolve(i)}listUnspent(e,r){return th(this,void 0,void 0,function*(){if(this.splitFeeTx){let n=this._utxoManagers.get(e.toString());if(n||(n=new DF(e,this),this._utxoManagers.set(e.toString(),n),yield n.init()),r){let i=r.unspentValue,s=r.estimateSize,u=r.feePerKb,o=Math.ceil(s/1e3*u-i);return o+=Math.ceil(((r.additional||0)+180)/1e3*u),n.fetchUtxos(o)}else return n.fetchUtxos(0)}else return this.provider.listUnspent(e,r)})}_getAddressesIn(e){return(e||[]).flatMap(r=>r.address instanceof Array?r.address:[r.address])}_checkAddressOption(e){if(!!e){if(e instanceof Array)e.forEach(r=>this._checkAddressOption(r));else if(!this.addresses.includes(e.toString()))throw new Error(`the address ${e.toString()} does not belong to this TestWallet`)}}get _defaultPrivateKey(){return this._privateKeys[0]}_getPrivateKeys(e){if(!e)return[this._defaultPrivateKey];this._checkAddressOption(e);let r=[];return e instanceof Array?e.forEach(n=>r.push(n.toString())):r.push(e.toString()),this._privateKeys.filter(n=>r.includes(n.toAddress(this.network).toString()))}signAndsendTransaction(e,r){let n=Object.create(null,{signAndsendTransaction:{get:()=>super.signAndsendTransaction}});return th(this,void 0,void 0,function*(){let i=yield n.signAndsendTransaction.call(this,e,r),s=yield this.getDefaultAddress(),u=this._utxoManagers.get(s.toString());return u&&u.collectUtxoFromTx(e),i})}};ub.TestWallet=T4;var eh;(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.INITIALIZING=1]="INITIALIZING",t[t.INITIALIZED=2]="INITIALIZED"})(eh||(eh={}));var DF=class{constructor(e,r){this.availableUtxos=[],this.initStates=eh.UNINITIALIZED,this.initUtxoCnt=0,this.feePerkb=50,this.address=e,this.signer=r}init(){return th(this,void 0,void 0,function*(){if(this.initStates===eh.INITIALIZED)return this;for(this.initStates===eh.UNINITIALIZED&&(this.initStates=eh.INITIALIZING,this.availableUtxos=yield this.signer.connectedProvider.listUnspent(this.address),this.feePerkb=yield this.signer.connectedProvider.getFeePerKb(),this.initStates=eh.INITIALIZED,this.initUtxoCnt=this.availableUtxos.length);this.initStates===eh.INITIALIZING;)yield wte(1);return this})}balance(){return this.availableUtxos.reduce((e,r)=>e+r.satoshis,0)}fetchUtxos(e){return th(this,void 0,void 0,function*(){if(this.initStates===eh.INITIALIZED&&this.initUtxoCnt>0&&this.availableUtxos.length===0)for(let l=0;l<30&&(console.log("waiting for available utxos"),yield wte(1),!(this.availableUtxos.length>0));l++);if(e<=0)return this.availableUtxos.splice(0);let r=this.availableUtxos.sort((a,l)=>a.satoshis-l.satoshis);if(e>r.reduce((a,l)=>a+l.satoshis,0))throw new Error("no sufficient utxos to pay the fee of "+e);let n=0,i=0,s=1,u=0;for(let a=0;a<r.length;a++){i+=r[a].satoshis;let l=Math.ceil((180*(a+1)+(10+34)*2)*this.feePerkb/1e3);if(u=e+l+s,i>=u){n=a;break}}let o=r.slice(0,n+1);if(this.availableUtxos=r.slice(n+1),i>=u){let a=new i0.bsv.Transaction().from(o).addOutput(new i0.bsv.Transaction.Output({script:i0.bsv.Script.buildPublicKeyHashOut(this.address),satoshis:e})).feePerKb(this.feePerkb).change(this.address);yield this.signer.signAndsendTransaction(a);let l=this.availableUtxos.findIndex(f=>f.satoshis===e);return this.availableUtxos.splice(l,1)}else return o})}collectUtxoFromTx(e){let r=e.id;e.outputs.forEach((n,i)=>{this.collectUtxoFrom(n,r,i)})}collectUtxoFrom(e,r,n){e.script.toHex()===this.utxoScriptHex&&this.availableUtxos.push({txId:r,outputIndex:n,satoshis:e.satoshis,script:e.script.toHex()})}get utxoScriptHex(){return i0.bsv.Script.buildPublicKeyHashOut(this.address).toHex()}},wte=t=>th(void 0,void 0,void 0,function*(){return new Promise(e=>{setTimeout(()=>{e({})},t*1e3)})})});var Ate=$(ob=>{"use strict";B();k();var g3=ob&&ob.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ob,"__esModule",{value:!0});ob.SensiletSigner=void 0;var w7=mr(),AIe=_7(),TIe=e0(),dE=class extends AIe.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnect()}requestAuth(){return g3(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.sensilet<"u")this._target=window.sensilet;else throw new Error("sensilet is not installed")}getConnectedTarget(){return g3(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.requestAccount();this._address=w7.bsv.Address.fromString(r)}catch(r){throw new Error(`Sensilet requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return g3(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddress();return w7.bsv.Address.fromString(r)})}getNetwork(){return g3(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return e?this.connectedProvider.getBalance(e):this.getConnectedTarget().then(r=>r.getBsvBalance()).then(r=>r.balance)}getDefaultPubKey(){return g3(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPublicKey();return Promise.resolve(new w7.bsv.PublicKey(r))})}getPubKey(e){return g3(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return g3(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield this.getConnectedTarget()).signMessage(e)})}getSignatures(e,r){return g3(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(o=>(0,TIe.parseAddresses)(o.address,n).map(l=>{let f=o.scriptHex;return f?o.csIdx!==void 0&&(f=w7.bsv.Script.fromHex(f).subScript(o.csIdx).toHex()):f=w7.bsv.Script.buildPublicKeyHashOut(l).toHex(),{txHex:e,inputIndex:o.inputIndex,scriptHex:f,satoshis:o.satoshis,sigtype:o.sigHashType||w7.DEFAULT_SIGHASH_TYPE,address:l.toString()}})),u=yield(yield this.getConnectedTarget()).signTx({list:i});return i.map((o,a)=>({inputIndex:o.inputIndex,sig:u.sigList[a].sig,publicKey:u.sigList[a].publicKey,sigHashType:r[a].sigHashType||w7.DEFAULT_SIGHASH_TYPE}))})}};ob.SensiletSigner=dE;dE.DEBUG_TAG="SensiletSigner"});var xte=$(m3=>{"use strict";B();k();var Cl=m3&&m3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},xIe=m3&&m3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m3,"__esModule",{value:!0});m3.DotwalletSigner=void 0;var ab=mr(),IIe=_7(),Tte=e0(),hE=xIe(Cu()),pE={dapp_list_unspent:"/v1/grandet_dapp/dapp_list_unspent",dapp_list_unspent_by_address:"/v1/grandet_dapp/dapp_list_unspent_by_address",dapp_sign_raw_transaction:"/v1/grandet_dapp/dapp_sign_raw_transaction",dapp_get_signature:"/v1/grandet_dapp/dapp_get_signature",dapp_get_balance:"/v1/grandet_dapp/dapp_get_balance",dapp_send_raw_transaction:"/v1/grandet_dapp/dapp_send_raw_transaction",dapp_get_raw_change_address:"/v1/grandet_dapp/dapp_get_raw_change_address",dapp_get_public_key:"/v1/grandet_dapp/dapp_get_public_key",get_access_token:"/v1/oauth2/get_access_token"};function bE(t){if(t.ok){let e=t.body?t.body:JSON.parse(t.text),{code:r,data:n,msg:i}=e;if(r===0)return n;throw r===75e3&&window.localStorage.removeItem("access_token"),new Error(`error response, code = ${r}, msg: ${i}`)}else throw new Error("error response")}var gE="https://api.ddpurse.com",mE=class extends IIe.Signer{constructor(e,r){super(r),this.sender={appid:"bsv_coin_regular",user_index:0},this.utxos_public_key=new Map,this.accessToken=e}isAuthenticated(){return this.accessToken?Promise.resolve(!0):Promise.resolve(!1)}requestAuth(){return Cl(this,void 0,void 0,function*(){return this.accessToken?(yield this.alignProviderNetwork(),Promise.resolve({isAuthenticated:!0,error:""})):Promise.resolve({isAuthenticated:!1,error:""})})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Cl(this,void 0,void 0,function*(){return(yield this.getDefaultPubKey()).toAddress(ab.bsv.Networks.mainnet)})}getNetwork(){return Cl(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return Cl(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let r=yield hE.default.post(`${gE}${pE.dapp_get_balance}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),n=bE(r),{confirm:i,unconfirm:s}=n;return{confirmed:i,unconfirmed:s}})}getDefaultPubKey(){return Cl(this,void 0,void 0,function*(){if(this.default_public_key)return this.default_public_key;let e=yield hE.default.post(`${gE}${pE.dapp_get_public_key}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),r=bE(e),{public_key:n}=r;return this.default_public_key=ab.bsv.PublicKey.fromString(n),this.default_public_key})}getPubKey(e){return Cl(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return Cl(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#signMessage not implemented.`)})}getSignatures(e,r){return Cl(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(s=>(0,Tte.parseAddresses)(s.address,n).map(o=>{let a=s.scriptHex;return a?s.csIdx!==void 0&&(a=ab.bsv.Script.fromHex(a).subScript(s.csIdx).toHex()):a=ab.bsv.Script.buildPublicKeyHashOut(o).toHex(),{txHex:e,inputIndex:s.inputIndex,scriptHex:a,satoshis:s.satoshis,sigtype:s.sigHashType||ab.DEFAULT_SIGHASH_TYPE,prevTxId:s.prevTxId,outputIndex:s.outputIndex,address:o.toString()}}));return Promise.all(i.map(s=>Cl(this,void 0,void 0,function*(){let u=yield hE.default.post(`${gE}${pE.dapp_get_signature}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,input_index:s.inputIndex,sig_type:s.sigtype,rawtx:e,addr:s.address}),o=bE(u),{hex_signature:a}=o,l=this.utxos_public_key.get(`${s.prevTxId}:${s.outputIndex}`);return l||(l=(0,ab.toHex)(this.default_public_key)),{inputIndex:s.inputIndex,sig:a,publicKey:l,sigHashType:s.sigtype}})))})}listUnspent(e,r){return Cl(this,void 0,void 0,function*(){let n=yield hE.default.post(`${gE}${pE.dapp_list_unspent}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,min_amount:0}),s=bE(n).utxos.map(u=>({txId:u.tx_hash,outputIndex:u.output_index,satoshis:u.satoshis,script:u.script,address:u.addr,pubkey:u.pubkey}));return s.forEach(u=>{this.utxos_public_key.set(`${u.txId}:${u.outputIndex}`,u.pubkey)}),r?(0,Tte.filterUTXO)(s,r):s})}};m3.DotwalletSigner=mE;mE.DEBUG_TAG="DotwalletSigner"});var Bte=$(Fl=>{"use strict";B();k();var HF=Fl&&Fl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.sendAction=Fl.TAALWalletAction=Fl.sendMessageAndWaitForResponse=void 0;var x4=[],Pte=()=>HF(void 0,void 0,void 0,function*(){if(x4.length===0)return;let t=x4[0];try{let e=yield t.request();t.resolve(e)}catch(e){t.reject(e)}finally{x4.shift(),Pte()}}),PIe=0;function Ote(t,e){return new Promise((r,n)=>{let i=PIe++;e.requestId=i;let s=()=>HF(this,void 0,void 0,function*(){return new Promise((u,o)=>{t.postMessage(e);function a(l){l.requestId===i&&(t.onMessage.removeListener(a),u(l))}t.onMessage.addListener(a),setTimeout(()=>{t.onMessage.removeListener(a),o(new Error("Timeout waiting for response"))},1e4)})});x4.push({request:s,resolve:r,reject:n}),x4.length===1&&Pte()})}Fl.sendMessageAndWaitForResponse=Ote;var Ite;(function(t){t.GetAddress="getAddress",t.GetBalance="getBalance",t.GetRootPublicKey="getRootPublicKey",t.GetPublicKey="getPublicKey",t.GetNetwork="getNetwork",t.SignTx="signTx",t.SignPreimage="signPreimage",t.SignMessage="signMessage"})(Ite||(Fl.TAALWalletAction=Ite={}));function OIe(t,e,r){return HF(this,void 0,void 0,function*(){let i=yield Ote(t,r?{action:e,payload:r}:{action:e});if(i.action==="error")throw new Error(i.payload.reason);return i})}Fl.sendAction=OIe});var Cte=$(cb=>{"use strict";B();k();var gf=cb&&cb.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(cb,"__esModule",{value:!0});cb.TAALSigner=void 0;var BIe=_7(),s0=mr(),kte=e0(),va=Bte(),LF=s0.bsv.crypto.Signature.ALL,kIe="engokokaoeppkmchbkjeoeimiffobcke",UF=class extends BIe.Signer{constructor(e,r="APP_NAME"){super(e),this._app_name=r}isAuthenticated(){return gf(this,void 0,void 0,function*(){return!!this._port})}requestAuth(){return gf(this,void 0,void 0,function*(){let e=!1,r="";try{this._port=chrome.runtime.connect(kIe,{name:this._app_name}),yield this.getDefaultAddress(),yield this.alignProviderNetwork(),e=!!this._port}catch(n){r=n.toString()}return{isAuthenticated:e,error:r}})}assertIsAuthenticated(){if(!this._port)throw new Error("TAAL chrome wallet is not connected!")}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return gf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,va.sendAction)(this._port,va.TAALWalletAction.GetAddress);return s0.bsv.Address.fromString(e.payload)})}getDefaultPubKey(){return gf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield this.getNetwork(),r=yield(0,va.sendAction)(this._port,va.TAALWalletAction.GetPublicKey),n=new s0.bsv.PublicKey(r.payload,{network:e});return Promise.resolve(n)})}getPubKey(e){return gf(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}getNetwork(){return gf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,va.sendAction)(this._port,va.TAALWalletAction.GetNetwork),r=s0.bsv.Networks.get(e.payload);return Promise.resolve(r)})}updateInputsWithInfo(e,r){return e.inputs.forEach((n,i)=>{let s=r.find(u=>u.inputIndex===i);s&&(n.output=new s0.bsv.Transaction.Output({satoshis:s.satoshis,script:s0.bsv.Script.fromHex(s.scriptHex)}))}),e}signTransaction(e,r){var n;return gf(this,void 0,void 0,function*(){let i=yield this.getNetwork(),s=yield this.getDefaultAddress(),u=!((n=r?.sigRequests)===null||n===void 0)&&n.length?r.sigRequests:e.inputs.map((d,p)=>{var m,w,x,_,y,S;let F=r&&r.address?r.address:!((m=d.output)===null||m===void 0)&&m.script.isPublicKeyHashOut()?d.output.script.toAddress(i):s;return{prevTxId:(0,s0.toHex)(d.prevTxId),outputIndex:d.outputIndex,inputIndex:p,satoshis:(x=(w=d.output)===null||w===void 0?void 0:w.satoshis)!==null&&x!==void 0?x:0,address:F,scriptHex:(S=(y=(_=d.output)===null||_===void 0?void 0:_.script)===null||y===void 0?void 0:y.toHex())!==null&&S!==void 0?S:"",sigHashType:LF}}),o=e.toString(),a=u.flatMap(d=>(0,kte.parseAddresses)(d.address,i).map(m=>({txHex:o,inputIndex:d.inputIndex,scriptHex:d.scriptHex||s0.bsv.Script.buildPublicKeyHashOut(m).toHex(),satoshis:d.satoshis,sigtype:d.sigHashType||LF,address:m.toString()}))),l=this.updateInputsWithInfo(e,a);this.assertIsAuthenticated();let c=(yield(0,va.sendAction)(this._port,va.TAALWalletAction.SignTx,l)).payload,h=new s0.bsv.Transaction(c);return this.updateInputsWithInfo(h,a)})}getSignatures(e,r){return gf(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(u=>(0,kte.parseAddresses)(u.address,n).map(a=>{let l=u.scriptHex;return u?u.csIdx!==void 0&&(l=s0.bsv.Script.fromHex(l).subScript(u.csIdx).toHex()):l=s0.bsv.Script.buildPublicKeyHashOut(a).toHex(),{tx:e,i:u.inputIndex,script:l,satoshis:u.satoshis,sighash:u.sigHashType||LF,address:a.toString()}}));return(yield Promise.all(i.map(u=>this.signCustomInput(u)))).map(u=>({inputIndex:u.inputIndex,sig:(0,s0.toHex)(u.signature),publicKey:u.publicKey.toString(),sigHashType:u.sigtype}))})}signMessage(e,r){return gf(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return this.assertIsAuthenticated(),(yield(0,va.sendAction)(this._port,va.TAALWalletAction.SignMessage,e)).payload})}getBalance(e){return gf(this,void 0,void 0,function*(){return e?this.connectedProvider.getBalance(e):{confirmed:(yield(0,va.sendAction)(this._port,va.TAALWalletAction.GetBalance)).payload,unconfirmed:0}})}signCustomInput(e){return gf(this,void 0,void 0,function*(){let r=yield this.getDefaultPubKey(),n=yield(0,va.sendAction)(this._port,va.TAALWalletAction.SignPreimage,e);return{inputIndex:e.i,sigtype:e.sighash,publicKey:r,signature:n.payload}})}};cb.TAALSigner=UF});var Fte=$(fb=>{"use strict";B();k();var Qa=fb&&fb.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(fb,"__esModule",{value:!0});fb.PandaSigner=void 0;var CIe=_7(),yE=mr(),FIe=e0(),vE=class extends CIe.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnected()}requestAuth(){return Qa(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.panda<"u")this._target=window.panda;else throw new Error("panda is not installed")}getConnectedTarget(){return Qa(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.connect();if(r&&r.includes("canceled"))throw new Error(r)}catch(r){throw new Error(`panda requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Qa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return yE.bsv.Address.fromString(r.bsvAddress)})}getOrdAddress(){return Qa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return yE.bsv.Address.fromString(r.ordAddress)})}getNetwork(){return Qa(this,void 0,void 0,function*(){let e=yield this.getDefaultAddress();return Promise.resolve(e.network)})}getBalance(e){return Qa(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let n=yield(yield this.getConnectedTarget()).getBalance();return Promise.resolve({confirmed:n.satoshis,unconfirmed:0})})}getDefaultPubKey(){return Qa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new yE.bsv.PublicKey(r.bsvPubKey))})}getOrdPubKey(){return Qa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new yE.bsv.PublicKey(r.ordPubKey))})}getOrdinals(){return Qa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getOrdinals();return Promise.resolve(r)})}transferOrdinal(e){return Qa(this,void 0,void 0,function*(){let n=yield(yield this.getConnectedTarget()).transferOrdinal(e);return Promise.resolve(n)})}getPubKey(e){return Qa(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return Qa(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield(yield this.getConnectedTarget()).signMessage({message:e})).sig})}getSignatures(e,r){return Qa(this,void 0,void 0,function*(){let n=yield this.getConnectedTarget(),i=yield this.getNetwork(),s=r.map(o=>({prevTxid:o.prevTxId,outputIndex:o.outputIndex,inputIndex:o.inputIndex,satoshis:o.satoshis,address:(0,FIe.parseAddresses)(o.address,i).map(a=>a.toString()),script:o.scriptHex,sigHashType:o.sigHashType,csIdx:o.csIdx,data:o.data}));return(yield n.getSignatures({rawtx:e,sigRequests:s})).map(o=>Object.assign(Object.assign({},o),{publicKey:o.pubKey}))})}};fb.PandaSigner=vE;vE.DEBUG_TAG="PandaSigner"});var Rte=$(Rl=>{"use strict";B();k();Object.defineProperty(Rl,"__esModule",{value:!0});Rl.PandaSigner=Rl.TAALSigner=Rl.DotwalletSigner=Rl.SensiletSigner=void 0;var RIe=Ate();Object.defineProperty(Rl,"SensiletSigner",{enumerable:!0,get:function(){return RIe.SensiletSigner}});var MIe=xte();Object.defineProperty(Rl,"DotwalletSigner",{enumerable:!0,get:function(){return MIe.DotwalletSigner}});var NIe=Cte();Object.defineProperty(Rl,"TAALSigner",{enumerable:!0,get:function(){return NIe.TAALSigner}});var DIe=Fte();Object.defineProperty(Rl,"PandaSigner",{enumerable:!0,get:function(){return DIe.PandaSigner}})});var nn=$(Wt=>{"use strict";B();k();var HIe=Wt&&Wt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mf=Wt&&Wt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HIe(e,t,r)};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.TestWallet=Wt.Provider=Wt.replayToLatest=Wt.bsv=Wt.FunctionCall=Wt.buildOpreturnScript=Wt.buildPublicKeyHashScript=Wt.toHex=Wt.SmartContractLib=Wt.SmartContract=Wt.method=Wt.prop=Wt.P2PK=Wt.P2PKH=void 0;var Mte=b9();Object.defineProperty(Wt,"prop",{enumerable:!0,get:function(){return Mte.prop}});Object.defineProperty(Wt,"method",{enumerable:!0,get:function(){return Mte.method}});var LIe=Jy();Object.defineProperty(Wt,"SmartContract",{enumerable:!0,get:function(){return LIe.SmartContract}});var UIe=Y_();Object.defineProperty(Wt,"SmartContractLib",{enumerable:!0,get:function(){return UIe.SmartContractLib}});var $Ie=rZ();Object.defineProperty(Wt,"P2PKH",{enumerable:!0,get:function(){return $Ie.P2PKH}});var qIe=sZ();Object.defineProperty(Wt,"P2PK",{enumerable:!0,get:function(){return qIe.P2PK}});mf(Vp(),Wt);mf(s7(),Wt);mf(e0(),Wt);mf(u9(),Wt);var SE=mr();Object.defineProperty(Wt,"toHex",{enumerable:!0,get:function(){return SE.toHex}});Object.defineProperty(Wt,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return SE.buildPublicKeyHashScript}});Object.defineProperty(Wt,"buildOpreturnScript",{enumerable:!0,get:function(){return SE.buildOpreturnScript}});Object.defineProperty(Wt,"FunctionCall",{enumerable:!0,get:function(){return SE.FunctionCall}});var jIe=Mk();Object.defineProperty(Wt,"bsv",{enumerable:!0,get:function(){return jIe.bsv}});mf(dZ(),Wt);mf(bZ(),Wt);mf(u9(),Wt);var KIe=XQ();Object.defineProperty(Wt,"replayToLatest",{enumerable:!0,get:function(){return KIe.replayToLatest}});mf(_te(),Wt);var zIe=Il();Object.defineProperty(Wt,"Provider",{enumerable:!0,get:function(){return zIe.Provider}});mf(_7(),Wt);var VIe=Ete();Object.defineProperty(Wt,"TestWallet",{enumerable:!0,get:function(){return VIe.TestWallet}});mf(Rte(),Wt);mf(RF(),Wt)});var ei=$($r=>{"use strict";B();k();var y3=$r&&$r.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ui=$r&&$r.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty($r,"__esModule",{value:!0});$r.TxUtil=$r.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=$r.XRAYED_TXID_PREIMG2_PREVLIST_LEN=$r.MAX_OUTPUT_SCRIPT_LEN=$r.STATE_OUTPUT_OFFSET=$r.STATE_OUTPUT_INDEX=$r.ADDRESS_HASH_LEN=$r.MAX_STATE=$r.MAX_TOKEN_OUTPUT=$r.MAX_TOKEN_INPUT=$r.MAX_OUTPUT=$r.MAX_INPUT=$r.Int32=void 0;var qn=nn();$r.Int32=BigInt;$r.MAX_INPUT=6;$r.MAX_OUTPUT=6;$r.MAX_TOKEN_INPUT=5;$r.MAX_TOKEN_OUTPUT=5;$r.MAX_STATE=5;$r.ADDRESS_HASH_LEN=20n;$r.STATE_OUTPUT_INDEX=0;$r.STATE_OUTPUT_OFFSET=1;$r.MAX_OUTPUT_SCRIPT_LEN=34;$r.XRAYED_TXID_PREIMG2_PREVLIST_LEN=4;$r.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=4;var Mo=class extends qn.SmartContractLib{static mergePrevouts(e){let r=(0,qn.toByteString)("");for(let n=0;n<$r.MAX_INPUT;n++)r+=e[n];return r}static mergeSpentScripts(e){let r=(0,qn.toByteString)("");for(let n=0;n<$r.MAX_INPUT;n++){let i=e[n];r+=(0,qn.int2ByteString)((0,qn.len)(i))+i}return r}static buildOutput(e,r){let n=(0,qn.len)(e);return(0,qn.assert)(n<=$r.MAX_OUTPUT_SCRIPT_LEN),r+(0,qn.int2ByteString)(n)+e}static checkIndex(e,r){let n=(0,qn.int2ByteString)(e);return n==(0,qn.toByteString)("")&&(n=(0,qn.toByteString)("00")),n+(0,qn.toByteString)("000000")==r}static buildOpReturnRoot(e){return(0,qn.toByteString)("0000000000000000")+(0,qn.int2ByteString)((0,qn.len)(e))+e}static getStateScript(e){return(0,qn.toByteString)("6a1863617401")+e}static getChangeOutput(e){return e.satoshis!=Mo.ZEROSAT?Mo.buildOutput(e.script,e.satoshis):(0,qn.toByteString)("")}};$r.TxUtil=Mo;Mo.ZEROSAT=(0,qn.toByteString)("0000000000000000");y3([(0,qn.prop)(),Ui("design:type",String)],Mo,"ZEROSAT",void 0);y3([(0,qn.method)(),Ui("design:type",Function),Ui("design:paramtypes",[Object]),Ui("design:returntype",String)],Mo,"mergePrevouts",null);y3([(0,qn.method)(),Ui("design:type",Function),Ui("design:paramtypes",[Object]),Ui("design:returntype",String)],Mo,"mergeSpentScripts",null);y3([(0,qn.method)(),Ui("design:type",Function),Ui("design:paramtypes",[String,String]),Ui("design:returntype",String)],Mo,"buildOutput",null);y3([(0,qn.method)(),Ui("design:type",Function),Ui("design:paramtypes",[BigInt,String]),Ui("design:returntype",Boolean)],Mo,"checkIndex",null);y3([(0,qn.method)(),Ui("design:type",Function),Ui("design:paramtypes",[String]),Ui("design:returntype",String)],Mo,"buildOpReturnRoot",null);y3([(0,qn.method)(),Ui("design:type",Function),Ui("design:paramtypes",[String]),Ui("design:returntype",String)],Mo,"getStateScript",null);y3([(0,qn.method)(),Ui("design:type",Function),Ui("design:paramtypes",[Object]),Ui("design:returntype",String)],Mo,"getChangeOutput",null)});var Sa=$(v3=>{"use strict";B();k();var lb=v3&&v3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},u0=v3&&v3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(v3,"__esModule",{value:!0});v3.SigHashUtils=void 0;var jn=nn(),_E=ei(),fo=class extends jn.SmartContractLib{static checkSHPreimage(e){let r=(0,jn.sha256)(fo.preimagePrefix+e.txVer+e.nLockTime+e.hashPrevouts+e.hashSpentAmounts+e.hashSpentScripts+e.hashSequences+e.hashOutputs+e.spendType+e.inputIndex+e.hashTapLeaf+e.keyVer+e.codeSeparator),n=(0,jn.sha256)(fo.ePreimagePrefix+r);(0,jn.assert)(e.eLastByte<127n,"invalid value of _e");let i=e.eLastByte==0n?(0,jn.toByteString)("00"):(0,jn.int2ByteString)(e.eLastByte);(0,jn.assert)(n==e._e+i,"invalid value of _e");let s=fo.Gx+e._e+(0,jn.int2ByteString)(e.eLastByte+1n);return(0,jn.Sig)(s)}static checkPrevoutsCtx(e,r,n){return(0,jn.assert)((0,jn.sha256)(_E.TxUtil.mergePrevouts(e.prevouts))==r,"hashPrevouts mismatch"),(0,jn.assert)(_E.TxUtil.checkIndex(e.inputIndexVal,n)),(0,jn.assert)(_E.TxUtil.checkIndex(e.outputIndexVal,e.outputIndex)),(0,jn.assert)(e.prevouts[Number(e.inputIndexVal)]==e.spentTxhash+e.outputIndex),!0}static checkSpentScriptsCtx(e,r){return(0,jn.assert)((0,jn.sha256)(_E.TxUtil.mergeSpentScripts(e))==r,"hashSpentScripts mismatch"),!0}};v3.SigHashUtils=fo;fo.Gx=(0,jn.PubKey)((0,jn.toByteString)("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"));fo.ePreimagePrefix=(0,jn.toByteString)("7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798");fo.preimagePrefix=(0,jn.toByteString)("f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000");lb([(0,jn.prop)(),u0("design:type",String)],fo,"Gx",void 0);lb([(0,jn.prop)(),u0("design:type",String)],fo,"ePreimagePrefix",void 0);lb([(0,jn.prop)(),u0("design:type",String)],fo,"preimagePrefix",void 0);lb([(0,jn.method)(),u0("design:type",Function),u0("design:paramtypes",[Object]),u0("design:returntype",String)],fo,"checkSHPreimage",null);lb([(0,jn.method)(),u0("design:type",Function),u0("design:paramtypes",[Object,String,String]),u0("design:returntype",Boolean)],fo,"checkPrevoutsCtx",null);lb([(0,jn.method)(),u0("design:type",Function),u0("design:paramtypes",[Object,String]),u0("design:returntype",Boolean)],fo,"checkSpentScriptsCtx",null)});var Dte=$((o6t,Nte)=>{"use strict";B();k();var GIe="http://bitcore.io/";Nte.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+GIe+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"BlockHeightOutOfRange",message:"Block Height can only be between 0 and 65535"},{name:"LockTimeRange",message:"Seconds needs to be more that 0 and less that 33553920"}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]});var ec=$((f6t,qF)=>{"use strict";B();k();var $F=Mr();function WIe(t,e){return t.replace("{0}",e[0]).replace("{1}",e[1]).replace("{2}",e[2])}var Hte=function(t,e){var r=function(){if($F.isString(e.message))this.message=WIe(e.message,arguments);else if($F.isFunction(e.message))this.message=e.message.apply(null,arguments);else throw new Error("Invalid error definition for "+e.name);this.stack=this.message+`
`+new Error().stack};return r.prototype=Object.create(t.prototype),r.prototype.name=t.prototype.name+e.name,t[e.name]=r,e.errors&&Lte(r,e.errors),r},Lte=function(t,e){$F.each(e,function(r){Hte(t,r)})},YIe=function(t,e){return Lte(t,e),t},db={};db.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack};db.Error.prototype=Object.create(Error.prototype);db.Error.prototype.name="bitcore.Error";var XIe=Dte();YIe(db.Error,XIe);qF.exports=db.Error;qF.exports.extend=function(t){return Hte(db.Error,t)}});var qr=$((h6t,Ute)=>{"use strict";B();k();var I4=ec(),ZIe=Mr();Ute.exports={checkState:function(t,e){if(!t)throw new I4.InvalidState(e)},checkArgument:function(t,e,r,n){if(!t)throw new I4.InvalidArgument(e,r,n)},checkArgumentType:function(t,e,r){if(r=r||"(unknown name)",ZIe.isString(e)){if(e==="Buffer"){var n=us();if(!n.Buffer.isBuffer(t))throw new I4.InvalidArgumentType(t,e,r)}else if(typeof t!==e&&t&&t.constructor&&t.constructor.name!==e)throw new I4.InvalidArgumentType(t,e,r)}else if(!(t instanceof e))throw new I4.InvalidArgumentType(t,e.name,r)},isType:function(t,e,r){try{return this.checkArgumentType(t,e,r),!0}catch{return!1}}}});var Yi=$((g6t,jte)=>{"use strict";B();k();var qte=Mr(),$te=function(e){return qte.isString(e)?/^[0-9a-fA-F]+$/.test(e):!1};jte.exports={isValidJSON:function(e){var r;if(!qte.isString(e))return!1;try{r=JSON.parse(e)}catch{return!1}return typeof r=="object"},isHexa:$te,isHexaString:$te,cloneArray:function(t){return[].concat(t)},defineImmutable:function(e,r){return Object.keys(r).forEach(function(n){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,value:r[n]})}),e},isNaturalNumber:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&e>=0}}});var ti=$((_6t,P4)=>{"use strict";B();k();var Kte=us(),v6t=wc(),S6t=Yi(),S3=qr();function zte(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}P4.exports={fill:function(e,r){S3.checkArgumentType(e,"Buffer","buffer"),S3.checkArgumentType(r,"number","value");for(var n=e.length,i=0;i<n;i++)e[i]=r;return e},copy:function(t){var e=I.Buffer.alloc(t.length);return t.copy(e),e},isBuffer:function(e){return Kte.Buffer.isBuffer(e)||e instanceof Uint8Array},emptyBuffer:function(e){S3.checkArgumentType(e,"number","bytes");for(var r=I.Buffer.alloc(e),n=0;n<e;n++)r.write("\0",n);return r},concat:Kte.Buffer.concat,equals:zte,equal:zte,integerAsSingleByteBuffer:function(e){return S3.checkArgumentType(e,"number","integer"),I.Buffer.from([e&255])},integerAsBuffer:function(e){S3.checkArgumentType(e,"number","integer");var r=[];return r.push(e>>24&255),r.push(e>>16&255),r.push(e>>8&255),r.push(e&255),I.Buffer.from(r)},integerFromBuffer:function(e){return S3.checkArgumentType(e,"Buffer","buffer"),e[0]<<24|e[1]<<16|e[2]<<8|e[3]},integerFromSingleByteBuffer:function(e){return S3.checkArgumentType(e,"Buffer","buffer"),e[0]},bufferToHex:function(e){return S3.checkArgumentType(e,"Buffer","buffer"),e.toString("hex")},reverse:function(e){return I.Buffer.from(e).reverse()}};P4.exports.NULL_HASH=P4.exports.fill(I.Buffer.alloc(32),0);P4.exports.EMPTY_BUFFER=I.Buffer.alloc(0)});var KF=$((Vte,jF)=>{B();k();(function(t,e){"use strict";function r(L,P){if(!L)throw new Error(P||"Assertion failed")}function n(L,P){L.super_=P;var A=function(){};A.prototype=P.prototype,L.prototype=new A,L.prototype.constructor=L}function i(L,P,A){if(i.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((P==="le"||P==="be")&&(A=P,P=10),this._init(L||0,P||10,A||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=us().Buffer}catch{}i.isBN=function(P){return P instanceof i?!0:P!==null&&typeof P=="object"&&P.constructor.wordSize===i.wordSize&&Array.isArray(P.words)},i.max=function(P,A){return P.cmp(A)>0?P:A},i.min=function(P,A){return P.cmp(A)<0?P:A},i.prototype._init=function(P,A,b){if(typeof P=="number")return this._initNumber(P,A,b);if(typeof P=="object")return this._initArray(P,A,b);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),P=P.toString().replace(/\s+/g,"");var g=0;P[0]==="-"&&g++,A===16?this._parseHex(P,g):this._parseBase(P,A,g),P[0]==="-"&&(this.negative=1),this.strip(),b==="le"&&this._initArray(this.toArray(),A,b)},i.prototype._initNumber=function(P,A,b){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[P&67108863],this.length=1):P<4503599627370496?(this.words=[P&67108863,P/67108864&67108863],this.length=2):(r(P<9007199254740992),this.words=[P&67108863,P/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),A,b)},i.prototype._initArray=function(P,A,b){if(r(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var v,E,C=0;if(b==="be")for(g=P.length-1,v=0;g>=0;g-=3)E=P[g]|P[g-1]<<8|P[g-2]<<16,this.words[v]|=E<<C&67108863,this.words[v+1]=E>>>26-C&67108863,C+=24,C>=26&&(C-=26,v++);else if(b==="le")for(g=0,v=0;g<P.length;g+=3)E=P[g]|P[g+1]<<8|P[g+2]<<16,this.words[v]|=E<<C&67108863,this.words[v+1]=E>>>26-C&67108863,C+=24,C>=26&&(C-=26,v++);return this.strip()};function u(L,P,A){for(var b=0,g=Math.min(L.length,A),v=P;v<g;v++){var E=L.charCodeAt(v)-48;b<<=4,E>=49&&E<=54?b|=E-49+10:E>=17&&E<=22?b|=E-17+10:b|=E&15}return b}i.prototype._parseHex=function(P,A){this.length=Math.ceil((P.length-A)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var g,v,E=0;for(b=P.length-6,g=0;b>=A;b-=6)v=u(P,b,b+6),this.words[g]|=v<<E&67108863,this.words[g+1]|=v>>>26-E&4194303,E+=24,E>=26&&(E-=26,g++);b+6!==A&&(v=u(P,A,b+6),this.words[g]|=v<<E&67108863,this.words[g+1]|=v>>>26-E&4194303),this.strip()};function o(L,P,A,b){for(var g=0,v=Math.min(L.length,A),E=P;E<v;E++){var C=L.charCodeAt(E)-48;g*=b,C>=49?g+=C-49+10:C>=17?g+=C-17+10:g+=C}return g}i.prototype._parseBase=function(P,A,b){this.words=[0],this.length=1;for(var g=0,v=1;v<=67108863;v*=A)g++;g--,v=v/A|0;for(var E=P.length-b,C=E%g,R=Math.min(E,E-C)+b,O=0,M=b;M<R;M+=g)O=o(P,M,M+g,A),this.imuln(v),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(C!==0){var T=1;for(O=o(P,M,P.length,A),M=0;M<C;M++)T*=A;this.imuln(T),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}},i.prototype.copy=function(P){P.words=new Array(this.length);for(var A=0;A<this.length;A++)P.words[A]=this.words[A];P.length=this.length,P.negative=this.negative,P.red=this.red},i.prototype.clone=function(){var P=new i(null);return this.copy(P),P},i.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(P,A){P=P||10,A=A|0||1;var b;if(P===16||P==="hex"){b="";for(var g=0,v=0,E=0;E<this.length;E++){var C=this.words[E],R=((C<<g|v)&16777215).toString(16);v=C>>>24-g&16777215,v!==0||E!==this.length-1?b=a[6-R.length]+R+b:b=R+b,g+=2,g>=26&&(g-=26,E--)}for(v!==0&&(b=v.toString(16)+b);b.length%A!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(P===(P|0)&&P>=2&&P<=36){var O=l[P],M=f[P];b="";var T=this.clone();for(T.negative=0;!T.isZero();){var U=T.modn(M).toString(P);T=T.idivn(M),T.isZero()?b=U+b:b=a[O-U.length]+U+b}for(this.isZero()&&(b="0"+b);b.length%A!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=this.words[1]*67108864:this.length===3&&this.words[2]===1?P+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(P,A){return r(typeof s<"u"),this.toArrayLike(s,P,A)},i.prototype.toArray=function(P,A){return this.toArrayLike(Array,P,A)},i.prototype.toArrayLike=function(P,A,b){var g=this.byteLength(),v=b||Math.max(1,g);r(g<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var E=A==="le",C=new P(v),R,O,M=this.clone();if(E){for(O=0;!M.isZero();O++)R=M.andln(255),M.iushrn(8),C[O]=R;for(;O<v;O++)C[O]=0}else{for(O=0;O<v-g;O++)C[O]=0;for(O=0;!M.isZero();O++)R=M.andln(255),M.iushrn(8),C[v-O-1]=R}return C},Math.clz32?i.prototype._countBits=function(P){return 32-Math.clz32(P)}:i.prototype._countBits=function(P){var A=P,b=0;return A>=4096&&(b+=13,A>>>=13),A>=64&&(b+=7,A>>>=7),A>=8&&(b+=4,A>>>=4),A>=2&&(b+=2,A>>>=2),b+A},i.prototype._zeroBits=function(P){if(P===0)return 26;var A=P,b=0;return(A&8191)===0&&(b+=13,A>>>=13),(A&127)===0&&(b+=7,A>>>=7),(A&15)===0&&(b+=4,A>>>=4),(A&3)===0&&(b+=2,A>>>=2),(A&1)===0&&b++,b},i.prototype.bitLength=function(){var P=this.words[this.length-1],A=this._countBits(P);return(this.length-1)*26+A};function c(L){for(var P=new Array(L.bitLength()),A=0;A<P.length;A++){var b=A/26|0,g=A%26;P[A]=(L.words[b]&1<<g)>>>g}return P}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,A=0;A<this.length;A++){var b=this._zeroBits(this.words[A]);if(P+=b,b!==26)break}return P},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},i.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var A=0;A<P.length;A++)this.words[A]=this.words[A]|P.words[A];return this.strip()},i.prototype.ior=function(P){return r((this.negative|P.negative)===0),this.iuor(P)},i.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},i.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},i.prototype.iuand=function(P){var A;this.length>P.length?A=P:A=this;for(var b=0;b<A.length;b++)this.words[b]=this.words[b]&P.words[b];return this.length=A.length,this.strip()},i.prototype.iand=function(P){return r((this.negative|P.negative)===0),this.iuand(P)},i.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},i.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},i.prototype.iuxor=function(P){var A,b;this.length>P.length?(A=this,b=P):(A=P,b=this);for(var g=0;g<b.length;g++)this.words[g]=A.words[g]^b.words[g];if(this!==A)for(;g<A.length;g++)this.words[g]=A.words[g];return this.length=A.length,this.strip()},i.prototype.ixor=function(P){return r((this.negative|P.negative)===0),this.iuxor(P)},i.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},i.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},i.prototype.inotn=function(P){r(typeof P=="number"&&P>=0);var A=Math.ceil(P/26)|0,b=P%26;this._expand(A),b>0&&A--;for(var g=0;g<A;g++)this.words[g]=~this.words[g]&67108863;return b>0&&(this.words[g]=~this.words[g]&67108863>>26-b),this.strip()},i.prototype.notn=function(P){return this.clone().inotn(P)},i.prototype.setn=function(P,A){r(typeof P=="number"&&P>=0);var b=P/26|0,g=P%26;return this._expand(b+1),A?this.words[b]=this.words[b]|1<<g:this.words[b]=this.words[b]&~(1<<g),this.strip()},i.prototype.iadd=function(P){var A;if(this.negative!==0&&P.negative===0)return this.negative=0,A=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,A=this.isub(P),P.negative=1,A._normSign();var b,g;this.length>P.length?(b=this,g=P):(b=P,g=this);for(var v=0,E=0;E<g.length;E++)A=(b.words[E]|0)+(g.words[E]|0)+v,this.words[E]=A&67108863,v=A>>>26;for(;v!==0&&E<b.length;E++)A=(b.words[E]|0)+v,this.words[E]=A&67108863,v=A>>>26;if(this.length=b.length,v!==0)this.words[this.length]=v,this.length++;else if(b!==this)for(;E<b.length;E++)this.words[E]=b.words[E];return this},i.prototype.add=function(P){var A;return P.negative!==0&&this.negative===0?(P.negative=0,A=this.sub(P),P.negative^=1,A):P.negative===0&&this.negative!==0?(this.negative=0,A=P.sub(this),this.negative=1,A):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},i.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var A=this.iadd(P);return P.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var b=this.cmp(P);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,v;b>0?(g=this,v=P):(g=P,v=this);for(var E=0,C=0;C<v.length;C++)A=(g.words[C]|0)-(v.words[C]|0)+E,E=A>>26,this.words[C]=A&67108863;for(;E!==0&&C<g.length;C++)A=(g.words[C]|0)+E,E=A>>26,this.words[C]=A&67108863;if(E===0&&C<g.length&&g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this.length=Math.max(this.length,C),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(P){return this.clone().isub(P)};function h(L,P,A){A.negative=P.negative^L.negative;var b=L.length+P.length|0;A.length=b,b=b-1|0;var g=L.words[0]|0,v=P.words[0]|0,E=g*v,C=E&67108863,R=E/67108864|0;A.words[0]=C;for(var O=1;O<b;O++){for(var M=R>>>26,T=R&67108863,U=Math.min(O,P.length-1),Y=Math.max(0,O-L.length+1);Y<=U;Y++){var te=O-Y|0;g=L.words[te]|0,v=P.words[Y]|0,E=g*v+T,M+=E/67108864|0,T=E&67108863}A.words[O]=T|0,R=M|0}return R!==0?A.words[O]=R|0:A.length--,A.strip()}var d=function(P,A,b){var g=P.words,v=A.words,E=b.words,C=0,R,O,M,T=g[0]|0,U=T&8191,Y=T>>>13,te=g[1]|0,J=te&8191,ce=te>>>13,se=g[2]|0,j=se&8191,Z=se>>>13,ee=g[3]|0,ue=ee&8191,fe=ee>>>13,de=g[4]|0,we=de&8191,He=de>>>13,Fe=g[5]|0,Le=Fe&8191,wt=Fe>>>13,je=g[6]|0,Re=je&8191,De=je>>>13,Xe=g[7]|0,q=Xe&8191,X=Xe>>>13,z=g[8]|0,V=z&8191,re=z>>>13,Q=g[9]|0,ne=Q&8191,be=Q>>>13,ie=v[0]|0,ye=ie&8191,Oe=ie>>>13,xe=v[1]|0,Te=xe&8191,kt=xe>>>13,ot=v[2]|0,rt=ot&8191,hn=ot>>>13,Qt=v[3]|0,at=Qt&8191,In=Qt>>>13,er=v[4]|0,ct=er&8191,Pn=er>>>13,tr=v[5]|0,ft=tr&8191,On=tr>>>13,rr=v[6]|0,lt=rr&8191,Bn=rr>>>13,nr=v[7]|0,dt=nr&8191,kn=nr>>>13,ir=v[8]|0,ht=ir&8191,Cn=ir>>>13,sr=v[9]|0,pt=sr&8191,Fn=sr>>>13;b.negative=P.negative^A.negative,b.length=19,R=Math.imul(U,ye),O=Math.imul(U,Oe),O=O+Math.imul(Y,ye)|0,M=Math.imul(Y,Oe);var zt=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(zt>>>26)|0,zt&=67108863,R=Math.imul(J,ye),O=Math.imul(J,Oe),O=O+Math.imul(ce,ye)|0,M=Math.imul(ce,Oe),R=R+Math.imul(U,Te)|0,O=O+Math.imul(U,kt)|0,O=O+Math.imul(Y,Te)|0,M=M+Math.imul(Y,kt)|0;var Vt=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,R=Math.imul(j,ye),O=Math.imul(j,Oe),O=O+Math.imul(Z,ye)|0,M=Math.imul(Z,Oe),R=R+Math.imul(J,Te)|0,O=O+Math.imul(J,kt)|0,O=O+Math.imul(ce,Te)|0,M=M+Math.imul(ce,kt)|0,R=R+Math.imul(U,rt)|0,O=O+Math.imul(U,hn)|0,O=O+Math.imul(Y,rt)|0,M=M+Math.imul(Y,hn)|0;var $0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+($0>>>26)|0,$0&=67108863,R=Math.imul(ue,ye),O=Math.imul(ue,Oe),O=O+Math.imul(fe,ye)|0,M=Math.imul(fe,Oe),R=R+Math.imul(j,Te)|0,O=O+Math.imul(j,kt)|0,O=O+Math.imul(Z,Te)|0,M=M+Math.imul(Z,kt)|0,R=R+Math.imul(J,rt)|0,O=O+Math.imul(J,hn)|0,O=O+Math.imul(ce,rt)|0,M=M+Math.imul(ce,hn)|0,R=R+Math.imul(U,at)|0,O=O+Math.imul(U,In)|0,O=O+Math.imul(Y,at)|0,M=M+Math.imul(Y,In)|0;var q0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(q0>>>26)|0,q0&=67108863,R=Math.imul(we,ye),O=Math.imul(we,Oe),O=O+Math.imul(He,ye)|0,M=Math.imul(He,Oe),R=R+Math.imul(ue,Te)|0,O=O+Math.imul(ue,kt)|0,O=O+Math.imul(fe,Te)|0,M=M+Math.imul(fe,kt)|0,R=R+Math.imul(j,rt)|0,O=O+Math.imul(j,hn)|0,O=O+Math.imul(Z,rt)|0,M=M+Math.imul(Z,hn)|0,R=R+Math.imul(J,at)|0,O=O+Math.imul(J,In)|0,O=O+Math.imul(ce,at)|0,M=M+Math.imul(ce,In)|0,R=R+Math.imul(U,ct)|0,O=O+Math.imul(U,Pn)|0,O=O+Math.imul(Y,ct)|0,M=M+Math.imul(Y,Pn)|0;var j0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(j0>>>26)|0,j0&=67108863,R=Math.imul(Le,ye),O=Math.imul(Le,Oe),O=O+Math.imul(wt,ye)|0,M=Math.imul(wt,Oe),R=R+Math.imul(we,Te)|0,O=O+Math.imul(we,kt)|0,O=O+Math.imul(He,Te)|0,M=M+Math.imul(He,kt)|0,R=R+Math.imul(ue,rt)|0,O=O+Math.imul(ue,hn)|0,O=O+Math.imul(fe,rt)|0,M=M+Math.imul(fe,hn)|0,R=R+Math.imul(j,at)|0,O=O+Math.imul(j,In)|0,O=O+Math.imul(Z,at)|0,M=M+Math.imul(Z,In)|0,R=R+Math.imul(J,ct)|0,O=O+Math.imul(J,Pn)|0,O=O+Math.imul(ce,ct)|0,M=M+Math.imul(ce,Pn)|0,R=R+Math.imul(U,ft)|0,O=O+Math.imul(U,On)|0,O=O+Math.imul(Y,ft)|0,M=M+Math.imul(Y,On)|0;var K0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(K0>>>26)|0,K0&=67108863,R=Math.imul(Re,ye),O=Math.imul(Re,Oe),O=O+Math.imul(De,ye)|0,M=Math.imul(De,Oe),R=R+Math.imul(Le,Te)|0,O=O+Math.imul(Le,kt)|0,O=O+Math.imul(wt,Te)|0,M=M+Math.imul(wt,kt)|0,R=R+Math.imul(we,rt)|0,O=O+Math.imul(we,hn)|0,O=O+Math.imul(He,rt)|0,M=M+Math.imul(He,hn)|0,R=R+Math.imul(ue,at)|0,O=O+Math.imul(ue,In)|0,O=O+Math.imul(fe,at)|0,M=M+Math.imul(fe,In)|0,R=R+Math.imul(j,ct)|0,O=O+Math.imul(j,Pn)|0,O=O+Math.imul(Z,ct)|0,M=M+Math.imul(Z,Pn)|0,R=R+Math.imul(J,ft)|0,O=O+Math.imul(J,On)|0,O=O+Math.imul(ce,ft)|0,M=M+Math.imul(ce,On)|0,R=R+Math.imul(U,lt)|0,O=O+Math.imul(U,Bn)|0,O=O+Math.imul(Y,lt)|0,M=M+Math.imul(Y,Bn)|0;var z0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(z0>>>26)|0,z0&=67108863,R=Math.imul(q,ye),O=Math.imul(q,Oe),O=O+Math.imul(X,ye)|0,M=Math.imul(X,Oe),R=R+Math.imul(Re,Te)|0,O=O+Math.imul(Re,kt)|0,O=O+Math.imul(De,Te)|0,M=M+Math.imul(De,kt)|0,R=R+Math.imul(Le,rt)|0,O=O+Math.imul(Le,hn)|0,O=O+Math.imul(wt,rt)|0,M=M+Math.imul(wt,hn)|0,R=R+Math.imul(we,at)|0,O=O+Math.imul(we,In)|0,O=O+Math.imul(He,at)|0,M=M+Math.imul(He,In)|0,R=R+Math.imul(ue,ct)|0,O=O+Math.imul(ue,Pn)|0,O=O+Math.imul(fe,ct)|0,M=M+Math.imul(fe,Pn)|0,R=R+Math.imul(j,ft)|0,O=O+Math.imul(j,On)|0,O=O+Math.imul(Z,ft)|0,M=M+Math.imul(Z,On)|0,R=R+Math.imul(J,lt)|0,O=O+Math.imul(J,Bn)|0,O=O+Math.imul(ce,lt)|0,M=M+Math.imul(ce,Bn)|0,R=R+Math.imul(U,dt)|0,O=O+Math.imul(U,kn)|0,O=O+Math.imul(Y,dt)|0,M=M+Math.imul(Y,kn)|0;var V0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(V0>>>26)|0,V0&=67108863,R=Math.imul(V,ye),O=Math.imul(V,Oe),O=O+Math.imul(re,ye)|0,M=Math.imul(re,Oe),R=R+Math.imul(q,Te)|0,O=O+Math.imul(q,kt)|0,O=O+Math.imul(X,Te)|0,M=M+Math.imul(X,kt)|0,R=R+Math.imul(Re,rt)|0,O=O+Math.imul(Re,hn)|0,O=O+Math.imul(De,rt)|0,M=M+Math.imul(De,hn)|0,R=R+Math.imul(Le,at)|0,O=O+Math.imul(Le,In)|0,O=O+Math.imul(wt,at)|0,M=M+Math.imul(wt,In)|0,R=R+Math.imul(we,ct)|0,O=O+Math.imul(we,Pn)|0,O=O+Math.imul(He,ct)|0,M=M+Math.imul(He,Pn)|0,R=R+Math.imul(ue,ft)|0,O=O+Math.imul(ue,On)|0,O=O+Math.imul(fe,ft)|0,M=M+Math.imul(fe,On)|0,R=R+Math.imul(j,lt)|0,O=O+Math.imul(j,Bn)|0,O=O+Math.imul(Z,lt)|0,M=M+Math.imul(Z,Bn)|0,R=R+Math.imul(J,dt)|0,O=O+Math.imul(J,kn)|0,O=O+Math.imul(ce,dt)|0,M=M+Math.imul(ce,kn)|0,R=R+Math.imul(U,ht)|0,O=O+Math.imul(U,Cn)|0,O=O+Math.imul(Y,ht)|0,M=M+Math.imul(Y,Cn)|0;var G0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(G0>>>26)|0,G0&=67108863,R=Math.imul(ne,ye),O=Math.imul(ne,Oe),O=O+Math.imul(be,ye)|0,M=Math.imul(be,Oe),R=R+Math.imul(V,Te)|0,O=O+Math.imul(V,kt)|0,O=O+Math.imul(re,Te)|0,M=M+Math.imul(re,kt)|0,R=R+Math.imul(q,rt)|0,O=O+Math.imul(q,hn)|0,O=O+Math.imul(X,rt)|0,M=M+Math.imul(X,hn)|0,R=R+Math.imul(Re,at)|0,O=O+Math.imul(Re,In)|0,O=O+Math.imul(De,at)|0,M=M+Math.imul(De,In)|0,R=R+Math.imul(Le,ct)|0,O=O+Math.imul(Le,Pn)|0,O=O+Math.imul(wt,ct)|0,M=M+Math.imul(wt,Pn)|0,R=R+Math.imul(we,ft)|0,O=O+Math.imul(we,On)|0,O=O+Math.imul(He,ft)|0,M=M+Math.imul(He,On)|0,R=R+Math.imul(ue,lt)|0,O=O+Math.imul(ue,Bn)|0,O=O+Math.imul(fe,lt)|0,M=M+Math.imul(fe,Bn)|0,R=R+Math.imul(j,dt)|0,O=O+Math.imul(j,kn)|0,O=O+Math.imul(Z,dt)|0,M=M+Math.imul(Z,kn)|0,R=R+Math.imul(J,ht)|0,O=O+Math.imul(J,Cn)|0,O=O+Math.imul(ce,ht)|0,M=M+Math.imul(ce,Cn)|0,R=R+Math.imul(U,pt)|0,O=O+Math.imul(U,Fn)|0,O=O+Math.imul(Y,pt)|0,M=M+Math.imul(Y,Fn)|0;var W0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(W0>>>26)|0,W0&=67108863,R=Math.imul(ne,Te),O=Math.imul(ne,kt),O=O+Math.imul(be,Te)|0,M=Math.imul(be,kt),R=R+Math.imul(V,rt)|0,O=O+Math.imul(V,hn)|0,O=O+Math.imul(re,rt)|0,M=M+Math.imul(re,hn)|0,R=R+Math.imul(q,at)|0,O=O+Math.imul(q,In)|0,O=O+Math.imul(X,at)|0,M=M+Math.imul(X,In)|0,R=R+Math.imul(Re,ct)|0,O=O+Math.imul(Re,Pn)|0,O=O+Math.imul(De,ct)|0,M=M+Math.imul(De,Pn)|0,R=R+Math.imul(Le,ft)|0,O=O+Math.imul(Le,On)|0,O=O+Math.imul(wt,ft)|0,M=M+Math.imul(wt,On)|0,R=R+Math.imul(we,lt)|0,O=O+Math.imul(we,Bn)|0,O=O+Math.imul(He,lt)|0,M=M+Math.imul(He,Bn)|0,R=R+Math.imul(ue,dt)|0,O=O+Math.imul(ue,kn)|0,O=O+Math.imul(fe,dt)|0,M=M+Math.imul(fe,kn)|0,R=R+Math.imul(j,ht)|0,O=O+Math.imul(j,Cn)|0,O=O+Math.imul(Z,ht)|0,M=M+Math.imul(Z,Cn)|0,R=R+Math.imul(J,pt)|0,O=O+Math.imul(J,Fn)|0,O=O+Math.imul(ce,pt)|0,M=M+Math.imul(ce,Fn)|0;var Y0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(Y0>>>26)|0,Y0&=67108863,R=Math.imul(ne,rt),O=Math.imul(ne,hn),O=O+Math.imul(be,rt)|0,M=Math.imul(be,hn),R=R+Math.imul(V,at)|0,O=O+Math.imul(V,In)|0,O=O+Math.imul(re,at)|0,M=M+Math.imul(re,In)|0,R=R+Math.imul(q,ct)|0,O=O+Math.imul(q,Pn)|0,O=O+Math.imul(X,ct)|0,M=M+Math.imul(X,Pn)|0,R=R+Math.imul(Re,ft)|0,O=O+Math.imul(Re,On)|0,O=O+Math.imul(De,ft)|0,M=M+Math.imul(De,On)|0,R=R+Math.imul(Le,lt)|0,O=O+Math.imul(Le,Bn)|0,O=O+Math.imul(wt,lt)|0,M=M+Math.imul(wt,Bn)|0,R=R+Math.imul(we,dt)|0,O=O+Math.imul(we,kn)|0,O=O+Math.imul(He,dt)|0,M=M+Math.imul(He,kn)|0,R=R+Math.imul(ue,ht)|0,O=O+Math.imul(ue,Cn)|0,O=O+Math.imul(fe,ht)|0,M=M+Math.imul(fe,Cn)|0,R=R+Math.imul(j,pt)|0,O=O+Math.imul(j,Fn)|0,O=O+Math.imul(Z,pt)|0,M=M+Math.imul(Z,Fn)|0;var X0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(X0>>>26)|0,X0&=67108863,R=Math.imul(ne,at),O=Math.imul(ne,In),O=O+Math.imul(be,at)|0,M=Math.imul(be,In),R=R+Math.imul(V,ct)|0,O=O+Math.imul(V,Pn)|0,O=O+Math.imul(re,ct)|0,M=M+Math.imul(re,Pn)|0,R=R+Math.imul(q,ft)|0,O=O+Math.imul(q,On)|0,O=O+Math.imul(X,ft)|0,M=M+Math.imul(X,On)|0,R=R+Math.imul(Re,lt)|0,O=O+Math.imul(Re,Bn)|0,O=O+Math.imul(De,lt)|0,M=M+Math.imul(De,Bn)|0,R=R+Math.imul(Le,dt)|0,O=O+Math.imul(Le,kn)|0,O=O+Math.imul(wt,dt)|0,M=M+Math.imul(wt,kn)|0,R=R+Math.imul(we,ht)|0,O=O+Math.imul(we,Cn)|0,O=O+Math.imul(He,ht)|0,M=M+Math.imul(He,Cn)|0,R=R+Math.imul(ue,pt)|0,O=O+Math.imul(ue,Fn)|0,O=O+Math.imul(fe,pt)|0,M=M+Math.imul(fe,Fn)|0;var Z0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(Z0>>>26)|0,Z0&=67108863,R=Math.imul(ne,ct),O=Math.imul(ne,Pn),O=O+Math.imul(be,ct)|0,M=Math.imul(be,Pn),R=R+Math.imul(V,ft)|0,O=O+Math.imul(V,On)|0,O=O+Math.imul(re,ft)|0,M=M+Math.imul(re,On)|0,R=R+Math.imul(q,lt)|0,O=O+Math.imul(q,Bn)|0,O=O+Math.imul(X,lt)|0,M=M+Math.imul(X,Bn)|0,R=R+Math.imul(Re,dt)|0,O=O+Math.imul(Re,kn)|0,O=O+Math.imul(De,dt)|0,M=M+Math.imul(De,kn)|0,R=R+Math.imul(Le,ht)|0,O=O+Math.imul(Le,Cn)|0,O=O+Math.imul(wt,ht)|0,M=M+Math.imul(wt,Cn)|0,R=R+Math.imul(we,pt)|0,O=O+Math.imul(we,Fn)|0,O=O+Math.imul(He,pt)|0,M=M+Math.imul(He,Fn)|0;var J0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(J0>>>26)|0,J0&=67108863,R=Math.imul(ne,ft),O=Math.imul(ne,On),O=O+Math.imul(be,ft)|0,M=Math.imul(be,On),R=R+Math.imul(V,lt)|0,O=O+Math.imul(V,Bn)|0,O=O+Math.imul(re,lt)|0,M=M+Math.imul(re,Bn)|0,R=R+Math.imul(q,dt)|0,O=O+Math.imul(q,kn)|0,O=O+Math.imul(X,dt)|0,M=M+Math.imul(X,kn)|0,R=R+Math.imul(Re,ht)|0,O=O+Math.imul(Re,Cn)|0,O=O+Math.imul(De,ht)|0,M=M+Math.imul(De,Cn)|0,R=R+Math.imul(Le,pt)|0,O=O+Math.imul(Le,Fn)|0,O=O+Math.imul(wt,pt)|0,M=M+Math.imul(wt,Fn)|0;var Q0=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,R=Math.imul(ne,lt),O=Math.imul(ne,Bn),O=O+Math.imul(be,lt)|0,M=Math.imul(be,Bn),R=R+Math.imul(V,dt)|0,O=O+Math.imul(V,kn)|0,O=O+Math.imul(re,dt)|0,M=M+Math.imul(re,kn)|0,R=R+Math.imul(q,ht)|0,O=O+Math.imul(q,Cn)|0,O=O+Math.imul(X,ht)|0,M=M+Math.imul(X,Cn)|0,R=R+Math.imul(Re,pt)|0,O=O+Math.imul(Re,Fn)|0,O=O+Math.imul(De,pt)|0,M=M+Math.imul(De,Fn)|0;var ef=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(ef>>>26)|0,ef&=67108863,R=Math.imul(ne,dt),O=Math.imul(ne,kn),O=O+Math.imul(be,dt)|0,M=Math.imul(be,kn),R=R+Math.imul(V,ht)|0,O=O+Math.imul(V,Cn)|0,O=O+Math.imul(re,ht)|0,M=M+Math.imul(re,Cn)|0,R=R+Math.imul(q,pt)|0,O=O+Math.imul(q,Fn)|0,O=O+Math.imul(X,pt)|0,M=M+Math.imul(X,Fn)|0;var tf=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(tf>>>26)|0,tf&=67108863,R=Math.imul(ne,ht),O=Math.imul(ne,Cn),O=O+Math.imul(be,ht)|0,M=Math.imul(be,Cn),R=R+Math.imul(V,pt)|0,O=O+Math.imul(V,Fn)|0,O=O+Math.imul(re,pt)|0,M=M+Math.imul(re,Fn)|0;var rf=(C+R|0)+((O&8191)<<13)|0;C=(M+(O>>>13)|0)+(rf>>>26)|0,rf&=67108863,R=Math.imul(ne,pt),O=Math.imul(ne,Fn),O=O+Math.imul(be,pt)|0,M=Math.imul(be,Fn);var nf=(C+R|0)+((O&8191)<<13)|0;return C=(M+(O>>>13)|0)+(nf>>>26)|0,nf&=67108863,E[0]=zt,E[1]=Vt,E[2]=$0,E[3]=q0,E[4]=j0,E[5]=K0,E[6]=z0,E[7]=V0,E[8]=G0,E[9]=W0,E[10]=Y0,E[11]=X0,E[12]=Z0,E[13]=J0,E[14]=Q0,E[15]=ef,E[16]=tf,E[17]=rf,E[18]=nf,C!==0&&(E[19]=C,b.length++),b};Math.imul||(d=h);function p(L,P,A){A.negative=P.negative^L.negative,A.length=L.length+P.length;for(var b=0,g=0,v=0;v<A.length-1;v++){var E=g;g=0;for(var C=b&67108863,R=Math.min(v,P.length-1),O=Math.max(0,v-L.length+1);O<=R;O++){var M=v-O,T=L.words[M]|0,U=P.words[O]|0,Y=T*U,te=Y&67108863;E=E+(Y/67108864|0)|0,te=te+C|0,C=te&67108863,E=E+(te>>>26)|0,g+=E>>>26,E&=67108863}A.words[v]=C,b=E,E=g}return b!==0?A.words[v]=b:A.length--,A.strip()}function m(L,P,A){var b=new w;return b.mulp(L,P,A)}i.prototype.mulTo=function(P,A){var b,g=this.length+P.length;return this.length===10&&P.length===10?b=d(this,P,A):g<63?b=h(this,P,A):g<1024?b=p(this,P,A):b=m(this,P,A),b};function w(L,P){this.x=L,this.y=P}w.prototype.makeRBT=function(P){for(var A=new Array(P),b=i.prototype._countBits(P)-1,g=0;g<P;g++)A[g]=this.revBin(g,b,P);return A},w.prototype.revBin=function(P,A,b){if(P===0||P===b-1)return P;for(var g=0,v=0;v<A;v++)g|=(P&1)<<A-v-1,P>>=1;return g},w.prototype.permute=function(P,A,b,g,v,E){for(var C=0;C<E;C++)g[C]=A[P[C]],v[C]=b[P[C]]},w.prototype.transform=function(P,A,b,g,v,E){this.permute(E,P,A,b,g,v);for(var C=1;C<v;C<<=1)for(var R=C<<1,O=Math.cos(2*Math.PI/R),M=Math.sin(2*Math.PI/R),T=0;T<v;T+=R)for(var U=O,Y=M,te=0;te<C;te++){var J=b[T+te],ce=g[T+te],se=b[T+te+C],j=g[T+te+C],Z=U*se-Y*j;j=U*j+Y*se,se=Z,b[T+te]=J+se,g[T+te]=ce+j,b[T+te+C]=J-se,g[T+te+C]=ce-j,te!==R&&(Z=O*U-M*Y,Y=O*Y+M*U,U=Z)}},w.prototype.guessLen13b=function(P,A){var b=Math.max(A,P)|1,g=b&1,v=0;for(b=b/2|0;b;b=b>>>1)v++;return 1<<v+1+g},w.prototype.conjugate=function(P,A,b){if(!(b<=1))for(var g=0;g<b/2;g++){var v=P[g];P[g]=P[b-g-1],P[b-g-1]=v,v=A[g],A[g]=-A[b-g-1],A[b-g-1]=-v}},w.prototype.normalize13b=function(P,A){for(var b=0,g=0;g<A/2;g++){var v=Math.round(P[2*g+1]/A)*8192+Math.round(P[2*g]/A)+b;P[g]=v&67108863,v<67108864?b=0:b=v/67108864|0}return P},w.prototype.convert13b=function(P,A,b,g){for(var v=0,E=0;E<A;E++)v=v+(P[E]|0),b[2*E]=v&8191,v=v>>>13,b[2*E+1]=v&8191,v=v>>>13;for(E=2*A;E<g;++E)b[E]=0;r(v===0),r((v&-8192)===0)},w.prototype.stub=function(P){for(var A=new Array(P),b=0;b<P;b++)A[b]=0;return A},w.prototype.mulp=function(P,A,b){var g=2*this.guessLen13b(P.length,A.length),v=this.makeRBT(g),E=this.stub(g),C=new Array(g),R=new Array(g),O=new Array(g),M=new Array(g),T=new Array(g),U=new Array(g),Y=b.words;Y.length=g,this.convert13b(P.words,P.length,C,g),this.convert13b(A.words,A.length,M,g),this.transform(C,E,R,O,g,v),this.transform(M,E,T,U,g,v);for(var te=0;te<g;te++){var J=R[te]*T[te]-O[te]*U[te];O[te]=R[te]*U[te]+O[te]*T[te],R[te]=J}return this.conjugate(R,O,g),this.transform(R,O,Y,E,g,v),this.conjugate(Y,E,g),this.normalize13b(Y,g),b.negative=P.negative^A.negative,b.length=P.length+A.length,b.strip()},i.prototype.mul=function(P){var A=new i(null);return A.words=new Array(this.length+P.length),this.mulTo(P,A)},i.prototype.mulf=function(P){var A=new i(null);return A.words=new Array(this.length+P.length),m(this,P,A)},i.prototype.imul=function(P){return this.clone().mulTo(P,this)},i.prototype.imuln=function(P){r(typeof P=="number"),r(P<67108864);for(var A=0,b=0;b<this.length;b++){var g=(this.words[b]|0)*P,v=(g&67108863)+(A&67108863);A>>=26,A+=g/67108864|0,A+=v>>>26,this.words[b]=v&67108863}return A!==0&&(this.words[b]=A,this.length++),this},i.prototype.muln=function(P){return this.clone().imuln(P)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(P){var A=c(P);if(A.length===0)return new i(1);for(var b=this,g=0;g<A.length&&A[g]===0;g++,b=b.sqr());if(++g<A.length)for(var v=b.sqr();g<A.length;g++,v=v.sqr())A[g]!==0&&(b=b.mul(v));return b},i.prototype.iushln=function(P){r(typeof P=="number"&&P>=0);var A=P%26,b=(P-A)/26,g=67108863>>>26-A<<26-A,v;if(A!==0){var E=0;for(v=0;v<this.length;v++){var C=this.words[v]&g,R=(this.words[v]|0)-C<<A;this.words[v]=R|E,E=C>>>26-A}E&&(this.words[v]=E,this.length++)}if(b!==0){for(v=this.length-1;v>=0;v--)this.words[v+b]=this.words[v];for(v=0;v<b;v++)this.words[v]=0;this.length+=b}return this.strip()},i.prototype.ishln=function(P){return r(this.negative===0),this.iushln(P)},i.prototype.iushrn=function(P,A,b){r(typeof P=="number"&&P>=0);var g;A?g=(A-A%26)/26:g=0;var v=P%26,E=Math.min((P-v)/26,this.length),C=67108863^67108863>>>v<<v,R=b;if(g-=E,g=Math.max(0,g),R){for(var O=0;O<E;O++)R.words[O]=this.words[O];R.length=E}if(E!==0)if(this.length>E)for(this.length-=E,O=0;O<this.length;O++)this.words[O]=this.words[O+E];else this.words[0]=0,this.length=1;var M=0;for(O=this.length-1;O>=0&&(M!==0||O>=g);O--){var T=this.words[O]|0;this.words[O]=M<<26-v|T>>>v,M=T&C}return R&&M!==0&&(R.words[R.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(P,A,b){return r(this.negative===0),this.iushrn(P,A,b)},i.prototype.shln=function(P){return this.clone().ishln(P)},i.prototype.ushln=function(P){return this.clone().iushln(P)},i.prototype.shrn=function(P){return this.clone().ishrn(P)},i.prototype.ushrn=function(P){return this.clone().iushrn(P)},i.prototype.testn=function(P){r(typeof P=="number"&&P>=0);var A=P%26,b=(P-A)/26,g=1<<A;if(this.length<=b)return!1;var v=this.words[b];return!!(v&g)},i.prototype.imaskn=function(P){r(typeof P=="number"&&P>=0);var A=P%26,b=(P-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(A!==0&&b++,this.length=Math.min(b,this.length),A!==0){var g=67108863^67108863>>>A<<A;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(P){return this.clone().imaskn(P)},i.prototype.iaddn=function(P){return r(typeof P=="number"),r(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(this.words[0]|0)<P?(this.words[0]=P-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},i.prototype._iaddn=function(P){this.words[0]+=P;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},i.prototype.isubn=function(P){if(r(typeof P=="number"),r(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this.strip()},i.prototype.addn=function(P){return this.clone().iaddn(P)},i.prototype.subn=function(P){return this.clone().isubn(P)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(P,A,b){var g=P.length+b,v;this._expand(g);var E,C=0;for(v=0;v<P.length;v++){E=(this.words[v+b]|0)+C;var R=(P.words[v]|0)*A;E-=R&67108863,C=(E>>26)-(R/67108864|0),this.words[v+b]=E&67108863}for(;v<this.length-b;v++)E=(this.words[v+b]|0)+C,C=E>>26,this.words[v+b]=E&67108863;if(C===0)return this.strip();for(r(C===-1),C=0,v=0;v<this.length;v++)E=-(this.words[v]|0)+C,C=E>>26,this.words[v]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(P,A){var b=this.length-P.length,g=this.clone(),v=P,E=v.words[v.length-1]|0,C=this._countBits(E);b=26-C,b!==0&&(v=v.ushln(b),g.iushln(b),E=v.words[v.length-1]|0);var R=g.length-v.length,O;if(A!=="mod"){O=new i(null),O.length=R+1,O.words=new Array(O.length);for(var M=0;M<O.length;M++)O.words[M]=0}var T=g.clone()._ishlnsubmul(v,1,R);T.negative===0&&(g=T,O&&(O.words[R]=1));for(var U=R-1;U>=0;U--){var Y=(g.words[v.length+U]|0)*67108864+(g.words[v.length+U-1]|0);for(Y=Math.min(Y/E|0,67108863),g._ishlnsubmul(v,Y,U);g.negative!==0;)Y--,g.negative=0,g._ishlnsubmul(v,1,U),g.isZero()||(g.negative^=1);O&&(O.words[U]=Y)}return O&&O.strip(),g.strip(),A!=="div"&&b!==0&&g.iushrn(b),{div:O||null,mod:g}},i.prototype.divmod=function(P,A,b){if(r(!P.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,v,E;return this.negative!==0&&P.negative===0?(E=this.neg().divmod(P,A),A!=="mod"&&(g=E.div.neg()),A!=="div"&&(v=E.mod.neg(),b&&v.negative!==0&&v.iadd(P)),{div:g,mod:v}):this.negative===0&&P.negative!==0?(E=this.divmod(P.neg(),A),A!=="mod"&&(g=E.div.neg()),{div:g,mod:E.mod}):(this.negative&P.negative)!==0?(E=this.neg().divmod(P.neg(),A),A!=="div"&&(v=E.mod.neg(),b&&v.negative!==0&&v.isub(P)),{div:E.div,mod:v}):P.length>this.length||this.cmp(P)<0?{div:new i(0),mod:this}:P.length===1?A==="div"?{div:this.divn(P.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new i(this.modn(P.words[0]))}:this._wordDiv(P,A)},i.prototype.div=function(P){return this.divmod(P,"div",!1).div},i.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},i.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},i.prototype.divRound=function(P){var A=this.divmod(P);if(A.mod.isZero())return A.div;var b=A.div.negative!==0?A.mod.isub(P):A.mod,g=P.ushrn(1),v=P.andln(1),E=b.cmp(g);return E<0||v===1&&E===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},i.prototype.modn=function(P){r(P<=67108863);for(var A=(1<<26)%P,b=0,g=this.length-1;g>=0;g--)b=(A*b+(this.words[g]|0))%P;return b},i.prototype.idivn=function(P){r(P<=67108863);for(var A=0,b=this.length-1;b>=0;b--){var g=(this.words[b]|0)+A*67108864;this.words[b]=g/P|0,A=g%P}return this.strip()},i.prototype.divn=function(P){return this.clone().idivn(P)},i.prototype.egcd=function(P){r(P.negative===0),r(!P.isZero());var A=this,b=P.clone();A.negative!==0?A=A.umod(P):A=A.clone();for(var g=new i(1),v=new i(0),E=new i(0),C=new i(1),R=0;A.isEven()&&b.isEven();)A.iushrn(1),b.iushrn(1),++R;for(var O=b.clone(),M=A.clone();!A.isZero();){for(var T=0,U=1;(A.words[0]&U)===0&&T<26;++T,U<<=1);if(T>0)for(A.iushrn(T);T-- >0;)(g.isOdd()||v.isOdd())&&(g.iadd(O),v.isub(M)),g.iushrn(1),v.iushrn(1);for(var Y=0,te=1;(b.words[0]&te)===0&&Y<26;++Y,te<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)(E.isOdd()||C.isOdd())&&(E.iadd(O),C.isub(M)),E.iushrn(1),C.iushrn(1);A.cmp(b)>=0?(A.isub(b),g.isub(E),v.isub(C)):(b.isub(A),E.isub(g),C.isub(v))}return{a:E,b:C,gcd:b.iushln(R)}},i.prototype._invmp=function(P){r(P.negative===0),r(!P.isZero());var A=this,b=P.clone();A.negative!==0?A=A.umod(P):A=A.clone();for(var g=new i(1),v=new i(0),E=b.clone();A.cmpn(1)>0&&b.cmpn(1)>0;){for(var C=0,R=1;(A.words[0]&R)===0&&C<26;++C,R<<=1);if(C>0)for(A.iushrn(C);C-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);for(var O=0,M=1;(b.words[0]&M)===0&&O<26;++O,M<<=1);if(O>0)for(b.iushrn(O);O-- >0;)v.isOdd()&&v.iadd(E),v.iushrn(1);A.cmp(b)>=0?(A.isub(b),g.isub(v)):(b.isub(A),v.isub(g))}var T;return A.cmpn(1)===0?T=g:T=v,T.cmpn(0)<0&&T.iadd(P),T},i.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var A=this.clone(),b=P.clone();A.negative=0,b.negative=0;for(var g=0;A.isEven()&&b.isEven();g++)A.iushrn(1),b.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;b.isEven();)b.iushrn(1);var v=A.cmp(b);if(v<0){var E=A;A=b,b=E}else if(v===0||b.cmpn(1)===0)break;A.isub(b)}while(!0);return b.iushln(g)},i.prototype.invm=function(P){return this.egcd(P).a.umod(P)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(P){return this.words[0]&P},i.prototype.bincn=function(P){r(typeof P=="number");var A=P%26,b=(P-A)/26,g=1<<A;if(this.length<=b)return this._expand(b+1),this.words[b]|=g,this;for(var v=g,E=b;v!==0&&E<this.length;E++){var C=this.words[E]|0;C+=v,v=C>>>26,C&=67108863,this.words[E]=C}return v!==0&&(this.words[E]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(P){var A=P<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this.strip();var b;if(this.length>1)b=1;else{A&&(P=-P),r(P<=67108863,"Number is too big");var g=this.words[0]|0;b=g===P?0:g<P?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var A=this.ucmp(P);return this.negative!==0?-A|0:A},i.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var A=0,b=this.length-1;b>=0;b--){var g=this.words[b]|0,v=P.words[b]|0;if(g!==v){g<v?A=-1:g>v&&(A=1);break}}return A},i.prototype.gtn=function(P){return this.cmpn(P)===1},i.prototype.gt=function(P){return this.cmp(P)===1},i.prototype.gten=function(P){return this.cmpn(P)>=0},i.prototype.gte=function(P){return this.cmp(P)>=0},i.prototype.ltn=function(P){return this.cmpn(P)===-1},i.prototype.lt=function(P){return this.cmp(P)===-1},i.prototype.lten=function(P){return this.cmpn(P)<=0},i.prototype.lte=function(P){return this.cmp(P)<=0},i.prototype.eqn=function(P){return this.cmpn(P)===0},i.prototype.eq=function(P){return this.cmp(P)===0},i.red=function(P){return new H(P)},i.prototype.toRed=function(P){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(P){return this.red=P,this},i.prototype.forceRed=function(P){return r(!this.red,"Already a number in reduction context"),this._forceRed(P)},i.prototype.redAdd=function(P){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},i.prototype.redIAdd=function(P){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},i.prototype.redSub=function(P){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},i.prototype.redISub=function(P){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},i.prototype.redShl=function(P){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},i.prototype.redMul=function(P){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},i.prototype.redIMul=function(P){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(P){return r(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var x={k256:null,p224:null,p192:null,p25519:null};function _(L,P){this.name=L,this.p=new i(P,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_.prototype._tmp=function(){var P=new i(null);return P.words=new Array(Math.ceil(this.n/13)),P},_.prototype.ireduce=function(P){var A=P,b;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),b=A.bitLength();while(b>this.n);var g=b<this.n?-1:A.ucmp(this.p);return g===0?(A.words[0]=0,A.length=1):g>0?A.isub(this.p):A.strip(),A},_.prototype.split=function(P,A){P.iushrn(this.n,0,A)},_.prototype.imulK=function(P){return P.imul(this.k)};function y(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(y,_),y.prototype.split=function(P,A){for(var b=4194303,g=Math.min(P.length,9),v=0;v<g;v++)A.words[v]=P.words[v];if(A.length=g,P.length<=9){P.words[0]=0,P.length=1;return}var E=P.words[9];for(A.words[A.length++]=E&b,v=10;v<P.length;v++){var C=P.words[v]|0;P.words[v-10]=(C&b)<<4|E>>>22,E=C}E>>>=22,P.words[v-10]=E,E===0&&P.length>10?P.length-=10:P.length-=9},y.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var A=0,b=0;b<P.length;b++){var g=P.words[b]|0;A+=g*977,P.words[b]=A&67108863,A=g*64+(A/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P};function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(S,_);function F(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(F,_);function N(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(N,_),N.prototype.imulK=function(P){for(var A=0,b=0;b<P.length;b++){var g=(P.words[b]|0)*19+A,v=g&67108863;g>>>=26,P.words[b]=v,A=g}return A!==0&&(P.words[P.length++]=A),P},i._prime=function(P){if(x[P])return x[P];var A;if(P==="k256")A=new y;else if(P==="p224")A=new S;else if(P==="p192")A=new F;else if(P==="p25519")A=new N;else throw new Error("Unknown prime "+P);return x[P]=A,A};function H(L){if(typeof L=="string"){var P=i._prime(L);this.m=P.p,this.prime=P}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}H.prototype._verify1=function(P){r(P.negative===0,"red works only with positives"),r(P.red,"red works only with red numbers")},H.prototype._verify2=function(P,A){r((P.negative|A.negative)===0,"red works only with positives"),r(P.red&&P.red===A.red,"red works only with red numbers")},H.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},H.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},H.prototype.add=function(P,A){this._verify2(P,A);var b=P.add(A);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},H.prototype.iadd=function(P,A){this._verify2(P,A);var b=P.iadd(A);return b.cmp(this.m)>=0&&b.isub(this.m),b},H.prototype.sub=function(P,A){this._verify2(P,A);var b=P.sub(A);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},H.prototype.isub=function(P,A){this._verify2(P,A);var b=P.isub(A);return b.cmpn(0)<0&&b.iadd(this.m),b},H.prototype.shl=function(P,A){return this._verify1(P),this.imod(P.ushln(A))},H.prototype.imul=function(P,A){return this._verify2(P,A),this.imod(P.imul(A))},H.prototype.mul=function(P,A){return this._verify2(P,A),this.imod(P.mul(A))},H.prototype.isqr=function(P){return this.imul(P,P.clone())},H.prototype.sqr=function(P){return this.mul(P,P)},H.prototype.sqrt=function(P){if(P.isZero())return P.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(P,b)}for(var g=this.m.subn(1),v=0;!g.isZero()&&g.andln(1)===0;)v++,g.iushrn(1);r(!g.isZero());var E=new i(1).toRed(this),C=E.redNeg(),R=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new i(2*O*O).toRed(this);this.pow(O,R).cmp(C)!==0;)O.redIAdd(C);for(var M=this.pow(O,g),T=this.pow(P,g.addn(1).iushrn(1)),U=this.pow(P,g),Y=v;U.cmp(E)!==0;){for(var te=U,J=0;te.cmp(E)!==0;J++)te=te.redSqr();r(J<Y);var ce=this.pow(M,new i(1).iushln(Y-J-1));T=T.redMul(ce),M=ce.redSqr(),U=U.redMul(M),Y=J}return T},H.prototype.invm=function(P){var A=P._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},H.prototype.pow=function(P,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return P.clone();var b=4,g=new Array(1<<b);g[0]=new i(1).toRed(this),g[1]=P;for(var v=2;v<g.length;v++)g[v]=this.mul(g[v-1],P);var E=g[0],C=0,R=0,O=A.bitLength()%26;for(O===0&&(O=26),v=A.length-1;v>=0;v--){for(var M=A.words[v],T=O-1;T>=0;T--){var U=M>>T&1;if(E!==g[0]&&(E=this.sqr(E)),U===0&&C===0){R=0;continue}C<<=1,C|=U,R++,!(R!==b&&(v!==0||T!==0))&&(E=this.mul(E,g[C]),R=0,C=0)}O=26}return E},H.prototype.convertTo=function(P){var A=P.umod(this.m);return A===P?A.clone():A},H.prototype.convertFrom=function(P){var A=P.clone();return A.red=null,A},i.mont=function(P){return new D(P)};function D(L){H.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(D,H),D.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},D.prototype.convertFrom=function(P){var A=this.imod(P.mul(this.rinv));return A.red=null,A},D.prototype.imul=function(P,A){if(P.isZero()||A.isZero())return P.words[0]=0,P.length=1,P;var b=P.imul(A),g=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=b.isub(g).iushrn(this.shift),E=v;return v.cmp(this.m)>=0?E=v.isub(this.m):v.cmpn(0)<0&&(E=v.iadd(this.m)),E._forceRed(this)},D.prototype.mul=function(P,A){if(P.isZero()||A.isZero())return new i(0)._forceRed(this);var b=P.mul(A),g=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=b.isub(g).iushrn(this.shift),E=v;return v.cmp(this.m)>=0?E=v.isub(this.m):v.cmpn(0)<0&&(E=v.iadd(this.m)),E._forceRed(this)},D.prototype.invm=function(P){var A=this.imod(P._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(typeof jF>"u"||jF,Vte)});var ou=$((x6t,Wte)=>{"use strict";B();k();var gn=KF(),zF=qr(),Gte=Mr(),wE=function(t){for(var e=I.Buffer.alloc(t.length),r=0;r<t.length;r++)e[r]=t[t.length-1-r];return e};gn.Zero=new gn(0);gn.One=new gn(1);gn.Minus1=new gn(-1);gn.fromNumber=function(t){return zF.checkArgument(Gte.isNumber(t)),new gn(t)};gn.fromString=function(t,e){return zF.checkArgument(Gte.isString(t)),new gn(t,e)};gn.fromBuffer=function(t,e){typeof e<"u"&&e.endian==="little"&&(t=wE(t));var r=t.toString("hex"),n=new gn(r,16);return n};gn.fromSM=function(t,e){var r;if(t.length===0)return gn.fromBuffer(I.Buffer.from([0]));var n="big";return e&&(n=e.endian),n==="little"&&(t=wE(t)),t[0]&128?(t[0]=t[0]&127,r=gn.fromBuffer(t),r.neg().copy(r)):r=gn.fromBuffer(t),r};gn.prototype.toNumber=function(){return parseInt(this.toString(10),10)};gn.prototype.toBuffer=function(t){var e,r;if(t&&t.size){r=this.toString(16,2);var n=r.length/2;e=I.Buffer.from(r,"hex"),n===t.size?e=e:n>t.size?e=gn.trim(e,n):n<t.size&&(e=gn.pad(e,n,t.size))}else r=this.toString(16,2),e=I.Buffer.from(r,"hex");return typeof t<"u"&&t.endian==="little"&&(e=wE(e)),e};gn.prototype.toSMBigEndian=function(){var t;return this.cmp(gn.Zero)===-1?(t=this.neg().toBuffer(),t[0]&128?t=I.Buffer.concat([I.Buffer.from([128]),t]):t[0]=t[0]|128):(t=this.toBuffer(),t[0]&128&&(t=I.Buffer.concat([I.Buffer.from([0]),t]))),t.length===1&t[0]===0&&(t=I.Buffer.from([])),t};gn.prototype.toSM=function(t){var e=t?t.endian:"big",r=this.toSMBigEndian();return e==="little"&&(r=wE(r)),r};gn.fromScriptNumBuffer=function(t,e,r){var n=r||4;if(zF.checkArgument(t.length<=n,new Error("script number overflow")),e&&t.length>0&&(t[t.length-1]&127)===0&&(t.length<=1||(t[t.length-2]&128)===0))throw new Error("non-minimally encoded script number");return gn.fromSM(t,{endian:"little"})};gn.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})};gn.trim=function(t,e){return t.slice(e-t.length,t.length)};gn.pad=function(t,e,r){for(var n=I.Buffer.alloc(r),i=0;i<t.length;i++)n[n.length-1-i]=t[t.length-1-i];for(i=0;i<r-e;i++)n[i]=0;return n};Wte.exports=gn});var yf=$((O6t,Xte)=>{"use strict";B();k();var O4=Mr(),Yte=qr(),JIe=ti(),hb=ou(),Xi=function t(e){if(!(this instanceof t))return new t(e);if(!O4.isUndefined(e))if(I.Buffer.isBuffer(e))this.set({buf:e});else if(O4.isString(e))this.set({buf:I.Buffer.from(e,"hex")});else if(O4.isObject(e)){var r=e;this.set(r)}else throw new TypeError("Unrecognized argument for BufferReader")};Xi.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this};Xi.prototype.eof=function(){return this.buf?this.pos>=this.buf.length:!0};Xi.prototype.finished=Xi.prototype.eof;Xi.prototype.read=function(t){Yte.checkArgument(!O4.isUndefined(t),"Must specify a length");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e};Xi.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t};Xi.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t};Xi.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t};Xi.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t};Xi.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t};Xi.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t};Xi.prototype.readInt32LE=function(){var t=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,t};Xi.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=hb.fromBuffer(t);return this.pos=this.pos+8,e};Xi.prototype.readUInt64LEBN=function(){var t=this.buf.readUInt32LE(this.pos),e=this.buf.readUInt32LE(this.pos+4),r=e*4294967296+t,n;if(r<=9007199254740991)n=new hb(r);else{var i=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);n=new hb(i,10,"le")}return this.pos=this.pos+8,n};Xi.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN(),r=e.toNumber();if(r<=Math.pow(2,53))return r;throw new Error("number too large to retain precision - use readVarintBN");default:return t}};Xi.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return Yte.checkState(e.length===t,"Invalid length while reading varlength buffer. Expected to read: "+t+" and read "+e.length),e};Xi.prototype.readVarintBuf=function(){var t=this.buf.readUInt8(this.pos);switch(t){case 253:return this.read(1+2);case 254:return this.read(1+4);case 255:return this.read(1+8);default:return this.read(1)}};Xi.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new hb(this.readUInt16LE());case 254:return new hb(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new hb(t)}};Xi.prototype.reverse=function(){for(var t=I.Buffer.alloc(this.buf.length),e=0;e<t.length;e++)t[e]=this.buf[this.buf.length-1-e];return this.buf=t,this};Xi.prototype.readReverse=function(t){O4.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,JIe.reverse(e)};Xte.exports=Xi});var k4=$(bt=>{"use strict";B();k();var QIe=bt&&bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ePe=bt&&bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tPe=bt&&bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QIe(e,t,r);return ePe(e,t),e},rPe=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bt,"__esModule",{value:!0});bt.getBackTraceInfoSearch=bt.getBackTraceInfo=bt.getTxHeaderCheck=bt.txToTxHeaderCheck=bt.txToTxHeaderTiny=bt.txToTxHeaderPartial=bt.txToTxHeader=bt.tokenAmountToByteString=bt.intArrayToByteString=bt.emptyTokenAmountArray=bt.emptyBigIntArray=bt.emptyTokenArray=bt.emptyFixedArray=void 0;var nPe=rPe(yf()),vn=nn(),VF=tPe(lpe()),pb=ei(),B4=(0,vn.toByteString)(""),iPe=function(){return(0,vn.fill)(B4,pb.MAX_INPUT)};bt.emptyFixedArray=iPe;var sPe=function(){return(0,vn.fill)(B4,pb.MAX_TOKEN_OUTPUT)};bt.emptyTokenArray=sPe;var uPe=function(){return(0,vn.fill)(0n,pb.MAX_INPUT)};bt.emptyBigIntArray=uPe;var oPe=function(){return(0,vn.fill)(0n,pb.MAX_TOKEN_OUTPUT)};bt.emptyTokenAmountArray=oPe;var aPe=function(t){let e=(0,bt.emptyFixedArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,vn.int2ByteString)(n)}return e};bt.intArrayToByteString=aPe;var cPe=function(t){let e=(0,bt.emptyTokenArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,vn.int2ByteString)(n)}return e};bt.tokenAmountToByteString=cPe;var fPe=function(t){let e=(0,nPe.default)(t.toBuffer(!0)),r=e.read(4),n=e.readVarintNum(),i=(0,bt.emptyFixedArray)(),s=(0,bt.emptyFixedArray)(),u=(0,bt.emptyFixedArray)(),o=(0,bt.emptyFixedArray)();for(let d=0;d<n;d++){let p=e.read(32),m=e.read(4);if(e.readVarLengthBuffer().length>0)throw Error(`input ${d} unlocking script need eq 0`);let x=e.read(4);i[d]=(0,vn.toHex)(p),s[d]=(0,vn.toHex)(m),u[d]=(0,vn.toByteString)("00"),o[d]=(0,vn.toHex)(x)}let a=e.readVarintNum(),l=(0,bt.emptyFixedArray)(),f=(0,bt.emptyFixedArray)(),c=(0,bt.emptyFixedArray)();for(let d=0;d<a;d++){let p=e.read(8),m=e.readVarintNum(),w=e.read(m);l[d]=(0,vn.toHex)(p),f[d]=(0,vn.toHex)(VF.encode(m)),c[d]=(0,vn.toHex)(w)}let h=e.read(4);return{version:(0,vn.toHex)(r),inputCount:(0,vn.toHex)(VF.encode(n)),inputTxhashList:i,inputOutputIndexList:s,inputScriptList:u,inputSequenceList:o,outputCount:(0,vn.toHex)(VF.encode(a)),outputSatoshisList:l,outputScriptLenList:f,outputScriptList:c,nLocktime:(0,vn.toHex)(h)}};bt.txToTxHeader=fPe;var lPe=function(t){let e=(0,bt.emptyFixedArray)();for(let i=0;i<e.length;i++)e[i]=t.inputTxhashList[i]+t.inputOutputIndexList[i]+t.inputScriptList[i]+t.inputSequenceList[i];let r=(0,bt.emptyFixedArray)(),n=(0,bt.emptyFixedArray)();for(let i=0;i<r.length;i++)r[i]=t.outputSatoshisList[i],n[i]=t.outputScriptList[i];return{version:t.version,inputCount:t.inputCount,inputs:e,outputCountVal:(0,vn.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:r,outputScriptList:n,nLocktime:t.nLocktime}};bt.txToTxHeaderPartial=lPe;var dPe=function(t){let e=(0,vn.toByteString)(""),r=(0,bt.emptyFixedArray)();for(let o=0;o<r.length;o++)e+=t.inputTxhashList[o]+t.inputOutputIndexList[o]+t.inputScriptList[o]+t.inputSequenceList[o];let n=(0,vn.fill)(B4,4),i=t.version+t.inputCount+e+t.outputCount;for(let o=0;o<4;o++){let a=o*80*2,l=a+80*2;n[o]=i.slice(a,l)}let s=(0,bt.emptyFixedArray)(),u=(0,bt.emptyFixedArray)();for(let o=0;o<s.length;o++)s[o]=t.outputSatoshisList[o],u[o]=t.outputScriptList[o];return{prevList:n,outputCountVal:(0,vn.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:s,outputScriptList:u,nLocktime:t.nLocktime}};bt.txToTxHeaderTiny=dPe;var hPe=function(t){let e=(0,vn.toByteString)(""),r=(0,bt.emptyFixedArray)();for(let s=0;s<r.length;s++)e+=t.inputTxhashList[s]+t.inputOutputIndexList[s]+t.inputScriptList[s]+t.inputSequenceList[s];let n=(0,vn.fill)(B4,pb.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER),i=(0,vn.fill)(B4,pb.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER);for(let s=0;s<n.length;s++)n[s]=t.outputSatoshisList[s],i[s]=t.outputScriptList[s];return{prev:t.version+t.inputCount+e+t.outputCount,outputCountVal:(0,vn.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:n,outputScriptList:i,nLocktime:t.nLocktime}};bt.txToTxHeaderCheck=hPe;var pPe=function(t,e){let r=(0,bt.txToTxHeader)(t),n=I.Buffer.alloc(4,0);return n.writeUInt32LE(e),{tx:(0,bt.txToTxHeaderCheck)(r),outputBytes:n.toString("hex"),outputIndex:BigInt(e),outputPre:r.outputSatoshisList[e]+r.outputScriptLenList[e]}};bt.getTxHeaderCheck=pPe;var bPe=function(t,e,r){let n=(0,bt.txToTxHeader)(t),i=(0,bt.txToTxHeader)(e),s=(0,bt.txToTxHeaderPartial)(n),u=(0,bt.txToTxHeaderTiny)(i),o={txhash:n.inputTxhashList[r],outputIndex:n.inputOutputIndexList[r],outputIndexVal:(0,vn.byteString2Int)(n.inputOutputIndexList[r]),sequence:n.inputSequenceList[r]};return{preTx:s,preTxInput:o,preTxInputIndex:BigInt(r),prePreTx:u}};bt.getBackTraceInfo=bPe;var gPe=function(t,e,r,n){let i=-1;for(let f=0;f<t.inputs.length;f++){let h=t.inputs[f].output.script.toBuffer().toString("hex");if(h==r||h==n){i=f;break}}if(i==-1)throw new Error("not find prev");let s=(0,bt.txToTxHeader)(t),u=(0,bt.txToTxHeader)(e),o=(0,bt.txToTxHeaderPartial)(s),a=(0,bt.txToTxHeaderTiny)(u),l={txhash:s.inputTxhashList[i],outputIndex:s.inputOutputIndexList[i],outputIndexVal:(0,vn.byteString2Int)(s.inputOutputIndexList[i]),sequence:s.inputSequenceList[i]};return{preTx:o,preTxInput:l,preTxInputIndex:BigInt(i),prePreTx:a}};bt.getBackTraceInfoSearch=gPe});var F4=$(_3=>{"use strict";B();k();var mPe=_3&&_3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},GF=_3&&_3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(_3,"__esModule",{value:!0});_3.GuardProto=void 0;var C4=nn(),Zte=k4(),yPe=ei(),bb=class extends C4.SmartContractLib{static stateHash(e){let r=e.tokenScript;for(let n=0;n<yPe.MAX_INPUT;n++)r+=(0,C4.int2ByteString)(e.inputTokenAmountArray[n]);return(0,C4.hash160)(r)}static toByteString(e){return bb.toList(e).join("")}static createEmptyState(){return{tokenScript:(0,C4.toByteString)(""),inputTokenAmountArray:(0,Zte.emptyBigIntArray)()}}static toList(e){return[e.tokenScript,...(0,Zte.intArrayToByteString)(e.inputTokenAmountArray)]}};_3.GuardProto=bb;mPe([(0,C4.method)(),GF("design:type",Function),GF("design:paramtypes",[Object]),GF("design:returntype",String)],bb,"stateHash",null)});var gb=$(w3=>{"use strict";B();k();var M4=w3&&w3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},No=w3&&w3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(w3,"__esModule",{value:!0});w3.TxProof=void 0;var Kn=nn(),R4=ei(),Ml=class extends Kn.SmartContractLib{static getTxIdFromPreimg1(e){let r=e.version+e.inputCount;for(let n=0;n<R4.MAX_INPUT;n++)r+=e.inputs[n];r+=e.outputCount,(0,Kn.assert)((0,Kn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<R4.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],u=(0,Kn.int2ByteString)((0,Kn.len)(s));n<e.outputCountVal&&(r+=i+u+s)}return(0,Kn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg2(e){let r=(0,Kn.toByteString)("");for(let n=0;n<R4.XRAYED_TXID_PREIMG2_PREVLIST_LEN;n++)r+=e.prevList[n];(0,Kn.assert)((0,Kn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<R4.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],u=(0,Kn.int2ByteString)((0,Kn.len)(s));n<e.outputCountVal&&(r+=i+u+s)}return(0,Kn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg3(e){(0,Kn.assert)((0,Kn.int2ByteString)(e.outputCountVal)==e.outputCount);let r=(0,Kn.toByteString)("");for(let n=0;n<R4.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],u=(0,Kn.int2ByteString)((0,Kn.len)(s));n<e.outputCountVal&&(r+=i+u+s)}return(0,Kn.hash256)(e.prev+r+e.nLocktime)}static mergeInput(e){return e.txhash+e.outputIndex+(0,Kn.toByteString)("00")+e.sequence}static verifyOutput(e,r,n,i){return(0,Kn.assert)(Ml.getTxIdFromPreimg2(e)==r),(0,Kn.assert)(e.outputScriptList[Number(n)]==i),!0}};w3.TxProof=Ml;M4([(0,Kn.method)(),No("design:type",Function),No("design:paramtypes",[Object]),No("design:returntype",String)],Ml,"getTxIdFromPreimg1",null);M4([(0,Kn.method)(),No("design:type",Function),No("design:paramtypes",[Object]),No("design:returntype",String)],Ml,"getTxIdFromPreimg2",null);M4([(0,Kn.method)(),No("design:type",Function),No("design:paramtypes",[Object]),No("design:returntype",String)],Ml,"getTxIdFromPreimg3",null);M4([(0,Kn.method)(),No("design:type",Function),No("design:paramtypes",[Object]),No("design:returntype",String)],Ml,"mergeInput",null);M4([(0,Kn.method)(),No("design:type",Function),No("design:paramtypes",[Object,String,BigInt,String]),No("design:returntype",Boolean)],Ml,"verifyOutput",null)});var _a=$(A3=>{"use strict";B();k();var mb=A3&&A3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},au=A3&&A3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(A3,"__esModule",{value:!0});A3.StateUtils=void 0;var $i=nn(),E3=ei(),vPe=gb(),Do=class extends $i.SmartContractLib{static verifyStateRoot(e,r){let n=(0,$i.toByteString)("");for(let i=0;i<E3.MAX_STATE;i++)n+=(0,$i.hash160)(e[i]);return(0,$i.hash160)(n)==r}static getPadding(e){let r=BigInt(E3.MAX_STATE)-e,n=(0,$i.toByteString)("");for(let i=0;i<E3.MAX_STATE;i++)i<r&&(n+=(0,$i.hash160)((0,$i.toByteString)("")));return n}static getStateScript(e,r){return E3.TxUtil.getStateScript((0,$i.hash160)((0,$i.hash160)(e)+Do.getPadding(r)))}static getCurrentStateOutput(e,r,n){let i=(0,$i.hash160)(e+Do.getPadding(r));return(0,$i.assert)(Do.verifyStateRoot(n,i)),E3.TxUtil.buildOpReturnRoot(E3.TxUtil.getStateScript(i))}static verifyPreStateHash(e,r,n,i){return(0,$i.assert)(E3.TxUtil.getStateScript(e.statesHashRoot)==n,"preStateHashRoot mismatch"),(0,$i.assert)(Do.verifyStateRoot(e.txoStateHashes,e.statesHashRoot),"preData error"),(0,$i.assert)(r==e.txoStateHashes[Number(i-1n)],"preState hash mismatch"),!0}static verifyGuardStateHash(e,r,n){return(0,$i.assert)(vPe.TxProof.getTxIdFromPreimg3(e)==r,"preTxHeader error"),(0,$i.assert)(Do.getStateScript(n,1n)==e.outputScriptList[E3.STATE_OUTPUT_INDEX],"preStateHashRoot mismatch"),!0}};A3.StateUtils=Do;mb([(0,$i.method)(),au("design:type",Function),au("design:paramtypes",[Object,String]),au("design:returntype",Boolean)],Do,"verifyStateRoot",null);mb([(0,$i.method)(),au("design:type",Function),au("design:paramtypes",[BigInt]),au("design:returntype",String)],Do,"getPadding",null);mb([(0,$i.method)(),au("design:type",Function),au("design:paramtypes",[String,BigInt]),au("design:returntype",String)],Do,"getStateScript",null);mb([(0,$i.method)(),au("design:type",Function),au("design:paramtypes",[String,BigInt,Object]),au("design:returntype",String)],Do,"getCurrentStateOutput",null);mb([(0,$i.method)(),au("design:type",Function),au("design:paramtypes",[Object,String,String,BigInt]),au("design:returntype",Boolean)],Do,"verifyPreStateHash",null);mb([(0,$i.method)(),au("design:type",Function),au("design:paramtypes",[Object,String,String]),au("design:returntype",Boolean)],Do,"verifyGuardStateHash",null)});var XF=$(T3=>{"use strict";B();k();var SPe=T3&&T3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},WF=T3&&T3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(T3,"__esModule",{value:!0});T3.BurnGuard=void 0;var vf=nn(),YF=Sa(),EE=ei(),_Pe=F4(),wPe=_a(),AE=class extends vf.SmartContract{burn(e,r,n,i,s,u,o){(0,vf.assert)(this.checkSig(YF.SigHashUtils.checkSHPreimage(u),YF.SigHashUtils.Gx),"preimage check error"),YF.SigHashUtils.checkPrevoutsCtx(o,u.hashPrevouts,u.inputIndex),wPe.StateUtils.verifyGuardStateHash(s,o.spentTxhash,_Pe.GuardProto.stateHash(i));let a=(0,vf.toByteString)(""),l=(0,vf.toByteString)("");for(let h=0;h<EE.MAX_STATE;h++){let d=r[h];(0,vf.assert)(d!=i.tokenScript),a+=(0,vf.hash160)(e[h]),(0,vf.len)(d)>0&&(l+=EE.TxUtil.buildOutput(d,n[h]))}let f=EE.TxUtil.buildOpReturnRoot(EE.TxUtil.getStateScript((0,vf.hash160)(a))),c=(0,vf.sha256)(f+l);(0,vf.assert)(c==u.hashOutputs,"hashOutputs mismatch")}};T3.BurnGuard=AE;SPe([(0,vf.method)(),WF("design:type",Function),WF("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),WF("design:returntype",void 0)],AE.prototype,"burn",null)});var Nl=$(x3=>{"use strict";B();k();var Qte=x3&&x3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},vb=x3&&x3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(x3,"__esModule",{value:!0});x3.Backtrace=void 0;var Sf=nn(),yb=gb(),Jte=ei(),N4=class extends Sf.SmartContractLib{static verifyUnique(e,r,n,i){return(0,Sf.assert)(e==yb.TxProof.getTxIdFromPreimg1(r.preTx)),(0,Sf.assert)(yb.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,Sf.assert)(Jte.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),r.preTxInput.txhash+r.preTxInput.outputIndex!=n&&yb.TxProof.verifyOutput(r.prePreTx,r.preTxInput.txhash,r.preTxInput.outputIndexVal,i),!0}static verifyToken(e,r,n,i){(0,Sf.assert)(e==yb.TxProof.getTxIdFromPreimg1(r.preTx)),(0,Sf.assert)(yb.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,Sf.assert)(Jte.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),(0,Sf.assert)(yb.TxProof.getTxIdFromPreimg2(r.prePreTx)==r.preTxInput.txhash);let s=r.prePreTx.outputScriptList[Number(r.preTxInput.outputIndexVal)],u=s==n,o=s==i;return(0,Sf.assert)(u||o),!0}};x3.Backtrace=N4;Qte([(0,Sf.method)(),vb("design:type",Function),vb("design:paramtypes",[String,Object,String,String]),vb("design:returntype",Boolean)],N4,"verifyUnique",null);Qte([(0,Sf.method)(),vb("design:type",Function),vb("design:paramtypes",[String,Object,String,String]),vb("design:returntype",Boolean)],N4,"verifyToken",null)});var QF=$(I3=>{"use strict";B();k();var EPe=I3&&I3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ZF=I3&&I3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(I3,"__esModule",{value:!0});I3.ClosedMinterProto=void 0;var JF=nn(),TE=class extends JF.SmartContractLib{static stateHash(e){return(0,JF.hash160)(e.tokenScript)}};I3.ClosedMinterProto=TE;EPe([(0,JF.method)(),ZF("design:type",Function),ZF("design:paramtypes",[Object]),ZF("design:returntype",String)],TE,"stateHash",null)});var Sb=$(P3=>{"use strict";B();k();var APe=P3&&P3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},eR=P3&&P3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(P3,"__esModule",{value:!0});P3.CAT20Proto=void 0;var E7=nn(),TPe=ei(),xE=class extends E7.SmartContractLib{static stateHash(e){return(0,E7.assert)((0,E7.len)(e.ownerAddr)==TPe.ADDRESS_HASH_LEN),(0,E7.hash160)(e.ownerAddr+(0,E7.int2ByteString)(e.amount))}static create(e,r){return{amount:e,ownerAddr:r}}static toByteString(e){return e.ownerAddr+(0,E7.int2ByteString)(e.amount)}};P3.CAT20Proto=xE;APe([(0,E7.method)(),eR("design:type",Function),eR("design:paramtypes",[Object]),eR("design:returntype",String)],xE,"stateHash",null)});var rR=$(O3=>{"use strict";B();k();var tR=O3&&O3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},D4=O3&&O3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(O3,"__esModule",{value:!0});O3.ClosedMinter=void 0;var wa=nn(),_b=ei(),IE=Sa(),xPe=Nl(),IPe=QF(),ere=_a(),PPe=Sb(),wb=class extends wa.SmartContract{constructor(e,r){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r}mint(e,r,n,i,s,u,o,a,l,f,c,h,d,p){(0,wa.assert)(this.checkSig(IE.SigHashUtils.checkSHPreimage(c),IE.SigHashUtils.Gx),"preimage check error"),IE.SigHashUtils.checkPrevoutsCtx(h,c.hashPrevouts,c.inputIndex),IE.SigHashUtils.checkSpentScriptsCtx(d,c.hashSpentScripts),ere.StateUtils.verifyPreStateHash(l,IPe.ClosedMinterProto.stateHash(a),f.preTx.outputScriptList[_b.STATE_OUTPUT_INDEX],h.outputIndexVal);let m=d[Number(h.inputIndexVal)];xPe.Backtrace.verifyUnique(h.spentTxhash,f,this.genesisOutpoint,m);let w=(0,wa.toByteString)(""),x=(0,wa.toByteString)(""),_=0n;u!=_b.TxUtil.ZEROSAT&&(x=_b.TxUtil.buildOutput(m,u),w+=(0,wa.hash160)(l.txoStateHashes[Number(h.outputIndexVal)-_b.STATE_OUTPUT_OFFSET]),_+=1n),w+=(0,wa.hash160)(PPe.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let y=_b.TxUtil.buildOutput(a.tokenScript,o);_+=1n;let S=ere.StateUtils.getCurrentStateOutput(w,_,e),F=_b.TxUtil.getChangeOutput(p),N=(0,wa.sha256)(S+x+y+F);(0,wa.assert)(N==c.hashOutputs,"hashOutputs mismatch"),(0,wa.assert)(this.issuerAddress==(0,wa.hash160)(n+i)),(0,wa.assert)(this.checkSig(s,i))}};O3.ClosedMinter=wb;tR([(0,wa.prop)(),D4("design:type",String)],wb.prototype,"issuerAddress",void 0);tR([(0,wa.prop)(),D4("design:type",String)],wb.prototype,"genesisOutpoint",void 0);tR([(0,wa.method)(),D4("design:type",Function),D4("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),D4("design:returntype",void 0)],wb.prototype,"mint",null)});var iR=$(B3=>{"use strict";B();k();var OPe=B3&&B3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},nR=B3&&B3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(B3,"__esModule",{value:!0});B3.OpenMinterProto=void 0;var Dl=nn(),tre=ei(),PE=class extends Dl.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,Dl.toByteString)("01"):(0,Dl.toByteString)("00");return(0,Dl.hash160)(e.tokenScript+r+(0,Dl.int2ByteString)(e.remainingSupply))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupply:n}}static toByteString(e){let r=e.isPremined?(0,Dl.toByteString)("01"):(0,Dl.toByteString)("00");return e.tokenScript+r+(0,Dl.int2ByteString)(e.remainingSupply)}static getSplitAmountList(e,r,n,i){let s=(0,Dl.fill)(0n,2);if(i>0&&i<=2){let u=e-r,o=(0,tre.Int32)(i)*n,a=u/o*n,l=u-a*(0,tre.Int32)(i);s[0]=a+l;for(let f=1;f<i;f++)s[f]=a}return s}};B3.OpenMinterProto=PE;OPe([(0,Dl.method)(),nR("design:type",Function),nR("design:paramtypes",[Object]),nR("design:returntype",String)],PE,"stateHash",null)});var sR=$(_f=>{"use strict";B();k();var Eb=_f&&_f.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},k3=_f&&_f.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(_f,"__esModule",{value:!0});_f.OpenMinter=_f.MAX_NEXT_MINTERS=void 0;var xi=nn(),OE=ei(),BE=Sa(),BPe=Nl(),rre=_a(),kPe=Sb(),nre=iR();_f.MAX_NEXT_MINTERS=2;var rh=class extends xi.SmartContract{constructor(e,r,n,i,s){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.limit=i,this.premineAddr=s}mint(e,r,n,i,s,u,o,a,l,f,c,h,d,p,m){(0,xi.assert)(this.checkSig(BE.SigHashUtils.checkSHPreimage(h),BE.SigHashUtils.Gx),"preimage check error"),BE.SigHashUtils.checkPrevoutsCtx(d,h.hashPrevouts,h.inputIndex),BE.SigHashUtils.checkSpentScriptsCtx(p,h.hashSpentScripts),rre.StateUtils.verifyPreStateHash(f,nre.OpenMinterProto.stateHash(l),c.preTx.outputScriptList[OE.STATE_OUTPUT_INDEX],d.outputIndexVal);let w=p[Number(d.inputIndexVal)];BPe.Backtrace.verifyUnique(d.spentTxhash,c,this.genesisOutpoint,w);let x=(0,xi.toByteString)(""),_=(0,xi.toByteString)(""),y=0n,S=0n;for(let L=0;L<_f.MAX_NEXT_MINTERS;L++){let P=n[L];P>0n&&(S+=P,y+=1n,x+=OE.TxUtil.buildOutput(w,o),_+=(0,xi.hash160)(nre.OpenMinterProto.stateHash({tokenScript:l.tokenScript,isPremined:!0,remainingSupply:P})))}let F=(0,xi.toByteString)("");r.amount>0n&&(S+=r.amount,y+=1n,_+=(0,xi.hash160)(kPe.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr})),F=OE.TxUtil.buildOutput(l.tokenScript,a)),!l.isPremined&&this.premine>0n?((0,xi.assert)((0,xi.hash160)(i+s)==this.premineAddr),(0,xi.assert)(this.checkSig(u,s)),(0,xi.assert)(S==l.remainingSupply+this.premine),(0,xi.assert)(this.max==l.remainingSupply+this.premine),(0,xi.assert)(r.amount==this.premine)):((0,xi.assert)(S==l.remainingSupply),(0,xi.assert)(r.amount<=this.limit));let N=rre.StateUtils.getCurrentStateOutput(_,y,e),H=OE.TxUtil.getChangeOutput(m),D=(0,xi.sha256)(N+x+F+H);(0,xi.assert)(D==h.hashOutputs,"hashOutputs mismatch")}};_f.OpenMinter=rh;Eb([(0,xi.prop)(),k3("design:type",String)],rh.prototype,"genesisOutpoint",void 0);Eb([(0,xi.prop)(),k3("design:type",BigInt)],rh.prototype,"max",void 0);Eb([(0,xi.prop)(),k3("design:type",BigInt)],rh.prototype,"premine",void 0);Eb([(0,xi.prop)(),k3("design:type",BigInt)],rh.prototype,"limit",void 0);Eb([(0,xi.prop)(),k3("design:type",String)],rh.prototype,"premineAddr",void 0);Eb([(0,xi.method)(),k3("design:type",Function),k3("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),k3("design:returntype",void 0)],rh.prototype,"mint",null)});var uR=$(F3=>{"use strict";B();k();var CE=F3&&F3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},C3=F3&&F3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(F3,"__esModule",{value:!0});F3.CAT20=void 0;var Ru=nn(),kE=Sa(),ire=ei(),CPe=gb(),sre=_a(),FPe=Sb(),RPe=F4(),MPe=Nl(),A7=class extends Ru.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,u,o,a){(0,Ru.assert)(this.checkSig(kE.SigHashUtils.checkSHPreimage(u),kE.SigHashUtils.Gx),"preimage check error"),kE.SigHashUtils.checkPrevoutsCtx(o,u.hashPrevouts,u.inputIndex),kE.SigHashUtils.checkSpentScriptsCtx(a,u.hashSpentScripts),sre.StateUtils.verifyPreStateHash(n,FPe.CAT20Proto.stateHash(r),s.preTx.outputScriptList[ire.STATE_OUTPUT_INDEX],o.outputIndexVal);let l=a[Number(o.inputIndexVal)];MPe.Backtrace.verifyToken(o.spentTxhash,s,this.minterScript,l),this.valitateGuard(i,l,r,o.inputIndexVal,o.prevouts,a),e.isUserSpend?((0,Ru.assert)((0,Ru.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,Ru.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,Ru.assert)(r.ownerAddr==(0,Ru.hash160)(a[Number(e.contractInputIndex)]))}valitateGuard(e,r,n,i,s,u){let o=RPe.GuardProto.stateHash(e.guardState);(0,Ru.assert)(e.guardState.tokenScript==r),(0,Ru.assert)(sre.StateUtils.getStateScript(o,1n)==e.tx.outputScriptList[ire.STATE_OUTPUT_INDEX]),(0,Ru.assert)(n.amount>0n),(0,Ru.assert)(e.guardState.inputTokenAmountArray[Number(i)]==n.amount);let a=CPe.TxProof.getTxIdFromPreimg3(e.tx);return(0,Ru.assert)(s[Number(e.inputIndexVal)]==a+e.outputIndex),(0,Ru.assert)(u[Number(e.inputIndexVal)]==this.guardScript),!0}};F3.CAT20=A7;CE([(0,Ru.prop)(),C3("design:type",String)],A7.prototype,"minterScript",void 0);CE([(0,Ru.prop)(),C3("design:type",String)],A7.prototype,"guardScript",void 0);CE([(0,Ru.method)(),C3("design:type",Function),C3("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),C3("design:returntype",void 0)],A7.prototype,"unlock",null);CE([(0,Ru.method)(),C3("design:type",Function),C3("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),C3("design:returntype",Boolean)],A7.prototype,"valitateGuard",null)});var aR=$(R3=>{"use strict";B();k();var NPe=R3&&R3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},oR=R3&&R3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(R3,"__esModule",{value:!0});R3.TransferGuard=void 0;var gs=nn(),FE=Sa(),Ab=ei(),DPe=F4(),HPe=_a(),RE=class extends gs.SmartContract{transfer(e,r,n,i,s,u,o,a,l,f,c){(0,gs.assert)(this.checkSig(FE.SigHashUtils.checkSHPreimage(l),FE.SigHashUtils.Gx),"preimage check error"),FE.SigHashUtils.checkPrevoutsCtx(f,l.hashPrevouts,l.inputIndex),FE.SigHashUtils.checkSpentScriptsCtx(c,l.hashSpentScripts),HPe.StateUtils.verifyGuardStateHash(a,f.spentTxhash,DPe.GuardProto.stateHash(o));let h=0n;for(let y=0;y<Ab.MAX_INPUT;y++)if(c[y]==o.tokenScript){let F=h;h+=o.inputTokenAmountArray[y],(0,gs.assert)(h>F)}let d=(0,gs.toByteString)(""),p=(0,gs.toByteString)(""),m=0n,w=Ab.TxUtil.buildOutput(o.tokenScript,u);for(let y=0;y<Ab.MAX_STATE;y++){let S=r[y];if(i[y]){let F=n[y];(0,gs.assert)(F>0n),m=m+F,p=p+w;let N=(0,gs.hash160)((0,gs.hash160)(S+(0,gs.int2ByteString)(F)));(0,gs.assert)((0,gs.hash160)(e[y])==N),d+=N}else(0,gs.assert)(S!=o.tokenScript),d+=(0,gs.hash160)(e[y]),(0,gs.len)(S)>0&&(p+=Ab.TxUtil.buildOutput(S,s[y]))}(0,gs.assert)(h>0n),(0,gs.assert)(h==m);let x=Ab.TxUtil.buildOpReturnRoot(Ab.TxUtil.getStateScript((0,gs.hash160)(d))),_=(0,gs.sha256)(x+p);(0,gs.assert)(_==l.hashOutputs,"hashOutputs mismatch")}};R3.TransferGuard=RE;NPe([(0,gs.method)(),oR("design:type",Function),oR("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),oR("design:returntype",void 0)],RE.prototype,"transfer",null)});var fR=$(M3=>{"use strict";B();k();var LPe=M3&&M3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},cR=M3&&M3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(M3,"__esModule",{value:!0});M3.OpenMinterV2Proto=void 0;var Hl=nn(),ME=class extends Hl.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,Hl.toByteString)("01"):(0,Hl.toByteString)("00");return(0,Hl.hash160)(e.tokenScript+r+(0,Hl.int2ByteString)(e.remainingSupplyCount))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupplyCount:n}}static toByteString(e){let r=e.isPremined?(0,Hl.toByteString)("01"):(0,Hl.toByteString)("00");return e.tokenScript+r+(0,Hl.int2ByteString)(e.remainingSupplyCount)}static getSplitAmountList(e,r,n){let i=e-1n;!r&&n>0n&&(i=e);let s=(0,Hl.fill)(i/2n,2);return s[0]+=i-s[0]*2n,s}};M3.OpenMinterV2Proto=ME;LPe([(0,Hl.method)(),cR("design:type",Function),cR("design:paramtypes",[Object]),cR("design:returntype",String)],ME,"stateHash",null)});var lR=$(N3=>{"use strict";B();k();var T7=N3&&N3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},nh=N3&&N3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(N3,"__esModule",{value:!0});N3.OpenMinterV2=void 0;var Ii=nn(),NE=ei(),DE=Sa(),UPe=Nl(),ure=_a(),$Pe=Sb(),ore=fR(),qPe=2,Ll=class extends Ii.SmartContract{constructor(e,r,n,i,s,u){super(...arguments),this.genesisOutpoint=e,this.maxCount=r,this.premine=n,this.premineCount=i,this.limit=s,this.premineAddr=u}mint(e,r,n,i,s,u,o,a,l,f,c,h,d,p,m){(0,Ii.assert)(this.checkSig(DE.SigHashUtils.checkSHPreimage(h),DE.SigHashUtils.Gx),"preimage check error"),DE.SigHashUtils.checkPrevoutsCtx(d,h.hashPrevouts,h.inputIndex),DE.SigHashUtils.checkSpentScriptsCtx(p,h.hashSpentScripts),ure.StateUtils.verifyPreStateHash(f,ore.OpenMinterV2Proto.stateHash(l),c.preTx.outputScriptList[NE.STATE_OUTPUT_INDEX],d.outputIndexVal);let w=p[Number(d.inputIndexVal)];UPe.Backtrace.verifyUnique(d.spentTxhash,c,this.genesisOutpoint,w);let x=(0,Ii.toByteString)(""),_=(0,Ii.toByteString)(""),y=1n,S=0n;for(let L=0;L<qPe;L++){let P=n[L];P>0n&&(S+=P,y+=1n,x+=NE.TxUtil.buildOutput(w,o),_+=(0,Ii.hash160)(ore.OpenMinterV2Proto.stateHash({tokenScript:l.tokenScript,isPremined:!0,remainingSupplyCount:P})))}_+=(0,Ii.hash160)($Pe.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let F=NE.TxUtil.buildOutput(l.tokenScript,a);!l.isPremined&&this.premine>0n?((0,Ii.assert)((0,Ii.hash160)(i+s)==this.premineAddr),(0,Ii.assert)(this.checkSig(u,s)),(0,Ii.assert)(S==l.remainingSupplyCount),(0,Ii.assert)(this.maxCount==l.remainingSupplyCount+this.premineCount),(0,Ii.assert)(r.amount==this.premine)):(S+=1n,(0,Ii.assert)(S==l.remainingSupplyCount),(0,Ii.assert)(r.amount==this.limit));let N=ure.StateUtils.getCurrentStateOutput(_,y,e),H=NE.TxUtil.getChangeOutput(m),D=(0,Ii.sha256)(N+x+F+H);(0,Ii.assert)(D==h.hashOutputs,"hashOutputs mismatch")}};N3.OpenMinterV2=Ll;T7([(0,Ii.prop)(),nh("design:type",String)],Ll.prototype,"genesisOutpoint",void 0);T7([(0,Ii.prop)(),nh("design:type",BigInt)],Ll.prototype,"maxCount",void 0);T7([(0,Ii.prop)(),nh("design:type",BigInt)],Ll.prototype,"premine",void 0);T7([(0,Ii.prop)(),nh("design:type",BigInt)],Ll.prototype,"premineCount",void 0);T7([(0,Ii.prop)(),nh("design:type",BigInt)],Ll.prototype,"limit",void 0);T7([(0,Ii.prop)(),nh("design:type",String)],Ll.prototype,"premineAddr",void 0);T7([(0,Ii.method)(),nh("design:type",Function),nh("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),nh("design:returntype",void 0)],Ll.prototype,"mint",null)});var are=$((E7t,jPe)=>{jPe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"ClosedMinter",md5:"fe60c526b65695c3070dfed2a8362734",structs:[{name:"ClosedMinterState",params:[{name:"tokenScript",type:"bytes"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"ClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"genesisSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"ClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../closedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000000<ownerAddress><genesisOutpoint>78547a7572537a76537a75777701257901257901257901257901257901257901257901257901257901257901257901257901257901257960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011779011779011779011779011779011779011779011779011779011779012d790128795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5d795d795d795d795d795d790127795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015a79015a79015a79015a79015a79015a7901617976a977014b79014b79014b79014b79014b79014b7956007600a26976569f69948c766b796c756b6d6d6d6c0118795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755d0112797600a26976569f6994766b796c7560790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000161795a798764537901627978827d770122a1696e7e53797e7777777b757c5279015e79015e79015e79015e79015e7955011b798c7600a26976559f69948c766b796c756b6d6d756ca97e537a757b7b527978778b7768527901677901677978827701149d6e7ea97777a97e537a757b7b527975015f7901617978827d770122a1696e7e53797e777777788b7b757c53795279016e79016e79016e79016e79016e7956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775d795d79765e7987646e78827d770122a1696e7e53797e77777767006877777855797e53797e787ea8760128798859790169790169797ea988016679016879ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var cre=$((A7t,KPe)=>{KPe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinter",md5:"21cbd2e538f2b6cc40ee180e174f1e25",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"OpenMinterState",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupply",type:"int"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"OpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterAmounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"},{name:"premine",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><max><premine><limit><premineAddr>0128790128790128790128790128790128790128790128790128790128790128790128790128790128790113795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011579787ea85279017f9f695279009c6301006752796878557952797e8801187955797e54798b7e6b6d6d6d6d6d6d6d6d6c775879ad011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79013079012b795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d607960796079607960796079012a795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015d79015d79015d79015d79015d79015d79016679016679016679786351670100685379787e52797ea96b6d6d6c014e79014e79014e79014e79014e79014e7956007600a26976569f69948c766b796c756b6d6d6d6c011b795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75600115797600a26976569f6994766b796c750113790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790135790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500000000016c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016c8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a537975687500016e7900a06378016f79937b757c52798b537a757b7b527975537901707901707978827701149d6e7ea97777a97e547a7572537a53797501667901687978827d770122a1696e7e53797e6b6d6d6c6801657964587900a067006863016b79016b797ea9577988016979016b79ad780165795a79939d59790165795a79939d016e7959799d67780165799d016e795879a169687001767901767901767901767901767956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var fre=$((T7t,zPe)=>{zPe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinterV2",md5:"a6c2e92d74a23c07bb6220b676c6cb9b",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"OpenMinterV2State",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupplyCount",type:"int"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"OpenMinterV2Proto",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterCounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterV2State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineCount",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinterV2.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><maxCount><premine><premineCount><limit><premineAddr>0129790129790129790129790129790129790129790129790129790129790129790129790129790129790114795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011679787ea85279017f9f695279009c6301006752796878557952797e8801197955797e54798b7e6b6d6d6d6d6d6d6d6d6c775979ad011b79011b79011b79011b79011b79011b79011b79011b79011b79011b79013179012c795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d011179011179011179011179011179011179012b795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015e79015e79015e79015e79015e79015e79016779016779016779786351670100685379787e52797ea96b6d6d6c014f79014f79014f79014f79014f79014f7956007600a26976569f69948c766b796c756b6d6d6d6c011c795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d7501110116797600a26976569f6994766b796c75011479015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a790136790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500005100016d766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016d8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875527901707901707978827701149d6e7ea97777a97e537a757b7b52797501667901687978827d770122a1696e7e53797e77777701667964597900a067006863016c79016c797ea9577988016a79016c79ad780166799d5a790166795a79939d016f795a799d67788b7b757d0166799d016f7958799d687001777901777901777901777901777956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770112790112797601137987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012d79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var lre=$((x7t,VPe)=>{VPe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT20",md5:"36eb7d5819c558e74512693c33a8f309",structs:[{name:"TokenUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"GuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"GuardConstState"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"tokenUnlockArgs",type:"TokenUnlockArgs"},{name:"preState",type:"CAT20State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"GuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat20.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c01177901117988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c885e7900a069011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var dre=$((I7t,GPe)=>{GPe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"BurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../burnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var hre=$((P7t,WPe)=>{WPe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"TransferGuard",md5:"7fc09a52492f2bd4d5f30c4f5116c0f8",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"tokenAmountList",type:"int[5]"},{name:"tokenOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../transferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d0059766b796c78770136798763787601367901367901367901367901367901367955766b796c756b6d6d6d6c93537a757b7b527975527978a06975687558766b796c78770136798763787601367901367901367901367901367901367954766b796c756b6d6d6d6c93537a757b7b527975527978a06975687557766b796c78770136798763787601367901367901367901367901367901367953766b796c756b6d6d6d6c93537a757b7b527975527978a06975687556766b796c78770136798763787601367901367901367901367901367901367952766b796c756b6d6d6d6c93537a757b7b527975527978a06975687555766b796c78770136798763787601367901367901367901367901367901367951766b796c756b6d6d6d6c93537a757b7b527975527978a06975687554766b796c78770136798763787601367901367901367901367901367901367900766b796c756b6d6d6d6c93537a757b7b527975527978a06975687500000001377901397978827d770122a1696e7e53797e777777014d766b796c750144766b796c75630149766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a90155766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a7987916954790154766b796c75a97e557a75547a547a547a547a54797877827700a0635379780141766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d8c766b796c7501448c766b796c756301498c766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901558c766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901548c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801418c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5294766b796c7501445294766b796c756301495294766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555294766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5394766b796c7501445394766b796c756301495394766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555394766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5494766b796c7501445494766b796c756301495494766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555494766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547900a069547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012279876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var hR=$(D3=>{"use strict";B();k();var YPe=D3&&D3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},dR=D3&&D3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(D3,"__esModule",{value:!0});D3.NftClosedMinterProto=void 0;var x7=nn(),HE=class extends x7.SmartContractLib{static stateHash(e){return(0,x7.hash160)(e.nftScript+(0,x7.int2ByteString)(e.quotaMaxLocalId)+(0,x7.int2ByteString)(e.nextLocalId))}static create(e,r,n){return{nftScript:e,quotaMaxLocalId:r,nextLocalId:n}}static toByteString(e){return e.nftScript+(0,x7.int2ByteString)(e.quotaMaxLocalId)+(0,x7.int2ByteString)(e.nextLocalId)}};D3.NftClosedMinterProto=HE;YPe([(0,x7.method)(),dR("design:type",Function),dR("design:paramtypes",[Object]),dR("design:returntype",String)],HE,"stateHash",null)});var Tb=$(H3=>{"use strict";B();k();var XPe=H3&&H3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},pR=H3&&H3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(H3,"__esModule",{value:!0});H3.CAT721Proto=void 0;var I7=nn(),ZPe=ei(),LE=class extends I7.SmartContractLib{static stateHash(e){return(0,I7.assert)((0,I7.len)(e.ownerAddr)==ZPe.ADDRESS_HASH_LEN),(0,I7.hash160)(e.ownerAddr+(0,I7.int2ByteString)(e.localId))}static create(e,r){return{ownerAddr:e,localId:r}}static toByteString(e){return e.ownerAddr+(0,I7.int2ByteString)(e.localId)}};H3.CAT721Proto=LE;XPe([(0,I7.method)(),pR("design:type",Function),pR("design:paramtypes",[Object]),pR("design:returntype",String)],LE,"stateHash",null)});var bR=$(L3=>{"use strict";B();k();var qE=L3&&L3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},xb=L3&&L3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(L3,"__esModule",{value:!0});L3.NftClosedMinter=void 0;var Mu=nn(),UE=ei(),$E=Sa(),JPe=Nl(),pre=hR(),bre=_a(),QPe=Tb(),P7=class extends Mu.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,u,o,a,l,f,c,h,d,p){(0,Mu.assert)(this.checkSig($E.SigHashUtils.checkSHPreimage(c),$E.SigHashUtils.Gx),"preimage check error"),$E.SigHashUtils.checkPrevoutsCtx(h,c.hashPrevouts,c.inputIndex),$E.SigHashUtils.checkSpentScriptsCtx(d,c.hashSpentScripts),bre.StateUtils.verifyPreStateHash(l,pre.NftClosedMinterProto.stateHash(a),f.preTx.outputScriptList[UE.STATE_OUTPUT_INDEX],h.outputIndexVal),(0,Mu.assert)(h.inputIndexVal==0n);let m=d[Number(h.inputIndexVal)];JPe.Backtrace.verifyUnique(h.spentTxhash,f,this.genesisOutpoint,m);let w=(0,Mu.toByteString)(""),x=(0,Mu.toByteString)(""),_=0n;a.nextLocalId+1n<a.quotaMaxLocalId&&(x=UE.TxUtil.buildOutput(m,u),w+=(0,Mu.hash160)(pre.NftClosedMinterProto.stateHash({nftScript:a.nftScript,quotaMaxLocalId:a.quotaMaxLocalId,nextLocalId:a.nextLocalId+1n})),_+=1n),(0,Mu.assert)(r.localId==a.nextLocalId),w+=(0,Mu.hash160)(QPe.CAT721Proto.stateHash(r));let S=UE.TxUtil.buildOutput(a.nftScript,o);_+=1n;let F=bre.StateUtils.getCurrentStateOutput(w,_,e),N=UE.TxUtil.getChangeOutput(p),H=(0,Mu.sha256)(F+x+S+N);(0,Mu.assert)(H==c.hashOutputs,"hashOutputs mismatch"),(0,Mu.assert)(this.issuerAddress==(0,Mu.hash160)(n+i)),(0,Mu.assert)(this.checkSig(s,i))}};L3.NftClosedMinter=P7;qE([(0,Mu.prop)(),xb("design:type",String)],P7.prototype,"issuerAddress",void 0);qE([(0,Mu.prop)(),xb("design:type",String)],P7.prototype,"genesisOutpoint",void 0);qE([(0,Mu.prop)(),xb("design:type",BigInt)],P7.prototype,"max",void 0);qE([(0,Mu.method)(),xb("design:type",Function),xb("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),xb("design:returntype",void 0)],P7.prototype,"mint",null)});var mR=$(U3=>{"use strict";B();k();var eOe=U3&&U3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},gR=U3&&U3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(U3,"__esModule",{value:!0});U3.NftParallelClosedMinterProto=void 0;var H4=nn(),jE=class extends H4.SmartContractLib{static stateHash(e){return(0,H4.hash160)(e.nftScript+(0,H4.int2ByteString)(e.nextLocalId))}static create(e,r){return{nftScript:e,nextLocalId:r}}static toByteString(e){return e.nftScript+(0,H4.int2ByteString)(e.nextLocalId)}};U3.NftParallelClosedMinterProto=jE;eOe([(0,H4.method)(),gR("design:type",Function),gR("design:paramtypes",[Object]),gR("design:returntype",String)],jE,"stateHash",null)});var vR=$($3=>{"use strict";B();k();var zE=$3&&$3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ib=$3&&$3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty($3,"__esModule",{value:!0});$3.NftParallelClosedMinter=void 0;var zn=nn(),L4=ei(),KE=Sa(),tOe=Nl(),yR=mR(),gre=_a(),rOe=Tb(),O7=class extends zn.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,u,o,a,l,f,c,h,d,p){(0,zn.assert)(this.checkSig(KE.SigHashUtils.checkSHPreimage(c),KE.SigHashUtils.Gx),"preimage check error"),KE.SigHashUtils.checkPrevoutsCtx(h,c.hashPrevouts,c.inputIndex),KE.SigHashUtils.checkSpentScriptsCtx(d,c.hashSpentScripts),gre.StateUtils.verifyPreStateHash(l,yR.NftParallelClosedMinterProto.stateHash(a),f.preTx.outputScriptList[L4.STATE_OUTPUT_INDEX],h.outputIndexVal),(0,zn.assert)(h.inputIndexVal==0n);let m=d[Number(h.inputIndexVal)];tOe.Backtrace.verifyUnique(h.spentTxhash,f,this.genesisOutpoint,m),f.preTxInput.txhash+f.preTxInput.outputIndex==this.genesisOutpoint&&((0,zn.assert)(l.txoStateHashes[1]==(0,zn.toByteString)("")),(0,zn.assert)(l.txoStateHashes[2]==(0,zn.toByteString)("")),(0,zn.assert)(l.txoStateHashes[3]==(0,zn.toByteString)("")),(0,zn.assert)(l.txoStateHashes[4]==(0,zn.toByteString)("")));let x=(0,zn.toByteString)(""),_=(0,zn.toByteString)(""),y=0n,S=a.nextLocalId+a.nextLocalId+1n,F=a.nextLocalId+a.nextLocalId+2n;S<this.max&&(_+=L4.TxUtil.buildOutput(m,u),x+=(0,zn.hash160)(yR.NftParallelClosedMinterProto.stateHash({nftScript:a.nftScript,nextLocalId:S})),y+=1n),F<this.max&&(_+=L4.TxUtil.buildOutput(m,u),x+=(0,zn.hash160)(yR.NftParallelClosedMinterProto.stateHash({nftScript:a.nftScript,nextLocalId:F})),y+=1n),(0,zn.assert)(r.localId==a.nextLocalId),x+=(0,zn.hash160)(rOe.CAT721Proto.stateHash(r));let N=L4.TxUtil.buildOutput(a.nftScript,o);y+=1n;let H=gre.StateUtils.getCurrentStateOutput(x,y,e),D=L4.TxUtil.getChangeOutput(p),L=(0,zn.sha256)(H+_+N+D);(0,zn.assert)(L==c.hashOutputs,"hashOutputs mismatch"),(0,zn.assert)(this.issuerAddress==(0,zn.hash160)(n+i)),(0,zn.assert)(this.checkSig(s,i))}};$3.NftParallelClosedMinter=O7;zE([(0,zn.prop)(),Ib("design:type",String)],O7.prototype,"issuerAddress",void 0);zE([(0,zn.prop)(),Ib("design:type",String)],O7.prototype,"genesisOutpoint",void 0);zE([(0,zn.prop)(),Ib("design:type",BigInt)],O7.prototype,"max",void 0);zE([(0,zn.method)(),Ib("design:type",Function),Ib("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),Ib("design:returntype",void 0)],O7.prototype,"mint",null)});var _R=$(Ul=>{"use strict";B();k();var yre=Ul&&Ul.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ob=Ul&&Ul.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.NftOpenMinterMerkleTreeData=Ul.NftOpenMinterProto=void 0;var Zi=nn(),Pb=!0,mre=!1,ih=class extends Zi.SmartContractLib{static stateHash(e){return(0,Zi.hash160)(e.nftScript+e.merkleRoot+(0,Zi.int2ByteString)(e.nextLocalId))}static nftMerkleLeafToString(e){let r=e.isMined?(0,Zi.toByteString)("01"):(0,Zi.toByteString)("00");return e.commitScript+(0,Zi.int2ByteString)(e.localId)+r}static create(e,r,n){return{nftScript:e,merkleRoot:r,nextLocalId:n}}static toByteString(e){return e.nftScript+e.merkleRoot+(0,Zi.int2ByteString)(e.nextLocalId)}};Ul.NftOpenMinterProto=ih;yre([(0,Zi.method)(),Ob("design:type",Function),Ob("design:paramtypes",[Object]),Ob("design:returntype",String)],ih,"stateHash",null);yre([(0,Zi.method)(),Ob("design:type",Function),Ob("design:paramtypes",[Object]),Ob("design:returntype",String)],ih,"nftMerkleLeafToString",null);var SR=class{constructor(e,r){this.leafArray=[],this.emptyHashs=[],this.hashNodes=[],this.height=r,this.maxLeafSize=Math.pow(2,this.height-1),this.leafArray=e;let n=(0,Zi.hash160)("");this.emptyHashs.push(n);for(let i=1;i<r;i++){let s=this.emptyHashs[i-1];this.emptyHashs[i]=(0,Zi.hash160)(s+s)}this.buildMerkleTree()}getLeaf(e){return this.leafArray[e]}get merkleRoot(){return this.hashNodes[this.hashNodes.length-1][0]}getMerklePath(e){let r=this.leafArray[e],n=this.hashNodes[0],i=[],s=[],u=(0,Zi.hash160)(ih.nftMerkleLeafToString(r));e<n.length?n[e]=u:n.push(u);let o=e;for(let a=1;a<this.height;a++){n=this.hashNodes[a-1];let l=this.hashNodes[a],f=Math.floor(o/2);o%2===1?(i.push(n[o-1]),s.push(mre)):f>=l.length?(i.push(this.emptyHashs[a-1]),s.push(Pb)):n.length>o+1?(i.push(n[o+1]),s.push(Pb)):(i.push(this.emptyHashs[a-1]),s.push(Pb)),o=f}return i.push(""),s.push(!1),{leaf:u,leafNode:r,neighbor:i,neighborType:s,merkleRoot:this.merkleRoot}}updateLeaf(e,r){let n=this.leafArray[r];this.leafArray[r]=e;let{neighbor:i,neighborType:s}=this.updateMerkleTree(e,r);return{oldLeaf:n,neighbor:i,neighborType:s,leafIndex:r,newLeaf:e,merkleRoot:this.merkleRoot}}updateMerkleTree(e,r){let n=this.hashNodes[0],i=[],s=[];r<n.length?n[r]=(0,Zi.hash160)(ih.nftMerkleLeafToString(e)):n.push((0,Zi.hash160)(ih.nftMerkleLeafToString(e)));let u=r;for(let o=1;o<this.height;o++){n=this.hashNodes[o-1];let a=this.hashNodes[o],l=Math.floor(u/2);if(u%2===1){let f=(0,Zi.hash160)(n[u-1]+n[u]);a[l]=f,i.push(n[u-1]),s.push(mre)}else{let f;if(l>=a.length){if(f=(0,Zi.hash160)(n[u]+this.emptyHashs[o-1]),a.length!==l)throw Error("wrong curHash");a.push(f),i.push(this.emptyHashs[o-1]),s.push(Pb)}else n.length>u+1?(f=(0,Zi.hash160)(n[u]+n[u+1]),i.push(n[u+1]),s.push(Pb)):(f=(0,Zi.hash160)(n[u]+this.emptyHashs[o-1]),i.push(this.emptyHashs[o-1]),s.push(Pb)),a[l]=f}u=l}return i.push(""),s.push(!1),{neighbor:i,neighborType:s}}buildMerkleTree(){this.hashNodes=[];let e=[],r=[];for(let n=0;n<this.leafArray.length;n++)e.push((0,Zi.hash160)(ih.nftMerkleLeafToString(this.leafArray[n])));e.length>0?this.hashNodes.push(e):this.hashNodes.push([this.emptyHashs[0]]);for(let n=1;n<this.height;n++){e=this.hashNodes[n-1],r=[];for(let i=0;i<e.length;)i+1<e.length?r.push((0,Zi.hash160)(e[i]+e[i+1])):r.push((0,Zi.hash160)(e[i]+this.emptyHashs[n-1])),i+=2;this.hashNodes.push(r)}}};Ul.NftOpenMinterMerkleTreeData=SR});var wR=$(o0=>{"use strict";B();k();var vre=o0&&o0.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Bb=o0&&o0.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(o0,"__esModule",{value:!0});o0.NftOpenMinterMerkleTree=o0.HEIGHT=void 0;var wf=nn();o0.HEIGHT=15;var U4=class extends wf.SmartContractLib{static updateLeaf(e,r,n,i,s){let u=e,o=r;for(let a=0;a<o0.HEIGHT-1;a++)i[a]?(u=(0,wf.hash160)(u+n[a]),o=(0,wf.hash160)(o+n[a])):(u=(0,wf.hash160)(n[a]+u),o=(0,wf.hash160)(n[a]+o));return(0,wf.assert)(u==s,"oldMerkleValue illegal"),o}static verifyLeaf(e,r,n,i){let s=e;for(let u=0;u<o0.HEIGHT-1;u++)n[u]?s=(0,wf.hash160)(s+r[u]):s=(0,wf.hash160)(r[u]+s);return(0,wf.assert)(s==i,"merkleValue illegal"),!0}};o0.NftOpenMinterMerkleTree=U4;vre([(0,wf.method)(),Bb("design:type",Function),Bb("design:paramtypes",[String,String,Object,Object,String]),Bb("design:returntype",String)],U4,"updateLeaf",null);vre([(0,wf.method)(),Bb("design:type",Function),Bb("design:paramtypes",[String,Object,Object,String]),Bb("design:returntype",Boolean)],U4,"verifyLeaf",null)});var ER=$(j3=>{"use strict";B();k();var $4=j3&&j3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},B7=j3&&j3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(j3,"__esModule",{value:!0});j3.NftOpenMinter=void 0;var ms=nn(),VE=ei(),GE=Sa(),nOe=Nl(),Sre=_a(),iOe=Tb(),WE=_R(),sOe=wR(),q3=class extends ms.SmartContract{constructor(e,r,n,i){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.premineAddr=i}mint(e,r,n,i,s,u,o,a,l,f,c,h,d,p,m,w){(0,ms.assert)(this.checkSig(GE.SigHashUtils.checkSHPreimage(d),GE.SigHashUtils.Gx),"preimage check error"),GE.SigHashUtils.checkPrevoutsCtx(p,d.hashPrevouts,d.inputIndex),GE.SigHashUtils.checkSpentScriptsCtx(m,d.hashSpentScripts),Sre.StateUtils.verifyPreStateHash(c,WE.NftOpenMinterProto.stateHash(f),h.preTx.outputScriptList[VE.STATE_OUTPUT_INDEX],p.outputIndexVal),(0,ms.assert)(p.inputIndexVal==0n);let x=m[Number(p.inputIndexVal)],_=m[1],y={commitScript:_,localId:f.nextLocalId,isMined:!1},S=WE.NftOpenMinterProto.nftMerkleLeafToString(y),F={commitScript:_,localId:f.nextLocalId,isMined:!0},N=WE.NftOpenMinterProto.nftMerkleLeafToString(F),H=sOe.NftOpenMinterMerkleTree.updateLeaf((0,ms.hash160)(S),(0,ms.hash160)(N),n,i,f.merkleRoot);nOe.Backtrace.verifyUnique(p.spentTxhash,h,this.genesisOutpoint,x);let D=(0,ms.toByteString)(""),L=(0,ms.toByteString)(""),P=1n,A=f.nextLocalId+1n;A!=this.max&&(D+=VE.TxUtil.buildOutput(x,a),L+=(0,ms.hash160)(WE.NftOpenMinterProto.stateHash({nftScript:f.nftScript,merkleRoot:H,nextLocalId:A})),P+=1n),(0,ms.assert)(r.localId==f.nextLocalId),L+=(0,ms.hash160)(iOe.CAT721Proto.stateHash(r));let b=VE.TxUtil.buildOutput(f.nftScript,l);r.localId<this.premine&&((0,ms.assert)((0,ms.hash160)(s+u)==this.premineAddr),(0,ms.assert)(this.checkSig(o,u)));let g=Sre.StateUtils.getCurrentStateOutput(L,P,e),v=VE.TxUtil.getChangeOutput(w),E=(0,ms.sha256)(g+D+b+v);(0,ms.assert)(E==d.hashOutputs,"hashOutputs mismatch")}};j3.NftOpenMinter=q3;$4([(0,ms.prop)(),B7("design:type",String)],q3.prototype,"genesisOutpoint",void 0);$4([(0,ms.prop)(),B7("design:type",BigInt)],q3.prototype,"max",void 0);$4([(0,ms.prop)(),B7("design:type",BigInt)],q3.prototype,"premine",void 0);$4([(0,ms.prop)(),B7("design:type",String)],q3.prototype,"premineAddr",void 0);$4([(0,ms.method)(),B7("design:type",Function),B7("design:paramtypes",[Object,Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),B7("design:returntype",void 0)],q3.prototype,"mint",null)});var j4=$(K3=>{"use strict";B();k();var uOe=K3&&K3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},AR=K3&&K3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(K3,"__esModule",{value:!0});K3.NftGuardProto=void 0;var q4=nn(),_re=k4(),oOe=ei(),kb=class extends q4.SmartContractLib{static stateHash(e){let r=e.collectionScript;for(let n=0;n<oOe.MAX_INPUT;n++)r+=(0,q4.int2ByteString)(e.localIdArray[n]);return(0,q4.hash160)(r)}static toByteString(e){return kb.toList(e).join("")}static createEmptyState(){return{collectionScript:(0,q4.toByteString)(""),localIdArray:(0,_re.emptyBigIntArray)()}}static toList(e){return[e.collectionScript,...(0,_re.intArrayToByteString)(e.localIdArray)]}};K3.NftGuardProto=kb;uOe([(0,q4.method)(),AR("design:type",Function),AR("design:paramtypes",[Object]),AR("design:returntype",String)],kb,"stateHash",null)});var TR=$(V3=>{"use strict";B();k();var XE=V3&&V3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},z3=V3&&V3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(V3,"__esModule",{value:!0});V3.CAT721=void 0;var Nu=nn(),YE=Sa(),wre=ei(),aOe=gb(),Ere=_a(),cOe=Tb(),fOe=j4(),lOe=Nl(),k7=class extends Nu.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,u,o,a){(0,Nu.assert)(this.checkSig(YE.SigHashUtils.checkSHPreimage(u),YE.SigHashUtils.Gx),"preimage check error"),YE.SigHashUtils.checkPrevoutsCtx(o,u.hashPrevouts,u.inputIndex),YE.SigHashUtils.checkSpentScriptsCtx(a,u.hashSpentScripts),Ere.StateUtils.verifyPreStateHash(n,cOe.CAT721Proto.stateHash(r),s.preTx.outputScriptList[wre.STATE_OUTPUT_INDEX],o.outputIndexVal);let l=a[Number(o.inputIndexVal)];lOe.Backtrace.verifyToken(o.spentTxhash,s,this.minterScript,l),this.valitateNftGuard(i,l,r,o.inputIndexVal,o.prevouts,a),e.isUserSpend?((0,Nu.assert)((0,Nu.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,Nu.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,Nu.assert)(r.ownerAddr==(0,Nu.hash160)(a[Number(e.contractInputIndex)]))}valitateNftGuard(e,r,n,i,s,u){let o=fOe.NftGuardProto.stateHash(e.guardState);(0,Nu.assert)(Ere.StateUtils.getStateScript(o,1n)==e.tx.outputScriptList[wre.STATE_OUTPUT_INDEX]),(0,Nu.assert)(e.guardState.collectionScript==r),(0,Nu.assert)(n.localId>=0n),(0,Nu.assert)(e.guardState.localIdArray[Number(i)]==n.localId);let a=aOe.TxProof.getTxIdFromPreimg3(e.tx);return(0,Nu.assert)(s[Number(e.inputIndexVal)]==a+e.outputIndex),(0,Nu.assert)(u[Number(e.inputIndexVal)]==this.guardScript),!0}};V3.CAT721=k7;XE([(0,Nu.prop)(),z3("design:type",String)],k7.prototype,"minterScript",void 0);XE([(0,Nu.prop)(),z3("design:type",String)],k7.prototype,"guardScript",void 0);XE([(0,Nu.method)(),z3("design:type",Function),z3("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),z3("design:returntype",void 0)],k7.prototype,"unlock",null);XE([(0,Nu.method)(),z3("design:type",Function),z3("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),z3("design:returntype",Boolean)],k7.prototype,"valitateNftGuard",null)});var IR=$(G3=>{"use strict";B();k();var dOe=G3&&G3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},xR=G3&&G3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(G3,"__esModule",{value:!0});G3.NftTransferGuard=void 0;var ys=nn(),ZE=Sa(),C7=ei(),hOe=j4(),pOe=_a(),JE=class extends ys.SmartContract{transfer(e,r,n,i,s,u,o,a,l,f,c){(0,ys.assert)(this.checkSig(ZE.SigHashUtils.checkSHPreimage(l),ZE.SigHashUtils.Gx),"preimage check error"),ZE.SigHashUtils.checkPrevoutsCtx(f,l.hashPrevouts,l.inputIndex),ZE.SigHashUtils.checkSpentScriptsCtx(c,l.hashSpentScripts),pOe.StateUtils.verifyGuardStateHash(a,f.spentTxhash,hOe.NftGuardProto.stateHash(o));let h=(0,ys.fill)(-1n,C7.MAX_TOKEN_OUTPUT),d=0n;for(let S=0;S<C7.MAX_INPUT;S++)c[S]==o.collectionScript&&(h[Number(d)]=o.localIdArray[S],d+=1n);let p=(0,ys.toByteString)(""),m=(0,ys.toByteString)(""),w=0n,x=C7.TxUtil.buildOutput(o.collectionScript,u);for(let S=0;S<C7.MAX_STATE;S++){let F=r[S];if(i[S]){let N=h[Number(w)];m=m+x;let H=(0,ys.hash160)((0,ys.hash160)(F+(0,ys.int2ByteString)(N)));(0,ys.assert)((0,ys.hash160)(e[S])==H),(0,ys.assert)(N>=0n),(0,ys.assert)(n[S]==N),p+=H,w+=1n}else(0,ys.assert)(F!=o.collectionScript),p+=(0,ys.hash160)(e[S]),(0,ys.len)(F)>0&&(m+=C7.TxUtil.buildOutput(F,s[S]))}(0,ys.assert)(d==w);let _=C7.TxUtil.buildOpReturnRoot(C7.TxUtil.getStateScript((0,ys.hash160)(p))),y=(0,ys.sha256)(_+m);(0,ys.assert)(y==l.hashOutputs,"hashOutputs mismatch")}};G3.NftTransferGuard=JE;dOe([(0,ys.method)(),xR("design:type",Function),xR("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),xR("design:returntype",void 0)],JE.prototype,"transfer",null)});var BR=$(W3=>{"use strict";B();k();var bOe=W3&&W3.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},PR=W3&&W3.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(W3,"__esModule",{value:!0});W3.NftBurnGuard=void 0;var Ef=nn(),OR=Sa(),QE=ei(),gOe=j4(),mOe=_a(),eA=class extends Ef.SmartContract{burn(e,r,n,i,s,u,o){(0,Ef.assert)(this.checkSig(OR.SigHashUtils.checkSHPreimage(u),OR.SigHashUtils.Gx),"preimage check error"),OR.SigHashUtils.checkPrevoutsCtx(o,u.hashPrevouts,u.inputIndex),mOe.StateUtils.verifyGuardStateHash(s,o.spentTxhash,gOe.NftGuardProto.stateHash(i));let a=(0,Ef.toByteString)(""),l=(0,Ef.toByteString)("");for(let h=0;h<QE.MAX_STATE;h++){let d=r[h];(0,Ef.assert)(d!=i.collectionScript),a+=(0,Ef.hash160)(e[h]),(0,Ef.len)(d)>0&&(l+=QE.TxUtil.buildOutput(d,n[h]))}let f=QE.TxUtil.buildOpReturnRoot(QE.TxUtil.getStateScript((0,Ef.hash160)(a))),c=(0,Ef.sha256)(f+l);(0,Ef.assert)(c==u.hashOutputs,"hashOutputs mismatch")}};W3.NftBurnGuard=eA;bOe([(0,Ef.method)(),PR("design:type",Function),PR("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),PR("design:returntype",void 0)],eA.prototype,"burn",null)});var Are=$((l5t,yOe)=>{yOe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftClosedMinter",md5:"fc2429e864deaa9b44d1e6f24282334f",structs:[{name:"NftClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"quotaMaxLocalId",type:"int"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790164790164790164796f757e787ea9777777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000160798b760163799f63547901667978827d770122a1696e7e53797e777777537a757b7b53790164790164790164798b6f757e787ea9777777a97e547a7572537a537975788b7b757c680169790162799d5379016b79016b7978827701149d6e7ea97777a97e547a7572537a53797501637901657978827d770122a1696e7e53797e77777752798b537a757b7b5279755479537901727901727901727901727901727956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775f795f7976607987646e78827d770122a1696e7e53797e77777767006877777856797e53797e787ea876012a79885b79016d79016d797ea988016a79016c79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var Tre=$((d5t,vOe)=>{vOe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftParallelClosedMinter",md5:"12afc68fd84cddd24bc866da2955fb57",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"NftParallelClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"NftParallelClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftParallelClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftParallelClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790163790163796e7ea97777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75013f79013f797e7654798763015c79015c79015c79015c79015c7955517600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955527600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955537600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955547600a26976559f69948c766b796c756b6d6d756c008868000000016179016279938b0162790163799352937858799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657953796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b527975687658799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657952796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b52797568016a790164799d5479016c79016c7978827701149d6e7ea97777a97e557a75547a547a547a547a54797501647901667978827d770122a1696e7e53797e77777753798b547a7572537a5379755579547901737901737901737901737901737956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79885d79016e79016e797ea988016b79016d79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var xre=$((h5t,SOe)=>{SOe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftOpenMinter",md5:"86fe8c275b45c796bb9500b815d48820",structs:[{name:"NftOpenMinterState",params:[{name:"nftScript",type:"bytes"},{name:"merkleRoot",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"NftMerkleLeaf",params:[{name:"commitScript",type:"bytes"},{name:"localId",type:"int"},{name:"isMined",type:"bool"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftOpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"NftOpenMinterMerkleTree",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"neighbor",type:"bytes[15]"},{name:"neighborType",type:"bool[15]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftOpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../nftOpenMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031000000000000<genesisOutpoint><maxCount><premine><premineAddr>5379587a75577a577a577a577a577a577a577a5279577a75567a567a567a567a567a567a78567a757171557a76557a75547a547a547a547a6d6d0127790127790127790127790127790127790127790127790127790127790127790127790127790127790112795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011479787ea85279017f9f695279009c6301006752796878557952797e8801177955797e54798b7e6b6d6d6d6d6d6d6d6d6c775779ad011979011979011979011979011979011979011979011979011979011979012f79012a795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5f795f795f795f795f795f790129795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015c79015c79015c79015c79015c79015c790165790165790165796f757e787ea9777777014d79014d79014d79014d79014d79014d7956007600a26976569f69948c766b796c756b6d6d6d6c011a795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011379009d5f0114797600a26976569f6994766b796c755f766b796c7877016079006f76635167010068707e787e6b6d6d6c5479016479516f76635167010068707e787e6b6d6d6c5479a978a9028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028800790120790120790111766b796c7563780121766b796c757ea97b757c760121766b796c757ea977670120766b796c7552797ea97b757c0120766b796c75787ea9776801118c766b796c75637801218c766b796c757ea97b757c7601218c766b796c757ea9776701208c766b796c7552797ea97b757c01208c766b796c75787ea9776801115294766b796c75637801215294766b796c757ea97b757c7601215294766b796c757ea9776701205294766b796c7552797ea97b757c01205294766b796c75787ea9776801115394766b796c75637801215394766b796c757ea97b757c7601215394766b796c757ea9776701205394766b796c7552797ea97b757c01205394766b796c75787ea9776801115494766b796c75637801215494766b796c757ea97b757c7601215494766b796c757ea9776701205494766b796c7552797ea97b757c01205494766b796c75787ea9776801115594766b796c75637801215594766b796c757ea97b757c7601215594766b796c757ea9776701205594766b796c7552797ea97b757c01205594766b796c75787ea9776801115694766b796c75637801215694766b796c757ea97b757c7601215694766b796c757ea9776701205694766b796c7552797ea97b757c01205694766b796c75787ea9776801115794766b796c75637801215794766b796c757ea97b757c7601215794766b796c757ea9776701205794766b796c7552797ea97b757c01205794766b796c75787ea9776801115894766b796c75637801215894766b796c757ea97b757c7601215894766b796c757ea9776701205894766b796c7552797ea97b757c01205894766b796c75787ea9776801115994766b796c75637801215994766b796c757ea97b757c7601215994766b796c757ea9776701205994766b796c7552797ea97b757c01205994766b796c75787ea9776801115a94766b796c75637801215a94766b796c757ea97b757c7601215a94766b796c757ea9776701205a94766b796c7552797ea97b757c01205a94766b796c75787ea9776801115b94766b796c75637801215b94766b796c757ea97b757c7601215b94766b796c757ea9776701205b94766b796c7552797ea97b757c01205b94766b796c75787ea9776801115c94766b796c75637801215c94766b796c757ea97b757c7601215c94766b796c757ea9776701205c94766b796c7552797ea97b757c01205c94766b796c75787ea9776801115d94766b796c75637801215d94766b796c757ea97b757c7601215d94766b796c757ea9776701205d94766b796c7552797ea97b757c01205d94766b796c75787ea97768785379886b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c011c79016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279013e79013b790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75000051016b798b760112799e6353795f7901727978827d770122a1696e7e53797e7777777e547a7572537a5379755279016f79567953796f757e787ea9777777a97e537a757b7b527975788b7b757c6802920079016d799d5279029400790294007978827701149d6e7ea97777a97e537a757b7b527975016e7901707978827d770122a1696e7e53797e777777029300790112799f630174790174797ea901117988017279017479ad6870029b0079029b0079029b0079029b0079029b007956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c77011a79011a7976011b7987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876013579876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Ire=$((p5t,_Oe)=>{_Oe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT721",md5:"0176b77f091a0f5bb4ef9f4ee455302f",structs:[{name:"NftUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"NftGuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"NftGuardConstState"}],genericTypes:[]},{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"nftUnlockArgs",type:"NftUnlockArgs"},{name:"preState",type:"CAT721State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"NftGuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat721.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c88011779011179885e7900a269011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var Pre=$((b5t,wOe)=>{wOe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftTransferGuard",md5:"477458c3bb4a3b586664dddf525e5060",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"localIdList",type:"int[5]"},{name:"nftOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftTransferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d4f766e76005e766b796c7877013b79876301397901397901397901397901397901397955766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755d766b796c7877013b79876301397901397901397901397901397901397954766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755c766b796c7877013b79876301397901397901397901397901397901397953766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755b766b796c7877013b79876301397901397901397901397901397901397952766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755a766b796c7877013b79876301397901397901397901397901397901397951766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c687559766b796c7877013b79876301397901397901397901397901397901397900766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c6875000000013c79013e7978827d770122a1696e7e53797e7777770152766b796c750149766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a766b796c75a978887800a2690150766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f7987916954790159766b796c75a97e557a75547a547a547a547a54797877827700a0635379780146766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501528c766b796c7501498c766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a8c766b796c75a978887800a26901508c766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901598c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801468c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525294766b796c7501495294766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5294766b796c75a978887800a26901505294766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525394766b796c7501495394766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5394766b796c75a978887800a26901505394766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525494766b796c7501495494766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5494766b796c75a978887800a26901505494766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012779876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var Ore=$((g5t,EOe)=>{EOe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftBurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftBurnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Bre=$((m5t,AOe)=>{AOe.exports={name:"bitcore-lib-inquisition",version:"10.3.0",description:"A pure and powerful JavaScript Bitcoin library.",author:"BitPay <dev@bitpay.com>",main:"index.js",scripts:{test:"gulp test","test:ci":"npm run test",coverage:"gulp coverage",build:"gulp",pub:"npm run build && npm publish"},keywords:["bitcoin","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],repository:{type:"git",url:"https://github.com/bitpay/bitcore/tree/master/packages/bitcore-lib"},browser:{request:"browser-request"},dependencies:{bech32:"=2.0.0","bn.js":"=4.11.8",bs58:"^4.0.1","buffer-compare":"=1.1.1",elliptic:"^6.5.3",inherits:"=2.0.1",lodash:"^4.17.20"},devDependencies:{"bitcore-build":"^10.0.21",brfs:"^2.0.1",chai:"^4.2.0",gulp:"^4.0.0",sinon:"^7.1.1"},license:"MIT",gitHead:"012cc0216a9bc6b195035855bd17149bad41acd1"}});var X3=$((y5t,Cre)=>{"use strict";B();k();var $l=ou(),TOe=ti(),xOe=u$().ec,Y3=new xOe("secp256k1"),IOe=Y3.curve.point.bind(Y3.curve),kre=Y3.curve.pointFromX.bind(Y3.curve),cu=function(e,r,n){try{var i=IOe(e,r,n)}catch{throw new Error("Invalid Point")}return i.validate(),i};cu.prototype=Object.getPrototypeOf(Y3.curve.point());cu.fromX=function(e,r){try{var n=kre(r,e)}catch{throw new Error("Invalid X")}return n.validate(),n};cu.getG=function(){return Y3.curve.g};cu.getN=function(){return new $l(Y3.curve.n.toArray())};cu.getP=function(){return Y3.curve.p.clone()};cu.prototype._getX=cu.prototype.getX;cu.prototype.getX=function(){return new $l(this._getX().toArray())};cu.prototype._getY=cu.prototype.getY;cu.prototype.getY=function(){return new $l(this._getY().toArray())};cu.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var e;try{e=kre(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(e.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(cu.getN()).isInfinity())throw new Error("Point times N must be infinity");return this};cu.pointToCompressed=function(e){var r=e.getX().toBuffer({size:32}),n=e.getY().toBuffer({size:32}),i,s=n[n.length-1]%2;return s?i=I.Buffer.from([3]):i=I.Buffer.from([2]),TOe.concat([i,r])};cu.prototype.liftX=function(){let t=cu.getP(),e=new $l(0),r=new $l(1),n=new $l(2),i=new $l(3),s=new $l(4),u=new $l(7),o=$l.red("k256"),a=this.x.pow(i).add(u).mod(t),l=a.toRed(o).redPow(t.add(r).div(s)).mod(t);if(!a.eq(l.pow(n).mod(t)))throw new Error("liftX failed");let f=this.x.red?this.x.fromRed():this.x,c=l.mod(n).eq(e)?l.fromRed():t.sub(l);return new cu(f,c,!0)};Cre.exports=cu});var ho=$((_5t,Rre)=>{"use strict";B();k();var sh=ou(),POe=Mr(),lo=qr(),Fre=ti(),OOe=Yi(),dr=function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(e instanceof sh)this.set({r:e,s:r,isSchnorr:n});else if(e){var i=e;this.set(i)}};dr.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=typeof t.i>"u"?this.i:t.i,this.compressed=typeof t.compressed>"u"?this.compressed:t.compressed,this.isSchnorr=typeof t.isSchnorr>"u"?this.isSchnorr:t.isSchnorr,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this};dr.fromCompact=function(t){lo.checkArgument(Fre.isBuffer(t),"Argument is expected to be a Buffer");var e=new dr,r=!0,n=t.slice(0,1)[0]-27-4;n<0&&(r=!1,n=n+4);var i=t.slice(1,33),s=t.slice(33,65);return lo.checkArgument(n===0||n===1||n===2||n===3,new Error("i must be 0, 1, 2, or 3")),lo.checkArgument(i.length===32,new Error("r must be 32 bytes")),lo.checkArgument(s.length===32,new Error("s must be 32 bytes")),e.compressed=r,e.i=n,e.r=sh.fromBuffer(i),e.s=sh.fromBuffer(s),e};dr.fromDER=dr.fromBuffer=function(t,e){var r=new dr;if((t.length===64||t.length===65)&&t[0]!=48)return dr.fromSchnorr(t);lo.checkArgument(!(t.length===64&&t[0]===48),new Error("64 DER (ecdsa) signatures not allowed"));var n=dr.parseDER(t,e);return r.r=n.r,r.s=n.s,r};dr.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new dr.fromDER(r,!1);return n.nhashtype=e,n};dr.fromString=function(t){var e=I.Buffer.from(t,"hex");return dr.fromDER(e)};dr.parseDER=function(t,e){lo.checkArgument(Fre.isBuffer(t),new Error("DER formatted signature should be a buffer")),POe.isUndefined(e)&&(e=!0);var r=t[0];lo.checkArgument(r===48,new Error("Header byte should be 0x30"));var n=t[1],i=t.slice(2).length;lo.checkArgument(!e||n===i,new Error("Length byte should length of what follows")),n=n<i?n:i;var s=t[2+0];lo.checkArgument(s===2,new Error("Integer byte for r should be 0x02"));var u=t[2+1],o=t.slice(2+2,2+2+u),a=sh.fromBuffer(o),l=t[2+1+1]===0;lo.checkArgument(u===o.length,new Error("Length of r incorrect"));var f=t[2+2+u+0];lo.checkArgument(f===2,new Error("Integer byte for s should be 0x02"));var c=t[2+2+u+1],h=t.slice(2+2+u+2,2+2+u+2+c),d=sh.fromBuffer(h),p=t[2+2+u+2+2]===0;lo.checkArgument(c===h.length,new Error("Length of s incorrect"));var m=2+2+u+2+c;lo.checkArgument(n===m-2,new Error("Length of signature incorrect"));var w={header:r,length:n,rheader:s,rlength:u,rneg:l,rbuf:o,r:a,sheader:f,slength:c,sneg:p,sbuf:h,s:d};return w};dr.prototype.toCompact=function(t,e){if(t=typeof t=="number"?t:this.i,e=typeof e=="boolean"?e:this.compressed,!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");var r=t+27+4;e===!1&&(r=r-4);var n=I.Buffer.from([r]),i=this.r.toBuffer({size:32}),s=this.s.toBuffer({size:32});return I.Buffer.concat([n,i,s])};dr.prototype.toBuffer=dr.prototype.toDER=function(){if(this.isSchnorr){let d=!this.nhashtype||this.nhashtype===dr.SIGHASH_DEFAULT?I.Buffer.alloc(0):I.Buffer.from([this.nhashtype]);return I.Buffer.concat([this.r.toBuffer({size:32}),this.s.toBuffer({size:32}),d])}var t=this.r.toBuffer(),e=this.s.toBuffer(),r=!!(t[0]&128),n=!!(e[0]&128),i=r?I.Buffer.concat([I.Buffer.from([0]),t]):t,s=n?I.Buffer.concat([I.Buffer.from([0]),e]):e,u=i.length,o=s.length,a=2+u+2+o,l=2,f=2,c=48,h=I.Buffer.concat([I.Buffer.from([c,a,l,u]),i,I.Buffer.from([f,o]),s]);return h};dr.prototype.toString=function(){var t=this.toDER();return t.toString("hex")};dr.isTxDER=function(t){if(t.length<9||t.length>73||t[0]!==48||t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(t[4-2]!==2||e===0||n[0]&128||e>1&&n[0]===0&&!(n[1]&128))return!1;var i=t.slice(6+e);return!(t[6+e-2]!==2||r===0||i[0]&128||r>1&&i[0]===0&&!(i[1]&128))};dr.prototype.hasLowS=function(){return!(this.s.lt(new sh(1))||this.s.gt(new sh("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))};dr.prototype.hasDefinedHashtype=function(){if(!OOe.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~dr.SIGHASH_ANYONECANPAY;return!(t<dr.SIGHASH_ALL||t>dr.SIGHASH_SINGLE)};dr.prototype.toTxFormat=function(){var t=this.toDER(),e=I.Buffer.alloc(1);return e.writeUInt8(this.nhashtype,0),I.Buffer.concat([t,e])};dr.fromSchnorr=function(t){lo.checkArgument(I.Buffer.isBuffer(t),"Schnorr signature argument must be a buffer"),lo.checkArgument(t.length===64||t.length===65,"Schnorr signatures must be 64 or 65 bytes");let e=new dr,r=t.slice(0,32),n=t.slice(32,64);return t.length===65?(e.nhashtype=t[t.length-1],lo.checkState(e.nhashtype!==dr.SIGHASH_DEFAULT,new Error("invalid hashtype"))):e.nhashtype=dr.SIGHASH_DEFAULT,e.r=sh.fromBuffer(r),e.s=sh.fromBuffer(n),e.isSchnorr=!0,e};dr.SIGHASH_DEFAULT=0;dr.SIGHASH_ALL=1;dr.SIGHASH_NONE=2;dr.SIGHASH_SINGLE=3;dr.SIGHASH_ANYONECANPAY=128;dr.SIGHASH_OUTPUT_MASK=3;dr.SIGHASH_INPUT_MASK=128;dr.Version={};dr.Version.BASE=0;dr.Version.WITNESS_V0=1;dr.Version.TAPROOT=2;dr.Version.TAPSCRIPT=3;Rre.exports=dr});var Ss=$((A5t,Mre)=>{"use strict";B();k();var tA=Ua(),Z3=ti(),uh=qr(),vs=Mre.exports;vs.sha1=function(t){return uh.checkArgument(Z3.isBuffer(t)),tA.createHash("sha1").update(t).digest()};vs.sha1.blocksize=512;vs.sha256=function(t){return uh.checkArgument(Z3.isBuffer(t)),tA.createHash("sha256").update(t).digest()};vs.sha256.blocksize=512;vs.sha256sha256=function(t){return uh.checkArgument(Z3.isBuffer(t)),vs.sha256(vs.sha256(t))};vs.ripemd160=function(t){return uh.checkArgument(Z3.isBuffer(t)),tA.createHash("ripemd160").update(t).digest()};vs.sha256ripemd160=function(t){return uh.checkArgument(Z3.isBuffer(t)),vs.ripemd160(vs.sha256(t))};vs.sha512=function(t){return uh.checkArgument(Z3.isBuffer(t)),tA.createHash("sha512").update(t).digest()};vs.sha512.blocksize=1024;vs.hmac=function(t,e,r){uh.checkArgument(Z3.isBuffer(e)),uh.checkArgument(Z3.isBuffer(r)),uh.checkArgument(t.blocksize);var n=t.blocksize/8;if(r.length>n)r=t(r);else if(r<n){var i=I.Buffer.alloc(n);i.fill(0),r.copy(i),r=i}var s=I.Buffer.alloc(n);s.fill(92);var u=I.Buffer.alloc(n);u.fill(54);for(var o=I.Buffer.alloc(n),a=I.Buffer.alloc(n),l=0;l<n;l++)o[l]=s[l]^r[l],a[l]=u[l]^r[l];return t(I.Buffer.concat([o,t(I.Buffer.concat([a,e]))]))};vs.sha256hmac=function(t,e){return vs.hmac(vs.sha256,t,e)};vs.sha512hmac=function(t,e){return vs.hmac(vs.sha512,t,e)}});var Q3=$((I5t,Dre)=>{"use strict";B();k();var BOe=ti(),rA=Yi(),J3=[],Ho={};function Nre(){}Nre.prototype.toString=function(){return this.name};function F7(t,e){if(~J3.indexOf(t))return t;if(e){Array.isArray(e)||(e=[e]);for(let r in J3)if(e.some(n=>J3[r][n]===t))return J3[r];return}return Ho[t]&&Ho[t].length>=1?Ho[t][0]:Ho[t]}function CR(t){return this.name==t||this.alias==t}function K4(t){var e=new Nre;rA.defineImmutable(e,{name:t.name,alias:t.alias,is:t.is,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,bech32prefix:t.bech32prefix,xpubkey:t.xpubkey,xprivkey:t.xprivkey}),t.networkMagic&&rA.defineImmutable(e,{networkMagic:BOe.integerAsBuffer(t.networkMagic)}),t.port&&rA.defineImmutable(e,{port:t.port}),t.dnsSeeds&&rA.defineImmutable(e,{dnsSeeds:t.dnsSeeds});for(let r of Object.values(e))r!=null&&typeof r!="object"&&(Ho[r]||(Ho[r]=[]),Ho[r].push(e));J3.push(e);for(let r of t.variants||[])K4({...t,variants:void 0,...r});return e}function kOe(t){typeof t!="object"&&(t=F7(t));for(var e=0;e<J3.length;e++)J3[e]===t&&J3.splice(e,1);for(var r in Ho)if(Ho[r].length){let n=Ho[r].indexOf(t);n>=0&&Ho[r].splice(n,1),Ho[r].length===0&&delete Ho[r]}else Ho[r]===t&&delete Ho[r]}K4({name:"livenet",alias:"mainnet",is:CR,pubkeyhash:0,privatekey:128,scripthash:5,bech32prefix:"bc",xpubkey:76067358,xprivkey:76066276,networkMagic:4190024921,port:8333,dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"]});var kR=F7("livenet");K4({name:"testnet",alias:"testnet",is:CR,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"tb",xpubkey:70617039,xprivkey:70615956,variants:[{name:"testnet3",networkMagic:185665799,port:18333,dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me","testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de"]},{name:"signet",networkMagic:168021824,port:38332,dnsSeeds:["178.128.221.177","103.16.128.63","153.126.143.201","192.241.163.142"]}]});var FR=F7("testnet"),COe=F7("testnet3"),FOe=F7("signet");K4({name:"regtest",alias:"dev",is:CR,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"bcrt",xpubkey:70617039,xprivkey:70615956,networkMagic:4206867930,port:18444,dnsSeeds:[]});var ROe=F7("regtest");function MOe(){FR.regtestEnabled=!0}function NOe(){FR.regtestEnabled=!1}Dre.exports={add:K4,remove:kOe,defaultNetwork:kR,livenet:kR,mainnet:kR,testnet:FR,testnet3:COe,signet:FOe,regtest:ROe,get:F7,enableRegtest:MOe,disableRegtest:NOe}});var fu=$((B5t,Lre)=>{"use strict";B();k();var RR=ti(),Hre=wc(),Ji=function t(e){if(!(this instanceof t))return new t(e);this.bufLen=0,e?this.set(e):this.bufs=[]};Ji.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this.bufLen=this.bufs.reduce(function(e,r){return e+r.length},0),this};Ji.prototype.toBuffer=function(){return this.concat()};Ji.prototype.concat=function(){return I.Buffer.concat(this.bufs,this.bufLen)};Ji.prototype.write=function(t){return Hre(RR.isBuffer(t)),this.bufs.push(t),this.bufLen+=t.length,this};Ji.prototype.writeReverse=function(t){return Hre(RR.isBuffer(t)),this.bufs.push(RR.reverse(t)),this.bufLen+=t.length,this};Ji.prototype.writeUInt8=function(t){t<0&&(t=t>>>0);var e=I.Buffer.alloc(1);return e.writeUInt8(t,0),this.write(e),this};Ji.prototype.writeUInt16BE=function(t){t<0&&(t=t>>>0);var e=I.Buffer.alloc(2);return e.writeUInt16BE(t,0),this.write(e),this};Ji.prototype.writeUInt16LE=function(t){t<0&&(t=t>>>0);var e=I.Buffer.alloc(2);return e.writeUInt16LE(t,0),this.write(e),this};Ji.prototype.writeUInt32BE=function(t){t<0&&(t=t>>>0);var e=I.Buffer.alloc(4);return e.writeUInt32BE(t,0),this.write(e),this};Ji.prototype.writeInt32LE=function(t){var e=I.Buffer.alloc(4);return e.writeInt32LE(t,0),this.write(e),this};Ji.prototype.writeUInt32LE=function(t){t<0&&(t=t>>>0);var e=I.Buffer.alloc(4);return e.writeUInt32LE(t,0),this.write(e),this};Ji.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this};Ji.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this};Ji.prototype.writeVarintNum=function(t){var e=Ji.varintBufNum(t);return this.write(e),this};Ji.prototype.writeVarintBN=function(t){var e=Ji.varintBufBN(t);return this.write(e),this};Ji.varintBufNum=function(t){var e=void 0;return t<253?(e=I.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=I.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=I.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=I.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e};Ji.varintBufBN=function(t){var e=void 0,r=t.toNumber();if(r<253)e=I.Buffer.alloc(1),e.writeUInt8(r,0);else if(r<65536)e=I.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(r,1);else if(r<4294967296)e=I.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(r,1);else{var n=new Ji;n.writeUInt8(255),n.writeUInt64LEBN(t);var e=n.concat()}return e};Lre.exports=Ji});var e1=$((F5t,MR)=>{B();k();typeof Object.create=="function"?MR.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:MR.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var ah=$((N5t,qre)=>{B();k();var Ure=Ss(),$re=fu(),DOe=e1();function oh(t,e,r="hex"){if(!(this instanceof oh))return new oh(t,e,r);$re.apply(this),t=I.Buffer.from(t);let n=Ure.sha256(t);return this.write(n),this.write(n),e&&(e=I.Buffer.isBuffer(e)?e:I.Buffer.from(e,r),this.write(e)),this}DOe(oh,$re);oh.prototype.finalize=function(){return I.Buffer.from(Ure.sha256(this.toBuffer()))};Object.defineProperties(oh,{TAPSIGHASH:{get:()=>new oh("TapSighash")},TAPLEAF:{get:()=>new oh("TapLeaf")},TAPBRANCH:{get:()=>new oh("TapBranch")}});qre.exports=oh});var Kre=$((L5t,jre)=>{"use strict";B();k();var nA=$m().Buffer;function HOe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var u=t.length,o=t.charAt(0),a=Math.log(u)/Math.log(256),l=Math.log(256)/Math.log(u);function f(d){if((Array.isArray(d)||d instanceof Uint8Array)&&(d=nA.from(d)),!nA.isBuffer(d))throw new TypeError("Expected Buffer");if(d.length===0)return"";for(var p=0,m=0,w=0,x=d.length;w!==x&&d[w]===0;)w++,p++;for(var _=(x-w)*l+1>>>0,y=new Uint8Array(_);w!==x;){for(var S=d[w],F=0,N=_-1;(S!==0||F<m)&&N!==-1;N--,F++)S+=256*y[N]>>>0,y[N]=S%u>>>0,S=S/u>>>0;if(S!==0)throw new Error("Non-zero carry");m=F,w++}for(var H=_-m;H!==_&&y[H]===0;)H++;for(var D=o.repeat(p);H<_;++H)D+=t.charAt(y[H]);return D}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return nA.alloc(0);var p=0;if(d[p]!==" "){for(var m=0,w=0;d[p]===o;)m++,p++;for(var x=(d.length-p)*a+1>>>0,_=new Uint8Array(x);d[p];){var y=e[d.charCodeAt(p)];if(y===255)return;for(var S=0,F=x-1;(y!==0||S<w)&&F!==-1;F--,S++)y+=u*_[F]>>>0,_[F]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");w=S,p++}if(d[p]!==" "){for(var N=x-w;N!==x&&_[N]===0;)N++;var H=nA.allocUnsafe(m+(x-N));H.fill(0,0,m);for(var D=m;N!==x;)H[D++]=_[N++];return H}}}function h(d){var p=c(d);if(p)return p;throw new Error("Non-base"+u+" character")}return{encode:f,decodeUnsafe:c,decode:h}}jre.exports=HOe});var NR=$((q5t,zre)=>{B();k();var LOe=Kre(),UOe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";zre.exports=LOe(UOe)});var z4=$((z5t,Wre)=>{"use strict";B();k();var DR=Mr(),Vre=NR(),Gre=us(),$Oe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),Af=function t(e){if(!(this instanceof t))return new t(e);if(I.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};Af.validCharacters=function(e){return Gre.Buffer.isBuffer(e)&&(e=e.toString()),DR.every(DR.map(e,function(r){return DR.includes($Oe,r)}))};Af.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};Af.encode=function(t){if(!Gre.Buffer.isBuffer(t))throw new Error("Input should be a buffer");return Vre.encode(t)};Af.decode=function(t){if(typeof t!="string")throw new Error("Input should be a string");return I.Buffer.from(Vre.decode(t))};Af.prototype.fromBuffer=function(t){return this.buf=t,this};Af.prototype.fromString=function(t){var e=Af.decode(t);return this.buf=e,this};Af.prototype.toBuffer=function(){return this.buf};Af.prototype.toString=function(){return Af.encode(this.buf)};Wre.exports=Af});var Cb=$((Y5t,Zre)=>{"use strict";B();k();var Yre=Mr(),iA=z4(),W5t=us(),Xre=Ss().sha256sha256,Ea=function t(e){if(!(this instanceof t))return new t(e);if(I.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};Ea.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};Ea.validChecksum=function(e,r){return Yre.isString(e)&&(e=I.Buffer.from(iA.decode(e))),Yre.isString(r)&&(r=I.Buffer.from(iA.decode(r))),r||(r=e.slice(-4),e=e.slice(0,-4)),Ea.checksum(e).toString("hex")===r.toString("hex")};Ea.decode=function(t){if(typeof t!="string")throw new Error("Input must be a string");var e=I.Buffer.from(iA.decode(t));if(e.length<4)throw new Error("Input string too short");var r=e.slice(0,-4),n=e.slice(-4),i=Xre(r),s=i.slice(0,4);if(n.toString("hex")!==s.toString("hex"))throw new Error("Checksum mismatch");return r};Ea.checksum=function(t){return Xre(t).slice(0,4)};Ea.encode=function(t){if(!I.Buffer.isBuffer(t))throw new Error("Input must be a buffer");var e=I.Buffer.alloc(t.length+4),r=Ea.checksum(t);return t.copy(e),r.copy(e,t.length),iA.encode(e)};Ea.prototype.fromBuffer=function(t){return this.buf=t,this};Ea.prototype.fromString=function(t){var e=Ea.decode(t);return this.buf=e,this};Ea.prototype.toBuffer=function(){return this.buf};Ea.prototype.toString=function(){return Ea.encode(this.buf)};Zre.exports=Ea});var tne=$(Rb=>{"use strict";B();k();Object.defineProperty(Rb,"__esModule",{value:!0});Rb.bech32m=Rb.bech32=void 0;var sA="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Qre={};for(let t=0;t<sA.length;t++){let e=sA.charAt(t);Qre[e]=t}function Fb(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Jre(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Fb(e)^n>>5}e=Fb(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=Fb(e)^n&31}return e}function HR(t,e,r,n){let i=0,s=0,u=(1<<r)-1,o=[];for(let a=0;a<t.length;++a)for(i=i<<e|t[a],s+=e;s>=r;)s-=r,o.push(i>>s&u);if(n)s>0&&o.push(i<<r-s&u);else{if(s>=e)return"Excess padding";if(i<<r-s&u)return"Non-zero padding"}return o}function qOe(t){return HR(t,8,5,!0)}function jOe(t){let e=HR(t,5,8,!1);if(Array.isArray(e))return e}function KOe(t){let e=HR(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function ene(t){let e;t==="bech32"?e=1:e=734539939;function r(u,o,a){if(a=a||90,u.length+7+o.length>a)throw new TypeError("Exceeds length limit");u=u.toLowerCase();let l=Jre(u);if(typeof l=="string")throw new Error(l);let f=u+"1";for(let c=0;c<o.length;++c){let h=o[c];if(h>>5!==0)throw new Error("Non 5-bit word");l=Fb(l)^h,f+=sA.charAt(h)}for(let c=0;c<6;++c)l=Fb(l);l^=e;for(let c=0;c<6;++c){let h=l>>(5-c)*5&31;f+=sA.charAt(h)}return f}function n(u,o){if(o=o||90,u.length<8)return u+" too short";if(u.length>o)return"Exceeds length limit";let a=u.toLowerCase(),l=u.toUpperCase();if(u!==a&&u!==l)return"Mixed-case string "+u;u=a;let f=u.lastIndexOf("1");if(f===-1)return"No separator character for "+u;if(f===0)return"Missing prefix for "+u;let c=u.slice(0,f),h=u.slice(f+1);if(h.length<6)return"Data too short";let d=Jre(c);if(typeof d=="string")return d;let p=[];for(let m=0;m<h.length;++m){let w=h.charAt(m),x=Qre[w];if(x===void 0)return"Unknown character "+w;d=Fb(d)^x,!(m+6>=h.length)&&p.push(x)}return d!==e?"Invalid checksum for "+u:{prefix:c,words:p}}function i(u,o){let a=n(u,o);if(typeof a=="object")return a}function s(u,o){let a=n(u,o);if(typeof a=="object")return a;throw new Error(a)}return{decodeUnsafe:i,decode:s,encode:r,toWords:qOe,fromWordsUnsafe:jOe,fromWords:KOe}}Rb.bech32=ene("bech32");Rb.bech32m=ene("bech32m")});var nne=$((t2t,rne)=>{"use strict";B();k();var Mb=tne(),zOe=function(t){if(typeof t!="string")throw new Error("Input should be a string");var e;let r=Mb.bech32.fromWords,n=t1.BECH32;try{e=Mb.bech32.decode(t)}catch(s){if(s.message.indexOf("Invalid checksum")>-1)e=Mb.bech32m.decode(t),n=t1.BECH32M,r=Mb.bech32m.fromWords;else throw s}let i=e.words[0];if(i>=1&&n!==t1.BECH32M)throw new Error("Version 1+ witness address must use Bech32m checksum");return{prefix:e.prefix,data:I.Buffer.from(r(e.words.slice(1))),version:i}},VOe=function(t,e,r,n){if(typeof t!="string")throw new Error("Prefix should be a string");if(typeof e!="number")throw new Error("version should be a number");if(n&&typeof n=="string"&&(n=t1[n.toUpperCase()]||-1),n&&!(n==t1.BECH32||n==t1.BECH32M))throw new Error("Invalid encoding specified");let i=n==t1.BECH32M?Mb.bech32m:Mb.bech32,s=i.toWords(r);return s.unshift(e),i.encode(t,s)},t1={BECH32:1,BECH32M:2};rne.exports={decode:zOe,encode:VOe,encodings:t1}});var uA=$((i2t,ine)=>{"use strict";B();k();var Nb=Mr(),Db=qr(),GOe=ti(),WOe=Yi();function Tr(t){if(!(this instanceof Tr))return new Tr(t);var e;if(Nb.isNumber(t))e=t;else if(Nb.isString(t))e=Tr.map[t];else throw new TypeError('Unrecognized num type: "'+typeof t+'" for Opcode');return WOe.defineImmutable(this,{num:e}),this}Tr.fromBuffer=function(t){return Db.checkArgument(GOe.isBuffer(t)),new Tr(Number("0x"+t.toString("hex")))};Tr.fromNumber=function(t){return Db.checkArgument(Nb.isNumber(t)),new Tr(t)};Tr.fromString=function(t){Db.checkArgument(Nb.isString(t));var e=Tr.map[t];if(typeof e>"u")throw new TypeError("Invalid opcodestr");return new Tr(e)};Tr.prototype.toHex=function(){return this.num.toString(16)};Tr.prototype.toBuffer=function(){return I.Buffer.from(this.toHex(),"hex")};Tr.prototype.toNumber=function(){return this.num};Tr.prototype.toString=function(){var t=Tr.reverseMap[this.num];if(typeof t>"u")throw new Error("Opcode does not have a string representation");return t};Tr.smallInt=function(t){return Db.checkArgument(Nb.isNumber(t),"Invalid Argument: n should be number"),Db.checkArgument(t>=0&&t<=16,"Invalid Argument: n must be between 0 and 16"),t===0?Tr("OP_0"):new Tr(Tr.map.OP_1+t-1)};Tr.decodeOpN=function(t){return t===Tr.OP_0?0:(Db.checkArgument(t>=Tr.OP_1&&t<=Tr.OP_16,new Error("Invalid opcode: "+JSON.stringify(t))),t-(Tr.OP_1-1))};Tr.isOpSuccess=function(t){return typeof t=="string"&&!parseInt(t)&&(t=Tr[t]),t==80||t==98||t>=127&&t<=129||t>=131&&t<=134||t>=137&&t<=138||t>=141&&t<=142||t>=149&&t<=153||t>=187&&t<=254};Tr.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Tr.reverseMap=[];for(LR in Tr.map)Tr.reverseMap[Tr.map[LR]]=LR;var LR;Nb.extend(Tr,Tr.map);Tr.isSmallIntOp=function(t){return t instanceof Tr&&(t=t.toNumber()),t===Tr.map.OP_0||t>=Tr.map.OP_1&&t<=Tr.map.OP_16};Tr.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"};ine.exports=Tr});var qR=$((o2t,one)=>{"use strict";B();k();var Fs=xf(),YOe=yf(),XOe=fu(),oA=Ss(),qe=uA(),Tf=If(),R7=ho(),sne=Q3(),Vn=qr(),UR=Mr(),$R=ec(),Du=ti(),ZOe=Yi(),une=ah(),Se=function t(e){if(!(this instanceof t))return new t(e);if(this.chunks=[],Du.isBuffer(e))return t.fromBuffer(e);if(e instanceof Fs)return t.fromAddress(e);if(e instanceof t)return t.fromBuffer(e.toBuffer());if(typeof e=="string")return t.fromString(e);UR.isObject(e)&&Array.isArray(e.chunks)&&this.set(e)};Se.prototype.set=function(t){return Vn.checkArgument(UR.isObject(t)),Vn.checkArgument(Array.isArray(t.chunks)),this.chunks=t.chunks,this};Se.fromBuffer=function(t){var e=new Se;e.chunks=[];for(var r=new YOe(t);!r.finished();)try{var n=r.readUInt8(),i,s;n>0&&n<qe.OP_PUSHDATA1?(i=n,e.chunks.push({buf:r.read(i),len:i,opcodenum:n})):n===qe.OP_PUSHDATA1?(i=r.readUInt8(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===qe.OP_PUSHDATA2?(i=r.readUInt16LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===qe.OP_PUSHDATA4?(i=r.readUInt32LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):qe.isOpSuccess(n)?(s=r.readAll(),i=s.length,e.chunks.push({buf:s,len:i,opcodenum:n})):e.chunks.push({opcodenum:n})}catch(u){throw u instanceof RangeError?new $R.Script.InvalidBuffer(t.toString("hex")):u}return e};Se.prototype.toBuffer=function(){for(var t=new XOe,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<qe.OP_PUSHDATA1?t.write(r.buf):n===qe.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===qe.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):(n===qe.OP_PUSHDATA4&&t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()};Se.fromASM=function(t){var e=new Se;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=qe(i),u=s.toNumber();if(u==null){var o=I.Buffer.from(r[n],"hex");e.chunks.push({buf:o,len:o.length,opcodenum:o.length}),n=n+1}else u===qe.OP_PUSHDATA1||u===qe.OP_PUSHDATA2||u===qe.OP_PUSHDATA4?(e.chunks.push({buf:I.Buffer.from(r[n+2],"hex"),len:parseInt(r[n+1]),opcodenum:u}),n=n+3):(e.chunks.push({opcodenum:u}),n=n+1)}return e};Se.fromHex=function(t){return new Se(I.Buffer.from(t,"hex"))};Se.fromString=function(t){if(ZOe.isHexa(t)||t.length===0)return new Se(I.Buffer.from(t,"hex"));var e=new Se;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=qe(i),u=s.toNumber();if(u==null)if(u=parseInt(i),u>0&&u<qe.OP_PUSHDATA1)e.chunks.push({buf:I.Buffer.from(r[n+1].slice(2),"hex"),len:u,opcodenum:u}),n=n+2;else throw new Error("Invalid script: "+JSON.stringify(t));else if(u===qe.OP_PUSHDATA1||u===qe.OP_PUSHDATA2||u===qe.OP_PUSHDATA4){if(r[n+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");e.chunks.push({buf:I.Buffer.from(r[n+2].slice(2),"hex"),len:parseInt(r[n+1]),opcodenum:u}),n=n+3}else e.chunks.push({opcodenum:u}),n=n+1}return e};Se.prototype._chunkToString=function(t,e){var r=t.opcodenum,n=e==="asm",i="";if(t.buf)(!n&&r===qe.OP_PUSHDATA1||r===qe.OP_PUSHDATA2||r===qe.OP_PUSHDATA4)&&(i=i+" "+qe(r).toString()),t.len>0&&(n?i=i+" "+t.buf.toString("hex"):i=i+" "+t.len+" 0x"+t.buf.toString("hex"));else if(typeof qe.reverseMap[r]<"u")n?r===0?i=i+" 0":r===79?i=i+" -1":i=i+" "+qe(r).toString():i=i+" "+qe(r).toString();else{var s=r.toString(16);s.length%2!==0&&(s="0"+s),n?i=i+" "+s:i=i+" 0x"+s}return i};Se.prototype.toASM=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,"asm")}return t.substr(1)};Se.prototype.toString=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)};Se.prototype.toHex=function(){return this.toBuffer().toString("hex")};Se.prototype.inspect=function(){return"<Script: "+this.toString()+">"};Se.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===qe.OP_DUP&&this.chunks[1].opcodenum===qe.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===qe.OP_EQUALVERIFY&&this.chunks[4].opcodenum===qe.OP_CHECKSIG)};Se.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&t[0]===48&&e&&e.length){var r=e[0];if((r===4||r===6||r===7)&&e.length===65)return!0;if((r===3||r===2)&&e.length===33)return!0}}return!1};Se.prototype.getPublicKey=function(){return Vn.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf};Se.prototype.getPublicKeyHash=function(){if(this.isPublicKeyHashOut())return this.chunks[2].buf;if(this.isWitnessPublicKeyHashOut())return this.chunks[1].buf;if(this.isTaproot())return this.chunks[1].buf;throw new Error("Can't retrieve PublicKeyHash from a non-PKH output")};Se.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===qe.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if(((e===4||e===6||e===7)&&t.length===65||(e===3||e===2)&&t.length===33)&&(r=!0),r)return Tf.isValid(t)}return!1};Se.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var t=this.chunks[0].buf;if(t&&t.length&&t[0]===48)return!0}return!1};Se.prototype.isScriptHashOut=function(){var t=this.toBuffer();return t.length===23&&t[0]===qe.OP_HASH160&&t[1]===20&&t[t.length-1]===qe.OP_EQUAL};Se.prototype.isWitnessScriptHashOut=function(){var t=this.toBuffer();return t.length===34&&t[0]===qe.OP_0&&t[1]===32};Se.prototype.isWitnessPublicKeyHashOut=function(){var t=this.toBuffer();return t.length===22&&t[0]===qe.OP_0&&t[1]===20};Se.prototype.isTaproot=function(){var t=this.toBuffer();return t.length===34&&t[0]===qe.OP_1&&t[1]===32};Se.prototype.isWitnessProgram=function(t){t||(t={});var e=this.toBuffer();return e.length<4||e.length>42||e[0]!==qe.OP_0&&!(e[0]>=qe.OP_1&&e[0]<=qe.OP_16)?!1:e.length===e[1]+2?(t.version=qe.decodeOpN(e[0]),t.program=e.slice(2,e.length),!0):!1};Se.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t=this.chunks[this.chunks.length-1],e=t.buf;if(!e)return!1;var r;try{r=Se.fromBuffer(e)}catch(i){if(i instanceof $R.Script.InvalidBuffer)return!1;throw i}var n=r.classify();return n!==Se.types.UNKNOWN};Se.prototype.isMultisigOut=function(){return this.chunks.length>3&&qe.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(t){return t.buf&&Du.isBuffer(t.buf)})&&qe.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===qe.OP_CHECKMULTISIG};Se.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(t){return t.buf&&Du.isBuffer(t.buf)&&R7.isTxDER(t.buf)})};Se.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===qe.OP_RETURN&&(this.chunks.length===1||this.chunks.length===2&&this.chunks[1].buf&&this.chunks[1].buf.length<=Se.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)};Se.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut()||this.isWitnessScriptHashOut()||this.isWitnessPublicKeyHashOut()||this.isTaproot())return this.chunks[1]==null?I.Buffer.alloc(0):I.Buffer.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return I.Buffer.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")};Se.prototype.isPushOnly=function(){return this.chunks.every(function(t){return t.opcodenum<=qe.OP_16})};Se.types={};Se.types.UNKNOWN="Unknown";Se.types.PUBKEY_OUT="Pay to public key";Se.types.PUBKEY_IN="Spend from public key";Se.types.PUBKEYHASH_OUT="Pay to public key hash";Se.types.PUBKEYHASH_IN="Spend from public key hash";Se.types.SCRIPTHASH_OUT="Pay to script hash";Se.types.SCRIPTHASH_IN="Spend from script hash";Se.types.MULTISIG_OUT="Pay to multisig";Se.types.MULTISIG_IN="Spend from multisig";Se.types.DATA_OUT="Data push";Se.OP_RETURN_STANDARD_SIZE=80;Se.ANNEX_TAG=80;Se.VALIDATION_WEIGHT_PER_SIGOP_PASSED=50;Se.VALIDATION_WEIGHT_OFFSET=50;Se.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=Se.types.UNKNOWN?t:this.classifyInput()};Se.outputIdentifiers={};Se.outputIdentifiers.PUBKEY_OUT=Se.prototype.isPublicKeyOut;Se.outputIdentifiers.PUBKEYHASH_OUT=Se.prototype.isPublicKeyHashOut;Se.outputIdentifiers.MULTISIG_OUT=Se.prototype.isMultisigOut;Se.outputIdentifiers.SCRIPTHASH_OUT=Se.prototype.isScriptHashOut;Se.outputIdentifiers.DATA_OUT=Se.prototype.isDataOut;Se.prototype.classifyOutput=function(){for(var t in Se.outputIdentifiers)if(Se.outputIdentifiers[t].bind(this)())return Se.types[t];return Se.types.UNKNOWN};Se.inputIdentifiers={};Se.inputIdentifiers.PUBKEY_IN=Se.prototype.isPublicKeyIn;Se.inputIdentifiers.PUBKEYHASH_IN=Se.prototype.isPublicKeyHashIn;Se.inputIdentifiers.MULTISIG_IN=Se.prototype.isMultisigIn;Se.inputIdentifiers.SCRIPTHASH_IN=Se.prototype.isScriptHashIn;Se.prototype.classifyInput=function(){for(var t in Se.inputIdentifiers)if(Se.inputIdentifiers[t].bind(this)())return Se.types[t];return Se.types.UNKNOWN};Se.prototype.isStandard=function(){return this.classify()!==Se.types.UNKNOWN};Se.prototype.prepend=function(t){return this._addByType(t,!0),this};Se.prototype.equals=function(t){if(Vn.checkState(t instanceof Se,"Must provide another script"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(Du.isBuffer(this.chunks[e].buf)&&!Du.isBuffer(t.chunks[e].buf)||Du.isBuffer(this.chunks[e].buf)&&!Du.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0};Se.prototype.add=function(t){return this._addByType(t,!1),this};Se.prototype._addByType=function(t,e){if(typeof t=="string")this._addOpcode(t,e);else if(typeof t=="number")this._addOpcode(t,e);else if(t instanceof qe)this._addOpcode(t,e);else if(Du.isBuffer(t))this._addBuffer(t,e);else if(t instanceof Se)this.chunks=this.chunks.concat(t.chunks);else if(typeof t=="object")this._insertAtPosition(t,e);else throw new Error("Invalid script chunk")};Se.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)};Se.prototype._addOpcode=function(t,e){var r;return typeof t=="number"?r=t:t instanceof qe?r=t.toNumber():r=qe(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this};Se.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<qe.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=qe.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=qe.OP_PUSHDATA2;else if(n<Math.pow(2,32))r=qe.OP_PUSHDATA4;else throw new Error("You can't push that much data");return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this};Se.prototype.hasCodeseparators=function(){for(var t=0;t<this.chunks.length;t++)if(this.chunks[t].opcodenum===qe.OP_CODESEPARATOR)return!0;return!1};Se.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==qe.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this};Se.buildMultisigOut=function(t,e,r){Vn.checkArgument(e<=t.length,"Number of required signatures must be less than or equal to the number of public keys"),r=r||{};var n=new Se;n.add(qe.smallInt(e)),t=t.map(Tf);var i=t;r.noSorting||(i=UR.sortBy(t,function(o){return o.toString("hex")}));for(var s=0;s<i.length;s++){var u=i[s];n.add(u.toBuffer())}return n.add(qe.smallInt(t.length)),n.add(qe.OP_CHECKMULTISIG),n};Se.buildWitnessMultisigOutFromScript=function(t){if(t instanceof Se){var e=new Se;return e.add(qe.OP_0),e.add(oA.sha256(t.toBuffer())),e}else throw new TypeError("First argument is expected to be a p2sh script")};Se.buildMultisigIn=function(t,e,r,n){Vn.checkArgument(Array.isArray(t)),Vn.checkArgument(!isNaN(e)),Vn.checkArgument(Array.isArray(r)),n=n||{};var i=new Se;i.add(qe.OP_0);for(let s of r)Vn.checkArgument(Du.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i};Se.buildP2SHMultisigIn=function(t,e,r,n){Vn.checkArgument(Array.isArray(t)),Vn.checkArgument(!isNaN(e)),Vn.checkArgument(Array.isArray(r)),n=n||{};var i=new Se;i.add(qe.OP_0);for(let s of r)Vn.checkArgument(Du.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i.add((n.cachedMultisig||Se.buildMultisigOut(t,e,n)).toBuffer()),i};Se.buildPublicKeyHashOut=function(t){Vn.checkArgument(t!=null),Vn.checkArgument(t instanceof Tf||t instanceof Fs||typeof t=="string"),t instanceof Tf?t=t.toAddress():typeof t=="string"&&(t=new Fs(t));var e=new Se;return e.add(qe.OP_DUP).add(qe.OP_HASH160).add(t.hashBuffer).add(qe.OP_EQUALVERIFY).add(qe.OP_CHECKSIG),e._network=t.network,e};Se.buildWitnessV0Out=function(t){Vn.checkArgument(t!=null),Vn.checkArgument(t instanceof Tf||t instanceof Fs||typeof t=="string"),t instanceof Tf?t=t.toAddress(null,Fs.PayToWitnessPublicKeyHash):typeof t=="string"&&(t=new Fs(t));var e=new Se;return e.add(qe.OP_0).add(t.hashBuffer),e._network=t.network,e};Se.buildWitnessV1Out=function(t,e){if(Vn.checkArgument(t instanceof Tf||t instanceof Fs||typeof t=="string"),Vn.checkArgument(!e||Array.isArray(e)||!!e.script),typeof t=="string")try{t=Tf.fromTaproot(t)}catch{t=Fs.fromString(t)}function r(u){if(Array.isArray(u)){let[o,a]=r(u[0]),[l,f]=r(u[1]),c=[[[o[0],o[1]],f],[[l[0],l[1]],a]],h=une.TAPBRANCH;return a.compare(f)===1?(h.write(f),h.write(a)):(h.write(a),h.write(f)),[c,h.finalize()]}else{let{leafVersion:o,script:a}=u,l=new Se(a).toBuffer(),f=une.TAPLEAF;f.writeUInt8(o),f.writeUInt8(l.length),f.write(l);let c=f.finalize();return[[I.Buffer.from([o]),l],c]}}let n=null;if(e){let[u,o]=r(e);n=o}let i;t instanceof Tf?i=t.createTapTweak(n).tweakedPubKey:i=t.hashBuffer;let s=new Se;return s.add(qe.OP_1),s.add(i),s};Se.buildPublicKeyOut=function(t){Vn.checkArgument(t instanceof Tf);var e=new Se;return e.add(t.toBuffer()).add(qe.OP_CHECKSIG),e};Se.buildDataOut=function(t,e){Vn.checkArgument(t==null||typeof t=="string"||Du.isBuffer(t)),typeof t=="string"&&(t=I.Buffer.from(t,e));var r=new Se;return r.add(qe.OP_RETURN),t!=null&&r.add(t),r};Se.buildScriptHashOut=function(t){Vn.checkArgument(t instanceof Se||t instanceof Fs&&t.isPayToScriptHash());var e=new Se;return e.add(qe.OP_HASH160).add(t instanceof Fs?t.hashBuffer:oA.sha256ripemd160(t.toBuffer())).add(qe.OP_EQUAL),e._network=t._network||t.network,e};Se.buildPublicKeyIn=function(t,e){Vn.checkArgument(t instanceof R7||Du.isBuffer(t)),Vn.checkArgument(e==null||!isNaN(e)),t instanceof R7&&(t=t.toBuffer());var r=new Se;return r.add(Du.concat([t,Du.integerAsSingleByteBuffer(e||R7.SIGHASH_ALL)])),r};Se.buildPublicKeyHashIn=function(t,e,r){Vn.checkArgument(e instanceof R7||Du.isBuffer(e)),Vn.checkArgument(r==null||!isNaN(r)),e instanceof R7&&(e=e.toBuffer());var n=new Se().add(Du.concat([e,Du.integerAsSingleByteBuffer(r||R7.SIGHASH_ALL)])).add(new Tf(t).toBuffer());return n};Se.empty=function(){return new Se};Se.prototype.toScriptHashOut=function(){return Se.buildScriptHashOut(this)};Se.fromAddress=function(t){if(t=Fs(t),t.isPayToScriptHash())return Se.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return Se.buildPublicKeyHashOut(t);if(t.isPayToWitnessPublicKeyHash())return Se.buildWitnessV0Out(t);if(t.isPayToWitnessScriptHash())return Se.buildWitnessV0Out(t);if(t.isPayToTaproot())return Se.buildWitnessV1Out(t);throw new $R.Script.UnrecognizedAddress(t)};Se.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()};Se.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=Fs.PayToScriptHash;else if(this.isPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=Fs.PayToPublicKeyHash;else if(this.isWitnessScriptHashOut())t.hashBuffer=this.getData(),t.type=Fs.PayToWitnessScriptHash;else if(this.isWitnessPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=Fs.PayToWitnessPublicKeyHash;else if(this.isTaproot())t.hashBuffer=this.getData(),t.type=Fs.PayToTaproot;else return!1;return t};Se.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=oA.sha256ripemd160(this.chunks[1].buf),t.type=Fs.PayToPublicKeyHash;else if(this.isScriptHashIn())t.hashBuffer=oA.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=Fs.PayToScriptHash;else return!1;return t};Se.prototype.toAddress=function(t){var e=this.getAddressInfo();return e?(e.network=sne.get(t)||this._network||sne.defaultNetwork,new Fs(e)):!1};Se.prototype.findAndDelete=function(t){for(var e=t.toBuffer(),r=e.toString("hex"),n=0;n<this.chunks.length;n++){var i=Se({chunks:[this.chunks[n]]}),s=i.toBuffer(),u=s.toString("hex");r===u&&this.chunks.splice(n,1)}return this};Se.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return r?r.length===0?n===qe.OP_0:r.length===1&&r[0]>=1&&r[0]<=16?n===qe.OP_1+(r[0]-1):r.length===1&&r[0]===129?n===qe.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===qe.OP_PUSHDATA1:r.length<=65535?n===qe.OP_PUSHDATA2:!0:!0};Se.prototype.getSignatureOperationsCount=function(t){t=t??!0;var e=0,r=qe.OP_INVALIDOPCODE;for(let i of this.chunks){var n=i.opcodenum;n==qe.OP_CHECKSIG||n==qe.OP_CHECKSIGVERIFY?e++:(n==qe.OP_CHECKMULTISIG||n==qe.OP_CHECKMULTISIGVERIFY)&&(t&&r>=qe.OP_1&&r<=qe.OP_16?e+=qe.decodeOpN(r):e+=20),r=n}return e};one.exports=Se});var Hb=$((l2t,dne)=>{"use strict";B();k();var M7=ho(),f2t=Aa(),ane=yf(),cne=fu(),V4=Ss(),lne=G4(),fne=qr(),jR=Mr(),KR=function(e,r,n,i,s){var u=I.Buffer.alloc(32),o=I.Buffer.alloc(32),a=I.Buffer.alloc(32);if(!(r&M7.SIGHASH_ANYONECANPAY)){for(var l=[],f=0;f<e.inputs.length;f++){var c=e.inputs[f],h=new ane(c.prevTxId).readReverse();l.push(h);var d=I.Buffer.alloc(4);d.writeUInt32LE(c.outputIndex,0),l.push(d)}u=V4.sha256sha256(I.Buffer.concat(l))}if(!(r&M7.SIGHASH_ANYONECANPAY)&&(r&31)!==M7.SIGHASH_SINGLE&&(r&31)!==M7.SIGHASH_NONE){for(var p=[],m=0;m<e.inputs.length;m++){var w=I.Buffer.alloc(4);w.writeUInt32LE(e.inputs[m].sequenceNumber,0),p.push(w)}o=V4.sha256sha256(I.Buffer.concat(p))}var x=new cne;if((r&31)!==M7.SIGHASH_SINGLE&&(r&31)!==M7.SIGHASH_NONE){for(var _=0;_<e.outputs.length;_++)e.outputs[_].toBufferWriter(x);a=V4.sha256sha256(x.toBuffer())}else(r&31)===M7.SIGHASH_SINGLE&&n<e.outputs.length&&(e.outputs[n].toBufferWriter(x),a=V4.sha256sha256(x.toBuffer()));var y=new cne;y.writeUInt32LE(e.version),y.write(u),y.write(o);var S=new ane(e.inputs[n].prevTxId).readReverse();return y.write(S),y.writeUInt32LE(e.inputs[n].outputIndex),y.write(i),y.write(s),y.writeUInt32LE(e.inputs[n].sequenceNumber),y.write(a),y.writeUInt32LE(e.nLockTime),y.writeInt32LE(r),V4.sha256sha256(y.toBuffer())};function JOe(t,e,r,n,i,s){let u=KR(t,r,n,i,s);return lne.sign(u,e).set({nhashtype:r})}function QOe(t,e,r,n,i,s){fne.checkArgument(!jR.isUndefined(t),"Transaction Undefined"),fne.checkArgument(!jR.isUndefined(e)&&!jR.isUndefined(e.nhashtype),"Signature Undefined");let u=KR(t,e.nhashtype,n,i,s);return lne.verify(u,e,r)}dne.exports={sighash:KR,sign:JOe,verify:QOe}});var zR=$((p2t,hne)=>{B();k();var eBe=Ua(),ch=qr(),cA=Yi(),N7=ou(),D7=X3(),aA=ah(),W4=function t(){return this instanceof t?this:new t};W4.prototype.set=function(){};W4.sign=function(t,e,r){if(t=I.Buffer.isBuffer(t)?t:t.toBuffer(),t.length!==32)throw new Error("Private key should be 32 bytes for schnorr signatures");typeof e=="string"&&(ch.checkArgument(cA.isHexaString(e),"Schnorr message string is not hex"),e=I.Buffer.from(e,"hex")),ch.checkArgument(ch.isType(e,"Buffer"),"Schnorr message must be a hex string or buffer"),r||(r=eBe.randomBytes(32)),typeof r=="string"&&(ch.checkArgument(cA.isHexaString(r),"Schnorr aux string is not hex"),r=I.Buffer.from(r,"hex")),ch.checkArgument(ch.isType(r,"Buffer"),"Schnorr aux must be a hex string or buffer");let n=D7.getG(),i=D7.getN(),s=new N7(t);if(s.eqn(0)||s.gte(i))throw new Error("Invalid private key for schnorr signing");let u=n.mul(s),o=I.Buffer.from(u.encodeCompressed().slice(1)),a=u.y.isEven()?s:i.sub(s),l=a.xor(new N7(new aA("BIP0340/aux",r).finalize())),f=new aA("BIP0340/nonce",I.Buffer.concat([l.toBuffer(),o,e])).finalize(),c=new N7(f).mod(i);if(c.eqn(0))throw new Error("Error creating schnorr signature");let h=n.mul(c),d=I.Buffer.from(h.encodeCompressed().slice(1)),p=h.y.isEven()?c:i.sub(c),m=new N7(new aA("BIP0340/challenge",I.Buffer.concat([d,o,e])).finalize()).mod(i),w=I.Buffer.concat([d,p.add(m.mul(a)).mod(i).toBuffer({size:32})]);if(!W4.verify(o,e,w))throw new Error("Error creating schnorr signature. Verification failed");return w};W4.verify=function(t,e,r){if(ch.isType(t,"PublicKey")&&(t=t.point.x.toBuffer()),t.length!==32)throw new Error("Public key should be 32 bytes for schnorr signatures");if(typeof e=="string"&&(ch.checkArgument(cA.isHexaString(e),"Schnorr message string is not hex"),e=I.Buffer.from(e,"hex")),e.length!==32)throw new Error("Message should be a 32 byte buffer");if(typeof r=="string"&&(ch.checkArgument(cA.isHexaString(r),"Schnorr signature string is not hex"),r=I.Buffer.from(r,"hex")),typeof r.toBuffer=="function"&&(r=r.toBuffer(),r.length===65&&(r=r.slice(0,64))),r.length!==64)throw new Error("Signature should be a 64 byte buffer. Got "+r.length+" bytes");try{let n=D7.getP(),i=D7.getN(),s=D7.fromX(!1,t).liftX(),u=new N7(r.slice(0,32)),o=new N7(r.slice(32,64));if(u.gte(n)||o.gte(i))return!1;let a=tBe(u,s,e),f=D7.getG().mul(o).add(s.mul(a).neg());return!(f.inf||!f.y.isEven()||!f.x.eq(u))}catch{return!1}};var tBe=function(t,e,r){let n=D7.getN(),i=new aA("BIP0340/challenge",I.Buffer.concat([t.toBuffer({size:32}),e.x.toBuffer({size:32}),r])).finalize();return new N7(i).mod(n)};hne.exports=W4});var Y4=$((y2t,mne)=>{"use strict";B();k();var Lo=ho(),H7=fu(),Lb=Ss(),pne=zR(),L7=qr(),rBe=ah(),m2t=r1();function bne(t,e,r,n,i){let s,u;switch(n){case Lo.Version.TAPROOT:s=0;break;case Lo.Version.TAPSCRIPT:s=1,u=0;break;default:return!1}L7.checkArgument(r<t.inputs.length,"inputNumber is greater than number of inputs");let o=rBe.TAPSIGHASH;o.writeUInt8(0);let a=e==Lo.SIGHASH_DEFAULT?Lo.SIGHASH_ALL:e&Lo.SIGHASH_OUTPUT_MASK,l=e&Lo.SIGHASH_INPUT_MASK;if(!(e<=3||e>=129&&e<=131))return!1;if(o.writeUInt8(e),o.writeInt32LE(t.version),o.writeUInt32LE(t.nLockTime),l!==Lo.SIGHASH_ANYONECANPAY){let c=new H7,h=new H7,d=new H7,p=new H7;for(let y of t.inputs){c.writeReverse(y.prevTxId),c.writeInt32LE(y.outputIndex),h.writeUInt64LEBN(y.output._satoshisBN);let S=y.output.script.toBuffer();d.writeUInt8(S.length),d.write(S),p.writeUInt32LE(y.sequenceNumber)}let m=Lb.sha256(c.toBuffer());o.write(m);let w=Lb.sha256(h.toBuffer());o.write(w);let x=Lb.sha256(d.toBuffer());o.write(x);let _=Lb.sha256(p.toBuffer());o.write(_)}if(a===Lo.SIGHASH_ALL){let c=new H7;for(let d of t.outputs)c.write(d.toBufferWriter().toBuffer());let h=Lb.sha256(c.toBuffer());o.write(h)}L7.checkArgument(i.annexInit,"missing or invalid annexInit");let f=(s<<1)+(i.annexPresent?1:0);if(o.writeUInt8(f),l===Lo.SIGHASH_ANYONECANPAY){let c=new H7;c.writeReverse(t.inputs[r].prevTxId),c.writeInt32LE(t.inputs[r].outputIndex),o.write(c.toBuffer()),o.write(t.inputs[r].output.toBufferWriter().toBuffer()),o.writeUInt32LE(t.inputs[r].sequenceNumber)}else o.writeUInt32LE(r);if(i.annexPresent&&o.write(i.annexHash),a===Lo.SIGHASH_SINGLE){if(r>=t.outputs.length)return!1;let c=new H7;c.writeUInt64LEBN(t.outputs[r]._satoshisBN);let h=t.outputs[r].script.toBuffer();c.writeVarintNum(h.length),c.write(h),o.write(Lb.sha256(c.toBuffer()))}return n==Lo.Version.TAPSCRIPT&&(L7.checkArgument(i.tapleafHashInit,"missing or invalid tapleafHashInit"),o.write(i.tapleafHash),o.writeUInt8(u),L7.checkArgument(i.codeseparatorPosInit,"missing or invalid codeseparatorPosInit"),o.writeUInt32LE(i.codeseparatorPos)),o}function VR(t,e,r,n,i){return bne(t,e,r,n,i).finalize()}function nBe(t,e,r,n,i){return bne(t,e,r,n,i).toBuffer()}function gne(t,e){let r={annexInit:!0,annexPresent:!1};if(t===Lo.Version.TAPSCRIPT){if(r.codeseparatorPosInit=!0,r.codeseparatorPos=4294967295,!e)return!1;r.tapleafHashInit=!0,r.tapleafHash=e}return r}function iBe(t,e,r,n,i,s){L7.checkArgument(i===Lo.Version.TAPROOT||i===Lo.Version.TAPSCRIPT,"Invalid sigversion");let u=gne(i,s),o=VR(t,r,n,i,u);if(!o)return!1;let a=pne.sign(e,o);return r!==Lo.SIGHASH_DEFAULT?I.Buffer.concat([a,I.Buffer.from([r])]):a}function sBe(t,e,r,n,i,s){L7.checkArgument(t!=null,"Transaction Undefined"),(!s||I.Buffer.isBuffer(s))&&(s=gne(n,s)),L7.checkArgument(s.annexInit,"invalid execdata");let u=VR(t,e.nhashtype,i,n,s);return u?pne.verify(r,u,e):!1}mne.exports={sighash:VR,sighashPreimage:nBe,sign:iBe,verify:sBe}});var vne=$((_2t,yne)=>{B();k();yne.exports=function(t,e){if(typeof t.compare=="function")return t.compare(e);if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s&&t[i]===e[i];)++i;return i!==s&&(r=t[i],n=e[i]),r<n?-1:n<r?1:0}});var ql=$((A2t,Ene)=>{"use strict";B();k();var fA=Mr(),GR=ou(),Sne=ti(),WR=Yi(),_ne=fu(),YR=Aa(),Ub=qr(),uBe=ec(),wne=ZR(),XR=ah(),oBe=9007199254740991;function Qi(t){if(!(this instanceof Qi))return new Qi(t);if(fA.isObject(t)){if(this.satoshis=t.satoshis,Sne.isBuffer(t.script))this.setScriptFromBuffer(t.script);else{var e;fA.isString(t.script)&&WR.isHexa(t.script)?e=I.Buffer.from(t.script,"hex"):e=t.script,this.setScript(e)}t.type==="taproot"&&(this.branch=[],Object.defineProperty(this,"isValid",{configurable:!1,enumerable:!1,get:function(){this._isValid||this._branch.length},set:function(r){this._isValid=r}}),Object.defineProperty(this,"isComplete",{configurable:!1,enumerable:!1,get:function(){return this.isValid&&(this._branch.length===0||this._branch.length===1&&!!this._branch[0])}}))}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(Qi.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script?this._script:(this.setScriptFromBuffer(this._scriptBuffer),this._script)}});Object.defineProperty(Qi.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof GR?(this._satoshisBN=t,this._satoshis=t.toNumber()):fA.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=GR.fromNumber(this._satoshis)):(Ub.checkArgument(WR.isNaturalNumber(t),"Output satoshis is not a natural number"),this._satoshisBN=GR.fromNumber(t),this._satoshis=t),Ub.checkState(WR.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}});Qi.prototype.invalidSatoshis=function(){return this._satoshis>oBe?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1};Qi.prototype.toObject=Qi.prototype.toJSON=function(){var e={satoshis:this.satoshis};return e.script=this._scriptBuffer.toString("hex"),e};Qi.fromObject=function(t){return new Qi(t)};Qi.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=YR.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(e){if(e instanceof uBe.Script.InvalidBuffer)this._script=null;else throw e}};Qi.prototype.setScript=function(t){if(t instanceof YR)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(fA.isString(t))this._script=YR.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else if(Sne.isBuffer(t))this.setScriptFromBuffer(t);else throw new TypeError("Invalid argument type: script");return this};Qi.prototype.inspect=function(){var t;return this.script?t=this.script.inspect():t=this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+t+">"};Qi.fromBufferReader=function(t){var e={};e.satoshis=t.readUInt64LEBN();var r=t.readVarintNum();return r!==0?e.script=t.read(r):e.script=I.Buffer.from([]),new Qi(e)};Qi.prototype.toBufferWriter=function(t){t||(t=new _ne),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t};Qi.prototype.calculateSize=function(){let t=8;return t+=_ne.varintBufNum(this._scriptBuffer.length).length,t+=this._scriptBuffer.length,t};Qi.prototype.add=function(t,e,r,n=!0){if(Ub.checkArgument((r&~wne.TAPROOT_LEAF_MASK)===0,"invalid leafVersion"),!this.isValid)return;let i={hash:XR.TAPLEAF.writeUInt8(r).write(e.toBuffer()).finalize(),leaves:[]};if(n){let s={script:e,leafVersion:r,merkleBranch:[]};i.leaves.push(s)}return this._insertNode(i,t),this};Qi.prototype._insertNode=function(t,e){if(Ub.checkArgument(e>=0&&e<=wne.TAPROOT_CONTROL_MAX_NODE_COUNT,"invalid depth"),e+1<this._branch.length){this.isValid=!1;return}for(;this.isValid&&this._branch.length>e&&this._branch[e];)t=this._combineNodes(t,this._branch[e]),this._branch=this._branch.slice(0,this._branch.length-2),e==0&&(this.isValid=!1),e--;this.isValid&&(this._branch.length<=e&&(this._branch=this._branch.slice(0,e+1)),Ub.checkState(!this._nodes[e]),m_branch[e]=t)};Qi.prototype._combineNodes=function(t,e){let r={hash:null,leaves:[]};for(let n of t.leaves)n.merkleBranch.push(e.hash),r.leaves.push(n);for(let n of e.leaves)n.merkleBranch.push(t.hash),r.leaves.push(n);return t.hash.compare(e.hash)===-1?r.hash=XR.TAPBRANCH.write(t.hash).write(e.hash).finalize():r.hash=XR.TAPBRANCH.write(e.hash).write(t.hash).finalize(),r};Qi.prototype.finalize=function(t){Ub.checkState(this.isComplete===!0,"finalize can only be called when isComplete is true");let e=t.createTapTweak(this._branch.length===0?null:this._branch[0].hash)};Ene.exports=Qi});var $b=$((P2t,Ine)=>{"use strict";B();k();var lA=Mr(),X4=qr(),U7=ec(),Ane=fu(),I2t=us(),aBe=ti(),Tne=Yi(),JR=Aa(),cBe=fh(),QR=ql(),dA=4294967295,xne=dA,fBe=dA-1,lBe=dA-2,dBe=Math.pow(2,31),rM=Math.pow(2,22),eM=65535,tM=512,hBe=Math.pow(2,16)-1;function jr(t){if(!(this instanceof jr))return new jr(t);if(t)return this._fromObject(t)}jr.MAXINT=dA;jr.DEFAULT_SEQNUMBER=xne;jr.DEFAULT_LOCKTIME_SEQNUMBER=fBe;jr.DEFAULT_RBF_SEQNUMBER=lBe;jr.SEQUENCE_LOCKTIME_TYPE_FLAG=rM;Object.defineProperty(jr.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new JR(this._scriptBuffer),this._script._isInput=!0),this._script)}});jr.fromObject=function(t){X4.checkArgument(lA.isObject(t));var e=new jr;return e._fromObject(t)};jr.prototype._fromObject=function(t){var e;if(typeof t.prevTxId=="string"&&Tne.isHexa(t.prevTxId)?e=I.Buffer.from(t.prevTxId,"hex"):e=t.prevTxId,this.witnesses=[],this.output=t.output?t.output instanceof QR?t.output:new QR(t.output):void 0,this.prevTxId=e||t.txidbuf,this.outputIndex=t.outputIndex==null?t.txoutnum:t.outputIndex,this.sequenceNumber=t.sequenceNumber==null?t.seqnum==null?xne:t.seqnum:t.sequenceNumber,t.script===void 0&&t.scriptBuffer===void 0)throw new U7.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this};jr.prototype.toObject=jr.prototype.toJSON=function(){var e={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(e.scriptString=this.script.toString()),this.output&&(e.output=this.output.toObject()),e};jr.fromBufferReader=function(t){var e=new jr;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e};jr.prototype.toBufferWriter=function(t){t||(t=new Ane),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t};jr.prototype.setScript=function(t){if(this._script=null,t instanceof JR)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(Tne.isHexa(t))this._scriptBuffer=I.Buffer.from(t,"hex");else if(lA.isString(t))this._script=new JR(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(aBe.isBuffer(t))this._scriptBuffer=I.Buffer.from(t);else throw new TypeError("Invalid argument type: script");return this};jr.prototype.getSignatures=function(){throw new U7.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))};jr.prototype.getSatoshisBuffer=function(){return X4.checkState(this.output instanceof QR),X4.checkState(this.output._satoshisBN),new Ane().writeUInt64LEBN(this.output._satoshisBN).toBuffer()};jr.prototype.isFullySigned=function(){throw new U7.AbstractMethodInvoked("Input#isFullySigned")};jr.prototype.isFinal=function(){return this.sequenceNumber!==jr.MAXINT};jr.prototype.addSignature=function(){throw new U7.AbstractMethodInvoked("Input#addSignature")};jr.prototype.clearSignatures=function(){throw new U7.AbstractMethodInvoked("Input#clearSignatures")};jr.prototype.hasWitnesses=function(){return!!(this.witnesses&&this.witnesses.length>0)};jr.prototype.getWitnesses=function(){return this.witnesses};jr.prototype.setWitnesses=function(t){this.witnesses=t};jr.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,cBe.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};jr.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295};jr.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length};jr.prototype._getBaseSize=function(){return 32+4+4};jr.prototype.lockForSeconds=function(t){if(X4.checkArgument(lA.isNumber(t)),t<0||t>=tM*eM)throw new U7.Transaction.Input.LockTimeRange;return t=parseInt(Math.floor(t/tM)),this.sequenceNumber=t|rM,this};jr.prototype.lockUntilBlockHeight=function(t){if(X4.checkArgument(lA.isNumber(t)),t<0||t>=hBe)throw new U7.Transaction.Input.BlockHeightOutOfRange;return this.sequenceNumber=t,this};jr.prototype.getLockTime=function(){if(this.sequenceNumber&dBe)return null;if(this.sequenceNumber&rM){var t=tM*(this.sequenceNumber&eM);return t}else{var e=this.sequenceNumber&eM;return e}};Ine.exports=jr});var $7=$((k2t,Bne)=>{"use strict";B();k();var a0=qr(),pBe=e1(),hA=ti(),Pne=Yi(),One=If(),bBe=ec(),Z4=ho();function Pf(t){if(!(this instanceof Pf))return new Pf(t);if(t instanceof Pf)return t;if(t&&typeof t=="object")return this._fromObject(t);throw new bBe.InvalidArgument("TransactionSignatures must be instantiated from an object")}pBe(Pf,Z4);Pf.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new One(t.publicKey),this.prevTxId=hA.isBuffer(t.prevTxId)?t.prevTxId:I.Buffer.from(t.prevTxId,"hex"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof Z4?t.signature:hA.isBuffer(t.signature)?Z4.fromBuffer(t.signature):Z4.fromString(t.signature),this.sigtype=t.sigtype,this};Pf.prototype._checkObjectArgs=function(t){a0.checkArgument(One(t.publicKey),"invalid publicKey"),a0.checkArgument(t.inputIndex!=null,"missing inputIndex"),a0.checkArgument(t.outputIndex!=null,"missing outputIndex"),a0.checkState(!isNaN(t.inputIndex),"inputIndex must be a number"),a0.checkState(!isNaN(t.outputIndex),"outputIndex must be a number"),a0.checkArgument(t.signature,"missing signature"),a0.checkArgument(t.prevTxId,"missing prevTxId"),a0.checkState(t.signature instanceof Z4||hA.isBuffer(t.signature)||Pne.isHexa(t.signature),"signature must be a buffer or hexa value"),a0.checkState(hA.isBuffer(t.prevTxId)||Pne.isHexa(t.prevTxId),"prevTxId must be a buffer or hexa value"),a0.checkArgument(t.sigtype!=null,"missing sigtype"),a0.checkState(!isNaN(t.sigtype),"sigtype must be a number")};Pf.prototype.toObject=Pf.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}};Pf.fromObject=function(t){return a0.checkArgument(t),new Pf(t)};Bne.exports=Pf});var Mne=$((M2t,Rne)=>{"use strict";B();k();var gBe=e1(),kne=qr(),R2t=ti(),Cne=$b(),mBe=ql(),yBe=fh(),Fne=Aa(),vBe=ho(),SBe=$7();function lh(){Cne.apply(this,arguments)}gBe(lh,Cne);lh.prototype.getSignatures=function(t,e,r,n,i,s){kne.checkState(this.output instanceof mBe),n=n||vBe.SIGHASH_ALL,s=s||"ecdsa";var u=e.toPublicKey();return u.toString()===this.output.script.getPublicKey().toString("hex")?[new SBe({publicKey:u,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:yBe.sign(t,e,n,r,this.output.script),sigtype:n})]:[]};lh.prototype.addSignature=function(t,e,r){return kne.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.setScript(Fne.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this};lh.prototype.clearSignatures=function(){return this.setScript(Fne.empty()),this};lh.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()};lh.SCRIPT_MAX_SIZE=73;lh.prototype._estimateSize=function(){return this._getBaseSize()+lh.SCRIPT_MAX_SIZE};Rne.exports=lh});var iM=$((L2t,Lne)=>{"use strict";B();k();var _Be=e1(),Nne=qr(),pA=ti(),H2t=xf(),wBe=Ss(),Dne=$b(),EBe=ql(),Hne=fh(),nM=Hb(),ABe=fu(),pA=ti(),qb=Aa(),TBe=ho(),xBe=$7();function po(){Dne.apply(this,arguments)}_Be(po,Dne);po.prototype.getRedeemScript=function(t){if(!this.redeemScript){var e=qb.buildWitnessV0Out(t);if(qb.buildScriptHashOut(e).equals(this.output.script)){var r=new qb;r.add(e.toBuffer()),this.setScript(r),this.redeemScript=e}}return this.redeemScript};po.prototype.getScriptCode=function(t){var e=new ABe,r;this.output.script.isScriptHashOut()?r=this.getRedeemScript(t):r=this.output.script;var n=qb.buildPublicKeyHashOut(r.toAddress()).toBuffer();return e.writeVarintNum(n.length),e.write(n),e.toBuffer()};po.prototype.getSighash=function(t,e,r,n){var i=this.getScriptCode(e),s=this.getSatoshisBuffer();return nM.sighash(t,n,r,i,s)};po.prototype.getSignatures=function(t,e,r,n,i,s,u){Nne.checkState(this.output instanceof EBe),i=i||wBe.sha256ripemd160(e.publicKey.toBuffer()),n=n||TBe.SIGHASH_ALL,s=s||"ecdsa";var o;if(this.output.script.isScriptHashOut()?o=this.getRedeemScript(e.publicKey):o=this.output.script,o&&pA.equals(i,o.getPublicKeyHash())){var a;if(o.isWitnessPublicKeyHashOut()){var l=this.getSatoshisBuffer(),f=this.getScriptCode(e.publicKey);a=nM.sign(t,e,n,r,f,l)}else a=Hne.sign(t,e,n,r,this.output.script);return[new xBe({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:a,sigtype:n})]}return[]};po.prototype.addSignature=function(t,e,r){return Nne.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()?this.setWitnesses([pA.concat([e.signature.toDER(),pA.integerAsSingleByteBuffer(e.sigtype)]),e.publicKey.toBuffer()]):this.setScript(qb.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this};po.prototype.clearSignatures=function(){return this.setScript(qb.empty()),this.setWitnesses([]),this};po.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()||this.hasWitnesses()};po.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",e.signature.nhashtype=e.sigtype,this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()){var n=this.getScriptCode(),i=this.getSatoshisBuffer();return nM.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return Hne.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};po.SCRIPT_MAX_SIZE=73+34;po.REDEEM_SCRIPT_SIZE=1+22;po.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4,r=po.SCRIPT_MAX_SIZE/e;return this.output.script.isWitnessPublicKeyHashOut()?t+=r:this.output.script.isScriptHashOut()?t+=r+po.REDEEM_SCRIPT_SIZE:t+=po.SCRIPT_MAX_SIZE,t};Lne.exports=po});var jne=$((K2t,qne)=>{"use strict";B();k();var Of=Mr(),IBe=e1(),q2t=bA(),uM=$b(),PBe=ql(),J4=qr(),$ne=Aa(),sM=ho(),oM=fh(),j2t=If(),Une=ti(),aM=$7();function es(t,e,r,n,i){i=i||{},uM.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=Of.sortBy(e,function(u){return u.toString("hex")}),J4.checkState($ne.buildMultisigOut(this.publicKeys,r).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},Of.each(this.publicKeys,function(u,o){s.publicKeyIndex[u.toString()]=o}),this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}IBe(es,uM);es.prototype.toObject=function(){var t=uM.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=Of.map(this.publicKeys,function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};es.prototype._deserializeSignatures=function(t){return Of.map(t,function(e){if(!!e)return new aM(e)})};es.prototype._serializeSignatures=function(){return Of.map(this.signatures,function(t){if(!!t)return t.toObject()})};es.prototype.getSignatures=function(t,e,r,n,i,s,u){J4.checkState(this.output instanceof PBe),n=n||sM.SIGHASH_ALL,s=s||"ecdsa";let o=[];for(let a of this.publicKeys||[])a.toString()===e.publicKey.toString()&&o.push(new aM({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:oM.sign(t,e,n,r,this.output.script),sigtype:n}));return o};es.prototype.addSignature=function(t,e,r){return J4.checkState(!this.isFullySigned(),"All needed signatures have already been added"),J4.checkArgument(!Of.isUndefined(this.publicKeyIndex[e.publicKey.toString()],"Signature Undefined"),"Signature has no matching public key"),J4.checkState(this.isValidSignature(t,e,r),"Invalid Signature"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};es.prototype._updateScript=function(){return this.setScript($ne.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this};es.prototype._createSignatures=function(){return Of.map(Of.filter(this.signatures,function(t){return!Of.isUndefined(t)}),function(t){return Une.concat([t.signature.toDER(),Une.integerAsSingleByteBuffer(t.sigtype)])})};es.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};es.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};es.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};es.prototype.countSignatures=function(){return Of.reduce(this.signatures,function(t,e){return t+!!e},0)};es.prototype.publicKeysWithoutSignature=function(){var t=this;return Of.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})};es.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,oM.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};es.normalizeSignatures=function(t,e,r,n,i,s){return s=s||"ecdsa",i.map(function(u){var o=null;return n=n.filter(function(a){if(o)return!0;var l=new aM({signature:sM.fromTxFormat(a),publicKey:u,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:sM.SIGHASH_ALL});l.signature.nhashtype=l.sigtype;var f=oM.verify(t,l.signature,l.publicKey,l.inputIndex,e.output.script);return f?(o=l,!1):!0}),o||null})};es.OPCODES_SIZE=1;es.SIGNATURE_SIZE=73;es.prototype._estimateSize=function(){return this._getBaseSize()+es.OPCODES_SIZE+this.threshold*es.SIGNATURE_SIZE};qne.exports=es});var Gne=$((G2t,Vne)=>{"use strict";B();k();var OBe=Mr(),BBe=e1(),cM=$b(),kBe=ql(),gA=qr(),n1=xf(),jb=Aa(),CBe=ho(),fM=fh(),lM=Hb(),FBe=fu(),Kne=ti(),zne=$7();function Gn(t,e,r,n,i){i=i||{},cM.apply(this,arguments),e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=OBe.sortBy(e,function(o){return o.toString("hex")}),this.redeemScript=jb.buildMultisigOut(this.publicKeys,r,i);var s=jb.buildWitnessMultisigOutFromScript(this.redeemScript);if(s.equals(this.output.script))this.nestedWitness=!1,this.type=n1.PayToWitnessScriptHash;else if(jb.buildScriptHashOut(s).equals(this.output.script))this.nestedWitness=!0,this.type=n1.PayToScriptHash;else if(jb.buildScriptHashOut(this.redeemScript).equals(this.output.script))this.nestedWitness=!1,this.type=n1.PayToScriptHash;else throw new Error("Provided public keys don't hash to the provided output");if(this.nestedWitness){var u=new jb;u.add(s.toBuffer()),this.setScript(u)}this.publicKeyIndex={};for(let o=0;o<this.publicKeys.length;o++){let a=this.publicKeys[o];this.publicKeyIndex[a.toString()]=o}this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}BBe(Gn,cM);Gn.prototype.toObject=function(){var t=cM.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=this.publicKeys.map(function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};Gn.prototype._deserializeSignatures=function(t){return t.map(function(e){if(!!e)return new zne(e)})};Gn.prototype._serializeSignatures=function(){return this.signatures.map(function(t){if(!!t)return t.toObject()})};Gn.prototype.getScriptCode=function(){var t=new FBe;if(this.redeemScript.hasCodeseparators())throw new Error("@TODO");var e=this.redeemScript.toBuffer();return t.writeVarintNum(e.length),t.write(e),t.toBuffer()};Gn.prototype.getSighash=function(t,e,r,n){var i;if(this.nestedWitness||this.type===n1.PayToWitnessScriptHash){var s=this.getScriptCode(),u=this.getSatoshisBuffer();i=lM.sighash(t,n,r,s,u)}else i=fM.sighash(t,n,r,this.redeemScript);return i};Gn.prototype.getSignatures=function(t,e,r,n,i,s,u){gA.checkState(this.output instanceof kBe),n=n||CBe.SIGHASH_ALL,s=s||"ecdsa";let o=[];for(let c of this.publicKeys)if(c.toString()===e.publicKey.toString()){var a;if(this.nestedWitness||this.type===n1.PayToWitnessScriptHash){var l=this.getScriptCode(),f=this.getSatoshisBuffer();a=lM.sign(t,e,n,r,l,f)}else a=fM.sign(t,e,n,r,this.redeemScript);o.push(new zne({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:a,sigtype:n}))}return o};Gn.prototype.addSignature=function(t,e,r){return gA.checkState(!this.isFullySigned(),"All needed signatures have already been added"),gA.checkArgument(this.publicKeyIndex[e.publicKey.toString()]!=null,"Signature has no matching public key"),gA.checkState(this.isValidSignature(t,e,r),"Invalid Signature!"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};Gn.prototype._updateScript=function(){if(this.nestedWitness||this.type===n1.PayToWitnessScriptHash){for(var t=[I.Buffer.alloc(0)],e=this._createSignatures(),r=0;r<e.length;r++)t.push(e[r]);t.push(this.redeemScript.toBuffer()),this.setWitnesses(t)}else{var n=jb.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript});this.setScript(n)}return this};Gn.prototype._createSignatures=function(){return this.signatures.filter(function(t){return t!=null}).map(function(t){return Kne.concat([t.signature.toDER(),Kne.integerAsSingleByteBuffer(t.sigtype)])})};Gn.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};Gn.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};Gn.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};Gn.prototype.countSignatures=function(){return this.signatures.reduce(function(t,e){return t+!!e},0)};Gn.prototype.publicKeysWithoutSignature=function(){return this.publicKeys.filter(t=>!this.signatures[this.publicKeyIndex[t.toString()]])};Gn.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",this.nestedWitness||this.type===n1.PayToWitnessScriptHash){e.signature.nhashtype=e.sigtype;var n=this.getScriptCode(),i=this.getSatoshisBuffer();return lM.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return e.signature.nhashtype=e.sigtype,fM.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript)};Gn.MAX_OPCODES_SIZE=8;Gn.MAX_SIGNATURE_SIZE=74;Gn.MAX_PUBKEY_SIZE=34;Gn.REDEEM_SCRIPT_SIZE=34;Gn.prototype._estimateSize=function(){let t=this._getBaseSize(),e=4,r=Gn.MAX_OPCODES_SIZE+this.threshold*Gn.MAX_SIGNATURE_SIZE+this.publicKeys.length*Gn.MAX_PUBKEY_SIZE;return this.type===n1.PayToWitnessScriptHash?t+=r/e:this.nestedWitness?t+=r/e+Gn.REDEEM_SCRIPT_SIZE:t+=r,t};Vne.exports=Gn});var Jne=$((Z2t,Zne)=>{B();k();var RBe=e1(),dM=qr(),Wne=iM(),Yne=Y4(),mA=ho(),MBe=$7(),Xne=ql(),X2t=r1();function dh(){Wne.apply(this,arguments)}RBe(dh,Wne);dh.prototype.getSignatures=function(t,e,r,n,i,s,u){dM.checkState(this.output instanceof Xne),n=n||mA.SIGHASH_DEFAULT;let o=t.inputs.indexOf(this),a=e.createTapTweak(u).tweakedPrivKey,l=Yne.sign(t,a,n,o,mA.Version.TAPROOT,null);if(!l)return[];let f=new MBe({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:o,signature:mA.fromSchnorr(l),sigtype:n});return this.isValidSignature(t,f)?[f]:[]};dh.prototype.isValidSignature=function(t,e){return dM.checkState(t.inputs.indexOf(this)>=0,"Signature has no matching input"),dM.checkState(this.output instanceof Xne,"output is not instance of Output"),this.output.script.isTaproot()?Yne.verify(t,e.signature,this.output.script.chunks[1].buf,mA.Version.TAPROOT,t.inputs.indexOf(this),null):!1};dh.prototype.isFullySigned=function(){return this.output.script.isTaproot()&&this.hasWitnesses()};dh.prototype.addSignature=function(t,e){return this.isValidSignature(t,e)&&this.setWitnesses([e.signature.toBuffer()]),this};dh.SCRIPT_MAX_SIZE=66;dh.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4;return t+=dh.SCRIPT_MAX_SIZE/e,t};Zne.exports=dh});var yA=$((e9t,q7)=>{B();k();q7.exports=$b();q7.exports.PublicKey=Mne();q7.exports.PublicKeyHash=iM();q7.exports.MultiSig=jne();q7.exports.MultiSigScriptHash=Gne();q7.exports.Taproot=Jne()});var fh=$((n9t,tie)=>{"use strict";B();k();var Q4=ho(),hM=Aa(),NBe=ql(),DBe=yf(),HBe=fu(),LBe=ou(),UBe=Ss(),eie=G4(),Qne=qr(),pM=Mr(),$Be="0000000000000000000000000000000000000000000000000000000000000001",qBe="ffffffffffffffff",bM=function(e,r,n,i){var s=bA(),u=yA();n=parseInt(n);var o,a=s.shallowCopy(e);for(i=new hM(i),i.removeCodeseparators(),o=0;o<a.inputs.length;o++)a.inputs[o]=new u(a.inputs[o]).setScript(hM.empty());if(a.inputs[n]=new u(a.inputs[n]).setScript(i),(r&31)===Q4.SIGHASH_NONE||(r&31)===Q4.SIGHASH_SINGLE)for(o=0;o<a.inputs.length;o++)o!==n&&(a.inputs[o].sequenceNumber=0);if((r&31)===Q4.SIGHASH_NONE)a.outputs=[];else if((r&31)===Q4.SIGHASH_SINGLE){if(n>=a.outputs.length)return I.Buffer.from($Be,"hex");for(a.outputs.length=n+1,o=0;o<n;o++)a.outputs[o]=new NBe({satoshis:LBe.fromBuffer(I.Buffer.from(qBe,"hex")),script:hM.empty()})}r&Q4.SIGHASH_ANYONECANPAY&&(a.inputs=[a.inputs[n]]);var l=new HBe().write(a.toBuffer()).writeInt32LE(r).toBuffer(),f=UBe.sha256sha256(l);return f=new DBe(f).readReverse(),f};function jBe(t,e,r,n,i){let s=bM(t,r,n,i);return eie.sign(s,e,"little").set({nhashtype:r})}function KBe(t,e,r,n,i){Qne.checkArgument(!pM.isUndefined(t),"Transaction Undefined"),Qne.checkArgument(!pM.isUndefined(e)&&!pM.isUndefined(e.nhashtype),"Signature Undefined");let s=bM(t,e.nhashtype,n,i);return eie.verify(s,e,r,"little")}tie.exports={sighash:bM,sign:jBe,verify:KBe}});var SA=$((u9t,rie)=>{"use strict";B();k();var gM=Mr(),vA=ec(),zBe=qr(),j7={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function yr(t,e){if(!(this instanceof yr))return new yr(t,e);if(gM.isNumber(e)){if(e<=0)throw new vA.Unit.InvalidRate(e);t=t/e,e=yr.BTC}this._value=this._from(t,e);var r=this,n=function(i){Object.defineProperty(r,i,{get:function(){return r.to(i)},enumerable:!0})};Object.keys(j7).forEach(n)}Object.keys(j7).forEach(function(t){yr[t]=t});yr.fromObject=function(e){return zBe.checkArgument(gM.isObject(e),"Argument is expected to be an object"),new yr(e.amount,e.code)};yr.fromBTC=function(t){return new yr(t,yr.BTC)};yr.fromMillis=yr.fromMilis=function(t){return new yr(t,yr.mBTC)};yr.fromMicros=yr.fromBits=function(t){return new yr(t,yr.bits)};yr.fromSatoshis=function(t){return new yr(t,yr.satoshis)};yr.fromFiat=function(t,e){return new yr(t,e)};yr.prototype._from=function(t,e){if(!j7[e])throw new vA.Unit.UnknownCode(e);return parseInt((t*j7[e][0]).toFixed())};yr.prototype.to=function(t){if(gM.isNumber(t)){if(t<=0)throw new vA.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!j7[t])throw new vA.Unit.UnknownCode(t);var e=this._value/j7[t][0];return parseFloat(e.toFixed(j7[t][1]))};yr.prototype.toBTC=function(){return this.to(yr.BTC)};yr.prototype.toMillis=yr.prototype.toMilis=function(){return this.to(yr.mBTC)};yr.prototype.toMicros=yr.prototype.toBits=function(){return this.to(yr.bits)};yr.prototype.toSatoshis=function(){return this.to(yr.satoshis)};yr.prototype.atRate=function(t){return this.to(t)};yr.prototype.toString=function(){return this.satoshis+" satoshis"};yr.prototype.toObject=yr.prototype.toJSON=function(){return{amount:this.BTC,code:yr.BTC}};yr.prototype.inspect=function(){return"<Unit: "+this.toString()+">"};rie.exports=yr});var mM=$((c9t,sie)=>{"use strict";B();k();var hh=Mr(),_A=qr(),nie=Yi(),VBe=Aa(),GBe=xf(),iie=SA();function ph(t){if(!(this instanceof ph))return new ph(t);_A.checkArgument(hh.isObject(t),"Must provide an object from where to extract data");var e=t.address?new GBe(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!nie.isHexaString(r)||r.length>64)throw new Error("Invalid TXID in object",t);var n=hh.isUndefined(t.vout)?t.outputIndex:t.vout;if(!hh.isNumber(n))throw new Error("Invalid outputIndex, received "+n);_A.checkArgument(!hh.isUndefined(t.scriptPubKey)||!hh.isUndefined(t.script),"Must provide the scriptPubKey for that output!");var i=new VBe(t.scriptPubKey||t.script);_A.checkArgument(!hh.isUndefined(t.amount)||!hh.isUndefined(t.satoshis),"Must provide an amount for the output");var s=hh.isUndefined(t.amount)?t.satoshis:new iie.fromBTC(t.amount).toSatoshis();_A.checkArgument(hh.isNumber(s),"Amount must be a number"),nie.defineImmutable(this,{address:e,txId:r,outputIndex:n,script:i,satoshis:s})}ph.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"};ph.prototype.toString=function(){return this.txId+":"+this.outputIndex};ph.fromObject=function(t){return new ph(t)};ph.prototype.toObject=ph.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:iie.fromSatoshis(this.satoshis).toBTC()}};sie.exports=ph});var bA=$((d9t,fie)=>{"use strict";B();k();var s1=Mr(),di=qr(),WBe=us(),uie=I.Buffer.compare||vne(),Rs=ec(),YBe=ti(),EA=Yi(),yM=yf(),zb=fu(),vM=Ss(),Kb=ho(),XBe=fh(),ZBe=Hb(),JBe=Y4(),QBe=xf(),oie=mM(),qi=yA(),eke=qi.PublicKeyHash,tke=qi.PublicKey,rke=qi.MultiSigScriptHash,nke=qi.MultiSig,ike=qi.Taproot,u1=ql(),i1=Aa(),ske=r1(),wA=ou();function Ie(t,e){if(!(this instanceof Ie))return new Ie(t);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof Ie)return Ie.shallowCopy(t);if(EA.isHexa(t))this.fromString(t);else if(YBe.isBuffer(t))this.fromBuffer(t);else if(s1.isObject(t))this.fromObject(t,e);else throw new Rs.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var aie=2,uke=0,oke=1e6;Ie.DUST_AMOUNT=546;Ie.FEE_SECURITY_MARGIN=150;Ie.MAX_MONEY=21e6*1e8;Ie.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8;Ie.NLOCKTIME_MAX_VALUE=4294967295;Ie.FEE_PER_KB=1e5;Ie.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;Ie.MAXIMUM_EXTRA_SIZE=4+9+9+4;Ie.shallowCopy=function(t){var e=new Ie(t.toBuffer());return e};var cie={configurable:!1,enumerable:!0,get:function(){return this._hash=new yM(this._getHash()).readReverse().toString("hex"),this._hash}},ake={configurable:!1,enumerable:!0,get:function(){return new yM(this._getWitnessHash()).readReverse().toString("hex")}};Object.defineProperty(Ie.prototype,"witnessHash",ake);Object.defineProperty(Ie.prototype,"hash",cie);Object.defineProperty(Ie.prototype,"id",cie);var SM={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(Ie.prototype,"inputAmount",SM);SM.get=function(){return this._getOutputAmount()};Object.defineProperty(Ie.prototype,"outputAmount",SM);Object.defineProperty(Ie.prototype,"size",{configurable:!1,enumerable:!1,get:function(){return this._calculateSize()}});Object.defineProperty(Ie.prototype,"vsize",{configurable:!1,enumerable:!1,get:function(){return this._calculateVSize()}});Object.defineProperty(Ie.prototype,"weight",{configurable:!1,enumerable:!1,get:function(){return this._calculateWeight()}});Ie.prototype._getHash=function(){return vM.sha256sha256(this.toBuffer(!0))};Ie.prototype._getWitnessHash=function(){return vM.sha256sha256(this.toBuffer(!1))};Ie.prototype.serialize=function(t){return t===!0||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)};Ie.prototype.uncheckedSerialize=Ie.prototype.toString=function(){return this.toBuffer().toString("hex")};Ie.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=" - For more information please see: https://github.com/bitpay/bitcore/blob/master/packages/bitcore-lib/docs/transaction.md#serialization-checks",e;return this.uncheckedSerialize()};Ie.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t};Ie.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new Rs.Transaction.InvalidSatoshis;var e=this._getUnspentValue(),r;return e<0?t.disableMoreOutputThanInput||(r=new Rs.Transaction.InvalidOutputAmountSum):r=this._hasFeeError(t,e),r||this._hasDustOutputs(t)||this._isMissingSignatures(t)};Ie.prototype._hasFeeError=function(t,e){if(this._fee!=null&&this._fee!==e)return new Rs.Transaction.FeeError.Different("Unspent value is "+e+" but specified fee is "+this._fee);if(!t.disableLargeFees){var r=Math.floor(Ie.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new Rs.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new Rs.Transaction.FeeError.TooLarge("expected less than "+r+" but got "+e)}if(!t.disableSmallFees){var n=Math.ceil(this._estimateFee()/Ie.FEE_SECURITY_MARGIN);if(e<n)return new Rs.Transaction.FeeError.TooSmall("expected more than "+n+" but got "+e)}};Ie.prototype._missingChange=function(){return!this._changeScript};Ie.prototype._hasDustOutputs=function(t){if(!t.disableDustOutputs){var e,r;for(e in this.outputs)if(r=this.outputs[e],r.satoshis<Ie.DUST_AMOUNT&&!r.script.isDataOut())return new Rs.Transaction.DustOutputs}};Ie.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned&&!this.isFullySigned())return new Rs.Transaction.MissingSignatures};Ie.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"};Ie.prototype.toBuffer=function(t){var e=new zb;return this.toBufferWriter(e,t).toBuffer()};Ie.prototype.hasWitnesses=function(){for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].hasWitnesses())return!0;return!1};Ie.prototype.toBufferWriter=function(t,e){t.writeInt32LE(this.version);let r=this.hasWitnesses();r&&!e&&t.write(I.Buffer.from("0001","hex")),t.writeVarintNum(this.inputs?this.inputs.length:0);for(let n of this.inputs||[])n.toBufferWriter(t);t.writeVarintNum(this.outputs?this.outputs.length:0);for(let n of this.outputs||[])n.toBufferWriter(t);if(r&&!e)for(let n of this.inputs){let i=n.getWitnesses();t.writeVarintNum(i.length);for(let s=0;s<i.length;s++)t.writeVarintNum(i[s].length),t.write(i[s])}return t.writeUInt32LE(this.nLockTime),t};Ie.prototype.fromBuffer=function(t){var e=new yM(t);return this.fromBufferReader(e)};Ie.prototype.fromBufferReader=function(t){di.checkArgument(!t.finished(),"No transaction data received"),this.version=t.readInt32LE();var e=t.readVarintNum(),r=!1;e===0&&t.buf[t.pos]!==0&&(t.pos+=1,r=!0,e=t.readVarintNum());for(var n=0;n<e;n++){var i=qi.fromBufferReader(t);this.inputs.push(i)}for(var s=t.readVarintNum(),u=0;u<s;u++)this.outputs.push(u1.fromBufferReader(t));if(r)for(var o=0;o<e;o++){for(var a=t.readVarintNum(),l=[],f=0;f<a;f++){var c=t.readVarintNum(),h=t.read(c);l.push(h)}this.inputs[o].setWitnesses(l)}return this.nLockTime=t.readUInt32LE(),this};Ie.prototype.toObject=Ie.prototype.toJSON=function(){var e=[];this.inputs.forEach(function(i){e.push(i.toObject())});var r=[];this.outputs.forEach(function(i){r.push(i.toObject())});var n={hash:this.hash,version:this.version,inputs:e,outputs:r,nLockTime:this.nLockTime};return this._changeScript&&(n.changeScript=this._changeScript.toString()),this._changeIndex!=null&&(n.changeIndex=this._changeIndex),this._fee!=null&&(n.fee=this._fee),n};Ie.prototype.fromObject=function(e,r){di.checkArgument(s1.isObject(e)||e instanceof Ie);var n;e instanceof Ie?n=e.toObject():n=e;for(let u of n.inputs||[]){if(!u.output||!u.output.script){this.uncheckedAddInput(new qi(u));continue}var i=new i1(u.output.script),s;if((i.isScriptHashOut()||i.isWitnessScriptHashOut())&&u.publicKeys&&u.threshold)s=new qi.MultiSigScriptHash(u,u.publicKeys,u.threshold,u.signatures,r);else if(i.isPublicKeyHashOut()||i.isWitnessPublicKeyHashOut()||i.isScriptHashOut())s=new qi.PublicKeyHash(u);else if(i.isPublicKeyOut())s=new qi.PublicKey(u);else throw new Rs.Transaction.Input.UnsupportedScript(u.output.script);this.addInput(s)}for(let u of n.outputs||[])this.addOutput(new u1(u));return n.changeIndex&&(this._changeIndex=n.changeIndex),n.changeScript&&(this._changeScript=new i1(n.changeScript)),n.fee&&(this._fee=n.fee),this.nLockTime=n.nLockTime,this.version=n.version,this._checkConsistency(e),this};Ie.prototype._checkConsistency=function(t){this._changeIndex!=null&&(di.checkState(this._changeScript,"Change script is expected."),di.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),di.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),t&&t.hash&&di.checkState(t.hash===this.hash,"Hash in object does not match transaction hash.")};Ie.prototype.lockUntilDate=function(t){if(di.checkArgument(t),!isNaN(t)&&t<Ie.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Rs.Transaction.LockTimeTooEarly;s1.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===qi.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=qi.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};Ie.prototype.lockUntilBlockHeight=function(t){if(di.checkArgument(!isNaN(t)),t>=Ie.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Rs.Transaction.BlockHeightTooHigh;if(t<0)throw new Rs.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===qi.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=qi.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};Ie.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<Ie.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null};Ie.prototype.fromString=function(t){this.fromBuffer(WBe.Buffer.from(t,"hex"))};Ie.prototype._newTransaction=function(){this.version=aie,this.nLockTime=uke};Ie.prototype.from=function(t,e,r,n){if(Array.isArray(t)){for(let s of t)this.from(s,e,r,n);return this}return this.inputs.some(function(s){return s.prevTxId.toString("hex")===t.txId&&s.outputIndex===t.outputIndex})?this:(e&&r?this._fromMultisigUtxo(t,e,r,n):this._fromNonP2SH(t,n),this)};Ie.prototype.associateInputs=function(t,e,r,n={}){let i=[];for(let s of t){let u=this.inputs.findIndex(o=>o.prevTxId.toString("hex")===s.txId&&o.outputIndex===s.outputIndex);if(i.push(u),u>=0){let o=this.inputs[u].sequenceNumber;this.inputs[u]=this._getInputFrom(s,e,r,n),this.inputs[u].sequenceNumber=o}}return i};Ie.prototype._selectInputType=function(t,e,r){var n;return t=new oie(t),e&&r?t.script.isMultisigOut()?n=nke:(t.script.isScriptHashOut()||t.script.isWitnessScriptHashOut())&&(n=rke):t.script.isPublicKeyHashOut()||t.script.isWitnessPublicKeyHashOut()||t.script.isScriptHashOut()?n=eke:t.script.isTaproot()?n=ike:t.script.isPublicKeyOut()?n=tke:n=qi,n};Ie.prototype._getInputFrom=function(t,e,r,n={}){t=new oie(t);let i=this._selectInputType(t,e,r),s={output:new u1({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,sequenceNumber:n.sequenceNumber,script:i1.empty()},u=e&&r?[e,r,!1,n]:[];return new i(s,...u)};Ie.prototype._fromNonP2SH=function(t,e){let r=this._getInputFrom(t,null,null,e);this.addInput(r)};Ie.prototype._fromMultisigUtxo=function(t,e,r,n){di.checkArgument(r<=e.length,"Number of required signatures must be greater than the number of public keys");let i=this._getInputFrom(t,e,r,n);this.addInput(i)};Ie.prototype.addInput=function(t,e,r){if(di.checkArgumentType(t,qi,"input"),!t.output&&(e==null||r==null))throw new Rs.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!t.output&&e&&r!=null&&(e=e instanceof i1?e:new i1(e),di.checkArgumentType(r,"number","satoshis"),t.output=new u1({script:e,satoshis:r})),this.uncheckedAddInput(t)};Ie.prototype.uncheckedAddInput=function(t){return di.checkArgumentType(t,qi,"input"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this};Ie.prototype.hasAllUtxoInfo=function(){return this.inputs.every(function(t){return!!t.output})};Ie.prototype.fee=function(t){return di.checkArgument(!isNaN(t),"amount must be a number"),this._fee=t,this._updateChangeOutput(),this};Ie.prototype.feePerKb=function(t){return di.checkArgument(!isNaN(t),"amount must be a number"),this._feePerKb=t,this._updateChangeOutput(),this};Ie.prototype.feePerByte=function(t){return di.checkArgument(!isNaN(t),"amount must be a number"),this._feePerByte=t,this._updateChangeOutput(),this};Ie.prototype.change=function(t){return di.checkArgument(t,"address is required"),this._changeScript=i1.fromAddress(t),this._updateChangeOutput(),this};Ie.prototype.getChangeOutput=function(){return this._changeIndex!=null?this.outputs[this._changeIndex]:null};Ie.prototype.to=function(t,e){if(Array.isArray(t)){for(let r of t)this.to(r.address,r.satoshis);return this}return di.checkArgument(EA.isNaturalNumber(e),"Amount is expected to be a positive integer"),this.addOutput(new u1({script:i1(new QBe(t)),satoshis:e})),this};Ie.prototype.addData=function(t){return this.addOutput(new u1({script:i1.buildDataOut(t),satoshis:0})),this};Ie.prototype.addOutput=function(t){return di.checkArgumentType(t,u1,"output"),this._addOutput(t),this._updateChangeOutput(),this};Ie.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this};Ie.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0};Ie.prototype._getOutputAmount=function(){if(this._outputAmount==null){var t=this;this._outputAmount=0;for(let e of this.outputs||[])t._outputAmount+=e.satoshis}return this._outputAmount};Ie.prototype._getInputAmount=function(){return this._inputAmount==null&&(this._inputAmount=s1.sumBy(this.inputs,function(t){if(t.output==null)throw new Rs.Transaction.Input.MissingPreviousOutput;return t.output.satoshis})),this._inputAmount};Ie.prototype._updateChangeOutput=function(t){if(!!this._changeScript){t||this._clearSignatures(),this._changeIndex!=null&&this._removeOutput(this._changeIndex);var e=this._getUnspentValue(),r=this.getFee(),n=e-r;n>Ie.DUST_AMOUNT?(this._changeIndex=this.outputs.length,this._addOutput(new u1({script:this._changeScript,satoshis:n}))):this._changeIndex=void 0}};Ie.prototype.getFee=function(){return this.isCoinbase()?0:this._fee!=null?this._fee:this._changeScript?this._estimateFee():this._getUnspentValue()};Ie.prototype._estimateFee=function(){let t=this._estimateSize(),e=this._getUnspentValue(),r=this._feePerByte||(this._feePerKb||Ie.FEE_PER_KB)/1e3;function n(u){return u*r}let i=Math.ceil(n(t)),s=Math.ceil(n(t)+n(this._estimateSizeOfChangeOutput()));return!this._changeScript||e<=s?i:s};Ie.prototype._estimateSizeOfChangeOutput=function(){if(!this._changeScript)return 0;let t=this._changeScript.toBuffer().length;return 8+zb.varintBufNum(t).length+t};Ie.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()};Ie.prototype._clearSignatures=function(){for(let t of this.inputs||[])t.clearSignatures()};Ie.prototype._estimateSize=function(){let t=4;this.hasWitnesses()&&(t+=.5),t+=zb.varintBufNum(this.inputs.length).length;for(let e of this.inputs||[])t+=e._estimateSize();t+=zb.varintBufNum(this.outputs.length).length;for(let e of this.outputs||[])t+=e.calculateSize();return t+=4,Math.ceil(t)};Ie.prototype._calculateSize=function(){return this.toBuffer().length};Ie.prototype._calculateVSize=function(t){let e=this._calculateWeight()/4;return t?e:Math.ceil(e)};Ie.prototype._calculateWeight=function(){return this.toBuffer(!0).length*3+this.toBuffer(!1).length};Ie.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=s1.without(this.outputs,e),this._outputAmount=void 0};Ie.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()};Ie.prototype.sort=function(){return this.sortInputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return uie(n.prevTxId,i.prevTxId)||n.outputIndex-i.outputIndex||n.i-i.i}),e}),this.sortOutputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return n.satoshis-i.satoshis||uie(n.script.toBuffer(),i.script.toBuffer())||n.i-i.i}),e}),this};Ie.prototype.shuffleOutputs=function(){return this.sortOutputs(s1.shuffle)};Ie.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)};Ie.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this};Ie.prototype._newOutputOrder=function(t){var e=this.outputs.length!==t.length||s1.difference(this.outputs,t).length!==0;if(e)throw new Rs.Transaction.InvalidSorting;if(this._changeIndex!=null){var r=this.outputs[this._changeIndex];this._changeIndex=t.indexOf(r)}return this.outputs=t,this};Ie.prototype.removeInput=function(t,e){var r;if(!e&&!isNaN(t)?r=t:r=this.inputs.findIndex(function(i){return i.prevTxId.toString("hex")===t&&i.outputIndex===e}),r<0||r>=this.inputs.length)throw new Rs.Transaction.InvalidIndex(r,this.inputs.length);var n=this.inputs[r];this.inputs=s1.without(this.inputs,n),this._inputAmount=void 0,this._updateChangeOutput()};Ie.prototype.sign=function(t,e,r,n){if(di.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction."),Array.isArray(t)){for(let i of t)this.sign(i,e,r,n);return this}for(let i of this.getSignatures(t,e,r,n))this.applySignature(i,r);return this};Ie.prototype.getSignatures=function(t,e,r,n){typeof n=="string"&&(n=I.Buffer.from(n,"hex")),t=new ske(t);let i=[],s=vM.sha256ripemd160(t.publicKey.toBuffer());for(let u=0;u<this.inputs.length;u++){let o=this.inputs[u];for(let a of o.getSignatures(this,t,u,e,s,r,n))i.push(a)}return i};Ie.prototype.applySignature=function(t,e){return this.inputs[t.inputIndex].addSignature(this,t,e),this};Ie.prototype.isFullySigned=function(){for(let t of this.inputs||[])if(t.isFullySigned===qi.prototype.isFullySigned)throw new Rs.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs.every(function(t){return t.isFullySigned()})};Ie.prototype.isValidSignature=function(t,e){if(this.inputs[t.inputIndex].isValidSignature===qi.prototype.isValidSignature)throw new Rs.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[t.inputIndex].isValidSignature(this,t,e)};Ie.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),u=new zb;u.writeVarintNum(s.length),u.write(s);var o;i?(di.checkState(EA.isNaturalNumber(i),"satoshis needs to be a natural number"),o=new zb().writeUInt64LEBN(new wA(i)).toBuffer()):o=this.inputs[r].getSatoshisBuffer();var a=ZBe.verify(this,t,e,r,u.toBuffer(),o);return a};Ie.prototype.checkSchnorrSignature=function(t,e,r,n,i){if(di.isType(e,"PublicKey")&&(e=e.point.x.toBuffer()),di.checkArgument(e&&e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),I.Buffer.isBuffer(t)){if(t.length!==64&&t.length!==65)return!1;t=Kb.fromSchnorr(t)}return di.checkArgument(t.isSchnorr,"Signature must be schnorr"),!!JBe.verify(this,t,e,n,r,i)};Ie.prototype.verifySignature=function(t,e,r,n,i,s,u){switch(i==null&&(i=Kb.Version.BASE),i){case Kb.Version.WITNESS_V0:return this.checkEcdsaSignature(t,e,r,n,s);case Kb.Version.TAPROOT:case Kb.Version.TAPSCRIPT:return this.checkSchnorrSignature(t,e,r,i,u);case Kb.Version.BASE:default:return XBe.verify(this,t,e,r,n)}};Ie.prototype.verify=function(){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var t=new wA(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return"transaction txout "+e+" satoshis is invalid";if(r._satoshisBN.gt(new wA(Ie.MAX_MONEY,10)))return"transaction txout "+e+" greater than MAX_MONEY";if(t=t.add(r._satoshisBN),t.gt(new wA(Ie.MAX_MONEY)))return"transaction txout "+e+" total output greater than MAX_MONEY"}if(this.toBuffer().length>oke)return"transaction over the maximum block size";var n={};for(e=0;e<this.inputs.length;e++){var i=this.inputs[e],s=i.prevTxId+":"+i.outputIndex;if(n[s]!=null)return"transaction input "+e+" duplicate input";n[s]=!0}var u=this.isCoinbase();if(u){var o=this.inputs[0]._scriptBuffer;if(o.length<2||o.length>100)return"coinbase transaction script size invalid"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return"transaction input "+e+" has null input";return!0};Ie.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()};Ie.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];if(e.sequenceNumber<qi.MAXINT-1)return!0}return!1};Ie.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=qi.MAXINT-1&&(e.sequenceNumber=qi.DEFAULT_RBF_SEQNUMBER)}return this};Ie.prototype.setVersion=function(t){return di.checkArgument(EA.isNaturalNumber(t)&&t<=aie,"Wrong version number"),this.version=t,this};fie.exports=Ie});var e8=$((b9t,bh)=>{B();k();bh.exports=bA();bh.exports.Input=yA();bh.exports.Output=ql();bh.exports.UnspentOutput=mM();bh.exports.Signature=$7();bh.exports.Sighash=fh();bh.exports.SighashWitness=Hb();bh.exports.SighashSchnorr=Y4()});var ZR=$((y9t,die)=>{"use strict";B();k();var Vb=Mr(),c0=qR(),ve=uA(),Yt=ou(),K7=Ss(),Kr=ho(),Gb=If(),f0=qr(),cke=Hb(),fke=Y4(),AA=fu(),lie=ah(),me=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};me.prototype.verifyWitnessProgram=function(t,e,r,n,i,s){var u=new c0,o=[];if(t===0)if(e.length===me.WITNESS_V0_SCRIPTHASH_SIZE){if(r.length===0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;var a=r[r.length-1];u=new c0(a);var l=K7.sha256(a);return l.toString("hex")!==e.toString("hex")?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(o=r.slice(0,-1),this.executeWitnessScript(u,o,Kr.Version.WITNESS_V0,n,i))}else return e.length===me.WITNESS_V0_KEYHASH_SIZE?r.length!==2?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(u.add(ve.OP_DUP),u.add(ve.OP_HASH160),u.add(e),u.add(ve.OP_EQUALVERIFY),u.add(ve.OP_CHECKSIG),o=r,this.executeWitnessScript(u,o,Kr.Version.WITNESS_V0,n,i)):(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH",!1);else if(t===1&&e.length==me.WITNESS_V1_TAPROOT_SIZE&&!s){let f={annexPresent:!1};if(!(i&me.SCRIPT_VERIFY_TAPROOT))return!0;if(o=Array.from(r),o.length==0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;if(o.length>=2&&o[o.length-1].length&&o[o.length-1][0]===c0.ANNEX_TAG){let c=o.pop(),h=new AA;h.writeVarintNum(c.length),h.write(c),f.annexHash=K7.sha256(h.toBuffer()),f.annexPresent=!0}if(f.annexInit=!0,o.length===1)return this.checkSchnorrSignature(o[0],e,Kr.Version.TAPROOT,f);{let c=o.pop(),h=o.pop();if(c.length<me.TAPROOT_CONTROL_BASE_SIZE||c.length>me.TAPROOT_CONTROL_MAX_SIZE||(c.length-me.TAPROOT_CONTROL_BASE_SIZE)%me.TAPROOT_CONTROL_NODE_SIZE!=0)return this.errstr="SCRIPT_ERR_TAPROOT_WRONG_CONTROL_SIZE",!1;if(f.tapleafHash=me.computeTapleafHash(c[0]&me.TAPROOT_LEAF_MASK,h),!me.verifyTaprootCommitment(c,e,f.tapleafHash))return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;if(f.tapleafHashInit=!0,(c[0]&me.TAPROOT_LEAF_MASK)===me.TAPROOT_LEAF_TAPSCRIPT){let d;{let p=new AA;p.writeVarintNum(r.length);for(let m of r)p.writeVarintNum(m.length),p.write(m);d=p.toBuffer().length}try{u=new c0(h)}catch{return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return f.validationWeightLeft=d+c0.VALIDATION_WEIGHT_OFFSET,f.validationWeightLeftInit=!0,this.executeWitnessScript(u,o,Kr.Version.TAPSCRIPT,n,i,f)}return i&me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION?(this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION",!1):!0}}else if(i&me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM",!1;return!0};me.prototype.executeWitnessScript=function(t,e,r,n,i,s){if(r===Kr.Version.TAPSCRIPT){for(let o of t.chunks)if(ve.isOpSuccess(o.opcodenum))return i&me.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS?(this.errstr="SCRIPT_ERR_DISCOURAGE_OP_SUCCESS",!1):!0;if(e.length>me.MAX_STACK_SIZE)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}if(e.length&&e.some(o=>o.length>me.MAX_SCRIPT_ELEMENT_SIZE))return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(this.initialize(),this.set({script:t,stack:e,sigversion:r,satoshis:n,flags:i,execdata:s}),!this.evaluate())return!1;if(this.stack.length!==1)return this.errstr="SCRIPT_ERR_EVAL_FALSE",!1;var u=this.stack[this.stack.length-1];return me.castToBool(u)?!0:(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1)};me.prototype.verify=function(t,e,r,n,i,s,u){var o=e8();Vb.isUndefined(r)&&(r=new o),Vb.isUndefined(n)&&(n=0),Vb.isUndefined(i)&&(i=0),Vb.isUndefined(s)&&(s=null),Vb.isUndefined(u)&&(u=0),this.set({script:t,tx:r,nin:n,sigversion:Kr.Version.BASE,satoshis:0,flags:i});var a;if((i&me.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;i&me.SCRIPT_VERIFY_P2SH&&(a=this.stack.slice());var l=this.stack;if(this.initialize(),this.set({script:e,stack:l,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var f=this.stack[this.stack.length-1];if(!me.castToBool(f))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;var c=!1;if(i&me.SCRIPT_VERIFY_WITNESS){var h={};if(e.isWitnessProgram(h)){if(c=!0,t.toBuffer().length!==0)return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED",!1;if(!this.verifyWitnessProgram(h.version,h.program,s,u,this.flags,!1))return!1}}if(i&me.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(a.length===0)throw new Error("internal error - stack copy empty");var d=a[a.length-1],p=c0.fromBuffer(d);if(a.pop(),this.initialize(),this.set({script:p,stack:a,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(a.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!me.castToBool(a[a.length-1]))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1;if(i&me.SCRIPT_VERIFY_WITNESS){var m={};if(p.isWitnessProgram(m)){c=!0;var w=new c0;if(w.add(p.toBuffer()),t.toHex()!==w.toHex())return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED_P2SH",!1;if(!this.verifyWitnessProgram(m.version,m.program,s,u,this.flags,!0))return!1;l=[l[0]]}}}if((this.flags&me.SCRIPT_VERIFY_CLEANSTACK)!=0){if((this.flags&me.SCRIPT_VERIFY_P2SH)==0||(this.flags&me.SCRIPT_VERIFY_WITNESS)==0)throw"flags & SCRIPT_VERIFY_P2SH";if(a.length!=1)return this.errstr="SCRIPT_ERR_CLEANSTACK",!1}return this.flags&me.SCRIPT_VERIFY_WITNESS&&!c&&s.length>0?(this.errstr="SCRIPT_ERR_WITNESS_UNEXPECTED",!1):!0};die.exports=me;me.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.satoshis=0,this.sigversion=Kr.Version.BASE,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.execdata={}};me.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=typeof t.nin>"u"?this.nin:parseInt(t.nin),this.stack=t.stack||this.stack,this.altstack=t.altstack||this.altstack,this.pc=typeof t.pc>"u"?this.pc:t.pc,this.pbegincodehash=typeof t.pbegincodehash>"u"?this.pbegincodehash:t.pbegincodehash,this.sigversion=typeof t.sigversion>"u"?this.sigversion:t.sigversion,this.satoshis=typeof t.satoshis>"u"?this.satoshis:t.satoshis,this.nOpCount=typeof t.nOpCount>"u"?this.nOpCount:t.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=typeof t.flags>"u"?this.flags:t.flags,this.execdata=typeof t.execdata>"u"?this.execdata:t.execdata||{}};me.true=I.Buffer.from([1]);me.false=I.Buffer.from([]);me.MAX_SCRIPT_SIZE=1e4;me.MAX_STACK_SIZE=1e3;me.MAX_SCRIPT_ELEMENT_SIZE=520;me.LOCKTIME_THRESHOLD=5e8;me.LOCKTIME_THRESHOLD_BN=new Yt(me.LOCKTIME_THRESHOLD);me.SCRIPT_VERIFY_NONE=0;me.SCRIPT_VERIFY_P2SH=1<<0;me.SCRIPT_VERIFY_STRICTENC=1<<1;me.SCRIPT_VERIFY_DERSIG=1<<2;me.SCRIPT_VERIFY_LOW_S=1<<3;me.SCRIPT_VERIFY_NULLDUMMY=1<<4;me.SCRIPT_VERIFY_SIGPUSHONLY=1<<5;me.SCRIPT_VERIFY_MINIMALDATA=1<<6;me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=1<<7;me.SCRIPT_VERIFY_CLEANSTACK=1<<8,me.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=1<<9;me.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1<<10;me.SCRIPT_VERIFY_WITNESS=1<<11;me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM=1<<12;me.SCRIPT_VERIFY_MINIMALIF=1<<13;me.SCRIPT_VERIFY_NULLFAIL=1<<14;me.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE=1<<15;me.SCRIPT_ENABLE_SIGHASH_FORKID=1<<16;me.SCRIPT_ENABLE_REPLAY_PROTECTION=1<<17;me.SCRIPT_VERIFY_CONST_SCRIPTCODE=1<<16;me.SCRIPT_VERIFY_TAPROOT=1<<17;me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION=1<<18;me.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS=1<<19;me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE=1<<20;me.SEQUENCE_LOCKTIME_DISABLE_FLAG=1<<31;me.SEQUENCE_LOCKTIME_TYPE_FLAG=1<<22;me.SEQUENCE_LOCKTIME_MASK=65535;me.WITNESS_V0_SCRIPTHASH_SIZE=32;me.WITNESS_V0_KEYHASH_SIZE=20;me.WITNESS_V1_TAPROOT_SIZE=32;me.TAPROOT_LEAF_MASK=254;me.TAPROOT_LEAF_TAPSCRIPT=192;me.TAPROOT_CONTROL_BASE_SIZE=33;me.TAPROOT_CONTROL_NODE_SIZE=32;me.TAPROOT_CONTROL_MAX_NODE_COUNT=128;me.TAPROOT_CONTROL_MAX_SIZE=me.TAPROOT_CONTROL_BASE_SIZE+me.TAPROOT_CONTROL_NODE_SIZE*me.TAPROOT_CONTROL_MAX_NODE_COUNT;me.PROTOCOL_VERSION=70016;me.castToBool=function(t){for(var e=0;e<t.length;e++)if(t[e]!==0)return!(e===t.length-1&&t[e]===128);return!1};me.prototype.checkSignatureEncoding=function(t){var e;if(t.length==0)return!0;if((this.flags&(me.SCRIPT_VERIFY_DERSIG|me.SCRIPT_VERIFY_LOW_S|me.SCRIPT_VERIFY_STRICTENC))!==0&&!Kr.isTxDER(t))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&me.SCRIPT_VERIFY_LOW_S)!==0){if(e=Kr.fromTxFormat(t),!e.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&me.SCRIPT_VERIFY_STRICTENC)!==0&&(e=Kr.fromTxFormat(t),!e.hasDefinedHashtype()))return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0};me.prototype.checkPubkeyEncoding=function(t){return(this.flags&me.SCRIPT_VERIFY_STRICTENC)!==0&&!Gb.isValid(t)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):(this.flags&me.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE)!=0&&this.sigversion==Kr.Version.WITNESS_V0&&!Gb.fromBuffer(t).compressed?(this.errstr="SCRIPT_ERR_WITNESS_PUBKEYTYPE",!1):!0};me.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),u=new AA;u.writeVarintNum(s.length),u.write(s),f0.checkState(JSUtil.isNaturalNumber(i));var o=new AA().writeUInt64LEBN(new Yt(i)).toBuffer(),a=cke.verify(this,t,e,r,u.toBuffer(),o);return a};me.prototype.checkSchnorrSignature=function(t,e,r,n){return f0.checkArgument(t&&I.Buffer.isBuffer(t),"Missing sig"),f0.checkArgument(e&&I.Buffer.isBuffer(e),"Missing pubkey"),f0.checkArgument(r,"Missing sigversion"),f0.checkArgument(n,"Missing execdata"),f0.checkArgument(e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),t.length===64||t.length===65?t.length===65&&t[t.length-1]===Kr.SIGHASH_DEFAULT?(this.errstr="SCRIPT_ERR_SCHNORR_SIG_HASHTYPE",!1):(t=Kr.fromSchnorr(t),fke.verify(this.tx,t,e,r,this.nin,n)):(this.errstr="SCRIPT_ERR_SCHNORR_SIG_SIZE",!1)};me.prototype._evalChecksigPreTapscript=function(t,e){f0.checkArgument(this.sigversion===Kr.Version.BASE||this.sigversion===Kr.Version.WITNESS_V0,"sigversion must be base or witness_v0");let r={success:!1,result:!1},n=new c0().set({chunks:this.script.chunks.slice(this.pbegincodehash)});if(this.sigversion===Kr.Version.BASE){let i=new c0().add(t),s=n.chunks.length;if(n.findAndDelete(i),s=s==n.chunks.length+1,s&&this.flags&me.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_SIG_FINDANDDELETE",r}if(!this.checkSignatureEncoding(t)||!this.checkPubkeyEncoding(e))return r;try{let i=Kr.fromTxFormat(t),s=Gb.fromBuffer(e,!1);r.success=this.tx.verifySignature(i,s,this.nin,n,this.sigversion,this.satoshis)}catch{r.success=!1}return!r.success&&this.flags&me.SCRIPT_VERIFY_NULLFAIL&&t.length?(this.errstr="SCRIPT_ERR_SIG_NULLFAIL",r):(r.result=!0,r)};me.prototype._evalChecksigTapscript=function(t,e){f0.checkArgument(this.sigversion==Kr.Version.TAPSCRIPT,"this.sigversion must by TAPSCRIPT");let r={success:t.length>0,result:!1};if(r.success&&(f0.checkState(this.execdata.validationWeightLeftInit,"validationWeightLeftInit is false"),this.execdata.validationWeightLeft-=c0.VALIDATION_WEIGHT_PER_SIGOP_PASSED,this.execdata.validationWeightLeft<0))return this.errstr="SCRIPT_ERR_TAPSCRIPT_VALIDATION_WEIGHT",r;if(e.length===0)return this.errstr="SCRIPT_ERR_PUBKEYTYPE",r;if(e.length==32){if(r.success&&!this.tx.checkSchnorrSignature(t,e,this.nin,this.sigversion,this.execdata))return this.errstr="SCRIPT_ERR_SCHNORR_SIG",r}else if((this.flags&me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE)!=0)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_PUBKEYTYPE",r;return r.result=!0,r};me.prototype._evalCheckSig=function(t,e){switch(this.sigversion){case Kr.Version.BASE:case Kr.Version.WITNESS_V0:return this._evalChecksigPreTapscript(t,e);case Kr.Version.TAPSCRIPT:return this._evalChecksigTapscript(t,e);case Kr.Version.TAPROOT:throw new Error("Called evalCheckSig with a TAPROOT sigversion. Check your implementation")}};me.prototype.evaluate=function(){if(f0.checkArgument(this.sigversion==Kr.Version.BASE||this.sigversion==Kr.Version.WITNESS_V0||this.sigversion==Kr.Version.TAPSCRIPT,"invalid sigversion"),(this.sigversion==Kr.Version.BASE||this.sigversion==Kr.Version.WITNESS_V0)&&this.script.toBuffer().length>me.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;){var t=this.step();if(!t)return!1}}catch(e){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+e,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0};me.prototype.checkLockTime=function(t){return!(!(this.tx.nLockTime<me.LOCKTIME_THRESHOLD&&t.lt(me.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=me.LOCKTIME_THRESHOLD&&t.gte(me.LOCKTIME_THRESHOLD_BN))||t.gt(new Yt(this.tx.nLockTime))||!this.tx.inputs[this.nin].isFinal())};me.prototype.checkSequence=function(t){var e=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||e&me.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var r=me.SEQUENCE_LOCKTIME_TYPE_FLAG|me.SEQUENCE_LOCKTIME_MASK,n=new Yt(e&r),i=t.and(new Yt(r)),s=new Yt(me.SEQUENCE_LOCKTIME_TYPE_FLAG);return n.lt(s)&&i.lt(s)||n.gte(s)&&i.gte(s)?i.lte(n):!1};me.computeTapleafHash=function(t,e){let r=lie.TAPLEAF;return r.writeUInt8(t),r.writeVarintNum(e.length),r.write(e),r.finalize()};me.computeTaprootMerkleRoot=function(t,e){let r=(t.length-me.TAPROOT_CONTROL_BASE_SIZE)/me.TAPROOT_CONTROL_NODE_SIZE,n=e;for(let i=0;i<r;++i){let s=lie.TAPBRANCH,u=me.TAPROOT_CONTROL_BASE_SIZE+me.TAPROOT_CONTROL_NODE_SIZE*i,o=t.slice(u,u+me.TAPROOT_CONTROL_NODE_SIZE);I.Buffer.compare(n,o)===-1?(s.write(n),s.write(o)):(s.write(o),s.write(n)),n=s.finalize()}return n};me.verifyTaprootCommitment=function(t,e,r){f0.checkArgument(t.length>=me.TAPROOT_CONTROL_BASE_SIZE,"control too short"),f0.checkArgument(e.length>=32,"program is too short");try{let n=Gb.fromX(!1,t.slice(1,me.TAPROOT_CONTROL_BASE_SIZE));let i=Gb.fromX(!1,e),s=me.computeTaprootMerkleRoot(t,r);return i.checkTapTweak(n,s,t)}catch{return!1}};me.prototype.step=function(){var t=(this.flags&me.SCRIPT_VERIFY_MINIMALDATA)!==0,e=this.vfExec.indexOf(!1)===-1,r,n,i,s,u,o,a,l,f,c,h,d,p,m,w,x,_;this.execdata=this.execdata||{},this.execdata.codeseparatorPosInit||(this.execdata.codeseparatorPos=new Yt(4294967295),this.execdata.codeseparatorPosInit=!0);var y=this.script.chunks[this.pc];this.pc++;var S=y.opcodenum;if(Vb.isUndefined(S))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(y.buf&&y.buf.length>me.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if((this.sigversion===Kr.Version.BASE||this.sigversion===Kr.Version.WITNESS_V0)&&S>ve.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(S===ve.OP_SUBSTR||S===ve.OP_LEFT||S===ve.OP_RIGHT||S===ve.OP_INVERT||S===ve.OP_AND||S===ve.OP_OR||S===ve.OP_XOR||S===ve.OP_2MUL||S===ve.OP_2DIV||S===ve.OP_MUL||S===ve.OP_DIV||S===ve.OP_MOD||S===ve.OP_LSHIFT||S===ve.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(S==ve.OP_CODESEPARATOR&&this.sigversion===Kr.Version.BASE&&this.flags&me.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_OP_CODESEPARATOR",!1;if(e&&0<=S&&S<=ve.OP_PUSHDATA4){if(t&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!y.buf)this.stack.push(me.false);else{if(y.len!==y.buf.length)throw new Error("Length of push value not equal to length of data");this.stack.push(y.buf)}}else if(e||ve.OP_IF<=S&&S<=ve.OP_ENDIF)switch(S){case ve.OP_1NEGATE:case ve.OP_1:case ve.OP_2:case ve.OP_3:case ve.OP_4:case ve.OP_5:case ve.OP_6:case ve.OP_7:case ve.OP_8:case ve.OP_9:case ve.OP_10:case ve.OP_11:case ve.OP_12:case ve.OP_13:case ve.OP_14:case ve.OP_15:case ve.OP_16:u=S-(ve.OP_1-1),r=new Yt(u).toScriptNumBuffer(),this.stack.push(r);break;case ve.OP_NOP:break;case ve.OP_NOP2:case ve.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&me.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var F=Yt.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(F.lt(new Yt(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(F))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case ve.OP_NOP3:case ve.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&me.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var N=Yt.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(N.lt(new Yt(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((N&me.SEQUENCE_LOCKTIME_DISABLE_FLAG)!=0)break;if(!this.checkSequence(N))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case ve.OP_NOP1:case ve.OP_NOP4:case ve.OP_NOP5:case ve.OP_NOP6:case ve.OP_NOP7:case ve.OP_NOP8:case ve.OP_NOP9:case ve.OP_NOP10:if(this.flags&me.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case ve.OP_IF:case ve.OP_NOTIF:{if(x=!1,e){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(r=this.stack[this.stack.length-1],this.sigversion===Kr.Version.TAPSCRIPT&&(r.length>1||r.length===1&&r[0]!==1))return this.errstr="SCRIPT_ERR_TAPSCRIPT_MINIMALIF",!1;if(this.sigversion===Kr.Version.WITNESS_V0&&this.flags&me.SCRIPT_VERIFY_MINIMALIF){if(r=this.stack[this.stack.length-1],r.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(r.length==1&&r[0]!=1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}x=me.castToBool(r),S===ve.OP_NOTIF&&(x=!x),this.stack.pop()}this.vfExec.push(x)}break;case ve.OP_ELSE:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1]}break;case ve.OP_ENDIF:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop()}break;case ve.OP_VERIFY:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],x=me.castToBool(r),x)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1}break;case ve.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case ve.OP_TOALTSTACK:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop())}break;case ve.OP_FROMALTSTACK:{if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop())}break;case ve.OP_2DROP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop()}break;case ve.OP_2DUP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],this.stack.push(n),this.stack.push(i)}break;case ve.OP_3DUP:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-3],i=this.stack[this.stack.length-2];var H=this.stack[this.stack.length-1];this.stack.push(n),this.stack.push(i),this.stack.push(H)}break;case ve.OP_2OVER:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-4],i=this.stack[this.stack.length-3],this.stack.push(n),this.stack.push(i)}break;case ve.OP_2ROT:{if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-6,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case ve.OP_2SWAP:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-4,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case ve.OP_IFDUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1],x=me.castToBool(r),x&&this.stack.push(r)}break;case ve.OP_DEPTH:r=new Yt(this.stack.length).toScriptNumBuffer(),this.stack.push(r);break;case ve.OP_DROP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop()}break;case ve.OP_DUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1])}break;case ve.OP_NIP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1)}break;case ve.OP_OVER:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2])}break;case ve.OP_PICK:case ve.OP_ROLL:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],l=Yt.fromScriptNumBuffer(r,t),u=l.toNumber(),this.stack.pop(),u<0||u>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-u-1],S===ve.OP_ROLL&&this.stack.splice(this.stack.length-u-1,1),this.stack.push(r)}break;case ve.OP_ROT:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;o=this.stack[this.stack.length-3],a=this.stack[this.stack.length-2];var D=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=a,this.stack[this.stack.length-2]=D,this.stack[this.stack.length-1]=o}break;case ve.OP_SWAP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;o=this.stack[this.stack.length-2],a=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=a,this.stack[this.stack.length-1]=o}break;case ve.OP_TUCK:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1])}break;case ve.OP_SIZE:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;l=new Yt(this.stack[this.stack.length-1].length),this.stack.push(l.toScriptNumBuffer())}break;case ve.OP_EQUAL:case ve.OP_EQUALVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1];var L=n.toString("hex")===i.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(L?me.true:me.false),S===ve.OP_EQUALVERIFY)if(L)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1}break;case ve.OP_1ADD:case ve.OP_1SUB:case ve.OP_NEGATE:case ve.OP_ABS:case ve.OP_NOT:case ve.OP_0NOTEQUAL:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(r=this.stack[this.stack.length-1],l=Yt.fromScriptNumBuffer(r,t),S){case ve.OP_1ADD:l=l.add(Yt.One);break;case ve.OP_1SUB:l=l.sub(Yt.One);break;case ve.OP_NEGATE:l=l.neg();break;case ve.OP_ABS:l.cmp(Yt.Zero)<0&&(l=l.neg());break;case ve.OP_NOT:l=new Yt((l.cmp(Yt.Zero)===0)+0);break;case ve.OP_0NOTEQUAL:l=new Yt((l.cmp(Yt.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(l.toScriptNumBuffer())}break;case ve.OP_ADD:case ve.OP_SUB:case ve.OP_BOOLAND:case ve.OP_BOOLOR:case ve.OP_NUMEQUAL:case ve.OP_NUMEQUALVERIFY:case ve.OP_NUMNOTEQUAL:case ve.OP_LESSTHAN:case ve.OP_GREATERTHAN:case ve.OP_LESSTHANOREQUAL:case ve.OP_GREATERTHANOREQUAL:case ve.OP_MIN:case ve.OP_MAX:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(f=Yt.fromScriptNumBuffer(this.stack[this.stack.length-2],t),c=Yt.fromScriptNumBuffer(this.stack[this.stack.length-1],t),l=new Yt(0),S){case ve.OP_ADD:l=f.add(c);break;case ve.OP_SUB:l=f.sub(c);break;case ve.OP_BOOLAND:l=new Yt((f.cmp(Yt.Zero)!==0&&c.cmp(Yt.Zero)!==0)+0);break;case ve.OP_BOOLOR:l=new Yt((f.cmp(Yt.Zero)!==0||c.cmp(Yt.Zero)!==0)+0);break;case ve.OP_NUMEQUAL:l=new Yt((f.cmp(c)===0)+0);break;case ve.OP_NUMEQUALVERIFY:l=new Yt((f.cmp(c)===0)+0);break;case ve.OP_NUMNOTEQUAL:l=new Yt((f.cmp(c)!==0)+0);break;case ve.OP_LESSTHAN:l=new Yt((f.cmp(c)<0)+0);break;case ve.OP_GREATERTHAN:l=new Yt((f.cmp(c)>0)+0);break;case ve.OP_LESSTHANOREQUAL:l=new Yt((f.cmp(c)<=0)+0);break;case ve.OP_GREATERTHANOREQUAL:l=new Yt((f.cmp(c)>=0)+0);break;case ve.OP_MIN:l=f.cmp(c)<0?f:c;break;case ve.OP_MAX:l=f.cmp(c)>0?f:c;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(l.toScriptNumBuffer()),S===ve.OP_NUMEQUALVERIFY)if(me.castToBool(this.stack[this.stack.length-1]))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1}break;case ve.OP_WITHIN:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;f=Yt.fromScriptNumBuffer(this.stack[this.stack.length-3],t),c=Yt.fromScriptNumBuffer(this.stack[this.stack.length-2],t);var P=Yt.fromScriptNumBuffer(this.stack[this.stack.length-1],t);x=c.cmp(f)<=0&&f.cmp(P)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(x?me.true:me.false)}break;case ve.OP_CAT:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],n.length+i.length>me.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop(),this.stack.push(I.Buffer.concat([n,i]));break}case ve.OP_RIPEMD160:case ve.OP_SHA1:case ve.OP_SHA256:case ve.OP_HASH160:case ve.OP_HASH256:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1];var A;S===ve.OP_RIPEMD160?A=K7.ripemd160(r):S===ve.OP_SHA1?A=K7.sha1(r):S===ve.OP_SHA256?A=K7.sha256(r):S===ve.OP_HASH160?A=K7.sha256ripemd160(r):S===ve.OP_HASH256&&(A=K7.sha256sha256(r)),this.stack.pop(),this.stack.push(A)}break;case ve.OP_CODESEPARATOR:this.pbegincodehash=this.pc,this.execdata.codeseparatorPos=this.pc-1;break;case ve.OP_CHECKSIG:case ve.OP_CHECKSIGVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=this.stack[this.stack.length-2],d=this.stack[this.stack.length-1];let{success:T,result:U}=this._evalCheckSig(h,d);if(!U)return!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(T?me.true:me.false),S===ve.OP_CHECKSIGVERIFY)if(T)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1}break;case ve.OP_CHECKSIGADD:{if(this.sigversion==Kr.Version.BASE||this.sigversion==Kr.Version.WITNESS_V0)return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1;if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;let T=this.stack[this.stack.length-3],U=this.stack[this.stack.length-2],Y=this.stack[this.stack.length-1];U=Yt.fromScriptNumBuffer(U,t);let{success:te,result:J}=this._evalCheckSig(T,Y);if(!J)return!1;this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(U.addn(te?1:0).toScriptNumBuffer())}break;case ve.OP_CHECKMULTISIG:case ve.OP_CHECKMULTISIGVERIFY:{var b=1;if(this.stack.length<b)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var g=Yt.fromScriptNumBuffer(this.stack[this.stack.length-b],t).toNumber();if(g<0||g>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=g,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var v=++b;b+=g;var E=g+2;if(this.stack.length<b)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var C=Yt.fromScriptNumBuffer(this.stack[this.stack.length-b],t).toNumber();if(C<0||C>g)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var R=++b;if(b+=C,this.stack.length<b)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;p=new c0().set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var O=0;O<C;O++)h=this.stack[this.stack.length-R-O],p.findAndDelete(new c0().add(h));for(_=!0;_&&C>0;){if(h=this.stack[this.stack.length-R],d=this.stack[this.stack.length-v],!this.checkSignatureEncoding(h)||!this.checkPubkeyEncoding(d))return!1;var M;try{m=Kr.fromTxFormat(h),w=Gb.fromBuffer(d,!1),M=this.tx.verifySignature(m,w,this.nin,p,this.sigversion,this.satoshis,this.execdata)}catch{M=!1}M&&(R++,C--),v++,g--,C>g&&(_=!1)}for(;b-- >1;){if(!_&&this.flags&me.SCRIPT_VERIFY_NULLFAIL&&!E&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;E>0&&E--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&me.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(_?me.true:me.false),S===ve.OP_CHECKMULTISIGVERIFY)if(_)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.stack.length+this.altstack.length>me.MAX_STACK_SIZE?(this.errstr="SCRIPT_ERR_STACK_SIZE",!1):!0}});var Aa=$((_9t,_M)=>{B();k();_M.exports=qR();_M.exports.Interpreter=ZR()});var xf=$((A9t,bie)=>{"use strict";B();k();var TA=Mr(),gh=qr(),lke=ec(),hie=Cb(),t8=nne(),Ta=Q3(),xA=Ss(),pie=Yi(),wM=If();function Be(t,e,r,n){if(!(this instanceof Be))return new Be(t,e,r);if(TA.isArray(t)&&TA.isNumber(e))return Be.createMultisig(t,e,r,!1,n);if(t instanceof Be)return t;if(gh.checkArgument(t,"First argument is required, please include address data.","guide/address.html"),e&&!Ta.get(e))throw new TypeError('Second argument must be "livenet" or "testnet".');if(r&&r!==Be.PayToPublicKeyHash&&r!==Be.PayToScriptHash&&r!==Be.PayToWitnessPublicKeyHash&&r!==Be.PayToWitnessScriptHash&&r!==Be.PayToTaproot)throw new TypeError('Third argument must be "pubkeyhash", "scripthash", "witnesspubkeyhash", "witnessscripthash", or "taproot".');var i=this._classifyArguments(t,e,r);return i.network=i.network||Ta.get(e)||Ta.defaultNetwork,i.type=i.type||r||Be.PayToPublicKeyHash,pie.defineImmutable(this,{hashBuffer:i.hashBuffer,network:i.network,type:i.type}),this}Be.prototype._classifyArguments=function(t,e,r){if((t instanceof I.Buffer||t instanceof Uint8Array)&&(t.length===20||t.length===32))return Be._transformHash(t,e,r);if((t instanceof I.Buffer||t instanceof Uint8Array)&&t.length>=21)return Be._transformBuffer(t,e,r);if(t instanceof wM)return Be._transformPublicKey(t,e,r);if(t instanceof z7)return Be._transformScript(t,e);if(typeof t=="string")return Be._transformString(t,e,r);if(TA.isObject(t))return Be._transformObject(t);throw new TypeError("First argument is an unrecognized data format.")};Be.PayToPublicKeyHash="pubkeyhash";Be.PayToScriptHash="scripthash";Be.PayToWitnessPublicKeyHash="witnesspubkeyhash";Be.PayToWitnessScriptHash="witnessscripthash";Be.PayToTaproot="taproot";Be._transformHash=function(t,e,r){var n={};if(!(t instanceof I.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length!==20&&t.length!==32)throw new TypeError("Address hashbuffers must be either 20 or 32 bytes.");return n.hashBuffer=t,n.network=Ta.get(e)||Ta.defaultNetwork,n.type=r,n};Be._transformObject=function(t){return gh.checkArgument(t.hash||t.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),gh.checkArgument(t.type,"Must provide a `type` property"),{hashBuffer:t.hash?I.Buffer.from(t.hash,"hex"):t.hashBuffer,network:Ta.get(t.network)||Ta.defaultNetwork,type:t.type}};Be._classifyFromVersion=function(t){var e={};if(t.length>21){var r=t8.decode(t.toString("utf8"));if(r.version!==0&&r.version!==1)throw new TypeError("Only witness v0 and v1 addresses are supported.");if(r.version===0)if(r.data.length===20)e.type=Be.PayToWitnessPublicKeyHash;else if(r.data.length===32)e.type=Be.PayToWitnessScriptHash;else throw new TypeError("Witness data must be either 20 or 32 bytes.");else if(r.version===1)if(r.data.length===32)e.type=Be.PayToTaproot;else throw new TypeError("Witness data must be 32 bytes for v1");e.network=Ta.get(r.prefix,"bech32prefix")}else{var n=Ta.get(t[0],"pubkeyhash"),i=Ta.get(t[0],"scripthash");n?(e.network=n,e.type=Be.PayToPublicKeyHash):i&&(e.network=i,e.type=Be.PayToScriptHash)}return e};Be._transformBuffer=function(t,e,r){var n={};if(!(t instanceof I.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length<21)throw new TypeError("Address buffer is incorrect length.");var i=Ta.get(e),s=Be._classifyFromVersion(t);if(e&&!i)throw new TypeError("Unknown network");if(!s.network||i&&i.xpubkey!==s.network.xpubkey)throw new TypeError("Address has mismatched network type.");if(!s.type||r&&r!==s.type)throw new TypeError("Address has mismatched type.");return t.length>21?n.hashBuffer=t8.decode(t.toString("utf8")).data:n.hashBuffer=t.slice(1),n.network=i||s.network,n.type=s.type,n};Be._transformPublicKey=function(t,e,r){var n={};if(!(t instanceof wM))throw new TypeError("Address must be an instance of PublicKey.");if(r&&r!==Be.PayToScriptHash&&r!==Be.PayToWitnessPublicKeyHash&&r!==Be.PayToPublicKeyHash&&r!==Be.PayToTaproot)throw new TypeError("Type must be either pubkeyhash, witnesspubkeyhash, scripthash, or taproot to transform public key.");if(!t.compressed&&(r===Be.PayToScriptHash||r===Be.PayToWitnessPublicKeyHash))throw new TypeError("Witness addresses must use compressed public keys.");return r===Be.PayToScriptHash?n.hashBuffer=xA.sha256ripemd160(z7.buildWitnessV0Out(t).toBuffer()):r===Be.PayToTaproot?n.hashBuffer=t.createTapTweak().tweakedPubKey:n.hashBuffer=xA.sha256ripemd160(t.toBuffer()),n.type=r||Be.PayToPublicKeyHash,n};Be._transformScript=function(t,e){gh.checkArgument(t instanceof z7,"script must be a Script instance");var r=t.getAddressInfo(e);if(!r)throw new lke.Script.CantDeriveAddress(t);return r};Be.createMultisig=function(t,e,r,n,i){if(r=r||t[0].network||Ta.defaultNetwork,i&&i!==Be.PayToScriptHash&&i!==Be.PayToWitnessScriptHash)throw new TypeError("Type must be either scripthash or witnessscripthash to create multisig.");if(n||i===Be.PayToWitnessScriptHash){t=TA.map(t,wM);for(var s=0;s<t.length;s++)if(!t[s].compressed)throw new TypeError("Witness addresses must use compressed public keys.")}var u=z7.buildMultisigOut(t,e);return n?Be.payingTo(z7.buildWitnessMultisigOutFromScript(u),r):Be.payingTo(u,r,i)};Be._transformString=function(t,e,r){if(typeof t!="string")throw new TypeError("data parameter supplied is not a string.");if(t.length>100)throw new TypeError("address string is too long");if(e&&!Ta.get(e))throw new TypeError("Unknown network");t=t.trim();try{var i=Be._transformBuffer(I.Buffer.from(t,"utf8"),e,r);return i}catch(s){if(r===Be.PayToWitnessPublicKeyHash||r===Be.PayToWitnessScriptHash||r===Be.PayToTaproot)throw s}var n=hie.decode(t),i=Be._transformBuffer(n,e,r);return i};Be.fromPublicKey=function(t,e,r){var n=Be._transformPublicKey(t,e,r);return e=e||Ta.defaultNetwork,new Be(n.hashBuffer,e,n.type)};Be.fromPublicKeyHash=function(t,e){var r=Be._transformHash(t);return new Be(r.hashBuffer,e,Be.PayToPublicKeyHash)};Be.fromScriptHash=function(t,e,i){gh.checkArgument(t,"hash parameter is required");var n=Be._transformHash(t);if(i===Be.PayToWitnessScriptHash&&t.length!==32)throw new TypeError("Address hashbuffer must be exactly 32 bytes for v0 witness script hash.");var i=i||Be.PayToScriptHash;return new Be(n.hashBuffer,e,i)};Be.payingTo=function(t,e,i){gh.checkArgument(t,"script is required"),gh.checkArgument(t instanceof z7,"script must be instance of Script");var n;i===Be.PayToWitnessScriptHash?n=xA.sha256(t.toBuffer()):n=xA.sha256ripemd160(t.toBuffer());var i=i||Be.PayToScriptHash;return Be.fromScriptHash(n,e,i)};Be.fromScript=function(t,e){gh.checkArgument(t instanceof z7,"script must be a Script instance");var r=Be._transformScript(t,e);return new Be(r.hashBuffer,e,r.type)};Be.fromBuffer=function(t,e,r){var n=Be._transformBuffer(t,e,r);return new Be(n.hashBuffer,n.network,n.type)};Be.fromString=function(t,e,r){var n=Be._transformString(t,e,r);return new Be(n.hashBuffer,n.network,n.type)};Be.fromObject=function(e){gh.checkState(pie.isHexa(e.hash),'Unexpected hash property, "'+e.hash+'", expected to be hex.');var r=I.Buffer.from(e.hash,"hex");return new Be(r,e.network,e.type)};Be.getValidationError=function(t,e,r){var n;try{new Be(t,e,r)}catch(i){n=i}return n};Be.isValid=function(t,e,r){return!Be.getValidationError(t,e,r)};Be.prototype.isPayToPublicKeyHash=function(){return this.type===Be.PayToPublicKeyHash};Be.prototype.isPayToScriptHash=function(){return this.type===Be.PayToScriptHash};Be.prototype.isPayToWitnessPublicKeyHash=function(){return this.type===Be.PayToWitnessPublicKeyHash};Be.prototype.isPayToWitnessScriptHash=function(){return this.type===Be.PayToWitnessScriptHash};Be.prototype.isPayToTaproot=function(){return this.type===Be.PayToTaproot};Be.prototype.toBuffer=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash())return I.Buffer.from(this.toString(),"utf8");var t=I.Buffer.from([this.network[this.type]]);return I.Buffer.concat([t,this.hashBuffer])};Be.prototype.toObject=Be.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}};Be.prototype.toString=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash()||this.isPayToTaproot()){let t=this.network.bech32prefix,e=0,r=t8.encodings.BECH32;return this.isPayToTaproot()&&(e=1,r=t8.encodings.BECH32M),t8.encode(t,e,this.hashBuffer,r)}return hie.encode(this.toBuffer())};Be.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"};bie.exports=Be;var z7=Aa()});var r8=$((I9t,gie)=>{"use strict";B();k();function V7(){}V7.getRandomBuffer=function(t){return process.browser?V7.getRandomBufferBrowser(t):V7.getRandomBufferNode(t)};V7.getRandomBufferNode=function(t){var e=Ua();return e.randomBytes(t)};V7.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)var e=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var r=new Uint8Array(t);e.getRandomValues(r);var n=I.Buffer.from(r);return n};V7.getPseudoRandomBuffer=function(t){for(var e=4294967296,r=I.Buffer.alloc(t),n,i=0;i<=t;i++){var s=Math.floor(i/4),u=i-s*4;u===0?(n=Math.random()*e,r[i]=n&255):r[i]=(n=n>>>8)&255}return r};gie.exports=V7});var r1=$((B9t,vie)=>{"use strict";B();k();var IA=Mr(),dke=xf(),mie=Cb(),yh=ou(),yie=Yi(),mh=Q3(),PA=X3(),hke=If(),pke=r8(),OA=qr(),bke=ah();function hr(t,e){if(!(this instanceof hr))return new hr(t,e);if(t instanceof hr)return t;var r=this._classifyArguments(t,e);if(!r.bn||r.bn.cmp(new yh(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!r.bn.lt(PA.getN()))throw new TypeError("Number must be less than N");if(typeof r.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return yie.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}hr.prototype._classifyArguments=function(t,e){var r={compressed:!0,network:e?mh.get(e):mh.defaultNetwork};if(IA.isUndefined(t)||IA.isNull(t))r.bn=hr._getRandomBN();else if(t instanceof yh)r.bn=t;else if(t instanceof I.Buffer||t instanceof Uint8Array)r=hr._transformBuffer(t,e);else if(t.bn&&t.network)r=hr._transformObject(t);else if(!e&&mh.get(t))r.bn=hr._getRandomBN(),r.network=mh.get(t);else if(typeof t=="string")yie.isHexa(t)?r.bn=new yh(I.Buffer.from(t,"hex")):r=hr._transformWIF(t,e);else throw new TypeError("First argument is an unrecognized data type.");return r};hr._getRandomBN=function(){var t,e;do{var r=pke.getRandomBuffer(32);e=yh.fromBuffer(r),t=e.lt(PA.getN())}while(!t);return e};hr._transformBuffer=function(t,e){var r={};if(t.length===32)return hr._transformBNBuffer(t,e);if(r.network=mh.get(t[0],"privatekey"),!r.network)throw new Error("Invalid network");if(e&&r.network!==mh.get(e))throw new TypeError("Private key network mismatch");if(t.length===1+32+1&&t[1+32+1-1]===1)r.compressed=!0;else if(t.length===1+32)r.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return r.bn=yh.fromBuffer(t.slice(1,32+1)),r};hr._transformBNBuffer=function(t,e){var r={};return r.network=mh.get(e)||mh.defaultNetwork,r.bn=yh.fromBuffer(t),r.compressed=!1,r};hr._transformWIF=function(t,e){return hr._transformBuffer(mie.decode(t),e)};hr.fromBuffer=function(t,e){return new hr(t,e)};hr._transformObject=function(t){var e=new yh(t.bn,"hex"),r=mh.get(t.network);return{bn:e,network:r,compressed:t.compressed}};hr.fromString=hr.fromWIF=function(t){return OA.checkArgument(IA.isString(t),"First argument is expected to be a string."),new hr(t)};hr.fromObject=function(t){return OA.checkArgument(IA.isObject(t),"First argument is expected to be an object."),new hr(t)};hr.fromRandom=function(t){var e=hr._getRandomBN();return new hr(e,t)};hr.getValidationError=function(t,e){var r;try{new hr(t,e)}catch(n){r=n}return r};hr.isValid=function(t,e){return t?!hr.getValidationError(t,e):!1};hr.prototype.toString=function(){return this.toBuffer().toString("hex")};hr.prototype.toWIF=function(){var t=this.network,e=this.compressed,r;return e?r=I.Buffer.concat([I.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32}),I.Buffer.from([1])]):r=I.Buffer.concat([I.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32})]),mie.encode(r)};hr.prototype.toBigNumber=function(){return this.bn};hr.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})};hr.prototype.toBufferNoPadding=function(){return this.bn.toBuffer()};hr.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=hke.fromPrivateKey(this)),this._pubkey};hr.prototype.toAddress=function(t,e){var r=this.toPublicKey();return dke.fromPublicKey(r,t||this.network,e)};hr.prototype.toObject=hr.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}};hr.prototype.createTapTweak=function(t){let e=PA.getN(),r=PA.getG().mul(this.bn),n=r.y.isEven()?this.bn:e.sub(this.bn),i=new bke("TapTweak");i.write(r.x.toBuffer({size:32})),t&&(OA.checkArgument(I.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),i.write(t));let s=i.finalize();return OA.checkState(yh.fromBuffer(s).lt(e),"TapTweak hash failed secp256k1 order check"),{tweakedPrivKey:n.add(new yh(s)).mod(e).toBuffer({size:32})}};hr.prototype.inspect=function(){var t=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+t+">"};vie.exports=hr});var If=$((F9t,wie)=>{"use strict";B();k();var Bf=ou(),o1=X3(),gke=Ss(),Sie=Yi(),_ie=Q3(),EM=Mr(),tc=qr(),mke=ah();function gt(t,e){if(!(this instanceof gt))return new gt(t,e);if(tc.checkArgument(t,"First argument is required, please include public key data."),t instanceof gt)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),Sie.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||_ie.defaultNetwork}),this}gt.prototype._classifyArgs=function(t,e){var r={compressed:EM.isUndefined(e.compressed)||e.compressed};if(t instanceof o1)r.point=t;else if(t.x&&t.y)r=gt._transformObject(t);else if(typeof t=="string")r=gt._transformDER(I.Buffer.from(t,"hex"));else if(gt._isBuffer(t))r=gt._transformDER(t);else if(gt._isPrivateKey(t))r=gt._transformPrivateKey(t);else throw new TypeError("First argument is an unrecognized data format.");return r.network||(r.network=EM.isUndefined(e.network)?void 0:_ie.get(e.network)),r};gt._isPrivateKey=function(t){var e=r1();return t instanceof e};gt._isBuffer=function(t){return t instanceof I.Buffer||t instanceof Uint8Array};gt._transformPrivateKey=function(t){tc.checkArgument(gt._isPrivateKey(t),"Must be an instance of PrivateKey");var e={};return e.point=o1.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e};gt._transformDER=function(t,e){tc.checkArgument(gt._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r={};e=EM.isUndefined(e)?!0:e;var n,i,s,u;if(t[0]===4||!e&&(t[0]===6||t[0]===7)){if(s=t.slice(1,33),u=t.slice(33,65),s.length!==32||u.length!==32||t.length!==65)throw new TypeError("Length of x and y must be 32 bytes");n=new Bf(s),i=new Bf(u),r.point=new o1(n,i),r.compressed=!1}else if(t[0]===3)s=t.slice(1),n=new Bf(s),r=gt._transformX(!0,n),r.compressed=!0;else if(t[0]===2)s=t.slice(1),n=new Bf(s),r=gt._transformX(!1,n),r.compressed=!0;else throw new TypeError("Invalid DER format public key");return r};gt._transformX=function(t,e){tc.checkArgument(typeof t=="boolean","Must specify whether y is odd or not (true or false)");var r={};return r.point=o1.fromX(t,e),r};gt._transformObject=function(t){var e=new Bf(t.x,"hex"),r=new Bf(t.y,"hex"),n=new o1(e,r);return new gt(n,{compressed:t.compressed})};gt.fromPrivateKey=function(t){tc.checkArgument(gt._isPrivateKey(t),"Must be an instance of PrivateKey");var e=gt._transformPrivateKey(t);return new gt(e.point,{compressed:e.compressed,network:e.network})};gt.fromBuffer=function(t,e){return tc.checkArgument(gt._isBuffer(t),"Must be a hex buffer of DER encoded public key or 32 byte X coordinate (taproot)"),t.length===32?gt.fromX(!1,t):gt.fromDER(t,e)};gt.fromDER=function(t,e){tc.checkArgument(gt._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r=gt._transformDER(t,e);return new gt(r.point,{compressed:r.compressed})};gt.fromPoint=function(t,e){return tc.checkArgument(t instanceof o1,"First argument must be an instance of Point."),new gt(t,{compressed:e})};gt.fromString=function(t,e){var r=I.Buffer.from(t,e||"hex"),n=gt._transformDER(r);return new gt(n.point,{compressed:n.compressed})};gt.fromX=function(t,e){var r=gt._transformX(t,e);return new gt(r.point,{compressed:r.compressed})};gt.fromTaproot=function(t){return typeof t=="string"&&Sie.isHexaString(t)&&(t=I.Buffer.from(t,"hex")),tc.checkArgument(I.Buffer.isBuffer(t),"hexBuf must be a hex string or buffer"),tc.checkArgument(t.length===32,"Taproot public keys must be 32 bytes"),new gt.fromX(!1,t)};gt.isValidTaproot=function(t){try{return!!gt.fromTaproot(t)}catch{return!1}};gt.prototype.computeTapTweakHash=function(t){let e=new mke("TapTweak");e.write(this.point.x.toBuffer({size:32})),t&&(tc.checkArgument(I.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),e.write(t));let r=e.finalize(),n=o1.getN();return tc.checkState(Bf.fromBuffer(r).lt(n),"TapTweak hash failed secp256k1 order check"),r};gt.prototype.checkTapTweak=function(t,e,r){I.Buffer.isBuffer(t)&&(t=gt.fromTaproot(t));let n=t.computeTapTweakHash(e),s=t.point.liftX().add(this.point.curve.g.mul(Bf.fromBuffer(n)));return this.point.x.eq(s.x)&&s.y.mod(new Bf(2)).eq(new Bf(r[0]&1))};gt.prototype.createTapTweak=function(t){tc.checkArgument(t==null||I.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be a 32 byte buffer");let e=this.computeTapTweakHash(t);e=new Bf(e);let r=this.point.liftX().add(o1.getG().mul(e));return{parity:r.y.isEven()?0:1,tweakedPubKey:r.x.toBuffer()}};gt.getValidationError=function(t){var e;try{new gt(t)}catch(r){e=r}return e};gt.isValid=function(t){return!gt.getValidationError(t)};gt.prototype.toObject=gt.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}};gt.prototype.toBuffer=gt.prototype.toDER=function(){var t=this.point.getX(),e=this.point.getY(),r=t.toBuffer({size:32}),n=e.toBuffer({size:32}),i;if(this.compressed){var s=n[n.length-1]%2;return s?i=I.Buffer.from([3]):i=I.Buffer.from([2]),I.Buffer.concat([i,r])}else return i=I.Buffer.from([4]),I.Buffer.concat([i,r,n])};gt.prototype._getID=function(){return gke.sha256ripemd160(this.toBuffer())};gt.prototype.toAddress=function(t,e){var r=xf();return r.fromPublicKey(this,t||this.network,e)};gt.prototype.toString=function(){return this.toDER().toString("hex")};gt.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"};wie.exports=gt});var G4=$((N9t,Eie)=>{"use strict";B();k();var rc=ou(),l0=X3(),yke=ho(),vke=If(),Ske=r8(),a1=Ss(),TM=ti(),_ke=Mr(),AM=qr(),ts=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};ts.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this};ts.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()};ts.prototype.calci=function(){for(var t=0;t<4;t++){this.sig.i=t;var e;try{e=this.toPublicKey()}catch(r){console.error(r);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")};ts.fromString=function(t){var e=JSON.parse(t);return new ts(e)};ts.prototype.randomK=function(){var t=l0.getN(),e;do e=rc.fromBuffer(Ske.getRandomBuffer(32));while(!(e.lt(t)&&e.gt(rc.Zero)));return this.k=e,this};ts.prototype.deterministicK=function(t){_ke.isUndefined(t)&&(t=0);var e=I.Buffer.alloc(32);e.fill(1);var r=I.Buffer.alloc(32);r.fill(0);var n=this.privkey.bn.toBuffer({size:32}),i=this.endian==="little"?TM.reverse(this.hashbuf):this.hashbuf;r=a1.sha256hmac(I.Buffer.concat([e,I.Buffer.from([0]),n,i]),r),e=a1.sha256hmac(e,r),r=a1.sha256hmac(I.Buffer.concat([e,I.Buffer.from([1]),n,i]),r),e=a1.sha256hmac(e,r),e=a1.sha256hmac(e,r);for(var s=rc.fromBuffer(e),u=l0.getN(),o=0;o<t||!(s.lt(u)&&s.gt(rc.Zero));o++)r=a1.sha256hmac(I.Buffer.concat([e,I.Buffer.from([0])]),r),e=a1.sha256hmac(e,r),e=a1.sha256hmac(e,r),s=rc.fromBuffer(e);return this.k=s,this};ts.prototype.toPublicKey=function(){var t=this.sig.i;AM.checkArgument(t===0||t===1||t===2||t===3,new Error("i must be equal to 0, 1, 2, or 3"));var e=rc.fromBuffer(this.hashbuf),r=this.sig.r,n=this.sig.s,i=t&1,s=t>>1,u=l0.getN(),o=l0.getG(),a=s?r.add(u):r,l=l0.fromX(i,a),f=l.mul(u);if(!f.isInfinity())throw new Error("nR is not a valid curve point");var c=e.neg().umod(u),h=r.invm(u),d=l.mul(n).add(o.mul(c)).mul(h),p=vke.fromPoint(d,this.sig.compressed);return p};ts.prototype.sigError=function(){if(!TM.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var t=this.sig.r,e=this.sig.s;if(!(t.gt(rc.Zero)&&t.lt(l0.getN()))||!(e.gt(rc.Zero)&&e.lt(l0.getN())))return"r and s not in range";var r=rc.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),n=l0.getN(),i=e.invm(n),s=i.mul(r).umod(n),u=i.mul(t).umod(n),o=l0.getG().mulAdd(s,this.pubkey.point,u);return o.isInfinity()?"p is infinity":o.getX().umod(n).cmp(t)!==0?"Invalid signature":!1};ts.toLowS=function(t){return t.gt(rc.fromBuffer(I.Buffer.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(t=l0.getN().sub(t)),t};ts.prototype._findSignature=function(t,e){var r=l0.getN(),n=l0.getG(),i=0,s,u,o,a;do(!this.k||i>0)&&this.deterministicK(i),i++,s=this.k,u=n.mul(s),o=u.x.umod(r),a=s.invm(r).mul(e.add(t.mul(o))).umod(r);while(o.cmp(rc.Zero)<=0||a.cmp(rc.Zero)<=0);return a=ts.toLowS(a),{s:a,r:o}};ts.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;AM.checkState(t&&e&&r,new Error("invalid parameters")),AM.checkState(TM.isBuffer(t)&&t.length===32,new Error("hashbuf must be a 32 byte buffer"));var n=rc.fromBuffer(t,this.endian?{endian:this.endian}:void 0),i=this._findSignature(r,n);return i.compressed=this.pubkey.compressed,this.sig=new yke(i),this};ts.prototype.signRandomK=function(){return this.randomK(),this.sign()};ts.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)};ts.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this};ts.sign=function(t,e,r){return ts().set({hashbuf:t,endian:r,privkey:e}).sign().sig};ts.verify=function(t,e,r,n){return ts().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified};Eie.exports=ts});var Iie=$((L9t,xie)=>{"use strict";B();k();var Aie=fu(),Tie=yf(),wke=ou(),kf=function t(e){if(!(this instanceof t))return new t(e);if(I.Buffer.isBuffer(e))this.buf=e;else if(typeof e=="number"){var r=e;this.fromNumber(r)}else if(e instanceof wke){var n=e;this.fromBN(n)}else if(e){var i=e;this.set(i)}};kf.prototype.set=function(t){return this.buf=t.buf||this.buf,this};kf.prototype.fromString=function(t){return this.set({buf:I.Buffer.from(t,"hex")}),this};kf.prototype.toString=function(){return this.buf.toString("hex")};kf.prototype.fromBuffer=function(t){return this.buf=t,this};kf.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this};kf.prototype.fromBN=function(t){return this.buf=Aie().writeVarintBN(t).concat(),this};kf.prototype.fromNumber=function(t){return this.buf=Aie().writeVarintNum(t).concat(),this};kf.prototype.toBuffer=function(){return this.buf};kf.prototype.toBN=function(){return Tie(this.buf).readVarintBN()};kf.prototype.toNumber=function(){return Tie(this.buf).readVarintNum()};xie.exports=kf});var i8=$((j9t,Bie)=>{"use strict";B();k();var BA=Mr(),n8=ou(),Wb=ti(),kA=yf(),Eke=fu(),Ake=Ss(),q9t=Yi(),Pie=qr(),Tke=486604799,Ur=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,r.hash&&Pie.checkState(this.hash===r.hash,"Argument object hash property does not match block hash."),this};Ur._from=function(e){var r={};if(Wb.isBuffer(e))r=Ur._fromBufferReader(kA(e));else if(BA.isObject(e))r=Ur._fromObject(e);else throw new TypeError("Unrecognized argument for BlockHeader");return r};Ur._fromObject=function(e){Pie.checkArgument(e,"data is required");var r=e.prevHash,n=e.merkleRoot;BA.isString(e.prevHash)&&(r=Wb.reverse(I.Buffer.from(e.prevHash,"hex"))),BA.isString(e.merkleRoot)&&(n=Wb.reverse(I.Buffer.from(e.merkleRoot,"hex")));var i={hash:e.hash,version:e.version,prevHash:r,merkleRoot:n,time:e.time,timestamp:e.time,bits:e.bits,nonce:e.nonce};return i};Ur.fromObject=function(e){var r=Ur._fromObject(e);return new Ur(r)};Ur.fromRawBlock=function(e){Wb.isBuffer(e)||(e=I.Buffer.from(e,"binary"));var r=kA(e);r.pos=Ur.Constants.START_OF_HEADER;var n=Ur._fromBufferReader(r);return new Ur(n)};Ur.fromBuffer=function(e){var r=Ur._fromBufferReader(kA(e));return new Ur(r)};Ur.fromString=function(e){var r=I.Buffer.from(e,"hex");return Ur.fromBuffer(r)};Ur._fromBufferReader=function(e){var r={};return r.version=e.readInt32LE(),r.prevHash=e.read(32),r.merkleRoot=e.read(32),r.time=e.readUInt32LE(),r.bits=e.readUInt32LE(),r.nonce=e.readUInt32LE(),r};Ur.fromBufferReader=function(e){var r=Ur._fromBufferReader(e);return new Ur(r)};Ur.prototype.toObject=Ur.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:Wb.reverse(this.prevHash).toString("hex"),merkleRoot:Wb.reverse(this.merkleRoot).toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}};Ur.prototype.toBuffer=function(){return this.toBufferWriter().concat()};Ur.prototype.toString=function(){return this.toBuffer().toString("hex")};Ur.prototype.toBufferWriter=function(e){return e||(e=new Eke),e.writeInt32LE(this.version),e.write(this.prevHash),e.write(this.merkleRoot),e.writeUInt32LE(this.time),e.writeUInt32LE(this.bits),e.writeUInt32LE(this.nonce),e};Ur.prototype.getTargetDifficulty=function(e){e=e||this.bits;for(var r=new n8(e&16777215),n=8*((e>>>24)-3);n-- >0;)r=r.mul(new n8(2));return r};Ur.prototype.getDifficulty=function(){var e=this.getTargetDifficulty(Tke).mul(new n8(Math.pow(10,8))),r=this.getTargetDifficulty(),n=e.div(r).toString(10),i=n.length-8;return n=n.slice(0,i)+"."+n.slice(i),parseFloat(n)};Ur.prototype._getHash=function(){var e=this.toBuffer();return Ake.sha256sha256(e)};var Oie={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=kA(this._getHash()).readReverse().toString("hex")),this._id},set:BA.noop};Object.defineProperty(Ur.prototype,"id",Oie);Object.defineProperty(Ur.prototype,"hash",Oie);Ur.prototype.validTimestamp=function(){var e=Math.round(new Date().getTime()/1e3);return!(this.time>e+Ur.Constants.MAX_TIME_OFFSET)};Ur.prototype.validProofOfWork=function(){var e=new n8(this.id,"hex"),r=this.getTargetDifficulty();return!(e.cmp(r)>0)};Ur.prototype.inspect=function(){return"<BlockHeader "+this.id+">"};Ur.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:2*60*60,LARGEST_HASH:new n8("10000000000000000000000000000000000000000000000000000000000000000","hex")};Bie.exports=Ur});var Die=$((V9t,Nie)=>{"use strict";B();k();var IM=Mr(),Cie=i8(),kie=ou(),Fie=ti(),PM=yf(),xke=fu(),Ike=Ss(),xM=e8(),Rie=qr();function Br(t){return this instanceof Br?(IM.extend(this,Br._from(t)),this):new Br(t)}Br.MAX_BLOCK_SIZE=1e6;Br._from=function(e){var r={};if(Fie.isBuffer(e))r=Br._fromBufferReader(PM(e));else if(IM.isObject(e))r=Br._fromObject(e);else throw new TypeError("Unrecognized argument for Block");return r};Br._fromObject=function(e){var r=[];e.transactions.forEach(function(i){i instanceof xM?r.push(i):r.push(xM().fromObject(i))});var n={header:Cie.fromObject(e.header),transactions:r};return n};Br.fromObject=function(e){var r=Br._fromObject(e);return new Br(r)};Br._fromBufferReader=function(e){var r={};Rie.checkState(!e.finished(),"No block data received"),r.header=Cie.fromBufferReader(e);var n=e.readVarintNum();r.transactions=[];for(var i=0;i<n;i++)r.transactions.push(xM().fromBufferReader(e));return r};Br.fromBufferReader=function(e){Rie.checkArgument(e,"br is required");var r=Br._fromBufferReader(e);return new Br(r)};Br.fromBuffer=function(e){return Br.fromBufferReader(new PM(e))};Br.fromString=function(e){var r=I.Buffer.from(e,"hex");return Br.fromBuffer(r)};Br.fromRawBlock=function(e){Fie.isBuffer(e)||(e=I.Buffer.from(e,"binary"));var r=PM(e);r.pos=Br.Values.START_OF_BLOCK;var n=Br._fromBufferReader(r);return new Br(n)};Br.prototype.toObject=Br.prototype.toJSON=function(){var e=[];return this.transactions.forEach(function(r){e.push(r.toObject())}),{header:this.header.toObject(),transactions:e}};Br.prototype.toBuffer=function(){return this.toBufferWriter().concat()};Br.prototype.toString=function(){return this.toBuffer().toString("hex")};Br.prototype.toBufferWriter=function(e){e||(e=new xke),e.write(this.header.toBuffer()),e.writeVarintNum(this.transactions.length);for(var r=0;r<this.transactions.length;r++)this.transactions[r].toBufferWriter(e);return e};Br.prototype.getTransactionHashes=function(){var e=[];if(this.transactions.length===0)return[Br.Values.NULL_HASH];for(var r=0;r<this.transactions.length;r++)e.push(this.transactions[r]._getHash());return e};Br.prototype.getMerkleTree=function(){for(var e=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var s=Math.min(i+1,n-1),u=I.Buffer.concat([e[r+i],e[r+s]]);e.push(Ike.sha256sha256(u))}r+=n}return e};Br.prototype.getMerkleRoot=function(){var e=this.getMerkleTree();return e[e.length-1]};Br.prototype.validMerkleRoot=function(){var e=new kie(this.header.merkleRoot.toString("hex"),"hex"),r=new kie(this.getMerkleRoot().toString("hex"),"hex");return e.cmp(r)===0};Br.prototype._getHash=function(){return this.header._getHash()};var Mie={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:IM.noop};Object.defineProperty(Br.prototype,"id",Mie);Object.defineProperty(Br.prototype,"hash",Mie);Br.prototype.inspect=function(){return"<Block "+this.id+">"};Br.Values={START_OF_BLOCK:8,NULL_HASH:I.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex")};Nie.exports=Br});var CM=$((X9t,Uie)=>{"use strict";B();k();var G7=Mr(),BM=i8(),kM=ti(),Lie=yf(),Pke=fu(),Oke=Ss(),Y9t=Yi(),Hie=e8(),OM=ec(),W7=qr();function ji(t){if(!(this instanceof ji))return new ji(t);var e={};if(kM.isBuffer(t))e=ji._fromBufferReader(Lie(t));else if(G7.isObject(t)){var r;t.header instanceof BM?r=t.header:r=BM.fromObject(t.header),e={header:r,numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return G7.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}ji.fromBuffer=function(e){return ji.fromBufferReader(Lie(e))};ji.fromBufferReader=function(e){return new ji(ji._fromBufferReader(e))};ji.prototype.toBuffer=function(){return this.toBufferWriter().concat()};ji.prototype.toBufferWriter=function(e){e||(e=new Pke),e.write(this.header.toBuffer()),e.writeUInt32LE(this.numTransactions),e.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)e.write(I.Buffer.from(this.hashes[r],"hex"));for(e.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)e.writeUInt8(this.flags[r]);return e};ji.prototype.toObject=ji.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}};ji.prototype.validMerkleTree=function(){if(W7.checkState(G7.isArray(this.flags),"MerkleBlock flags is not an array"),W7.checkState(G7.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r);return r.hashesUsed!==this.hashes.length?!1:kM.equals(n,this.header.merkleRoot)};ji.prototype.filterdTxsHash=function(){if(W7.checkState(G7.isArray(this.flags),"MerkleBlock flags is not an array"),W7.checkState(G7.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new OM.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new OM.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r,!0);if(r.hashesUsed!==this.hashes.length)throw new OM.MerkleBlock.InvalidMerkleTree;return n};ji.prototype._traverseMerkleTree=function(e,r,n,s){n=n||{},n.txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0;var s=s||!1;if(n.flagBitsUsed>this.flags.length*8)return null;var u=this.flags[n.flagBitsUsed>>3]>>>(n.flagBitsUsed++&7)&1;if(e===0||!u){if(n.hashesUsed>=this.hashes.length)return null;var o=this.hashes[n.hashesUsed++];return e===0&&u&&n.txs.push(o),I.Buffer.from(o,"hex")}else{var a=this._traverseMerkleTree(e-1,r*2,n),l=a;return r*2+1<this._calcTreeWidth(e-1)&&(l=this._traverseMerkleTree(e-1,r*2+1,n)),s?n.txs:Oke.sha256sha256(new I.Buffer.concat([a,l]))}};ji.prototype._calcTreeWidth=function(e){return this.numTransactions+(1<<e)-1>>e};ji.prototype._calcTreeHeight=function(){for(var e=0;this._calcTreeWidth(e)>1;)e++;return e};ji.prototype.hasTransaction=function(e){W7.checkArgument(!G7.isUndefined(e),"tx cannot be undefined"),W7.checkArgument(e instanceof Hie||typeof e=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var r=e;e instanceof Hie&&(r=kM.reverse(I.Buffer.from(e.id,"hex")).toString("hex"));var n=[],i=this._calcTreeHeight();return this._traverseMerkleTree(i,0,{txs:n}),n.indexOf(r)!==-1};ji._fromBufferReader=function(e){W7.checkState(!e.finished(),"No merkleblock data received");var r={};r.header=BM.fromBufferReader(e),r.numTransactions=e.readUInt32LE();var n=e.readVarintNum();r.hashes=[];for(var i=0;i<n;i++)r.hashes.push(e.read(32).toString("hex"));var s=e.readVarintNum();for(r.flags=[],i=0;i<s;i++)r.flags.push(e.readUInt8());return r};ji.fromObject=function(e){return new ji(e)};Uie.exports=ji});var $ie=$((Q9t,CA)=>{B();k();CA.exports=Die();CA.exports.BlockHeader=i8();CA.exports.MerkleBlock=CM()});var RM=$((rbt,Wie)=>{"use strict";B();k();var _s=Mr(),jie=qr(),Kie=ou(),Bke=z4(),FA=Cb(),zie=Ss(),RA=MM(),Y7=Q3(),FM=X3(),Vie=If(),Gie=ec(),s8=Gie,Cf=Gie.HDPublicKey,MA=wc(),qie=Yi(),Sn=ti();function Pe(t){if(t instanceof Pe)return t;if(!(this instanceof Pe))return new Pe(t);if(t)if(_s.isString(t)||Sn.isBuffer(t)){var e=Pe.getSerializedError(t);if(e){if(Sn.isBuffer(t)&&!Pe.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof Cf.ArgumentIsPrivateExtended)return new RA(t).hdPublicKey;throw e}else return this._buildFromSerialized(t)}else{if(_s.isObject(t))return t instanceof RA?this._buildFromPrivate(t):this._buildFromObject(t);throw new Cf.UnrecognizedArgument(t)}else throw new Cf.MustSupplyArgument}Pe.isValidPath=function(t){if(_s.isString(t)){var e=RA._getDerivationIndexes(t);return e!==null&&_s.every(e,Pe.isValidPath)}return _s.isNumber(t)?t>=0&&t<Pe.Hardened:!1};Pe.prototype.derive=function(t,e){return this.deriveChild(t,e)};Pe.prototype.deriveChild=function(t,e){if(_s.isNumber(t))return this._deriveWithNumber(t,e);if(_s.isString(t))return this._deriveFromString(t);throw new Cf.InvalidDerivationArgument(t)};Pe.prototype._deriveWithNumber=function(t,e){if(t>=Pe.Hardened||e)throw new Cf.InvalidIndexCantDeriveHardened;if(t<0)throw new Cf.InvalidPath(t);var r=Sn.integerAsBuffer(t),n=Sn.concat([this.publicKey.toBuffer(),r]),i=zie.sha512hmac(n,this._buffers.chainCode),s=Kie.fromBuffer(i.slice(0,32),{size:32}),u=i.slice(32,64),o;try{o=Vie.fromPoint(FM.getG().mul(s).add(this.publicKey.point))}catch{return this._deriveWithNumber(t+1)}var a=new Pe({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:u,publicKey:o});return a};Pe.prototype._deriveFromString=function(t){if(_s.includes(t,"'"))throw new Cf.InvalidIndexCantDeriveHardened;if(!Pe.isValidPath(t))throw new Cf.InvalidPath(t);var e=RA._getDerivationIndexes(t),r=e.reduce(function(n,i){return n._deriveWithNumber(i)},this);return r};Pe.isValidSerialized=function(t,e){return _s.isNull(Pe.getSerializedError(t,e))};Pe.getSerializedError=function(t,e){if(!(_s.isString(t)||Sn.isBuffer(t)))return new Cf.UnrecognizedArgument("expected buffer or string");if(!Bke.validCharacters(t))return new s8.InvalidB58Char("(unknown)",t);try{t=FA.decode(t)}catch{return new s8.InvalidB58Checksum(t)}if(t.length!==Pe.DataSize)return new Cf.InvalidLength(t);if(!_s.isUndefined(e)){var r=Pe._validateNetwork(t,e);if(r)return r}var n=Sn.integerFromBuffer(t.slice(0,4));return n===Y7.livenet.xprivkey||n===Y7.testnet.xprivkey?new Cf.ArgumentIsPrivateExtended:null};Pe._validateNetwork=function(t,e){var r=Y7.get(e);if(!r)return new s8.InvalidNetworkArgument(e);var n=t.slice(Pe.VersionStart,Pe.VersionEnd);return Sn.integerFromBuffer(n)!==r.xpubkey?new s8.InvalidNetwork(n):null};Pe.prototype._buildFromPrivate=function(t){var e=_s.clone(t._buffers),r=FM.getG().mul(Kie.fromBuffer(e.privateKey));return e.publicKey=FM.pointToCompressed(r),e.version=Sn.integerAsBuffer(Y7.get(Sn.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)};Pe.prototype._buildFromObject=function(t){var e={version:t.network?Sn.integerAsBuffer(Y7.get(t.network).xpubkey):t.version,depth:_s.isNumber(t.depth)?Sn.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:_s.isNumber(t.parentFingerPrint)?Sn.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:_s.isNumber(t.childIndex)?Sn.integerAsBuffer(t.childIndex):t.childIndex,chainCode:_s.isString(t.chainCode)?I.Buffer.from(t.chainCode,"hex"):t.chainCode,publicKey:_s.isString(t.publicKey)?I.Buffer.from(t.publicKey,"hex"):Sn.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:_s.isNumber(t.checksum)?Sn.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(e)};Pe.prototype._buildFromSerialized=function(t){var e=FA.decode(t),r={version:e.slice(Pe.VersionStart,Pe.VersionEnd),depth:e.slice(Pe.DepthStart,Pe.DepthEnd),parentFingerPrint:e.slice(Pe.ParentFingerPrintStart,Pe.ParentFingerPrintEnd),childIndex:e.slice(Pe.ChildIndexStart,Pe.ChildIndexEnd),chainCode:e.slice(Pe.ChainCodeStart,Pe.ChainCodeEnd),publicKey:e.slice(Pe.PublicKeyStart,Pe.PublicKeyEnd),checksum:e.slice(Pe.ChecksumStart,Pe.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)};Pe.prototype._buildFromBuffers=function(t){Pe._validateBufferArguments(t),qie.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],r=Sn.concat(e),n=FA.checksum(r);if(!t.checksum||!t.checksum.length)t.checksum=n;else if(t.checksum.toString("hex")!==n.toString("hex"))throw new s8.InvalidB58Checksum(r,n);var i=Y7.get(Sn.integerFromBuffer(t.version)),s;s=FA.encode(Sn.concat(e)),t.xpubkey=I.Buffer.from(s);var u=new Vie(t.publicKey,{network:i}),o=Pe.ParentFingerPrintSize,a=zie.sha256ripemd160(u.toBuffer()).slice(0,o);return qie.defineImmutable(this,{xpubkey:s,network:i,depth:Sn.integerFromSingleByteBuffer(t.depth),publicKey:u,fingerPrint:a}),this};Pe._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];MA(Sn.isBuffer(i),r+" argument is not a buffer, it's "+typeof i),MA(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",Pe.VersionSize),e("depth",Pe.DepthSize),e("parentFingerPrint",Pe.ParentFingerPrintSize),e("childIndex",Pe.ChildIndexSize),e("chainCode",Pe.ChainCodeSize),e("publicKey",Pe.PublicKeySize),t.checksum&&t.checksum.length&&e("checksum",Pe.CheckSumSize)};Pe.fromString=function(t){return jie.checkArgument(_s.isString(t),"No valid string was provided"),new Pe(t)};Pe.fromObject=function(t){return jie.checkArgument(_s.isObject(t),"No valid argument was provided"),new Pe(t)};Pe.prototype.toString=function(){return this.xpubkey};Pe.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"};Pe.prototype.toObject=Pe.prototype.toJSON=function(){return{network:Y7.get(Sn.integerFromBuffer(this._buffers.version)).name,depth:Sn.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:Sn.integerFromBuffer(this.fingerPrint),parentFingerPrint:Sn.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:Sn.integerFromBuffer(this._buffers.childIndex),chainCode:Sn.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:Sn.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}};Pe.fromBuffer=function(t){return new Pe(t)};Pe.prototype.toBuffer=function(){return Sn.copy(this._buffers.xpubkey)};Pe.Hardened=2147483648;Pe.RootElementAlias=["m","M"];Pe.VersionSize=4;Pe.DepthSize=1;Pe.ParentFingerPrintSize=4;Pe.ChildIndexSize=4;Pe.ChainCodeSize=32;Pe.PublicKeySize=33;Pe.CheckSumSize=4;Pe.DataSize=78;Pe.SerializedByteSize=82;Pe.VersionStart=0;Pe.VersionEnd=Pe.VersionStart+Pe.VersionSize;Pe.DepthStart=Pe.VersionEnd;Pe.DepthEnd=Pe.DepthStart+Pe.DepthSize;Pe.ParentFingerPrintStart=Pe.DepthEnd;Pe.ParentFingerPrintEnd=Pe.ParentFingerPrintStart+Pe.ParentFingerPrintSize;Pe.ChildIndexStart=Pe.ParentFingerPrintEnd;Pe.ChildIndexEnd=Pe.ChildIndexStart+Pe.ChildIndexSize;Pe.ChainCodeStart=Pe.ChildIndexEnd;Pe.ChainCodeEnd=Pe.ChainCodeStart+Pe.ChainCodeSize;Pe.PublicKeyStart=Pe.ChainCodeEnd;Pe.PublicKeyEnd=Pe.PublicKeyStart+Pe.PublicKeySize;Pe.ChecksumStart=Pe.PublicKeyEnd;Pe.ChecksumEnd=Pe.ChecksumStart+Pe.CheckSumSize;MA(Pe.PublicKeyEnd===Pe.DataSize);MA(Pe.ChecksumEnd===Pe.SerializedByteSize);Wie.exports=Pe});var MM=$((sbt,ese)=>{"use strict";B();k();var NA=wc(),Yie=us(),rs=Mr(),Zie=qr(),Jie=ou(),kke=z4(),u8=Cb(),NM=Ss(),X7=Q3(),Cke=X3(),Qie=r1(),Fke=r8(),Yb=ec(),jl=Yb.HDPrivateKey,ri=ti(),o8=Yi(),Rke=128,Xie=1/8,Mke=512;function _e(t){if(t instanceof _e)return t;if(!(this instanceof _e))return new _e(t);if(!t)return this._generateRandomly();if(X7.get(t))return this._generateRandomly(t);if(rs.isString(t)||ri.isBuffer(t))if(_e.isValidSerialized(t))this._buildFromSerialized(t);else if(o8.isValidJSON(t))this._buildFromJSON(t);else if(ri.isBuffer(t)&&_e.isValidSerialized(t.toString()))this._buildFromSerialized(t.toString());else throw _e.getSerializedError(t);else if(rs.isObject(t))this._buildFromObject(t);else throw new jl.UnrecognizedArgument(t)}_e.isValidPath=function(t,e){if(rs.isString(t)){var r=_e._getDerivationIndexes(t);return r!==null&&rs.every(r,_e.isValidPath)}return rs.isNumber(t)?(t<_e.Hardened&&e===!0&&(t+=_e.Hardened),t>=0&&t<_e.MaxIndex):!1};_e._getDerivationIndexes=function(t){var e=t.split("/");if(rs.includes(_e.RootElementAlias,t))return[];if(!rs.includes(_e.RootElementAlias,e[0]))return null;var r=e.slice(1).map(function(n){var i=n.slice(-1)==="'";if(i&&(n=n.slice(0,-1)),!n||n[0]==="-")return NaN;var s=+n;return i&&(s+=_e.Hardened),s});return rs.some(r,isNaN)?null:r};_e.prototype.derive=function(t,e){return this.deriveNonCompliantChild(t,e)};_e.prototype.deriveChild=function(t,e){if(rs.isNumber(t))return this._deriveWithNumber(t,e);if(rs.isString(t))return this._deriveFromString(t);throw new jl.InvalidDerivationArgument(t)};_e.prototype.deriveNonCompliantChild=function(t,e){if(rs.isNumber(t))return this._deriveWithNumber(t,e,!0);if(rs.isString(t))return this._deriveFromString(t,!0);throw new jl.InvalidDerivationArgument(t)};_e.prototype._deriveWithNumber=function(t,e,r){if(!_e.isValidPath(t,e))throw new jl.InvalidPath(t);e=t>=_e.Hardened?!0:e,t<_e.Hardened&&e===!0&&(t+=_e.Hardened);var n=ri.integerAsBuffer(t),i;if(e&&r){var s=this.privateKey.bn.toBuffer();i=ri.concat([I.Buffer.from([0]),s,n])}else if(e){var u=this.privateKey.bn.toBuffer({size:32});NA(u.length===32,"length of private key buffer is expected to be 32 bytes"),i=ri.concat([I.Buffer.from([0]),u,n])}else i=ri.concat([this.publicKey.toBuffer(),n]);var o=NM.sha512hmac(i,this._buffers.chainCode),a=Jie.fromBuffer(o.slice(0,32),{size:32}),l=o.slice(32,64),f=a.add(this.privateKey.toBigNumber()).umod(Cke.getN()).toBuffer({size:32});if(!Qie.isValid(f))return this._deriveWithNumber(t+1,null,r);var c=new _e({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:l,privateKey:f});return c};_e.prototype._deriveFromString=function(t,e){if(!_e.isValidPath(t))throw new jl.InvalidPath(t);var r=_e._getDerivationIndexes(t),n=r.reduce(function(i,s){return i._deriveWithNumber(s,null,e)},this);return n};_e.isValidSerialized=function(t,e){return!_e.getSerializedError(t,e)};_e.getSerializedError=function(t,e){if(!(rs.isString(t)||ri.isBuffer(t)))return new jl.UnrecognizedArgument("Expected string or buffer");if(!kke.validCharacters(t))return new Yb.InvalidB58Char("(unknown)",t);try{t=u8.decode(t)}catch{return new Yb.InvalidB58Checksum(t)}if(t.length!==_e.DataLength)return new jl.InvalidLength(t);if(!rs.isUndefined(e)){var r=_e._validateNetwork(t,e);if(r)return r}return null};_e._validateNetwork=function(t,e){var r=X7.get(e);if(!r)return new Yb.InvalidNetworkArgument(e);var n=t.slice(0,4);return ri.integerFromBuffer(n)!==r.xprivkey?new Yb.InvalidNetwork(n):null};_e.fromString=function(t){return Zie.checkArgument(rs.isString(t),"No valid string was provided"),new _e(t)};_e.fromObject=function(t){return Zie.checkArgument(rs.isObject(t),"No valid argument was provided"),new _e(t)};_e.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))};_e.prototype._buildFromObject=function(t){var e={version:t.network?ri.integerAsBuffer(X7.get(t.network).xprivkey):t.version,depth:rs.isNumber(t.depth)?ri.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:rs.isNumber(t.parentFingerPrint)?ri.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:rs.isNumber(t.childIndex)?ri.integerAsBuffer(t.childIndex):t.childIndex,chainCode:rs.isString(t.chainCode)?I.Buffer.from(t.chainCode,"hex"):t.chainCode,privateKey:rs.isString(t.privateKey)&&o8.isHexa(t.privateKey)?I.Buffer.from(t.privateKey,"hex"):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:ri.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(e)};_e.prototype._buildFromSerialized=function(t){var e=u8.decode(t),r={version:e.slice(_e.VersionStart,_e.VersionEnd),depth:e.slice(_e.DepthStart,_e.DepthEnd),parentFingerPrint:e.slice(_e.ParentFingerPrintStart,_e.ParentFingerPrintEnd),childIndex:e.slice(_e.ChildIndexStart,_e.ChildIndexEnd),chainCode:e.slice(_e.ChainCodeStart,_e.ChainCodeEnd),privateKey:e.slice(_e.PrivateKeyStart,_e.PrivateKeyEnd),checksum:e.slice(_e.ChecksumStart,_e.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)};_e.prototype._generateRandomly=function(t){return _e.fromSeed(Fke.getRandomBuffer(64),t)};_e.fromSeed=function(t,e){if(o8.isHexaString(t)&&(t=I.Buffer.from(t,"hex")),!I.Buffer.isBuffer(t))throw new jl.InvalidEntropyArgument(t);if(t.length<Rke*Xie)throw new jl.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>Mke*Xie)throw new jl.InvalidEntropyArgument.TooMuchEntropy(t);var r=NM.sha512hmac(t,I.Buffer.from("Bitcoin seed"));return new _e({network:X7.get(e)||X7.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:r.slice(0,32),chainCode:r.slice(32,64)})};_e.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=RM();this._hdPublicKey=new t(this)}};_e.prototype._buildFromBuffers=function(t){_e._validateBufferArguments(t),o8.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,ri.emptyBuffer(1),t.privateKey],r=Yie.Buffer.concat(e);if(!t.checksum||!t.checksum.length)t.checksum=u8.checksum(r);else if(t.checksum.toString()!==u8.checksum(r).toString())throw new Yb.InvalidB58Checksum(r);var n=X7.get(ri.integerFromBuffer(t.version)),i;i=u8.encode(Yie.Buffer.concat(e)),t.xprivkey=I.Buffer.from(i);var s=new Qie(Jie.fromBuffer(t.privateKey),n),u=s.toPublicKey(),o=_e.ParentFingerPrintSize,a=NM.sha256ripemd160(u.toBuffer()).slice(0,o);return o8.defineImmutable(this,{xprivkey:i,network:n,depth:ri.integerFromSingleByteBuffer(t.depth),privateKey:s,publicKey:u,fingerPrint:a}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this};_e._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];NA(ri.isBuffer(i),r+" argument is not a buffer"),NA(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",_e.VersionSize),e("depth",_e.DepthSize),e("parentFingerPrint",_e.ParentFingerPrintSize),e("childIndex",_e.ChildIndexSize),e("chainCode",_e.ChainCodeSize),e("privateKey",_e.PrivateKeySize),t.checksum&&t.checksum.length&&e("checksum",_e.CheckSumSize)};_e.prototype.toString=function(){return this.xprivkey};_e.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"};_e.prototype.toObject=_e.prototype.toJSON=function(){return{network:X7.get(ri.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:ri.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:ri.integerFromBuffer(this.fingerPrint),parentFingerPrint:ri.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:ri.integerFromBuffer(this._buffers.childIndex),chainCode:ri.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:ri.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}};_e.fromBuffer=function(t){return new _e(t.toString())};_e.prototype.toBuffer=function(){return ri.copy(this._buffers.xprivkey)};_e.DefaultDepth=0;_e.DefaultFingerprint=0;_e.DefaultChildIndex=0;_e.Hardened=2147483648;_e.MaxIndex=2*_e.Hardened;_e.RootElementAlias=["m","M","m'","M'"];_e.VersionSize=4;_e.DepthSize=1;_e.ParentFingerPrintSize=4;_e.ChildIndexSize=4;_e.ChainCodeSize=32;_e.PrivateKeySize=32;_e.CheckSumSize=4;_e.DataLength=78;_e.SerializedByteSize=82;_e.VersionStart=0;_e.VersionEnd=_e.VersionStart+_e.VersionSize;_e.DepthStart=_e.VersionEnd;_e.DepthEnd=_e.DepthStart+_e.DepthSize;_e.ParentFingerPrintStart=_e.DepthEnd;_e.ParentFingerPrintEnd=_e.ParentFingerPrintStart+_e.ParentFingerPrintSize;_e.ChildIndexStart=_e.ParentFingerPrintEnd;_e.ChildIndexEnd=_e.ChildIndexStart+_e.ChildIndexSize;_e.ChainCodeStart=_e.ChildIndexEnd;_e.ChainCodeEnd=_e.ChainCodeStart+_e.ChainCodeSize;_e.PrivateKeyStart=_e.ChainCodeEnd+1;_e.PrivateKeyEnd=_e.PrivateKeyStart+_e.PrivateKeySize;_e.ChecksumStart=_e.PrivateKeyEnd;_e.ChecksumEnd=_e.ChecksumStart+_e.CheckSumSize;NA(_e.ChecksumEnd===_e.SerializedByteSize);ese.exports=_e});var nse=$((cbt,rse)=>{"use strict";B();k();var a8=Mr(),Nke=r1(),Dke=If(),DA=xf(),tse=fu(),HA=G4(),DM=ho(),Hke=Ss().sha256sha256,Lke=Yi(),c1=qr();function ws(t){return this instanceof ws?(c1.checkArgument(a8.isString(t),"First argument should be a string"),this.message=t,this):new ws(t)}ws.MAGIC_BYTES=I.Buffer.from(`Bitcoin Signed Message:
`);ws.prototype.magicHash=function(){var e=tse.varintBufNum(ws.MAGIC_BYTES.length),r=I.Buffer.from(this.message),n=tse.varintBufNum(r.length),i=I.Buffer.concat([e,ws.MAGIC_BYTES,n,r]),s=Hke(i);return s};ws.prototype._sign=function(e){c1.checkArgument(e instanceof Nke,"First argument should be an instance of PrivateKey");var r=this.magicHash(),n=new HA;return n.hashbuf=r,n.privkey=e,n.pubkey=e.toPublicKey(),n.signRandomK(),n.calci(),n.sig};ws.prototype.sign=function(e){var r=this._sign(e);return r.toCompact().toString("base64")};ws.prototype._verify=function(e,r){c1.checkArgument(e instanceof Dke,"First argument should be an instance of PublicKey"),c1.checkArgument(r instanceof DM,"Second argument should be an instance of Signature");var n=this.magicHash(),i=HA.verify(n,r,e);return i||(this.error="The signature was invalid"),i};ws.prototype.verify=function(e,r){c1.checkArgument(e),c1.checkArgument(r&&a8.isString(r)),a8.isString(e)&&(e=DA.fromString(e));var n=DM.fromCompact(I.Buffer.from(r,"base64")),i=new HA;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),u=DA.fromPublicKey(s,e.network);return e.toString()!==u.toString()?(this.error="The signature did not match the message digest",!1):this._verify(s,n)};ws.prototype.recoverPublicKey=function(e,r){c1.checkArgument(e),c1.checkArgument(r&&a8.isString(r)),a8.isString(e)&&(e=DA.fromString(e));var n=DM.fromCompact(I.Buffer.from(r,"base64")),i=new HA;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),u=DA.fromPublicKey(s,e.network);return e.toString()!==u.toString()&&(this.error="The signature did not match the message digest"),s.toString()};ws.fromString=function(t){return new ws(t)};ws.fromJSON=function(e){return Lke.isValidJSON(e)&&(e=JSON.parse(e)),new ws(e.message)};ws.prototype.toObject=function(){return{message:this.message}};ws.prototype.toJSON=function(){return JSON.stringify(this.toObject())};ws.prototype.toString=function(){return this.message};ws.prototype.inspect=function(){return"<Message: "+this.toString()+">"};rse.exports=ws;var abt=Aa()});var cse=$((dbt,ase)=>{"use strict";B();k();var sse=Mr(),use=g_(),ise=xf(),ose=SA(),ns=function(t,e){if(!(this instanceof ns))return new ns(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,typeof t=="string"){var r=ns.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else if(typeof t=="object")this._fromObject(t);else throw new TypeError("Unrecognized data format.")};ns.fromString=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return new ns(e)};ns.fromObject=function(e){return new ns(e)};ns.isValid=function(t,e){try{new ns(t,e)}catch{return!1}return!0};ns.parse=function(t){var e=use.parse(t,!0);if(e.protocol!=="bitcoin:")throw new TypeError("Invalid bitcoin URI");var r=/[^:]*:\/?\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query};ns.Members=["address","amount","message","label","r"];ns.prototype._fromObject=function(t){if(!ise.isValid(t.address))throw new TypeError("Invalid bitcoin address");this.address=new ise(t.address),this.network=this.address.network,this.amount=t.amount;for(var e in t)if(!(e==="address"||e==="amount")){if(/^req-/.exec(e)&&this.knownParams.indexOf(e)===-1)throw Error("Unknown required argument "+e);var r=ns.Members.indexOf(e)>-1?this:this.extras;r[e]=t[e]}};ns.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError("Invalid amount");return ose.fromBTC(t).toSatoshis()};ns.prototype.toObject=ns.prototype.toJSON=function(){for(var e={},r=0;r<ns.Members.length;r++){var n=ns.Members[r];this.hasOwnProperty(n)&&typeof this[n]<"u"&&(e[n]=this[n].toString())}return sse.extend(e,this.extras),e};ns.prototype.toString=function(){var t={};return this.amount&&(t.amount=ose.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),sse.extend(t,this.extras),use.format({protocol:"bitcoin:",host:this.address,query:t})};ns.prototype.inspect=function(){return"<URI: "+this.toString()+">"};ase.exports=ns});var lse=$((bbt,fse)=>{"use strict";B();k();var $t=fse.exports;$t.version="v"+Bre().version;$t.versionGuard=function(t){if(t!==void 0){var e="More than one instance of bitcore-lib found. Please make sure to require bitcore-lib and check that submodules do not also include their own bitcore-lib dependency.";throw new Error(e)}};$t.versionGuard(globalThis._bitcore);globalThis._bitcore=$t.version;$t.crypto={};$t.crypto.BN=ou();$t.crypto.ECDSA=G4();$t.crypto.Schnorr=zR();$t.crypto.Hash=Ss();$t.crypto.Random=r8();$t.crypto.Point=X3();$t.crypto.Signature=ho();$t.crypto.TaggedHash=ah();$t.encoding={};$t.encoding.Base58=z4();$t.encoding.Base58Check=Cb();$t.encoding.BufferReader=yf();$t.encoding.BufferWriter=fu();$t.encoding.Varint=Iie();$t.util={};$t.util.buffer=ti();$t.util.js=Yi();$t.util.preconditions=qr();$t.errors=ec();$t.Address=xf();$t.Block=$ie();$t.MerkleBlock=CM();$t.BlockHeader=i8();$t.HDPrivateKey=MM();$t.HDPublicKey=RM();$t.Message=nse();$t.Networks=Q3();$t.Opcode=uA();$t.PrivateKey=r1();$t.PublicKey=If();$t.Script=Aa();$t.Transaction=e8();$t.URI=cse();$t.Unit=SA();$t.deps={};$t.deps.bnjs=KF();$t.deps.bs58=NR();$t.deps.Buffer=I.Buffer;$t.deps.elliptic=u$();$t.deps._=Mr();$t.Transaction.sighash=fh()});var Xb=$(HM=>{"use strict";B();k();Object.defineProperty(HM,"__esModule",{value:!0});HM.btc=lse()});var LM=$(UA=>{"use strict";B();k();Object.defineProperty(UA,"__esModule",{value:!0});UA.ProtocolState=void 0;var LA=nn(),Uke=ei(),$ke=Xb(),Kl=(0,LA.toByteString)(""),vh=class{constructor(e,r){this.stateHashList=e,this.dataList=r}get hashRoot(){let e="";for(let r=0;r<this.stateHashList.length;r++)e+=(0,LA.hash160)(this.stateHashList[r]);return(0,LA.hash160)(e)}get stateScript(){return new $ke.btc.Script(Uke.TxUtil.getStateScript(this.hashRoot))}static toStateHashList(e){let r=[Kl,Kl,Kl,Kl,Kl];for(let n=0;n<e.length;n++){let i=e[n];i&&(r[n]=(0,LA.hash160)(i))}return r}static fromDataList(e){return new vh(vh.toStateHashList(e),e)}static fromStateHashList(e){return new vh(e)}static getEmptyState(){let e=[Kl,Kl,Kl,Kl,Kl];return vh.fromDataList(e)}updateDataList(e,r){this.dataList[e]=r,this.stateHashList=vh.toStateHashList(this.dataList)}};UA.ProtocolState=vh});var dse=$((Abt,qke)=>{qke.exports={name:"bigi",version:"1.4.2",description:"Big integers.",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},repository:{url:"https://github.com/cryptocoinjs/bigi",type:"git"},main:"./lib/index.js",scripts:{"browser-test":"./node_modules/.bin/mochify --wd -R spec",test:"./node_modules/.bin/_mocha -- test/*.js",jshint:"./node_modules/.bin/jshint --config jshint.json lib/*.js ; true",unit:"./node_modules/.bin/mocha",coverage:"./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info"},dependencies:{},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]}}});var qM=$((Tbt,yse)=>{B();k();function Ye(t,e,r){if(!(this instanceof Ye))return new Ye(t,e,r);t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}var We=Ye.prototype;We.__bigi=dse().version;Ye.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===We.__bigi)};var Zb;function jke(t,e,r,n,i,s){for(;--s>=0;){var u=e*this[t++]+r[n]+i;i=Math.floor(u/67108864),r[n++]=u&67108863}return i}Ye.prototype.am=jke;Zb=26;Ye.prototype.DB=Zb;Ye.prototype.DM=(1<<Zb)-1;var Kke=Ye.prototype.DV=1<<Zb,UM=52;Ye.prototype.FV=Math.pow(2,UM);Ye.prototype.F1=UM-Zb;Ye.prototype.F2=2*Zb-UM;var zke="0123456789abcdefghijklmnopqrstuvwxyz",$A=new Array,Jb,d0;Jb="0".charCodeAt(0);for(d0=0;d0<=9;++d0)$A[Jb++]=d0;Jb="a".charCodeAt(0);for(d0=10;d0<36;++d0)$A[Jb++]=d0;Jb="A".charCodeAt(0);for(d0=10;d0<36;++d0)$A[Jb++]=d0;function hse(t){return zke.charAt(t)}function pse(t,e){var r=$A[t.charCodeAt(e)];return r??-1}function Vke(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function Gke(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+Kke:this.t=0}function Sh(t){var e=new Ye;return e.fromInt(t),e}function Wke(t,e){var r=this,n;if(e==16)n=4;else if(e==8)n=3;else if(e==256)n=8;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else{r.fromRadix(t,e);return}r.t=0,r.s=0;for(var i=t.length,s=!1,u=0;--i>=0;){var o=n==8?t[i]&255:pse(t,i);if(o<0){t.charAt(i)=="-"&&(s=!0);continue}s=!1,u==0?r[r.t++]=o:u+n>r.DB?(r[r.t-1]|=(o&(1<<r.DB-u)-1)<<u,r[r.t++]=o>>r.DB-u):r[r.t-1]|=o<<u,u+=n,u>=r.DB&&(u-=r.DB)}n==8&&(t[0]&128)!=0&&(r.s=-1,u>0&&(r[r.t-1]|=(1<<r.DB-u)-1<<u)),r.clamp(),s&&Ye.ZERO.subTo(r,r)}function Yke(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function Xke(t){var e=this;if(e.s<0)return"-"+e.negate().toString(t);var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else return e.toRadix(t);var n=(1<<r)-1,i,s=!1,u="",o=e.t,a=e.DB-o*e.DB%r;if(o-- >0)for(a<e.DB&&(i=e[o]>>a)>0&&(s=!0,u=hse(i));o>=0;)a<r?(i=(e[o]&(1<<a)-1)<<r-a,i|=e[--o]>>(a+=e.DB-r)):(i=e[o]>>(a-=r)&n,a<=0&&(a+=e.DB,--o)),i>0&&(s=!0),s&&(u+=hse(i));return s?u:"0"}function Zke(){var t=new Ye;return Ye.ZERO.subTo(this,t),t}function Jke(){return this.s<0?this.negate():this}function Qke(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this[r]-t[r])!=0)return e;return 0}function qA(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function eCe(){return this.t<=0?0:this.DB*(this.t-1)+qA(this[this.t-1]^this.s&this.DM)}function tCe(){return this.bitLength()>>3}function rCe(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function nCe(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function iCe(t,e){var r=this,n=t%r.DB,i=r.DB-n,s=(1<<i)-1,u=Math.floor(t/r.DB),o=r.s<<n&r.DM,a;for(a=r.t-1;a>=0;--a)e[a+u+1]=r[a]>>i|o,o=(r[a]&s)<<n;for(a=u-1;a>=0;--a)e[a]=0;e[u]=o,e.t=r.t+u+1,e.s=r.s,e.clamp()}function sCe(t,e){var r=this;e.s=r.s;var n=Math.floor(t/r.DB);if(n>=r.t){e.t=0;return}var i=t%r.DB,s=r.DB-i,u=(1<<i)-1;e[0]=r[n]>>i;for(var o=n+1;o<r.t;++o)e[o-n-1]|=(r[o]&u)<<s,e[o-n]=r[o]>>i;i>0&&(e[r.t-n-1]|=(r.s&u)<<s),e.t=r.t-n,e.clamp()}function uCe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]-t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i-=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i-=t[n],e[n++]=i&r.DM,i>>=r.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=r.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function oCe(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&Ye.ZERO.subTo(e,e)}function aCe(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function cCe(t,e,r){var n=this,i=t.abs();if(!(i.t<=0)){var s=n.abs();if(s.t<i.t){e?.fromInt(0),r!=null&&n.copyTo(r);return}r==null&&(r=new Ye);var u=new Ye,o=n.s,a=t.s,l=n.DB-qA(i[i.t-1]);l>0?(i.lShiftTo(l,u),s.lShiftTo(l,r)):(i.copyTo(u),s.copyTo(r));var f=u.t,c=u[f-1];if(c!=0){var h=c*(1<<n.F1)+(f>1?u[f-2]>>n.F2:0),d=n.FV/h,p=(1<<n.F1)/h,m=1<<n.F2,w=r.t,x=w-f,_=e??new Ye;for(u.dlShiftTo(x,_),r.compareTo(_)>=0&&(r[r.t++]=1,r.subTo(_,r)),Ye.ONE.dlShiftTo(f,_),_.subTo(u,u);u.t<f;)u[u.t++]=0;for(;--x>=0;){var y=r[--w]==c?n.DM:Math.floor(r[w]*d+(r[w-1]+m)*p);if((r[w]+=u.am(0,y,r,x,0,f))<y)for(u.dlShiftTo(x,_),r.subTo(_,r);r[w]<--y;)r.subTo(_,r)}e!=null&&(r.drShiftTo(f,e),o!=a&&Ye.ZERO.subTo(e,e)),r.t=f,r.clamp(),l>0&&r.rShiftTo(l,r),o<0&&Ye.ZERO.subTo(r,r)}}}function fCe(t){var e=new Ye;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(Ye.ZERO)>0&&t.subTo(e,e),e}function Z7(t){this.m=t}function lCe(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function dCe(t){return t}function hCe(t){t.divRemTo(this.m,null,t)}function pCe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function bCe(t,e){t.squareTo(e),this.reduce(e)}Z7.prototype.convert=lCe;Z7.prototype.revert=dCe;Z7.prototype.reduce=hCe;Z7.prototype.mulTo=pCe;Z7.prototype.sqrTo=bCe;function gCe(){if(this.t<1)return 0;var t=this[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function J7(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function mCe(t){var e=new Ye;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(Ye.ZERO)>0&&this.m.subTo(e,e),e}function yCe(t){var e=new Ye;return t.copyTo(e),this.reduce(e),e}function vCe(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t[e]&32767,n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function SCe(t,e){t.squareTo(e),this.reduce(e)}function _Ce(t,e,r){t.multiplyTo(e,r),this.reduce(r)}J7.prototype.convert=mCe;J7.prototype.revert=yCe;J7.prototype.reduce=vCe;J7.prototype.mulTo=_Ce;J7.prototype.sqrTo=SCe;function wCe(){return(this.t>0?this[0]&1:this.s)==0}function ECe(t,e){if(t>4294967295||t<1)return Ye.ONE;var r=new Ye,n=new Ye,i=e.convert(this),s=qA(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var u=r;r=n,n=u}return e.revert(r)}function ACe(t,e){var r;return t<256||e.isEven()?r=new Z7(e):r=new J7(e),this.exp(t,r)}We.copyTo=Vke;We.fromInt=Gke;We.fromString=Wke;We.clamp=Yke;We.dlShiftTo=rCe;We.drShiftTo=nCe;We.lShiftTo=iCe;We.rShiftTo=sCe;We.subTo=uCe;We.multiplyTo=oCe;We.squareTo=aCe;We.divRemTo=cCe;We.invDigit=gCe;We.isEven=wCe;We.exp=ECe;We.toString=Xke;We.negate=Zke;We.abs=Jke;We.compareTo=Qke;We.bitLength=eCe;We.byteLength=tCe;We.mod=fCe;We.modPowInt=ACe;function TCe(){var t=new Ye;return this.copyTo(t),t}function xCe(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ICe(){return this.t==0?this.s:this[0]<<24>>24}function PCe(){return this.t==0?this.s:this[0]<<16>>16}function OCe(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function BCe(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function kCe(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Sh(r),i=new Ye,s=new Ye,u="";for(this.divRemTo(n,i,s);i.signum()>0;)u=(r+s.intValue()).toString(t).substr(1)+u,i.divRemTo(n,i,s);return s.intValue().toString(t)+u}function CCe(t,e){var r=this;r.fromInt(0),e==null&&(e=10);for(var n=r.chunkSize(e),i=Math.pow(e,n),s=!1,u=0,o=0,a=0;a<t.length;++a){var l=pse(t,a);if(l<0){t.charAt(a)=="-"&&r.signum()==0&&(s=!0);continue}o=e*o+l,++u>=n&&(r.dMultiply(i),r.dAddOffset(o,0),u=0,o=0)}u>0&&(r.dMultiply(Math.pow(e,u)),r.dAddOffset(o,0)),s&&Ye.ZERO.subTo(r,r)}function FCe(t,e,r){var n=this;if(typeof e=="number")if(t<2)n.fromInt(1);else for(n.fromNumber(t,r),n.testBit(t-1)||n.bitwiseTo(Ye.ONE.shiftLeft(t-1),$M,n),n.isEven()&&n.dAddOffset(1,0);!n.isProbablePrime(e);)n.dAddOffset(2,0),n.bitLength()>t&&n.subTo(Ye.ONE.shiftLeft(t-1),n);else{var i=new Array,s=t&7;i.length=(t>>3)+1,e.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,n.fromString(i,256)}}function RCe(){var t=this,e=t.t,r=new Array;r[0]=t.s;var n=t.DB-e*t.DB%8,i,s=0;if(e-- >0)for(n<t.DB&&(i=t[e]>>n)!=(t.s&t.DM)>>n&&(r[s++]=i|t.s<<t.DB-n);e>=0;)n<8?(i=(t[e]&(1<<n)-1)<<8-n,i|=t[--e]>>(n+=t.DB-8)):(i=t[e]>>(n-=8)&255,n<=0&&(n+=t.DB,--e)),(i&128)!=0&&(i|=-256),s===0&&(t.s&128)!=(i&128)&&++s,(s>0||i!=t.s)&&(r[s++]=i);return r}function MCe(t){return this.compareTo(t)==0}function NCe(t){return this.compareTo(t)<0?this:t}function DCe(t){return this.compareTo(t)>0?this:t}function HCe(t,e,r){var n=this,i,s,u=Math.min(t.t,n.t);for(i=0;i<u;++i)r[i]=e(n[i],t[i]);if(t.t<n.t){for(s=t.s&n.DM,i=u;i<n.t;++i)r[i]=e(n[i],s);r.t=n.t}else{for(s=n.s&n.DM,i=u;i<t.t;++i)r[i]=e(s,t[i]);r.t=t.t}r.s=e(n.s,t.s),r.clamp()}function LCe(t,e){return t&e}function UCe(t){var e=new Ye;return this.bitwiseTo(t,LCe,e),e}function $M(t,e){return t|e}function $Ce(t){var e=new Ye;return this.bitwiseTo(t,$M,e),e}function bse(t,e){return t^e}function qCe(t){var e=new Ye;return this.bitwiseTo(t,bse,e),e}function gse(t,e){return t&~e}function jCe(t){var e=new Ye;return this.bitwiseTo(t,gse,e),e}function KCe(){for(var t=new Ye,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function zCe(t){var e=new Ye;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function VCe(t){var e=new Ye;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function GCe(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function WCe(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+GCe(this[t]);return this.s<0?this.t*this.DB:-1}function YCe(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function XCe(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=YCe(this[r]^e);return t}function ZCe(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<t%this.DB)!=0}function JCe(t,e){var r=Ye.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function QCe(t){return this.changeBit(t,$M)}function eFe(t){return this.changeBit(t,gse)}function tFe(t){return this.changeBit(t,bse)}function rFe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]+t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i+=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i+=t[n],e[n++]=i&r.DM,i>>=r.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=r.DV+i),e.t=n,e.clamp()}function nFe(t){var e=new Ye;return this.addTo(t,e),e}function iFe(t){var e=new Ye;return this.subTo(t,e),e}function sFe(t){var e=new Ye;return this.multiplyTo(t,e),e}function uFe(){var t=new Ye;return this.squareTo(t),t}function oFe(t){var e=new Ye;return this.divRemTo(t,e,null),e}function aFe(t){var e=new Ye;return this.divRemTo(t,null,e),e}function cFe(t){var e=new Ye,r=new Ye;return this.divRemTo(t,e,r),new Array(e,r)}function fFe(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function lFe(t,e){if(t!=0){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function c8(){}function mse(t){return t}function dFe(t,e,r){t.multiplyTo(e,r)}function hFe(t,e){t.squareTo(e)}c8.prototype.convert=mse;c8.prototype.revert=mse;c8.prototype.mulTo=dFe;c8.prototype.sqrTo=hFe;function pFe(t){return this.exp(t,new c8)}function bFe(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function gFe(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Qb(t){this.r2=new Ye,this.q3=new Ye,Ye.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function mFe(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new Ye;return t.copyTo(e),this.reduce(e),e}function yFe(t){return t}function vFe(t){var e=this;for(t.drShiftTo(e.m.t-1,e.r2),t.t>e.m.t+1&&(t.t=e.m.t+1,t.clamp()),e.mu.multiplyUpperTo(e.r2,e.m.t+1,e.q3),e.m.multiplyLowerTo(e.q3,e.m.t+1,e.r2);t.compareTo(e.r2)<0;)t.dAddOffset(1,e.m.t+1);for(t.subTo(e.r2,t);t.compareTo(e.m)>=0;)t.subTo(e.m,t)}function SFe(t,e){t.squareTo(e),this.reduce(e)}function _Fe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Qb.prototype.convert=mFe;Qb.prototype.revert=yFe;Qb.prototype.reduce=vFe;Qb.prototype.mulTo=_Fe;Qb.prototype.sqrTo=SFe;function wFe(t,e){var r=t.bitLength(),n,i=Sh(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new Z7(e):e.isEven()?s=new Qb(e):s=new J7(e);var u=new Array,o=3,a=n-1,l=(1<<n)-1;if(u[1]=s.convert(this),n>1){var f=new Ye;for(s.sqrTo(u[1],f);o<=l;)u[o]=new Ye,s.mulTo(f,u[o-2],u[o]),o+=2}var c=t.t-1,h,d=!0,p=new Ye,m;for(r=qA(t[c])-1;c>=0;){for(r>=a?h=t[c]>>r-a&l:(h=(t[c]&(1<<r+1)-1)<<a-r,c>0&&(h|=t[c-1]>>this.DB+r-a)),o=n;(h&1)==0;)h>>=1,--o;if((r-=o)<0&&(r+=this.DB,--c),d)u[h].copyTo(i),d=!1;else{for(;o>1;)s.sqrTo(i,p),s.sqrTo(p,i),o-=2;o>0?s.sqrTo(i,p):(m=i,i=p,p=m),s.mulTo(p,u[h],i)}for(;c>=0&&(t[c]&1<<r)==0;)s.sqrTo(i,p),m=i,i=p,p=m,--r<0&&(r=this.DB-1,--c)}return s.revert(i)}function EFe(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function AFe(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function TFe(t){var e=t.isEven();if(this.signum()===0)throw new Error("division by zero");if(this.isEven()&&e||t.signum()==0)return Ye.ZERO;for(var r=t.clone(),n=this.clone(),i=Sh(1),s=Sh(0),u=Sh(0),o=Sh(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!u.isEven()||!o.isEven())&&(u.addTo(this,u),o.subTo(t,o)),u.rShiftTo(1,u)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(u,i),s.subTo(o,s)):(n.subTo(r,n),e&&u.subTo(i,u),o.subTo(s,o))}if(n.compareTo(Ye.ONE)!=0)return Ye.ZERO;for(;o.compareTo(t)>=0;)o.subTo(t,o);for(;o.signum()<0;)o.addTo(t,o);return o}var Uo=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],xFe=(1<<26)/Uo[Uo.length-1];function IFe(t){var e,r=this.abs();if(r.t==1&&r[0]<=Uo[Uo.length-1]){for(e=0;e<Uo.length;++e)if(r[0]==Uo[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Uo.length;){for(var n=Uo[e],i=e+1;i<Uo.length&&n<xFe;)n*=Uo[i++];for(n=r.modInt(n);e<i;)if(n%Uo[e++]==0)return!1}return r.millerRabin(t)}function PFe(t){var e=this.subtract(Ye.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);t=t+1>>1,t>Uo.length&&(t=Uo.length);for(var i=new Ye(null),s,u=[],o=0;o<t;++o){for(;s=Uo[Math.floor(Math.random()*Uo.length)],u.indexOf(s)!=-1;);u.push(s),i.fromInt(s);var a=i.modPow(n,this);if(a.compareTo(Ye.ONE)!=0&&a.compareTo(e)!=0){for(var s=1;s++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(Ye.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}We.chunkSize=OCe;We.toRadix=kCe;We.fromRadix=CCe;We.fromNumber=FCe;We.bitwiseTo=HCe;We.changeBit=JCe;We.addTo=rFe;We.dMultiply=fFe;We.dAddOffset=lFe;We.multiplyLowerTo=bFe;We.multiplyUpperTo=gFe;We.modInt=AFe;We.millerRabin=PFe;We.clone=TCe;We.intValue=xCe;We.byteValue=ICe;We.shortValue=PCe;We.signum=BCe;We.toByteArray=RCe;We.equals=MCe;We.min=NCe;We.max=DCe;We.and=UCe;We.or=$Ce;We.xor=qCe;We.andNot=jCe;We.not=KCe;We.shiftLeft=zCe;We.shiftRight=VCe;We.getLowestSetBit=WCe;We.bitCount=XCe;We.testBit=ZCe;We.setBit=QCe;We.clearBit=eFe;We.flipBit=tFe;We.add=nFe;We.subtract=iFe;We.multiply=sFe;We.divide=oFe;We.remainder=aFe;We.divideAndRemainder=cFe;We.modPow=wFe;We.modInverse=TFe;We.pow=pFe;We.gcd=EFe;We.isProbablePrime=IFe;We.square=uFe;Ye.ZERO=Sh(0);Ye.ONE=Sh(1);Ye.valueOf=Sh;yse.exports=Ye});var Sse=$(()=>{B();k();var vse=wc(),bo=qM();bo.fromByteArrayUnsigned=function(t){return t[0]&128?new bo([0].concat(t)):new bo(t)};bo.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return t[0]===0?t.slice(1):t};bo.fromDERInteger=function(t){return new bo(t)};bo.prototype.toDERInteger=bo.prototype.toByteArray;bo.fromBuffer=function(t){if(t[0]&128){var e=Array.prototype.slice.call(t);return new bo([0].concat(e))}return new bo(t)};bo.fromHex=function(t){return t===""?bo.ZERO:(vse.equal(t,t.match(/^[A-Fa-f0-9]+/),"Invalid hex string"),vse.equal(t.length%2,0,"Incomplete hex"),new bo(t,16))};bo.prototype.toBuffer=function(t){for(var e=this.toByteArrayUnsigned(),r=[],n=t-e.length;r.length<n;)r.push(0);return new I.Buffer(r.concat(e))};bo.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")}});var f8=$((Cbt,_se)=>{B();k();var OFe=qM();Sse();_se.exports=OFe});var KM=$((Mbt,wse)=>{B();k();var jA=wc(),jM=$m().Buffer,KA=f8(),zA=KA.valueOf(3);function Ms(t,e,r,n){jA.notStrictEqual(n,void 0,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=n,this._zInv=null,this.compressed=!0}Object.defineProperty(Ms.prototype,"zInv",{get:function(){return this._zInv===null&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}});Object.defineProperty(Ms.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}});Object.defineProperty(Ms.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}});Ms.fromAffine=function(t,e,r){return new Ms(t,e,r,KA.ONE)};Ms.prototype.equals=function(t){if(t===this)return!0;if(this.curve.isInfinity(this))return this.curve.isInfinity(t);if(this.curve.isInfinity(t))return this.curve.isInfinity(this);var e=t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p);if(e.signum()!==0)return!1;var r=t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p);return r.signum()===0};Ms.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new Ms(this.curve,this.x,t,this.z)};Ms.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y,s=i.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),u=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(u.signum()===0)return s.signum()===0?this.twice():this.curve.infinity;var o=u.square(),a=o.multiply(u),l=e.multiply(o),f=s.square().multiply(this.z),c=f.subtract(l.shiftLeft(1)).multiply(t.z).subtract(a).multiply(u).mod(this.curve.p),h=l.multiply(zA).multiply(s).subtract(r.multiply(a)).subtract(f.multiply(s)).multiply(t.z).add(s.multiply(a)).mod(this.curve.p),d=a.multiply(this.z).multiply(t.z).mod(this.curve.p);return new Ms(this.curve,c,h,d)};Ms.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(this.y.signum()===0)return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,s=t.square().multiply(zA);i.signum()!==0&&(s=s.add(this.z.square().multiply(i))),s=s.mod(this.curve.p);var u=s.square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),o=s.multiply(zA).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(s.pow(3)).mod(this.curve.p),a=r.pow(3).shiftLeft(3).mod(this.curve.p);return new Ms(this.curve,u,o,a)};Ms.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(t.signum()===0)return this.curve.infinity;for(var e=t,r=e.multiply(zA),n=this.negate(),i=this,s=r.bitLength()-2;s>0;--s){var u=r.testBit(s),o=e.testBit(s);i=i.twice(),u!==o&&(i=i.add(u?this:n))}return i};Ms.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,s=this.add(e);n>=0;){var u=t.testBit(n),o=r.testBit(n);i=i.twice(),u?o?i=i.add(s):i=i.add(this):o&&(i=i.add(e)),--n}return i};Ms.prototype.getEncoded=function(t){if(t==null&&(t=this.compressed),this.curve.isInfinity(this))return jM.alloc(1,0);var e=this.affineX,r=this.affineY,n=this.curve.pLength,i;return t?(i=jM.allocUnsafe(1+n),i.writeUInt8(r.isEven()?2:3,0)):(i=jM.allocUnsafe(1+n+n),i.writeUInt8(4,0),r.toBuffer(n).copy(i,1+n)),e.toBuffer(n).copy(i,1),i};Ms.decodeFrom=function(t,e){var r=e.readUInt8(0),n=r!==4,i=Math.floor((t.p.bitLength()+7)/8),s=KA.fromBuffer(e.slice(1,1+i)),u;if(n){jA.equal(e.length,i+1,"Invalid sequence length"),jA(r===2||r===3,"Invalid sequence tag");var o=r===3;u=t.pointFromX(o,s)}else{jA.equal(e.length,1+i+i,"Invalid sequence length");var a=KA.fromBuffer(e.slice(1+i));u=Ms.fromAffine(t,s,a)}return u.compressed=n,u};Ms.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"};wse.exports=Ms});var GM=$((Hbt,Ase)=>{B();k();var zM=wc(),Ese=f8(),VM=KM();function l8(t,e,r,n,i,s,u){this.p=t,this.a=e,this.b=r,this.G=VM.fromAffine(this,n,i),this.n=s,this.h=u,this.infinity=new VM(this,null,null,Ese.ZERO),this.pOverFour=t.add(Ese.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}l8.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p),n=r.modPow(this.pOverFour,this.p),i=n;return n.isEven()^!t&&(i=this.p.subtract(i)),VM.fromAffine(this,e,i)};l8.prototype.isInfinity=function(t){return t===this.infinity?!0:t.z.signum()===0&&t.y.signum()!==0};l8.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,s=this.p;if(e.signum()<0||e.compareTo(s)>=0||r.signum()<0||r.compareTo(s)>=0)return!1;var u=r.square().mod(s),o=e.pow(3).add(n.multiply(e)).add(i).mod(s);return u.equals(o)};l8.prototype.validate=function(t){zM(!this.isInfinity(t),"Point is at infinity"),zM(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return zM(this.isInfinity(e),"Point is not a scalar multiple of G"),!0};Ase.exports=l8});var Tse=$(($bt,BFe)=>{BFe.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}});var Ise=$((qbt,xse)=>{B();k();var Q7=f8(),kFe=Tse(),CFe=GM();function FFe(t){var e=kFe[t];if(!e)return null;var r=new Q7(e.p,16),n=new Q7(e.a,16),i=new Q7(e.b,16),s=new Q7(e.n,16),u=new Q7(e.h,16),o=new Q7(e.Gx,16),a=new Q7(e.Gy,16);return new CFe(r,n,i,o,a,s,u)}xse.exports=FFe});var Ose=$((zbt,Pse)=>{B();k();var RFe=KM(),MFe=GM(),NFe=Ise();Pse.exports={Curve:MFe,Point:RFe,getCurveByName:NFe}});var Bse=$((exports,module)=>{B();k();(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=globalThis:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(i){return e.create().update(i)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(i){return new HmacSha256(i,t)},e.update=function(i,s){return e.create(i).update(s)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(r!=="string"){if(r==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,i=0,s,u=t.length,o=this.blocks;i<u;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(s=this.start;i<u&&s<64;++i)o[s>>2]|=t[i]<<SHIFT[s++&3];else for(s=this.start;i<u&&s<64;++i)n=t.charCodeAt(i),n<128?o[s>>2]|=n<<SHIFT[s++&3]:n<2048?(o[s>>2]|=(192|n>>6)<<SHIFT[s++&3],o[s>>2]|=(128|n&63)<<SHIFT[s++&3]):n<55296||n>=57344?(o[s>>2]|=(224|n>>12)<<SHIFT[s++&3],o[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],o[s>>2]|=(128|n&63)<<SHIFT[s++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++i)&1023),o[s>>2]|=(240|n>>18)<<SHIFT[s++&3],o[s>>2]|=(128|n>>12&63)<<SHIFT[s++&3],o[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],o[s>>2]|=(128|n&63)<<SHIFT[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=o[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,u=this.h6,o=this.h7,a=this.blocks,l,f,c,h,d,p,m,w,x,_,y;for(l=16;l<64;++l)d=a[l-15],f=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,d=a[l-2],c=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,a[l]=a[l-16]+f+a[l-7]+c<<0;for(y=e&r,l=0;l<64;l+=4)this.first?(this.is224?(w=300032,d=a[0]-1413257819,o=d-150054599<<0,n=d+24177077<<0):(w=704751109,d=a[0]-210244248,o=d-1521486534<<0,n=d+143694565<<0),this.first=!1):(f=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),c=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),w=t&e,h=w^t&r^y,m=i&s^~i&u,d=o+c+m+K[l]+a[l],p=f+h,o=n+d<<0,n=d+p<<0),f=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),c=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),x=n&t,h=x^n&e^w,m=o&i^~o&s,d=u+c+m+K[l+1]+a[l+1],p=f+h,u=r+d<<0,r=d+p<<0,f=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),c=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),_=r&n,h=_^r&t^x,m=u&o^~u&i,d=s+c+m+K[l+2]+a[l+2],p=f+h,s=e+d<<0,e=d+p<<0,f=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),c=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),y=e&r,h=y^e&n^_,m=s&u^~s&o,d=i+c+m+K[l+3]+a[l+3],p=f+h,i=t+d<<0,t=d+p<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0,this.h5=this.h5+s<<0,this.h6=this.h6+u<<0,this.h7=this.h7+o<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,u=this.h6,o=this.h7,a=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15];return this.is224||(a+=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]),a},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,u=this.h6,o=this.h7,a=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255,u>>24&255,u>>16&255,u>>8&255,u&255];return this.is224||a.push(o>>24&255,o>>16&255,o>>8&255,o&255),a},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,r){var n,i=typeof t;if(i==="string"){var s=[],u=t.length,o=0,a;for(n=0;n<u;++n)a=t.charCodeAt(n),a<128?s[o++]=a:a<2048?(s[o++]=192|a>>6,s[o++]=128|a&63):a<55296||a>=57344?(s[o++]=224|a>>12,s[o++]=128|a>>6&63,s[o++]=128|a&63):(a=65536+((a&1023)<<10|t.charCodeAt(++n)&1023),s[o++]=240|a>>18,s[o++]=128|a>>12&63,s[o++]=128|a>>6&63,s[o++]=128|a&63);t=s}else if(i==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var l=[],f=[];for(n=0;n<64;++n){var c=t[n]||0;l[n]=92^c,f[n]=54^c}Sha256.call(this,e,r),this.update(f),this.oKeyPad=l,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var QM=$(qt=>{"use strict";B();k();var DFe=qt&&qt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HFe=qt&&qt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LFe=qt&&qt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DFe(e,t,r);return HFe(e,t),e},UFe=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qt,"__esModule",{value:!0});qt.getTxCtxMulti=qt.getSHPreimageMulti=qt.toTxOutpoint=qt.getTxCtx=qt.getSHPreimage=qt.callToBufferList=qt.checkDisableOpCode=qt.getOutpointString=qt.getOutpointObj=qt.getSpentScripts=qt.getPrevoutsIndex=qt.getPrevouts=qt.toSHPreimageObj=qt.splitSighashPreimage=qt.getE=qt.getSigHashSchnorr=void 0;var $Fe=LFe(Ose()),qFe=Bse(),jFe=UFe(f8()),WM=k4(),$o=nn(),d8=Xb(),kse=$Fe.getCurveByName("secp256k1");function Cse(t){return I.Buffer.from(qFe.sha256.create().update(t).array())}function YM(t,e,r=0,n=0){let i={annexPresent:!1,annexInit:!0,tapleafHash:e,tapleafHashInit:!0,codeseparatorPos:new d8.btc.crypto.BN(4294967295),codeseparatorPosInit:!0};return{preimage:d8.btc.Transaction.SighashSchnorr.sighashPreimage(t,n,r,3,i),hash:d8.btc.Transaction.SighashSchnorr.sighash(t,n,r,3,i)}}qt.getSigHashSchnorr=YM;function XM(t){let e=kse.G.affineX.toBuffer(32),r=Cse("BIP0340/challenge"),n=I.Buffer.concat([e,e,t]),i=Cse(I.Buffer.concat([r,r,n]));return jFe.default.fromBuffer(i).mod(kse.n)}qt.getE=XM;function ZM(t){return{tapSighash1:t.subarray(0,32),tapSighash2:t.subarray(32,64),epoch:t.subarray(64,65),sighashType:t.subarray(65,66),txVersion:t.subarray(66,70),nLockTime:t.subarray(70,74),hashPrevouts:t.subarray(74,106),hashSpentAmounts:t.subarray(106,138),hashScripts:t.subarray(138,170),hashSequences:t.subarray(170,202),hashOutputs:t.subarray(202,234),spendType:t.subarray(234,235),inputNumber:t.subarray(235,239),tapleafHash:t.subarray(239,271),keyVersion:t.subarray(271,272),codeseparatorPosition:t.subarray(272)}}qt.splitSighashPreimage=ZM;function JM(t,e,r){return{txVer:(0,$o.toHex)(t.txVersion),nLockTime:(0,$o.toHex)(t.nLockTime),hashPrevouts:(0,$o.toHex)(t.hashPrevouts),hashSpentAmounts:(0,$o.toHex)(t.hashSpentAmounts),hashSpentScripts:(0,$o.toHex)(t.hashScripts),hashSequences:(0,$o.toHex)(t.hashSequences),hashOutputs:(0,$o.toHex)(t.hashOutputs),spendType:(0,$o.toHex)(t.spendType),inputIndex:(0,$o.toHex)(t.inputNumber),hashTapLeaf:(0,$o.toHex)(t.tapleafHash),keyVer:(0,$o.toHex)(t.keyVersion),codeSeparator:(0,$o.toHex)(t.codeseparatorPosition),_e:(0,$o.toHex)(e),eLastByte:BigInt(r)}}qt.toSHPreimageObj=JM;var KFe=function(t){let e=(0,WM.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=n.prevTxId.toString("hex"),s=I.Buffer.from(i,"hex").reverse(),u=I.Buffer.alloc(4,0);u.writeUInt32LE(n.outputIndex),e[r]=I.Buffer.concat([s,u]).toString("hex")}return e};qt.getPrevouts=KFe;var zFe=function(t){let e=(0,WM.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=I.Buffer.alloc(4,0);i.writeUInt32LE(n.outputIndex),e[r]=i.toString("hex")}return e};qt.getPrevoutsIndex=zFe;var VFe=function(t){let e=(0,WM.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let i=t.inputs[r].output.script.toBuffer().toString("hex");e[r]=i}return e};qt.getSpentScripts=VFe;var GFe=function(t,e){let r=I.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:I.Buffer.from(t.id,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}};qt.getOutpointObj=GFe;var WFe=function(t,e){let r=I.Buffer.alloc(4,0);return r.writeUInt32LE(e),I.Buffer.from(t.id,"hex").reverse().toString("hex")+r.toString("hex")};qt.getOutpointString=WFe;var YFe=function(t){for(let e of t.chunks)if(d8.btc.Opcode.isOpSuccess(e.opcodenum))return console.log(e.opcodenum,d8.btc.Opcode.reverseMap[e.opcodenum]),!0;return!1};qt.checkDisableOpCode=YFe;var XFe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,$o.int2ByteString)(BigInt(r.opcodenum-80));return I.Buffer.from(n,"hex")}else return I.Buffer.from((0,$o.toByteString)(""));return r.buf})};qt.callToBufferList=XFe;function Fse(t,e,r){let n,i,s,u=-1;for(;;){s=YM(t,r,e),n=XM(s.hash),i=n.toBuffer(32);let l=i[i.length-1];if(l<127){u=l;break}t.nLockTime+=1}if(u<0)throw new Error("No valid eLastByte!");let o=i.slice(0,i.length-1),a=ZM(s.preimage);return{SHPreimageObj:JM(a,o,u),sighash:s}}qt.getSHPreimage=Fse;function ZFe(t,e,r){let{SHPreimageObj:n,sighash:i}=Fse(t,e,r),s=(0,qt.getPrevouts)(t),u=(0,qt.getSpentScripts)(t),o=I.Buffer.alloc(4,0);o.writeUInt32LE(t.inputs[e].outputIndex);let a={prevouts:s,inputIndexVal:BigInt(e),outputIndexVal:BigInt(t.inputs[e].outputIndex),spentTxhash:I.Buffer.from(t.inputs[e].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:o.toString("hex")};return{shPreimage:n,prevoutsCtx:a,spentScripts:u,sighash:i}}qt.getTxCtx=ZFe;function JFe(t,e){let r=I.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:I.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}qt.toTxOutpoint=JFe;function Rse(t,e,r){let n=[],i=[],s=[],u=!1;for(;;){if(s=e.map((a,l)=>YM(t,r[l],a)),n=s.map(a=>XM(a.hash)),i=n.map(a=>a.toBuffer(32)),i.every(a=>a[a.length-1]<127)){u=!0;break}t.nLockTime+=1}if(!u)throw new Error("No valid preimage found!");let o=[];for(let a=0;a<e.length;a++){let l=i[a],f=s[a],c=l.slice(0,l.length-1),h=l[l.length-1],d=ZM(f.preimage);o.push({SHPreimageObj:JM(d,c,h),sighash:f})}return o}qt.getSHPreimageMulti=Rse;function QFe(t,e,r){let n=Rse(t,e,r);return e.map((i,s)=>{let{SHPreimageObj:u,sighash:o}=n[s],a=(0,qt.getPrevouts)(t),l=(0,qt.getSpentScripts)(t),f=I.Buffer.alloc(4,0);f.writeUInt32LE(t.inputs[i].outputIndex);let c={prevouts:a,inputIndexVal:BigInt(i),outputIndexVal:BigInt(t.inputs[i].outputIndex),spentTxhash:I.Buffer.from(t.inputs[i].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:f.toString("hex")};return{shPreimage:u,prevoutsCtx:c,spentScripts:l,sighash:o}})}qt.getTxCtxMulti=QFe});var t5=$((Qbt,Mse)=>{"use strict";B();k();var eRe=E6(),{Buffer:At}=us(),tRe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),e5=class extends eRe.Transform{constructor(e,r,n={}){let i=null,s=null;switch(typeof e){case"object":At.isBuffer(e)?i=e:e&&(n=e);break;case"string":i=e;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof r){case"object":r&&(n=r);break;case"string":s=r;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!n||typeof n!="object")throw new TypeError("Invalid options");i==null&&(i=n.input),s==null&&(s=n.inputEncoding),delete n.input,delete n.inputEncoding;let u=n.watchPipe==null?!0:n.watchPipe;delete n.watchPipe;let o=Boolean(n.readError);delete n.readError,super(n),this.readError=o,u&&this.on("pipe",a=>{let l=a._readableState.objectMode;if(this.length>0&&l!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=l,this._writableState.objectMode=l}),i!=null&&this.end(i,s)}static isNoFilter(e){return e instanceof this}static compare(e,r){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===r?0:e.compare(r)}static concat(e,r){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(e.length===0||r===0)return At.alloc(0);r==null&&(r=e.reduce((u,o)=>{if(!(o instanceof e5))throw new TypeError("list argument must be an Array of NoFilters");return u+o.length},0));let n=!0,i=!0,s=e.map(u=>{if(!(u instanceof e5))throw new TypeError("list argument must be an Array of NoFilters");let o=u.slice();return At.isBuffer(o)?i=!1:n=!1,o});if(n)return At.concat(s,r);if(i)return[].concat(...s).slice(0,r);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,r,n){!this._readableState.objectMode&&!At.isBuffer(e)&&(e=At.from(e,r)),this.push(e),n()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let r=e.head;for(e=[];r!=null;)e.push(r.data),r=r.next}return e}read(e){let r=super.read(e);if(r!=null){if(this.emit("read",r),this.readError&&r.length<e)throw new Error(`Read ${r.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return r}readFull(e){let r=null,n=null,i=null;return new Promise((s,u)=>{if(this.length>=e){s(this.read(e));return}if(this.writableFinished){u(new Error(`Stream finished before ${e} bytes were available`));return}r=o=>{this.length>=e&&s(this.read(e))},n=()=>{u(new Error(`Stream finished before ${e} bytes were available`))},i=u,this.on("readable",r),this.on("error",i),this.on("finish",n)}).finally(()=>{r&&(this.removeListener("readable",r),this.removeListener("error",i),this.removeListener("finish",n))})}promise(e){let r=!1;return new Promise((n,i)=>{this.on("finish",()=>{let s=this.read();e!=null&&!r&&(r=!0,e(null,s)),n(s)}),this.on("error",s=>{e!=null&&!r&&(r=!0,e(s)),i(s)})})}compare(e){if(!(e instanceof e5))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;let r=this.slice(),n=e.slice();if(At.isBuffer(r)&&At.isBuffer(n))return r.compare(n);throw new Error("Cannot compare streams in object mode")}equals(e){return this.compare(e)===0}slice(e,r){if(this._readableState.objectMode)return this._bufArray().slice(e,r);let n=this._bufArray();switch(n.length){case 0:return At.alloc(0);case 1:return n[0].slice(e,r);default:return At.concat(n).slice(e,r)}}get(e){return this.slice()[e]}toJSON(){let e=this.slice();return At.isBuffer(e)?e.toJSON():e}toString(e,r,n){let i=this.slice(r,n);return At.isBuffer(i)?!e||e==="utf8"?tRe.decode(i):i.toString(e):JSON.stringify(i)}[Symbol.for("nodejs.util.inspect.custom")](e,r){let i=this._bufArray().map(s=>At.isBuffer(s)?r.stylize(s.toString("hex"),"string"):JSON.stringify(s)).join(", ");return`${this.constructor.name} [${i}]`}get length(){return this._readableState.length}writeBigInt(e){let r=e.toString(16);if(e<0){let n=BigInt(Math.floor(r.length/2));e=(BigInt(1)<<n*BigInt(8))+e,r=e.toString(16)}return r.length%2&&(r=`0${r}`),this.push(At.from(r,"hex"))}readUBigInt(e){let r=this.read(e);return At.isBuffer(r)?BigInt(`0x${r.toString("hex")}`):null}readBigInt(e){let r=this.read(e);if(!At.isBuffer(r))return null;let n=BigInt(`0x${r.toString("hex")}`);return r[0]&128&&(n-=BigInt(1)<<BigInt(r.length)*BigInt(8)),n}writeUInt8(e){let r=At.from([e]);return this.push(r)}writeUInt16LE(e){let r=At.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeUInt16BE(e){let r=At.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeUInt32LE(e){let r=At.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeUInt32BE(e){let r=At.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeInt8(e){let r=At.from([e]);return this.push(r)}writeInt16LE(e){let r=At.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeInt16BE(e){let r=At.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeInt32LE(e){let r=At.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeInt32BE(e){let r=At.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeFloatLE(e){let r=At.alloc(4);return r.writeFloatLE(e),this.push(r)}writeFloatBE(e){let r=At.alloc(4);return r.writeFloatBE(e),this.push(r)}writeDoubleLE(e){let r=At.alloc(8);return r.writeDoubleLE(e),this.push(r)}writeDoubleBE(e){let r=At.alloc(8);return r.writeDoubleBE(e),this.push(r)}writeBigInt64LE(e){let r=At.alloc(8);return r.writeBigInt64LE(e),this.push(r)}writeBigInt64BE(e){let r=At.alloc(8);return r.writeBigInt64BE(e),this.push(r)}writeBigUInt64LE(e){let r=At.alloc(8);return r.writeBigUInt64LE(e),this.push(r)}writeBigUInt64BE(e){let r=At.alloc(8);return r.writeBigUInt64BE(e),this.push(r)}readUInt8(){let e=this.read(1);return At.isBuffer(e)?e.readUInt8():null}readUInt16LE(){let e=this.read(2);return At.isBuffer(e)?e.readUInt16LE():null}readUInt16BE(){let e=this.read(2);return At.isBuffer(e)?e.readUInt16BE():null}readUInt32LE(){let e=this.read(4);return At.isBuffer(e)?e.readUInt32LE():null}readUInt32BE(){let e=this.read(4);return At.isBuffer(e)?e.readUInt32BE():null}readInt8(){let e=this.read(1);return At.isBuffer(e)?e.readInt8():null}readInt16LE(){let e=this.read(2);return At.isBuffer(e)?e.readInt16LE():null}readInt16BE(){let e=this.read(2);return At.isBuffer(e)?e.readInt16BE():null}readInt32LE(){let e=this.read(4);return At.isBuffer(e)?e.readInt32LE():null}readInt32BE(){let e=this.read(4);return At.isBuffer(e)?e.readInt32BE():null}readFloatLE(){let e=this.read(4);return At.isBuffer(e)?e.readFloatLE():null}readFloatBE(){let e=this.read(4);return At.isBuffer(e)?e.readFloatBE():null}readDoubleLE(){let e=this.read(8);return At.isBuffer(e)?e.readDoubleLE():null}readDoubleBE(){let e=this.read(8);return At.isBuffer(e)?e.readDoubleBE():null}readBigInt64LE(){let e=this.read(8);return At.isBuffer(e)?e.readBigInt64LE():null}readBigInt64BE(){let e=this.read(8);return At.isBuffer(e)?e.readBigInt64BE():null}readBigUInt64LE(){let e=this.read(8);return At.isBuffer(e)?e.readBigUInt64LE():null}readBigUInt64BE(){let e=this.read(8);return At.isBuffer(e)?e.readBigUInt64BE():null}};Mse.exports=e5});var wh=$(_h=>{"use strict";B();k();_h.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};_h.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258};_h.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};_h.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};_h.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")};_h.SHIFT32=4294967296;_h.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(_h.SHIFT32)}});var eg=$(Pi=>{"use strict";B();k();var{Buffer:r5}=us(),Nse=t5(),rRe=E6(),nRe=wh(),{NUMBYTES:VA,SHIFT32:iRe,BI:sRe,SYMS:eN}=nRe,uRe=2097151,oRe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});Pi.utf8=t=>oRe.decode(t);Pi.utf8.checksUTF8=!0;function aRe(t){return t instanceof rRe.Readable?!0:["read","on","pipe"].every(e=>typeof t[e]=="function")}Pi.isBufferish=function(e){return e&&typeof e=="object"&&(r5.isBuffer(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof ArrayBuffer||e instanceof DataView)};Pi.bufferishToBuffer=function(e){return r5.isBuffer(e)?e:ArrayBuffer.isView(e)?r5.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?r5.from(e):null};Pi.parseCBORint=function(e,r){switch(e){case VA.ONE:return r.readUInt8(0);case VA.TWO:return r.readUInt16BE(0);case VA.FOUR:return r.readUInt32BE(0);case VA.EIGHT:{let n=r.readUInt32BE(0),i=r.readUInt32BE(4);return n>uRe?BigInt(n)*sRe.SHIFT32+BigInt(i):n*iRe+i}default:throw new Error(`Invalid additional info for int: ${e}`)}};Pi.writeHalf=function(e,r){let n=r5.allocUnsafe(4);n.writeFloatBE(r,0);let i=n.readUInt32BE(0);if((i&8191)!==0)return!1;let s=i>>16&32768,u=i>>23&255,o=i&8388607;if(u>=113&&u<=142)s+=(u-112<<10)+(o>>13);else if(u>=103&&u<113){if(o&(1<<126-u)-1)return!1;s+=o+8388608>>126-u}else return!1;return e.writeUInt16BE(s),!0};Pi.parseHalf=function(e){let r=e[0]&128?-1:1,n=(e[0]&124)>>2,i=(e[0]&3)<<8|e[1];if(n){if(n===31)return r*(i?NaN:1/0)}else return r*5960464477539063e-23*i;return r*2**(n-25)*(1024+i)};Pi.parseCBORfloat=function(e){switch(e.length){case 2:return Pi.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error(`Invalid float size: ${e.length}`)}};Pi.hex=function(e){return r5.from(e.replace(/^0x/,""),"hex")};Pi.bin=function(e){e=e.replace(/\s/g,"");let r=0,n=e.length%8||8,i=[];for(;n<=e.length;)i.push(parseInt(e.slice(r,n),2)),r=n,n+=8;return r5.from(i)};Pi.arrayEqual=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.length===r.length&&e.every((n,i)=>n===r[i])};Pi.bufferToBigInt=function(e){return BigInt(`0x${e.toString("hex")}`)};Pi.cborValueToString=function(e,r=-1){switch(typeof e){case"symbol":{switch(e){case eN.NULL:return"null";case eN.UNDEFINED:return"undefined";case eN.BREAK:return"BREAK"}if(e.description)return e.description;let i=e.toString().match(/^Symbol\((?<name>.*)\)/);return i&&i.groups.name?i.groups.name:"Symbol"}case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":{let n=Object.is(e,-0)?"-0":String(e);return r>0?`${n}_${r}`:n}case"object":{if(!e)return"null";let n=Pi.bufferishToBuffer(e);if(n){let i=n.toString("hex");return r===-1/0?i:`h'${i}'`}return e&&typeof e[Symbol.for("nodejs.util.inspect.custom")]=="function"?e[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(e)?"[]":"{}"}}return String(e)};Pi.guessEncoding=function(e,r){if(typeof e=="string")return new Nse(e,r??"hex");let n=Pi.bufferishToBuffer(e);if(n)return new Nse(n);if(aRe(e))return e;throw new Error("Unknown input type")};var cRe={"=":"","+":"-","/":"_"};Pi.base64url=function(e){return Pi.bufferishToBuffer(e).toString("base64").replace(/[=+/]/g,r=>cRe[r])};Pi.base64=function(e){return Pi.bufferishToBuffer(e).toString("base64")};Pi.isBigEndian=function(){let e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])}});var Hse=$((agt,Dse)=>{"use strict";B();k();var fRe=E6(),lRe=t5(),tN=class extends fRe.Transform{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new lRe,this.__restart()}_transform(e,r,n){for(this.bs.write(e);this.bs.length>=this.__needed;){let i=null,s=this.__needed===null?void 0:this.bs.read(this.__needed);try{i=this.__parser.next(s)}catch(u){return n(u)}this.__needed&&(this.__fresh=!1),i.done?(this.push(i.value),this.__restart()):this.__needed=i.value||1/0}return n()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}};Dse.exports=tN});var rN=$((lgt,Kse)=>{"use strict";B();k();var dRe=wh(),zl=eg(),tg=Symbol("INTERNAL_JSON");function h8(t,e){if(zl.isBufferish(t))t.toJSON=e;else if(Array.isArray(t))for(let r of t)h8(r,e);else if(t&&typeof t=="object"&&(!(t instanceof Eh)||t.tag<21||t.tag>23))for(let r of Object.values(t))h8(r,e)}function Lse(){return zl.base64(this)}function Use(){return zl.base64url(this)}function $se(){return this.toString("hex")}function hRe(t,e,r,n){let i=new DataView(t),[s,u]={2:[i.getUint16,i.setUint16],4:[i.getUint32,i.setUint32],8:[i.getBigUint64,i.setBigUint64]}[e],o=r+n;for(let a=r;a<o;a+=e)u.call(i,a,s.call(i,a,!0))}var jse={0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>zl.bufferToBigInt(t),3:t=>dRe.BI.MINUS_ONE-zl.bufferToBigInt(t),21:(t,e)=>(zl.isBufferish(t)?e[tg]=Use:h8(t,Use),e),22:(t,e)=>(zl.isBufferish(t)?e[tg]=Lse:h8(t,Lse),e),23:(t,e)=>(zl.isBufferish(t)?e[tg]=$se:h8(t,$se),e),32:t=>new URL(t),33:(t,e)=>{if(!t.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");let r=t.length%4;if(r===1)throw new Error("Invalid base64url length");if(r===2){if("AQgw".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding")}else if(r===3&&"AEIMQUYcgkosw048".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding");return e},34:(t,e)=>{let r=t.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(t.length%4!==0)throw new Error("Invalid base64 length");if(r.groups.padding==="="){if("AQgw".indexOf(t[t.length-2])===-1)throw new Error("Invalid base64 padding")}else if(r.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(t[t.length-3])===-1)throw new Error("Invalid base64 padding");return e},35:t=>new RegExp(t),258:t=>new Set(t)},rg={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(rg[67]=BigUint64Array,rg[71]=BigUint64Array);typeof BigInt64Array<"u"&&(rg[75]=BigInt64Array,rg[79]=BigInt64Array);function pRe(t,e){if(!zl.isBufferish(t))throw new TypeError("val not a buffer");let{tag:r}=e,n=rg[r];if(!n)throw new Error(`Invalid typed array tag: ${r}`);let i=r&4,s=(r&16)>>4,u=2**(s+(r&3));!i!==zl.isBigEndian()&&u>1&&hRe(t.buffer,u,t.byteOffset,t.byteLength);let o=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new n(o)}for(let t of Object.keys(rg))jse[t]=pRe;var qse={},Eh=class{constructor(e,r,n){if(this.tag=e,this.value=r,this.err=n,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[tg])return this[tg].call(this.value);let e={tag:this.tag,value:this.value};return this.err&&(e.err=this.err),e}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let r=e?.[this.tag];if(r===null)return this;if(typeof r!="function"&&(r=Eh.TAGS[this.tag],typeof r!="function"))return this;try{return r.call(this,this.value,this)}catch(n){return n&&n.message&&n.message.length>0?this.err=n.message:this.err=n,this}}static get TAGS(){return qse}static set TAGS(e){qse=e}static reset(){Eh.TAGS={...jse}}};Eh.INTERNAL_JSON=tg;Eh.reset();Kse.exports=Eh});var iN=$((pgt,zse)=>{"use strict";B();k();var{MT:bRe,SIMPLE:GA,SYMS:nN}=wh(),ng=class{constructor(e){if(typeof e!="number")throw new Error(`Invalid Simple type: ${typeof e}`);if(e<0||e>255||(e|0)!==e)throw new Error(`value must be a small positive integer: ${e}`);this.value=e}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](e,r){return`simple(${this.value})`}encodeCBOR(e){return e._pushInt(this.value,bRe.SIMPLE_FLOAT)}static isSimple(e){return e instanceof ng}static decode(e,r=!0,n=!1){switch(e){case GA.FALSE:return!1;case GA.TRUE:return!0;case GA.NULL:return r?null:nN.NULL;case GA.UNDEFINED:return r?void 0:nN.UNDEFINED;case-1:if(!r||!n)throw new Error("Invalid BREAK");return nN.BREAK;default:return new ng(e)}}};zse.exports=ng});var g8=$((ygt,Yse)=>{"use strict";B();k();var gRe=Hse(),mRe=rN(),yRe=iN(),n5=eg(),YA=t5(),mgt=E6(),vRe=wh(),{MT:Es,NUMBYTES:ig,SYMS:Ah,BI:Vse}=vRe,{Buffer:Gse}=us(),sg=Symbol("count"),f1=Symbol("major type"),Wse=Symbol("error"),p8=Symbol("not found");function sN(t,e,r){let n=[];return n[sg]=r,n[Ah.PARENT]=t,n[f1]=e,n}function SRe(t,e){let r=new YA;return r[sg]=-1,r[Ah.PARENT]=t,r[f1]=e,r}var b8=class extends Error{constructor(e,r){super(`Unexpected data: 0x${e.toString(16)}`),this.name="UnexpectedDataError",this.byte=e,this.value=r}};function WA(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var xa=class extends gRe{constructor(e={}){let{tags:r={},max_depth:n=-1,preferMap:i=!1,preferWeb:s=!1,required:u=!1,encoding:o="hex",extendedResults:a=!1,preventDuplicateKeys:l=!1,...f}=e;super({defaultEncoding:o,...f}),this.running=!0,this.max_depth=n,this.tags=r,this.preferMap=i,this.preferWeb=s,this.extendedResults=a,this.required=u,this.preventDuplicateKeys=l,a&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new YA)}static nullcheck(e){switch(e){case Ah.NULL:return null;case Ah.UNDEFINED:return;case p8:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=WA(r));let{encoding:n="hex",...i}=r,s=new xa(i),u=n5.guessEncoding(e,n),o=s._parse(),a=o.next();for(;!a.done;){let f=u.read(a.value);if(f==null||f.length!==a.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(f),a=o.next(f)}let l=null;if(s.extendedResults)l=a.value,l.unused=u.read();else if(l=xa.nullcheck(a.value),u.length>0){let f=u.read(1);throw u.unshift(f),new b8(f[0],l)}return l}static decodeAllSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=WA(r));let{encoding:n="hex",...i}=r,s=new xa(i),u=n5.guessEncoding(e,n),o=[];for(;u.length>0;){let a=s._parse(),l=a.next();for(;!l.done;){let f=u.read(l.value);if(f==null||f.length!==l.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(f),l=a.next(f)}o.push(xa.nullcheck(l.value))}return o}static decodeFirst(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=WA(r,n));let{encoding:i="hex",required:s=!1,...u}=r,o=new xa(u),a=p8,l=n5.guessEncoding(e,i),f=new Promise((c,h)=>{o.on("data",d=>{a=xa.nullcheck(d),o.close()}),o.once("error",d=>o.extendedResults&&d instanceof b8?(a.unused=o.bs.slice(),c(a)):(a!==p8&&(d.value=a),a=Wse,o.close(),h(d))),o.once("end",()=>{switch(a){case p8:return s?h(new Error("No CBOR found")):c(a);case Wse:return;default:return c(a)}})});return typeof n=="function"&&f.then(c=>n(null,c),n),l.pipe(o),f}static decodeAll(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=WA(r,n));let{encoding:i="hex",...s}=r,u=new xa(s),o=[];u.on("data",l=>o.push(xa.nullcheck(l)));let a=new Promise((l,f)=>{u.on("error",f),u.on("end",()=>l(o))});return typeof n=="function"&&a.then(l=>n(void 0,l),l=>n(l,void 0)),n5.guessEncoding(e,i).pipe(u),a}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,r=0,n=null;for(;;){if(this.max_depth>=0&&r>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);let[i]=yield 1;if(!this.running)throw this.bs.unshift(Gse.from([i])),new b8(i);let s=i>>5,u=i&31,o=e?.[f1],a=e?.length;switch(u){case ig.ONE:this.emit("more-bytes",s,1,o,a),[n]=yield 1;break;case ig.TWO:case ig.FOUR:case ig.EIGHT:{let f=1<<u-24;this.emit("more-bytes",s,f,o,a);let c=yield f;n=s===Es.SIMPLE_FLOAT?c:n5.parseCBORint(u,c);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${u}`);case ig.INDEFINITE:switch(s){case Es.POS_INT:case Es.NEG_INT:case Es.TAG:throw new Error(`Invalid indefinite encoding for MT ${s}`)}n=-1;break;default:n=u}switch(s){case Es.POS_INT:break;case Es.NEG_INT:n===Number.MAX_SAFE_INTEGER?n=Vse.NEG_MAX:n=typeof n=="bigint"?Vse.MINUS_ONE-n:-1-n;break;case Es.BYTE_STRING:case Es.UTF8_STRING:switch(n){case 0:this.emit("start-string",s,n,o,a),s===Es.UTF8_STRING?n="":n=this.preferWeb?new Uint8Array(0):Gse.allocUnsafe(0);break;case-1:this.emit("start",s,Ah.STREAM,o,a),e=SRe(e,s),r++;continue;default:this.emit("start-string",s,n,o,a),n=yield n,s===Es.UTF8_STRING?n=n5.utf8(n):this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length))}break;case Es.ARRAY:case Es.MAP:switch(n){case 0:s===Es.MAP?n=this.preferMap?new Map:{}:n=[];break;case-1:this.emit("start",s,Ah.STREAM,o,a),e=sN(e,s,-1),r++;continue;default:this.emit("start",s,n,o,a),e=sN(e,s,n*(s-3)),r++;continue}break;case Es.TAG:this.emit("start",s,n,o,a),e=sN(e,s,1),e.push(n),r++;continue;case Es.SIMPLE_FLOAT:if(typeof n=="number"){if(u===ig.ONE&&n<32)throw new Error(`Invalid two-byte encoding of simple value ${n}`);let f=e!=null;n=yRe.decode(n,f,f&&e[sg]<0)}else n=n5.parseCBORfloat(n)}this.emit("value",n,o,a,u);let l=!1;for(;e!=null;){if(n===Ah.BREAK)e[sg]=1;else if(Array.isArray(e))e.push(n);else{let c=e[f1];if(c!=null&&c!==s)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(n)}if(--e[sg]!==0){l=!0;break}if(--r,delete e[sg],Array.isArray(e))switch(e[f1]){case Es.ARRAY:n=e;break;case Es.MAP:{let c=!this.preferMap;if(e.length%2!==0)throw new Error(`Invalid map length: ${e.length}`);for(let h=0,d=e.length;c&&h<d;h+=2)if(typeof e[h]!="string"||e[h]==="__proto__"){c=!1;break}if(c){n={};for(let h=0,d=e.length;h<d;h+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(n,e[h]))throw new Error("Duplicate keys in a map");n[e[h]]=e[h+1]}}else{n=new Map;for(let h=0,d=e.length;h<d;h+=2){if(this.preventDuplicateKeys&&n.has(e[h]))throw new Error("Duplicate keys in a map");n.set(e[h],e[h+1])}}break}case Es.TAG:{n=new mRe(e[0],e[1]).convert(this.tags);break}}else if(e instanceof YA)switch(e[f1]){case Es.BYTE_STRING:n=e.slice(),this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length));break;case Es.UTF8_STRING:n=e.toString("utf-8");break}this.emit("stop",e[f1]);let f=e;e=e[Ah.PARENT],delete f[Ah.PARENT],delete f[f1]}if(!l){if(this.extendedResults){let f=this.valueBytes.slice(),c={value:xa.nullcheck(n),bytes:f,length:f.length};return this.valueBytes=new YA,c}return n}}}};xa.NOT_FOUND=p8;Yse.exports=xa});var Qse=$((_gt,Jse)=>{"use strict";B();k();var _Re=E6(),Xse=eg(),wRe=g8(),Zse=t5(),{MT:lu,NUMBYTES:XA,SYMS:uN}=wh(),{Buffer:ERe}=us();function oN(t){return t>1?"s":""}function ARe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"number":return{options:{max_depth:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var ug=class extends _Re.Transform{constructor(e={}){let{depth:r=1,max_depth:n=10,no_summary:i=!1,tags:s={},preferWeb:u,encoding:o,...a}=e;super({...a,readableObjectMode:!1,writableObjectMode:!1}),this.depth=r,this.max_depth=n,this.all=new Zse,s[24]||(s[24]=this._tag_24.bind(this)),this.parser=new wRe({tags:s,max_depth:n,preferWeb:u,encoding:o}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),i||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){let r=new ug({depth:this.depth+1,no_summary:!0});r.on("data",n=>this.push(n)),r.on("error",n=>this.emit("error",n)),r.end(e)}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){return this.parser._flush(e)}static comment(e,r={},n=null){if(e==null)throw new Error("input required");({options:r,cb:n}=ARe(r,n));let i=new Zse,{encoding:s="hex",...u}=r,o=new ug(u),a=null;return typeof n=="function"?(o.on("end",()=>{n(null,i.toString("utf8"))}),o.on("error",n)):a=new Promise((l,f)=>{o.on("end",()=>{l(i.toString("utf8"))}),o.on("error",f)}),o.pipe(i),Xse.guessEncoding(e,s).pipe(o),a}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push(`
`)}_on_read(e){this.all.write(e);let r=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(r);let n=(this.max_depth-this.depth)*2-r.length;n<1&&(n=1),this.push(new Array(n+1).join(" ")),this.push("-- ")}_on_more(e,r,n,i){let s="";switch(this.depth++,e){case lu.POS_INT:s="Positive number,";break;case lu.NEG_INT:s="Negative number,";break;case lu.ARRAY:s="Array, length";break;case lu.MAP:s="Map, count";break;case lu.BYTE_STRING:s="Bytes, length";break;case lu.UTF8_STRING:s="String, length";break;case lu.SIMPLE_FLOAT:r===1?s="Simple value,":s="Float,";break}this.push(`${s} next ${r} byte${oN(r)}
`)}_on_start_string(e,r,n,i){let s="";switch(this.depth++,e){case lu.BYTE_STRING:s=`Bytes, length: ${r}`;break;case lu.UTF8_STRING:s=`String, length: ${r.toString()}`;break}this.push(`${s}
`)}_on_start(e,r,n,i){switch(this.depth++,n){case lu.ARRAY:this.push(`[${i}], `);break;case lu.MAP:i%2?this.push(`{Val:${Math.floor(i/2)}}, `):this.push(`{Key:${Math.floor(i/2)}}, `);break}switch(e){case lu.TAG:this.push(`Tag #${r}`),r===24&&this.push(" Encoded CBOR data item");break;case lu.ARRAY:r===uN.STREAM?this.push("Array (streaming)"):this.push(`Array, ${r} item${oN(r)}`);break;case lu.MAP:r===uN.STREAM?this.push("Map (streaming)"):this.push(`Map, ${r} pair${oN(r)}`);break;case lu.BYTE_STRING:this.push("Bytes (streaming)");break;case lu.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(e){this.depth--}_on_value(e,r,n,i){if(e!==uN.BREAK)switch(r){case lu.ARRAY:this.push(`[${n}], `);break;case lu.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `);break}let s=Xse.cborValueToString(e,-1/0);switch(typeof e=="string"||ERe.isBuffer(e)?(e.length>0&&(this.push(s),this.push(`
`)),this.depth--):(this.push(s),this.push(`
`)),i){case XA.ONE:case XA.TWO:case XA.FOUR:case XA.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};Jse.exports=ug});var nue=$((Agt,rue)=>{"use strict";B();k();var TRe=E6(),xRe=g8(),eue=eg(),IRe=t5(),{MT:qo,SYMS:tue}=wh();function PRe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var m8=class extends TRe.Transform{constructor(e={}){let{separator:r=`
`,stream_errors:n=!1,tags:i,max_depth:s,preferWeb:u,encoding:o,...a}=e;super({...a,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=r,this.stream_errors=n,this.parser=new xRe({tags:i,max_depth:s,preferWeb:u,encoding:o}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){this.parser._flush(r=>this.stream_errors?(r&&this._on_error(r),e()):e(r))}static diagnose(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=PRe(r,n));let{encoding:i="hex",...s}=r,u=new IRe,o=new m8(s),a=null;return typeof n=="function"?(o.on("end",()=>n(null,u.toString("utf8"))),o.on("error",n)):a=new Promise((l,f)=>{o.on("end",()=>l(u.toString("utf8"))),o.on("error",f)}),o.pipe(u),eue.guessEncoding(e,i).pipe(o),a}_on_error(e){this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,r,n,i){e===qo.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[r])}_fore(e,r){switch(e){case qo.BYTE_STRING:case qo.UTF8_STRING:case qo.ARRAY:r>0&&this.push(", ");break;case qo.MAP:r>0&&(r%2?this.push(": "):this.push(", "))}}_on_value(e,r,n){if(e===tue.BREAK)return;this._fore(r,n);let i=this.float_bytes;this.float_bytes=-1,this.push(eue.cborValueToString(e,i))}_on_start(e,r,n,i){switch(this._fore(n,i),e){case qo.TAG:this.push(`${r}(`);break;case qo.ARRAY:this.push("[");break;case qo.MAP:this.push("{");break;case qo.BYTE_STRING:case qo.UTF8_STRING:this.push("(");break}r===tue.STREAM&&this.push("_ ")}_on_stop(e){switch(e){case qo.TAG:this.push(")");break;case qo.ARRAY:this.push("]");break;case qo.MAP:this.push("}");break;case qo.BYTE_STRING:case qo.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};rue.exports=m8});var tT=$((Igt,oue)=>{"use strict";B();k();var ORe=E6(),aN=t5(),ZA=eg(),BRe=wh(),{MT:ni,NUMBYTES:nc,SHIFT32:iue,SIMPLE:QA,SYMS:sue,TAG:Th,BI:JA}=BRe,{Buffer:Hu}=us(),kRe=ni.SIMPLE_FLOAT<<5|nc.TWO,CRe=ni.SIMPLE_FLOAT<<5|nc.FOUR,FRe=ni.SIMPLE_FLOAT<<5|nc.EIGHT,RRe=ni.SIMPLE_FLOAT<<5|QA.TRUE,MRe=ni.SIMPLE_FLOAT<<5|QA.FALSE,NRe=ni.SIMPLE_FLOAT<<5|QA.UNDEFINED,DRe=ni.SIMPLE_FLOAT<<5|QA.NULL,y8=Hu.from([255]),HRe=Hu.from("f97e00","hex"),LRe=Hu.from("f9fc00","hex"),URe=Hu.from("f97c00","hex"),$Re=Hu.from("f98000","hex"),eT={},uue={};function qRe(t){if(!t)return"number";switch(t.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${t}"`)}var jt=class extends ORe.Transform{constructor(e={}){let{canonical:r=!1,encodeUndefined:n,disallowUndefinedKeys:i=!1,dateType:s="number",collapseBigIntegers:u=!1,detectLoops:o=!1,omitUndefinedProperties:a=!1,genTypes:l=[],...f}=e;if(super({...f,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=r,this.encodeUndefined=n,this.disallowUndefinedKeys=i,this.dateType=qRe(s),this.collapseBigIntegers=this.canonical?!0:u,this.detectLoops=void 0,typeof o=="boolean")o&&(this.detectLoops=new WeakSet);else if(o instanceof WeakSet)this.detectLoops=o;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=a,this.semanticTypes={...jt.SEMANTIC_TYPES},Array.isArray(l))for(let c=0,h=l.length;c<h;c+=2)this.addSemanticType(l[c],l[c+1]);else for(let[c,h]of Object.entries(l))this.addSemanticType(c,h)}_transform(e,r,n){let i=this.pushAny(e);n(i===!1?new Error("Push Error"):void 0)}_flush(e){e()}_pushUInt8(e){let r=Hu.allocUnsafe(1);return r.writeUInt8(e,0),this.push(r)}_pushUInt16BE(e){let r=Hu.allocUnsafe(2);return r.writeUInt16BE(e,0),this.push(r)}_pushUInt32BE(e){let r=Hu.allocUnsafe(4);return r.writeUInt32BE(e,0),this.push(r)}_pushFloatBE(e){let r=Hu.allocUnsafe(4);return r.writeFloatBE(e,0),this.push(r)}_pushDoubleBE(e){let r=Hu.allocUnsafe(8);return r.writeDoubleBE(e,0),this.push(r)}_pushNaN(){return this.push(HRe)}_pushInfinity(e){let r=e<0?LRe:URe;return this.push(r)}_pushFloat(e){if(this.canonical){let r=Hu.allocUnsafe(2);if(ZA.writeHalf(r,e))return this._pushUInt8(kRe)&&this.push(r)}return Math.fround(e)===e?this._pushUInt8(CRe)&&this._pushFloatBE(e):this._pushUInt8(FRe)&&this._pushDoubleBE(e)}_pushInt(e,r,n){let i=r<<5;if(e<24)return this._pushUInt8(i|e);if(e<=255)return this._pushUInt8(i|nc.ONE)&&this._pushUInt8(e);if(e<=65535)return this._pushUInt8(i|nc.TWO)&&this._pushUInt16BE(e);if(e<=4294967295)return this._pushUInt8(i|nc.FOUR)&&this._pushUInt32BE(e);let s=Number.MAX_SAFE_INTEGER;return r===ni.NEG_INT&&s--,e<=s?this._pushUInt8(i|nc.EIGHT)&&this._pushUInt32BE(Math.floor(e/iue))&&this._pushUInt32BE(e%iue):r===ni.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return Object.is(e,-0)?this.push($Re):e<0?this._pushInt(-e-1,ni.NEG_INT,e):this._pushInt(e,ni.POS_INT)}_pushNumber(e){return isNaN(e)?this._pushNaN():isFinite(e)?Math.round(e)===e?this._pushIntNum(e):this._pushFloat(e):this._pushInfinity(e)}_pushString(e){let r=Hu.byteLength(e,"utf8");return this._pushInt(r,ni.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?RRe:MRe)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(NRe);case"function":return this.pushAny(this.encodeUndefined(e));case"object":{let r=ZA.bufferishToBuffer(this.encodeUndefined);if(r)return this.push(r)}}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(DRe)}_pushTag(e){return this._pushInt(e,ni.TAG)}_pushJSBigint(e){let r=ni.POS_INT,n=Th.POS_BIGINT;if(e<0&&(e=-e+JA.MINUS_ONE,r=ni.NEG_INT,n=Th.NEG_BIGINT),this.collapseBigIntegers&&e<=JA.MAXINT64)return e<=4294967295?this._pushInt(Number(e),r):this._pushUInt8(r<<5|nc.EIGHT)&&this._pushUInt32BE(Number(e/JA.SHIFT32))&&this._pushUInt32BE(Number(e%JA.SHIFT32));let i=e.toString(16);i.length%2&&(i=`0${i}`);let s=Hu.from(i,"hex");return this._pushTag(n)&&jt._pushBuffer(this,s)}_pushObject(e,r){if(!e)return this._pushNull(e);if(r={indefinite:!1,skipTypes:!1,...r},!r.indefinite&&this.detectLoops){if(this.detectLoops.has(e))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(e)}if(!r.skipTypes){let u=e.encodeCBOR;if(typeof u=="function")return u.call(e,this);let o=this.semanticTypes[e.constructor.name];if(o)return o.call(e,this,e)}let n=Object.keys(e).filter(u=>{let o=typeof e[u];return o!=="function"&&(!this.omitUndefinedProperties||o!=="undefined")}),i={};if(this.canonical&&n.sort((u,o)=>{let a=i[u]||(i[u]=jt.encode(u)),l=i[o]||(i[o]=jt.encode(o));return a.compare(l)}),r.indefinite){if(!this._pushUInt8(ni.MAP<<5|nc.INDEFINITE))return!1}else if(!this._pushInt(n.length,ni.MAP))return!1;let s=null;for(let u=0,o=n.length;u<o;u++){let a=n[u];if(this.canonical&&(s=i[a])){if(!this.push(s))return!1}else if(!this._pushString(a))return!1;if(!this.pushAny(e[a]))return!1}if(r.indefinite){if(!this.push(y8))return!1}else this.detectLoops&&this.detectLoops.delete(e);return!0}_encodeAll(e){let r=new aN({highWaterMark:this.readableHighWaterMark});this.pipe(r);for(let n of e)this.pushAny(n);return this.end(),r.read()}addSemanticType(e,r){let n=typeof e=="string"?e:e.name,i=this.semanticTypes[n];if(r){if(typeof r!="function")throw new TypeError("fun must be of type function");this.semanticTypes[n]=r}else i&&delete this.semanticTypes[n];return i}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case sue.NULL:return this._pushNull(null);case sue.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${e.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof e}, ${typeof e.toString=="function"?e.toString():""}`)}}static pushArray(e,r,n){n={indefinite:!1,...n};let i=r.length;if(n.indefinite){if(!e._pushUInt8(ni.ARRAY<<5|nc.INDEFINITE))return!1}else if(!e._pushInt(i,ni.ARRAY))return!1;for(let s=0;s<i;s++)if(!e.pushAny(r[s]))return!1;return!(n.indefinite&&!e.push(y8))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(e,r){switch(e.dateType){case"string":return e._pushTag(Th.DATE_STRING)&&e._pushString(r.toISOString());case"int":return e._pushTag(Th.DATE_EPOCH)&&e._pushIntNum(Math.round(r.getTime()/1e3));case"float":return e._pushTag(Th.DATE_EPOCH)&&e._pushFloat(r.getTime()/1e3);case"number":default:return e._pushTag(Th.DATE_EPOCH)&&e.pushAny(r.getTime()/1e3)}}static _pushBuffer(e,r){return e._pushInt(r.length,ni.BYTE_STRING)&&e.push(r)}static _pushNoFilter(e,r){return jt._pushBuffer(e,r.slice())}static _pushRegexp(e,r){return e._pushTag(Th.REGEXP)&&e.pushAny(r.source)}static _pushSet(e,r){if(!e._pushTag(Th.SET)||!e._pushInt(r.size,ni.ARRAY))return!1;for(let n of r)if(!e.pushAny(n))return!1;return!0}static _pushURL(e,r){return e._pushTag(Th.URI)&&e.pushAny(r.toString())}static _pushBoxed(e,r){return e.pushAny(r.valueOf())}static _pushMap(e,r,n){n={indefinite:!1,...n};let i=[...r.entries()];if(e.omitUndefinedProperties&&(i=i.filter(([s,u])=>u!==void 0)),n.indefinite){if(!e._pushUInt8(ni.MAP<<5|nc.INDEFINITE))return!1}else if(!e._pushInt(i.length,ni.MAP))return!1;if(e.canonical){let s=new jt({genTypes:e.semanticTypes,canonical:e.canonical,detectLoops:Boolean(e.detectLoops),dateType:e.dateType,disallowUndefinedKeys:e.disallowUndefinedKeys,collapseBigIntegers:e.collapseBigIntegers}),u=new aN({highWaterMark:e.readableHighWaterMark});s.pipe(u),i.sort(([o],[a])=>{s.pushAny(o);let l=u.read();s.pushAny(a);let f=u.read();return l.compare(f)});for(let[o,a]of i){if(e.disallowUndefinedKeys&&typeof o>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(o)&&e.pushAny(a)))return!1}}else for(let[s,u]of i){if(e.disallowUndefinedKeys&&typeof s>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(s)&&e.pushAny(u)))return!1}return!(n.indefinite&&!e.push(y8))}static _pushTypedArray(e,r){let n=64,i=r.BYTES_PER_ELEMENT,{name:s}=r.constructor;return s.startsWith("Float")?(n|=16,i/=2):s.includes("U")||(n|=8),(s.includes("Clamped")||i!==1&&!ZA.isBigEndian())&&(n|=4),n|={1:0,2:1,4:2,8:3}[i],e._pushTag(n)?jt._pushBuffer(e,Hu.from(r.buffer,r.byteOffset,r.byteLength)):!1}static _pushArrayBuffer(e,r){return jt._pushBuffer(e,Hu.from(r))}static encodeIndefinite(e,r,n={}){if(r==null){if(this==null)throw new Error("No object to encode");r=this}let{chunkSize:i=4096}=n,s=!0,u=typeof r,o=null;if(u==="string"){s=s&&e._pushUInt8(ni.UTF8_STRING<<5|nc.INDEFINITE);let a=0;for(;a<r.length;){let l=a+i;s=s&&e._pushString(r.slice(a,l)),a=l}s=s&&e.push(y8)}else if(o=ZA.bufferishToBuffer(r)){s=s&&e._pushUInt8(ni.BYTE_STRING<<5|nc.INDEFINITE);let a=0;for(;a<o.length;){let l=a+i;s=s&&jt._pushBuffer(e,o.slice(a,l)),a=l}s=s&&e.push(y8)}else if(Array.isArray(r))s=s&&jt.pushArray(e,r,{indefinite:!0});else if(r instanceof Map)s=s&&jt._pushMap(e,r,{indefinite:!0});else{if(u!=="object")throw new Error("Invalid indefinite encoding");s=s&&e._pushObject(r,{indefinite:!0,skipTypes:!0})}return s}static encode(...e){return new jt()._encodeAll(e)}static encodeCanonical(...e){return new jt({canonical:!0})._encodeAll(e)}static encodeOne(e,r){return new jt(r)._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],u=new jt(r);u.on("data",o=>s.push(o)),u.on("error",i),u.on("finish",()=>n(Hu.concat(s))),u.pushAny(e),u.end()})}static get SEMANTIC_TYPES(){return uue}static set SEMANTIC_TYPES(e){uue=e}static reset(){jt.SEMANTIC_TYPES={...eT}}};Object.assign(eT,{Array:jt.pushArray,Date:jt._pushDate,Buffer:jt._pushBuffer,[Hu.name]:jt._pushBuffer,Map:jt._pushMap,NoFilter:jt._pushNoFilter,[aN.name]:jt._pushNoFilter,RegExp:jt._pushRegexp,Set:jt._pushSet,ArrayBuffer:jt._pushArrayBuffer,Uint8ClampedArray:jt._pushTypedArray,Uint8Array:jt._pushTypedArray,Uint16Array:jt._pushTypedArray,Uint32Array:jt._pushTypedArray,Int8Array:jt._pushTypedArray,Int16Array:jt._pushTypedArray,Int32Array:jt._pushTypedArray,Float32Array:jt._pushTypedArray,Float64Array:jt._pushTypedArray,URL:jt._pushURL,Boolean:jt._pushBoxed,Number:jt._pushBoxed,String:jt._pushBoxed});typeof BigUint64Array<"u"&&(eT[BigUint64Array.name]=jt._pushTypedArray);typeof BigInt64Array<"u"&&(eT[BigInt64Array.name]=jt._pushTypedArray);jt.reset();oue.exports=jt});var fue=$((Bgt,cue)=>{"use strict";B();k();var{Buffer:aue}=us(),jRe=tT(),KRe=g8(),{MT:zRe}=wh(),Ff=class extends Map{constructor(e){super(e)}static _encode(e){return jRe.encodeCanonical(e).toString("base64")}static _decode(e){return KRe.decodeFirstSync(e,"base64")}get(e){return super.get(Ff._encode(e))}set(e,r){return super.set(Ff._encode(e),r)}delete(e){return super.delete(Ff._encode(e))}has(e){return super.has(Ff._encode(e))}*keys(){for(let e of super.keys())yield Ff._decode(e)}*entries(){for(let e of super.entries())yield[Ff._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,r){if(typeof e!="function")throw new TypeError("Must be function");for(let n of super.entries())e.call(this,n[1],Ff._decode(n[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,zRe.MAP))return!1;if(e.canonical){let r=Array.from(super.entries()).map(n=>[aue.from(n[0],"base64"),n[1]]);r.sort((n,i)=>n[0].compare(i[0]));for(let n of r)if(!(e.push(n[0])&&e.pushAny(n[1])))return!1}else for(let r of super.entries())if(!(e.push(aue.from(r[0],"base64"))&&e.pushAny(r[1])))return!1;return!0}};cue.exports=Ff});var due=$((Fgt,lue)=>{"use strict";B();k();var xh=class{constructor(){this.clear()}clear(){this.map=new WeakMap,this.count=0,this.recording=!0}stop(){this.recording=!1}check(e){let r=this.map.get(e);if(r)return r.length>1?r[0]||this.recording?r[1]:(r[0]=!0,xh.FIRST):this.recording?(r.push(this.count++),r[1]):xh.NEVER;if(!this.recording)throw new Error("New object detected when not recording");return this.map.set(e,[!1]),xh.NEVER}};xh.NEVER=-1;xh.FIRST=-2;lue.exports=xh});var pue=$((Ngt,hue)=>{"use strict";B();k();var VRe=tT(),cN=due(),{Buffer:GRe}=us(),i5=class extends VRe{constructor(e){super(e),this.valueSharing=new cN}_pushObject(e,r){if(e!==null){let n=this.valueSharing.check(e);switch(n){case cN.FIRST:this._pushTag(28);break;case cN.NEVER:break;default:return this._pushTag(29)&&this._pushIntNum(n)}}return super._pushObject(e,r)}stopRecording(){this.valueSharing.stop()}clearRecording(){this.valueSharing.clear()}static encode(...e){let r=new i5;r.on("data",()=>{});for(let n of e)r.pushAny(n);return r.stopRecording(),r.removeAllListeners("data"),r._encodeAll(e)}static encodeCanonical(...e){throw new Error("Cannot encode canonically in a SharedValueEncoder, which serializes objects multiple times.")}static encodeOne(e,r){let n=new i5(r);return n.on("data",()=>{}),n.pushAny(e),n.stopRecording(),n.removeAllListeners("data"),n._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],u=new i5(r);u.on("data",()=>{}),u.on("error",i),u.on("finish",()=>n(GRe.concat(s))),u.pushAny(e),u.stopRecording(),u.removeAllListeners("data"),u.on("data",o=>s.push(o)),u.pushAny(e),u.end()})}};hue.exports=i5});var vue=$((Lgt,yue)=>{"use strict";B();k();var bue=Qse(),gue=nue(),s5=g8(),u5=tT(),WRe=iN(),mue=rN(),YRe=fue(),XRe=pue();yue.exports={Commented:bue,Diagnose:gue,Decoder:s5,Encoder:u5,Simple:WRe,Tagged:mue,Map:YRe,SharedValueEncoder:XRe,comment:bue.comment,decodeAll:s5.decodeAll,decodeFirst:s5.decodeFirst,decodeAllSync:s5.decodeAllSync,decodeFirstSync:s5.decodeFirstSync,diagnose:gue.diagnose,encode:u5.encode,encodeCanonical:u5.encodeCanonical,encodeOne:u5.encodeOne,encodeAsync:u5.encodeAsync,decode:s5.decodeFirstSync,leveldb:{decode:s5.decodeFirstSync,encode:u5.encode,buffer:!0,name:"cbor"},reset(){u5.reset(),mue.reset()}}});var Sue=$(h0=>{"use strict";B();k();Object.defineProperty(h0,"__esModule",{value:!0});h0.getCatNFTCommitScript=h0.getCatCollectionCommitScript=h0.getCatCommitScript=h0.chunks=h0.toPushData=void 0;var Lu=Xb(),fN=vue(),v8=520;function jo(t){let e=[],r=t.length;if(r<76){let n=I.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=255){e.push(I.Buffer.from("4c","hex"));let n=I.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=65535){e.push(I.Buffer.from("4d","hex"));let n=I.Buffer.alloc(2);n.writeUint16LE(r),e.push(n)}else{e.push(I.Buffer.from("4e","hex"));let n=I.Buffer.alloc(4);n.writeUint32LE(r),e.push(n)}return e.push(t),I.Buffer.concat(e)}h0.toPushData=jo;function og(t,e){let r=[],n=0;for(;n<t.length;){let i=t.slice(n,n+e);r.push(i),n+=e}return r}h0.chunks=og;var ZRe=(t,e)=>{let r=new Map;for(let u in e)r.set(u,e[u]);let n=I.Buffer.from(fN.encode(r)),i=[];i.push(jo(I.Buffer.from(t,"hex"))),i.push(Lu.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),i.push(Lu.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),i.push(Lu.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),i.push(Lu.btc.Script.fromASM("OP_1").toBuffer());let s=og(Array.from(n),v8);for(let u of s)i.push(jo(I.Buffer.from(u)));return i.push(Lu.btc.Script.fromASM("OP_ENDIF").toBuffer()),i.push(Lu.btc.Script.fromASM("OP_1").toBuffer()),I.Buffer.concat(i).toString("hex")};h0.getCatCommitScript=ZRe;var JRe=(t,e,r)=>{let n=[];if(n.push(jo(I.Buffer.from(t,"hex"))),n.push(Lu.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Lu.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),n.push(Lu.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Lu.btc.Script.fromASM("OP_2").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let u in e)i.set(u,e[u]);let s=og(Array.from(I.Buffer.from(fN.encode(i))),v8);for(let u of s)n.push(jo(I.Buffer.from([5]))),n.push(jo(I.Buffer.from(u)))}if(r){n.push(jo(I.Buffer.from([1]))),n.push(jo(I.Buffer.from(r.type,"utf-8"))),n.push(I.Buffer.from([0]));let i=og(Array.from(I.Buffer.from(r.body,"hex")),v8);for(let s of i)n.push(jo(I.Buffer.from(s)))}return n.push(Lu.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Lu.btc.Script.fromASM("OP_1").toBuffer()),I.Buffer.concat(n).toString("hex")};h0.getCatCollectionCommitScript=JRe;var QRe=(t,e,r)=>{let n=[];if(n.push(jo(I.Buffer.from(t,"hex"))),n.push(Lu.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Lu.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Lu.btc.Script.fromASM("OP_3").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let u in e)i.set(u,e[u]);let s=og(Array.from(I.Buffer.from(fN.encode(i))),v8);for(let u of s)n.push(jo(I.Buffer.from([5]))),n.push(jo(I.Buffer.from(u)))}if(r){n.push(jo(I.Buffer.from([1]))),n.push(jo(I.Buffer.from(r.type,"utf-8"))),n.push(I.Buffer.from([0]));let i=og(Array.from(I.Buffer.from(r.body,"hex")),v8);for(let s of i)n.push(jo(I.Buffer.from(s)))}return n.push(Lu.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Lu.btc.Script.fromASM("OP_1").toBuffer()),I.Buffer.concat(n).toString("hex")};h0.getCatNFTCommitScript=QRe});var ID=$(Df=>{"use strict";B();k();function EN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function eMe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Nue(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function tMe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");EN(t.outputLen),EN(t.blockLen)}function rMe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nMe(t,e){Nue(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var iMe={number:EN,bool:eMe,bytes:Nue,hash:tMe,exists:rMe,output:nMe},lN=iMe;var dN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Vl=(t,e)=>t<<32-e|t>>>e,sMe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sMe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uMe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Due(t){if(typeof t=="string"&&(t=uMe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var oMe=class{clone(){return this._cloneInto()}};function Hue(t){let e=n=>t().update(Due(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function aMe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),u=Number(r>>i&s),o=Number(r&s),a=n?4:0,l=n?0:4;t.setUint32(e+a,u,n),t.setUint32(e+l,o,n)}var cMe=class extends oMe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dN(this.buffer)}update(e){lN.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Due(e);let s=e.length;for(let u=0;u<s;){let o=Math.min(i-this.pos,s-u);if(o===i){let a=dN(e);for(;i<=s-u;u+=i)this.process(a,u);continue}n.set(e.subarray(u,u+o),this.pos),this.pos+=o,u+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lN.exists(this),lN.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let c=u;c<i;c++)r[c]=0;aMe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let o=dN(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)o.setUint32(4*c,f[c],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:u,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=u,i%r&&e.buffer.set(n),e}},fMe=(t,e,r)=>t&e^~t&r,lMe=(t,e,r)=>t&e^t&r^e&r,dMe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),d1=new Uint32Array(64),Lue=class extends cMe{constructor(){super(64,32,8,!1),this.A=l1[0]|0,this.B=l1[1]|0,this.C=l1[2]|0,this.D=l1[3]|0,this.E=l1[4]|0,this.F=l1[5]|0,this.G=l1[6]|0,this.H=l1[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:u,G:o,H:a}=this;return[e,r,n,i,s,u,o,a]}set(e,r,n,i,s,u,o,a){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=o|0,this.H=a|0}process(e,r){for(let c=0;c<16;c++,r+=4)d1[c]=e.getUint32(r,!1);for(let c=16;c<64;c++){let h=d1[c-15],d=d1[c-2],p=Vl(h,7)^Vl(h,18)^h>>>3,m=Vl(d,17)^Vl(d,19)^d>>>10;d1[c]=m+d1[c-7]+p+d1[c-16]|0}let{A:n,B:i,C:s,D:u,E:o,F:a,G:l,H:f}=this;for(let c=0;c<64;c++){let h=Vl(o,6)^Vl(o,11)^Vl(o,25),d=f+h+fMe(o,a,l)+dMe[c]+d1[c]|0,m=(Vl(n,2)^Vl(n,13)^Vl(n,22))+lMe(n,i,s)|0;f=l,l=a,a=o,o=u+d|0,u=s,s=i,i=n,n=d+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(n,i,s,u,o,a,l,f)}roundClean(){d1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},hMe=class extends Lue{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},AN=Hue(()=>new Lue);Hue(()=>new hMe);function pMe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function bMe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function gMe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:mMe}=crypto??globalThis.crypto??window.crypto;function yMe(t=32){if(typeof mMe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function vMe(t,e,r="be"){e===void 0&&(e=t.length),pMe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function Uue(t){let e,r=0,n=t.reduce((s,u)=>s+u.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var SMe=new TextEncoder,_Me=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function $ue(t){for(let e of _Me)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function wMe(t,e,r=!1){typeof t=="string"&&(t=SMe.encode(t));let n=$ue(e),i=n.length,s=[],u="",o,a=0,l,f;for(o=0;o<t.length;o++)for(a=0,l=t[o],u+=l>0||(u.length^o)>0?"":"1";a in s||l>0;)f=s[a],f=f>0?f*256+l:l,l=f/i|0,s[a]=f%i,a++;for(;a-- >0;)u+=n[s[a]];return r&&u.length%4>0?u+"=".repeat(4-u.length%4):u}function EMe(t,e){let r=$ue(e),n=r.length,i=[],s=[];t=t.replace("=","");let u,o=0,a,l;for(u=0;u<t.length;u++){if(o=0,a=r.indexOf(t[u]),a<0)throw new Error(`Character range out of bounds: ${a}`);for(a>0||(s.length^u)>0||s.push(0);o in i||a>0;)l=i[o],l=l>0?l*n+a:a,a=l>>8,i[o]=l%256,o++}for(;o-- >0;)s.push(i[o]);return new Uint8Array(s)}function que(t){return AN(AN(t))}function AMe(t){let e=que(t);return Uue([t,e.slice(0,4)])}function TMe(t){let e=t.slice(0,-4),r=t.slice(-4);if(que(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var _ue={encode:wMe,decode:EMe},jue={encode:t=>{let e=AMe(t);return _ue.encode(e,"base58")},decode:t=>{let e=_ue.decode(t,"base58");return TMe(e)}},Kue="qpzry9x8gf2tvdw0s3jn54khce6mua7l",xMe=[996825010,642813549,513874426,1027748829,705979059],oT=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function zue(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=xMe[i])}return e}function Vue(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function IMe(t,e,r){let n=Vue(t).concat(e);return zue(n)===r.const}function PMe(t,e,r){let n=Vue(t).concat(e).concat([0,0,0,0,0,0]),i=zue(n)^r.const,s=[];for(let u=0;u<6;++u)s.push(i>>5*(5-u)&31);return s}function Gue(t,e,r,n=!0){let i=[],s=0,u=0,o=(1<<r)-1,a=(1<<e+r-1)-1;for(let l of t){if(l<0||l>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(l));for(s=(s<<e|l)&a,u+=e;u>=r;)u-=r,i.push(s>>u&o)}if(n)u>0&&i.push(s<<r-u&o);else if(u>=e||(s<<r-u&o)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function OMe(t,e,r){let n=e.concat(PMe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=Kue.charAt(n[s]);return i}function Wue(t){if(!BMe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!kMe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let u=Kue.indexOf(t.charAt(s));if(u===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(u)}let i=oT.find(s=>s.version===e[0])??oT[0];if(!IMe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function BMe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function kMe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function CMe(t,e="bc",r=0){let n=[r,...Gue([...t],8,5)],i=oT.find(u=>u.version===r)??oT[0],s=OMe(e,n,i);return Yue(s),s}function Yue(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=Wue(t),i=Gue(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function FMe(t){t=t.toLowerCase();let[e,r]=Wue(t);return r[0]}var Xue={encode:CMe,decode:Yue,version:FMe},Zue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",RMe=new TextEncoder;function Que(t,e=!1,r=!0){typeof t=="string"&&(t=RMe.encode(t));let n=e?Jue:Zue,i="",s=0,u=0;for(let o=0;o<t.length;o++)for(u=u<<8|t[o],s+=8;s>=6;)s-=6,i+=n[u>>s&63];if(s>0)for(u<<=6-s,i+=n[u&63];s<6;)i+=r?"=":"",s+=2;return i}function eoe(t,e=!1){let r=e||t.includes("-")||t.includes("_")?Jue.split(""):Zue.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,u=[];for(let o=0;o<n.length;o++){let a=n[o],l=r.indexOf(a);if(l===-1)throw new Error("Invalid character: "+a);i+=6,s<<=6,s|=l,i>=8&&(i-=8,u.push(s>>>i&255))}return new Uint8Array(u)}var toe={encode:Que,decode:eoe},roe={encode:t=>Que(t,!0,!1),decode:t=>eoe(t,!0)},MMe=BigInt(0),NMe=BigInt(255),noe=BigInt(256);function DMe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function HMe(t,e,r="be"){e===void 0&&(e=DMe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),u=n?0:e-1;for(;t>MMe;){let o=t&NMe,a=Number(o);n?s.setUint8(u++,a):s.setUint8(u--,a),t=(t-o)/noe}return new Uint8Array(i)}function LMe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*noe+BigInt(t[r]);return BigInt(e)}function UMe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let u=0;u<8;u++)s|=e[n+u]<<7-u;r[i]=s}return r}function $Me(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function qMe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function jMe(t,e,r="be"){e===void 0&&(e=qMe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),u=n?0:e-1;for(;t>0;){let o=t&255;n?s.setUint8(u++,t):s.setUint8(u--,t),t=(t-o)/256}return new Uint8Array(i)}function KMe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],gMe(e);return e}var zMe=new TextEncoder,VMe=new TextDecoder;function YN(t){return zMe.encode(t)}function hN(t){return VMe.decode(t)}function GMe(t,e){bMe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function WMe(t,e,r="le"){e=GMe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),u=n?0:e-1;for(let o=0;o<t.length;o+=2){let a=t.substring(o,o+2),l=parseInt(a,16);n?s.setUint8(u++,l):s.setUint8(u--,l)}return new Uint8Array(i)}function YMe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function XMe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return YN(e)}function ZMe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return vMe(t,e,r);if(typeof t=="string")return WMe(t,e,r);if(typeof t=="bigint")return HMe(t,e,r);if(typeof t=="number")return jMe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var vr,ge=(vr=class extends Uint8Array{static random(e=32){let r=yMe(e);return new vr(r,e)}constructor(e,r,n){let i=ZMe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new Sg(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return KMe(r)}toBin(){return $Me(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return LMe(r)}toHash(){let e=AN(this);return new vr(e)}toJson(){let e=hN(this);return JSON.parse(e)}toBech32(e,r=0){return Xue.encode(this,e,r)}toStr(){return hN(this)}toHex(){return YMe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return jue.encode(this)}toBase64(){return toe.encode(this)}toB64url(){return roe.encode(this)}prepend(e){return vr.join([vr.bytes(e),this])}append(e){return vr.join([this,vr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new vr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new vr(n)}reverse(){let e=new Uint8Array(this).reverse();return new vr(e)}write(e,r){let n=vr.bytes(e);this.set(n,r)}prefixSize(e){let r=vr.varInt(this.length,e);return vr.join([r,this])}static from(e){return new vr(Uint8Array.from(e))}static of(...e){return new vr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>vr.bytes(i)),n=Uue(r);return new vr(n)}static varInt(e,r){if(e<253)return vr.num(e,1);if(e<65536)return vr.of(253,...vr.num(e,2,r));if(e<4294967296)return vr.of(254,...vr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return vr.of(255,...vr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},(()=>{vr.num=JMe})(),(()=>{vr.big=eNe})(),(()=>{vr.bin=QMe})(),(()=>{vr.raw=tNe})(),(()=>{vr.str=rNe})(),(()=>{vr.hex=nNe})(),(()=>{vr.bytes=iNe})(),(()=>{vr.json=sNe})(),(()=>{vr.base64=uNe})(),(()=>{vr.b64url=oNe})(),(()=>{vr.bech32=aNe})(),(()=>{vr.b58chk=cNe})(),(()=>{vr.encode=YN})(),(()=>{vr.decode=hN})(),vr);function JMe(t,e,r){return new ge(t,e,r)}function QMe(t,e,r){return new ge(UMe(t),e,r)}function eNe(t,e,r){return new ge(t,e,r)}function tNe(t,e,r){return new ge(t,e,r)}function rNe(t,e,r){return new ge(YN(t),e,r)}function nNe(t,e,r){return new ge(t,e,r)}function iNe(t,e,r){return new ge(t,e,r)}function sNe(t){return new ge(XMe(t))}function uNe(t){return new ge(toe.decode(t))}function oNe(t){return new ge(roe.decode(t))}function aNe(t){return new ge(Xue.decode(t))}function cNe(t){return new ge(jue.decode(t))}var Sg=class{constructor(e){this.data=ge.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new ge(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}};function ed(t,e){let r=ge.bytes(t);if(r.length!==e)throw new Error(`Invalid input size: ${r.hex} !== ${e}`)}function go(t,e){if(e)throw new Error(t);return!1}function sT(t,...e){let r=ge.str(t).digest.raw,n=e.map(i=>ge.bytes(i));return ge.join([r,r,ge.join(n)]).digest}var ioe={OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_SUCCESS80:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_SUCCESS98:98,OP_IF:99,OP_NOTIF:100,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_SUCCESS126:126,OP_SUCCESS127:127,OP_SUCCESS128:128,OP_SUCCESS129:129,OP_SIZE:130,OP_SUCCESS131:131,OP_SUCCESS132:132,OP_SUCCESS133:133,OP_SUCCESS134:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_SUCCESS137:137,OP_SUCCESS138:138,OP_1ADD:139,OP_1SUB:140,OP_SUCCESS141:141,OP_SUCCESS142:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_SUCCESS149:149,OP_SUCCESS150:150,OP_SUCCESS151:151,OP_SUCCESS152:152,OP_SUCCESS153:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186};function fNe(t){if(t>186&&t<255)return"OP_SUCCESS"+String(t);for(let[e,r]of Object.entries(ioe))if(r===t)return e;throw new Error("OPCODE not found:"+String(t))}function lNe(t){for(let[e,r]of Object.entries(ioe))if(e===t)return Number(r);throw new Error("OPCODE not found:"+t)}function dNe(t){switch(!0){case t===0:return"opcode";case(t>=1&&t<=75):return"varint";case t===76:return"pushdata1";case t===77:return"pushdata2";case t===78:return"pushdata4";case t<=254:return"opcode";default:throw new Error(`Invalid word range: ${t}`)}}function hNe(t){let n=[];switch(!0){case typeof t!="number":return!1;case t===0:return!0;case n.includes(t):return!1;case(75<t&&t<254):return!0;default:return!1}}function Rh(t){return typeof t=="string"&&t.length%2===0&&/[0-9a-fA-F]/.test(t)}function soe(t){return Rh(t)||t instanceof Uint8Array}var aT=520;function O1(t=[],e=!0){let r=ge.num(0);return Array.isArray(t)&&(r=ge.raw(uoe(t))),Rh(t)&&(r=ge.hex(t)),t instanceof Uint8Array&&(r=ge.raw(t)),e&&(r=r.prefixSize("le")),r}function uoe(t){let e=[];for(let r of t)e.push(pNe(r));return e.length>0?ge.join(e):new Uint8Array}function pNe(t){let e=new Uint8Array;if(typeof t=="string"){if(t.startsWith("OP_"))return ge.num(lNe(t),1);Rh(t)?e=ge.hex(t):e=ge.str(t)}else if(e=ge.bytes(t),e.length===1&&e[0]<=16)return e[0]!==0&&(e[0]+=80),e;if(e.length>aT){let r=gNe(e);return uoe(r)}return ge.join([bNe(e.length),e])}function bNe(t){let e=ge.num(76,1),r=ge.num(77,1);switch(!0){case t<=75:return ge.num(t);case(t>75&&t<256):return ge.join([e,ge.num(t,1,"le")]);case(t>=256&&t<=aT):return ge.join([r,ge.num(t,2,"le")]);default:throw new Error("Invalid word size:"+t.toString())}}function gNe(t){let e=[],r=new Sg(t);for(;r.size>aT;)e.push(r.read(aT));return e.push(r.read(r.size)),e}function OT(t,e=!1){let r=ge.bytes(t);if(e){let i=r.stream.readSize("le");if(r=r.slice(1),r.length!==i)throw new Error(`Varint does not match stream size: ${i} !== ${r.length}`)}return mNe(r)}function mNe(t){let e=new Sg(t),r=[],n=e.size,i,s,u,o=0;for(;o<n;)switch(i=e.read(1).num,s=dNe(i),o++,s){case"varint":r.push(e.read(i).hex),o+=i;break;case"pushdata1":u=e.read(1).reverse().num,r.push(e.read(u).hex),o+=u+1;break;case"pushdata2":u=e.read(2).reverse().num,r.push(e.read(u).hex),o+=u+2;break;case"pushdata4":u=e.read(4).reverse().num,r.push(e.read(u).hex),o+=u+4;break;case"opcode":if(!hNe(i))throw new Error(`Invalid OPCODE: ${i}`);r.push(fNe(i));break;default:throw new Error(`Word type undefined: ${i}`)}return r}function yNe(t,e){if(Array.isArray(t)&&(t=O1(t,e)),t instanceof Uint8Array||Rh(t))return OT(t,e);throw new Error("Invalid format: "+String(typeof t))}function vNe(t,e){if((t instanceof Uint8Array||Rh(t))&&(t=OT(t,e)),Array.isArray(t))return O1(t,e);throw new Error("Invalid format: "+String(typeof t))}function SNe(t){if(!Array.isArray(t))return ge.bytes(t);throw new Error("Invalid format: "+String(typeof t))}var _Ne={toAsm:yNe,toBytes:vNe,toParam:SNe},qu={encode:O1,decode:OT,fmt:_Ne};function TN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function wNe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function ooe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ENe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");TN(t.outputLen),TN(t.blockLen)}function ANe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function TNe(t,e){ooe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var xNe={number:TN,bool:wNe,bytes:ooe,hash:ENe,exists:ANe,output:TNe},c5=xNe,pN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var bN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Gl=(t,e)=>t<<32-e|t>>>e,INe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!INe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function PNe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function XN(t){if(typeof t=="string"&&(t=PNe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function ONe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var aoe=class{clone(){return this._cloneInto()}};function coe(t){let e=n=>t().update(XN(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function foe(t=32){if(pN&&typeof pN.getRandomValues=="function")return pN.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function BNe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),u=Number(r>>i&s),o=Number(r&s),a=n?4:0,l=n?0:4;t.setUint32(e+a,u,n),t.setUint32(e+l,o,n)}var kNe=class extends aoe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bN(this.buffer)}update(e){c5.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=XN(e);let s=e.length;for(let u=0;u<s;){let o=Math.min(i-this.pos,s-u);if(o===i){let a=bN(e);for(;i<=s-u;u+=i)this.process(a,u);continue}n.set(e.subarray(u,u+o),this.pos),this.pos+=o,u+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){c5.exists(this),c5.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let c=u;c<i;c++)r[c]=0;BNe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let o=bN(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)o.setUint32(4*c,f[c],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:u,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=u,i%r&&e.buffer.set(n),e}},CNe=(t,e,r)=>t&e^~t&r,FNe=(t,e,r)=>t&e^t&r^e&r,RNe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),h1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),p1=new Uint32Array(64),loe=class extends kNe{constructor(){super(64,32,8,!1),this.A=h1[0]|0,this.B=h1[1]|0,this.C=h1[2]|0,this.D=h1[3]|0,this.E=h1[4]|0,this.F=h1[5]|0,this.G=h1[6]|0,this.H=h1[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:u,G:o,H:a}=this;return[e,r,n,i,s,u,o,a]}set(e,r,n,i,s,u,o,a){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=o|0,this.H=a|0}process(e,r){for(let c=0;c<16;c++,r+=4)p1[c]=e.getUint32(r,!1);for(let c=16;c<64;c++){let h=p1[c-15],d=p1[c-2],p=Gl(h,7)^Gl(h,18)^h>>>3,m=Gl(d,17)^Gl(d,19)^d>>>10;p1[c]=m+p1[c-7]+p+p1[c-16]|0}let{A:n,B:i,C:s,D:u,E:o,F:a,G:l,H:f}=this;for(let c=0;c<64;c++){let h=Gl(o,6)^Gl(o,11)^Gl(o,25),d=f+h+CNe(o,a,l)+RNe[c]+p1[c]|0,m=(Gl(n,2)^Gl(n,13)^Gl(n,22))+FNe(n,i,s)|0;f=l,l=a,a=o,o=u+d|0,u=s,s=i,i=n,n=d+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(n,i,s,u,o,a,l,f)}roundClean(){p1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},MNe=class extends loe{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},cT=coe(()=>new loe);coe(()=>new MNe);var NNe=BigInt(0),ZN=BigInt(1),DNe=BigInt(2),BT=t=>t instanceof Uint8Array,HNe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fg(t){if(!BT(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=HNe[t[r]];return e}function doe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function JN(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function lg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Ko(t){return JN(fg(t))}function QN(t){if(!BT(t))throw new Error("Uint8Array expected");return JN(fg(Uint8Array.from(t).reverse()))}var E1=(t,e)=>lg(t.toString(16).padStart(e*2,"0")),hoe=(t,e)=>E1(t,e).reverse(),LNe=t=>lg(doe(t));function Uu(t,e,r){let n;if(typeof e=="string")try{n=lg(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(BT(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function ic(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!BT(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function UNe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function kT(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function $Ne(t){let e;for(e=0;t>0n;t>>=ZN,e+=1);return e}var qNe=(t,e)=>t>>BigInt(e)&1n,jNe=(t,e,r)=>t|(r?ZN:NNe)<<BigInt(e),eD=t=>(DNe<<BigInt(t-1))-ZN,gN=t=>new Uint8Array(t),wue=t=>Uint8Array.from(t);function poe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=gN(t),i=gN(t),s=0,u=()=>{n.fill(1),i.fill(0),s=0},o=(...c)=>r(i,n,...c),a=(c=gN())=>{i=o(wue([0]),c),n=o(),c.length!==0&&(i=o(wue([1]),c),n=o())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let c=0,h=[];for(;c<e;){n=o();let d=n.slice();h.push(d),c+=n.length}return ic(...h)};return(c,h)=>{u(),a(c);let d;for(;!(d=h(l()));)a();return u(),d}}var KNe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function _g(t,e,r={}){let n=(i,s,u)=>{let o=KNe[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);let a=t[i];if(!(u&&a===void 0)&&!o(a,t))throw new Error(`Invalid param ${String(i)}=${a} (${typeof a}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var zNe=Object.freeze({__proto__:null,bitGet:qNe,bitLen:$Ne,bitMask:eD,bitSet:jNe,bytesToHex:fg,bytesToNumberBE:Ko,bytesToNumberLE:QN,concatBytes:ic,createHmacDrbg:poe,ensureBytes:Uu,equalBytes:UNe,hexToBytes:lg,hexToNumber:JN,numberToBytesBE:E1,numberToBytesLE:hoe,numberToHexUnpadded:doe,numberToVarBytesBE:LNe,utf8ToBytes:kT,validateObject:_g});var du=BigInt(0),ss=BigInt(1),a5=BigInt(2),VNe=BigInt(3),xN=BigInt(4),Eue=BigInt(5),Aue=BigInt(8);BigInt(9);BigInt(16);function Ds(t,e){let r=t%e;return r>=du?r:e+r}function GNe(t,e,r){if(r<=du||e<du)throw new Error("Expected power/modulo > 0");if(r===ss)return du;let n=ss;for(;e>du;)e&ss&&(n=n*t%r),t=t*t%r,e>>=ss;return n}function p0(t,e,r){let n=t;for(;e-- >du;)n*=n,n%=r;return n}function IN(t,e){if(t===du||e<=du)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ds(t,e),n=e,i=du,s=ss;for(;r!==du;){let o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==ss)throw new Error("invert: does not exist");return Ds(i,e)}function WNe(t){let e=(t-ss)/a5,r,n,i;for(r=t-ss,n=0;r%a5===du;r/=a5,n++);for(i=a5;i<t&&GNe(i,e,t)!==t-ss;i++);if(n===1){let u=(t+ss)/xN;return function(a,l){let f=a.pow(l,u);if(!a.eql(a.sqr(f),l))throw new Error("Cannot find square root");return f}}let s=(r+ss)/a5;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,f=o.pow(o.mul(o.ONE,i),r),c=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let d=1;for(let m=o.sqr(h);d<l&&!o.eql(m,o.ONE);d++)m=o.sqr(m);let p=o.pow(f,ss<<BigInt(l-d-1));f=o.sqr(p),c=o.mul(c,p),h=o.mul(h,f),l=d}return c}}function YNe(t){if(t%xN===VNe){let e=(t+ss)/xN;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Aue===Eue){let e=(t-Eue)/Aue;return function(n,i){let s=n.mul(i,a5),u=n.pow(s,e),o=n.mul(i,u),a=n.mul(n.mul(o,a5),u),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return WNe(t)}var XNe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function boe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=XNe.reduce((n,i)=>(n[i]="function",n),e);return _g(t,r)}function ZNe(t,e,r){if(r<du)throw new Error("Expected power > 0");if(r===du)return t.ONE;if(r===ss)return e;let n=t.ONE,i=e;for(;r>du;)r&ss&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ss;return n}function JNe(t,e){let r=new Array(e.length),n=e.reduce((s,u,o)=>t.is0(u)?s:(r[o]=s,t.mul(s,u)),t.ONE),i=t.inv(n);return e.reduceRight((s,u,o)=>t.is0(u)?s:(r[o]=t.mul(s,r[o]),t.mul(s,u)),i),r}function tD(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function goe(t,e,r=!1,n={}){if(t<=du)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=tD(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let u=YNe(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:eD(i),ZERO:du,ONE:ss,create:a=>Ds(a,t),isValid:a=>{if(typeof a!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof a}`);return du<=a&&a<t},is0:a=>a===du,isOdd:a=>(a&ss)===ss,neg:a=>Ds(-a,t),eql:(a,l)=>a===l,sqr:a=>Ds(a*a,t),add:(a,l)=>Ds(a+l,t),sub:(a,l)=>Ds(a-l,t),mul:(a,l)=>Ds(a*l,t),pow:(a,l)=>ZNe(o,a,l),div:(a,l)=>Ds(a*IN(l,t),t),sqrN:a=>a*a,addN:(a,l)=>a+l,subN:(a,l)=>a-l,mulN:(a,l)=>a*l,inv:a=>IN(a,t),sqrt:n.sqrt||(a=>u(o,a)),invertBatch:a=>JNe(o,a),cmov:(a,l,f)=>f?l:a,toBytes:a=>r?hoe(a,s):E1(a,s),fromBytes:a=>{if(a.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${a.length}`);return r?QN(a):Ko(a)}});return Object.freeze(o)}function QNe(t,e,r=!1){t=Uu("privateHash",t);let n=t.length,i=tD(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?QN(t):Ko(t);return Ds(s,e-ss)+ss}var eDe=BigInt(0),mN=BigInt(1);function tDe(t,e){let r=(i,s)=>{let u=s.negate();return i?u:s},n=i=>{let s=Math.ceil(e/i)+1,u=2**(i-1);return{windows:s,windowSize:u}};return{constTimeNegate:r,unsafeLadder(i,s){let u=t.ZERO,o=i;for(;s>eDe;)s&mN&&(u=u.add(o)),o=o.double(),s>>=mN;return u},precomputeWindow(i,s){let{windows:u,windowSize:o}=n(s),a=[],l=i,f=l;for(let c=0;c<u;c++){f=l,a.push(f);for(let h=1;h<o;h++)f=f.add(l),a.push(f);l=f.double()}return a},wNAF(i,s,u){let{windows:o,windowSize:a}=n(i),l=t.ZERO,f=t.BASE,c=BigInt(2**i-1),h=2**i,d=BigInt(i);for(let p=0;p<o;p++){let m=p*a,w=Number(u&c);u>>=d,w>a&&(w-=h,u+=mN);let x=m,_=m+Math.abs(w)-1,y=p%2!==0,S=w<0;w===0?f=f.add(r(y,s[x])):l=l.add(r(S,s[_]))}return{p:l,f}},wNAFCached(i,s,u,o){let a=i._WINDOW_SIZE||1,l=s.get(i);return l||(l=this.precomputeWindow(i,a),a!==1&&s.set(i,o(l))),this.wNAF(a,l,u)}}}function moe(t){return boe(t.Fp),_g(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tD(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function rDe(t){let e=moe(t);_g(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:nDe,hexToBytes:iDe}=zNe,f5={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=f5;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:nDe(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=f5,r=typeof t=="string"?iDe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=f5._parseInt(r.subarray(2)),{d:u,l:o}=f5._parseInt(s);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:u}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)>=8?"00"+l:l,r=l=>{let f=l.toString(16);return f.length&1?`0${f}`:f},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,u=i.length/2,o=r(s),a=r(u);return`30${r(u+s+4)}02${a}${i}02${o}${n}`}},Rf=BigInt(0),Ns=BigInt(1),Ih=BigInt(2),fT=BigInt(3),Tue=BigInt(4);function sDe(t){let e=rDe(t),{Fp:r}=e,n=e.toBytes||((p,m,w)=>{let x=m.toAffine();return ic(Uint8Array.from([4]),r.toBytes(x.x),r.toBytes(x.y))}),i=e.fromBytes||(p=>{let m=p.subarray(1),w=r.fromBytes(m.subarray(0,r.BYTES)),x=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:w,y:x}});function s(p){let{a:m,b:w}=e,x=r.sqr(p),_=r.mul(x,p);return r.add(r.add(_,r.mul(p,m)),w)}function u(p){return typeof p=="bigint"&&Rf<p&&p<e.n}function o(p){if(!u(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function a(p){let{allowedPrivateKeyLengths:m,nByteLength:w,wrapPrivateKey:x,n:_}=e;if(m&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=fg(p)),typeof p!="string"||!m.includes(p.length))throw new Error("Invalid key");p=p.padStart(w*2,"0")}let y;try{y=typeof p=="bigint"?p:Ko(Uu("private key",p,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof p}`)}return x&&(y=Ds(y,_)),o(y),y}let l=new Map;function f(p){if(!(p instanceof c))throw new Error("ProjectivePoint expected")}class c{constructor(m,w,x){if(this.px=m,this.py=w,this.pz=x,m==null||!r.isValid(m))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(x==null||!r.isValid(x))throw new Error("z required")}static fromAffine(m){let{x:w,y:x}=m||{};if(!m||!r.isValid(w)||!r.isValid(x))throw new Error("invalid affine point");if(m instanceof c)throw new Error("projective point not allowed");let _=y=>r.eql(y,r.ZERO);return _(w)&&_(x)?c.ZERO:new c(w,x,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let w=r.invertBatch(m.map(x=>x.pz));return m.map((x,_)=>x.toAffine(w[_])).map(c.fromAffine)}static fromHex(m){let w=c.fromAffine(i(Uu("pointHex",m)));return w.assertValidity(),w}static fromPrivateKey(m){return c.BASE.multiply(a(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:m,y:w}=this.toAffine();if(!r.isValid(m)||!r.isValid(w))throw new Error("bad point: x or y not FE");let x=r.sqr(w),_=s(m);if(!r.eql(x,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){f(m);let{px:w,py:x,pz:_}=this,{px:y,py:S,pz:F}=m,N=r.eql(r.mul(w,F),r.mul(y,_)),H=r.eql(r.mul(x,F),r.mul(S,_));return N&&H}negate(){return new c(this.px,r.neg(this.py),this.pz)}double(){let{a:m,b:w}=e,x=r.mul(w,fT),{px:_,py:y,pz:S}=this,F=r.ZERO,N=r.ZERO,H=r.ZERO,D=r.mul(_,_),L=r.mul(y,y),P=r.mul(S,S),A=r.mul(_,y);return A=r.add(A,A),H=r.mul(_,S),H=r.add(H,H),F=r.mul(m,H),N=r.mul(x,P),N=r.add(F,N),F=r.sub(L,N),N=r.add(L,N),N=r.mul(F,N),F=r.mul(A,F),H=r.mul(x,H),P=r.mul(m,P),A=r.sub(D,P),A=r.mul(m,A),A=r.add(A,H),H=r.add(D,D),D=r.add(H,D),D=r.add(D,P),D=r.mul(D,A),N=r.add(N,D),P=r.mul(y,S),P=r.add(P,P),D=r.mul(P,A),F=r.sub(F,D),H=r.mul(P,L),H=r.add(H,H),H=r.add(H,H),new c(F,N,H)}add(m){f(m);let{px:w,py:x,pz:_}=this,{px:y,py:S,pz:F}=m,N=r.ZERO,H=r.ZERO,D=r.ZERO,L=e.a,P=r.mul(e.b,fT),A=r.mul(w,y),b=r.mul(x,S),g=r.mul(_,F),v=r.add(w,x),E=r.add(y,S);v=r.mul(v,E),E=r.add(A,b),v=r.sub(v,E),E=r.add(w,_);let C=r.add(y,F);return E=r.mul(E,C),C=r.add(A,g),E=r.sub(E,C),C=r.add(x,_),N=r.add(S,F),C=r.mul(C,N),N=r.add(b,g),C=r.sub(C,N),D=r.mul(L,E),N=r.mul(P,g),D=r.add(N,D),N=r.sub(b,D),D=r.add(b,D),H=r.mul(N,D),b=r.add(A,A),b=r.add(b,A),g=r.mul(L,g),E=r.mul(P,E),b=r.add(b,g),g=r.sub(A,g),g=r.mul(L,g),E=r.add(E,g),A=r.mul(b,E),H=r.add(H,A),A=r.mul(C,E),N=r.mul(v,N),N=r.sub(N,A),A=r.mul(v,b),D=r.mul(C,D),D=r.add(D,A),new c(N,H,D)}subtract(m){return this.add(m.negate())}is0(){return this.equals(c.ZERO)}wNAF(m){return d.wNAFCached(this,l,m,w=>{let x=r.invertBatch(w.map(_=>_.pz));return w.map((_,y)=>_.toAffine(x[y])).map(c.fromAffine)})}multiplyUnsafe(m){let w=c.ZERO;if(m===Rf)return w;if(o(m),m===Ns)return this;let{endo:x}=e;if(!x)return d.unsafeLadder(this,m);let{k1neg:_,k1:y,k2neg:S,k2:F}=x.splitScalar(m),N=w,H=w,D=this;for(;y>Rf||F>Rf;)y&Ns&&(N=N.add(D)),F&Ns&&(H=H.add(D)),D=D.double(),y>>=Ns,F>>=Ns;return _&&(N=N.negate()),S&&(H=H.negate()),H=new c(r.mul(H.px,x.beta),H.py,H.pz),N.add(H)}multiply(m){o(m);let w=m,x,_,{endo:y}=e;if(y){let{k1neg:S,k1:F,k2neg:N,k2:H}=y.splitScalar(w),{p:D,f:L}=this.wNAF(F),{p:P,f:A}=this.wNAF(H);D=d.constTimeNegate(S,D),P=d.constTimeNegate(N,P),P=new c(r.mul(P.px,y.beta),P.py,P.pz),x=D.add(P),_=L.add(A)}else{let{p:S,f:F}=this.wNAF(w);x=S,_=F}return c.normalizeZ([x,_])[0]}multiplyAndAddUnsafe(m,w,x){let _=c.BASE,y=(F,N)=>N===Rf||N===Ns||!F.equals(_)?F.multiplyUnsafe(N):F.multiply(N),S=y(this,w).add(y(m,x));return S.is0()?void 0:S}toAffine(m){let{px:w,py:x,pz:_}=this,y=this.is0();m==null&&(m=y?r.ONE:r.inv(_));let S=r.mul(w,m),F=r.mul(x,m),N=r.mul(_,m);if(y)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:S,y:F}}isTorsionFree(){let{h:m,isTorsionFree:w}=e;if(m===Ns)return!0;if(w)return w(c,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:w}=e;return m===Ns?this:w?w(c,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(c,this,m)}toHex(m=!0){return fg(this.toRawBytes(m))}}c.BASE=new c(e.Gx,e.Gy,r.ONE),c.ZERO=new c(r.ZERO,r.ONE,r.ZERO);let h=e.nBitLength,d=tDe(c,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:c,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:u}}function uDe(t){let e=moe(t);return _g(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oDe(t){let e=uDe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function u(E){return Rf<E&&E<r.ORDER}function o(E){return Ds(E,n)}function a(E){return IN(E,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:c,isWithinCurveOrder:h}=sDe({...e,toBytes(E,C,R){let O=C.toAffine(),M=r.toBytes(O.x),T=ic;return R?T(Uint8Array.from([C.hasEvenY()?2:3]),M):T(Uint8Array.from([4]),M,r.toBytes(O.y))},fromBytes(E){let C=E.length,R=E[0],O=E.subarray(1);if(C===i&&(R===2||R===3)){let M=Ko(O);if(!u(M))throw new Error("Point is not on curve");let T=c(M),U=r.sqrt(T),Y=(U&Ns)===Ns;return(R&1)===1!==Y&&(U=r.neg(U)),{x:M,y:U}}else if(C===s&&R===4){let M=r.fromBytes(O.subarray(0,r.BYTES)),T=r.fromBytes(O.subarray(r.BYTES,2*r.BYTES));return{x:M,y:T}}else throw new Error(`Point of length ${C} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),d=E=>fg(E1(E,e.nByteLength));function p(E){let C=n>>Ns;return E>C}function m(E){return p(E)?o(-E):E}let w=(E,C,R)=>Ko(E.slice(C,R));class x{constructor(C,R,O){this.r=C,this.s=R,this.recovery=O,this.assertValidity()}static fromCompact(C){let R=e.nByteLength;return C=Uu("compactSignature",C,R*2),new x(w(C,0,R),w(C,R,2*R))}static fromDER(C){let{r:R,s:O}=f5.toSig(Uu("DER",C));return new x(R,O)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new x(this.r,this.s,C)}recoverPublicKey(C){let{r:R,s:O,recovery:M}=this,T=H(Uu("msgHash",C));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");let U=M===2||M===3?R+e.n:R;if(U>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Y=(M&1)===0?"02":"03",te=l.fromHex(Y+d(U)),J=a(U),ce=o(-T*J),se=o(O*J),j=l.BASE.multiplyAndAddUnsafe(te,ce,se);if(!j)throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return lg(this.toDERHex())}toDERHex(){return f5.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return lg(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}let _={isValidPrivateKey(E){try{return f(E),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let E=e.randomBytes(r.BYTES+8),C=QNe(E,n);return E1(C,e.nByteLength)},precompute(E=8,C=l.BASE){return C._setWindowSize(E),C.multiply(BigInt(3)),C}};function y(E,C=!0){return l.fromPrivateKey(E).toRawBytes(C)}function S(E){let C=E instanceof Uint8Array,R=typeof E=="string",O=(C||R)&&E.length;return C?O===i||O===s:R?O===2*i||O===2*s:E instanceof l}function F(E,C,R=!0){if(S(E))throw new Error("first arg must be private key");if(!S(C))throw new Error("second arg must be public key");return l.fromHex(C).multiply(f(E)).toRawBytes(R)}let N=e.bits2int||function(E){let C=Ko(E),R=E.length*8-e.nBitLength;return R>0?C>>BigInt(R):C},H=e.bits2int_modN||function(E){return o(N(E))},D=eD(e.nBitLength);function L(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(Rf<=E&&E<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return E1(E,e.nByteLength)}function P(E,C,R=A){if(["recovered","canonical"].some(ee=>ee in R))throw new Error("sign() legacy options not supported");let{hash:O,randomBytes:M}=e,{lowS:T,prehash:U,extraEntropy:Y}=R;T==null&&(T=!0),E=Uu("msgHash",E),U&&(E=Uu("prehashed msgHash",O(E)));let te=H(E),J=f(C),ce=[L(J),L(te)];if(Y!=null){let ee=Y===!0?M(r.BYTES):Y;ce.push(Uu("extraEntropy",ee,r.BYTES))}let se=ic(...ce),j=te;function Z(ee){let ue=N(ee);if(!h(ue))return;let fe=a(ue),de=l.BASE.multiply(ue).toAffine(),we=o(de.x);if(we===Rf)return;let He=o(fe*o(j+we*J));if(He===Rf)return;let Fe=(de.x===we?0:2)|Number(de.y&Ns),Le=He;return T&&p(He)&&(Le=m(He),Fe^=1),new x(we,Le,Fe)}return{seed:se,k2sig:Z}}let A={lowS:e.lowS,prehash:!1},b={lowS:e.lowS,prehash:!1};function g(E,C,R=A){let{seed:O,k2sig:M}=P(E,C,R);return poe(e.hash.outputLen,e.nByteLength,e.hmac)(O,M)}l.BASE._setWindowSize(8);function v(E,C,R,O=b){let M=E;if(C=Uu("msgHash",C),R=Uu("publicKey",R),"strict"in O)throw new Error("options.strict was renamed to lowS");let{lowS:T,prehash:U}=O,Y,te;try{if(typeof M=="string"||M instanceof Uint8Array)try{Y=x.fromDER(M)}catch(de){if(!(de instanceof f5.Err))throw de;Y=x.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){let{r:de,s:we}=M;Y=new x(de,we)}else throw new Error("PARSE");te=l.fromHex(R)}catch(de){if(de.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&Y.hasHighS())return!1;U&&(C=e.hash(C));let{r:J,s:ce}=Y,se=H(C),j=a(ce),Z=o(se*j),ee=o(J*j),ue=l.BASE.multiplyAndAddUnsafe(te,Z,ee)?.toAffine();return ue?o(ue.x)===J:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:F,sign:g,verify:v,ProjectivePoint:l,Signature:x,utils:_}}function aDe(t,e){let r=t.ORDER,n=Rf;for(let h=r-Ns;h%Ih===Rf;h/=Ih)n+=Ns;let i=n,s=(r-Ns)/Ih**i,u=(s-Ns)/Ih,o=Ih**i-Ns,a=Ih**(i-Ns),l=t.pow(e,s),f=t.pow(e,(s+Ns)/Ih),c=(h,d)=>{let p=l,m=t.pow(d,o),w=t.sqr(m);w=t.mul(w,d);let x=t.mul(h,w);x=t.pow(x,u),x=t.mul(x,m),m=t.mul(x,d),w=t.mul(x,h);let _=t.mul(w,m);x=t.pow(_,a);let y=t.eql(x,t.ONE);m=t.mul(w,f),x=t.mul(_,p),w=t.cmov(m,w,y),_=t.cmov(x,_,y);for(let S=i;S>1;S--){let F=Ih**(S-Ih),N=t.pow(_,F),H=t.eql(N,t.ONE);m=t.mul(w,p),p=t.mul(p,p),N=t.mul(_,p),w=t.cmov(m,w,H),_=t.cmov(N,_,H)}return{isValid:y,value:w}};if(t.ORDER%Tue===fT){let h=(t.ORDER-fT)/Tue,d=t.sqrt(t.neg(e));c=(p,m)=>{let w=t.sqr(m),x=t.mul(p,m);w=t.mul(w,x);let _=t.pow(w,h);_=t.mul(_,x);let y=t.mul(_,d),S=t.mul(t.sqr(_),m),F=t.eql(S,p),N=t.cmov(y,_,F);return{isValid:F,value:N}}}return c}function cDe(t,e){if(boe(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=aDe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,u,o,a,l,f,c;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),u=t.add(s,t.ONE),u=t.mul(u,e.B),o=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),o=t.mul(o,e.A),s=t.sqr(u),l=t.sqr(o),a=t.mul(l,e.A),s=t.add(s,a),s=t.mul(s,u),l=t.mul(l,o),a=t.mul(l,e.B),s=t.add(s,a),f=t.mul(i,u);let{isValid:h,value:d}=r(s,l);c=t.mul(i,n),c=t.mul(c,d),f=t.cmov(f,u,h),c=t.cmov(c,d,h);let p=t.isOdd(n)===t.isOdd(c);return c=t.cmov(t.neg(c),c,p),f=t.div(f,o),{x:f,y:c}}}function fDe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return kT(t);throw new Error("DST must be Uint8Array or string")}var lDe=Ko;function _1(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function dDe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function _8(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function rD(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function hDe(t,e,r,n){_8(t),_8(e),rD(r),e.length>255&&(e=n(ic(kT("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,u=Math.ceil(r/i);if(u>255)throw new Error("Invalid xmd length");let o=ic(e,_1(e.length,1)),a=_1(0,s),l=_1(r,2),f=new Array(u),c=n(ic(a,t,l,_1(0,1),o));f[0]=n(ic(c,_1(1,1),o));for(let d=1;d<=u;d++){let p=[dDe(c,f[d-1]),_1(d+1,1),o];f[d]=n(ic(...p))}return ic(...f).slice(0,r)}function pDe(t,e,r,n,i){if(_8(t),_8(e),rD(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(kT("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(_1(r,2)).update(e).update(_1(e.length,1)).digest()}function xue(t,e,r){_g(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:u,expand:o,DST:a}=r;_8(t),rD(e);let l=fDe(a),f=n.toString(2).length,c=Math.ceil((f+i)/8),h=e*s*c,d;if(o==="xmd")d=hDe(t,l,h,u);else if(o==="xof")d=pDe(t,l,h,i,u);else if(o===void 0)d=t;else throw new Error('expand must be "xmd", "xof" or undefined');let p=new Array(e);for(let m=0;m<e;m++){let w=new Array(s);for(let x=0;x<s;x++){let _=c*(x+m*s),y=d.subarray(_,_+c);w[x]=Ds(lDe(y),n)}p[m]=w}return p}function bDe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,u,o,a]=r.map(l=>l.reduce((f,c)=>t.add(t.mul(f,n),c)));return n=t.div(s,u),i=t.mul(i,t.div(o,a)),{x:n,y:i}}}function gDe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=xue(n,2,{...r,DST:r.DST,...i}),u=t.fromAffine(e(s[0])),o=t.fromAffine(e(s[1])),a=u.add(o).clearCofactor();return a.assertValidity(),a},encodeToCurve(n,i){let s=xue(n,1,{...r,DST:r.encodeDST,...i}),u=t.fromAffine(e(s[0])).clearCofactor();return u.assertValidity(),u}}}var yoe=class extends aoe{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,c5.hash(e);let n=XN(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let u=0;u<s.length;u++)s[u]^=54;this.iHash.update(s),this.oHash=e.create();for(let u=0;u<s.length;u++)s[u]^=106;this.oHash.update(s),s.fill(0)}update(e){return c5.exists(this),this.iHash.update(e),this}digestInto(e){c5.exists(this),c5.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:u,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=u,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},voe=(t,e,r)=>new yoe(t,e).update(r).digest();voe.create=(t,e)=>new yoe(t,e);function mDe(t){return{hash:t,hmac:(e,...r)=>voe(t,e,ONe(...r)),randomBytes:foe}}function yDe(t,e){let r=n=>oDe({...t,...mDe(n)});return Object.freeze({...r(e),create:r})}var CT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lT=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Soe=BigInt(1),dT=BigInt(2),Iue=(t,e)=>(t+e/dT)/e;function _oe(t){let e=CT,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),u=BigInt(23),o=BigInt(44),a=BigInt(88),l=t*t*t%e,f=l*l*t%e,c=p0(f,r,e)*f%e,h=p0(c,r,e)*f%e,d=p0(h,dT,e)*l%e,p=p0(d,i,e)*d%e,m=p0(p,s,e)*p%e,w=p0(m,o,e)*m%e,x=p0(w,a,e)*w%e,_=p0(x,o,e)*m%e,y=p0(_,r,e)*f%e,S=p0(y,u,e)*p%e,F=p0(S,n,e)*l%e,N=p0(F,dT,e);if(!T1.eql(T1.sqr(N),t))throw new Error("Cannot find square root");return N}var T1=goe(CT,void 0,void 0,{sqrt:_oe}),Xl=yDe({a:BigInt(0),b:BigInt(7),Fp:T1,n:lT,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=lT,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Soe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,u=BigInt("0x100000000000000000000000000000000"),o=Iue(s*t,e),a=Iue(-n*t,e),l=Ds(t-o*r-a*i,e),f=Ds(-o*n-a*s,e),c=l>u,h=f>u;if(c&&(l=e-l),h&&(f=e-f),l>u||f>u)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:l,k2neg:h,k2:f}}}},cT),FT=BigInt(0),woe=t=>typeof t=="bigint"&&FT<t&&t<CT,vDe=t=>typeof t=="bigint"&&FT<t&&t<lT,Pue={};function hT(t,...e){let r=Pue[t];if(r===void 0){let n=cT(Uint8Array.from(t,i=>i.charCodeAt(0)));r=ic(n,n),Pue[t]=r}return cT(ic(r,...e))}var nD=t=>t.toRawBytes(!0).slice(1),PN=t=>E1(t,32),yN=t=>Ds(t,CT),w8=t=>Ds(t,lT),iD=Xl.ProjectivePoint,SDe=(t,e,r)=>iD.BASE.multiplyAndAddUnsafe(t,e,r);function ON(t){let e=Xl.utils.normPrivateKeyToScalar(t),r=iD.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:w8(-e),bytes:nD(r)}}function Eoe(t){if(!woe(t))throw new Error("bad x: need 0 < x < p");let e=yN(t*t),r=yN(e*t+BigInt(7)),n=_oe(r);n%dT!==FT&&(n=yN(-n));let i=new iD(t,n,Soe);return i.assertValidity(),i}function Aoe(...t){return w8(Ko(hT("BIP0340/challenge",...t)))}function _De(t){return ON(t).bytes}function wDe(t,e,r=foe(32)){let n=Uu("message",t),{bytes:i,scalar:s}=ON(e),u=Uu("auxRand",r,32),o=PN(s^Ko(hT("BIP0340/aux",u))),a=hT("BIP0340/nonce",o,i,n),l=w8(Ko(a));if(l===FT)throw new Error("sign failed: k is zero");let{bytes:f,scalar:c}=ON(l),h=Aoe(f,i,n),d=new Uint8Array(64);if(d.set(f,0),d.set(PN(w8(c+h*s)),32),!Toe(d,n,i))throw new Error("sign: Invalid signature produced");return d}function Toe(t,e,r){let n=Uu("signature",t,64),i=Uu("message",e),s=Uu("publicKey",r,32);try{let u=Eoe(Ko(s)),o=Ko(n.subarray(0,32));if(!woe(o))return!1;let a=Ko(n.subarray(32,64));if(!vDe(a))return!1;let l=Aoe(PN(o),nD(u),i),f=SDe(u,a,w8(-l));return!(!f||!f.hasEvenY()||f.toAffine().x!==o)}catch{return!1}}var EDe={getPublicKey:_De,sign:wDe,verify:Toe,utils:{randomPrivateKey:Xl.utils.randomPrivateKey,lift_x:Eoe,pointToBytes:nD,numberToBytesBE:E1,bytesToNumberBE:Ko,taggedHash:hT,mod:Ds}},ADe=bDe(T1,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),TDe=cDe(T1,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:T1.create(BigInt("-11"))});gDe(Xl.ProjectivePoint,t=>{let{x:e,y:r}=TDe(T1.create(t[0]));return ADe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:T1.ORDER,m:1,k:128,expand:"xmd",hash:cT});function BN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function xDe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function xoe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function IDe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");BN(t.outputLen),BN(t.blockLen)}function PDe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ODe(t,e){xoe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var BDe={number:BN,bool:xDe,bytes:xoe,hash:IDe,exists:PDe,output:ODe},vN=BDe;var SN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Wl=(t,e)=>t<<32-e|t>>>e,kDe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kDe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function CDe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Ioe(t){if(typeof t=="string"&&(t=CDe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var FDe=class{clone(){return this._cloneInto()}};function Poe(t){let e=n=>t().update(Ioe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function RDe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),u=Number(r>>i&s),o=Number(r&s),a=n?4:0,l=n?0:4;t.setUint32(e+a,u,n),t.setUint32(e+l,o,n)}var MDe=class extends FDe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=SN(this.buffer)}update(e){vN.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Ioe(e);let s=e.length;for(let u=0;u<s;){let o=Math.min(i-this.pos,s-u);if(o===i){let a=SN(e);for(;i<=s-u;u+=i)this.process(a,u);continue}n.set(e.subarray(u,u+o),this.pos),this.pos+=o,u+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vN.exists(this),vN.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let c=u;c<i;c++)r[c]=0;RDe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let o=SN(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)o.setUint32(4*c,f[c],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:u,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=u,i%r&&e.buffer.set(n),e}},NDe=(t,e,r)=>t&e^~t&r,DDe=(t,e,r)=>t&e^t&r^e&r,HDe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),b1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),g1=new Uint32Array(64),Ooe=class extends MDe{constructor(){super(64,32,8,!1),this.A=b1[0]|0,this.B=b1[1]|0,this.C=b1[2]|0,this.D=b1[3]|0,this.E=b1[4]|0,this.F=b1[5]|0,this.G=b1[6]|0,this.H=b1[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:u,G:o,H:a}=this;return[e,r,n,i,s,u,o,a]}set(e,r,n,i,s,u,o,a){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=o|0,this.H=a|0}process(e,r){for(let c=0;c<16;c++,r+=4)g1[c]=e.getUint32(r,!1);for(let c=16;c<64;c++){let h=g1[c-15],d=g1[c-2],p=Wl(h,7)^Wl(h,18)^h>>>3,m=Wl(d,17)^Wl(d,19)^d>>>10;g1[c]=m+g1[c-7]+p+g1[c-16]|0}let{A:n,B:i,C:s,D:u,E:o,F:a,G:l,H:f}=this;for(let c=0;c<64;c++){let h=Wl(o,6)^Wl(o,11)^Wl(o,25),d=f+h+NDe(o,a,l)+HDe[c]+g1[c]|0,m=(Wl(n,2)^Wl(n,13)^Wl(n,22))+DDe(n,i,s)|0;f=l,l=a,a=o,o=u+d|0,u=s,s=i,i=n,n=d+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(n,i,s,u,o,a,l,f)}roundClean(){g1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},LDe=class extends Ooe{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},kN=Poe(()=>new Ooe);Poe(()=>new LDe);function UDe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function $De(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function qDe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:jDe}=crypto??globalThis.crypto??window.crypto;function KDe(t=32){if(typeof jDe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function zDe(t,e,r="be"){e===void 0&&(e=t.length),UDe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function Boe(t){let e,r=0,n=t.reduce((s,u)=>s+u.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var VDe=new TextEncoder,GDe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function koe(t){for(let e of GDe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function WDe(t,e,r=!1){typeof t=="string"&&(t=VDe.encode(t));let n=koe(e),i=n.length,s=[],u="",o,a=0,l,f;for(o=0;o<t.length;o++)for(a=0,l=t[o],u+=l>0||(u.length^o)>0?"":"1";a in s||l>0;)f=s[a],f=f>0?f*256+l:l,l=f/i|0,s[a]=f%i,a++;for(;a-- >0;)u+=n[s[a]];return r&&u.length%4>0?u+"=".repeat(4-u.length%4):u}function YDe(t,e){let r=koe(e),n=r.length,i=[],s=[];t=t.replace("=","");let u,o=0,a,l;for(u=0;u<t.length;u++){if(o=0,a=r.indexOf(t[u]),a<0)throw new Error(`Character range out of bounds: ${a}`);for(a>0||(s.length^u)>0||s.push(0);o in i||a>0;)l=i[o],l=l>0?l*n+a:a,a=l>>8,i[o]=l%256,o++}for(;o-- >0;)s.push(i[o]);return new Uint8Array(s)}function Coe(t){return kN(kN(t))}function XDe(t){let e=Coe(t);return Boe([t,e.slice(0,4)])}function ZDe(t){let e=t.slice(0,-4),r=t.slice(-4);if(Coe(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var Oue={encode:WDe,decode:YDe},Foe={encode:t=>{let e=XDe(t);return Oue.encode(e,"base58")},decode:t=>{let e=Oue.decode(t,"base58");return ZDe(e)}},Roe="qpzry9x8gf2tvdw0s3jn54khce6mua7l",JDe=[996825010,642813549,513874426,1027748829,705979059],pT=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function Moe(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=JDe[i])}return e}function Noe(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function QDe(t,e,r){let n=Noe(t).concat(e);return Moe(n)===r.const}function eHe(t,e,r){let n=Noe(t).concat(e).concat([0,0,0,0,0,0]),i=Moe(n)^r.const,s=[];for(let u=0;u<6;++u)s.push(i>>5*(5-u)&31);return s}function Doe(t,e,r,n=!0){let i=[],s=0,u=0,o=(1<<r)-1,a=(1<<e+r-1)-1;for(let l of t){if(l<0||l>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(l));for(s=(s<<e|l)&a,u+=e;u>=r;)u-=r,i.push(s>>u&o)}if(n)u>0&&i.push(s<<r-u&o);else if(u>=e||(s<<r-u&o)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function tHe(t,e,r){let n=e.concat(eHe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=Roe.charAt(n[s]);return i}function Hoe(t){if(!rHe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!nHe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let u=Roe.indexOf(t.charAt(s));if(u===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(u)}let i=pT.find(s=>s.version===e[0])??pT[0];if(!QDe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function rHe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function nHe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function iHe(t,e="bc",r=0){let n=[r,...Doe([...t],8,5)],i=pT.find(u=>u.version===r)??pT[0],s=tHe(e,n,i);return Loe(s),s}function Loe(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=Hoe(t),i=Doe(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function sHe(t){t=t.toLowerCase();let[e,r]=Hoe(t);return r[0]}var Uoe={encode:iHe,decode:Loe,version:sHe},$oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qoe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",uHe=new TextEncoder;function joe(t,e=!1,r=!0){typeof t=="string"&&(t=uHe.encode(t));let n=e?qoe:$oe,i="",s=0,u=0;for(let o=0;o<t.length;o++)for(u=u<<8|t[o],s+=8;s>=6;)s-=6,i+=n[u>>s&63];if(s>0)for(u<<=6-s,i+=n[u&63];s<6;)i+=r?"=":"",s+=2;return i}function Koe(t,e=!1){let r=e||t.includes("-")||t.includes("_")?qoe.split(""):$oe.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,u=[];for(let o=0;o<n.length;o++){let a=n[o],l=r.indexOf(a);if(l===-1)throw new Error("Invalid character: "+a);i+=6,s<<=6,s|=l,i>=8&&(i-=8,u.push(s>>>i&255))}return new Uint8Array(u)}var zoe={encode:joe,decode:Koe},Voe={encode:t=>joe(t,!0,!1),decode:t=>Koe(t,!0)},oHe=BigInt(0),aHe=BigInt(255),Goe=BigInt(256);function cHe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function fHe(t,e,r="be"){e===void 0&&(e=cHe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),u=n?0:e-1;for(;t>oHe;){let o=t&aHe,a=Number(o);n?s.setUint8(u++,a):s.setUint8(u--,a),t=(t-o)/Goe}return new Uint8Array(i)}function lHe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*Goe+BigInt(t[r]);return BigInt(e)}function dHe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let u=0;u<8;u++)s|=e[n+u]<<7-u;r[i]=s}return r}function hHe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function pHe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function bHe(t,e,r="be"){e===void 0&&(e=pHe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),u=n?0:e-1;for(;t>0;){let o=t&255;n?s.setUint8(u++,t):s.setUint8(u--,t),t=(t-o)/256}return new Uint8Array(i)}function gHe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],qDe(e);return e}var mHe=new TextEncoder,yHe=new TextDecoder;function sD(t){return mHe.encode(t)}function _N(t){return yHe.decode(t)}function vHe(t,e){$De(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function SHe(t,e,r="le"){e=vHe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),u=n?0:e-1;for(let o=0;o<t.length;o+=2){let a=t.substring(o,o+2),l=parseInt(a,16);n?s.setUint8(u++,l):s.setUint8(u--,l)}return new Uint8Array(i)}function _He(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function wHe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return sD(e)}function EHe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return zDe(t,e,r);if(typeof t=="string")return SHe(t,e,r);if(typeof t=="bigint")return fHe(t,e,r);if(typeof t=="number")return bHe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var kr=class extends Uint8Array{static random(e=32){let r=KDe(e);return new kr(r,e)}constructor(e,r,n){let i=EHe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new CN(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return gHe(r)}toBin(){return hHe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return lHe(r)}toHash(){let e=kN(this);return new kr(e)}toJson(){let e=_N(this);return JSON.parse(e)}toBech32(e,r=0){return Uoe.encode(this,e,r)}toStr(){return _N(this)}toHex(){return _He(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return Foe.encode(this)}toBase64(){return zoe.encode(this)}toB64url(){return Voe.encode(this)}prepend(e){return kr.join([kr.bytes(e),this])}append(e){return kr.join([this,kr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new kr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new kr(n)}reverse(){let e=new Uint8Array(this).reverse();return new kr(e)}write(e,r){let n=kr.bytes(e);this.set(n,r)}prefixSize(e){let r=kr.varInt(this.length,e);return kr.join([r,this])}static from(e){return new kr(Uint8Array.from(e))}static of(...e){return new kr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>kr.bytes(i)),n=Boe(r);return new kr(n)}static varInt(e,r){if(e<253)return kr.num(e,1);if(e<65536)return kr.of(253,...kr.num(e,2,r));if(e<4294967296)return kr.of(254,...kr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return kr.of(255,...kr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},Lt=kr;(()=>{kr.num=AHe})(),(()=>{kr.big=xHe})(),(()=>{kr.bin=THe})(),(()=>{kr.raw=IHe})(),(()=>{kr.str=PHe})(),(()=>{kr.hex=OHe})(),(()=>{kr.bytes=BHe})(),(()=>{kr.json=kHe})(),(()=>{kr.base64=CHe})(),(()=>{kr.b64url=FHe})(),(()=>{kr.bech32=RHe})(),(()=>{kr.b58chk=MHe})(),(()=>{kr.encode=sD})(),(()=>{kr.decode=_N})();function AHe(t,e,r){return new Lt(t,e,r)}function THe(t,e,r){return new Lt(dHe(t),e,r)}function xHe(t,e,r){return new Lt(t,e,r)}function IHe(t,e,r){return new Lt(t,e,r)}function PHe(t,e,r){return new Lt(sD(t),e,r)}function OHe(t,e,r){return new Lt(t,e,r)}function BHe(t,e,r){return new Lt(t,e,r)}function kHe(t){return new Lt(wHe(t))}function CHe(t){return new Lt(zoe.decode(t))}function FHe(t){return new Lt(Voe.decode(t))}function RHe(t){return new Lt(Uoe.decode(t))}function MHe(t){return new Lt(Foe.decode(t))}var CN=class{constructor(e){this.data=Lt.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new Lt(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}},bT=Xl.CURVE,uD=bT.n,NHe=bT.p,DHe={x:bT.Gx,y:bT.Gy},HHe=BigInt(0),LHe=BigInt(1),UHe=BigInt(2),$He=BigInt(3),qHe=BigInt(4),FN={N:uD,P:NHe,G:DHe,_0n:HHe,_1n:LHe,_2n:UHe,_3n:$He,_4n:qHe},S8=goe(uD,32,!0),Woe=t=>Ds(t,uD);function oD(t,e=!1){if(e)throw new Error(t);return!1}function Yoe(t){return Lt.random(t)}function jHe(t){let e=Lt.bytes(t).big;return Lt.big(Woe(e),32)}var KHe=Object.freeze({__proto__:null,fail:oD,mod_bytes:jHe,random:Yoe}),{N:zHe,P:umt,_0n:VHe}=FN;function GHe(t,e,r){let n=Lt.bytes(t);return n.length!==e?oD(`Invalid byte size: ${n.hex} !== ${e}`,r):!0}function WHe(t,e){return typeof t=="bigint"&&VHe<t&&t<zHe||oD("x value is not in the field!",e),!0}var Bue=Xl.ProjectivePoint,is=class extends Uint8Array{static mod(e){return new is(e)}static is_valid(e,r){let n=Lt.bytes(e,32).big;return WHe(n,r)}constructor(e){let r=YHe(e);r=Woe(r),is.is_valid(r,!0),super(Lt.big(r,32),32)}get buff(){return new Lt(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(e){return new is(e).big>this.big}lt(e){return new is(e).big<this.big}eq(e){return new is(e).big===this.big}ne(e){return new is(e).big!==this.big}add(e){let r=is.mod(e),n=S8.add(this.big,r.big);return new is(n)}sub(e){let r=is.mod(e),n=S8.sub(this.big,r.big);return new is(n)}mul(e){let r=is.mod(e),n=S8.mul(this.big,r.big);return new is(n)}pow(e){let r=is.mod(e),n=S8.pow(this.big,r.big);return new is(n)}div(e){let r=is.mod(e),n=S8.div(this.big,r.big);return new is(n)}negate(){return new is(is.N-this.big)}generate(){let r=Xl.ProjectivePoint.BASE.multiply(this.big);return Oh.import(r)}},$u=is;(()=>{is.N=Xl.CURVE.n})();var hi=class{static from_x(e){let r=XHe(e);r.length===32&&(r=r.prepend(2)),GHe(r,33);let n=Bue.fromHex(r.hex);return n.assertValidity(),new hi(n.x,n.y)}static generate(e){let r=$u.mod(e),n=hi.base.multiply(r.big);return hi.import(n)}static import(e){let r=e instanceof hi?{x:e.x.big,y:e.y.big}:{x:e.x,y:e.y};return new hi(r.x,r.y)}constructor(e,r){this._p=new Bue(e,r,1n),this.p.assertValidity()}get p(){return this._p}get x(){return Lt.big(this.p.x,32)}get y(){return Lt.big(this.p.y,32)}get buff(){return Lt.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}eq(e){let r=e instanceof hi?e:hi.from_x(e);return this.x.big===r.x.big&&this.y.big===r.y.big}add(e){return e instanceof hi?hi.import(this.p.add(e.p)):hi.import(this.p.add(hi.generate(e).p))}sub(e){return e instanceof hi?hi.import(this.p.subtract(e.p)):hi.import(this.p.subtract(hi.generate(e).p))}mul(e){return e instanceof hi?hi.import(this.p.multiply(e.x.big)):hi.import(this.p.multiply($u.mod(e).big))}negate(){return hi.import(this.p.negate())}},Oh=hi;(()=>{hi.P=FN.P})(),(()=>{hi.G=FN.G})(),(()=>{hi.base=Xl.ProjectivePoint.BASE})();function YHe(t){if(t instanceof $u)return t.big;if(t instanceof Oh)return t.x.big;if(t instanceof Uint8Array)return Lt.raw(t).big;if(typeof t=="string")return Lt.hex(t).big;if(typeof t=="number")return Lt.num(t).big;if(typeof t=="bigint")return BigInt(t);throw TypeError("Invalid input type:"+typeof t)}function XHe(t){if(t instanceof $u)return t.point.buff;if(t instanceof Oh)return t.buff;if(t instanceof Uint8Array||typeof t=="string")return Lt.bytes(t);if(typeof t=="number"||typeof t=="bigint")return Lt.bytes(t,32);throw new TypeError(`Unknown type: ${typeof t}`)}function RN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ZHe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Xoe(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function JHe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");RN(t.outputLen),RN(t.blockLen)}function QHe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eLe(t,e){Xoe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var tLe={number:RN,bool:ZHe,bytes:Xoe,hash:JHe,exists:QHe,output:eLe},l5=tLe;var rLe=t=>t instanceof Uint8Array,wN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Yl=(t,e)=>t<<32-e|t>>>e,nLe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nLe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function iLe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function aD(t){if(typeof t=="string"&&(t=iLe(t)),!rLe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var gT=class{clone(){return this._cloneInto()}};function T5(t){let e=n=>t().update(aD(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function sLe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),u=Number(r>>i&s),o=Number(r&s),a=n?4:0,l=n?0:4;t.setUint32(e+a,u,n),t.setUint32(e+l,o,n)}var E8=class extends gT{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wN(this.buffer)}update(e){l5.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=aD(e);let s=e.length;for(let u=0;u<s;){let o=Math.min(i-this.pos,s-u);if(o===i){let a=wN(e);for(;i<=s-u;u+=i)this.process(a,u);continue}n.set(e.subarray(u,u+o),this.pos),this.pos+=o,u+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){l5.exists(this),l5.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let c=u;c<i;c++)r[c]=0;sLe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let o=wN(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)o.setUint32(4*c,f[c],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:u,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=u,i%r&&e.buffer.set(n),e}},uLe=(t,e,r)=>t&e^~t&r,oLe=(t,e,r)=>t&e^t&r^e&r,aLe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),m1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),y1=new Uint32Array(64),mT=class extends E8{constructor(){super(64,32,8,!1),this.A=m1[0]|0,this.B=m1[1]|0,this.C=m1[2]|0,this.D=m1[3]|0,this.E=m1[4]|0,this.F=m1[5]|0,this.G=m1[6]|0,this.H=m1[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:u,G:o,H:a}=this;return[e,r,n,i,s,u,o,a]}set(e,r,n,i,s,u,o,a){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=o|0,this.H=a|0}process(e,r){for(let c=0;c<16;c++,r+=4)y1[c]=e.getUint32(r,!1);for(let c=16;c<64;c++){let h=y1[c-15],d=y1[c-2],p=Yl(h,7)^Yl(h,18)^h>>>3,m=Yl(d,17)^Yl(d,19)^d>>>10;y1[c]=m+y1[c-7]+p+y1[c-16]|0}let{A:n,B:i,C:s,D:u,E:o,F:a,G:l,H:f}=this;for(let c=0;c<64;c++){let h=Yl(o,6)^Yl(o,11)^Yl(o,25),d=f+h+uLe(o,a,l)+aLe[c]+y1[c]|0,m=(Yl(n,2)^Yl(n,13)^Yl(n,22))+oLe(n,i,s)|0;f=l,l=a,a=o,o=u+d|0,u=s,s=i,i=n,n=d+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(n,i,s,u,o,a,l,f)}roundClean(){y1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},MN=class extends mT{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},yT=T5(()=>new mT);T5(()=>new MN);var rT=BigInt(2**32-1),NN=BigInt(32);function Zoe(t,e=!1){return e?{h:Number(t&rT),l:Number(t>>NN&rT)}:{h:Number(t>>NN&rT)|0,l:Number(t&rT)|0}}function cLe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:u}=Zoe(t[i],e);[r[i],n[i]]=[s,u]}return[r,n]}var fLe=(t,e)=>BigInt(t>>>0)<<NN|BigInt(e>>>0),lLe=(t,e,r)=>t>>>r,dLe=(t,e,r)=>t<<32-r|e>>>r,hLe=(t,e,r)=>t>>>r|e<<32-r,pLe=(t,e,r)=>t<<32-r|e>>>r,bLe=(t,e,r)=>t<<64-r|e>>>r-32,gLe=(t,e,r)=>t>>>r-32|e<<64-r,mLe=(t,e)=>e,yLe=(t,e)=>t,vLe=(t,e,r)=>t<<r|e>>>32-r,SLe=(t,e,r)=>e<<r|t>>>32-r,_Le=(t,e,r)=>e<<r-32|t>>>64-r,wLe=(t,e,r)=>t<<r-32|e>>>64-r;function ELe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var ALe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),TLe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,xLe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),ILe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,PLe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),OLe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,BLe={fromBig:Zoe,split:cLe,toBig:fLe,shrSH:lLe,shrSL:dLe,rotrSH:hLe,rotrSL:pLe,rotrBH:bLe,rotrBL:gLe,rotr32H:mLe,rotr32L:yLe,rotlSH:vLe,rotlSL:SLe,rotlBH:_Le,rotlBL:wLe,add:ELe,add3L:ALe,add3H:TLe,add4L:xLe,add4H:ILe,add5H:OLe,add5L:PLe},xr=BLe,[kLe,CLe]=xr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),v1=new Uint32Array(80),S1=new Uint32Array(80),dg=class extends E8{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:u,Dh:o,Dl:a,Eh:l,El:f,Fh:c,Fl:h,Gh:d,Gl:p,Hh:m,Hl:w}=this;return[e,r,n,i,s,u,o,a,l,f,c,h,d,p,m,w]}set(e,r,n,i,s,u,o,a,l,f,c,h,d,p,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=u|0,this.Dh=o|0,this.Dl=a|0,this.Eh=l|0,this.El=f|0,this.Fh=c|0,this.Fl=h|0,this.Gh=d|0,this.Gl=p|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let y=0;y<16;y++,r+=4)v1[y]=e.getUint32(r),S1[y]=e.getUint32(r+=4);for(let y=16;y<80;y++){let S=v1[y-15]|0,F=S1[y-15]|0,N=xr.rotrSH(S,F,1)^xr.rotrSH(S,F,8)^xr.shrSH(S,F,7),H=xr.rotrSL(S,F,1)^xr.rotrSL(S,F,8)^xr.shrSL(S,F,7),D=v1[y-2]|0,L=S1[y-2]|0,P=xr.rotrSH(D,L,19)^xr.rotrBH(D,L,61)^xr.shrSH(D,L,6),A=xr.rotrSL(D,L,19)^xr.rotrBL(D,L,61)^xr.shrSL(D,L,6),b=xr.add4L(H,A,S1[y-7],S1[y-16]),g=xr.add4H(b,N,P,v1[y-7],v1[y-16]);v1[y]=g|0,S1[y]=b|0}let{Ah:n,Al:i,Bh:s,Bl:u,Ch:o,Cl:a,Dh:l,Dl:f,Eh:c,El:h,Fh:d,Fl:p,Gh:m,Gl:w,Hh:x,Hl:_}=this;for(let y=0;y<80;y++){let S=xr.rotrSH(c,h,14)^xr.rotrSH(c,h,18)^xr.rotrBH(c,h,41),F=xr.rotrSL(c,h,14)^xr.rotrSL(c,h,18)^xr.rotrBL(c,h,41),N=c&d^~c&m,H=h&p^~h&w,D=xr.add5L(_,F,H,CLe[y],S1[y]),L=xr.add5H(D,x,S,N,kLe[y],v1[y]),P=D|0,A=xr.rotrSH(n,i,28)^xr.rotrBH(n,i,34)^xr.rotrBH(n,i,39),b=xr.rotrSL(n,i,28)^xr.rotrBL(n,i,34)^xr.rotrBL(n,i,39),g=n&s^n&o^s&o,v=i&u^i&a^u&a;x=m|0,_=w|0,m=d|0,w=p|0,d=c|0,p=h|0,{h:c,l:h}=xr.add(l|0,f|0,L|0,P|0),l=o|0,f=a|0,o=s|0,a=u|0,s=n|0,u=i|0;let E=xr.add3L(P,b,v);n=xr.add3H(E,L,A,g),i=E|0}({h:n,l:i}=xr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:u}=xr.add(this.Bh|0,this.Bl|0,s|0,u|0),{h:o,l:a}=xr.add(this.Ch|0,this.Cl|0,o|0,a|0),{h:l,l:f}=xr.add(this.Dh|0,this.Dl|0,l|0,f|0),{h:c,l:h}=xr.add(this.Eh|0,this.El|0,c|0,h|0),{h:d,l:p}=xr.add(this.Fh|0,this.Fl|0,d|0,p|0),{h:m,l:w}=xr.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:x,l:_}=xr.add(this.Hh|0,this.Hl|0,x|0,_|0),this.set(n,i,s,u,o,a,l,f,c,h,d,p,m,w,x,_)}roundClean(){v1.fill(0),S1.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},DN=class extends dg{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},HN=class extends dg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},LN=class extends dg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},FLe=T5(()=>new dg);T5(()=>new DN);T5(()=>new HN);T5(()=>new LN);var RLe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Joe=Uint8Array.from({length:16},(t,e)=>e),MLe=Joe.map(t=>(9*t+5)%16),cD=[Joe],fD=[MLe];for(let t=0;t<4;t++)for(let e of[cD,fD])e.push(e[t].map(r=>RLe[r]));var Qoe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),NLe=cD.map((t,e)=>t.map(r=>Qoe[e][r])),DLe=fD.map((t,e)=>t.map(r=>Qoe[e][r])),HLe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),LLe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),nT=(t,e)=>t<<e|t>>>32-e;function kue(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var iT=new Uint32Array(16),UN=class extends E8{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let d=0;d<16;d++,r+=4)iT[d]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,u=s,o=this.h2|0,a=o,l=this.h3|0,f=l,c=this.h4|0,h=c;for(let d=0;d<5;d++){let p=4-d,m=HLe[d],w=LLe[d],x=cD[d],_=fD[d],y=NLe[d],S=DLe[d];for(let F=0;F<16;F++){let N=nT(n+kue(d,s,o,l)+iT[x[F]]+m,y[F])+c|0;n=c,c=l,l=nT(o,10)|0,o=s,s=N}for(let F=0;F<16;F++){let N=nT(i+kue(p,u,a,f)+iT[_[F]]+w,S[F])+h|0;i=h,h=f,f=nT(a,10)|0,a=u,u=N}}this.set(this.h1+o+f|0,this.h2+l+h|0,this.h3+c+i|0,this.h4+n+u|0,this.h0+s+a|0)}roundClean(){iT.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},ULe=T5(()=>new UN),vT=class extends gT{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,l5.hash(e);let n=aD(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let u=0;u<s.length;u++)s[u]^=54;this.iHash.update(s),this.oHash=e.create();for(let u=0;u<s.length;u++)s[u]^=106;this.oHash.update(s),s.fill(0)}update(e){return l5.exists(this),this.iHash.update(e),this}digestInto(e){l5.exists(this),l5.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:u,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=u,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},eae=(t,e,r)=>new vT(t,e).update(r).digest();eae.create=(t,e)=>new vT(t,e);function $Le(t){let e=Lt.bytes(t);return Lt.raw(yT(e))}function Bh(t){let e=Lt.bytes(t);return Lt.raw(yT(yT(e)))}function RT(t){let e=Lt.bytes(t);return Lt.raw(ULe(yT(e)))}function qLe(t,e){let r=Lt.bytes(t),n=Lt.bytes(e);return Lt.raw(eae(FLe,r,n))}function jLe(t){let e=Lt.str(t).digest;return Lt.join([e,e])}function KLe(t=32){return lD(Yoe(t))}function lD(t){return $u.mod(t).buff}function tae(t,e=!1){let r=$u.mod(t).point;return e?r.x:r.buff}function rae(t,e){let r=Oh.from_x(e),n=$u.mod(t);return r.mul(n).buff}function zLe(t,e,r="ecdh/code"){let n=jLe(r),i=lD(t),s=tae(i),u=Lt.bytes(e),o=rae(i,u),a=[s.hex,u.hex];return a.sort(),qLe(o,Lt.join([n,...a]))}function VLe(t){let e=Lt.bytes(t);switch(!0){case e.length===32:return!0;case(e.length===33&&e[0]===2):return!0;case(e.length===33&&e[0]===3):return!1;default:throw new TypeError(`Invalid public key: ${e.hex}`)}}function GLe(t){let e=Lt.bytes(t);switch(e.length){case 32:return e;case 33:return e.slice(1,33);default:throw new Error(`Invalid key length: ${e.length}`)}}var WLe=Object.freeze({__proto__:null,genSecretKey:KLe,getPublicKey:tae,getSecretKey:lD,getSharedCode:zLe,getSharedKey:rae,is_even_pub:VLe,xonly_pub:GLe});Lt.random(32);var nae={secp:Xl,schnorr:EDe},$N={...WLe,...KHe};function MT(t){let e=ge.bytes(t);return ed(e,33),RT(e)}function iae(t){let e=qu.fmt.toBytes(t,!1);return RT(e)}function sae(t){let e=qu.fmt.toBytes(t,!1);return $Le(e)}function uae(t,e="main"){let r=e==="main"?["1"]:["m","n"];for(let n of r)if(t.startsWith(n))return!0;return!1}function oae(t,e="main"){let r=ge.bytes(t),n=e==="main"?ge.num(0):ge.num(111);return ed(t,20),r.prepend(n).tob58chk()}function YLe(t,e="main"){if(!uae(t,e))throw new TypeError("Invalid p2pkh address!");return ge.b58chk(t).slice(1)}function XLe(t){let e=ge.bytes(t);return ed(e,20),["OP_DUP","OP_HASH160",e.hex,"OP_EQUALVERIFY","OP_CHECKSIG"]}function ZLe(t,e){let r=MT(t);return oae(r,e)}var aae={check:uae,encode:oae,decode:YLe,hash:MT,scriptPubKey:XLe,fromPubKey:ZLe};function cae(t,e="main"){let r=e==="main"?["3"]:["2"];for(let n of r)if(t.startsWith(n))return!0;return!1}function fae(t,e="main"){let r=e==="main"?ge.num(5):ge.num(196),n=ge.bytes(t);return ed(n,20),n.prepend(r).tob58chk()}function JLe(t,e="main"){if(!cae(t,e))throw new TypeError(`Invalid p2sh address for network ${e}:`+t);return ge.b58chk(t).slice(1)}function QLe(t){let e=ge.bytes(t);return["OP_HASH160",e.hex,"OP_EQUAL"]}function eUe(t,e){let r=iae(t);return fae(r,e)}var lae={check:cae,encode:fae,decode:JLe,hash:iae,scriptPubKey:QLe,fromScript:eUe},dD={main:"bc",testnet:"tb",signet:"tb",regtest:"bcrt"},tUe=["bc1q","tb1q","bcrt1q"];function dae(t){for(let e of tUe)if(t.startsWith(e))return!0;return!1}function hae(t,e="main"){let r=dD[e],n=ge.bytes(t);return ed(n,20),n.toBech32(r,0)}function rUe(t){if(!dae(t))throw new TypeError("Invalid segwit address!");return ge.bech32(t)}function nUe(t){let e=ge.bytes(t);return ed(e,20),["OP_0",e.hex]}function iUe(t,e){let r=MT(t);return hae(r,e)}var pae={check:dae,encode:hae,decode:rUe,hash:MT,scriptPubKey:nUe,fromPubKey:iUe},sUe=["bc1q","tb1q","bcrt1q"];function bae(t){for(let e of sUe)if(t.startsWith(e))return!0;return!1}function gae(t,e="main"){let r=dD[e],n=ge.bytes(t);return ed(n,32),n.toBech32(r,0)}function uUe(t){if(!bae(t))throw new TypeError("Invalid segwit address!");return ge.bech32(t)}function oUe(t){let e=ge.bytes(t);return ed(e,32),["OP_0",e.hex]}function aUe(t,e){let r=sae(t);return gae(r,e)}var mae={check:bae,encode:gae,decode:uUe,hash:sae,scriptPubKey:oUe,fromScript:aUe};function d5(t){let e=ge.bytes(t);return e.length>32?e.slice(1,33):e}var cUe=["bc1p","tb1p","bcrt1p"];function yae(t){for(let e of cUe)if(t.startsWith(e))return!0;return!1}function vae(t,e="main"){let r=dD[e],n=ge.bytes(t);return ed(n,32),n.toBech32(r,1)}function fUe(t){if(!yae(t))throw new TypeError("Invalid taproot address!");return ge.bech32(t)}function lUe(t){let e=ge.bytes(t);return ed(e,32),["OP_1",e.hex]}function dUe(t,e){let r=d5(t);return vae(r,e)}var Sae={check:yae,encode:vae,decode:fUe,scriptPubKey:lUe,fromPubKey:dUe},hUe={version:2,vin:[],vout:[],locktime:0},pUe={scriptSig:[],sequence:4294967293,witness:[]},bUe={value:0n,scriptPubKey:[]};function hD(t){let e={...hUe,...t};return e.vin=e.vin.map(r=>({...pUe,...r})),e.vout=e.vout.map(r=>({...bUe,...r})),e}function hg(t,e){let{version:r,vin:n,vout:i,locktime:s}=hD(t),u=e!==!0&&gUe(n),o=[pD(r)];u&&o.push(ge.hex("0001")),o.push(mUe(n)),o.push(yUe(i));for(let a of n)u&&o.push(SUe(a.witness));return o.push(bD(s)),ge.join(o)}function gUe(t){for(let e of t){let{witness:r}=e;if(typeof r=="string"||r instanceof Uint8Array||Array.isArray(r)&&r.length>0)return!0}return!1}function pD(t){return ge.num(t,4).reverse()}function T8(t){return ge.hex(t,32).reverse()}function x8(t){return ge.num(t,4).reverse()}function I8(t){if(typeof t=="string")return ge.hex(t,4).reverse();if(typeof t=="number")return ge.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function mUe(t){let e=[ge.varInt(t.length,"le")];for(let r of t){let{txid:n,vout:i,scriptSig:s,sequence:u}=r;e.push(T8(n)),e.push(x8(i)),e.push(O1(s,!0)),e.push(I8(u))}return ge.join(e)}function x1(t){if(typeof t=="number"){if(t%1!==0)throw new Error("Value must be an integer:"+String(t));return ge.num(t,8).reverse()}return ge.big(t,8).reverse()}function yUe(t){let e=[ge.varInt(t.length,"le")];for(let r of t)e.push(vUe(r));return ge.join(e)}function vUe(t){let{value:e,scriptPubKey:r}=t,n=[];return n.push(x1(e)),n.push(O1(r,!0)),ge.join(n)}function SUe(t=[]){let e=[];if(Array.isArray(t)){let r=ge.varInt(t.length);e.push(r);for(let n of t)e.push(_Ue(n));return ge.join(e)}else return ge.bytes(t)}function _Ue(t){return wUe(t)?new ge(0):O1(t,!0)}function wUe(t){if(Array.isArray(t))return t.length===0;if(typeof t=="string"&&t==="")return!0;let e=ge.bytes(t);return e.length===1&&e[0]===0}function bD(t){if(typeof t=="string")return ge.hex(t,4);if(typeof t=="number")return ge.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function gD(t){typeof t=="string"&&(t=ge.hex(t).raw);let e=new Sg(t),r=EUe(e),n=AUe(e),i=TUe(e),s=IUe(e);if(n)for(let o of i)o.witness=OUe(e);let u=BUe(e);return{version:r,vin:i,vout:s,locktime:u}}function EUe(t){return t.read(4).reverse().toNum()}function AUe(t){let[e,r]=[...t.peek(2)];if(e===0){if(t.read(2),r===1)return!0;throw new Error(`Invalid witness flag: ${r}`)}return!1}function TUe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(xUe(t));return e}function xUe(t){return{txid:t.read(32).reverse().toHex(),vout:t.read(4).reverse().toNum(),scriptSig:wae(t,!0),sequence:t.read(4).reverse().toHex(),witness:[]}}function IUe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(PUe(t));return e}function PUe(t){return{value:t.read(8).reverse().big,scriptPubKey:wae(t,!0)}}function OUe(t){let e=[],r=t.readSize();for(let n=0;n<r;n++){let i=_ae(t,!0);e.push(i??"")}return e}function _ae(t,e){let r=e===!0?t.readSize("le"):t.size;return r>0?t.read(r).hex:null}function wae(t,e){let r=_ae(t,e);return r!==null?r:[]}function BUe(t){return t.read(4).reverse().toNum()}function kUe(t){if(soe(t))return gD(t);if(typeof t=="object"&&!(t instanceof Uint8Array))return hg(t),hD(t);throw new Error("Invalid format: "+String(typeof t))}function CUe(t){if(soe(t))return gD(t),ge.bytes(t);if(typeof t=="object")return hg(t);throw new Error("Invalid format: "+String(typeof t))}var mD={toBytes:CUe,toJson:kUe},FUe=[["p2pkh",/^76a914(?<hash>\w{40})88ac$/],["p2sh",/^a914(?<hash>\w{40})87$/],["p2w-pkh",/^0014(?<hash>\w{40})$/],["p2w-sh",/^0020(?<hash>\w{64})$/],["p2tr",/^5120(?<hash>\w{64})$/]],RUe=[192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,102,126,128,132,150,152,186,188,190];function MUe(t){let e=t.at(-1);return Rh(e)&&(e=ge.hex(e)),t.length>1&&e instanceof Uint8Array&&e[0]===80?(t.pop(),ge.raw(e)):null}function NUe(t){let e=t.at(-1);return Rh(e)&&(e=ge.hex(e)),t.length>1&&e instanceof Uint8Array&&e.length>32&&RUe.includes(e[0]&254)?(t.pop(),ge.raw(e)):null}function DUe(t){if(t.length>1){let e=t.at(-1);try{let r=qu.fmt.toBytes(e);return t.pop(),r}catch{return null}}return null}function HUe(t){let e=[];for(let r of t)if(Rh(r)||r instanceof Uint8Array||typeof r=="number")e.push(ge.bytes(r));else throw new Error("unrecognized value: "+String(r));return e}function Eae(t=[]){let e=[...t],r=MUe(e),n=NUe(e),i=DUe(e),s=HUe(e);return{annex:r,cblock:n,script:i,params:s}}function yD(t){let e=qu.fmt.toBytes(t,!1).hex;for(let[r,n]of FUe){let i=r,{groups:s}=n.exec(e)??{},{hash:u}=s??{};if(Rh(u))return{type:i,data:ge.hex(u)}}return{type:"raw",data:ge.hex(e)}}function LUe(t){let e=mD.toJson(t),r=hg(e,!0);return Bh(r).reverse().hex}function UUe(t){let e=mD.toJson(t),r=hg(e,!0).length,n=hg(e,!1).length,i=r*3+n,s=i%4>0?1:0,u=Math.floor(i/4)+s;return{size:n,bsize:r,vsize:u,weight:i}}var sc={create:hD,encode:hg,decode:gD,fmt:mD,util:{getTxSize:UUe,getTxid:LUe,readScriptPubKey:yD,readWitness:Eae}},$Ue=[["1","p2pkh","main",20,"base58"],["3","p2sh","main",20,"base58"],["m","p2pkh","testnet",20,"base58"],["n","p2pkh","testnet",20,"base58"],["2","p2sh","testnet",20,"base58"],["bc1q","p2w-pkh","main",20,"bech32"],["tb1q","p2w-pkh","testnet",20,"bech32"],["bcrt1q","p2w-pkh","regtest",20,"bech32"],["bc1q","p2w-sh","main",32,"bech32"],["tb1q","p2w-sh","testnet",32,"bech32"],["bcrt1q","p2w-sh","regtest",32,"bech32"],["bc1p","p2tr","main",32,"bech32m"],["tb1p","p2tr","testnet",32,"bech32m"],["bcrt1p","p2tr","regtest",32,"bech32m"]];function qUe(t,e){switch(e){case"base58":return ge.b58chk(t).slice(1);case"bech32":return ge.bech32(t);case"bech32m":return ge.bech32(t);default:throw new Error("Invalid address format: "+e)}}function jUe(t){for(let e of $Ue){let[r,n,i,s,u]=e;if(t.startsWith(r)&&qUe(t,u).length===s)return e}throw new Error("Invalid address: "+t)}function Aae(t){switch(t){case"p2pkh":return aae;case"p2sh":return lae;case"p2w-pkh":return pae;case"p2w-sh":return mae;case"p2tr":return Sae;default:throw new Error("Invalid address type: "+t)}}function Tae(t){let[e,r,n]=jUe(t),i=Aae(r),s=i.decode(t,n),u=i.scriptPubKey(s);return{prefix:e,type:r,network:n,data:s,script:u}}function KUe(t,e){let{type:r,data:n}=sc.util.readScriptPubKey(t);return Aae(r).encode(n,e)}function zUe(t){let{script:e}=Tae(t);return qu.fmt.toAsm(e,!1)}var VUe={p2pkh:aae,p2sh:lae,p2wpkh:pae,p2wsh:mae,p2tr:Sae,decode:Tae,fromScriptPubKey:KUe,toScriptPubKey:zUe},GUe=[1,2,3];function vD(t,e,r={}){let{sigflag:n=1}=r,i=(n&128)===128,s=n%128;if(!GUe.includes(s))throw new Error("Invalid hash type: "+String(n));let u=sc.fmt.toJson(t),{version:o,vin:a,vout:l,locktime:f}=u,{txid:c,vout:h,prevout:d,sequence:p}=a[e],{value:m}=d??{};if(m===void 0)throw new Error("Prevout value is empty!");let w=r.script;if(w===void 0&&r.pubkey!==void 0&&(w=`76a914${RT(r.pubkey).hex}88ac`),w===void 0)throw new Error("No pubkey / script has been set!");if(qu.fmt.toAsm(w).includes("OP_CODESEPARATOR"))throw new Error("This library does not currently support the use of OP_CODESEPARATOR in segwit scripts.");let x=[pD(o),WUe(a,i),YUe(a,s,i),T8(c),x8(h),qu.encode(w,!0),x1(m),I8(p),XUe(l,e,s),bD(f),ge.num(n,4).reverse()];return Bh(ge.join(x))}function WUe(t,e){if(e===!0)return ge.num(0,32);let r=[];for(let{txid:n,vout:i}of t)r.push(T8(n)),r.push(x8(i));return Bh(ge.join(r))}function YUe(t,e,r){if(r||e!==1)return ge.num(0,32);let n=[];for(let{sequence:i}of t)n.push(I8(i));return Bh(ge.join(n))}function XUe(t,e,r){let n=[];if(r===1){for(let{value:i,scriptPubKey:s}of t)n.push(x1(i)),n.push(qu.encode(s,!0));return Bh(ge.join(n))}if(r===3&&e<t.length){let{value:i,scriptPubKey:s}=t[e];return n.push(x1(i)),n.push(qu.encode(s,!0)),Bh(ge.join(n))}return ge.num(0,32)}function ZUe(t,e,r,n={}){let{sigflag:i=1}=n,s=vD(e,r,n),u=nae.secp.sign(s,t).toDERRawBytes(!0);return ge.join([u,i])}function JUe(t,e,r={}){let n=sc.fmt.toJson(t),{throws:i=!1}=r,{witness:s=[]}=n.vin[e],u=sc.util.readWitness(s),{script:o,params:a}=u,l=null;if(a.length<1)return go("Invalid witness data: "+String(s),i);if(r.script===void 0&&o!==null&&(r.script=o),r.pubkey!==void 0)l=ge.bytes(r.pubkey);else if(a.length>1&&a[1].length===33)l=ge.bytes(a[1]);else return go("No pubkey provided!",i);let f=qu.fmt.toParam(a[0]),c=f.slice(0,-1),h=f.slice(-1)[0],d=vD(n,e,{...r,sigflag:h});return nae.secp.verify(c,d,l)?!0:go("Invalid signature!",i)}var QUe={hash:vD,sign:ZUe,verify:JUe},e$e=[0,1,2,3,129,130,131];function SD(t,e,r={}){let{extension:n,sigflag:i=0,extflag:s=0,key_version:u=0,separator_pos:o=4294967295}=r,a=sc.fmt.toJson(t),{version:l,vin:f,vout:c,locktime:h}=a;if(e>=f.length)throw new Error("Index out of bounds: "+String(e));if(!e$e.includes(i))throw new Error("Invalid hash type: "+String(i));if(s<0||s>127)throw new Error("Extention flag out of range: "+String(s));let{txid:d,vout:p,sequence:m,witness:w=[]}=f[e],x=(i&128)===128,_=o$e(w),y=_!==void 0?1:0,F=(s+(n!==void 0?1:0))*2+y,N=ge.str("TapSighash").digest,H=[N,N,ge.num(0,1),ge.num(i,1),pD(l),bD(h)];if(!x){let D=f.map(L=>Cue(L));H.push(t$e(f),n$e(D),i$e(D),r$e(f))}if(((i&3)<2||(i&3)>3)&&H.push(s$e(c)),H.push(ge.num(F,1)),x){let{value:D,scriptPubKey:L}=Cue(f[e]);H.push(T8(d),x8(p),x1(D),qu.encode(L,!0),I8(m))}else H.push(ge.num(e,4).reverse());return _!==void 0&&H.push(_),(i&3)===3&&H.push(u$e(c[e])),n!==void 0&&H.push(ge.bytes(n),ge.num(u),ge.num(o,4)),ge.join(H).digest}function t$e(t){let e=[];for(let{txid:r,vout:n}of t)e.push(T8(r)),e.push(x8(n));return ge.join(e).digest}function r$e(t){let e=[];for(let{sequence:r}of t)e.push(I8(r));return ge.join(e).digest}function n$e(t){let e=[];for(let{value:r}of t)e.push(x1(r));return ge.join(e).digest}function i$e(t){let e=[];for(let{scriptPubKey:r}of t)e.push(O1(r,!0));return ge.join(e).digest}function s$e(t){let e=[];for(let{value:r,scriptPubKey:n}of t)e.push(x1(r)),e.push(qu.encode(n,!0));return ge.join(e).digest}function u$e(t){return ge.join([x1(t.value),qu.encode(t.scriptPubKey,!0)]).digest}function o$e(t){if(t===void 0||t.length<2)return;let e=t.at(-1);if(typeof e=="string"&&(e=ge.hex(e)),e instanceof Uint8Array&&e[0]===80)return ge.raw(e).prefixSize("be").digest}function Cue(t){if(t.prevout===void 0)throw new Error("Prevout data missing for input: "+String(t.txid));return t.prevout}var a$e=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,c$e=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;function f$e(t,e,r,n={}){let{sigflag:i=0}=n,s=SD(e,r,n),u=l$e(t,s);return i===0?ge.raw(u):ge.join([u,i])}function l$e(t,e,r=ge.random(32)){let n=ge.bytes(e),i=new $u(t),s=i.point,u=s.hasEvenY?i.big:i.negated.big,o=sT("BIP0340/aux",ge.bytes(r)),a=u^o.big,l=sT("BIP0340/nonce",a,s.x.raw,n),f=new $u(l),c=f.point,h=c.hasEvenY?f.big:f.negated.big,d=new $u(sT("BIP0340/challenge",c.x.raw,s.x.raw,n)),p=new $u(h+d.big*u);return ge.join([c.x.raw,p.raw])}function d$e(t,e,r,n=!1){let i=Oh.from_x(d5(r)),s=ge.bytes(e),u=ge.bytes(t).stream;u.size<64&&go("Signature length is too small: "+String(u.size),n);let o=u.read(32);o.big>a$e&&go("Signature r value greater than field size!",n);let a=u.read(32);a.big>c$e&&go("Signature s value greater than curve order!",n);let l=new $u(sT("BIP0340/challenge",o.raw,i.x.raw,s)),f=new $u(a).point,c=i.mul(l.big),h=f.sub(c);return h.hasOddY&&go("Signature R value has odd Y coordinate!",n),h.x.big===0n&&go("Signature R value is infinite!",n),h.x.big===o.big}var h$e=192;function NT(t){let e=ge.str(t).digest;return ge.join([e,e])}function _D(t,e=h$e){return ge.join([NT("TapLeaf"),g$e(e),ge.bytes(t)]).digest.hex}function p$e(t,e){return _D(qu.fmt.toBytes(t),e)}function wD(t,e){return e<t&&([t,e]=[e,t]),ge.join([NT("TapBranch"),ge.hex(t).raw,ge.hex(e).raw]).digest.hex}function b$e(t){return ge.hex(ST(t)[0])}function ST(t,e,r=[]){let n=[],i=[];if(t.length<1)throw new Error("Tree is empty!");for(let s=0;s<t.length;s++){let u=t[s];if(Array.isArray(u)){let[o,a,l]=ST(u,e);e=a,n.push(o);for(let f of l)r.push(f)}else n.push(u)}if(n.length===1)return[n[0],e,r];n.sort(),n.length%2!==0&&n.push(n[n.length-1]);for(let s=0;s<n.length-1;s+=2){let u=wD(n[s],n[s+1]);i.push(u),typeof e=="string"&&(e===n[s]?(r.push(n[s+1]),e=u):e===n[s+1]&&(r.push(n[s]),e=u))}return ST(i,e,r)}function g$e(t=192){return t&254}function xae(t,e=new Uint8Array,r=!1){let n=r?new $u(t).point.x.raw:d5(t);return ge.join([NT("TapTweak"),n,ge.bytes(e)]).digest}function cg(t,e,r=!1){e===void 0&&(e=new Uint8Array);let n=ge.bytes(t),i=xae(t,e,r);return r?Iae(n,i):Pae(n,i)}function m$e(t,e){return cg(t,e)}function y$e(t,e){return cg(t,e,!0)}function Iae(t,e){let r=new $u(t);return r.point.hasOddY&&(r=r.negate()),ge.raw(r.add(e).raw)}function Pae(t,e){t=d5(t);let n=Oh.from_x(t).add(e);return ge.raw(n.raw)}function v$e(){let t=ge.hex("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8");return Oh.from_x(t.digest).x}var S$e=v$e(),_$e=192;function w$e(t,e={}){return Oae(t,{...e,isPrivate:!0})}function E$e(t,e={}){return Oae(t,{...e,isPrivate:!1})}function Oae(t,e={}){let{isPrivate:r=!1,tree:n=[],version:i=_$e}=e,s=r?$N.getPublicKey(t,!0):d5(t),{target:u}=e;u!==void 0&&(u=ge.bytes(u).hex);let o,a=[];if(n.length>0){let[d,p,m]=ST(n,u);a=m,o=cg(t,d,r)}else u!==void 0?o=cg(t,u,r):o=cg(t,void 0,r);let l=r?$N.getPublicKey(o)[0]:o[0],c=[ge.num(i+kae(l)),s];a.length>0&&a.forEach(d=>c.push(ge.hex(d)));let h=ge.join(c);if(u!==void 0&&!ED(o,u,h,e))throw new Error("Path checking failed! Unable to generate path.");return[d5(o).hex,h.hex]}function ED(t,e,r,n={}){let{isPrivate:i=!1,throws:s=!1}=n,{parity:u,paths:o,intkey:a}=Bae(r),l=i?$N.getPublicKey(t,!0):d5(t),f=ge.join([u,l]);if(f.length!==33)return go("Invalid tapkey: "+f.hex,s);let c=ge.bytes(e).hex;for(let d of o)c=wD(c,d);let h=cg(a,c);return ge.raw(h).hex===ge.raw(f).hex}function Bae(t){let e=new Sg(ge.bytes(t)),r=e.read(1).num,n=e.read(32),[i,s]=r%2===0?[r,2]:[r-1,3],u=[];for(;e.size>=32;)u.push(e.read(32).hex);if(e.size!==0)throw new Error("Non-empty buffer on control block: "+String(e));return{intkey:n,paths:u,parity:s,version:i}}function kae(t=2){if(t===0||t===1)return t;if(t===2||t==="02")return 0;if(t===3||t==="03")return 1;throw new Error("Invalid parity bit: "+String(t))}function A$e(t,e,r={}){let n=sc.fmt.toJson(t),{throws:i=!1}=r,{prevout:s,witness:u=[]}=n.vin[e],o=sc.util.readWitness(u),{cblock:a,script:l,params:f}=o,c;if(f.length<1)return go("Invalid witness data: "+String(u),i);let{scriptPubKey:h}=s??{};if(h===void 0)return go("Prevout scriptPubKey is empty!",i);let{type:d,data:p}=sc.util.readScriptPubKey(h);if(d!=="p2tr")return go("Prevout script is not a valid taproot output:"+p.hex,i);if(p.length!==32)return go("Invalid tapkey length: "+String(p.length),i);if(a!==null&&l!==null){let y=a[0]&254,S=_D(l,y);if(r.extension=S,!ED(p,S,a,{throws:i}))return go("cblock verification failed!",i)}r.pubkey!==void 0?c=ge.bytes(r.pubkey):f.length>1&&f[1].length===32?c=ge.bytes(f[1]):c=ge.bytes(p);let m=qu.fmt.toParam(f[0]),w=new Sg(m),x=w.read(64).raw;if(w.size===1&&(r.sigflag=w.read(1).num,r.sigflag===0))return go("0x00 is not a valid appended sigflag!",i);let _=SD(n,e,r);return d$e(x,_,c,i)?!0:go("Invalid signature!",i)}var T$e={hash:SD,sign:f$e,verify:A$e},qN={segwit:QUe,taproot:T$e},Cae={getTag:NT,getLeaf:_D,getBranch:wD,getRoot:b$e},x$e={readCtrlBlock:Bae,readParityBit:kae},I$e={getPubKey:m$e,getSecKey:y$e,getTweak:xae,tweakSecKey:Iae,tweakPubKey:Pae},P$e={getPubKey:E$e,getSecKey:w$e,encodeScript:p$e,checkPath:ED,tree:Cae,tweak:I$e,util:x$e,SCRIPT_PUBKEY:S$e},_T=class{constructor(e){this._buff=ge.raw(O1(e))}get raw(){return this._buff.raw}get hex(){return this._buff.hex}get asm(){return OT(this._buff)}getHash(e,r){switch(e){case"p2w":return Bh(this._buff).hex;case"p2sh":return RT(this._buff).hex;case"p2tr":return Cae.getLeaf(this._buff,r);default:throw new Error("Unrecognized format: "+e)}}toJSON(){return this.asm??[]}},Fue=4294967295,O$e=1<<31,o5=512,B$e=1<<22,wT=class{constructor(e){typeof e=="string"?this.value=parseInt(e,16):this.value=e}get isReplaceable(){return this.value<Fue}get isLocked(){return!(this.value!==Fue||(this.value&O$e)!==0)}get isTimelock(){return(this.value&B$e)!==0}get timestamp(){return this.isLocked?this.isTimelock?this.value*o5:this.value*o5*600:0}set timestamp(e){this.value=Math.ceil(e/o5)}get blockheight(){return this.isLocked?this.isTimelock?Math.ceil(this.value*o5/600):this.value:0}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*o5*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){let r=e.getTime()-Date.now();this.value=r>o5*1e3?Math.ceil(r/1e3/o5):1}toJSON(){return this.value}},AD=class{constructor(e){this.value=BigInt(e.value),this.scriptPubKey=new _T(e.scriptPubKey)}get type(){let{type:e}=yD(this.scriptPubKey.raw);return e}},ET=class{constructor(e,r){this._data=e,this._meta=Eae(e),this.format=r}get length(){return this._data.length}get annex(){let e=this._meta.annex;return e!==null?ge.raw(e).hex:void 0}get cblock(){let e=this._meta.cblock;return e!==null?ge.raw(e).hex:void 0}get script(){let e=this._meta.script;return e!==null?qu.decode(e):void 0}get params(){return this._meta.params}toJSON(){return this._data}},Fae=class{constructor(e,r){this._tx=e,this.idx=r}get data(){return this._tx.vin[this.idx]}get txid(){return this.data.txid}get vout(){return this.data.vout}get prevout(){return this.data.prevout!==void 0?new AD(this.data.prevout):void 0}get scriptSig(){return new _T(this.data.scriptSig)}get sequence(){return new wT(this.data.sequence)}get witness(){return new ET(this.data.witness)}get type(){if(this.prevout!==void 0){let e=this.prevout.scriptPubKey.raw,{type:r}=yD(e);if(r==="p2sh"){let n=this.scriptSig.asm;if(n[0]==="OP_0"){if(n[1].length===20)return"p2w-p2pkh";if(n[1].length===32)return"p2w-p2sh"}return"p2sh"}return r}return"raw"}sign(e,r){if(this.type.startsWith("p2w"))return qN.segwit.sign(e,this._tx,this.idx,r);if(this.type.startsWith("p2tr"))return qN.taproot.sign(e,this._tx,this.idx,r);throw this.type.startsWith("p2pkh")||this.type.startsWith("p2sh")?new Error("This library does not support signing legacy transactions."):new Error("Unable to sign this input type:"+String(this.type))}},k$e=5e8,jN=class{constructor(e=0){this.value=ge.bytes(e).num}get isTimelock(){return this.value>k$e}get timestamp(){return this.isTimelock?this.value:this.value*600}set timestamp(e){this.value=e}get blockheight(){return this.isTimelock?Math.floor(this.value/600):this.value}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){this.value=Math.floor((e.getTime()-Date.now())/1e3)}toJSON(){return this.value}},fn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let u of i)s[u]=u;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),u={};for(let o of s)u[o]=i[o];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let u in i)Object.prototype.hasOwnProperty.call(i,u)&&s.push(u);return s},t.find=(i,s)=>{for(let u of i)if(s(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(fn||(fn={}));var KN;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(KN||(KN={}));var Ze=fn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),w1=t=>{switch(typeof t){case"undefined":return Ze.undefined;case"string":return Ze.string;case"number":return isNaN(t)?Ze.nan:Ze.number;case"boolean":return Ze.boolean;case"function":return Ze.function;case"bigint":return Ze.bigint;case"symbol":return Ze.symbol;case"object":return Array.isArray(t)?Ze.array:t===null?Ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ze.promise:typeof Map<"u"&&t instanceof Map?Ze.map:typeof Set<"u"&&t instanceof Set?Ze.set:typeof Date<"u"&&t instanceof Date?Ze.date:Ze.object;default:return Ze.unknown}},Ue=fn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),C$e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),oc=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let u of s.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)n._errors.push(r(u));else{let o=n,a=0;for(;a<u.path.length;){let l=u.path[a];a===u.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(u))):o[l]=o[l]||{_errors:[]},o=o[l],a++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,fn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};oc.create=t=>new oc(t);var A8=(t,e)=>{let r;switch(t.code){case Ue.invalid_type:t.received===Ze.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,fn.jsonStringifyReplacer)}`;break;case Ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${fn.joinValues(t.keys,", ")}`;break;case Ue.invalid_union:r="Invalid input";break;case Ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${fn.joinValues(t.options)}`;break;case Ue.invalid_enum_value:r=`Invalid enum value. Expected ${fn.joinValues(t.options)}, received '${t.received}'`;break;case Ue.invalid_arguments:r="Invalid function arguments";break;case Ue.invalid_return_type:r="Invalid function return type";break;case Ue.invalid_date:r="Invalid date";break;case Ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:fn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ue.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ue.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ue.custom:r="Invalid input";break;case Ue.invalid_intersection_types:r="Intersection results could not be merged";break;case Ue.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ue.not_finite:r="Number must be finite";break;default:r=e.defaultError,fn.assertNever(t)}return{message:r}},Rae=A8;function F$e(t){Rae=t}function AT(){return Rae}var TT=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],u={...i,path:s},o="",a=n.filter(l=>!!l).slice().reverse();for(let l of a)o=l(u,{data:e,defaultError:o}).message;return{...i,path:s,message:i.message||o}},R$e=[];function tt(t,e){let r=TT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,AT(),A8].filter(n=>!!n)});t.common.issues.push(r)}var hu=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return or;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return hu.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:u}=i;if(s.status==="aborted"||u.status==="aborted")return or;s.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),(typeof u.value<"u"||i.alwaysSet)&&(n[s.value]=u.value)}return{status:e.value,value:n}}},or=Object.freeze({status:"aborted"}),Mae=t=>({status:"dirty",value:t}),Vo=t=>({status:"valid",value:t}),zN=t=>t.status==="aborted",VN=t=>t.status==="dirty",xT=t=>t.status==="valid",IT=t=>typeof Promise<"u"&&t instanceof Promise,Tt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Tt||(Tt={}));var b0=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Rue=(t,e)=>{if(xT(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new oc(t.common.issues);return this._error=r,this._error}}};function Sr(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,o)=>u.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:r??o.defaultError},description:i}}var _r=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return w1(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:w1(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new hu,ctx:{common:e.parent.common,data:e.data,parsedType:w1(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(IT(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w1(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Rue(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w1(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(IT(i)?i:Promise.resolve(i));return Rue(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let u=e(i),o=()=>s.addIssue({code:Ue.custom,...n(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(a=>a?!0:(o(),!1)):u?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new cc({schema:this,typeName:Nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Mf.create(this,this._def)}nullable(){return Fh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ac.create(this,this._def)}promise(){return P1.create(this,this._def)}or(e){return g5.create([this,e],this._def)}and(e){return m5.create(this,e,this._def)}transform(e){return new cc({...Sr(this._def),schema:this,typeName:Nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new w5({...Sr(this._def),innerType:this,defaultValue:r,typeName:Nt.ZodDefault})}brand(){return new PT({typeName:Nt.ZodBranded,type:this,...Sr(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new yg({...Sr(this._def),innerType:this,catchValue:r,typeName:Nt.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return E5.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},M$e=/^c[^\s-]{8,}$/i,N$e=/^[a-z][a-z0-9]*$/,D$e=/[0-9A-HJKMNP-TV-Z]{26}/,H$e=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,L$e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,U$e=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,$$e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,q$e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,j$e=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function K$e(t,e){return!!((e==="v4"||!e)&&$$e.test(t)||(e==="v6"||!e)&&q$e.test(t))}var uc=class extends _r{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:Ue.invalid_string,...Tt.errToObj(n)}),this.nonempty=e=>this.min(1,Tt.errToObj(e)),this.trim=()=>new uc({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new uc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new uc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ze.string){let s=this._getOrReturnCtx(e);return tt(s,{code:Ue.invalid_type,expected:Ze.string,received:s.parsedType}),or}let n=new hu,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let u=e.data.length>s.value,o=e.data.length<s.value;(u||o)&&(i=this._getOrReturnCtx(e,i),u?tt(i,{code:Ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&tt(i,{code:Ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")L$e.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"email",code:Ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")U$e.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"emoji",code:Ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")H$e.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"uuid",code:Ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")M$e.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"cuid",code:Ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")N$e.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"cuid2",code:Ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")D$e.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"ulid",code:Ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),tt(i,{validation:"url",code:Ue.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"regex",code:Ue.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?j$e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?K$e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"ip",code:Ue.invalid_string,message:s.message}),n.dirty()):fn.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new uc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Tt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...Tt.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Tt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Tt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Tt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Tt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Tt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Tt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Tt.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};uc.create=t=>{var e;return new uc({checks:[],typeName:Nt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Sr(t)})};function z$e(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),u=parseInt(e.toFixed(i).replace(".",""));return s%u/Math.pow(10,i)}var Zl=class extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ze.number){let s=this._getOrReturnCtx(e);return tt(s,{code:Ue.invalid_type,expected:Ze.number,received:s.parsedType}),or}let n,i=new hu;for(let s of this._def.checks)s.kind==="int"?fn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?z$e(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.not_finite,message:s.message}),i.dirty()):fn.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Tt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Tt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Tt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Tt.toString(r))}setLimit(e,r,n,i){return new Zl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Tt.toString(i)}]})}_addCheck(e){return new Zl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Tt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Tt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&fn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Zl.create=t=>new Zl({checks:[],typeName:Nt.ZodNumber,coerce:t?.coerce||!1,...Sr(t)});var Jl=class extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ze.bigint){let s=this._getOrReturnCtx(e);return tt(s,{code:Ue.invalid_type,expected:Ze.bigint,received:s.parsedType}),or}let n,i=new hu;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ue.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):fn.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Tt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Tt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Tt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Tt.toString(r))}setLimit(e,r,n,i){return new Jl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Tt.toString(i)}]})}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Jl.create=t=>{var e;return new Jl({checks:[],typeName:Nt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Sr(t)})};var h5=class extends _r{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Ze.boolean){let n=this._getOrReturnCtx(e);return tt(n,{code:Ue.invalid_type,expected:Ze.boolean,received:n.parsedType}),or}return Vo(e.data)}};h5.create=t=>new h5({typeName:Nt.ZodBoolean,coerce:t?.coerce||!1,...Sr(t)});var kh=class extends _r{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ze.date){let s=this._getOrReturnCtx(e);return tt(s,{code:Ue.invalid_type,expected:Ze.date,received:s.parsedType}),or}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return tt(s,{code:Ue.invalid_date}),or}let n=new hu,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Ue.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):fn.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Tt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Tt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};kh.create=t=>new kh({checks:[],coerce:t?.coerce||!1,typeName:Nt.ZodDate,...Sr(t)});var pg=class extends _r{_parse(e){if(this._getType(e)!==Ze.symbol){let n=this._getOrReturnCtx(e);return tt(n,{code:Ue.invalid_type,expected:Ze.symbol,received:n.parsedType}),or}return Vo(e.data)}};pg.create=t=>new pg({typeName:Nt.ZodSymbol,...Sr(t)});var p5=class extends _r{_parse(e){if(this._getType(e)!==Ze.undefined){let n=this._getOrReturnCtx(e);return tt(n,{code:Ue.invalid_type,expected:Ze.undefined,received:n.parsedType}),or}return Vo(e.data)}};p5.create=t=>new p5({typeName:Nt.ZodUndefined,...Sr(t)});var b5=class extends _r{_parse(e){if(this._getType(e)!==Ze.null){let n=this._getOrReturnCtx(e);return tt(n,{code:Ue.invalid_type,expected:Ze.null,received:n.parsedType}),or}return Vo(e.data)}};b5.create=t=>new b5({typeName:Nt.ZodNull,...Sr(t)});var I1=class extends _r{constructor(){super(...arguments),this._any=!0}_parse(e){return Vo(e.data)}};I1.create=t=>new I1({typeName:Nt.ZodAny,...Sr(t)});var Ph=class extends _r{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vo(e.data)}};Ph.create=t=>new Ph({typeName:Nt.ZodUnknown,...Sr(t)});var Nf=class extends _r{_parse(e){let r=this._getOrReturnCtx(e);return tt(r,{code:Ue.invalid_type,expected:Ze.never,received:r.parsedType}),or}};Nf.create=t=>new Nf({typeName:Nt.ZodNever,...Sr(t)});var bg=class extends _r{_parse(e){if(this._getType(e)!==Ze.undefined){let n=this._getOrReturnCtx(e);return tt(n,{code:Ue.invalid_type,expected:Ze.void,received:n.parsedType}),or}return Vo(e.data)}};bg.create=t=>new bg({typeName:Nt.ZodVoid,...Sr(t)});var ac=class extends _r{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ze.array)return tt(r,{code:Ue.invalid_type,expected:Ze.array,received:r.parsedType}),or;if(i.exactLength!==null){let u=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(u||o)&&(tt(r,{code:u?Ue.too_big:Ue.too_small,minimum:o?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(tt(r,{code:Ue.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(tt(r,{code:Ue.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((u,o)=>i.type._parseAsync(new b0(r,u,r.path,o)))).then(u=>hu.mergeArray(n,u));let s=[...r.data].map((u,o)=>i.type._parseSync(new b0(r,u,r.path,o)));return hu.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new ac({...this._def,minLength:{value:e,message:Tt.toString(r)}})}max(e,r){return new ac({...this._def,maxLength:{value:e,message:Tt.toString(r)}})}length(e,r){return new ac({...this._def,exactLength:{value:e,message:Tt.toString(r)}})}nonempty(e){return this.min(1,e)}};ac.create=(t,e)=>new ac({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Nt.ZodArray,...Sr(e)});function ag(t){if(t instanceof ii){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Mf.create(ag(n))}return new ii({...t._def,shape:()=>e})}else return t instanceof ac?new ac({...t._def,type:ag(t.element)}):t instanceof Mf?Mf.create(ag(t.unwrap())):t instanceof Fh?Fh.create(ag(t.unwrap())):t instanceof g0?g0.create(t.items.map(e=>ag(e))):t}var ii=class extends _r{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=fn.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ze.object){let l=this._getOrReturnCtx(e);return tt(l,{code:Ue.invalid_type,expected:Ze.object,received:l.parsedType}),or}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:u}=this._getCached(),o=[];if(!(this._def.catchall instanceof Nf&&this._def.unknownKeys==="strip"))for(let l in i.data)u.includes(l)||o.push(l);let a=[];for(let l of u){let f=s[l],c=i.data[l];a.push({key:{status:"valid",value:l},value:f._parse(new b0(i,c,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Nf){let l=this._def.unknownKeys;if(l==="passthrough")for(let f of o)a.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(l==="strict")o.length>0&&(tt(i,{code:Ue.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let f of o){let c=i.data[f];a.push({key:{status:"valid",value:f},value:l._parse(new b0(i,c,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let f of a){let c=await f.key;l.push({key:c,value:await f.value,alwaysSet:f.alwaysSet})}return l}).then(l=>hu.mergeObjectSync(n,l)):hu.mergeObjectSync(n,a)}get shape(){return this._def.shape()}strict(e){return new ii({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,u,o;let a=(u=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&u!==void 0?u:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Tt.errToObj(e).message)!==null&&o!==void 0?o:a}:{message:a}}}:{}})}strip(){return new ii({...this._def,unknownKeys:"strip"})}passthrough(){return new ii({...this._def,unknownKeys:"passthrough"})}extend(e){return new ii({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ii({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Nt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ii({...this._def,catchall:e})}pick(e){let r={};return fn.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ii({...this._def,shape:()=>r})}omit(e){let r={};return fn.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new ii({...this._def,shape:()=>r})}deepPartial(){return ag(this)}partial(e){let r={};return fn.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new ii({...this._def,shape:()=>r})}required(e){let r={};return fn.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Mf;)s=s._def.innerType;r[n]=s}}),new ii({...this._def,shape:()=>r})}keyof(){return Nae(fn.objectKeys(this.shape))}};ii.create=(t,e)=>new ii({shape:()=>t,unknownKeys:"strip",catchall:Nf.create(),typeName:Nt.ZodObject,...Sr(e)});ii.strictCreate=(t,e)=>new ii({shape:()=>t,unknownKeys:"strict",catchall:Nf.create(),typeName:Nt.ZodObject,...Sr(e)});ii.lazycreate=(t,e)=>new ii({shape:t,unknownKeys:"strip",catchall:Nf.create(),typeName:Nt.ZodObject,...Sr(e)});var g5=class extends _r{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let o of s)if(o.result.status==="valid")return o.result;for(let o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let u=s.map(o=>new oc(o.ctx.common.issues));return tt(r,{code:Ue.invalid_union,unionErrors:u}),or}if(r.common.async)return Promise.all(n.map(async s=>{let u={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(i);{let s,u=[];for(let a of n){let l={...r,common:{...r.common,issues:[]},parent:null},f=a._parseSync({data:r.data,path:r.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:l}),l.common.issues.length&&u.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let o=u.map(a=>new oc(a));return tt(r,{code:Ue.invalid_union,unionErrors:o}),or}}get options(){return this._def.options}};g5.create=(t,e)=>new g5({options:t,typeName:Nt.ZodUnion,...Sr(e)});var uT=t=>t instanceof v5?uT(t.schema):t instanceof cc?uT(t.innerType()):t instanceof S5?[t.value]:t instanceof Ql?t.options:t instanceof _5?Object.keys(t.enum):t instanceof w5?uT(t._def.innerType):t instanceof p5?[void 0]:t instanceof b5?[null]:null,gg=class extends _r{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.object)return tt(r,{code:Ue.invalid_type,expected:Ze.object,received:r.parsedType}),or;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(tt(r,{code:Ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),or)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let u=uT(s.shape[e]);if(!u)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of u){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new gg({typeName:Nt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Sr(n)})}};function GN(t,e){let r=w1(t),n=w1(e);if(t===e)return{valid:!0,data:t};if(r===Ze.object&&n===Ze.object){let i=fn.objectKeys(e),s=fn.objectKeys(t).filter(o=>i.indexOf(o)!==-1),u={...t,...e};for(let o of s){let a=GN(t[o],e[o]);if(!a.valid)return{valid:!1};u[o]=a.data}return{valid:!0,data:u}}else if(r===Ze.array&&n===Ze.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let u=t[s],o=e[s],a=GN(u,o);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return r===Ze.date&&n===Ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var m5=class extends _r{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,u)=>{if(zN(s)||zN(u))return or;let o=GN(s.value,u.value);return o.valid?((VN(s)||VN(u))&&r.dirty(),{status:r.value,value:o.data}):(tt(n,{code:Ue.invalid_intersection_types}),or)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,u])=>i(s,u)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};m5.create=(t,e,r)=>new m5({left:t,right:e,typeName:Nt.ZodIntersection,...Sr(r)});var g0=class extends _r{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.array)return tt(n,{code:Ue.invalid_type,expected:Ze.array,received:n.parsedType}),or;if(n.data.length<this._def.items.length)return tt(n,{code:Ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),or;!this._def.rest&&n.data.length>this._def.items.length&&(tt(n,{code:Ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((u,o)=>{let a=this._def.items[o]||this._def.rest;return a?a._parse(new b0(n,u,n.path,o)):null}).filter(u=>!!u);return n.common.async?Promise.all(s).then(u=>hu.mergeArray(r,u)):hu.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new g0({...this._def,rest:e})}};g0.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new g0({items:t,typeName:Nt.ZodTuple,rest:null,...Sr(e)})};var y5=class extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.object)return tt(n,{code:Ue.invalid_type,expected:Ze.object,received:n.parsedType}),or;let i=[],s=this._def.keyType,u=this._def.valueType;for(let o in n.data)i.push({key:s._parse(new b0(n,o,n.path,o)),value:u._parse(new b0(n,n.data[o],n.path,o))});return n.common.async?hu.mergeObjectAsync(r,i):hu.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof _r?new y5({keyType:e,valueType:r,typeName:Nt.ZodRecord,...Sr(n)}):new y5({keyType:uc.create(),valueType:e,typeName:Nt.ZodRecord,...Sr(r)})}},mg=class extends _r{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.map)return tt(n,{code:Ue.invalid_type,expected:Ze.map,received:n.parsedType}),or;let i=this._def.keyType,s=this._def.valueType,u=[...n.data.entries()].map(([o,a],l)=>({key:i._parse(new b0(n,o,n.path,[l,"key"])),value:s._parse(new b0(n,a,n.path,[l,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let a of u){let l=await a.key,f=await a.value;if(l.status==="aborted"||f.status==="aborted")return or;(l.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(l.value,f.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let a of u){let l=a.key,f=a.value;if(l.status==="aborted"||f.status==="aborted")return or;(l.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(l.value,f.value)}return{status:r.value,value:o}}}};mg.create=(t,e,r)=>new mg({valueType:e,keyType:t,typeName:Nt.ZodMap,...Sr(r)});var Ch=class extends _r{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.set)return tt(n,{code:Ue.invalid_type,expected:Ze.set,received:n.parsedType}),or;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(tt(n,{code:Ue.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(tt(n,{code:Ue.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function u(a){let l=new Set;for(let f of a){if(f.status==="aborted")return or;f.status==="dirty"&&r.dirty(),l.add(f.value)}return{status:r.value,value:l}}let o=[...n.data.values()].map((a,l)=>s._parse(new b0(n,a,n.path,l)));return n.common.async?Promise.all(o).then(a=>u(a)):u(o)}min(e,r){return new Ch({...this._def,minSize:{value:e,message:Tt.toString(r)}})}max(e,r){return new Ch({...this._def,maxSize:{value:e,message:Tt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ch.create=(t,e)=>new Ch({valueType:t,minSize:null,maxSize:null,typeName:Nt.ZodSet,...Sr(e)});var A1=class extends _r{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.function)return tt(r,{code:Ue.invalid_type,expected:Ze.function,received:r.parsedType}),or;function n(o,a){return TT({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,AT(),A8].filter(l=>!!l),issueData:{code:Ue.invalid_arguments,argumentsError:a}})}function i(o,a){return TT({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,AT(),A8].filter(l=>!!l),issueData:{code:Ue.invalid_return_type,returnTypeError:a}})}let s={errorMap:r.common.contextualErrorMap},u=r.data;return this._def.returns instanceof P1?Vo(async(...o)=>{let a=new oc([]),l=await this._def.args.parseAsync(o,s).catch(h=>{throw a.addIssue(n(o,h)),a}),f=await u(...l);return await this._def.returns._def.type.parseAsync(f,s).catch(h=>{throw a.addIssue(i(f,h)),a})}):Vo((...o)=>{let a=this._def.args.safeParse(o,s);if(!a.success)throw new oc([n(o,a.error)]);let l=u(...a.data),f=this._def.returns.safeParse(l,s);if(!f.success)throw new oc([i(l,f.error)]);return f.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new A1({...this._def,args:g0.create(e).rest(Ph.create())})}returns(e){return new A1({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new A1({args:e||g0.create([]).rest(Ph.create()),returns:r||Ph.create(),typeName:Nt.ZodFunction,...Sr(n)})}},v5=class extends _r{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};v5.create=(t,e)=>new v5({getter:t,typeName:Nt.ZodLazy,...Sr(e)});var S5=class extends _r{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return tt(r,{received:r.data,code:Ue.invalid_literal,expected:this._def.value}),or}return{status:"valid",value:e.data}}get value(){return this._def.value}};S5.create=(t,e)=>new S5({value:t,typeName:Nt.ZodLiteral,...Sr(e)});function Nae(t,e){return new Ql({values:t,typeName:Nt.ZodEnum,...Sr(e)})}var Ql=class extends _r{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return tt(r,{expected:fn.joinValues(n),received:r.parsedType,code:Ue.invalid_type}),or}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return tt(r,{received:r.data,code:Ue.invalid_enum_value,options:n}),or}return Vo(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return Ql.create(e)}exclude(e){return Ql.create(this.options.filter(r=>!e.includes(r)))}};Ql.create=Nae;var _5=class extends _r{_parse(e){let r=fn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ze.string&&n.parsedType!==Ze.number){let i=fn.objectValues(r);return tt(n,{expected:fn.joinValues(i),received:n.parsedType,code:Ue.invalid_type}),or}if(r.indexOf(e.data)===-1){let i=fn.objectValues(r);return tt(n,{received:n.data,code:Ue.invalid_enum_value,options:i}),or}return Vo(e.data)}get enum(){return this._def.values}};_5.create=(t,e)=>new _5({values:t,typeName:Nt.ZodNativeEnum,...Sr(e)});var P1=class extends _r{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.promise&&r.common.async===!1)return tt(r,{code:Ue.invalid_type,expected:Ze.promise,received:r.parsedType}),or;let n=r.parsedType===Ze.promise?r.data:Promise.resolve(r.data);return Vo(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};P1.create=(t,e)=>new P1({type:t,typeName:Nt.ZodPromise,...Sr(e)});var cc=class extends _r{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){let u=i.transform(n.data);return n.common.async?Promise.resolve(u).then(o=>this._def.schema._parseAsync({data:o,path:n.path,parent:n})):this._def.schema._parseSync({data:u,path:n.path,parent:n})}let s={addIssue:u=>{tt(n,u),u.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){let u=o=>{let a=i.refinement(o,s);if(n.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?or:(o.status==="dirty"&&r.dirty(),u(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?or:(o.status==="dirty"&&r.dirty(),u(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!xT(u))return u;let o=i.transform(u.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>xT(u)?Promise.resolve(i.transform(u.value,s)).then(o=>({status:r.value,value:o})):u);fn.assertNever(i)}};cc.create=(t,e,r)=>new cc({schema:t,typeName:Nt.ZodEffects,effect:e,...Sr(r)});cc.createWithPreprocess=(t,e,r)=>new cc({schema:e,effect:{type:"preprocess",transform:t},typeName:Nt.ZodEffects,...Sr(r)});var Mf=class extends _r{_parse(e){return this._getType(e)===Ze.undefined?Vo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Mf.create=(t,e)=>new Mf({innerType:t,typeName:Nt.ZodOptional,...Sr(e)});var Fh=class extends _r{_parse(e){return this._getType(e)===Ze.null?Vo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Fh.create=(t,e)=>new Fh({innerType:t,typeName:Nt.ZodNullable,...Sr(e)});var w5=class extends _r{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===Ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};w5.create=(t,e)=>new w5({innerType:t,typeName:Nt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Sr(e)});var yg=class extends _r{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return IT(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new oc(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new oc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};yg.create=(t,e)=>new yg({innerType:t,typeName:Nt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Sr(e)});var vg=class extends _r{_parse(e){if(this._getType(e)!==Ze.nan){let n=this._getOrReturnCtx(e);return tt(n,{code:Ue.invalid_type,expected:Ze.nan,received:n.parsedType}),or}return{status:"valid",value:e.data}}};vg.create=t=>new vg({typeName:Nt.ZodNaN,...Sr(t)});var V$e=Symbol("zod_brand"),PT=class extends _r{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},E5=class extends _r{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?or:s.status==="dirty"?(r.dirty(),Mae(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?or:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new E5({in:e,out:r,typeName:Nt.ZodPipeline})}},Dae=(t,e={},r)=>t?I1.create().superRefine((n,i)=>{var s,u;if(!t(n)){let o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,a=(u=(s=o.fatal)!==null&&s!==void 0?s:r)!==null&&u!==void 0?u:!0,l=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...l,fatal:a})}}):I1.create(),G$e={object:ii.lazycreate},Nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(Nt||(Nt={}));var W$e=(t,e={message:`Input not instance of ${t.name}`})=>Dae(r=>r instanceof t,e),Hae=uc.create,Lae=Zl.create,Y$e=vg.create,X$e=Jl.create,Uae=h5.create,Z$e=kh.create,J$e=pg.create,Q$e=p5.create,eqe=b5.create,tqe=I1.create,rqe=Ph.create,nqe=Nf.create,iqe=bg.create,sqe=ac.create,uqe=ii.create,oqe=ii.strictCreate,aqe=g5.create,cqe=gg.create,fqe=m5.create,lqe=g0.create,dqe=y5.create,hqe=mg.create,pqe=Ch.create,bqe=A1.create,gqe=v5.create,mqe=S5.create,yqe=Ql.create,vqe=_5.create,Sqe=P1.create,Mue=cc.create,_qe=Mf.create,wqe=Fh.create,Eqe=cc.createWithPreprocess,Aqe=E5.create,Tqe=()=>Hae().optional(),xqe=()=>Lae().optional(),Iqe=()=>Uae().optional(),Pqe={string:t=>uc.create({...t,coerce:!0}),number:t=>Zl.create({...t,coerce:!0}),boolean:t=>h5.create({...t,coerce:!0}),bigint:t=>Jl.create({...t,coerce:!0}),date:t=>kh.create({...t,coerce:!0})},Oqe=or,zo=Object.freeze({__proto__:null,defaultErrorMap:A8,setErrorMap:F$e,getErrorMap:AT,makeIssue:TT,EMPTY_PATH:R$e,addIssueToContext:tt,ParseStatus:hu,INVALID:or,DIRTY:Mae,OK:Vo,isAborted:zN,isDirty:VN,isValid:xT,isAsync:IT,get util(){return fn},get objectUtil(){return KN},ZodParsedType:Ze,getParsedType:w1,ZodType:_r,ZodString:uc,ZodNumber:Zl,ZodBigInt:Jl,ZodBoolean:h5,ZodDate:kh,ZodSymbol:pg,ZodUndefined:p5,ZodNull:b5,ZodAny:I1,ZodUnknown:Ph,ZodNever:Nf,ZodVoid:bg,ZodArray:ac,ZodObject:ii,ZodUnion:g5,ZodDiscriminatedUnion:gg,ZodIntersection:m5,ZodTuple:g0,ZodRecord:y5,ZodMap:mg,ZodSet:Ch,ZodFunction:A1,ZodLazy:v5,ZodLiteral:S5,ZodEnum:Ql,ZodNativeEnum:_5,ZodPromise:P1,ZodEffects:cc,ZodTransformer:cc,ZodOptional:Mf,ZodNullable:Fh,ZodDefault:w5,ZodCatch:yg,ZodNaN:vg,BRAND:V$e,ZodBranded:PT,ZodPipeline:E5,custom:Dae,Schema:_r,ZodSchema:_r,late:G$e,get ZodFirstPartyTypeKind(){return Nt},coerce:Pqe,any:tqe,array:sqe,bigint:X$e,boolean:Uae,date:Z$e,discriminatedUnion:cqe,effect:Mue,enum:yqe,function:bqe,instanceof:W$e,intersection:fqe,lazy:gqe,literal:mqe,map:hqe,nan:Y$e,nativeEnum:vqe,never:nqe,null:eqe,nullable:wqe,number:Lae,object:uqe,oboolean:Iqe,onumber:xqe,optional:_qe,ostring:Tqe,pipeline:Aqe,preprocess:Eqe,promise:Sqe,record:dqe,set:pqe,strictObject:oqe,string:Hae,symbol:J$e,transformer:Mue,tuple:lqe,undefined:Q$e,union:aqe,unknown:rqe,void:iqe,NEVER:Oqe,ZodIssueCode:Ue,quotelessJson:C$e,ZodError:oc}),TD=zo.string().regex(/^[a-fA-F0-9]$/),$ae=zo.string().regex(/^[a-fA-F0-9]{64}$/),A5=zo.number().min(0).max(4294967295),qae=zo.bigint(),jae=zo.instanceof(Uint8Array),Bqe=zo.union([TD,A5,zo.string(),jae]).array(),DT=zo.union([Bqe,TD,jae]),Kae=zo.array(DT),xD=zo.object({value:zo.union([A5,qae]),scriptPubKey:DT}),zae=zo.object({txid:$ae,vout:A5,scriptSig:DT,sequence:A5,prevout:xD.optional(),witness:Kae}),kqe=zo.object({version:A5,vin:zo.array(zae),vout:zo.array(xD),locktime:A5}),Cqe={TxData:kqe,TxInput:zae,TxOutput:xD,witness:Kae,script:DT,hexstr:TD,hash:$ae,uint32:A5,uint64:qae},WN=class{constructor(e){typeof e=="string"&&(e=ge.hex(e)),e instanceof Uint8Array&&(e=sc.decode(e));let r=Cqe.TxData;this._data=r.parse(sc.create(e))}get data(){return this._data}get version(){return this.data.version}get vin(){return this.data.vin.map((e,r)=>new Fae(this.data,r))}get vout(){return this.data.vout.map(e=>new AD(e))}get locktime(){return new jN(this.data.locktime)}get base(){return sc.encode(this.data,!0)}get buff(){return sc.encode(this.data)}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get size(){return this.raw.length}get bsize(){return this.base.length}get weight(){return this.bsize*3+this.size}get vsize(){let e=this.weight%4>0?1:0;return Math.floor(this.weight/4)+e}get hash(){return Bh(this.buff).reverse().hex}get txid(){return Bh(this.base).reverse().hex}async export(){let{size:e,weight:r,vsize:n,hex:i}=this,s=this.txid,u=this.hash;return{txid:s,hash:u,...this.data,size:e,weight:r,vsize:n,hex:i}}};Df.Address=VUe;Df.Input=Fae;Df.Output=AD;Df.Script=qu;Df.Sequence=wT;Df.Signer=qN;Df.Tap=P$e;Df.Transaction=WN;Df.Tx=sc;Df.Witness=ET});var PD=$(td=>{"use strict";B();k();Object.defineProperty(td,"__esModule",{value:!0});td.script2P2TR=td.CatTx=td.TaprootMastSmartContract=td.TaprootSmartContract=void 0;var Fqe=LM(),Vae=nn(),Rqe=QM(),x5=ID(),B1=Xb(),HT="50929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0",wg=class{constructor(e){let r=e.lockingScript,n=x5.Tap.encodeScript(r.toBuffer()),[i,s]=x5.Tap.getPubKey(HT,{target:n}),u=new B1.btc.Script(`OP_1 32 0x${i}}`);this.contract=e,this.contractScript=r,this.contractScriptBuffer=r.toBuffer(),this.contractScriptHash=(0,Vae.hash160)(this.contractScriptBuffer.toString("hex")),this.tapleaf=n,this.tapleafBuffer=I.Buffer.from(n,"hex"),this.tpubkey=i,this.cblock=s,this.cblockBuffer=I.Buffer.from(s,"hex"),this.lockingScript=u,this.lockingScriptHex=u.toBuffer().toString("hex")}static create(e){return new wg(e)}};td.TaprootSmartContract=wg;var P8=class{constructor(e){let r={},n=[];for(let u of Object.keys(e)){let o=e[u];r[u]=wg.create(o);let a=o.lockingScript,l=x5.Tap.encodeScript(a.toBuffer());n.push(l),r[u].tapleaf=l,r[u].tapleafBuffer=I.Buffer.from(l,"hex")}let[i]=x5.Tap.getPubKey(HT,{tree:n}),s=new B1.btc.Script(`OP_1 32 0x${i}}`);for(let u of Object.keys(r)){let o=r[u],[,a]=x5.Tap.getPubKey(HT,{target:o.tapleaf,tree:n});o.tpubkey=i,o.cblock=a,o.cblockBuffer=I.Buffer.from(a,"hex"),o.lockingScript=s,o.lockingScriptHex=s.toBuffer().toString("hex")}this.tpubkey=i,this.lockingScript=s,this.lockingScriptHex=s.toBuffer().toString("hex"),this.contractTaprootMap=r}static create(e){return new P8(e)}};td.TaprootMastSmartContract=P8;var O8=class{constructor(){this.tx=new B1.btc.Transaction,this.state=Fqe.ProtocolState.getEmptyState(),this.tx.addOutput(new B1.btc.Transaction.Output({satoshis:0,script:this.state.stateScript}))}updateState(){this.tx.outputs[0]=new B1.btc.Transaction.Output({satoshis:0,script:this.state.stateScript})}static create(){return new O8}fromCatTx(e,r){return this.tx.from(e.getUTXO(r)),this.tx.inputs.length-1}addContractOutput(e,r=330){this.tx.addOutput(new B1.btc.Transaction.Output({satoshis:r,script:e}));let n=this.tx.outputs.length-1;return this.state.updateDataList(n-1,(0,Vae.toByteString)("")),this.updateState(),this.tx.outputs.length-1}addStateContractOutput(e,r,n=330){this.tx.addOutput(new B1.btc.Transaction.Output({satoshis:n,script:e}));let i=this.tx.outputs.length-1;return this.state.updateDataList(i-1,r),this.updateState(),i}getUTXO(e){return{txId:this.tx.id,outputIndex:e,script:this.tx.outputs[e].script,satoshis:this.tx.outputs[e].satoshis}}sign(e){this.tx.sign(e)}getInputCtx(e,r){return(0,Rqe.getTxCtx)(this.tx,e,r)}getPreState(){return{statesHashRoot:this.state.hashRoot,txoStateHashes:this.state.stateHashList}}};td.CatTx=O8;function Mqe(t){let e=x5.Tap.encodeScript(t),[r,n]=x5.Tap.getPubKey(HT,{target:e});return{p2tr:new B1.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}td.script2P2TR=Mqe});var Wae=$(Eg=>{"use strict";B();k();Object.defineProperty(Eg,"__esModule",{value:!0});Eg.getNftGuardContractInfo=Eg.getGuardContractInfo=void 0;var Nqe=m0(),Dqe=m0(),Hqe=m0(),Lqe=m0(),Gae=PD(),Uqe=function(){let t=new Nqe.BurnGuard,e=new Dqe.TransferGuard,r={burn:t,transfer:e};return new Gae.TaprootMastSmartContract(r)};Eg.getGuardContractInfo=Uqe;var $qe=function(){let t=new Hqe.NftBurnGuard,e=new Lqe.NftTransferGuard,r={burn:t,transfer:e};return new Gae.TaprootMastSmartContract(r)};Eg.getNftGuardContractInfo=$qe});var m0=$(fr=>{"use strict";B();k();var qqe=fr&&fr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zr=fr&&fr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qqe(e,t,r)},y0=fr&&fr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});var jqe=XF(),Kqe=rR(),zqe=sR(),Vqe=uR(),Gqe=aR(),Wqe=lR(),Yqe=y0(are()),Xqe=y0(cre()),Zqe=y0(fre()),Jqe=y0(lre()),Qqe=y0(dre()),eje=y0(hre()),tje=bR(),rje=vR(),nje=ER(),ije=TR(),sje=IR(),uje=BR(),oje=y0(Are()),aje=y0(Tre()),cje=y0(xre()),fje=y0(Ire()),lje=y0(Pre()),dje=y0(Ore());Kqe.ClosedMinter.loadArtifact(Yqe.default),zqe.OpenMinter.loadArtifact(Xqe.default),Wqe.OpenMinterV2.loadArtifact(Zqe.default),Vqe.CAT20.loadArtifact(Jqe.default),jqe.BurnGuard.loadArtifact(Qqe.default),Gqe.TransferGuard.loadArtifact(eje.default),tje.NftClosedMinter.loadArtifact(oje.default),rje.NftParallelClosedMinter.loadArtifact(aje.default),nje.NftOpenMinter.loadArtifact(cje.default),ije.CAT721.loadArtifact(fje.default),uje.NftBurnGuard.loadArtifact(dje.default),sje.NftTransferGuard.loadArtifact(lje.default);zr(rR(),fr);zr(uR(),fr);zr(XF(),fr);zr(aR(),fr);zr(Sb(),fr);zr(QF(),fr);zr(F4(),fr);zr(sR(),fr);zr(lR(),fr);zr(iR(),fr);zr(fR(),fr);zr(bR(),fr);zr(vR(),fr);zr(ER(),fr);zr(hR(),fr);zr(mR(),fr);zr(_R(),fr);zr(wR(),fr);zr(TR(),fr);zr(Tb(),fr);zr(BR(),fr);zr(IR(),fr);zr(j4(),fr);zr(ei(),fr);zr(gb(),fr);zr(_a(),fr);zr(Nl(),fr);zr(Sa(),fr);zr(LM(),fr);zr(k4(),fr);zr(QM(),fr);zr(Sue(),fr);zr(Wae(),fr);zr(Xb(),fr);zr(PD(),fr)});var Yae=$(LT=>{"use strict";B();k();Object.defineProperty(LT,"__esModule",{value:!0});LT.btc=void 0;var hje=m0();Object.defineProperty(LT,"btc",{enumerable:!0,get:function(){return hje.btc}})});var Zae=$(Xae=>{"use strict";B();k();Object.defineProperty(Xae,"__esModule",{value:!0})});var fc=$(v0=>{"use strict";B();k();var pje=v0&&v0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ag=v0&&v0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pje(e,t,r)};Object.defineProperty(v0,"__esModule",{value:!0});Ag(eV(),v0);Ag(CO(),v0);Ag(rV(),v0);Ag(iV(),v0);Ag(Yae(),v0);Ag(Zae(),v0)});var Jae=$((Bmt,bje)=>{bje.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var lc=$(Qae=>{"use strict";B();k();var Hf=Qae,gje=os(),mje=r$(),UT=n$();Hf.assert=mje;Hf.toArray=UT.toArray;Hf.zero2=UT.zero2;Hf.toHex=UT.toHex;Hf.encode=UT.encode;function yje(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),u=0;u<n.length;u++){var o,a=s.andln(i-1);s.isOdd()?(a>(i>>1)-1?o=(i>>1)-a:o=a,s.isubn(o)):o=0,n[u]=o,s.iushrn(1)}return n}Hf.getNAF=yje;function vje(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var u=t.andln(3)+n&3,o=e.andln(3)+i&3;u===3&&(u=-1),o===3&&(o=-1);var a;(u&1)===0?a=0:(s=t.andln(7)+n&7,(s===3||s===5)&&o===2?a=-u:a=u),r[0].push(a);var l;(o&1)===0?l=0:(s=e.andln(7)+i&7,(s===3||s===5)&&u===2?l=-o:l=o),r[1].push(l),2*n===a+1&&(n=1-n),2*i===l+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}Hf.getJSF=vje;function Sje(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Hf.cachedProperty=Sje;function _je(t){return typeof t=="string"?Hf.toArray(t,"hex"):t}Hf.parseBytes=_je;function wje(t){return new gje(t,"hex","le")}Hf.intFromLE=wje});var k8=$((Rmt,ece)=>{"use strict";B();k();var I5=os(),B8=lc(),$T=B8.getNAF,Eje=B8.getJSF,qT=B8.assert;function k1(t,e){this.type=t,this.p=new I5(e.p,16),this.red=e.prime?I5.red(e.prime):I5.mont(this.p),this.zero=new I5(0).toRed(this.red),this.one=new I5(1).toRed(this.red),this.two=new I5(2).toRed(this.red),this.n=e.n&&new I5(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}ece.exports=k1;k1.prototype.point=function(){throw new Error("Not implemented")};k1.prototype.validate=function(){throw new Error("Not implemented")};k1.prototype._fixedNafMul=function(e,r){qT(e.precomputed);var n=e._getDoubles(),i=$T(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var u=[],o,a;for(o=0;o<i.length;o+=n.step){a=0;for(var l=o+n.step-1;l>=o;l--)a=(a<<1)+i[l];u.push(a)}for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=s;h>0;h--){for(o=0;o<u.length;o++)a=u[o],a===h?c=c.mixedAdd(n.points[o]):a===-h&&(c=c.mixedAdd(n.points[o].neg()));f=f.add(c)}return f.toP()};k1.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,u=$T(r,n,this._bitLength),o=this.jpoint(null,null,null),a=u.length-1;a>=0;a--){for(var l=0;a>=0&&u[a]===0;a--)l++;if(a>=0&&l++,o=o.dblp(l),a<0)break;var f=u[a];qT(f!==0),e.type==="affine"?f>0?o=o.mixedAdd(s[f-1>>1]):o=o.mixedAdd(s[-f-1>>1].neg()):f>0?o=o.add(s[f-1>>1]):o=o.add(s[-f-1>>1].neg())}return e.type==="affine"?o.toP():o};k1.prototype._wnafMulAdd=function(e,r,n,i,s){var u=this._wnafT1,o=this._wnafT2,a=this._wnafT3,l=0,f,c,h;for(f=0;f<i;f++){h=r[f];var d=h._getNAFPoints(e);u[f]=d.wnd,o[f]=d.points}for(f=i-1;f>=1;f-=2){var p=f-1,m=f;if(u[p]!==1||u[m]!==1){a[p]=$T(n[p],u[p],this._bitLength),a[m]=$T(n[m],u[m],this._bitLength),l=Math.max(a[p].length,l),l=Math.max(a[m].length,l);continue}var w=[r[p],null,null,r[m]];r[p].y.cmp(r[m].y)===0?(w[1]=r[p].add(r[m]),w[2]=r[p].toJ().mixedAdd(r[m].neg())):r[p].y.cmp(r[m].y.redNeg())===0?(w[1]=r[p].toJ().mixedAdd(r[m]),w[2]=r[p].add(r[m].neg())):(w[1]=r[p].toJ().mixedAdd(r[m]),w[2]=r[p].toJ().mixedAdd(r[m].neg()));var x=[-3,-1,-5,-7,0,7,5,1,3],_=Eje(n[p],n[m]);for(l=Math.max(_[0].length,l),a[p]=new Array(l),a[m]=new Array(l),c=0;c<l;c++){var y=_[0][c]|0,S=_[1][c]|0;a[p][c]=x[(y+1)*3+(S+1)],a[m][c]=0,o[p]=w}}var F=this.jpoint(null,null,null),N=this._wnafT4;for(f=l;f>=0;f--){for(var H=0;f>=0;){var D=!0;for(c=0;c<i;c++)N[c]=a[c][f]|0,N[c]!==0&&(D=!1);if(!D)break;H++,f--}if(f>=0&&H++,F=F.dblp(H),f<0)break;for(c=0;c<i;c++){var L=N[c];L!==0&&(L>0?h=o[c][L-1>>1]:L<0&&(h=o[c][-L-1>>1].neg()),h.type==="affine"?F=F.mixedAdd(h):F=F.add(h))}}for(f=0;f<i;f++)o[f]=null;return s?F:F.toP()};function S0(t,e){this.curve=t,this.type=e,this.precomputed=null}k1.BasePoint=S0;S0.prototype.eq=function(){throw new Error("Not implemented")};S0.prototype.validate=function(){return this.curve.validate(this)};k1.prototype.decodePoint=function(e,r){e=B8.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?qT(e[e.length-1]%2===0):e[0]===7&&qT(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};S0.prototype.encodeCompressed=function(e){return this.encode(e,!0)};S0.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};S0.prototype.encode=function(e,r){return B8.encode(this._encode(r),e)};S0.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};S0.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};S0.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var u=0;u<e;u++)i=i.dbl();n.push(i)}return{step:e,points:n}};S0.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};S0.prototype._getBeta=function(){return null};S0.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var rce=$((Dmt,tce)=>{"use strict";B();k();var Aje=lc(),Ki=os(),OD=w6(),Tg=k8(),Tje=Aje.assert;function _0(t){Tg.call(this,"short",t),this.a=new Ki(t.a,16).toRed(this.red),this.b=new Ki(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}OD(_0,Tg);tce.exports=_0;_0.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ki(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ki(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Tje(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var u;return e.basis?u=e.basis.map(function(o){return{a:new Ki(o.a,16),b:new Ki(o.b,16)}}):u=this._getEndoBasis(n),{beta:r,lambda:n,basis:u}}};_0.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ki.mont(e),n=new Ki(2).toRed(r).redInvm(),i=n.redNeg(),s=new Ki(3).toRed(r).redNeg().redSqrt().redMul(n),u=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[u,o]};_0.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ki(1),u=new Ki(0),o=new Ki(0),a=new Ki(1),l,f,c,h,d,p,m,w=0,x,_;n.cmpn(0)!==0;){var y=i.div(n);x=i.sub(y.mul(n)),_=o.sub(y.mul(s));var S=a.sub(y.mul(u));if(!c&&x.cmp(r)<0)l=m.neg(),f=s,c=x.neg(),h=_;else if(c&&++w===2)break;m=x,i=n,n=x,o=s,s=_,a=u,u=S}d=x.neg(),p=_;var F=c.sqr().add(h.sqr()),N=d.sqr().add(p.sqr());return N.cmp(F)>=0&&(d=l,p=f),c.negative&&(c=c.neg(),h=h.neg()),d.negative&&(d=d.neg(),p=p.neg()),[{a:c,b:h},{a:d,b:p}]};_0.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),u=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),a=u.mul(i.a),l=s.mul(n.b),f=u.mul(i.b),c=e.sub(o).sub(a),h=l.add(f).neg();return{k1:c,k2:h}};_0.prototype.pointFromX=function(e,r){e=new Ki(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};_0.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};_0.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,u=0;u<e.length;u++){var o=this._endoSplit(r[u]),a=e[u],l=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),i[u*2]=a,i[u*2+1]=l,s[u*2]=o.k1,s[u*2+1]=o.k2}for(var f=this._wnafMulAdd(1,i,s,u*2,n),c=0;c<u*2;c++)i[c]=null,s[c]=null;return f};function pu(t,e,r,n){Tg.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ki(e,16),this.y=new Ki(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}OD(pu,Tg.BasePoint);_0.prototype.point=function(e,r,n){return new pu(this,e,r,n)};_0.prototype.pointFromJSON=function(e,r){return pu.fromJSON(this,e,r)};pu.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};pu.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};pu.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(o){return e.point(o[0],o[1],n)}var u=r[2];return i.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[i].concat(u.doubles.points.map(s))},naf:u.naf&&{wnd:u.naf.wnd,points:[i].concat(u.naf.points.map(s))}},i};pu.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};pu.prototype.isInfinity=function(){return this.inf};pu.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};pu.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),u=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,o)};pu.prototype.getX=function(){return this.x.fromRed()};pu.prototype.getY=function(){return this.y.fromRed()};pu.prototype.mul=function(e){return e=new Ki(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};pu.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};pu.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};pu.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};pu.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};pu.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ju(t,e,r,n){Tg.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ki(0)):(this.x=new Ki(e,16),this.y=new Ki(r,16),this.z=new Ki(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}OD(ju,Tg.BasePoint);_0.prototype.jpoint=function(e,r,n){return new ju(this,e,r,n)};ju.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ju.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ju.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),u=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),a=i.redSub(s),l=u.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),c=f.redMul(a),h=i.redMul(f),d=l.redSqr().redIAdd(c).redISub(h).redISub(h),p=l.redMul(h.redISub(d)).redISub(u.redMul(c)),m=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,p,m)};ju.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,u=e.y.redMul(r).redMul(this.z),o=n.redSub(i),a=s.redSub(u);if(o.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),f=l.redMul(o),c=n.redMul(l),h=a.redSqr().redIAdd(f).redISub(c).redISub(c),d=a.redMul(c.redISub(h)).redISub(s.redMul(f)),p=this.z.redMul(o);return this.curve.jpoint(h,d,p)};ju.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,u=this.x,o=this.y,a=this.z,l=a.redSqr().redSqr(),f=o.redAdd(o);for(r=0;r<e;r++){var c=u.redSqr(),h=f.redSqr(),d=h.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(l)),m=u.redMul(h),w=p.redSqr().redISub(m.redAdd(m)),x=m.redISub(w),_=p.redMul(x);_=_.redIAdd(_).redISub(d);var y=f.redMul(a);r+1<e&&(l=l.redMul(d)),u=w,a=y,f=_}return this.curve.jpoint(u,f.redMul(s),a)};ju.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ju.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),u=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(u);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),l=a.redSqr().redISub(o).redISub(o),f=u.redIAdd(u);f=f.redIAdd(f),f=f.redIAdd(f),e=l,r=a.redMul(o.redISub(l)).redISub(f),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(c).redISub(d);p=p.redIAdd(p);var m=c.redAdd(c).redIAdd(c),w=m.redSqr(),x=d.redIAdd(d);x=x.redIAdd(x),x=x.redIAdd(x),e=w.redISub(p).redISub(p),r=m.redMul(p.redISub(e)).redISub(x),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ju.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),u=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(u);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);e=l;var f=u.redIAdd(u);f=f.redIAdd(f),f=f.redIAdd(f),r=a.redMul(o.redISub(l)).redISub(f),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),p=this.x.redSub(c).redMul(this.x.redAdd(c));p=p.redAdd(p).redIAdd(p);var m=d.redIAdd(d);m=m.redIAdd(m);var w=m.redAdd(m);e=p.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var x=h.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x),r=p.redMul(m.redISub(e)).redISub(x)}return this.curve.jpoint(e,r,n)};ju.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),u=r.redSqr(),o=n.redSqr(),a=u.redAdd(u).redIAdd(u).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var f=l.redMul(o),c=a.redSqr().redISub(f.redAdd(f)),h=f.redISub(c),d=o.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=a.redMul(h).redISub(d),m=n.redAdd(n).redMul(i);return this.curve.jpoint(c,p,m)};ju.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),u=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(u);var a=o.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var f=s.redIAdd(o).redSqr().redISub(u).redISub(a).redISub(l),c=r.redMul(f);c=c.redIAdd(c),c=c.redIAdd(c);var h=this.x.redMul(a).redISub(c);h=h.redIAdd(h),h=h.redIAdd(h);var d=this.y.redMul(f.redMul(l.redISub(f)).redISub(o.redMul(a)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=this.z.redAdd(o).redSqr().redISub(n).redISub(a);return this.curve.jpoint(h,d,p)};ju.prototype.mul=function(e,r){return e=new Ki(e,r),this.curve._wnafMul(this,e)};ju.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ju.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ju.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ju.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var sce=$((Umt,ice)=>{"use strict";B();k();var xg=os(),nce=w6(),jT=k8(),xje=lc();function Ig(t){jT.call(this,"mont",t),this.a=new xg(t.a,16).toRed(this.red),this.b=new xg(t.b,16).toRed(this.red),this.i4=new xg(4).toRed(this.red).redInvm(),this.two=new xg(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}nce(Ig,jT);ice.exports=Ig;Ig.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function bu(t,e,r){jT.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new xg(e,16),this.z=new xg(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}nce(bu,jT.BasePoint);Ig.prototype.decodePoint=function(e,r){return this.point(xje.toArray(e,r),1)};Ig.prototype.point=function(e,r){return new bu(this,e,r)};Ig.prototype.pointFromJSON=function(e){return bu.fromJSON(this,e)};bu.prototype.precompute=function(){};bu.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};bu.fromJSON=function(e,r){return new bu(e,r[0],r[1]||e.one)};bu.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};bu.prototype.isInfinity=function(){return this.z.cmpn(0)===0};bu.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),u=r.redMul(i),o=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(u,o)};bu.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};bu.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),u=e.x.redSub(e.z),o=u.redMul(n),a=s.redMul(i),l=r.z.redMul(o.redAdd(a).redSqr()),f=r.x.redMul(o.redISub(a).redSqr());return this.curve.point(l,f)};bu.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,u=[];r.cmpn(0)!==0;r.iushrn(1))u.push(r.andln(1));for(var o=u.length-1;o>=0;o--)u[o]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};bu.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};bu.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};bu.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};bu.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};bu.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var ace=$((jmt,oce)=>{"use strict";B();k();var Ije=lc(),Mh=os(),uce=w6(),KT=k8(),Pje=Ije.assert;function rd(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,KT.call(this,"edwards",t),this.a=new Mh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Mh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Mh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Pje(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}uce(rd,KT);oce.exports=rd;rd.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};rd.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};rd.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};rd.prototype.pointFromX=function(e,r){e=new Mh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),u=i.redMul(s.redInvm()),o=u.redSqrt();if(o.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");var a=o.fromRed().isOdd();return(r&&!a||!r&&a)&&(o=o.redNeg()),this.point(e,o)};rd.prototype.pointFromY=function(e,r){e=new Mh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),u=i.redMul(s.redInvm());if(u.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=u.redSqrt();if(o.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};rd.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Wn(t,e,r,n,i){KT.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Mh(e,16),this.y=new Mh(r,16),this.z=n?new Mh(n,16):this.curve.one,this.t=i&&new Mh(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}uce(Wn,KT.BasePoint);rd.prototype.pointFromJSON=function(e){return Wn.fromJSON(this,e)};rd.prototype.point=function(e,r,n,i){return new Wn(this,e,r,n,i)};Wn.fromJSON=function(e,r){return new Wn(e,r[0],r[1],r[2])};Wn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Wn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Wn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),u=i.redAdd(r),o=u.redSub(n),a=i.redSub(r),l=s.redMul(o),f=u.redMul(a),c=s.redMul(a),h=o.redMul(u);return this.curve.point(l,f,h,c)};Wn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,u,o,a,l;if(this.curve.twisted){o=this.curve._mulA(r);var f=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),s=f.redMul(o.redSub(n)),u=f.redSqr().redSub(f).redSub(f)):(a=this.z.redSqr(),l=f.redSub(a).redISub(a),i=e.redSub(r).redISub(n).redMul(l),s=f.redMul(o.redSub(n)),u=f.redMul(l))}else o=r.redAdd(n),a=this.curve._mulC(this.z).redSqr(),l=o.redSub(a).redSub(a),i=this.curve._mulC(e.redISub(o)).redMul(l),s=this.curve._mulC(o).redMul(r.redISub(n)),u=o.redMul(l);return this.curve.point(i,s,u)};Wn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Wn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),u=n.redSub(r),o=s.redSub(i),a=s.redAdd(i),l=n.redAdd(r),f=u.redMul(o),c=a.redMul(l),h=u.redMul(l),d=o.redMul(a);return this.curve.point(f,c,d,h)};Wn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),u=this.curve.d.redMul(i).redMul(s),o=n.redSub(u),a=n.redAdd(u),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),f=r.redMul(o).redMul(l),c,h;return this.curve.twisted?(c=r.redMul(a).redMul(s.redSub(this.curve._mulA(i))),h=o.redMul(a)):(c=r.redMul(a).redMul(s.redSub(i)),h=this.curve._mulC(o).redMul(a)),this.curve.point(f,c,h)};Wn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Wn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Wn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Wn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Wn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Wn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Wn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Wn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Wn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Wn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Wn.prototype.toP=Wn.prototype.normalize;Wn.prototype.mixedAdd=Wn.prototype.add});var BD=$(cce=>{"use strict";B();k();var zT=cce;zT.base=k8();zT.short=rce();zT.mont=sce();zT.edwards=ace()});var lce=$((Ymt,fce)=>{B();k();fce.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var VT=$(pce=>{"use strict";B();k();var CD=pce,C1=r2(),kD=BD(),Oje=lc(),dce=Oje.assert;function hce(t){t.type==="short"?this.curve=new kD.short(t):t.type==="edwards"?this.curve=new kD.edwards(t):this.curve=new kD.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,dce(this.g.validate(),"Invalid curve"),dce(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}CD.PresetCurve=hce;function F1(t,e){Object.defineProperty(CD,t,{configurable:!0,enumerable:!0,get:function(){var r=new hce(e);return Object.defineProperty(CD,t,{configurable:!0,enumerable:!0,value:r}),r}})}F1("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:C1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});F1("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:C1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});F1("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:C1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});F1("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:C1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});F1("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:C1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});F1("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:C1.sha256,gRed:!1,g:["9"]});F1("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:C1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var FD;try{FD=lce()}catch{FD=void 0}F1("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:C1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",FD]})});var gce=$((tyt,bce)=>{"use strict";B();k();var Bje=os(),kje=lc(),RD=kje.assert;function mo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}bce.exports=mo;mo.fromPublic=function(e,r,n){return r instanceof mo?r:new mo(e,{pub:r,pubEnc:n})};mo.fromPrivate=function(e,r,n){return r instanceof mo?r:new mo(e,{priv:r,privEnc:n})};mo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};mo.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};mo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};mo.prototype._importPrivate=function(e,r){this.priv=new Bje(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};mo.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?RD(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&RD(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};mo.prototype.derive=function(e){return e.validate()||RD(e.validate(),"public point not validated"),e.mul(this.priv).getX()};mo.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};mo.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};mo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var vce=$((iyt,yce)=>{"use strict";B();k();var GT=os(),DD=lc(),Cje=DD.assert;function WT(t,e){if(t instanceof WT)return t;this._importDER(t,e)||(Cje(t.r&&t.s,"Signature without r or s"),this.r=new GT(t.r,16),this.s=new GT(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}yce.exports=WT;function Fje(){this.place=0}function MD(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,u=e.place;s<n;s++,u++)i<<=8,i|=t[u],i>>>=0;return i<=127?!1:(e.place=u,i)}function mce(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}WT.prototype._importDER=function(e,r){e=DD.toArray(e,r);var n=new Fje;if(e[n.place++]!==48)return!1;var i=MD(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=MD(e,n);if(s===!1)return!1;var u=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=MD(e,n);if(o===!1||e.length!==o+n.place)return!1;var a=e.slice(n.place,o+n.place);if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new GT(u),this.s=new GT(a),this.recoveryParam=null,!0};function ND(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}WT.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=mce(r),n=mce(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ND(i,r.length),i=i.concat(r),i.push(2),ND(i,n.length);var s=i.concat(n),u=[48];return ND(u,s.length),u=u.concat(s),DD.encode(u,e)}});var Ece=$((oyt,wce)=>{"use strict";B();k();var P5=os(),Sce=i$(),Rje=lc(),HD=VT(),Mje=Uv(),_ce=Rje.assert,LD=gce(),YT=vce();function w0(t){if(!(this instanceof w0))return new w0(t);typeof t=="string"&&(_ce(Object.prototype.hasOwnProperty.call(HD,t),"Unknown curve "+t),t=HD[t]),t instanceof HD.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}wce.exports=w0;w0.prototype.keyPair=function(e){return new LD(this,e)};w0.prototype.keyFromPrivate=function(e,r){return LD.fromPrivate(this,e,r)};w0.prototype.keyFromPublic=function(e,r){return LD.fromPublic(this,e,r)};w0.prototype.genKeyPair=function(e){e||(e={});for(var r=new Sce({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Mje(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new P5(2));;){var s=new P5(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};w0.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};w0.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new P5(e,16));for(var s=this.n.byteLength(),u=r.getPrivate().toArray("be",s),o=e.toArray("be",s),a=new Sce({hash:this.hash,entropy:u,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new P5(1)),f=0;;f++){var c=i.k?i.k(f):new P5(a.generate(this.n.byteLength()));if(c=this._truncateToN(c,!0),!(c.cmpn(1)<=0||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var d=h.getX(),p=d.umod(this.n);if(p.cmpn(0)!==0){var m=c.invm(this.n).mul(p.mul(r.getPrivate()).iadd(e));if(m=m.umod(this.n),m.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(d.cmp(p)!==0?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),w^=1),new YT({r:p,s:m,recoveryParam:w})}}}}}};w0.prototype.verify=function(e,r,n,i){e=this._truncateToN(new P5(e,16)),n=this.keyFromPublic(n,i),r=new YT(r,"hex");var s=r.r,u=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var o=u.invm(this.n),a=o.mul(e).umod(this.n),l=o.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(a,n.getPublic(),l),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(a,n.getPublic(),l),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};w0.prototype.recoverPubKey=function(t,e,r,n){_ce((3&r)===r,"The recovery param is more than two bits"),e=new YT(e,n);var i=this.n,s=new P5(t),u=e.r,o=e.s,a=r&1,l=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?u=this.curve.pointFromX(u.add(this.curve.n),a):u=this.curve.pointFromX(u,a);var f=e.r.invm(i),c=i.sub(s).mul(f).umod(i),h=o.mul(f).umod(i);return this.g.mulAdd(c,u,h)};w0.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new YT(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Ice=$((fyt,xce)=>{"use strict";B();k();var C8=lc(),Tce=C8.assert,Ace=C8.parseBytes,Pg=C8.cachedProperty;function gu(t,e){this.eddsa=t,this._secret=Ace(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Ace(e.pub)}gu.fromPublic=function(e,r){return r instanceof gu?r:new gu(e,{pub:r})};gu.fromSecret=function(e,r){return r instanceof gu?r:new gu(e,{secret:r})};gu.prototype.secret=function(){return this._secret};Pg(gu,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Pg(gu,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Pg(gu,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Pg(gu,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Pg(gu,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Pg(gu,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});gu.prototype.sign=function(e){return Tce(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};gu.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};gu.prototype.getSecret=function(e){return Tce(this._secret,"KeyPair is public only"),C8.encode(this.secret(),e)};gu.prototype.getPublic=function(e){return C8.encode(this.pubBytes(),e)};xce.exports=gu});var Oce=$((hyt,Pce)=>{"use strict";B();k();var Nje=os(),XT=lc(),Dje=XT.assert,ZT=XT.cachedProperty,Hje=XT.parseBytes;function O5(t,e){this.eddsa=t,typeof e!="object"&&(e=Hje(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Dje(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Nje&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ZT(O5,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ZT(O5,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ZT(O5,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ZT(O5,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});O5.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};O5.prototype.toHex=function(){return XT.encode(this.toBytes(),"hex").toUpperCase()};Pce.exports=O5});var Rce=$((gyt,Fce)=>{"use strict";B();k();var Lje=r2(),Uje=VT(),Og=lc(),$je=Og.assert,kce=Og.parseBytes,Cce=Ice(),Bce=Oce();function Ia(t){if($je(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ia))return new Ia(t);t=Uje[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Lje.sha512}Fce.exports=Ia;Ia.prototype.sign=function(e,r){e=kce(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),u=this.encodePoint(s),o=this.hashInt(u,n.pubBytes(),e).mul(n.priv()),a=i.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:a,Rencoded:u})};Ia.prototype.verify=function(e,r,n){e=kce(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),u=this.g.mul(r.S()),o=r.R().add(i.pub().mul(s));return o.eq(u)};Ia.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Og.intFromLE(e.digest()).umod(this.curve.n)};Ia.prototype.keyFromPublic=function(e){return Cce.fromPublic(this,e)};Ia.prototype.keyFromSecret=function(e){return Cce.fromSecret(this,e)};Ia.prototype.makeSignature=function(e){return e instanceof Bce?e:new Bce(this,e)};Ia.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ia.prototype.decodePoint=function(e){e=Og.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Og.intFromLE(n);return this.curve.pointFromY(s,i)};Ia.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ia.prototype.decodeInt=function(e){return Og.intFromLE(e)};Ia.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Nce=$(Mce=>{"use strict";B();k();var B5=Mce;B5.version=Jae().version;B5.utils=lc();B5.rand=Uv();B5.curve=BD();B5.curves=VT();B5.ec=Ece();B5.eddsa=Rce()});var Hce=$((wyt,Dce)=>{"use strict";B();k();var JT=$m().Buffer;function qje(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var u=t.length,o=t.charAt(0),a=Math.log(u)/Math.log(256),l=Math.log(256)/Math.log(u);function f(d){if((Array.isArray(d)||d instanceof Uint8Array)&&(d=JT.from(d)),!JT.isBuffer(d))throw new TypeError("Expected Buffer");if(d.length===0)return"";for(var p=0,m=0,w=0,x=d.length;w!==x&&d[w]===0;)w++,p++;for(var _=(x-w)*l+1>>>0,y=new Uint8Array(_);w!==x;){for(var S=d[w],F=0,N=_-1;(S!==0||F<m)&&N!==-1;N--,F++)S+=256*y[N]>>>0,y[N]=S%u>>>0,S=S/u>>>0;if(S!==0)throw new Error("Non-zero carry");m=F,w++}for(var H=_-m;H!==_&&y[H]===0;)H++;for(var D=o.repeat(p);H<_;++H)D+=t.charAt(y[H]);return D}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return JT.alloc(0);var p=0;if(d[p]!==" "){for(var m=0,w=0;d[p]===o;)m++,p++;for(var x=(d.length-p)*a+1>>>0,_=new Uint8Array(x);d[p];){var y=e[d.charCodeAt(p)];if(y===255)return;for(var S=0,F=x-1;(y!==0||S<w)&&F!==-1;F--,S++)y+=u*_[F]>>>0,_[F]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");w=S,p++}if(d[p]!==" "){for(var N=x-w;N!==x&&_[N]===0;)N++;var H=JT.allocUnsafe(m+(x-N));H.fill(0,0,m);for(var D=m;N!==x;)H[D++]=_[N++];return H}}}function h(d){var p=c(d);if(p)return p;throw new Error("Non-base"+u+" character")}return{encode:f,decodeUnsafe:c,decode:h}}Dce.exports=qje});var Uce=$((Tyt,Lce)=>{B();k();var jje=Hce(),Kje="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Lce.exports=jje(Kje)});var $ce=$((Pyt,UD)=>{B();k();typeof Object.create=="function"?UD.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:UD.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var Kce=$((kyt,jce)=>{B();k();var wr=us(),qce=Nce(),R1=r2(),qD=Uce(),Nh=wc(),R8=$ce(),Bg=o$(),F8=XO(),zje=os(),ex=globalThis,$D={},QT={},W=ex.parcelRequire76f9;W==null&&(W=function(t){if(t in $D)return $D[t].exports;if(t in QT){var e=QT[t];delete QT[t];var r={id:t,exports:{}};return $D[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n},W.register=function(e,r){QT[e]=r},ex.parcelRequire76f9=W);var Ge=W.register;Ge("1Q9VF",function(t,e){t.exports=JSON.parse(`{"name":"@scrypt-inc/bsv","version":"1.0.4","description":"A pure and powerful JavaScript Bitcoin SV (BSV) library.","author":"sCrypt.Inc","source":"./index.js","main":"dist/main.js","browser":"dist/browser.js","types":"./index.d.ts","scripts":{"lint":"standard --fix","build":"parcel build --no-cache","dev":"mocha -g 'BIP32' ","test":"standard && mocha","coverage":"nyc --reporter=text npm run test","prepublishOnly":"yarn build","release":"npm publish --access public"},"targets":{"types":false},"keywords":["bitcoin","bsv","scrypt","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],"repository":{"type":"git","url":"git+https://github.com/sCrypt-Inc/bsv"},"dependencies":{"aes-js":"^3.1.2","assert":"^2.1.0","bn.js":"=4.11.9","bs58":"=4.0.1","buffer":"^6.0.3","clone-deep":"^4.0.1","elliptic":"6.5.4","hash.js":"^1.1.7","inherits":"2.0.3","unorm":"1.4.1"},"devDependencies":{"brfs":"2.0.1","chai":"4.2.0","mocha":"^8.4.0","nyc":"^14.1.1","parcel":"latest","sinon":"7.2.3","standard":"12.0.1"},"license":"MIT","standard":{"globals":["afterEach","beforeEach","describe","it"],"ignore":["dist/**","esmTest/**"]}}`)});Ge("dIoYd",function(t,e){var r=wr.Buffer,n=W("jBF4k"),i=W("6gAsx"),s=W("kBBbb"),u=function(o){for(var a=r.alloc(o.length),l=0;l<o.length;l++)a[l]=o[o.length-1-l];return a};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(o){return i.checkArgument(s.isNumber(o)),new n(o)},n.fromString=function(o,a){return i.checkArgument(s.isString(o)),new n(o,a)},n.fromBuffer=function(o,a){typeof a<"u"&&a.endian==="little"&&(o=u(o));var l=o.toString("hex"),f=new n(l,16);return f},n.fromSM=function(o,a){var l;if(o.length===0)return n.fromBuffer(r.from([0]));var f="big";return a&&(f=a.endian),f==="little"&&(o=u(o)),o[0]&128?(o[0]=o[0]&127,l=n.fromBuffer(o),l.neg().copy(l)):l=n.fromBuffer(o),l},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(o){var a,l;if(o&&o.size){l=this.toString(16,2);var f=l.length/2;a=r.from(l,"hex"),f===o.size||(f>o.size?a=n.trim(a,f):f<o.size&&(a=n.pad(a,f,o.size)))}else l=this.toString(16,2),a=r.from(l,"hex");return typeof o<"u"&&o.endian==="little"&&(a=u(a)),a},n.prototype.toSMBigEndian=function(){var o;return this.cmp(n.Zero)===-1?(o=this.neg().toBuffer(),o[0]&128?o=r.concat([r.from([128]),o]):o[0]=o[0]|128):(o=this.toBuffer(),o[0]&128&&(o=r.concat([r.from([0]),o]))),o.length===1&o[0]===0&&(o=r.from([])),o},n.prototype.toSM=function(o){var a=o?o.endian:"big",l=this.toSMBigEndian();return a==="little"&&(l=u(l)),l},n.fromScriptNumBuffer=function(o,a,l){var f=l||Number.MAX_SAFE_INTEGER;if(i.checkArgument(o.length<=f,new Error("script number overflow")),a&&o.length>0&&(o[o.length-1]&127)===0&&(o.length<=1||(o[o.length-2]&128)===0))throw new Error("non-minimally encoded script number");return n.fromSM(o,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.trim=function(o,a){return o.slice(a-o.length,o.length)},n.pad=function(o,a,l){for(var f=r.alloc(l),c=0;c<o.length;c++)f[f.length-1-c]=o[o.length-1-c];for(c=0;c<l-a;c++)f[c]=0;return f},n.prototype.toHex=function(...o){return this.toBuffer(...o).toString("hex")},n.fromHex=function(o,...a){return n.fromBuffer(r.from(o,"hex"),...a)},t.exports=n});Ge("jBF4k",function(t,e){var r=wr.Buffer;(function(n,i){"use strict";function s(A,b){if(!A)throw new Error(b||"Assertion failed")}function u(A,b){A.super_=b;var g=function(){};g.prototype=b.prototype,A.prototype=new g,A.prototype.constructor=A}function o(A,b,g){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((b==="le"||b==="be")&&(g=b,b=10),this._init(A||0,b||10,g||"be"))}typeof n=="object"?n.exports=o:i.BN=o,o.BN=o,o.wordSize=26,o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,g){return b.cmp(g)>0?b:g},o.min=function(b,g){return b.cmp(g)<0?b:g},o.prototype._init=function(b,g,v){if(typeof b=="number")return this._initNumber(b,g,v);if(typeof b=="object")return this._initArray(b,g,v);g==="hex"&&(g=16),s(g===(g|0)&&g>=2&&g<=36),b=b.toString().replace(/\s+/g,"");var E=0;b[0]==="-"&&E++,g===16?this._parseHex(b,E):this._parseBase(b,g,E),b[0]==="-"&&(this.negative=1),this.strip(),v==="le"&&this._initArray(this.toArray(),g,v)},o.prototype._initNumber=function(b,g,v){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(s(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),g,v)},o.prototype._initArray=function(b,g,v){if(s(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var C,R,O=0;if(v==="be")for(E=b.length-1,C=0;E>=0;E-=3)R=b[E]|b[E-1]<<8|b[E-2]<<16,this.words[C]|=R<<O&67108863,this.words[C+1]=R>>>26-O&67108863,O+=24,O>=26&&(O-=26,C++);else if(v==="le")for(E=0,C=0;E<b.length;E+=3)R=b[E]|b[E+1]<<8|b[E+2]<<16,this.words[C]|=R<<O&67108863,this.words[C+1]=R>>>26-O&67108863,O+=24,O>=26&&(O-=26,C++);return this.strip()};function a(A,b,g){for(var v=0,E=Math.min(A.length,g),C=b;C<E;C++){var R=A.charCodeAt(C)-48;v<<=4,R>=49&&R<=54?v|=R-49+10:R>=17&&R<=22?v|=R-17+10:v|=R&15}return v}o.prototype._parseHex=function(b,g){this.length=Math.ceil((b.length-g)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var E,C,R=0;for(v=b.length-6,E=0;v>=g;v-=6)C=a(b,v,v+6),this.words[E]|=C<<R&67108863,this.words[E+1]|=C>>>26-R&4194303,R+=24,R>=26&&(R-=26,E++);v+6!==g&&(C=a(b,g,v+6),this.words[E]|=C<<R&67108863,this.words[E+1]|=C>>>26-R&4194303),this.strip()};function l(A,b,g,v){for(var E=0,C=Math.min(A.length,g),R=b;R<C;R++){var O=A.charCodeAt(R)-48;E*=v,O>=49?E+=O-49+10:O>=17?E+=O-17+10:E+=O}return E}o.prototype._parseBase=function(b,g,v){this.words=[0],this.length=1;for(var E=0,C=1;C<=67108863;C*=g)E++;E--,C=C/g|0;for(var R=b.length-v,O=R%E,M=Math.min(R,R-O)+v,T=0,U=v;U<M;U+=E)T=l(b,U,U+E,g),this.imuln(C),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(O!==0){var Y=1;for(T=l(b,U,b.length,g),U=0;U<O;U++)Y*=g;this.imuln(Y),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}},o.prototype.copy=function(b){b.words=new Array(this.length);for(var g=0;g<this.length;g++)b.words[g]=this.words[g];b.length=this.length,b.negative=this.negative,b.red=this.red},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,g){b=b||10,g=g|0||1;var v;if(b===16||b==="hex"){v="";for(var E=0,C=0,R=0;R<this.length;R++){var O=this.words[R],M=((O<<E|C)&16777215).toString(16);C=O>>>24-E&16777215,E+=2,E>=26&&(E-=26,R--),C!==0||R!==this.length-1?v=f[6-M.length]+M+v:v=M+v}for(C!==0&&(v=C.toString(16)+v);v.length%g!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(b===(b|0)&&b>=2&&b<=36){var T=c[b],U=h[b];v="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var te=Y.modn(U).toString(b);Y=Y.idivn(U),Y.isZero()?v=te+v:v=f[T-te.length]+te+v}for(this.isZero()&&(v="0"+v);v.length%g!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}s(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(b,g){return s(typeof r<"u"),this.toArrayLike(r,b,g)},o.prototype.toArray=function(b,g){return this.toArrayLike(Array,b,g)},o.prototype.toArrayLike=function(b,g,v){var E=this.byteLength(),C=v||Math.max(1,E);s(E<=C,"byte array longer than desired length"),s(C>0,"Requested array length <= 0"),this.strip();var R=g==="le",O=new b(C),M,T,U=this.clone();if(R){for(T=0;!U.isZero();T++)M=U.andln(255),U.iushrn(8),O[T]=M;for(;T<C;T++)O[T]=0}else{for(T=0;T<C-E;T++)O[T]=0;for(T=0;!U.isZero();T++)M=U.andln(255),U.iushrn(8),O[C-T-1]=M}return O},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var g=b,v=0;return g>=4096&&(v+=13,g>>>=13),g>=64&&(v+=7,g>>>=7),g>=8&&(v+=4,g>>>=4),g>=2&&(v+=2,g>>>=2),v+g},o.prototype._zeroBits=function(b){if(b===0)return 26;var g=b,v=0;return(g&8191)===0&&(v+=13,g>>>=13),(g&127)===0&&(v+=7,g>>>=7),(g&15)===0&&(v+=4,g>>>=4),(g&3)===0&&(v+=2,g>>>=2),(g&1)===0&&v++,v},o.prototype.bitLength=function(){var b=this.words[this.length-1],g=this._countBits(b);return(this.length-1)*26+g};function d(A){for(var b=new Array(A.bitLength()),g=0;g<b.length;g++){var v=g/26|0,E=g%26;b[g]=(A.words[v]&1<<E)>>>E}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,g=0;g<this.length;g++){var v=this._zeroBits(this.words[g]);if(b+=v,v!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var g=0;g<b.length;g++)this.words[g]=this.words[g]|b.words[g];return this.strip()},o.prototype.ior=function(b){return s((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var g;this.length>b.length?g=b:g=this;for(var v=0;v<g.length;v++)this.words[v]=this.words[v]&b.words[v];return this.length=g.length,this.strip()},o.prototype.iand=function(b){return s((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var g,v;this.length>b.length?(g=this,v=b):(g=b,v=this);for(var E=0;E<v.length;E++)this.words[E]=g.words[E]^v.words[E];if(this!==g)for(;E<g.length;E++)this.words[E]=g.words[E];return this.length=g.length,this.strip()},o.prototype.ixor=function(b){return s((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){s(typeof b=="number"&&b>=0);var g=Math.ceil(b/26)|0,v=b%26;this._expand(g),v>0&&g--;for(var E=0;E<g;E++)this.words[E]=~this.words[E]&67108863;return v>0&&(this.words[E]=~this.words[E]&67108863>>26-v),this.strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,g){s(typeof b=="number"&&b>=0);var v=b/26|0,E=b%26;return this._expand(v+1),g?this.words[v]=this.words[v]|1<<E:this.words[v]=this.words[v]&~(1<<E),this.strip()},o.prototype.iadd=function(b){var g;if(this.negative!==0&&b.negative===0)return this.negative=0,g=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,g=this.isub(b),b.negative=1,g._normSign();var v,E;this.length>b.length?(v=this,E=b):(v=b,E=this);for(var C=0,R=0;R<E.length;R++)g=(v.words[R]|0)+(E.words[R]|0)+C,this.words[R]=g&67108863,C=g>>>26;for(;C!==0&&R<v.length;R++)g=(v.words[R]|0)+C,this.words[R]=g&67108863,C=g>>>26;if(this.length=v.length,C!==0)this.words[this.length]=C,this.length++;else if(v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this},o.prototype.add=function(b){var g;return b.negative!==0&&this.negative===0?(b.negative=0,g=this.sub(b),b.negative^=1,g):b.negative===0&&this.negative!==0?(this.negative=0,g=b.sub(this),this.negative=1,g):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var g=this.iadd(b);return b.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var v=this.cmp(b);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,C;v>0?(E=this,C=b):(E=b,C=this);for(var R=0,O=0;O<C.length;O++)g=(E.words[O]|0)-(C.words[O]|0)+R,R=g>>26,this.words[O]=g&67108863;for(;R!==0&&O<E.length;O++)g=(E.words[O]|0)+R,R=g>>26,this.words[O]=g&67108863;if(R===0&&O<E.length&&E!==this)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=Math.max(this.length,O),E!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function p(A,b,g){g.negative=b.negative^A.negative;var v=A.length+b.length|0;g.length=v,v=v-1|0;var E=A.words[0]|0,C=b.words[0]|0,R=E*C,O=R&67108863,M=R/67108864|0;g.words[0]=O;for(var T=1;T<v;T++){for(var U=M>>>26,Y=M&67108863,te=Math.min(T,b.length-1),J=Math.max(0,T-A.length+1);J<=te;J++){var ce=T-J|0;E=A.words[ce]|0,C=b.words[J]|0,R=E*C+Y,U+=R/67108864|0,Y=R&67108863}g.words[T]=Y|0,M=U|0}return M!==0?g.words[T]=M|0:g.length--,g.strip()}var m=function(b,g,v){var E=b.words,C=g.words,R=v.words,O=0,M,T,U,Y=E[0]|0,te=Y&8191,J=Y>>>13,ce=E[1]|0,se=ce&8191,j=ce>>>13,Z=E[2]|0,ee=Z&8191,ue=Z>>>13,fe=E[3]|0,de=fe&8191,we=fe>>>13,He=E[4]|0,Fe=He&8191,Le=He>>>13,wt=E[5]|0,je=wt&8191,Re=wt>>>13,De=E[6]|0,Xe=De&8191,q=De>>>13,X=E[7]|0,z=X&8191,V=X>>>13,re=E[8]|0,Q=re&8191,ne=re>>>13,be=E[9]|0,ie=be&8191,ye=be>>>13,Oe=C[0]|0,xe=Oe&8191,Te=Oe>>>13,kt=C[1]|0,ot=kt&8191,rt=kt>>>13,hn=C[2]|0,Qt=hn&8191,at=hn>>>13,In=C[3]|0,er=In&8191,ct=In>>>13,Pn=C[4]|0,tr=Pn&8191,ft=Pn>>>13,On=C[5]|0,rr=On&8191,lt=On>>>13,Bn=C[6]|0,nr=Bn&8191,dt=Bn>>>13,kn=C[7]|0,ir=kn&8191,ht=kn>>>13,Cn=C[8]|0,sr=Cn&8191,pt=Cn>>>13,Fn=C[9]|0,zt=Fn&8191,Vt=Fn>>>13;v.negative=b.negative^g.negative,v.length=19,M=Math.imul(te,xe),T=Math.imul(te,Te),T=T+Math.imul(J,xe)|0,U=Math.imul(J,Te);var $0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+($0>>>26)|0,$0&=67108863,M=Math.imul(se,xe),T=Math.imul(se,Te),T=T+Math.imul(j,xe)|0,U=Math.imul(j,Te),M=M+Math.imul(te,ot)|0,T=T+Math.imul(te,rt)|0,T=T+Math.imul(J,ot)|0,U=U+Math.imul(J,rt)|0;var q0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(q0>>>26)|0,q0&=67108863,M=Math.imul(ee,xe),T=Math.imul(ee,Te),T=T+Math.imul(ue,xe)|0,U=Math.imul(ue,Te),M=M+Math.imul(se,ot)|0,T=T+Math.imul(se,rt)|0,T=T+Math.imul(j,ot)|0,U=U+Math.imul(j,rt)|0,M=M+Math.imul(te,Qt)|0,T=T+Math.imul(te,at)|0,T=T+Math.imul(J,Qt)|0,U=U+Math.imul(J,at)|0;var j0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(j0>>>26)|0,j0&=67108863,M=Math.imul(de,xe),T=Math.imul(de,Te),T=T+Math.imul(we,xe)|0,U=Math.imul(we,Te),M=M+Math.imul(ee,ot)|0,T=T+Math.imul(ee,rt)|0,T=T+Math.imul(ue,ot)|0,U=U+Math.imul(ue,rt)|0,M=M+Math.imul(se,Qt)|0,T=T+Math.imul(se,at)|0,T=T+Math.imul(j,Qt)|0,U=U+Math.imul(j,at)|0,M=M+Math.imul(te,er)|0,T=T+Math.imul(te,ct)|0,T=T+Math.imul(J,er)|0,U=U+Math.imul(J,ct)|0;var K0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(K0>>>26)|0,K0&=67108863,M=Math.imul(Fe,xe),T=Math.imul(Fe,Te),T=T+Math.imul(Le,xe)|0,U=Math.imul(Le,Te),M=M+Math.imul(de,ot)|0,T=T+Math.imul(de,rt)|0,T=T+Math.imul(we,ot)|0,U=U+Math.imul(we,rt)|0,M=M+Math.imul(ee,Qt)|0,T=T+Math.imul(ee,at)|0,T=T+Math.imul(ue,Qt)|0,U=U+Math.imul(ue,at)|0,M=M+Math.imul(se,er)|0,T=T+Math.imul(se,ct)|0,T=T+Math.imul(j,er)|0,U=U+Math.imul(j,ct)|0,M=M+Math.imul(te,tr)|0,T=T+Math.imul(te,ft)|0,T=T+Math.imul(J,tr)|0,U=U+Math.imul(J,ft)|0;var z0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(z0>>>26)|0,z0&=67108863,M=Math.imul(je,xe),T=Math.imul(je,Te),T=T+Math.imul(Re,xe)|0,U=Math.imul(Re,Te),M=M+Math.imul(Fe,ot)|0,T=T+Math.imul(Fe,rt)|0,T=T+Math.imul(Le,ot)|0,U=U+Math.imul(Le,rt)|0,M=M+Math.imul(de,Qt)|0,T=T+Math.imul(de,at)|0,T=T+Math.imul(we,Qt)|0,U=U+Math.imul(we,at)|0,M=M+Math.imul(ee,er)|0,T=T+Math.imul(ee,ct)|0,T=T+Math.imul(ue,er)|0,U=U+Math.imul(ue,ct)|0,M=M+Math.imul(se,tr)|0,T=T+Math.imul(se,ft)|0,T=T+Math.imul(j,tr)|0,U=U+Math.imul(j,ft)|0,M=M+Math.imul(te,rr)|0,T=T+Math.imul(te,lt)|0,T=T+Math.imul(J,rr)|0,U=U+Math.imul(J,lt)|0;var V0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(V0>>>26)|0,V0&=67108863,M=Math.imul(Xe,xe),T=Math.imul(Xe,Te),T=T+Math.imul(q,xe)|0,U=Math.imul(q,Te),M=M+Math.imul(je,ot)|0,T=T+Math.imul(je,rt)|0,T=T+Math.imul(Re,ot)|0,U=U+Math.imul(Re,rt)|0,M=M+Math.imul(Fe,Qt)|0,T=T+Math.imul(Fe,at)|0,T=T+Math.imul(Le,Qt)|0,U=U+Math.imul(Le,at)|0,M=M+Math.imul(de,er)|0,T=T+Math.imul(de,ct)|0,T=T+Math.imul(we,er)|0,U=U+Math.imul(we,ct)|0,M=M+Math.imul(ee,tr)|0,T=T+Math.imul(ee,ft)|0,T=T+Math.imul(ue,tr)|0,U=U+Math.imul(ue,ft)|0,M=M+Math.imul(se,rr)|0,T=T+Math.imul(se,lt)|0,T=T+Math.imul(j,rr)|0,U=U+Math.imul(j,lt)|0,M=M+Math.imul(te,nr)|0,T=T+Math.imul(te,dt)|0,T=T+Math.imul(J,nr)|0,U=U+Math.imul(J,dt)|0;var G0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(G0>>>26)|0,G0&=67108863,M=Math.imul(z,xe),T=Math.imul(z,Te),T=T+Math.imul(V,xe)|0,U=Math.imul(V,Te),M=M+Math.imul(Xe,ot)|0,T=T+Math.imul(Xe,rt)|0,T=T+Math.imul(q,ot)|0,U=U+Math.imul(q,rt)|0,M=M+Math.imul(je,Qt)|0,T=T+Math.imul(je,at)|0,T=T+Math.imul(Re,Qt)|0,U=U+Math.imul(Re,at)|0,M=M+Math.imul(Fe,er)|0,T=T+Math.imul(Fe,ct)|0,T=T+Math.imul(Le,er)|0,U=U+Math.imul(Le,ct)|0,M=M+Math.imul(de,tr)|0,T=T+Math.imul(de,ft)|0,T=T+Math.imul(we,tr)|0,U=U+Math.imul(we,ft)|0,M=M+Math.imul(ee,rr)|0,T=T+Math.imul(ee,lt)|0,T=T+Math.imul(ue,rr)|0,U=U+Math.imul(ue,lt)|0,M=M+Math.imul(se,nr)|0,T=T+Math.imul(se,dt)|0,T=T+Math.imul(j,nr)|0,U=U+Math.imul(j,dt)|0,M=M+Math.imul(te,ir)|0,T=T+Math.imul(te,ht)|0,T=T+Math.imul(J,ir)|0,U=U+Math.imul(J,ht)|0;var W0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(W0>>>26)|0,W0&=67108863,M=Math.imul(Q,xe),T=Math.imul(Q,Te),T=T+Math.imul(ne,xe)|0,U=Math.imul(ne,Te),M=M+Math.imul(z,ot)|0,T=T+Math.imul(z,rt)|0,T=T+Math.imul(V,ot)|0,U=U+Math.imul(V,rt)|0,M=M+Math.imul(Xe,Qt)|0,T=T+Math.imul(Xe,at)|0,T=T+Math.imul(q,Qt)|0,U=U+Math.imul(q,at)|0,M=M+Math.imul(je,er)|0,T=T+Math.imul(je,ct)|0,T=T+Math.imul(Re,er)|0,U=U+Math.imul(Re,ct)|0,M=M+Math.imul(Fe,tr)|0,T=T+Math.imul(Fe,ft)|0,T=T+Math.imul(Le,tr)|0,U=U+Math.imul(Le,ft)|0,M=M+Math.imul(de,rr)|0,T=T+Math.imul(de,lt)|0,T=T+Math.imul(we,rr)|0,U=U+Math.imul(we,lt)|0,M=M+Math.imul(ee,nr)|0,T=T+Math.imul(ee,dt)|0,T=T+Math.imul(ue,nr)|0,U=U+Math.imul(ue,dt)|0,M=M+Math.imul(se,ir)|0,T=T+Math.imul(se,ht)|0,T=T+Math.imul(j,ir)|0,U=U+Math.imul(j,ht)|0,M=M+Math.imul(te,sr)|0,T=T+Math.imul(te,pt)|0,T=T+Math.imul(J,sr)|0,U=U+Math.imul(J,pt)|0;var Y0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(Y0>>>26)|0,Y0&=67108863,M=Math.imul(ie,xe),T=Math.imul(ie,Te),T=T+Math.imul(ye,xe)|0,U=Math.imul(ye,Te),M=M+Math.imul(Q,ot)|0,T=T+Math.imul(Q,rt)|0,T=T+Math.imul(ne,ot)|0,U=U+Math.imul(ne,rt)|0,M=M+Math.imul(z,Qt)|0,T=T+Math.imul(z,at)|0,T=T+Math.imul(V,Qt)|0,U=U+Math.imul(V,at)|0,M=M+Math.imul(Xe,er)|0,T=T+Math.imul(Xe,ct)|0,T=T+Math.imul(q,er)|0,U=U+Math.imul(q,ct)|0,M=M+Math.imul(je,tr)|0,T=T+Math.imul(je,ft)|0,T=T+Math.imul(Re,tr)|0,U=U+Math.imul(Re,ft)|0,M=M+Math.imul(Fe,rr)|0,T=T+Math.imul(Fe,lt)|0,T=T+Math.imul(Le,rr)|0,U=U+Math.imul(Le,lt)|0,M=M+Math.imul(de,nr)|0,T=T+Math.imul(de,dt)|0,T=T+Math.imul(we,nr)|0,U=U+Math.imul(we,dt)|0,M=M+Math.imul(ee,ir)|0,T=T+Math.imul(ee,ht)|0,T=T+Math.imul(ue,ir)|0,U=U+Math.imul(ue,ht)|0,M=M+Math.imul(se,sr)|0,T=T+Math.imul(se,pt)|0,T=T+Math.imul(j,sr)|0,U=U+Math.imul(j,pt)|0,M=M+Math.imul(te,zt)|0,T=T+Math.imul(te,Vt)|0,T=T+Math.imul(J,zt)|0,U=U+Math.imul(J,Vt)|0;var X0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(X0>>>26)|0,X0&=67108863,M=Math.imul(ie,ot),T=Math.imul(ie,rt),T=T+Math.imul(ye,ot)|0,U=Math.imul(ye,rt),M=M+Math.imul(Q,Qt)|0,T=T+Math.imul(Q,at)|0,T=T+Math.imul(ne,Qt)|0,U=U+Math.imul(ne,at)|0,M=M+Math.imul(z,er)|0,T=T+Math.imul(z,ct)|0,T=T+Math.imul(V,er)|0,U=U+Math.imul(V,ct)|0,M=M+Math.imul(Xe,tr)|0,T=T+Math.imul(Xe,ft)|0,T=T+Math.imul(q,tr)|0,U=U+Math.imul(q,ft)|0,M=M+Math.imul(je,rr)|0,T=T+Math.imul(je,lt)|0,T=T+Math.imul(Re,rr)|0,U=U+Math.imul(Re,lt)|0,M=M+Math.imul(Fe,nr)|0,T=T+Math.imul(Fe,dt)|0,T=T+Math.imul(Le,nr)|0,U=U+Math.imul(Le,dt)|0,M=M+Math.imul(de,ir)|0,T=T+Math.imul(de,ht)|0,T=T+Math.imul(we,ir)|0,U=U+Math.imul(we,ht)|0,M=M+Math.imul(ee,sr)|0,T=T+Math.imul(ee,pt)|0,T=T+Math.imul(ue,sr)|0,U=U+Math.imul(ue,pt)|0,M=M+Math.imul(se,zt)|0,T=T+Math.imul(se,Vt)|0,T=T+Math.imul(j,zt)|0,U=U+Math.imul(j,Vt)|0;var Z0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(Z0>>>26)|0,Z0&=67108863,M=Math.imul(ie,Qt),T=Math.imul(ie,at),T=T+Math.imul(ye,Qt)|0,U=Math.imul(ye,at),M=M+Math.imul(Q,er)|0,T=T+Math.imul(Q,ct)|0,T=T+Math.imul(ne,er)|0,U=U+Math.imul(ne,ct)|0,M=M+Math.imul(z,tr)|0,T=T+Math.imul(z,ft)|0,T=T+Math.imul(V,tr)|0,U=U+Math.imul(V,ft)|0,M=M+Math.imul(Xe,rr)|0,T=T+Math.imul(Xe,lt)|0,T=T+Math.imul(q,rr)|0,U=U+Math.imul(q,lt)|0,M=M+Math.imul(je,nr)|0,T=T+Math.imul(je,dt)|0,T=T+Math.imul(Re,nr)|0,U=U+Math.imul(Re,dt)|0,M=M+Math.imul(Fe,ir)|0,T=T+Math.imul(Fe,ht)|0,T=T+Math.imul(Le,ir)|0,U=U+Math.imul(Le,ht)|0,M=M+Math.imul(de,sr)|0,T=T+Math.imul(de,pt)|0,T=T+Math.imul(we,sr)|0,U=U+Math.imul(we,pt)|0,M=M+Math.imul(ee,zt)|0,T=T+Math.imul(ee,Vt)|0,T=T+Math.imul(ue,zt)|0,U=U+Math.imul(ue,Vt)|0;var J0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(J0>>>26)|0,J0&=67108863,M=Math.imul(ie,er),T=Math.imul(ie,ct),T=T+Math.imul(ye,er)|0,U=Math.imul(ye,ct),M=M+Math.imul(Q,tr)|0,T=T+Math.imul(Q,ft)|0,T=T+Math.imul(ne,tr)|0,U=U+Math.imul(ne,ft)|0,M=M+Math.imul(z,rr)|0,T=T+Math.imul(z,lt)|0,T=T+Math.imul(V,rr)|0,U=U+Math.imul(V,lt)|0,M=M+Math.imul(Xe,nr)|0,T=T+Math.imul(Xe,dt)|0,T=T+Math.imul(q,nr)|0,U=U+Math.imul(q,dt)|0,M=M+Math.imul(je,ir)|0,T=T+Math.imul(je,ht)|0,T=T+Math.imul(Re,ir)|0,U=U+Math.imul(Re,ht)|0,M=M+Math.imul(Fe,sr)|0,T=T+Math.imul(Fe,pt)|0,T=T+Math.imul(Le,sr)|0,U=U+Math.imul(Le,pt)|0,M=M+Math.imul(de,zt)|0,T=T+Math.imul(de,Vt)|0,T=T+Math.imul(we,zt)|0,U=U+Math.imul(we,Vt)|0;var Q0=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,M=Math.imul(ie,tr),T=Math.imul(ie,ft),T=T+Math.imul(ye,tr)|0,U=Math.imul(ye,ft),M=M+Math.imul(Q,rr)|0,T=T+Math.imul(Q,lt)|0,T=T+Math.imul(ne,rr)|0,U=U+Math.imul(ne,lt)|0,M=M+Math.imul(z,nr)|0,T=T+Math.imul(z,dt)|0,T=T+Math.imul(V,nr)|0,U=U+Math.imul(V,dt)|0,M=M+Math.imul(Xe,ir)|0,T=T+Math.imul(Xe,ht)|0,T=T+Math.imul(q,ir)|0,U=U+Math.imul(q,ht)|0,M=M+Math.imul(je,sr)|0,T=T+Math.imul(je,pt)|0,T=T+Math.imul(Re,sr)|0,U=U+Math.imul(Re,pt)|0,M=M+Math.imul(Fe,zt)|0,T=T+Math.imul(Fe,Vt)|0,T=T+Math.imul(Le,zt)|0,U=U+Math.imul(Le,Vt)|0;var ef=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(ef>>>26)|0,ef&=67108863,M=Math.imul(ie,rr),T=Math.imul(ie,lt),T=T+Math.imul(ye,rr)|0,U=Math.imul(ye,lt),M=M+Math.imul(Q,nr)|0,T=T+Math.imul(Q,dt)|0,T=T+Math.imul(ne,nr)|0,U=U+Math.imul(ne,dt)|0,M=M+Math.imul(z,ir)|0,T=T+Math.imul(z,ht)|0,T=T+Math.imul(V,ir)|0,U=U+Math.imul(V,ht)|0,M=M+Math.imul(Xe,sr)|0,T=T+Math.imul(Xe,pt)|0,T=T+Math.imul(q,sr)|0,U=U+Math.imul(q,pt)|0,M=M+Math.imul(je,zt)|0,T=T+Math.imul(je,Vt)|0,T=T+Math.imul(Re,zt)|0,U=U+Math.imul(Re,Vt)|0;var tf=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(tf>>>26)|0,tf&=67108863,M=Math.imul(ie,nr),T=Math.imul(ie,dt),T=T+Math.imul(ye,nr)|0,U=Math.imul(ye,dt),M=M+Math.imul(Q,ir)|0,T=T+Math.imul(Q,ht)|0,T=T+Math.imul(ne,ir)|0,U=U+Math.imul(ne,ht)|0,M=M+Math.imul(z,sr)|0,T=T+Math.imul(z,pt)|0,T=T+Math.imul(V,sr)|0,U=U+Math.imul(V,pt)|0,M=M+Math.imul(Xe,zt)|0,T=T+Math.imul(Xe,Vt)|0,T=T+Math.imul(q,zt)|0,U=U+Math.imul(q,Vt)|0;var rf=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(rf>>>26)|0,rf&=67108863,M=Math.imul(ie,ir),T=Math.imul(ie,ht),T=T+Math.imul(ye,ir)|0,U=Math.imul(ye,ht),M=M+Math.imul(Q,sr)|0,T=T+Math.imul(Q,pt)|0,T=T+Math.imul(ne,sr)|0,U=U+Math.imul(ne,pt)|0,M=M+Math.imul(z,zt)|0,T=T+Math.imul(z,Vt)|0,T=T+Math.imul(V,zt)|0,U=U+Math.imul(V,Vt)|0;var nf=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(nf>>>26)|0,nf&=67108863,M=Math.imul(ie,sr),T=Math.imul(ie,pt),T=T+Math.imul(ye,sr)|0,U=Math.imul(ye,pt),M=M+Math.imul(Q,zt)|0,T=T+Math.imul(Q,Vt)|0,T=T+Math.imul(ne,zt)|0,U=U+Math.imul(ne,Vt)|0;var S6=(O+M|0)+((T&8191)<<13)|0;O=(U+(T>>>13)|0)+(S6>>>26)|0,S6&=67108863,M=Math.imul(ie,zt),T=Math.imul(ie,Vt),T=T+Math.imul(ye,zt)|0,U=Math.imul(ye,Vt);var _6=(O+M|0)+((T&8191)<<13)|0;return O=(U+(T>>>13)|0)+(_6>>>26)|0,_6&=67108863,R[0]=$0,R[1]=q0,R[2]=j0,R[3]=K0,R[4]=z0,R[5]=V0,R[6]=G0,R[7]=W0,R[8]=Y0,R[9]=X0,R[10]=Z0,R[11]=J0,R[12]=Q0,R[13]=ef,R[14]=tf,R[15]=rf,R[16]=nf,R[17]=S6,R[18]=_6,O!==0&&(R[19]=O,v.length++),v};Math.imul||(m=p);function w(A,b,g){g.negative=b.negative^A.negative,g.length=A.length+b.length;for(var v=0,E=0,C=0;C<g.length-1;C++){var R=E;E=0;for(var O=v&67108863,M=Math.min(C,b.length-1),T=Math.max(0,C-A.length+1);T<=M;T++){var U=C-T,Y=A.words[U]|0,te=b.words[T]|0,J=Y*te,ce=J&67108863;R=R+(J/67108864|0)|0,ce=ce+O|0,O=ce&67108863,R=R+(ce>>>26)|0,E+=R>>>26,R&=67108863}g.words[C]=O,v=R,R=E}return v!==0?g.words[C]=v:g.length--,g.strip()}function x(A,b,g){var v=new _;return v.mulp(A,b,g)}o.prototype.mulTo=function(b,g){var v,E=this.length+b.length;return this.length===10&&b.length===10?v=m(this,b,g):E<63?v=p(this,b,g):E<1024?v=w(this,b,g):v=x(this,b,g),v};function _(A,b){this.x=A,this.y=b}_.prototype.makeRBT=function(b){for(var g=new Array(b),v=o.prototype._countBits(b)-1,E=0;E<b;E++)g[E]=this.revBin(E,v,b);return g},_.prototype.revBin=function(b,g,v){if(b===0||b===v-1)return b;for(var E=0,C=0;C<g;C++)E|=(b&1)<<g-C-1,b>>=1;return E},_.prototype.permute=function(b,g,v,E,C,R){for(var O=0;O<R;O++)E[O]=g[b[O]],C[O]=v[b[O]]},_.prototype.transform=function(b,g,v,E,C,R){this.permute(R,b,g,v,E,C);for(var O=1;O<C;O<<=1)for(var M=O<<1,T=Math.cos(2*Math.PI/M),U=Math.sin(2*Math.PI/M),Y=0;Y<C;Y+=M)for(var te=T,J=U,ce=0;ce<O;ce++){var se=v[Y+ce],j=E[Y+ce],Z=v[Y+ce+O],ee=E[Y+ce+O],ue=te*Z-J*ee;ee=te*ee+J*Z,Z=ue,v[Y+ce]=se+Z,E[Y+ce]=j+ee,v[Y+ce+O]=se-Z,E[Y+ce+O]=j-ee,ce!==M&&(ue=T*te-U*J,J=T*J+U*te,te=ue)}},_.prototype.guessLen13b=function(b,g){var v=Math.max(g,b)|1,E=v&1,C=0;for(v=v/2|0;v;v=v>>>1)C++;return 1<<C+1+E},_.prototype.conjugate=function(b,g,v){if(!(v<=1))for(var E=0;E<v/2;E++){var C=b[E];b[E]=b[v-E-1],b[v-E-1]=C,C=g[E],g[E]=-g[v-E-1],g[v-E-1]=-C}},_.prototype.normalize13b=function(b,g){for(var v=0,E=0;E<g/2;E++){var C=Math.round(b[2*E+1]/g)*8192+Math.round(b[2*E]/g)+v;b[E]=C&67108863,C<67108864?v=0:v=C/67108864|0}return b},_.prototype.convert13b=function(b,g,v,E){for(var C=0,R=0;R<g;R++)C=C+(b[R]|0),v[2*R]=C&8191,C=C>>>13,v[2*R+1]=C&8191,C=C>>>13;for(R=2*g;R<E;++R)v[R]=0;s(C===0),s((C&-8192)===0)},_.prototype.stub=function(b){for(var g=new Array(b),v=0;v<b;v++)g[v]=0;return g},_.prototype.mulp=function(b,g,v){var E=2*this.guessLen13b(b.length,g.length),C=this.makeRBT(E),R=this.stub(E),O=new Array(E),M=new Array(E),T=new Array(E),U=new Array(E),Y=new Array(E),te=new Array(E),J=v.words;J.length=E,this.convert13b(b.words,b.length,O,E),this.convert13b(g.words,g.length,U,E),this.transform(O,R,M,T,E,C),this.transform(U,R,Y,te,E,C);for(var ce=0;ce<E;ce++){var se=M[ce]*Y[ce]-T[ce]*te[ce];T[ce]=M[ce]*te[ce]+T[ce]*Y[ce],M[ce]=se}return this.conjugate(M,T,E),this.transform(M,T,J,R,E,C),this.conjugate(J,R,E),this.normalize13b(J,E),v.negative=b.negative^g.negative,v.length=b.length+g.length,v.strip()},o.prototype.mul=function(b){var g=new o(null);return g.words=new Array(this.length+b.length),this.mulTo(b,g)},o.prototype.mulf=function(b){var g=new o(null);return g.words=new Array(this.length+b.length),x(this,b,g)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){s(typeof b=="number"),s(b<67108864);for(var g=0,v=0;v<this.length;v++){var E=(this.words[v]|0)*b,C=(E&67108863)+(g&67108863);g>>=26,g+=E/67108864|0,g+=C>>>26,this.words[v]=C&67108863}return g!==0&&(this.words[v]=g,this.length++),this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var g=d(b);if(g.length===0)return new o(1);for(var v=this,E=0;E<g.length&&g[E]===0;E++,v=v.sqr());if(++E<g.length)for(var C=v.sqr();E<g.length;E++,C=C.sqr())g[E]!==0&&(v=v.mul(C));return v},o.prototype.iushln=function(b){s(typeof b=="number"&&b>=0);var g=b%26,v=(b-g)/26,E=67108863>>>26-g<<26-g,C;if(g!==0){var R=0;for(C=0;C<this.length;C++){var O=this.words[C]&E,M=(this.words[C]|0)-O<<g;this.words[C]=M|R,R=O>>>26-g}R&&(this.words[C]=R,this.length++)}if(v!==0){for(C=this.length-1;C>=0;C--)this.words[C+v]=this.words[C];for(C=0;C<v;C++)this.words[C]=0;this.length+=v}return this.strip()},o.prototype.ishln=function(b){return s(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,g,v){s(typeof b=="number"&&b>=0);var E;g?E=(g-g%26)/26:E=0;var C=b%26,R=Math.min((b-C)/26,this.length),O=67108863^67108863>>>C<<C,M=v;if(E-=R,E=Math.max(0,E),M){for(var T=0;T<R;T++)M.words[T]=this.words[T];M.length=R}if(R!==0)if(this.length>R)for(this.length-=R,T=0;T<this.length;T++)this.words[T]=this.words[T+R];else this.words[0]=0,this.length=1;var U=0;for(T=this.length-1;T>=0&&(U!==0||T>=E);T--){var Y=this.words[T]|0;this.words[T]=U<<26-C|Y>>>C,U=Y&O}return M&&U!==0&&(M.words[M.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(b,g,v){return s(this.negative===0),this.iushrn(b,g,v)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){s(typeof b=="number"&&b>=0);var g=b%26,v=(b-g)/26,E=1<<g;if(this.length<=v)return!1;var C=this.words[v];return!!(C&E)},o.prototype.imaskn=function(b){s(typeof b=="number"&&b>=0);var g=b%26,v=(b-g)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(g!==0&&v++,this.length=Math.min(v,this.length),g!==0){var E=67108863^67108863>>>g<<g;this.words[this.length-1]&=E}return this.strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return s(typeof b=="number"),s(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(b){if(s(typeof b=="number"),s(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,g,v){var E=b.length+v,C;this._expand(E);var R,O=0;for(C=0;C<b.length;C++){R=(this.words[C+v]|0)+O;var M=(b.words[C]|0)*g;R-=M&67108863,O=(R>>26)-(M/67108864|0),this.words[C+v]=R&67108863}for(;C<this.length-v;C++)R=(this.words[C+v]|0)+O,O=R>>26,this.words[C+v]=R&67108863;if(O===0)return this.strip();for(s(O===-1),O=0,C=0;C<this.length;C++)R=-(this.words[C]|0)+O,O=R>>26,this.words[C]=R&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(b,g){var v=this.length-b.length,E=this.clone(),C=b,R=C.words[C.length-1]|0,O=this._countBits(R);v=26-O,v!==0&&(C=C.ushln(v),E.iushln(v),R=C.words[C.length-1]|0);var M=E.length-C.length,T;if(g!=="mod"){T=new o(null),T.length=M+1,T.words=new Array(T.length);for(var U=0;U<T.length;U++)T.words[U]=0}var Y=E.clone()._ishlnsubmul(C,1,M);Y.negative===0&&(E=Y,T&&(T.words[M]=1));for(var te=M-1;te>=0;te--){var J=(E.words[C.length+te]|0)*67108864+(E.words[C.length+te-1]|0);for(J=Math.min(J/R|0,67108863),E._ishlnsubmul(C,J,te);E.negative!==0;)J--,E.negative=0,E._ishlnsubmul(C,1,te),E.isZero()||(E.negative^=1);T&&(T.words[te]=J)}return T&&T.strip(),E.strip(),g!=="div"&&v!==0&&E.iushrn(v),{div:T||null,mod:E}},o.prototype.divmod=function(b,g,v){if(s(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var E,C,R;return this.negative!==0&&b.negative===0?(R=this.neg().divmod(b,g),g!=="mod"&&(E=R.div.neg()),g!=="div"&&(C=R.mod.neg(),v&&C.negative!==0&&C.iadd(b)),{div:E,mod:C}):this.negative===0&&b.negative!==0?(R=this.divmod(b.neg(),g),g!=="mod"&&(E=R.div.neg()),{div:E,mod:R.mod}):(this.negative&b.negative)!==0?(R=this.neg().divmod(b.neg(),g),g!=="div"&&(C=R.mod.neg(),v&&C.negative!==0&&C.isub(b)),{div:R.div,mod:C}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?g==="div"?{div:this.divn(b.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modn(b.words[0]))}:this._wordDiv(b,g)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var g=this.divmod(b);if(g.mod.isZero())return g.div;var v=g.div.negative!==0?g.mod.isub(b):g.mod,E=b.ushrn(1),C=b.andln(1),R=v.cmp(E);return R<0||C===1&&R===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(b){s(b<=67108863);for(var g=67108864%b,v=0,E=this.length-1;E>=0;E--)v=(g*v+(this.words[E]|0))%b;return v},o.prototype.idivn=function(b){s(b<=67108863);for(var g=0,v=this.length-1;v>=0;v--){var E=(this.words[v]|0)+g*67108864;this.words[v]=E/b|0,g=E%b}return this.strip()},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){s(b.negative===0),s(!b.isZero());var g=this,v=b.clone();g.negative!==0?g=g.umod(b):g=g.clone();for(var E=new o(1),C=new o(0),R=new o(0),O=new o(1),M=0;g.isEven()&&v.isEven();)g.iushrn(1),v.iushrn(1),++M;for(var T=v.clone(),U=g.clone();!g.isZero();){for(var Y=0,te=1;(g.words[0]&te)===0&&Y<26;++Y,te<<=1);if(Y>0)for(g.iushrn(Y);Y-- >0;)(E.isOdd()||C.isOdd())&&(E.iadd(T),C.isub(U)),E.iushrn(1),C.iushrn(1);for(var J=0,ce=1;(v.words[0]&ce)===0&&J<26;++J,ce<<=1);if(J>0)for(v.iushrn(J);J-- >0;)(R.isOdd()||O.isOdd())&&(R.iadd(T),O.isub(U)),R.iushrn(1),O.iushrn(1);g.cmp(v)>=0?(g.isub(v),E.isub(R),C.isub(O)):(v.isub(g),R.isub(E),O.isub(C))}return{a:R,b:O,gcd:v.iushln(M)}},o.prototype._invmp=function(b){s(b.negative===0),s(!b.isZero());var g=this,v=b.clone();g.negative!==0?g=g.umod(b):g=g.clone();for(var E=new o(1),C=new o(0),R=v.clone();g.cmpn(1)>0&&v.cmpn(1)>0;){for(var O=0,M=1;(g.words[0]&M)===0&&O<26;++O,M<<=1);if(O>0)for(g.iushrn(O);O-- >0;)E.isOdd()&&E.iadd(R),E.iushrn(1);for(var T=0,U=1;(v.words[0]&U)===0&&T<26;++T,U<<=1);if(T>0)for(v.iushrn(T);T-- >0;)C.isOdd()&&C.iadd(R),C.iushrn(1);g.cmp(v)>=0?(g.isub(v),E.isub(C)):(v.isub(g),C.isub(E))}var Y;return g.cmpn(1)===0?Y=E:Y=C,Y.cmpn(0)<0&&Y.iadd(b),Y},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var g=this.clone(),v=b.clone();g.negative=0,v.negative=0;for(var E=0;g.isEven()&&v.isEven();E++)g.iushrn(1),v.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;v.isEven();)v.iushrn(1);var C=g.cmp(v);if(C<0){var R=g;g=v,v=R}else if(C===0||v.cmpn(1)===0)break;g.isub(v)}while(!0);return v.iushln(E)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){s(typeof b=="number");var g=b%26,v=(b-g)/26,E=1<<g;if(this.length<=v)return this._expand(v+1),this.words[v]|=E,this;for(var C=E,R=v;C!==0&&R<this.length;R++){var O=this.words[R]|0;O+=C,C=O>>>26,O&=67108863,this.words[R]=O}return C!==0&&(this.words[R]=C,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var g=b<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var v;if(this.length>1)v=1;else{g&&(b=-b),s(b<=67108863,"Number is too big");var E=this.words[0]|0;v=E===b?0:E<b?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var g=this.ucmp(b);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var g=0,v=this.length-1;v>=0;v--){var E=this.words[v]|0,C=b.words[v]|0;if(E!==C){E<C?g=-1:E>C&&(g=1);break}}return g},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new L(b)},o.prototype.toRed=function(b){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return s(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return s(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var y={k256:null,p224:null,p192:null,p25519:null};function S(A,b){this.name=A,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}S.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},S.prototype.ireduce=function(b){var g=b,v;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),v=g.bitLength();while(v>this.n);var E=v<this.n?-1:g.ucmp(this.p);return E===0?(g.words[0]=0,g.length=1):E>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},S.prototype.split=function(b,g){b.iushrn(this.n,0,g)},S.prototype.imulK=function(b){return b.imul(this.k)};function F(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(F,S),F.prototype.split=function(b,g){for(var v=4194303,E=Math.min(b.length,9),C=0;C<E;C++)g.words[C]=b.words[C];if(g.length=E,b.length<=9){b.words[0]=0,b.length=1;return}var R=b.words[9];for(g.words[g.length++]=R&v,C=10;C<b.length;C++){var O=b.words[C]|0;b.words[C-10]=(O&v)<<4|R>>>22,R=O}R>>>=22,b.words[C-10]=R,R===0&&b.length>10?b.length-=10:b.length-=9},F.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var g=0,v=0;v<b.length;v++){var E=b.words[v]|0;g+=E*977,b.words[v]=g&67108863,g=E*64+(g/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function N(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(N,S);function H(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(H,S);function D(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(D,S),D.prototype.imulK=function(b){for(var g=0,v=0;v<b.length;v++){var E=(b.words[v]|0)*19+g,C=E&67108863;E>>>=26,b.words[v]=C,g=E}return g!==0&&(b.words[b.length++]=g),b},o._prime=function(b){if(y[b])return y[b];var g;if(b==="k256")g=new F;else if(b==="p224")g=new N;else if(b==="p192")g=new H;else if(b==="p25519")g=new D;else throw new Error("Unknown prime "+b);return y[b]=g,g};function L(A){if(typeof A=="string"){var b=o._prime(A);this.m=b.p,this.prime=b}else s(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}L.prototype._verify1=function(b){s(b.negative===0,"red works only with positives"),s(b.red,"red works only with red numbers")},L.prototype._verify2=function(b,g){s((b.negative|g.negative)===0,"red works only with positives"),s(b.red&&b.red===g.red,"red works only with red numbers")},L.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},L.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},L.prototype.add=function(b,g){this._verify2(b,g);var v=b.add(g);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},L.prototype.iadd=function(b,g){this._verify2(b,g);var v=b.iadd(g);return v.cmp(this.m)>=0&&v.isub(this.m),v},L.prototype.sub=function(b,g){this._verify2(b,g);var v=b.sub(g);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},L.prototype.isub=function(b,g){this._verify2(b,g);var v=b.isub(g);return v.cmpn(0)<0&&v.iadd(this.m),v},L.prototype.shl=function(b,g){return this._verify1(b),this.imod(b.ushln(g))},L.prototype.imul=function(b,g){return this._verify2(b,g),this.imod(b.imul(g))},L.prototype.mul=function(b,g){return this._verify2(b,g),this.imod(b.mul(g))},L.prototype.isqr=function(b){return this.imul(b,b.clone())},L.prototype.sqr=function(b){return this.mul(b,b)},L.prototype.sqrt=function(b){if(b.isZero())return b.clone();var g=this.m.andln(3);if(s(g%2===1),g===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(b,v)}for(var E=this.m.subn(1),C=0;!E.isZero()&&E.andln(1)===0;)C++,E.iushrn(1);s(!E.isZero());var R=new o(1).toRed(this),O=R.redNeg(),M=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new o(2*T*T).toRed(this);this.pow(T,M).cmp(O)!==0;)T.redIAdd(O);for(var U=this.pow(T,E),Y=this.pow(b,E.addn(1).iushrn(1)),te=this.pow(b,E),J=C;te.cmp(R)!==0;){for(var ce=te,se=0;ce.cmp(R)!==0;se++)ce=ce.redSqr();s(se<J);var j=this.pow(U,new o(1).iushln(J-se-1));Y=Y.redMul(j),U=j.redSqr(),te=te.redMul(U),J=se}return Y},L.prototype.invm=function(b){var g=b._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},L.prototype.pow=function(b,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return b.clone();var v=4,E=new Array(1<<v);E[0]=new o(1).toRed(this),E[1]=b;for(var C=2;C<E.length;C++)E[C]=this.mul(E[C-1],b);var R=E[0],O=0,M=0,T=g.bitLength()%26;for(T===0&&(T=26),C=g.length-1;C>=0;C--){for(var U=g.words[C],Y=T-1;Y>=0;Y--){var te=U>>Y&1;if(R!==E[0]&&(R=this.sqr(R)),te===0&&O===0){M=0;continue}O<<=1,O|=te,M++,!(M!==v&&(C!==0||Y!==0))&&(R=this.mul(R,E[O]),M=0,O=0)}T=26}return R},L.prototype.convertTo=function(b){var g=b.umod(this.m);return g===b?g.clone():g},L.prototype.convertFrom=function(b){var g=b.clone();return g.red=null,g},o.mont=function(b){return new P(b)};function P(A){L.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(P,L),P.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},P.prototype.convertFrom=function(b){var g=this.imod(b.mul(this.rinv));return g.red=null,g},P.prototype.imul=function(b,g){if(b.isZero()||g.isZero())return b.words[0]=0,b.length=1,b;var v=b.imul(g),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=v.isub(E).iushrn(this.shift),R=C;return C.cmp(this.m)>=0?R=C.isub(this.m):C.cmpn(0)<0&&(R=C.iadd(this.m)),R._forceRed(this)},P.prototype.mul=function(b,g){if(b.isZero()||g.isZero())return new o(0)._forceRed(this);var v=b.mul(g),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=v.isub(E).iushrn(this.shift),R=C;return C.cmp(this.m)>=0?R=C.isub(this.m):C.cmpn(0)<0&&(R=C.iadd(this.m)),R._forceRed(this)},P.prototype.invm=function(b){var g=this.imod(b._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,this)});Ge("6gAsx",function(t,e){var r=wr.Buffer,n=W("kooOK"),i=W("kBBbb");t.exports={checkState:function(s,u){if(!s)throw new n.InvalidState(u)},checkArgument:function(s,u,o,a){if(!s)throw new n.InvalidArgument(u,o,a)},checkArgumentType:function(s,u,o){if(o=o||"(unknown name)",i.isString(u)){if(u==="Buffer"){if(!r.isBuffer(s))throw new n.InvalidArgumentType(s,u,o)}else if(typeof s!==u)throw new n.InvalidArgumentType(s,u,o)}else if(!(s instanceof u))throw new n.InvalidArgumentType(s,u.name,o)}}});Ge("kooOK",function(t,e){"use strict";var r=W("kBBbb");function n(l,f){return l.replace("{0}",f[0]).replace("{1}",f[1]).replace("{2}",f[2])}var i=function(l,f){var c=function(){if(r.isString(f.message))this.message=n(f.message,arguments);else if(r.isFunction(f.message))this.message=f.message.apply(null,arguments);else throw new Error("Invalid error definition for "+f.name);this.stack=this.message+`
`+new Error().stack};return c.prototype=Object.create(l.prototype),c.prototype.name=l.prototype.name+f.name,l[f.name]=c,f.errors&&s(c,f.errors),c},s=function(l,f){r.each(f,function(c){i(l,c)})},u=function(l,f){return s(l,f),l},o={};o.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack},o.Error.prototype=Object.create(Error.prototype),o.Error.prototype.name="bsv.Error";var a=W("hDuMS");u(o.Error,a),t.exports=o.Error,t.exports.extend=function(l){return i(o.Error,l)}});Ge("kBBbb",function(t,e){"use strict";var r={};r.isArray=n=>Array.isArray(n),r.isNumber=n=>typeof n=="number",r.isObject=n=>n&&typeof n=="object",r.isString=n=>typeof n=="string",r.isUndefined=n=>typeof n>"u",r.isFunction=n=>typeof n=="function",r.isNull=n=>n===null,r.isDate=n=>n instanceof Date,r.extend=(n,i)=>Object.assign(n,i),r.noop=()=>{},r.every=(n,i)=>n.every(i||(s=>s)),r.map=(n,i)=>Array.from(n).map(i||(s=>s)),r.includes=(n,i)=>n.includes(i),r.each=(n,i)=>n.forEach(i),r.clone=n=>Object.assign({},n),r.pick=(n,i)=>{let s={};return i.forEach(u=>{typeof n[u]<"u"&&(s[u]=n[u])}),s},r.values=n=>Object.values(n),r.filter=(n,i)=>n.filter(i),r.reduce=(n,i,s)=>n.reduce(i,s),r.without=(n,i)=>n.filter(s=>s!==i),r.shuffle=n=>{let i=n.slice(0);for(let s=i.length-1;s>0;s--){let u=Math.floor(Math.random()*(s+1));[i[s],i[u]]=[i[u],i[s]]}return i},r.difference=(n,i)=>n.filter(s=>!i.includes(s)),r.findIndex=(n,i)=>n.findIndex(i),r.some=(n,i)=>n.some(i),r.range=n=>[...Array(n).keys()],r.isPositiveNumber=n=>n<126,t.exports=r});Ge("hDuMS",function(t,e){"use strict";var r="https://docs.moneybutton.com/";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+r+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"MissingInput",message:"Invalid inputIndex."}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"MissingOutput",message:"Output not found"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"},{name:"TransactionAlreadySealed",message:"Cannot update sealed transaction"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"},{name:"InvalidOpcode",message:'Invalid Opcode: got "{0}"'}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]},{name:"ECIES",message:"Internal Error on bsv-ecies Module {0}",errors:[{name:"DecryptionError",message:"Invalid Message: {0}"},{name:"UnsupportAlgorithm",message:"Unsupport Algorithm: {0}"}]},{name:"Mnemonic",message:"Internal Error on bsv-mnemonic module {0}",errors:[{name:"InvalidEntropy",message:"Entropy length must be an even multiple of 11 bits: {0}"},{name:"UnknownWordlist",message:"Could not detect the used word list: {0}"},{name:"InvalidMnemonic",message:"Mnemonic string is invalid: {0}"}]}]});Ge("kmMTb",function(t,e){var r=wr.Buffer,n=W("dIoYd"),i=W("f0gTO"),s=W("gIXub"),u=W("arkeG"),o=W("7X5Fe"),a=W("bTTXN"),l=W("kBBbb"),f=W("6gAsx"),c=function h(d){if(!(this instanceof h))return new h(d);d&&this.set(d)};c.prototype.set=function(h){return this.hashbuf=h.hashbuf||this.hashbuf,this.endian=h.endian||this.endian,this.privkey=h.privkey||this.privkey,this.pubkey=h.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=h.sig||this.sig,this.k=h.k||this.k,this.verified=h.verified||this.verified,this},c.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},c.prototype.calci=function(){for(var h=0;h<4;h++){this.sig.i=h;var d;try{d=this.toPublicKey()}catch(p){console.error(p);continue}if(d.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},c.fromString=function(h){var d=JSON.parse(h);return new c(d)},c.prototype.randomK=function(){var h=i.getN(),d;do d=n.fromBuffer(o.getRandomBuffer(32));while(!(d.lt(h)&&d.gt(n.Zero)));return this.k=d,this},c.prototype.deterministicK=function(h){l.isUndefined(h)&&(h=0);var d=r.alloc(32);d.fill(1);var p=r.alloc(32);p.fill(0);var m=this.privkey.bn.toBuffer({size:32}),w=this.endian==="little"?r.from(this.hashbuf).reverse():this.hashbuf;p=a.sha256hmac(r.concat([d,r.from([0]),m,w]),p),d=a.sha256hmac(d,p),p=a.sha256hmac(r.concat([d,r.from([1]),m,w]),p),d=a.sha256hmac(d,p),d=a.sha256hmac(d,p);for(var x=n.fromBuffer(d),_=i.getN(),y=0;y<h||!(x.lt(_)&&x.gt(n.Zero));y++)p=a.sha256hmac(r.concat([d,r.from([0])]),p),d=a.sha256hmac(d,p),d=a.sha256hmac(d,p),x=n.fromBuffer(d);return this.k=x,this},c.prototype.toPublicKey=function(){var h=this.sig.i;f.checkArgument(h===0||h===1||h===2||h===3,new Error("i must be equal to 0, 1, 2, or 3"));var d=n.fromBuffer(this.hashbuf),p=this.sig.r,m=this.sig.s,w=h&1,x=h>>1,_=i.getN(),y=i.getG(),S=x?p.add(_):p,F=i.fromX(w,S),N=F.mul(_);if(!N.isInfinity())throw new Error("nR is not a valid curve point");var H=d.neg().umod(_),D=p.invm(_),L=F.mul(m).add(y.mul(H)).mul(D),P=u.fromPoint(L,this.sig.compressed);return P},c.prototype.sigError=function(){if(!r.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var h=this.sig.r,d=this.sig.s;if(!(h.gt(n.Zero)&&h.lt(i.getN()))||!(d.gt(n.Zero)&&d.lt(i.getN())))return"r and s not in range";var p=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),m=i.getN(),w=d.invm(m),x=w.mul(p).umod(m),_=w.mul(h).umod(m),y=i.getG().mulAdd(x,this.pubkey.point,_);return y.isInfinity()?"p is infinity":y.getX().umod(m).cmp(h)!==0?"Invalid signature":!1},c.toLowS=function(h){return h.gt(n.fromBuffer(r.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(h=i.getN().sub(h)),h},c.prototype._findSignature=function(h,d){var p=i.getN(),m=i.getG(),w=0,x,_,y,S;do(!this.k||w>0)&&this.deterministicK(w),w++,x=this.k,_=m.mul(x),y=new n(1).mul(_.x.umod(p)),S=x.invm(p).mul(d.add(h.mul(y))).umod(p);while(y.cmp(n.Zero)<=0||S.cmp(n.Zero)<=0);return S=c.toLowS(S),{s:S,r:y}},c.prototype.sign=function(){var h=this.hashbuf,d=this.privkey,p=d.bn;f.checkState(h&&d&&p,new Error("invalid parameters")),f.checkState(r.isBuffer(h)&&h.length===32,new Error("hashbuf must be a 32 byte buffer"));var m=n.fromBuffer(h,this.endian?{endian:this.endian}:void 0),w=this._findSignature(p,m);return w.compressed=this.pubkey.compressed,this.sig=new s(w),this},c.prototype.signRandomK=function(){return this.randomK(),this.sign()},c.prototype.toString=function(){var h={};return this.hashbuf&&(h.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(h.privkey=this.privkey.toString()),this.pubkey&&(h.pubkey=this.pubkey.toString()),this.sig&&(h.sig=this.sig.toString()),this.k&&(h.k=this.k.toString()),JSON.stringify(h)},c.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},c.sign=function(h,d,p){return c().set({hashbuf:h,endian:p,privkey:d}).sign().sig},c.signWithCalcI=function(h,d,p){return c().set({hashbuf:h,endian:p,privkey:d}).sign().calci().sig},c.signRandomK=function(h,d,p){return c().set({hashbuf:h,endian:p,privkey:d}).signRandomK().sig},c.verify=function(h,d,p,m){return c().set({hashbuf:h,endian:m,sig:d,pubkey:p}).verify().verified},t.exports=c});Ge("f0gTO",function(t,e){var r=wr.Buffer,n=W("dIoYd"),i=qce.ec,s=new i("secp256k1"),u=s.curve.point.bind(s.curve),o=s.curve.pointFromX.bind(s.curve),a=function(f,c,h){try{var d=u(f,c,h)}catch{throw new Error("Invalid Point")}return d.validate(),d};a.prototype=Object.getPrototypeOf(s.curve.point()),a.fromX=function(f,c){try{var h=o(c,f)}catch{throw new Error("Invalid X")}return h.validate(),h},a.getG=function(){return s.curve.g},a.getN=function(){return new n(s.curve.n.toArray())},a.prototype._getX||(a.prototype._getX=a.prototype.getX),a.prototype.getX=function(){return new n(this._getX().toArray())},a.prototype._getY||(a.prototype._getY=a.prototype.getY),a.prototype.getY=function(){return new n(this._getY().toArray())},a.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var f;try{f=o(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(f.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(a.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},a.pointToCompressed=function(f){var c=f.getX().toBuffer({size:32}),h=f.getY().toBuffer({size:32}),d,p=h[h.length-1]%2;return p?d=r.from([3]):d=r.from([2]),r.concat([d,c])},a.pointFromCompressed=function(l){if(l.length!==33)throw new Error("invalid buffer length");let f=l[0],c;if(f===3)c=!0;else if(f===2)c=!1;else throw new Error("invalid value of compressed prefix");let h=l.slice(1,33),d=n.fromBuffer(h);return a.fromX(c,d)},a.prototype.toBuffer=function(){return a.pointToCompressed(this)},a.prototype.toHex=function(){return this.toBuffer().toString("hex")},a.fromBuffer=function(l){return a.pointFromCompressed(l)},a.fromHex=function(l){return a.fromBuffer(r.from(l,"hex"))},t.exports=a});Ge("gIXub",function(t,e){var r=wr.Buffer,n=W("dIoYd"),i=W("kBBbb"),s=W("6gAsx"),u=W("gk75r"),o=function a(l,f){if(!(this instanceof a))return new a(l,f);if(l instanceof n)this.set({r:l,s:f});else if(l){var c=l;this.set(c)}};o.prototype.set=function(a){return this.r=a.r||this.r||void 0,this.s=a.s||this.s||void 0,this.i=typeof a.i<"u"?a.i:this.i,this.compressed=typeof a.compressed<"u"?a.compressed:this.compressed,this.nhashtype=a.nhashtype||this.nhashtype||void 0,this},o.fromCompact=function(a){s.checkArgument(r.isBuffer(a),"Argument is expected to be a Buffer");var l=new o,f=!0,c=a.slice(0,1)[0]-27-4;c<0&&(f=!1,c=c+4);var h=a.slice(1,33),d=a.slice(33,65);return s.checkArgument(c===0||c===1||c===2||c===3,new Error("i must be 0, 1, 2, or 3")),s.checkArgument(h.length===32,new Error("r must be 32 bytes")),s.checkArgument(d.length===32,new Error("s must be 32 bytes")),l.compressed=f,l.i=c,l.r=n.fromBuffer(h),l.s=n.fromBuffer(d),l},o.fromDER=o.fromBuffer=function(a,l){var f=o.parseDER(a,l),c=new o;return c.r=f.r,c.s=f.s,c},o.fromTxFormat=function(a){var l=a.readUInt8(a.length-1),f=a.slice(0,a.length-1),c=o.fromDER(f,!1);return c.nhashtype=l,c},o.fromString=function(a){var l=r.from(a,"hex");return o.fromDER(l)},o.parseDER=function(a,l){s.checkArgument(r.isBuffer(a),new Error("DER formatted signature should be a buffer")),i.isUndefined(l)&&(l=!0);var f=a[0];s.checkArgument(f===48,new Error("Header byte should be 0x30"));var c=a[1],h=a.slice(2).length;s.checkArgument(!l||c===h,new Error("Length byte should length of what follows")),c=c<h?c:h;var d=a[2];s.checkArgument(d===2,new Error("Integer byte for r should be 0x02"));var p=a[3],m=a.slice(4,4+p),w=n.fromBuffer(m),x=a[4]===0;s.checkArgument(p===m.length,new Error("Length of r incorrect"));var _=a[4+p+0];s.checkArgument(_===2,new Error("Integer byte for s should be 0x02"));var y=a[4+p+1],S=a.slice(4+p+2,4+p+2+y),F=n.fromBuffer(S),N=a[4+p+2+2]===0;s.checkArgument(y===S.length,new Error("Length of s incorrect"));var H=4+p+2+y;s.checkArgument(c===H-2,new Error("Length of signature incorrect"));var D={header:f,length:c,rheader:d,rlength:p,rneg:x,rbuf:m,r:w,sheader:_,slength:y,sneg:N,sbuf:S,s:F};return D},o.prototype.toCompact=function(a,l){if(a=typeof a=="number"?a:this.i,l=typeof l=="boolean"?l:this.compressed,!(a===0||a===1||a===2||a===3))throw new Error("i must be equal to 0, 1, 2, or 3");var f=a+27+4;l===!1&&(f=f-4);var c=r.from([f]),h=this.r.toBuffer({size:32}),d=this.s.toBuffer({size:32});return r.concat([c,h,d])},o.prototype.toBuffer=o.prototype.toDER=function(){var a=this.r.toBuffer(),l=this.s.toBuffer(),f=!!(a[0]&128),c=!!(l[0]&128),h=f?r.concat([r.from([0]),a]):a,d=c?r.concat([r.from([0]),l]):l,p=h.length,m=d.length,w=2+p+2+m,x=2,_=2,y=48,S=r.concat([r.from([y,w,x,p]),h,r.from([_,m]),d]);return S},o.prototype.toString=function(){var a=this.toDER();return a.toString("hex")},o.isTxDER=function(a){if(a.length<9||a.length>73||a[0]!==48||a[1]!==a.length-3)return!1;var l=a[3];if(5+l>=a.length)return!1;var f=a[5+l];if(l+f+7!==a.length)return!1;var c=a.slice(4);if(a[2]!==2||l===0||c[0]&128||l>1&&c[0]===0&&!(c[1]&128))return!1;var h=a.slice(6+l);return!(a[6+l-2]!==2||f===0||h[0]&128||f>1&&h[0]===0&&!(h[1]&128))},o.prototype.hasLowS=function(){return!(this.s.lt(new n(1))||this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))},o.prototype.hasDefinedHashtype=function(){if(!u.isNaturalNumber(this.nhashtype))return!1;var a=this.nhashtype&31;return!(a<o.SIGHASH_ALL||a>o.SIGHASH_SINGLE)},o.prototype.toTxFormat=function(){var a=this.toDER(),l=r.alloc(1);return l.writeUInt8(this.nhashtype,0),r.concat([a,l])},o.SIGHASH_ALL=1,o.SIGHASH_NONE=2,o.SIGHASH_SINGLE=3,o.SIGHASH_FORKID=64,o.SIGHASH_ANYONECANPAY=128,o.ALL=65,o.NONE=66,o.SINGLE=67,o.ANYONECANPAY_ALL=193,o.ANYONECANPAY_NONE=194,o.ANYONECANPAY_SINGLE=195,t.exports=o});Ge("gk75r",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=function(o){return n.isString(o)?/^[0-9a-fA-F]+$/.test(o):!1};t.exports={isValidJSON:function(o){var a;if(!n.isString(o))return!1;try{a=JSON.parse(o)}catch{return!1}return typeof a=="object"},isHexa:s,isHexaString:s,defineImmutable:function(o,a){return Object.keys(a).forEach(function(l){Object.defineProperty(o,l,{configurable:!1,enumerable:!0,value:a[l]})}),o},isNaturalNumber:function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o&&o>=0},integerAsBuffer:function(o){i.checkArgumentType(o,"number","integer");let a=r.allocUnsafe(4);return a.writeUInt32BE(o,0),a}}});Ge("arkeG",function(t,e){var r=wr.Buffer,n=W("dIoYd"),i=W("f0gTO"),s=W("bTTXN"),u=W("gk75r"),o=W("cyjag"),a=W("kBBbb"),l=W("6gAsx");function f(c,h){if(!(this instanceof f))return new f(c,h);if(l.checkArgument(c,"First argument is required, please include public key data."),c instanceof f)return c;h=h||{};var d=this._classifyArgs(c,h);return d.point.validate(),u.defineImmutable(this,{point:d.point,compressed:d.compressed,network:d.network||o.defaultNetwork}),this}f.prototype._classifyArgs=function(c,h){var d={compressed:a.isUndefined(h.compressed)||h.compressed};if(c instanceof i)d.point=c;else if(c.x&&c.y)d=f._transformObject(c);else if(typeof c=="string")d=f._transformDER(r.from(c,"hex"));else if(f._isBuffer(c))d=f._transformDER(c);else if(f._isPrivateKey(c))d=f._transformPrivateKey(c);else throw new TypeError("First argument is an unrecognized data format.");return d.network||(d.network=a.isUndefined(h.network)?void 0:o.get(h.network)),d},f._isPrivateKey=function(c){var h=W("7smYJ");return c instanceof h},f._isBuffer=function(c){return c instanceof r||c instanceof Uint8Array},f._transformPrivateKey=function(c){l.checkArgument(f._isPrivateKey(c),"Must be an instance of PrivateKey");var h={};return h.point=i.getG().mul(c.bn),h.compressed=c.compressed,h.network=c.network,h},f._transformDER=function(c,h){l.checkArgument(f._isBuffer(c),"Must be a buffer of DER encoded public key");var d={};h=a.isUndefined(h)?!0:h;var p,m,w,x;if(c[0]===4||!h&&(c[0]===6||c[0]===7)){if(w=c.slice(1,33),x=c.slice(33,65),w.length!==32||x.length!==32||c.length!==65)throw new TypeError("Length of x and y must be 32 bytes");p=new n(w),m=new n(x),d.point=new i(p,m),d.compressed=!1}else if(c[0]===3)w=c.slice(1),p=new n(w),d=f._transformX(!0,p),d.compressed=!0;else if(c[0]===2)w=c.slice(1),p=new n(w),d=f._transformX(!1,p),d.compressed=!0;else throw new TypeError("Invalid DER format public key");return d},f._transformX=function(c,h){l.checkArgument(typeof c=="boolean","Must specify whether y is odd or not (true or false)");var d={};return d.point=i.fromX(c,h),d},f._transformObject=function(c){var h=new n(c.x,"hex"),d=new n(c.y,"hex"),p=new i(h,d);return new f(p,{compressed:c.compressed})},f.fromPrivateKey=function(c){l.checkArgument(f._isPrivateKey(c),"Must be an instance of PrivateKey");var h=f._transformPrivateKey(c);return new f(h.point,{compressed:h.compressed,network:h.network})},f.fromDER=f.fromBuffer=function(c,h){l.checkArgument(f._isBuffer(c),"Must be a buffer of DER encoded public key");var d=f._transformDER(c,h);return new f(d.point,{compressed:d.compressed})},f.fromPoint=function(c,h){return l.checkArgument(c instanceof i,"First argument must be an instance of Point."),new f(c,{compressed:h})},f.fromHex=f.fromString=function(c,h){var d=r.from(c,h||"hex"),p=f._transformDER(d);return new f(p.point,{compressed:p.compressed})},f.fromX=function(c,h){var d=f._transformX(c,h);return new f(d.point,{compressed:d.compressed})},f.getValidationError=function(c){var h;try{new f(c)}catch(d){h=d}return h},f.isValid=function(c){return!f.getValidationError(c)},f.prototype.toObject=f.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},f.prototype.toBuffer=f.prototype.toDER=function(){var c=this.point.getX(),h=this.point.getY(),d=c.toBuffer({size:32}),p=h.toBuffer({size:32}),m;if(this.compressed){var w=p[p.length-1]%2;return w?m=r.from([3]):m=r.from([2]),r.concat([m,d])}else return m=r.from([4]),r.concat([m,d,p])},f.prototype._getID=function(){return s.sha256ripemd160(this.toBuffer())},f.prototype.toAddress=function(c){var h=W("iSUUt");return h.fromPublicKey(this,c||this.network)},f.prototype.toString=f.prototype.toHex=function(){return this.toDER().toString("hex")},f.prototype.inspect=function(){return"<PublicKey: "+this.toHex()+(this.compressed?"":", uncompressed")+">"},t.exports=f});Ge("bTTXN",function(t,e){t.exports=W("8Asny")});Ge("8Asny",function(t,e){var r=wr.Buffer,n=W("6gAsx"),i=t.exports;i.sha1=function(s){return n.checkArgument(r.isBuffer(s)),r.from(R1.sha1().update(s).digest("hex"),"hex")},i.sha1.blocksize=512,i.sha256=function(s){return n.checkArgument(r.isBuffer(s)),r.from(R1.sha256().update(s).digest("hex"),"hex")},i.sha256.blocksize=512,i.sha256sha256=function(s){return n.checkArgument(r.isBuffer(s)),i.sha256(i.sha256(s))},i.ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),r.from(R1.ripemd160().update(s).digest("hex"),"hex")},i.sha256ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),i.ripemd160(i.sha256(s))},i.sha512=function(s){return n.checkArgument(r.isBuffer(s)),r.from(R1.sha512().update(s).digest("hex"),"hex")},i.sha512.blocksize=1024,i.hmac=function(s,u,o){n.checkArgument(r.isBuffer(u)),n.checkArgument(r.isBuffer(o)),n.checkArgument(s.blocksize);var a=s.blocksize/8;if(o.length>a)o=s(o);else if(o<a){var l=r.alloc(a);l.fill(0),o.copy(l),o=l}var f=r.alloc(a);f.fill(92);var c=r.alloc(a);c.fill(54);for(var h=r.alloc(a),d=r.alloc(a),p=0;p<a;p++)h[p]=f[p]^o[p],d[p]=c[p]^o[p];return s(r.concat([h,s(r.concat([d,u]))]))},i.sha256hmac=function(s,u){return i.hmac(i.sha256,s,u)},i.sha512hmac=function(s,u){return i.hmac(i.sha512,s,u)}});Ge("cyjag",function(t,e){"use strict";var r=W("kBBbb"),n=W("gk75r"),i=[],s={};function u(){}u.prototype.toString=function(){return this.name};function o(v,E){if(~i.indexOf(v))return v;if(E){r.isArray(E)||(E=[E]);for(var C=0;C<i.length;C++){var R=i[C],O=r.pick(R,E),M=r.values(O);if(~M.indexOf(v))return R}return}return s[v]}function a(v){for(var E=[],C=0;C<v.length;C++)E.push(v.charCodeAt(C)&31);return E}function l(v){var E=new u;n.defineImmutable(E,{name:v.name,alias:v.alias,pubkeyhash:v.pubkeyhash,privatekey:v.privatekey,scripthash:v.scripthash,xpubkey:v.xpubkey,xprivkey:v.xprivkey});var C=v.indexBy||Object.keys(v);return v.cashAddrPrefix&&r.extend(E,{cashAddrPrefix:v.cashAddrPrefix,cashAddrPrefixArray:a(v.cashAddrPrefix)}),v.networkMagic&&r.extend(E,{networkMagic:n.integerAsBuffer(v.networkMagic)}),v.port&&r.extend(E,{port:v.port}),v.dnsSeeds&&r.extend(E,{dnsSeeds:v.dnsSeeds}),i.push(E),f(E,C),E}function f(v,E){for(var C=0;C<E.length;C++){var R=E[C],O=v[R];!r.isUndefined(O)&&!r.isObject(O)&&(s[O]=v)}}function c(v,E){for(var C=0;C<E.length;C++){var R=E[C];s[R]===v&&delete s[R]}}function h(v){for(var E=0;E<i.length;E++)i[E]===v&&i.splice(E,1);c(v,Object.keys(s))}var d={livenet:3823236072,testnet:4108710900,regtest:3669344250,stn:4224632057},p=["seed.bitcoinsv.org","seed.bitcoinunlimited.info"],m={PORT:18333,NETWORK_MAGIC:d.testnet,DNS_SEEDS:p,PREFIX:"testnet",CASHADDRPREFIX:"bchtest"},w={PORT:18444,NETWORK_MAGIC:d.regtest,DNS_SEEDS:[],PREFIX:"regtest",CASHADDRPREFIX:"bchreg"},x={PORT:9333,NETWORK_MAGIC:d.stn,DNS_SEEDS:["stn-seed.bitcoinsv.io"],PREFIX:"stn",CASHADDRPREFIX:"bsvstn"},_={name:"livenet",alias:"mainnet",prefix:"bitcoin",cashAddrPrefix:"bitcoincash",pubkeyhash:0,privatekey:128,scripthash:5,xpubkey:76067358,xprivkey:76066276,networkMagic:d.livenet,port:8333,dnsSeeds:p},y={name:"testnet",prefix:m.PREFIX,cashAddrPrefix:m.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:m.NETWORK_MAGIC},S={name:"regtest",prefix:w.PREFIX,cashAddrPrefix:w.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:w.NETWORK_MAGIC,port:w.PORT,dnsSeeds:[],indexBy:["port","name","cashAddrPrefix","networkMagic"]},F={name:"stn",prefix:x.PREFIX,cashAddrPrefix:x.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:x.NETWORK_MAGIC,indexBy:["port","name","cashAddrPrefix","networkMagic"]};l(y),l(F),l(S),l(_);var N=o("livenet"),H=o("regtest"),D=o("testnet"),L=o("stn");Object.defineProperty(D,"port",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?w.PORT:this.stnEnabled?x.PORT:m.PORT}}),Object.defineProperty(D,"networkMagic",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?n.integerAsBuffer(w.NETWORK_MAGIC):this.stnEnabled?n.integerAsBuffer(x.NETWORK_MAGIC):n.integerAsBuffer(m.NETWORK_MAGIC)}}),Object.defineProperty(D,"dnsSeeds",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?w.DNS_SEEDS:this.stnEnabled?x.DNS_SEEDS:m.DNS_SEEDS}}),Object.defineProperty(D,"cashAddrPrefix",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?w.CASHADDRPREFIX:this.stnEnabled?x.CASHADDRPREFIX:m.CASHADDRPREFIX}}),Object.defineProperty(D,"cashAddrPrefixArray",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?a(w.CASHADDRPREFIX):this.stnEnabled?x.cashAddrPrefixToArray(x.CASHADDRPREFIX):a(m.CASHADDRPREFIX)}});function P(){D.regtestEnabled=!0}function A(){D.regtestEnabled=!1}function b(){D.stnEnabled=!0}function g(){D.stnEnabled=!1}t.exports={add:l,remove:h,defaultNetwork:N,livenet:N,mainnet:N,testnet:D,regtest:H,stn:L,get:o,enableRegtest:P,disableRegtest:A,enableStn:b,disableStn:g}});Ge("7smYJ",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("iSUUt"),s=W("j7ODq"),u=W("dIoYd"),o=W("gk75r"),a=W("cyjag"),l=W("f0gTO"),f=W("arkeG"),c=W("7X5Fe"),h=W("6gAsx");function d(p,m){if(!(this instanceof d))return new d(p,m);if(p instanceof d)return p;var w=this._classifyArguments(p,m);if(!w.bn||w.bn.cmp(new u(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!w.bn.lt(l.getN()))throw new TypeError("Number must be less than N");if(typeof w.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return o.defineImmutable(this,{bn:w.bn,compressed:w.compressed,network:w.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}d.prototype._classifyArguments=function(p,m){var w={compressed:!0,network:m?a.get(m):a.defaultNetwork};if(n.isUndefined(p)||n.isNull(p))w.bn=d._getRandomBN();else if(p instanceof u)w.bn=p;else if(p instanceof r||p instanceof Uint8Array)w=d._transformBuffer(p,m);else if(p.bn&&p.network)w=d._transformObject(p);else if(!m&&a.get(p))w.bn=d._getRandomBN(),w.network=a.get(p);else if(typeof p=="string")o.isHexa(p)?w.bn=new u(r.from(p,"hex")):w=d._transformWIF(p,m);else throw new TypeError("First argument is an unrecognized data type.");return w},d._getRandomBN=function(){var p,m;do{var w=c.getRandomBuffer(32);m=u.fromBuffer(w),p=m.lt(l.getN())}while(!p);return m},d._transformBuffer=function(p,m){var w={};if(p.length===32)return d._transformBNBuffer(p,m);if(w.network=a.get(p[0],"privatekey"),!w.network)throw new Error("Invalid network");if(m&&w.network!==a.get(m))throw new TypeError("Private key network mismatch");if(p.length===34&&p[33]===1)w.compressed=!0;else if(p.length===33)w.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return w.bn=u.fromBuffer(p.slice(1,33)),w},d._transformBNBuffer=function(p,m){var w={};return w.network=a.get(m)||a.defaultNetwork,w.bn=u.fromBuffer(p),w.compressed=!1,w},d._transformWIF=function(p,m){return d._transformBuffer(s.decode(p),m)},d.fromBuffer=function(p,m){return new d(p,m)},d.fromHex=function(p,m){return d.fromBuffer(r.from(p,"hex"),m)},d._transformObject=function(p){var m=new u(p.bn,"hex"),w=a.get(p.network);return{bn:m,network:w,compressed:p.compressed}},d.fromString=d.fromWIF=function(p){return h.checkArgument(n.isString(p),"First argument is expected to be a string."),new d(p)},d.fromObject=d.fromJSON=function(p){return h.checkArgument(n.isObject(p),"First argument is expected to be an object."),new d(p)},d.fromRandom=function(p){var m=d._getRandomBN();return new d(m,p)},d.getValidationError=function(p,m){var w;try{new d(p,m)}catch(x){w=x}return w},d.isValid=function(p,m){return p?!d.getValidationError(p,m):!1},d.prototype.toString=function(){return this.toWIF()},d.prototype.toWIF=function(){var p=this.network,m=this.compressed,w;return m?w=r.concat([r.from([p.privatekey]),this.bn.toBuffer({size:32}),r.from([1])]):w=r.concat([r.from([p.privatekey]),this.bn.toBuffer({size:32})]),s.encode(w)},d.prototype.toBigNumber=function(){return this.bn},d.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},d.prototype.toHex=function(){return this.toBuffer().toString("hex")},d.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=f.fromPrivateKey(this)),this._pubkey},d.prototype.toAddress=function(p){var m=this.toPublicKey();return i.fromPublicKey(m,p||this.network)},d.prototype.toObject=d.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},d.prototype.inspect=function(){var p=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toHex()+", network: "+this.network+p+">"},t.exports=d});Ge("iSUUt",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("kooOK"),u=W("j7ODq"),o=W("cyjag"),a=W("bTTXN"),l=W("gk75r"),f=W("arkeG");function c(h,d,p){if(!(this instanceof c))return new c(h,d,p);if(n.isArray(h)&&n.isNumber(d))return c.createMultisig(h,d,p);if(h instanceof c)return h;if(i.checkArgument(h,"First argument is required, please include address data.","guide/address.html"),d&&!o.get(d))throw new TypeError('Second argument must be "livenet", "testnet", or "regtest".');if(p&&p!==c.PayToPublicKeyHash&&p!==c.PayToScriptHash)throw new TypeError('Third argument must be "pubkeyhash" or "scripthash".');var m=this._classifyArguments(h,d,p);return m.network=m.network||o.get(d)||o.defaultNetwork,m.type=m.type||p||c.PayToPublicKeyHash,l.defineImmutable(this,{hashBuffer:m.hashBuffer,network:m.network,type:m.type}),this}c.prototype._classifyArguments=function(h,d,p){var m=W("hkiTH");if((h instanceof r||h instanceof Uint8Array)&&h.length===20)return c._transformHash(h);if((h instanceof r||h instanceof Uint8Array)&&h.length===21)return c._transformBuffer(h,d,p);if(h instanceof f)return c._transformPublicKey(h);if(h instanceof m)return c._transformScript(h,d);if(typeof h=="string")return c._transformString(h,d,p);if(n.isObject(h))return c._transformObject(h);throw new TypeError("First argument is an unrecognized data format.")},c.PayToPublicKeyHash="pubkeyhash",c.PayToScriptHash="scripthash",c._transformHash=function(h){var d={};if(!(h instanceof r)&&!(h instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(h.length!==20)throw new TypeError("Address hashbuffers must be exactly 20 bytes.");return d.hashBuffer=h,d},c._transformObject=function(h){return i.checkArgument(h.hash||h.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(h.type,"Must provide a `type` property"),{hashBuffer:h.hash?r.from(h.hash,"hex"):h.hashBuffer,network:o.get(h.network)||o.defaultNetwork,type:h.type}},c._classifyFromVersion=function(h){var d={},p=o.get(h[0],"pubkeyhash"),m=o.get(h[0],"scripthash");return p?(d.network=p,d.type=c.PayToPublicKeyHash):m&&(d.network=m,d.type=c.PayToScriptHash),d},c._transformBuffer=function(h,d,p){var m={};if(!(h instanceof r)&&!(h instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(h.length!==21)throw new TypeError("Address buffers must be exactly 21 bytes.");var w=o.get(d),x=c._classifyFromVersion(h);if(d&&!w)throw new TypeError("Unknown network");if(!x.network||w&&w!==x.network)throw new TypeError("Address has mismatched network type.");if(!x.type||p&&p!==x.type)throw new TypeError("Address has mismatched type.");return m.hashBuffer=h.slice(1),m.network=x.network,m.type=x.type,m},c._transformPublicKey=function(h){var d={};if(!(h instanceof f))throw new TypeError("Address must be an instance of PublicKey.");return d.hashBuffer=a.sha256ripemd160(h.toBuffer()),d.type=c.PayToPublicKeyHash,d},c._transformScript=function(h,d){var p=W("hkiTH");i.checkArgument(h instanceof p,"script must be a Script instance");var m=h.getAddressInfo(d);if(!m)throw new s.Script.CantDeriveAddress(h);return m},c.createMultisig=function(h,d,p){var m=W("hkiTH");return p=p||h[0].network||o.defaultNetwork,c.payingTo(m.buildMultisigOut(h,d),p)},c._transformString=function(h,d,p){if(typeof h!="string")throw new TypeError("data parameter supplied is not a string.");if(h.length<27)throw new Error("Invalid Address string provided");h=h.trim();var m=o.get(d);if(d&&!m)throw new TypeError("Unknown network");var w=u.decode(h);return c._transformBuffer(w,d,p)},c.fromPublicKey=function(h,d){var p=c._transformPublicKey(h);return d=d||o.defaultNetwork,new c(p.hashBuffer,d,p.type)},c.fromPrivateKey=function(h,d){let p=f.fromPrivateKey(h);return d=d||h.network||o.defaultNetwork,c.fromPublicKey(p,d)},c.fromPublicKeyHash=function(h,d){var p=c._transformHash(h);return new c(p.hashBuffer,d,c.PayToPublicKeyHash)},c.fromScriptHash=function(h,d){i.checkArgument(h,"hash parameter is required");var p=c._transformHash(h);return new c(p.hashBuffer,d,c.PayToScriptHash)},c.payingTo=function(h,d){var p=W("hkiTH");return i.checkArgument(h,"script is required"),i.checkArgument(h instanceof p,"script must be instance of Script"),c.fromScriptHash(a.sha256ripemd160(h.toBuffer()),d)},c.fromScript=function(h,d){var p=W("hkiTH");i.checkArgument(h instanceof p,"script must be a Script instance");var m=c._transformScript(h,d);return new c(m.hashBuffer,d,m.type)},c.fromBuffer=function(h,d,p){var m=c._transformBuffer(h,d,p);return new c(m.hashBuffer,m.network,m.type)},c.fromHex=function(h,d,p){return c.fromBuffer(r.from(h,"hex"),d,p)},c.fromString=function(h,d,p){var m=c._transformString(h,d,p);return new c(m.hashBuffer,m.network,m.type)},c.fromObject=function(d){i.checkState(l.isHexa(d.hash),'Unexpected hash property, "'+d.hash+'", expected to be hex.');var p=r.from(d.hash,"hex");return new c(p,d.network,d.type)},c.getValidationError=function(h,d,p){var m;try{new c(h,d,p)}catch(w){m=w}return m},c.isValid=function(h,d,p){return!c.getValidationError(h,d,p)},c.prototype.isPayToPublicKeyHash=function(){return this.type===c.PayToPublicKeyHash},c.prototype.isPayToScriptHash=function(){return this.type===c.PayToScriptHash},c.prototype.toBuffer=function(){var h=r.from([this.network[this.type]]),d=r.concat([h,this.hashBuffer]);return d},c.prototype.toHex=function(){return this.toBuffer().toString("hex")},c.prototype.toObject=c.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},c.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},c.prototype.toString=function(){return u.encode(this.toBuffer())},t.exports=c});Ge("j7ODq",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("jG967"),s=W("bTTXN"),u=s.sha256sha256,o=function a(l){if(!(this instanceof a))return new a(l);if(r.isBuffer(l)){var f=l;this.fromBuffer(f)}else if(typeof l=="string"){var c=l;this.fromString(c)}};o.prototype.set=function(a){return this.buf=a.buf||this.buf||void 0,this},o.validChecksum=function(l,f){return n.isString(l)&&(l=r.from(i.decode(l))),n.isString(f)&&(f=r.from(i.decode(f))),f||(f=l.slice(-4),l=l.slice(0,-4)),o.checksum(l).toString("hex")===f.toString("hex")},o.decode=function(a){if(typeof a!="string")throw new Error("Input must be a string");var l=r.from(i.decode(a));if(l.length<4)throw new Error("Input string too short");var f=l.slice(0,-4),c=l.slice(-4),h=u(f),d=h.slice(0,4);if(c.toString("hex")!==d.toString("hex"))throw new Error("Checksum mismatch");return f},o.checksum=function(a){return u(a).slice(0,4)},o.encode=function(a){if(!r.isBuffer(a))throw new Error("Input must be a buffer");var l=r.alloc(a.length+4),f=o.checksum(a);return a.copy(l),f.copy(l,a.length),i.encode(l)},o.prototype.fromBuffer=function(a){return this.buf=a,this},o.fromBuffer=function(a){return new o().fromBuffer(a)},o.fromHex=function(a){return o.fromBuffer(r.from(a,"hex"))},o.prototype.fromString=function(a){var l=o.decode(a);return this.buf=l,this},o.fromString=function(a){var l=o.decode(a);return new i(l)},o.prototype.toBuffer=function(){return this.buf},o.prototype.toHex=function(){return this.toBuffer().toString("hex")},o.prototype.toString=function(){return o.encode(this.buf)},t.exports=o});Ge("jG967",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),s=function u(o){if(!(this instanceof u))return new u(o);if(r.isBuffer(o)){var a=o;this.fromBuffer(a)}else if(typeof o=="string"){var l=o;this.fromString(l)}};s.validCharacters=function(o){return r.isBuffer(o)&&(o=o.toString()),n.every(n.map(o,function(a){return n.includes(i,a)}))},s.prototype.set=function(u){return this.buf=u.buf||this.buf||void 0,this},s.encode=function(u){if(!r.isBuffer(u))throw new Error("Input should be a buffer");return qD.encode(u)},s.decode=function(u){if(typeof u!="string")throw new Error("Input should be a string");return r.from(qD.decode(u))},s.prototype.fromBuffer=function(u){return this.buf=u,this},s.fromBuffer=function(u){return new s().fromBuffer(u)},s.fromHex=function(u){return s.fromBuffer(r.from(u,"hex"))},s.prototype.fromString=function(u){var o=s.decode(u);return this.buf=o,this},s.fromString=function(u){return new s().fromString(u)},s.prototype.toBuffer=function(){return this.buf},s.prototype.toHex=function(){return this.toBuffer().toString("hex")},s.prototype.toString=function(){return s.encode(this.buf)},t.exports=s});Ge("hkiTH",function(t,e){t.exports=W("eIR83"),t.exports.Interpreter=W("g4xmW"),t.exports.Stack=W("bSS4t")});Ge("eIR83",function(t,e){var r=wr.Buffer,n=W("iSUUt"),i=W("2AZ1V"),s=W("bTTXN"),u=W("bpasi"),o=W("arkeG"),a=W("gIXub"),l=W("cyjag"),f=W("6gAsx"),c=W("kBBbb"),h=W("kooOK"),d=W("gk75r"),p=W("apNYJ"),m=W("62MER"),w=W("kndCV");let x=new WeakMap;var _=function y(S){if(!(this instanceof y))return new y(S);if(this.buffer=r.from([]),r.isBuffer(S))return y.fromBuffer(S);if(S instanceof n)return y.fromAddress(S);if(S instanceof y)return y.fromBuffer(S.toBuffer());if(c.isString(S))return y.fromString(S);if(c.isObject(S)&&c.isArray(S.chunks))return y.fromChunks(S.chunks);if(c.isObject(S)&&r.isBuffer(S.buffer))return y.fromBuffer(S.buffer)};_.prototype.set=function(y){if(f.checkArgument(c.isObject(y)),y.chunks&&c.isArray(y.chunks)){var S=_.fromChunks(y.chunks);return this.buffer=S.buffer,this}return f.checkArgument(r.isBuffer(y.buffer)),this.buffer=y.buffer,this},_.fromBuffer=function(y){f.checkArgument(r.isBuffer(y));var S=new _;return S.buffer=y,S},_.fromChunks=function(y){var S=new _;let F=new i;for(let N=0;N<y.length;N++){let H=y[N];F.writeUInt8(H.opcodenum),H.buf&&(H.opcodenum<u.OP_PUSHDATA1?F.write(H.buf):H.opcodenum===u.OP_PUSHDATA1?(F.writeUInt8(H.len),F.write(H.buf)):H.opcodenum===u.OP_PUSHDATA2?(F.writeUInt16LE(H.len),F.write(H.buf)):H.opcodenum===u.OP_PUSHDATA4&&(F.writeUInt32LE(H.len),F.write(H.buf)))}return S.buffer=F.toBuffer(),S},_.prototype.toBuffer=function(){return this.buffer},_.fromASM=function(y){return _.fromBuffer(m(y))},_.fromHex=function(y){return new _(r.from(y,"hex"))},_.fromString=function(y){if(d.isHexa(y)||y.length===0)return new _(r.from(y,"hex"));for(var S=[],F=y.split(" "),N=0;N<F.length;){var H=F[N],D=u(H),L=D.toNumber();if(c.isUndefined(L))if(L=parseInt(H),L>0&&L<u.OP_PUSHDATA1){var P=r.from(F[N+1].slice(2),"hex");if(P.length!==L)throw new Error("Invalid script buf len: "+JSON.stringify(y));S.push({buf:r.from(F[N+1].slice(2),"hex"),len:L,opcodenum:L}),N=N+2}else throw new Error("Invalid script: "+JSON.stringify(y));else if(L===u.OP_PUSHDATA1||L===u.OP_PUSHDATA2||L===u.OP_PUSHDATA4){if(F[N+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");S.push({buf:r.from(F[N+2].slice(2),"hex"),len:parseInt(F[N+1]),opcodenum:L}),N=N+3}else S.push({opcodenum:L}),N=N+1}return _.fromChunks(S)},_.prototype.slice=function(y,S){return this.buffer.slice(y,S)},Object.defineProperty(_.prototype,"chunks",{get(){if(x.has(this))return x.get(this);let y=p(this.buffer);return x.set(this,y),y}}),Object.defineProperty(_.prototype,"length",{get(){return this.buffer.length}}),_.prototype._chunkToString=function(y,S){var F=y.opcodenum,N=S==="asm",H="";if(y.buf)!N&&(F===u.OP_PUSHDATA1||F===u.OP_PUSHDATA2||F===u.OP_PUSHDATA4)&&(H=H+" "+u(F).toString()),y.len>0&&(N?H=H+" "+y.buf.toString("hex"):H=H+" "+y.len+" 0x"+y.buf.toString("hex"));else if(typeof u.reverseMap[F]<"u")N?F===0?H=H+" 0":F===79?H=H+" -1":H=H+" "+u(F).toString():H=H+" "+u(F).toString();else{var D=F.toString(16);D.length%2!==0&&(D="0"+D),N?H=H+" "+D:H=H+" 0x"+D}return H},_.prototype.toASM=function(){for(var y="",S=this.chunks,F=0;F<S.length;F++){var N=this.chunks[F];y+=this._chunkToString(N,"asm")}return y.substr(1)},_.prototype.toString=function(){for(var y="",S=0;S<this.chunks.length;S++){var F=this.chunks[S];y+=this._chunkToString(F)}return y.substr(1)},_.prototype.toHex=function(){return w(this.buffer)},_.prototype.inspect=function(){return"<Script: "+this.toString()+">"},_.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===u.OP_DUP&&this.chunks[1].opcodenum===u.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===u.OP_EQUALVERIFY&&this.chunks[4].opcodenum===u.OP_CHECKSIG)},_.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var y=this.chunks[0].buf,S=this.chunks[1].buf;if(y&&y.length&&y[0]===48&&S&&S.length){var F=S[0];if((F===4||F===6||F===7)&&S.length===65)return!0;if((F===3||F===2)&&S.length===33)return!0}}return!1},_.prototype.getPublicKey=function(){return f.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},_.prototype.getPublicKeyHash=function(){return f.checkState(this.isPublicKeyHashOut(),"Can't retrieve PublicKeyHash from a non-PKH output"),this.chunks[2].buf},_.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===u.OP_CHECKSIG){var y=this.chunks[0].buf,S=y[0],F=!1;if(((S===4||S===6||S===7)&&y.length===65||(S===3||S===2)&&y.length===33)&&(F=!0),F)return o.isValid(y)}return!1},_.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var y=this.chunks[0].buf;if(y&&y.length&&y[0]===48)return!0}return!1},_.prototype.isScriptHashOut=function(){var y=this.toBuffer();return y.length===23&&y[0]===u.OP_HASH160&&y[1]===20&&y[y.length-1]===u.OP_EQUAL},_.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var y=this.chunks[this.chunks.length-1],S=y.buf;if(!S)return!1;var F;try{F=_.fromBuffer(S)}catch(H){if(H instanceof h.Script.InvalidBuffer)return!1;throw H}var N=F.classify();return N!==_.types.UNKNOWN},_.prototype.isMultisigOut=function(){return this.chunks.length>3&&u.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(y){return y.buf&&r.isBuffer(y.buf)})&&u.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===u.OP_CHECKMULTISIG},_.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(y){return y.buf&&r.isBuffer(y.buf)&&a.isTxDER(y.buf)})},_.prototype.isDataOut=function(){var y=this.buffer.length>=1&&this.buffer[0]===u.OP_RETURN;if(!y)return!1;var S=this.buffer.slice(1),F=new _({buffer:S});return F.isPushOnly()},_.prototype.isSafeDataOut=function(){if(this.buffer.length<2||this.buffer[0]!==u.OP_FALSE)return!1;var y=this.buffer.slice(1),S=new _({buffer:y});return S.isDataOut()},_.prototype.getData=function(){if(this.isSafeDataOut()){var y=this.chunks.slice(2),S=y.map(F=>F.buf);return S}if(this.isDataOut()||this.isScriptHashOut())return c.isUndefined(this.chunks[1])?r.alloc(0):r.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return r.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},_.prototype.isPushOnly=function(){return c.every(this.chunks,function(y){return y.opcodenum<=u.OP_16||y.opcodenum===u.OP_PUSHDATA1||y.opcodenum===u.OP_PUSHDATA2||y.opcodenum===u.OP_PUSHDATA4})},_.types={},_.types.UNKNOWN="Unknown",_.types.PUBKEY_OUT="Pay to public key",_.types.PUBKEY_IN="Spend from public key",_.types.PUBKEYHASH_OUT="Pay to public key hash",_.types.PUBKEYHASH_IN="Spend from public key hash",_.types.SCRIPTHASH_OUT="Pay to script hash",_.types.SCRIPTHASH_IN="Spend from script hash",_.types.MULTISIG_OUT="Pay to multisig",_.types.MULTISIG_IN="Spend from multisig",_.types.DATA_OUT="Data push",_.types.SAFE_DATA_OUT="Safe data push",_.OP_RETURN_STANDARD_SIZE=220,_.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var y=this.classifyOutput();return y!==_.types.UNKNOWN?y:this.classifyInput()},_.outputIdentifiers={},_.outputIdentifiers.PUBKEY_OUT=_.prototype.isPublicKeyOut,_.outputIdentifiers.PUBKEYHASH_OUT=_.prototype.isPublicKeyHashOut,_.outputIdentifiers.MULTISIG_OUT=_.prototype.isMultisigOut,_.outputIdentifiers.SCRIPTHASH_OUT=_.prototype.isScriptHashOut,_.outputIdentifiers.DATA_OUT=_.prototype.isDataOut,_.outputIdentifiers.SAFE_DATA_OUT=_.prototype.isSafeDataOut,_.prototype.classifyOutput=function(){for(var y in _.outputIdentifiers)if(_.outputIdentifiers[y].bind(this)())return _.types[y];return _.types.UNKNOWN},_.inputIdentifiers={},_.inputIdentifiers.PUBKEY_IN=_.prototype.isPublicKeyIn,_.inputIdentifiers.PUBKEYHASH_IN=_.prototype.isPublicKeyHashIn,_.inputIdentifiers.MULTISIG_IN=_.prototype.isMultisigIn,_.inputIdentifiers.SCRIPTHASH_IN=_.prototype.isScriptHashIn,_.prototype.classifyInput=function(){for(var y in _.inputIdentifiers)if(_.inputIdentifiers[y].bind(this)())return _.types[y];return _.types.UNKNOWN},_.prototype.isStandard=function(){return this.classify()!==_.types.UNKNOWN},_.prototype.prepend=function(y){return this._addByType(y,!0),this},_.prototype.equals=function(y){if(f.checkState(y instanceof _,"Must provide another script"),this.buffer.length!==y.buffer.length)return!1;var S;for(S=0;S<this.buffer.length;S++)if(this.buffer[S]!==y.buffer[S])return!1;return!0},_.prototype.add=function(y){return this._addByType(y,!1),this},_.prototype._addByType=function(y,S){if(typeof y=="string")this._addOpcode(y,S);else if(typeof y=="number")this._addOpcode(y,S);else if(y instanceof u)this._addOpcode(y,S);else if(r.isBuffer(y))this._addBuffer(y,S);else if(y instanceof _)this._insertAtPosition(y.buffer,S);else if(typeof y=="object"){var F=_.fromChunks([y]);this._insertAtPosition(F.toBuffer(),S)}else throw new Error("Invalid script chunk")},_.prototype._insertAtPosition=function(y,S){var F=new i;S?(F.write(y),F.write(this.buffer)):(F.write(this.buffer),F.write(y)),this.buffer=F.toBuffer()},_.prototype._addOpcode=function(y,S){var F;if(typeof y=="number"?F=y:y instanceof u?F=y.toNumber():F=u(y).toNumber(),F>255)throw new h.Script.InvalidOpcode(F);return this._insertAtPosition(_.fromChunks([{opcodenum:F}]).toBuffer(),S),this},_.prototype._addBuffer=function(y,S){var F=new i,N,H=y.length;if(H===0)N=0,F.writeUInt8(N);else if(H>0&&H<u.OP_PUSHDATA1)N=H,F.writeUInt8(N),F.write(y);else if(H<Math.pow(2,8))N=u.OP_PUSHDATA1,F.writeUInt8(N),F.writeUInt8(H),F.write(y);else if(H<Math.pow(2,16))N=u.OP_PUSHDATA2,F.writeUInt8(N),F.writeUInt16LE(H),F.write(y);else if(H<Math.pow(2,32))N=u.OP_PUSHDATA4,F.writeUInt8(N),F.writeUInt32LE(H),F.write(y);else throw new Error("You can't push that much data");return this._insertAtPosition(F.toBuffer(),S),this},_.prototype.clone=function(){return _.fromBuffer(this.buffer.slice())},_.prototype.removeCodeseparators=function(){for(var y=[],S=0;S<this.chunks.length;S++)this.chunks[S].opcodenum!==u.OP_CODESEPARATOR&&y.push(this.chunks[S]);return x.delete(this),this.buffer=_.fromChunks(y).toBuffer(),this},_.prototype.subScript=function(y){for(var S=0,F=0;F<this.chunks.length;F++)if(this.chunks[F].opcodenum===u.OP_CODESEPARATOR){if(S===y)return _.fromChunks(this.chunks.slice(F+1));S++}return this},_.buildMultisigOut=function(y,S,F){f.checkArgument(S<=y.length,"Number of required signatures must be less than or equal to the number of public keys"),F=F||{};var N=new _;N.add(u.smallInt(S)),y=c.map(y,o);var H=y;F.noSorting||(H=y.map(P=>P.toString("hex")).sort().map(P=>new o(P)));for(var D=0;D<H.length;D++){var L=H[D];N.add(L.toBuffer())}return N.add(u.smallInt(y.length)),N.add(u.OP_CHECKMULTISIG),N},_.buildMultisigIn=function(y,S,F,N){f.checkArgument(c.isArray(y)),f.checkArgument(c.isNumber(S)),f.checkArgument(c.isArray(F)),N=N||{};var H=new _;return H.add(u.OP_0),c.each(F,function(D){f.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H},_.buildP2SHMultisigIn=function(y,S,F,N){f.checkArgument(c.isArray(y)),f.checkArgument(c.isNumber(S)),f.checkArgument(c.isArray(F)),N=N||{};var H=new _;return H.add(u.OP_0),c.each(F,function(D){f.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H.add((N.cachedMultisig||_.buildMultisigOut(y,S,N)).toBuffer()),H},_.buildPublicKeyHashOut=function(y){f.checkArgument(!c.isUndefined(y)),f.checkArgument(y instanceof o||y instanceof n||c.isString(y)),y instanceof o?y=y.toAddress():c.isString(y)&&(y=new n(y));var S=new _;return S.add(u.OP_DUP).add(u.OP_HASH160).add(y.hashBuffer).add(u.OP_EQUALVERIFY).add(u.OP_CHECKSIG),S._network=y.network,S},_.buildPublicKeyOut=function(y){f.checkArgument(y instanceof o);var S=new _;return S.add(y.toBuffer()).add(u.OP_CHECKSIG),S},_.buildDataOut=function(y,S){f.checkArgument(c.isUndefined(y)||c.isString(y)||c.isArray(y)||r.isBuffer(y));var F=y;c.isArray(F)||(F=[y]);var N=new _;N.add(u.OP_RETURN);for(let H of F)f.checkArgument(c.isUndefined(H)||c.isString(H)||r.isBuffer(H)),c.isString(H)&&(H=r.from(H,S)),c.isUndefined(H)||N.add(H);return N},_.buildSafeDataOut=function(y,S){var F=_.buildDataOut(y,S),N=new _;return N.add(u.OP_FALSE),N.add(F),N},_.buildScriptHashOut=function(y){f.checkArgument(y instanceof _||y instanceof n&&y.isPayToScriptHash());var S=new _;return S.add(u.OP_HASH160).add(y instanceof n?y.hashBuffer:s.sha256ripemd160(y.toBuffer())).add(u.OP_EQUAL),S._network=y._network||y.network,S},_.buildPublicKeyIn=function(y,S){f.checkArgument(y instanceof a||r.isBuffer(y)),f.checkArgument(c.isUndefined(S)||c.isNumber(S)),y instanceof a&&(y=y.toBuffer());var F=new _;return F.add(r.concat([y,r.from([(S||a.SIGHASH_ALL)&255])])),F},_.buildPublicKeyHashIn=function(y,S,F){f.checkArgument(S instanceof a||r.isBuffer(S)),f.checkArgument(c.isUndefined(F)||c.isNumber(F)),S instanceof a&&(S=S.toBuffer());var N=new _().add(r.concat([S,r.from([(F||a.SIGHASH_ALL)&255])])).add(new o(y).toBuffer());return N},_.empty=function(){return new _},_.prototype.toScriptHashOut=function(){return _.buildScriptHashOut(this)},_.fromAddress=function(y){if(y=n(y),y.isPayToScriptHash())return _.buildScriptHashOut(y);if(y.isPayToPublicKeyHash())return _.buildPublicKeyHashOut(y);throw new h.Script.UnrecognizedAddress(y)},_.prototype.getAddressInfo=function(y){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var S=this._getOutputAddressInfo();return S||this._getInputAddressInfo()},_.prototype._getOutputAddressInfo=function(){var y={};if(this.isScriptHashOut())y.hashBuffer=this.getData(),y.type=n.PayToScriptHash;else if(this.isPublicKeyHashOut())y.hashBuffer=this.getData(),y.type=n.PayToPublicKeyHash;else return!1;return y},_.prototype._getInputAddressInfo=function(){var y={};if(this.isPublicKeyHashIn())y.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),y.type=n.PayToPublicKeyHash;else if(this.isScriptHashIn())y.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),y.type=n.PayToScriptHash;else return!1;return y},_.prototype.toAddress=function(y){var S=this.getAddressInfo();return S?(S.network=l.get(y)||this._network||l.defaultNetwork,new n(S)):!1},_.prototype.findAndDelete=function(y){for(var S=y.toBuffer(),F=S.toString("hex"),N=this.chunks,H=0;H<N.length;H++){var D=_.fromChunks([N[H]]),L=D.toBuffer(),P=L.toString("hex");F===P&&(N.splice(H,1),this.buffer=_.fromChunks(N).toBuffer())}return this},_.prototype.checkMinimalPush=function(y){var S=this.chunks[y],F=S.buf,N=S.opcodenum;return F?F.length===0?N===u.OP_0:F.length===1&&F[0]>=1&&F[0]<=16?N===u.OP_1+(F[0]-1):F.length===1&&F[0]===129?N===u.OP_1NEGATE:F.length<=75?N===F.length:F.length<=255?N===u.OP_PUSHDATA1:F.length<=65535?N===u.OP_PUSHDATA2:!0:!0},_.prototype._decodeOP_N=function(y){if(y===u.OP_0)return 0;if(y>=u.OP_1&&y<=u.OP_16)return y-(u.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(y))},_.prototype.getSignatureOperationsCount=function(y){y=c.isUndefined(y)?!0:y;var S=this,F=0,N=u.OP_INVALIDOPCODE;return c.each(S.chunks,function(D){var L=D.opcodenum;L===u.OP_CHECKSIG||L===u.OP_CHECKSIGVERIFY?F++:(L===u.OP_CHECKMULTISIG||L===u.OP_CHECKMULTISIGVERIFY)&&(y&&N>=u.OP_1&&N<=u.OP_16?F+=S._decodeOP_N(N):F+=20),N=L}),F},t.exports=_});Ge("2AZ1V",function(t,e){var r=wr.Buffer,n=W("1gpKq"),i=W("8H5li"),s=W("cMUqj"),u=W("lHHTh"),o=W("dZClM");class a{constructor(f){f?this.set(f):(this.buffers=[],this.length=0)}write(f){return this.buffers.push(f),this.length+=f.length,this}set(f){return this.buffers=f.buffers||f.bufs||this.buffers||[],this.length=this.buffers.reduce(function(c,h){return c+h.length},0),this}concat(){return this.toBuffer()}toBuffer(){if(this.buffers.length===1)return r.from(this.buffers[0]);let f=new Uint8Array(this.length),c=0;return this.buffers.forEach(h=>{f.set(h,c),c+=h.length}),r.from(f)}writeReverse(f){return Nh(r.isBuffer(f)),this.write(r.from(f).reverse()),this}writeUInt16LE(f){return i(this,f),this}writeUInt16BE(f){var c=new a;return c.writeUInt16LE(f),this.writeReverse(c.toBuffer()),this}writeUInt32LE(f){return s(this,f),this}writeUInt32BE(f){var c=new a;return c.writeUInt32LE(f),this.writeReverse(c.toBuffer()),this}writeUInt8(f){return n(this,f),this}writeUInt64LEBN(f){var c=f.toBuffer({size:8});return this.writeReverse(c),this}writeUInt64BEBN(f){var c=new a;return c.writeUInt64LEBN(f),this.writeReverse(c.toBuffer()),this}writeVarintNum(f){return o(this,f),this}writeInt32LE(f){return u(this,f),this}static varintBufNum(f){var c=new a;return c.writeVarintNum(f),c.toBuffer()}writeVarintBN(f){var c=f.toNumber();if(c<253)n(this,c);else if(c<65536)n(this,253),i(this,c);else if(c<4294967296)n(this,254),s(this,c);else{var h=new a;h.writeUInt8(255),h.writeUInt64LEBN(f);var d=h.toBuffer();this.write(d)}return this}}t.exports=a});Ge("1gpKq",function(t,e){function r(n,i){if(i>255)throw new Error("number too large");let s=new Uint8Array(1);return s[0]=i,n.write(s)}t.exports=r});Ge("8H5li",function(t,e){function r(n,i){if(i>65535)throw new Error("number too large");let s=new Uint8Array(2);return s[0]=i%256,i=i>>8,s[1]=i%256,n.write(s)}t.exports=r});Ge("cMUqj",function(t,e){function r(n,i){if(i>4294967295)throw new Error("number too large");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Ge("lHHTh",function(t,e){function r(n,i){if(i<-2147483648||i>2147483647)throw new Error("Out of range. It must be >= -2147483648 and <= 2147483647.");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Ge("dZClM",function(t,e){function r(n,i){if(i>Number.MAX_SAFE_INTEGER)throw new Error("varint too large");if(i<=252)return n.write([i]);if(i<=65535)return n.write([253,i%256,Math.floor(i/256)]);if(i<=4294967295){let u=new Uint8Array(5);return u[0]=254,u[1]=i%256,i=Math.floor(i/256),u[2]=i%256,i=Math.floor(i/256),u[3]=i%256,i=Math.floor(i/256),u[4]=i,n.write(u)}let s=new Uint8Array(9);return s[0]=255,s[1]=i%256,i=Math.floor(i/256),s[2]=i%256,i=Math.floor(i/256),s[3]=i%256,i=Math.floor(i/256),s[4]=i%256,i=Math.floor(i/256),s[5]=i%256,i=Math.floor(i/256),s[6]=i%256,i=Math.floor(i/256),s[7]=i%256,i=Math.floor(i/256),s[8]=i,n.write(s)}t.exports=r});Ge("bpasi",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("gk75r");function u(a){if(!(this instanceof u))return new u(a);var l;if(n.isNumber(a))l=a;else if(n.isString(a))l=u.map[a];else throw new TypeError('Unrecognized num type: "'+typeof a+'" for Opcode');return s.defineImmutable(this,{num:l}),this}u.fromBuffer=function(a){return i.checkArgument(r.isBuffer(a)),new u(Number("0x"+a.toString("hex")))},u.fromNumber=function(a){return i.checkArgument(n.isNumber(a)),new u(a)},u.fromString=function(a){i.checkArgument(n.isString(a));var l=u.map[a];if(typeof l>"u")throw new TypeError("Invalid opcodestr");return new u(l)},u.prototype.toHex=function(){return this.num.toString(16)},u.prototype.toBuffer=function(){return r.from(this.toHex(),"hex")},u.prototype.toNumber=function(){return this.num},u.prototype.toString=function(){var a=u.reverseMap[this.num];if(typeof a>"u")throw new Error("Opcode does not have a string representation");return a},u.prototype.toSafeString=function(){var a=u.reverseMap[this.num];return typeof a>"u"?this.toHex():a},u.smallInt=function(a){return i.checkArgument(n.isNumber(a),"Invalid Argument: n should be number"),i.checkArgument(a>=0&&a<=16,"Invalid Argument: n must be between 0 and 16"),a===0?u("OP_0"):new u(u.map.OP_1+a-1)},u.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SPLIT:127,OP_NUM2BIN:128,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},u.reverseMap=[];for(var o in u.map)u.reverseMap[u.map[o]]=o;n.extend(u,u.map),u.isSmallIntOp=function(a){return a instanceof u&&(a=a.toNumber()),a===u.map.OP_0||a>=u.map.OP_1&&a<=u.map.OP_16},u.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=u});Ge("apNYJ",function(t,e){function r(n){let i=[],s=0,u=0;for(;s<n.length;){let o=n[s];s+=1,o===0?(u=o,i.push({opcodenum:o,len:u})):o<76?(u=o,i.push({opcodenum:o,buf:n.slice(s,s+o),len:u}),s+=o):o===76?(u=n[s],s+=1,i.push({opcodenum:o,buf:n.slice(s,s+u),len:u}),s+=u):o===77?(u=n[s]|n[s+1]<<8,s+=2,i.push({opcodenum:o,buf:n.slice(s,s+u),len:u}),s+=u):o===78?(u=n[s]+n[s+1]*256+n[s+2]*65536+n[s+3]*16777216,s+=4,i.push({opcodenum:o,buf:n.slice(s,s+u),len:u}),s+=u):i.push({opcodenum:o})}return i}t.exports=r});Ge("62MER",function(t,e){var r=W("5CDhN"),n=W("bpasi"),i=W("2AZ1V"),s=W("gVSXN");function u(o){let a=o.split(" "),l=new i;return a.forEach(f=>{if(f in n)l.write([n[f]]);else if(f==="0")l.write([n.OP_0]);else if(f==="-1")l.write([n.OP_1NEGATE]);else{let c=r(f);s(l,c)}}),l.toBuffer()}t.exports=u});Ge("5CDhN",function(t,e){var r=wr.Buffer,n=W("hAcaU");function i(s){if(typeof s!="string")throw new Error("not a string");if(s.startsWith("0x")&&(s=s.slice(2)),s.length%2===1&&(s="0"+s),!n(s))throw new Error("invalid hex string in script");if(typeof VARIANT>"u"||VARIANT==="browser"){let u=s.length/2,o=new Uint8Array(u),a=l=>l!==l;for(let l=0;l<u;++l){let f=parseInt(s.substr(l*2,2),16);if(a(f))throw new Error("bad hex char");o[l]=f}return o}else return r.from(s,"hex")}t.exports=i});Ge("hAcaU",function(t,e){let r=/^(?:[a-fA-F0-9][a-fA-F0-9])*$/;function n(i){return r.test(i)}t.exports=n});Ge("gVSXN",function(t,e){function r(n,i){if(i.length===0)n.write([0]);else if(i.length<=75)n.write([i.length]),n.write(i);else if(i.length<=255)n.write([76,i.length]),n.write(i);else if(i.length<=65535)n.write([77,i.length%256,i.length>>8]),n.write(i);else if(i.length<=4294967295){let s=new Uint8Array(5);s[0]=78;let u=i.length;s[1]=u%256,u=Math.floor(u/256),s[2]=u%256,u=Math.floor(u/256),s[3]=u%256,u=Math.floor(u/256),s[4]=u,n.write(s),n.write(i)}else throw new Error("data too large");return n}t.exports=r});Ge("kndCV",function(t,e){var r=wr.Buffer;let n=null;if(typeof VARIANT>"u"||VARIANT==="browser"){let i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];n=function(s){let u=s.length,o=new Array(u);for(let a=0;a<u;++a)o[a]=i[s[a]];return o.join("")}}else n=function(i){return i instanceof r?i.toString("hex"):r.from(i).toString("hex")};t.exports=n});Ge("g4xmW",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("eIR83"),s=W("bpasi"),u=W("dIoYd"),o=W("bTTXN"),a=W("gIXub"),l=W("arkeG"),f=W("bSS4t"),c=function d(p){if(!(this instanceof d))return new d(p);p?(this.initialize(),this.set(p)):this.initialize()};c.prototype.verify=function(d,p,m,w,x,_,y){var S=W("7pkU6");if(n.isUndefined(m)&&(m=new S),n.isUndefined(w)&&(w=0),n.isUndefined(x)&&(x=0),x&c.SCRIPT_ENABLE_SIGHASH_FORKID&&(x|=c.SCRIPT_VERIFY_STRICTENC,!_))throw new Error("internal error - need satoshisBN to verify FORKID transactions");this.set({script:d,tx:m,nin:w,flags:x,satoshisBN:_,sighashScript:y});var F;if((x&c.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!d.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate("scriptSig"))return!1;x&c.SCRIPT_VERIFY_P2SH&&(F=this.stack.copy());var N=this.stack;if(this.initialize(),this.set({script:p,stack:N,tx:m,nin:w,flags:x,satoshisBN:_,sighashScript:y}),!this.evaluate("scriptPubkey"))return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var H=this.stack.stacktop(-1);if(!c.castToBool(H))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;if(x&c.SCRIPT_VERIFY_P2SH&&p.isScriptHashOut()){if(!d.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(F.length===0)throw new Error("internal error - stack copy empty");var D=F.stacktop(-1),L=i.fromBuffer(D);if(F.pop(),this.initialize(),this.set({script:L,stack:F,tx:m,nin:w,flags:x,satoshisBN:_}),!this.evaluate())return!1;if(F.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!c.castToBool(F.stacktop(-1)))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1}return(x&c.SCRIPT_VERIFY_CLEANSTACK)!==0&&this.stack.length!==1?(this.errstr="SCRIPT_ERR_CLEANSTACK",!1):!0},t.exports=c,c.prototype.initialize=function(d){this.stack=new f([]),this.altstack=new f([]),this.pc=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.nonTopLevelReturnAfterGenesis=!1,this.returned=!1},c.prototype.set=function(d){this.script=d.script||this.script,this.tx=d.tx||this.tx,this.nin=typeof d.nin<"u"?d.nin:this.nin,this.satoshisBN=d.satoshisBN||this.satoshisBN,this.stack=d.stack||this.stack,this.altstack=d.altstack||this.altstack,this.pc=typeof d.pc<"u"?d.pc:this.pc,this.pbegincodehash=typeof d.pbegincodehash<"u"?d.pbegincodehash:this.pbegincodehash,this.nOpCount=typeof d.nOpCount<"u"?d.nOpCount:this.nOpCount,this.vfExec=d.vfExec||this.vfExec,this.errstr=d.errstr||this.errstr,this.flags=typeof d.flags<"u"?d.flags:this.flags,this.sighashScript=d.sighashScript||this.sighashScript},c.prototype.subscript=function(){return this.sighashScript?this.sighashScript.clone():i.fromChunks(this.script.chunks.slice(this.pbegincodehash))},c.getTrue=()=>r.from([1]),c.getFalse=()=>r.from([]),c.MAX_SCRIPT_ELEMENT_SIZE=520,c.MAXIMUM_ELEMENT_SIZE=4,c.LOCKTIME_THRESHOLD=5e8,c.LOCKTIME_THRESHOLD_BN=new u(c.LOCKTIME_THRESHOLD),c.SCRIPT_VERIFY_NONE=0,c.SCRIPT_VERIFY_P2SH=1,c.SCRIPT_VERIFY_STRICTENC=2,c.SCRIPT_VERIFY_DERSIG=4,c.SCRIPT_VERIFY_LOW_S=8,c.SCRIPT_VERIFY_NULLDUMMY=16,c.SCRIPT_VERIFY_SIGPUSHONLY=32,c.SCRIPT_VERIFY_MINIMALDATA=64,c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,c.SCRIPT_VERIFY_CLEANSTACK=256,c.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,c.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,c.SCRIPT_VERIFY_MINIMALIF=8192,c.SCRIPT_VERIFY_NULLFAIL=16384,c.SCRIPT_VERIFY_COMPRESSED_PUBKEYTYPE=32768,c.SCRIPT_ENABLE_SIGHASH_FORKID=65536,c.SCRIPT_ENABLE_REPLAY_PROTECTION=131072,c.SCRIPT_ENABLE_MONOLITH_OPCODES=262144,c.SCRIPT_ENABLE_MAGNETIC_OPCODES=524288,c.SEQUENCE_LOCKTIME_DISABLE_FLAG=-2147483648,c.SEQUENCE_LOCKTIME_TYPE_FLAG=4194304,c.SEQUENCE_LOCKTIME_MASK=65535,c.MAX_SCRIPT_SIZE=Number.MAX_SAFE_INTEGER,c.MAX_OPCODE_COUNT=Number.MAX_SAFE_INTEGER,c.DEFAULT_FLAGS=c.SCRIPT_ENABLE_MAGNETIC_OPCODES|c.SCRIPT_ENABLE_MONOLITH_OPCODES|c.SCRIPT_VERIFY_STRICTENC|c.SCRIPT_ENABLE_SIGHASH_FORKID|c.SCRIPT_VERIFY_LOW_S|c.SCRIPT_VERIFY_NULLFAIL|c.SCRIPT_VERIFY_DERSIG|c.SCRIPT_VERIFY_MINIMALDATA|c.SCRIPT_VERIFY_NULLDUMMY|c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|c.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|c.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|c.SCRIPT_VERIFY_CLEANSTACK,c.castToBool=function(d){for(var p=0;p<d.length;p++)if(d[p]!==0)return!(p===d.length-1&&d[p]===128);return!1},c.prototype.checkSignatureEncoding=function(d){var p;if(d.length===0)return!0;if((this.flags&(c.SCRIPT_VERIFY_DERSIG|c.SCRIPT_VERIFY_LOW_S|c.SCRIPT_VERIFY_STRICTENC))!==0&&!a.isTxDER(d))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&c.SCRIPT_VERIFY_LOW_S)!==0){if(p=a.fromTxFormat(d),!p.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&c.SCRIPT_VERIFY_STRICTENC)!==0){if(p=a.fromTxFormat(d),!p.hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;if(!(this.flags&c.SCRIPT_ENABLE_SIGHASH_FORKID)&&p.nhashtype&a.SIGHASH_FORKID)return this.errstr="SCRIPT_ERR_ILLEGAL_FORKID",!1;if(this.flags&c.SCRIPT_ENABLE_SIGHASH_FORKID&&!(p.nhashtype&a.SIGHASH_FORKID))return this.errstr="SCRIPT_ERR_MUST_USE_FORKID",!1}return!0},c.prototype.checkPubkeyEncoding=function(d){return(this.flags&c.SCRIPT_VERIFY_STRICTENC)!==0&&!l.isValid(d)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):!0},c._isMinimallyEncoded=function(d,p){return p=p||c.MAXIMUM_ELEMENT_SIZE,!(d.length>p||d.length>0&&(d[d.length-1]&127)===0&&(d.length<=1||(d[d.length-2]&128)===0))},c._minimallyEncode=function(d){if(d.length===0)return d;var p=d[d.length-1];if(p&127)return d;if(d.length===1)return r.from("");if(d[d.length-2]&128)return d;for(var m=d.length-1;m>0;m--)if(d[m-1]!==0)return d[m-1]&128?d[m++]=p:d[m-1]|=p,d.slice(0,m);return r.from("")},c.prototype.evaluate=function(d){if(this.script.toBuffer().length>c.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;!this.returned&&this.pc<this.script.chunks.length;){let m={pc:this.pc,fExec:this.vfExec.indexOf(!1)===-1,opcode:s.fromNumber(this.script.chunks[this.pc].opcodenum)};var p=this.step(d);if(this._callbackStep(m),!p)return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(m){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+m,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0},c.prototype._callbackStep=function(d){if(typeof this.stepListener=="function")try{this.stepListener(d)}catch(p){console.log(`Error in Step callback:${p}`)}},c.prototype._callbackStack=function(d,p,m){if(typeof this.stackListener=="function")try{this.stackListener(d,p,m)}catch(x){var w=this.script.chunks[p];console.error(`Error: ${x} in _updateStack pc: ${p}, opcode ${s.fromNumber(w.opcodenum).toSafeString()}`)}},c.prototype.checkLockTime=function(d){return!(!(this.tx.nLockTime<c.LOCKTIME_THRESHOLD&&d.lt(c.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=c.LOCKTIME_THRESHOLD&&d.gte(c.LOCKTIME_THRESHOLD_BN))||d.gt(new u(this.tx.nLockTime))||this.tx.inputs[this.nin].isFinal())},c.prototype.checkSequence=function(d){var p=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||p&c.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var m=c.SEQUENCE_LOCKTIME_TYPE_FLAG|c.SEQUENCE_LOCKTIME_MASK,w=new u(p&m),x=d.and(m),_=new u(c.SEQUENCE_LOCKTIME_TYPE_FLAG);return!(!(w.lt(_)&&x.lt(_)||w.gte(_)&&x.gte(_))||x.gt(w))};function h(d,p){let m=d;for(;m.length<p;)m=r.concat([r.from([0]),m]);return m}c.prototype.step=function(d){var p=this;function m(be){return p.stack.stacktop(be)}function w(be){return p.stack.vartop(be)}function x(be){switch(be){case s.OP_2MUL:case s.OP_2DIV:return!0;case s.OP_INVERT:case s.OP_MUL:case s.OP_LSHIFT:case s.OP_RSHIFT:if((p.flags&c.SCRIPT_ENABLE_MAGNETIC_OPCODES)===0)return!0;break;case s.OP_DIV:case s.OP_MOD:case s.OP_SPLIT:case s.OP_CAT:case s.OP_AND:case s.OP_OR:case s.OP_XOR:case s.OP_BIN2NUM:case s.OP_NUM2BIN:if((p.flags&c.SCRIPT_ENABLE_MONOLITH_OPCODES)===0)return!0;break;default:break}return!1}var _=(this.flags&c.SCRIPT_VERIFY_MINIMALDATA)!==0,y,S,F,N,H,D,L,P,A,b,g,v,E,C,R,O,M,T,U,Y,te=this.script.chunks[this.pc];this.pc++;var J=te.opcodenum;if(n.isUndefined(J))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(te.buf&&te.buf.length>c.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;var ce=this.vfExec.indexOf(!1)===-1&&(!this.nonTopLevelReturnAfterGenesis||J===s.OP_RETURN);if(J>s.OP_16&&++this.nOpCount>c.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(x(J))return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(ce&&J>=0&&J<=s.OP_PUSHDATA4){if(_&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!te.buf)this.stack.push(c.getFalse());else{if(te.len!==te.buf.length)throw new Error(`Length of push value not equal to length of data (${te.len},${te.buf.length})`);this.stack.push(te.buf)}}else if(ce||s.OP_IF<=J&&J<=s.OP_ENDIF)switch(J){case s.OP_1NEGATE:case s.OP_1:case s.OP_2:case s.OP_3:case s.OP_4:case s.OP_5:case s.OP_6:case s.OP_7:case s.OP_8:case s.OP_9:case s.OP_10:case s.OP_11:case s.OP_12:case s.OP_13:case s.OP_14:case s.OP_15:case s.OP_16:H=J-(s.OP_1-1),y=new u(H).toScriptNumBuffer(),this.stack.push(y);break;case s.OP_NOP:break;case s.OP_NOP2:case s.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&c.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var se=u.fromScriptNumBuffer(this.stack.stacktop(-1),_,5);if(se.lt(new u(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(se))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP3:case s.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&c.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var j=u.fromScriptNumBuffer(m(-1),_,5);if(j.lt(new u(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((j&c.SEQUENCE_LOCKTIME_DISABLE_FLAG)!==0)break;if(!this.checkSequence(j))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP1:case s.OP_NOP4:case s.OP_NOP5:case s.OP_NOP6:case s.OP_NOP7:case s.OP_NOP8:case s.OP_NOP9:case s.OP_NOP10:if(this.flags&c.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case s.OP_IF:case s.OP_NOTIF:if(O=!1,ce){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(y=m(-1),this.flags&c.SCRIPT_VERIFY_MINIMALIF){if(y.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(y.length===1&&y[0]!==1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}O=c.castToBool(y),J===s.OP_NOTIF&&(O=!O),this.stack.pop()}this.vfExec.push(O);break;case s.OP_ELSE:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case s.OP_ENDIF:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case s.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(y=m(-1),O=c.castToBool(y),O)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1;break;case s.OP_RETURN:if((this.flags&c.SCRIPT_VERIFY_P2SH)===0){if(this.vfExec.length===0)return this.returned=!0,!0;this.nonTopLevelReturnAfterGenesis=!0}else return!1;break;case s.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-1),this.altstack.push(this.stack.pop(),T);break;case s.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;let be=this.altstack.vartop(-1);this.stack.push(this.altstack.pop(),be);break;case s.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case s.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-2),F=m(-1),T=w(-2),U=w(-1),this.stack.push(r.from(S),`$${T}`),this.stack.push(r.from(F),`$${U}`);break;case s.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-3),F=m(-2);var Z=m(-1);T=w(-3),U=w(-2),Y=w(-1),this.stack.push(r.from(S),`$${T}`),this.stack.push(r.from(F),`$${U}`),this.stack.push(r.from(Z),`$${Y}`);break;case s.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-4),F=m(-3),T=w(-4),U=w(-3),this.stack.push(r.from(S),`$${T}`),this.stack.push(r.from(F),`$${U}`);break;case s.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-6),U=w(-5),N=this.stack.splice(this.stack.length-6,2),this.stack.push(N[0],T),this.stack.push(N[1],U);break;case s.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-4),U=w(-3),N=this.stack.splice(this.stack.length-4,2),this.stack.push(N[0],T),this.stack.push(N[1],U);break;case s.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=m(-1),O=c.castToBool(y),O&&(T=w(-1),this.stack.push(r.from(y),`$${T}`));break;case s.OP_DEPTH:y=new u(this.stack.length).toScriptNumBuffer(),this.stack.push(y,"$depth");break;case s.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case s.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-1),this.stack.push(r.from(m(-1)),`$${T}`);break;case s.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case s.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;U=w(-2),this.stack.push(r.from(m(-2)),`$${U}`);break;case s.OP_PICK:case s.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(y=m(-1),P=u.fromScriptNumBuffer(y,_,4),H=P.toNumber(),this.stack.pop(),H<0||H>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=m(-H-1),T=w(-H-1),J===s.OP_ROLL?(this.stack.splice(this.stack.length-H-1,1),this.stack.push(r.from(y),T)):this.stack.push(r.from(y),`$${T}`);break;case s.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=m(-3),L=m(-2);var ee=m(-1);T=w(-3),U=w(-2),Y=w(-1),this.stack.write(-3,L),this.stack.write(-2,ee),this.stack.write(-1,D),this.stack.updateTopVars([T,Y,U]);break;case s.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=m(-2),L=m(-1),T=w(-2),U=w(-1),this.stack.write(-2,L),this.stack.write(-1,D),this.stack.updateTopVars([T,U]);break;case s.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-2),U=w(-1),this.stack.splice(this.stack.length-2,0,r.from(m(-1))),this.stack.updateTopVars([U,T,`$${U}`]);break;case s.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=new u(m(-1).length),this.stack.push(P.toScriptNumBuffer(),"$size");break;case s.OP_AND:case s.OP_OR:case s.OP_XOR:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-2),F=m(-1),S.length!==F.length)return this.errstr="SCRIPT_ERR_INVALID_OPERAND_SIZE",!1;switch(J){case s.OP_AND:for(let ie=0;ie<S.length;ie++)S[ie]&=F[ie];break;case s.OP_OR:for(let ie=0;ie<S.length;ie++)S[ie]|=F[ie];break;case s.OP_XOR:for(let ie=0;ie<S.length;ie++)S[ie]^=F[ie];break;default:break}this.stack.pop();break;case s.OP_INVERT:this.stack.length<1&&(this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION"),y=m(-1);for(let ie=0;ie<y.length;ie++)y[ie]=~y[ie];break;case s.OP_LSHIFT:case s.OP_RSHIFT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-2),S.length===0)this.stack.pop();else{if(A=new u(S),b=u.fromScriptNumBuffer(m(-1),_,4),H=b.toNumber(),H<0)return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;this.stack.pop(),this.stack.pop();let ie;J===s.OP_LSHIFT&&(ie=A.ushln(H)),J===s.OP_RSHIFT&&(ie=A.ushrn(H));let ye=h(r.from(ie.toArray().slice(S.length*-1)),S.length);this.stack.push(ye)}break;case s.OP_EQUAL:case s.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-2),F=m(-1);var ue=S.toString("hex")===F.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(ue?c.getTrue():c.getFalse()),J===s.OP_EQUALVERIFY)if(ue)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;break;case s.OP_1ADD:case s.OP_1SUB:case s.OP_NEGATE:case s.OP_ABS:case s.OP_NOT:case s.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(y=m(-1),P=u.fromScriptNumBuffer(y,_),J){case s.OP_1ADD:P=P.add(u.One);break;case s.OP_1SUB:P=P.sub(u.One);break;case s.OP_NEGATE:P=P.neg();break;case s.OP_ABS:P.cmp(u.Zero)<0&&(P=P.neg());break;case s.OP_NOT:P=new u((P.cmp(u.Zero)===0)+0);break;case s.OP_0NOTEQUAL:P=new u((P.cmp(u.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(P.toScriptNumBuffer());break;case s.OP_ADD:case s.OP_SUB:case s.OP_MUL:case s.OP_MOD:case s.OP_DIV:case s.OP_BOOLAND:case s.OP_BOOLOR:case s.OP_NUMEQUAL:case s.OP_NUMEQUALVERIFY:case s.OP_NUMNOTEQUAL:case s.OP_LESSTHAN:case s.OP_GREATERTHAN:case s.OP_LESSTHANOREQUAL:case s.OP_GREATERTHANOREQUAL:case s.OP_MIN:case s.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(A=u.fromScriptNumBuffer(m(-2),_),b=u.fromScriptNumBuffer(m(-1),_),P=new u(0),J){case s.OP_ADD:P=A.add(b);break;case s.OP_SUB:P=A.sub(b);break;case s.OP_MUL:P=A.mul(b);break;case s.OP_DIV:if(b===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;P=A.div(b);break;case s.OP_MOD:if(b===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;P=A.mod(b);break;case s.OP_BOOLAND:P=new u((A.cmp(u.Zero)!==0&&b.cmp(u.Zero)!==0)+0);break;case s.OP_BOOLOR:P=new u((A.cmp(u.Zero)!==0||b.cmp(u.Zero)!==0)+0);break;case s.OP_NUMEQUAL:P=new u((A.cmp(b)===0)+0);break;case s.OP_NUMEQUALVERIFY:P=new u((A.cmp(b)===0)+0);break;case s.OP_NUMNOTEQUAL:P=new u((A.cmp(b)!==0)+0);break;case s.OP_LESSTHAN:P=new u((A.cmp(b)<0)+0);break;case s.OP_GREATERTHAN:P=new u((A.cmp(b)>0)+0);break;case s.OP_LESSTHANOREQUAL:P=new u((A.cmp(b)<=0)+0);break;case s.OP_GREATERTHANOREQUAL:P=new u((A.cmp(b)>=0)+0);break;case s.OP_MIN:P=A.cmp(b)<0?A:b;break;case s.OP_MAX:P=A.cmp(b)>0?A:b;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(P.toScriptNumBuffer()),J===s.OP_NUMEQUALVERIFY)if(c.castToBool(m(-1)))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;break;case s.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;A=u.fromScriptNumBuffer(m(-3),_),b=u.fromScriptNumBuffer(m(-2),_);var fe=u.fromScriptNumBuffer(m(-1),_);O=b.cmp(A)<=0&&A.cmp(fe)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(O?c.getTrue():c.getFalse());break;case s.OP_RIPEMD160:case s.OP_SHA1:case s.OP_SHA256:case s.OP_HASH160:case s.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=m(-1);var de;J===s.OP_RIPEMD160?de=o.ripemd160(y):J===s.OP_SHA1?de=o.sha1(y):J===s.OP_SHA256?de=o.sha256(y):J===s.OP_HASH160?de=o.sha256ripemd160(y):J===s.OP_HASH256&&(de=o.sha256sha256(y)),this.stack.pop(),this.stack.push(de);break;case s.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case s.OP_CHECKSIG:case s.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(g=m(-2),v=m(-1),!this.checkSignatureEncoding(g)||!this.checkPubkeyEncoding(v))return!1;E=this.subscript();var we=new i().add(g);E.findAndDelete(we);try{C=a.fromTxFormat(g),R=l.fromBuffer(v,!1),M=this.tx.verifySignature(C,R,this.nin,E,this.satoshisBN,this.flags)}catch{M=!1}if(!M&&this.flags&c.SCRIPT_VERIFY_NULLFAIL&&g.length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(M?c.getTrue():c.getFalse()),J===s.OP_CHECKSIGVERIFY)if(M)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;break;case s.OP_CHECKMULTISIG:case s.OP_CHECKMULTISIGVERIFY:var He=1;if(this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Fe=u.fromScriptNumBuffer(m(-He),_).toNumber();if(Fe<0||Fe>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=Fe,this.nOpCount>c.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var Le=++He;He+=Fe;var wt=Fe+2;if(this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var je=u.fromScriptNumBuffer(m(-He),_).toNumber();if(je<0||je>Fe)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var Re=++He;if(He+=je,this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=this.subscript();for(var De=0;De<je;De++)g=m(-Re-De),E.findAndDelete(new i().add(g));for(M=!0;M&&je>0;){if(g=m(-Re),v=m(-Le),!this.checkSignatureEncoding(g)||!this.checkPubkeyEncoding(v))return!1;var Xe;try{C=a.fromTxFormat(g),R=l.fromBuffer(v,!1),Xe=this.tx.verifySignature(C,R,this.nin,E,this.satoshisBN,this.flags)}catch{Xe=!1}Xe&&(Re++,je--),Le++,Fe--,je>Fe&&(M=!1)}for(;He-- >1;){if(!M&&this.flags&c.SCRIPT_VERIFY_NULLFAIL&&!wt&&m(-1).length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;wt>0&&wt--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&c.SCRIPT_VERIFY_NULLDUMMY&&m(-1).length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(M?c.getTrue():c.getFalse()),J===s.OP_CHECKMULTISIGVERIFY)if(M)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;break;case s.OP_CAT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-2),F=m(-1),S.length+F.length>c.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.write(-2,r.concat([S,F])),this.stack.pop();break;case s.OP_SPLIT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;S=m(-2);var q=u.fromScriptNumBuffer(m(-1),_).toNumber();if(q<0||q>S.length)return this.errstr="SCRIPT_ERR_INVALID_SPLIT_RANGE",!1;var X=r.from(S);this.stack.write(-2,X.slice(0,q)),this.stack.write(-1,X.slice(q));break;case s.OP_NUM2BIN:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var z=u.fromScriptNumBuffer(m(-1),_).toNumber();if(z>c.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.pop();var V=m(-1);if(V=c._minimallyEncode(V),V.length>z)return this.errstr="SCRIPT_ERR_IMPOSSIBLE_ENCODING",!1;if(V.length===z){this.stack.write(-1,V);break}var re=0;V.length>0&&(re=V[V.length-1]&128,V[V.length-1]&=127);var Q=r.alloc(z);V.copy(Q,0);for(var ne=V.length-1;ne++<z-2;)Q[ne]=0;Q[ne]=re,this.stack.write(-1,Q);break;case s.OP_BIN2NUM:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(S=m(-1),F=c._minimallyEncode(S),this.stack.write(-1,F),!c._isMinimallyEncoded(F))return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.vfExec.indexOf(!1)===-1&&this._callbackStack(this.stack,this.pc,d),!0}});Ge("bSS4t",function(t,e){"use strict";var r=function(s,u){this.stack=s,this.varStack=u||[]};t.exports=r,r.prototype.pushVar=function(i){this.varStack.push(i||"$tmp")},r.prototype.popVar=function(){this.varStack.pop()},r.prototype.push=function(i,s){this.pushVar(s),this.stack.push(i),this.checkConsistency()},r.prototype.pop=function(){this.popVar();let i=this.stack.pop();return this.checkConsistency(),i},r.prototype.updateTopVars=function(i){if(i.length>this.varStack.length)throw new Error(`updateTopVars fail, stack: ${this.stack.length},  varStack: ${this.varStack.length}, vars:${i.length}`);i=i.reverse(),this.varStack.splice(this.varStack.length-i.length,i.length,...i)},r.prototype.stacktop=function(i){return this.stack[this.stack.length+i]},r.prototype.vartop=function(i){return this.varStack[this.varStack.length+i]},r.prototype.slice=function(i,s){return this.stack.slice(i,s)},r.prototype.splice=function(i,s,...u){return this.varStack.splice(i,s,...u),this.stack.splice(i,s,...u)},r.prototype.write=function(i,s){this.stack[this.stack.length+i]=s},r.prototype.copy=function(){return new r(this.stack.slice()||[],this.varStack.slice()||[])};function n(i){return i.reduce(function(s,u){return s+=("0"+(u&255).toString(16)).slice(-2),s},"")}r.prototype.printVarStack=function(){let i=this.varStack.map((s,u)=>({name:s,value:n(this.rawstack[u].data)}));console.log(JSON.stringify(i,null,4))},r.prototype.checkConsistency=function(){if(this.stack.length!==this.varStack.length)throw this.printVarStack(),new Error(`checkConsistency fail, stack: ${this.stack.length}, varStack:${this.varStack.length}`)},r.prototype.checkConsistencyWithVars=function(i){if(this.stack.length<i.length)throw this.printVarStack(),new Error(`checkConsistencyWithVars fail, stack: ${this.stack.length}, varStack:${i.length}`)},Object.defineProperty(r.prototype,"length",{get:function(){return this.stack.length}}),Object.defineProperty(r.prototype,"rawstack",{get:function(){return this.stack}})});Ge("7pkU6",function(t,e){t.exports=W("98CPZ"),t.exports.Input=W("dQaOn"),t.exports.Output=W("bczuf"),t.exports.UnspentOutput=W("G1usC"),t.exports.Signature=W("4Dqlv"),t.exports.Sighash=W("95EnH")});Ge("98CPZ",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("kooOK"),u=W("gk75r"),o=W("28ku8"),a=W("2AZ1V"),l=W("1zMJW"),f=W("bTTXN"),c=W("gIXub"),h=W("95EnH"),d=W("iSUUt"),p=W("G1usC"),m=W("dQaOn"),w=m.PublicKeyHash,x=m.PublicKey,_=m.MultiSigScriptHash,y=m.MultiSig,S=W("bczuf"),F=W("hkiTH"),N=W("7smYJ"),H=W("dIoYd");function D(g){if(!(this instanceof D))return new D(g);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,this._inputsMap=new Map,this._outputsMap=new Map,this._privateKey=void 0,this._sigType=void 0,this.sealed=!1,g){if(g instanceof D)return D.shallowCopy(g);if(u.isHexa(g))this.fromString(g);else if(r.isBuffer(g))this.fromBuffer(g);else if(n.isObject(g))this.fromObject(g);else throw new s.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var L=1,P=0;D.DUST_AMOUNT=1,D.FEE_SECURITY_MARGIN=150,D.MAX_MONEY=21e6*1e8,D.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,D.NLOCKTIME_MAX_VALUE=4294967295,D.FEE_PER_KB=50,D.CHANGE_OUTPUT_MAX_SIZE=62,D.DUMMY_PRIVATEKEY=N.fromWIF("cQ3nCBQB9RsFSyjNQM15NQLVpXXMtWh9PUyeFz5KxLJCHsuRH2Su"),D.shallowCopy=function(g){var v=new D(g.toBuffer());return v};var A={configurable:!1,enumerable:!0,get:function(){return this._hash=new o(this._getHash()).readReverse().toString("hex"),this._hash}};Object.defineProperty(D.prototype,"hash",A),Object.defineProperty(D.prototype,"id",A);var b={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(D.prototype,"inputAmount",b),b.get=function(){return this._getOutputAmount()},Object.defineProperty(D.prototype,"outputAmount",b),D.prototype._getHash=function(){return f.sha256sha256(this.toBuffer())},D.prototype.serialize=function(g){return g===!0||g&&g.disableAll?this.uncheckedSerialize():this.checkedSerialize(g)},D.prototype.uncheckedSerialize=D.prototype.toString=function(){return this.toBuffer().toString("hex")},D.prototype.checkedSerialize=function(g){var v=this.getSerializationError(g);if(v)throw v.message+=" - For more information please see: https://bsv.io/api/lib/transaction#serialization-checks",v;return this.uncheckedSerialize()},D.prototype.invalidSatoshis=function(){for(var g=!1,v=0;v<this.outputs.length;v++)this.outputs[v].invalidSatoshis()&&(g=!0);return g},D.prototype.getSerializationError=function(g){if(g=g||{},this.invalidSatoshis())return new s.Transaction.InvalidSatoshis;var v=this.getUnspentValue(),E;return v<0?g.disableMoreOutputThanInput||(E=new s.Transaction.InvalidOutputAmountSum):E=this._hasFeeError(g,v),E||this._hasDustOutputs(g)||this._isMissingSignatures(g)},D.prototype._hasFeeError=function(g,v){if(!n.isUndefined(this._fee)&&this._fee!==v)return new s.Transaction.FeeError.Different("Unspent value is "+v+" but specified fee is "+this._fee);if(!g.disableLargeFees){var E=Math.floor(D.FEE_SECURITY_MARGIN*this._estimateFee());if(v>E)return this._missingChange()?new s.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new s.Transaction.FeeError.TooLarge("expected less than "+E+" but got "+v)}},D.prototype._missingChange=function(){return!this._changeScript},D.prototype._hasDustOutputs=function(g){if(!g.disableDustOutputs){var v,E;for(v in this.outputs)if(E=this.outputs[v],E.satoshis<D.DUST_AMOUNT&&!E.script.isDataOut()&&!E.script.isSafeDataOut())return new s.Transaction.DustOutputs}},D.prototype._isMissingSignatures=function(g){if(!g.disableIsFullySigned&&!this.isFullySigned())return new s.Transaction.MissingSignatures},D.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},D.prototype.toBuffer=function(){var g=new a;return this.toBufferWriter(g).toBuffer()},D.prototype.toBufferWriter=function(g){return g.writeUInt32LE(this.version),g.writeVarintNum(this.inputs.length),n.each(this.inputs,function(v){v.toBufferWriter(g)}),g.writeVarintNum(this.outputs.length),n.each(this.outputs,function(v){v.toBufferWriter(g)}),g.writeUInt32LE(this.nLockTime),g},D.prototype.fromBuffer=function(g){var v=new o(g);return this.fromBufferReader(v)},D.prototype.fromBufferReader=function(g){i.checkArgument(!g.finished(),"No transaction data received");var v,E,C;for(this.version=g.readInt32LE(),E=g.readVarintNum(),v=0;v<E;v++){var R=m.fromBufferReader(g);this.inputs.push(R)}for(C=g.readVarintNum(),v=0;v<C;v++)this.outputs.push(S.fromBufferReader(g));return this.nLockTime=g.readUInt32LE(),this},D.prototype.toObject=D.prototype.toJSON=function(){var v=[];this.inputs.forEach(function(R){v.push(R.toObject())});var E=[];this.outputs.forEach(function(R){E.push(R.toObject())});var C={hash:this.hash,version:this.version,inputs:v,outputs:E,nLockTime:this.nLockTime};return this._changeScript&&(C.changeScript=this._changeScript.toString()),this._changeScript&&(C.changeAddress=this._changeAddress.toString()),n.isUndefined(this._changeIndex)||(C.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(C.fee=this._fee),C},D.prototype.fromObject=function(v){i.checkArgument(n.isObject(v)||v instanceof D);var E=this,C;return v instanceof D?C=C.toObject():C=v,n.each(C.inputs,function(R){if(!R.output||!R.output.script){E.uncheckedAddInput(new m(R));return}var O=new F(R.output.script),M;if(O.isPublicKeyHashOut())M=new m.PublicKeyHash(R);else if(O.isScriptHashOut()&&R.publicKeys&&R.threshold)M=new m.MultiSigScriptHash(R,R.publicKeys,R.threshold,R.signatures);else if(O.isPublicKeyOut())M=new m.PublicKey(R);else throw new s.Transaction.Input.UnsupportedScript(R.output.script);E.addInput(M)}),n.each(C.outputs,function(R){E.addOutput(new S(R))}),C.changeIndex&&(this._changeIndex=C.changeIndex),C.changeScript&&(this._changeScript=new F(C.changeScript)),C.changeAddress&&(this._changeAddress=d.fromString(C.changeAddress)),C.fee&&(this._fee=C.fee),this.nLockTime=C.nLockTime,this.version=C.version,this._checkConsistency(v),this},D.prototype._checkConsistency=function(g){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript,"Change script is expected."),i.checkState(this._changeAddress,"Change address is expected."),i.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),g&&g.hash&&i.checkState(g.hash===this.hash,"Hash in object does not match transaction hash.")},D.prototype.lockUntilDate=function(g){if(i.checkArgument(g),n.isNumber(g)&&g<D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.LockTimeTooEarly;n.isDate(g)&&(g=g.getTime()/1e3);for(var v=0;v<this.inputs.length;v++)this.inputs[v].sequenceNumber===m.DEFAULT_SEQNUMBER&&(this.inputs[v].sequenceNumber=m.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=g,this},D.prototype.lockUntilBlockHeight=function(g){if(i.checkArgument(n.isNumber(g)),g>=D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.BlockHeightTooHigh;if(g<0)throw new s.Transaction.NLockTimeOutOfRange;for(var v=0;v<this.inputs.length;v++)this.inputs[v].sequenceNumber===m.DEFAULT_SEQNUMBER&&(this.inputs[v].sequenceNumber=m.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=g,this},D.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<D.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},D.prototype.fromString=function(g){this.fromBuffer(r.from(g,"hex"))},D.prototype._newTransaction=function(){this.version=L,this.nLockTime=P},D.prototype.from=function(g,v,E){if(n.isArray(g)){var C=this;return n.each(g,function(O){C.from(O,v,E)}),this}var R=n.some(this.inputs,function(O){return O.prevTxId.toString("hex")===g.txId&&O.outputIndex===g.outputIndex});return R?this:(v&&E?this._fromMultisigUtxo(g,v,E):this._fromNonP2SH(g),this)},D.prototype._fromNonP2SH=function(g){var v;g=new p(g),g.script.isPublicKeyHashOut()?v=w:g.script.isPublicKeyOut()?v=x:v=m,this.addInput(new v({output:new S({script:g.script,satoshis:g.satoshis}),prevTxId:g.txId,outputIndex:g.outputIndex,script:F.empty()}))},D.prototype._fromMultisigUtxo=function(g,v,E){i.checkArgument(E<=v.length,"Number of required signatures must be greater than the number of public keys");var C;if(g=new p(g),g.script.isMultisigOut())C=y;else if(g.script.isScriptHashOut())C=_;else throw new Error("@TODO");this.addInput(new C({output:new S({script:g.script,satoshis:g.satoshis}),prevTxId:g.txId,outputIndex:g.outputIndex,script:F.empty()},v,E))},D.prototype.addInput=function(g,v,E){if(i.checkArgumentType(g,m,"input"),!g.output&&(n.isUndefined(v)||n.isUndefined(E)))throw new s.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!g.output&&v&&!n.isUndefined(E)&&(v=v instanceof F?v:new F(v),i.checkArgumentType(E,"number","satoshis"),g.output=new S({script:v,satoshis:E})),this.uncheckedAddInput(g)},D.prototype.uncheckedAddInput=function(g){return i.checkArgumentType(g,m,"input"),this.inputs.push(g),this._inputAmount=void 0,this._updateChangeOutput(),this},D.prototype.hasAllUtxoInfo=function(){return n.every(this.inputs.map(function(g){return!!g.output}))},D.prototype.fee=function(g){return i.checkArgument(n.isNumber(g),"amount must be a number"),this._fee=g,this._updateChangeOutput(),this},D.prototype.feePerKb=function(g){return i.checkArgument(n.isNumber(g),"amount must be a number"),this._feePerKb=g,this._updateChangeOutput(),this},D.prototype.change=function(g){return i.checkArgument(g,"address is required"),this._changeScript=F.fromAddress(g),this._changeAddress=d(g),this._updateChangeOutput(),this},D.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},D.prototype.getChangeAddress=function(){return this._changeAddress?this._changeAddress:null},D.prototype.to=function(g,v){if(n.isArray(g)){var E=this;return n.each(g,function(C){E.to(C.address,C.satoshis)}),this}return i.checkArgument(u.isNaturalNumber(v),"Amount is expected to be a positive integer"),this.addOutput(new S({script:F(new d(g)),satoshis:v})),this},D.prototype.addData=function(g){return this.addOutput(new S({script:F.buildDataOut(g),satoshis:0})),this},D.prototype.addSafeData=function(g){return this.addOutput(new S({script:F.buildSafeDataOut(g),satoshis:0})),this},D.prototype.addOutput=function(g){return i.checkArgumentType(g,S,"output"),this._addOutput(g),this._updateChangeOutput(),this},D.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},D.prototype._addOutput=function(g){this.outputs.push(g),this._outputAmount=void 0},D.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var g=this;this._outputAmount=0,n.each(this.outputs,function(v){g._outputAmount+=v.satoshis})}return this._outputAmount},D.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var g=this;this._inputAmount=0,n.each(this.inputs,function(v){if(n.isUndefined(v.output))throw new s.Transaction.Input.MissingPreviousOutput;g._inputAmount+=v.output.satoshis})}return this._inputAmount},D.prototype._updateChangeOutput=function(){if(this.sealed)throw new s.Transaction.TransactionAlreadySealed;if(!!this._changeScript){n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex),this._changeIndex=this.outputs.length,this._addOutput(new S({script:this._changeScript,satoshis:0}));var g=this.getUnspentValue(),v=this.getFee(),E=g-v;this._removeOutput(this._changeIndex),this._changeIndex=void 0,E>=D.DUST_AMOUNT&&(this._changeIndex=this.outputs.length,this._addOutput(new S({script:this._changeScript,satoshis:E}))),this._clearSignatures()}},D.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this.getUnspentValue():this._fee},D.prototype._estimateFee=function(){var g=this._estimateSize();return Math.ceil(g/1e3*(this._feePerKb||D.FEE_PER_KB))},D.prototype.getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},D.prototype._clearSignatures=function(){n.each(this.inputs,function(g){g.clearSignatures()})},D.prototype.getEstimateSize=function(){return this._estimateSize()},D.prototype._estimateSize=function(){var g=8;return g+=l(this.inputs.length).toBuffer().length,g+=l(this.outputs.length).toBuffer().length,n.each(this.inputs,function(v){g+=v._estimateSize()}),n.each(this.outputs,function(v){g+=v.getSize()}),g},D.prototype._removeOutput=function(g){var v=this.outputs[g];this.outputs=n.without(this.outputs,v),this._outputAmount=void 0},D.prototype.removeOutput=function(g){this._removeOutput(g),this._updateChangeOutput()},D.prototype.sort=function(){return this.sortInputs(function(g){var v=Array.prototype.concat.apply([],g);return v.sort(function(E,C){return E.prevTxId.compare(C.prevTxId)||E.outputIndex-C.outputIndex}),v}),this.sortOutputs(function(g){var v=Array.prototype.concat.apply([],g);return v.sort(function(E,C){return E.satoshis-C.satoshis||E.script.toBuffer().compare(C.script.toBuffer())}),v}),this},D.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},D.prototype.sortOutputs=function(g){var v=g(this.outputs);return this._newOutputOrder(v)},D.prototype.sortInputs=function(g){return this.inputs=g(this.inputs),this._clearSignatures(),this},D.prototype._newOutputOrder=function(g){var v=this.outputs.length!==g.length||n.difference(this.outputs,g).length!==0;if(v)throw new s.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var E=this.outputs[this._changeIndex];this._changeIndex=g.indexOf(E)}return this.outputs=g,this},D.prototype.removeInput=function(g,v){var E;if(!v&&n.isNumber(g)?E=g:E=n.findIndex(this.inputs,function(R){return R.prevTxId.toString("hex")===g&&R.outputIndex===v}),E<0||E>=this.inputs.length)throw new s.Transaction.InvalidIndex(E,this.inputs.length);var C=this.inputs[E];this.inputs=n.without(this.inputs,C),this._inputAmount=void 0,this._updateChangeOutput()},D.prototype.sign=function(g,v){i.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction.");var E=this;return n.isArray(g)?(n.each(g,function(C){E.sign(C,v)}),this):(n.each(this.getSignatures(g,v),function(C){E.applySignature(C)}),this._privateKey=g,this._sigType=v,this)},D.prototype.getSignatures=function(g,v){g=new N(g),v=v||c.SIGHASH_ALL|c.SIGHASH_FORKID;var E=this,C=[],R=f.sha256ripemd160(g.publicKey.toBuffer());return n.each(this.inputs,function(M,T){n.each(M.getSignatures(E,g,T,v,R),function(U){C.push(U)})}),C},D.prototype.applySignature=function(g){return this.inputs[g.inputIndex].addSignature(this,g),this},D.prototype.isFullySigned=function(){return n.each(this.inputs,function(g){if(g.isFullySigned===m.prototype.isFullySigned)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")}),n.every(n.map(this.inputs,function(g){return g.isFullySigned()}))},D.prototype.isValidSignature=function(g){var v=this;if(this.inputs[g.inputIndex].isValidSignature===m.prototype.isValidSignature)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[g.inputIndex].isValidSignature(v,g)},D.prototype.verifySignature=function(g,v,E,C,R,O){return h.verify(this,g,v,E,C,R,O)},D.prototype.verify=function(g){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var v=new H(0),E=0;E<this.outputs.length;E++){var C=this.outputs[E];if(C.invalidSatoshis())return"transaction txout "+E+" satoshis is invalid";if(C._satoshisBN.gt(new H(D.MAX_MONEY,10)))return"transaction txout "+E+" greater than MAX_MONEY";if(v=v.add(C._satoshisBN),v.gt(new H(D.MAX_MONEY)))return"transaction txout "+E+" total output greater than MAX_MONEY"}var R={};for(E=0;E<this.inputs.length;E++){var O=this.inputs[E],M=O.prevTxId+":"+O.outputIndex;if(!n.isUndefined(R[M]))return"transaction input "+E+" duplicate input";R[M]=!0}var T=this.isCoinbase();if(T){var U=this.inputs[0]._scriptBuffer;if(U.length<2||U.length>100)return"coinbase transaction script size invalid"}else for(E=0;E<this.inputs.length;E++){if(this.inputs[E].isNull())return"transaction input "+E+" has null input";if(!g){var Y=this.inputs[E].verify(this,E);if(!Y.success)return"transaction input "+E+" VerifyError: "+Y.error}}return!0},D.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()},D.prototype.setInputScript=function(g,v){var E=0,C,R,O=!1;if(typeof g=="number"?(E=g,R=c.SIGHASH_ALL|c.SIGHASH_FORKID):(E=g.inputIndex||0,C=g.privateKey,R=g.sigtype||c.SIGHASH_ALL|c.SIGHASH_FORKID,O=g.isLowS||!1),v instanceof Function){var M=this.inputs[E].output;this._inputsMap.set(E,{sigtype:R,privateKey:C,isLowS:O,callback:v});var T=v(this,M);this.inputs[E].setScript(T)}else this.inputs[E].setScript(v);return this},D.prototype.setInputScriptAsync=async function(g,v){var E=0,C,R=!1;if(typeof g=="number"?(E=g,C=c.SIGHASH_ALL|c.SIGHASH_FORKID):(E=g.inputIndex||0,C=g.sigtype||c.SIGHASH_ALL|c.SIGHASH_FORKID,R=g.isLowS||!1),v instanceof Function){var O=this.inputs[E].output;this._inputsMap.set(E,{sigtype:C,isLowS:R,callback:v});var M=await v(this,O);this.inputs[E].setScript(M)}else throw new s.InvalidArgument("Must provide a callback returns a unlocking script");return this},D.prototype.setInputSequence=function(g,v){return this.inputs[g].sequenceNumber=v,this},D.prototype.setOutput=function(g,v){return v instanceof Function?(this._outputsMap.set(g,v),this.outputs[g]=v(this)):this.outputs[g]=v,this._updateChangeOutput(),this},D.prototype.seal=function(){var g=this;return this._outputsMap.forEach(function(v,E){g.outputs[E]=v(g)}),this._updateChangeOutput(),this._inputsMap.forEach(function(v,E){var C=g.inputs[E].output,R=v.callback(g,C);g.inputs[E].setScript(R)}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.sealAsync=async function(){var g=this;this._outputsMap.forEach(function(E,C){g.outputs[C]=E(g)}),this._updateChangeOutput();var v=[];return this._inputsMap.forEach(function(E,C){var R=g.inputs[C].output;v.push(Promise.resolve(E.callback(g,R)).then(O=>({key:C,unlockScript:O})))}),await Promise.all(v).then(E=>{E.forEach(({key:C,unlockScript:R})=>{g.inputs[C].setScript(R)})}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.setLockTime=function(g){return this.nLockTime=g,this},D.prototype.getChangeAmount=function(){return n.isUndefined(this._changeIndex)?0:this.outputs[this._changeIndex].satoshis},D.prototype.getEstimateFee=function(){return this._estimateFee()},D.prototype.checkFeeRate=function(g){var v=this.getUnspentValue(),E=this._estimateSize(),C=(g||this._feePerKb||D.FEE_PER_KB)/1e3,R=v/E;return R>=C},D.prototype.prevouts=function(){var g=new a;n.each(this.inputs,function(E){g.writeReverse(E.prevTxId),g.writeUInt32LE(E.outputIndex)});var v=g.toBuffer();return v.toString("hex")},D.prototype.isSealed=function(){return this.sealed},D.prototype.getPreimage=function(g,v,E,C){i.checkArgumentType(g,"number","inputIndex"),v=v||c.SIGHASH_ALL|c.SIGHASH_FORKID,E=E||!1,g=g||0;var R=this.inputs[g].getPreimage(this,g,v,E,C);return R.toString("hex")},D.prototype.getSignature=function(g,v,E){i.checkArgumentType(g,"number","inputIndex");var C=[],R=(this._inputsMap||new Map).get(g);if(v=v||(R?R.privateKey:this._privateKey),v){E=E||c.SIGHASH_ALL|c.SIGHASH_FORKID;var O=this.inputs[g].getSignatures(this,v,g,E);return n.each(O,function(M){C.push(M.signature.toTxFormat().toString("hex"))}),C.length===1?C[0]:C}return[]},D.prototype.addInputFromPrevTx=function(g,v){i.checkArgumentType(g,D,"prevTx");var E=v||0;let C=g.outputs[E];return C.script.isPublicKeyHashOut()?this.addInput(new w({prevTxId:g.id,outputIndex:E,script:new F(""),output:C})):this.addInput(new m({prevTxId:g.id,outputIndex:E,script:new F(""),output:C}))},D.prototype.addDummyInput=function(g,v){return i.checkArgumentType(g,F,"script"),i.checkArgumentType(v,"number","satoshis"),this.addInput(new m({prevTxId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:new F(""),output:new S({script:g,satoshis:v})}))},D.prototype.dummyChange=function(){return this.change(D.DUMMY_PRIVATEKEY.toAddress())},D.prototype.verifyScript=function(g){if(i.checkArgumentType(g,"number","inputIndex"),!this.inputs[g])throw new s.Transaction.Input.MissingInput;return this.inputs[g].verify(this,g)},D.prototype.verifyInputScript=function(g){return this.verifyScript(g)},D.prototype.getInputAmount=function(g){if(i.checkArgumentType(g,"number","inputIndex"),!this.inputs[g])throw new s.Transaction.Input.MissingInput;return this.inputs[g].output.satoshis},D.prototype.getOutputAmount=function(g){if(i.checkArgumentType(g,"number","outputIndex"),!this.outputs[g])throw new s.Transaction.MissingOutput;return this.outputs[g].satoshis},t.exports=D});Ge("28ku8",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("dIoYd"),u=function o(a){if(!(this instanceof o))return new o(a);if(!n.isUndefined(a))if(r.isBuffer(a))this.set({buf:a});else if(n.isString(a)){var l=r.from(a,"hex");if(l.length*2!==a.length)throw new TypeError("Invalid hex string");this.set({buf:l})}else if(n.isObject(a)){var f=a;this.set(f)}else throw new TypeError("Unrecognized argument for BufferReader")};u.prototype.set=function(o){return this.buf=o.buf||this.buf||void 0,this.pos=o.pos||this.pos||0,this},u.prototype.eof=function(){return this.pos>=this.buf.length},u.prototype.finished=u.prototype.eof,u.prototype.read=function(o){i.checkArgument(!n.isUndefined(o),"Must specify a length");var a=this.buf.slice(this.pos,this.pos+o);return this.pos=this.pos+o,a},u.prototype.readAll=function(){var o=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,o},u.prototype.readUInt8=function(){var o=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,o},u.prototype.readUInt16BE=function(){var o=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,o},u.prototype.readUInt16LE=function(){var o=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,o},u.prototype.readUInt32BE=function(){var o=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,o},u.prototype.readUInt32LE=function(){var o=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,o},u.prototype.readInt32LE=function(){var o=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,o},u.prototype.readUInt64BEBN=function(){var o=this.buf.slice(this.pos,this.pos+8),a=s.fromBuffer(o);return this.pos=this.pos+8,a},u.prototype.readUInt64LEBN=function(){var o=this.buf.readUInt32LE(this.pos),a=this.buf.readUInt32LE(this.pos+4),l=a*4294967296+o,f;if(l<=9007199254740991)f=new s(l);else{var c=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);f=new s(c,10,"le")}return this.pos=this.pos+8,f},u.prototype.readVarintNum=function(){var o=this.readUInt8();switch(o){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var a=this.readUInt64LEBN(),l=a.toNumber();if(l<=Math.pow(2,53))return l;throw new Error("number too large to retain precision - use readVarintBN");default:return o}},u.prototype.readVarLengthBuffer=function(){var o=this.readVarintNum(),a=this.read(o);return i.checkState(a.length===o,"Invalid length while reading varlength buffer. Expected to read: "+o+" and read "+a.length),a},u.prototype.readVarintBuf=function(){var o=this.buf.readUInt8(this.pos);switch(o){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},u.prototype.readVarintBN=function(){var o=this.readUInt8();switch(o){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(o)}},u.prototype.reverse=function(){for(var o=r.alloc(this.buf.length),a=0;a<o.length;a++)o[a]=this.buf[this.buf.length-1-a];return this.buf=o,this},u.prototype.readReverse=function(o){n.isUndefined(o)&&(o=this.buf.length);var a=this.buf.slice(this.pos,this.pos+o);return this.pos=this.pos+o,r.from(a).reverse()},u.prototype.remaining=function(){return this.buf.length-this.pos},t.exports=u});Ge("1zMJW",function(t,e){var r=wr.Buffer,n=W("2AZ1V"),i=W("28ku8"),s=W("dIoYd"),u=function o(a){if(!(this instanceof o))return new o(a);if(r.isBuffer(a))this.buf=a;else if(typeof a=="number"){var l=a;this.fromNumber(l)}else if(a instanceof s){var f=a;this.fromBN(f)}else if(a){var c=a;this.set(c)}};u.prototype.set=function(o){return this.buf=o.buf||this.buf,this},u.prototype.fromString=function(o){return this.set({buf:r.from(o,"hex")}),this},u.prototype.toString=function(){return this.buf.toString("hex")},u.prototype.fromBuffer=function(o){return this.buf=o,this},u.prototype.fromBufferReader=function(o){return this.buf=o.readVarintBuf(),this},u.prototype.fromBN=function(o){var a=new n;return this.buf=a.writeVarintBN(o).toBuffer(),this},u.prototype.fromNumber=function(o){var a=new n;return this.buf=a.writeVarintNum(o).toBuffer(),this},u.prototype.toBuffer=function(){return this.buf},u.prototype.toBN=function(){return i(this.buf).readVarintBN()},u.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=u});Ge("95EnH",function(t,e){var r=wr.Buffer,n=W("gIXub"),i=W("hkiTH"),s=W("bczuf"),u=W("28ku8"),o=W("2AZ1V"),a=W("dIoYd"),l=W("bTTXN"),f=W("kmMTb"),c=W("6gAsx"),h=W("g4xmW"),d=W("kBBbb"),p=W("l0DuR"),m=r.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),w="ffffffffffffffff",x=h.SCRIPT_ENABLE_SIGHASH_FORKID,_=function(H,D,L,P,A,b=new p){var g=H.inputs[L];c.checkArgument(A instanceof a,"For ForkId=0 signatures, satoshis or complete input must be provided");function v(J){var ce=new o;d.each(J.inputs,function(Z){ce.writeReverse(Z.prevTxId),ce.writeUInt32LE(Z.outputIndex)});var se=ce.toBuffer(),j=l.sha256sha256(se);return j}function E(J){var ce=new o;d.each(J.inputs,function(Z){ce.writeUInt32LE(Z.sequenceNumber)});var se=ce.toBuffer(),j=l.sha256sha256(se);return j}function C(J,ce){var se=new o;d.isUndefined(ce)?d.each(J.outputs,function(ee){ee.toBufferWriter(se)}):J.outputs[ce].toBufferWriter(se);var j=se.toBuffer(),Z=l.sha256sha256(j);return Z}var R=r.alloc(32),O=r.alloc(32),M=r.alloc(32);D&n.SIGHASH_ANYONECANPAY||(R=b.prevoutsHashBuf?b.prevoutsHashBuf:b.prevoutsHashBuf=v(H)),!(D&n.SIGHASH_ANYONECANPAY)&&(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE&&(O=b.sequenceHashBuf?b.sequenceHashBuf:b.sequenceHashBuf=E(H)),(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE?M=b.outputsHashBuf?b.outputsHashBuf:b.outputsHashBuf=C(H):(D&31)===n.SIGHASH_SINGLE&&L<H.outputs.length&&(M=C(H,L));var T=new o;T.writeUInt32LE(H.version),T.write(R),T.write(O),T.writeReverse(g.prevTxId),T.writeUInt32LE(g.outputIndex);var U=P.toBuffer();T.writeVarintNum(U.length),T.write(U),T.writeUInt64LEBN(A);var Y=g.sequenceNumber;T.writeUInt32LE(Y),T.write(M),T.writeUInt32LE(H.nLockTime),T.writeUInt32LE(D>>>0);var te=T.toBuffer();return te},y=function(D,L,P,A,b,g,v=new p){var E=W("98CPZ"),C=W("dQaOn");if(d.isUndefined(g)&&(g=x),g&h.SCRIPT_ENABLE_REPLAY_PROTECTION){var R=L>>8,O=16711680|R^57005;L=O<<8|L&255}if(L&n.SIGHASH_FORKID&&g&h.SCRIPT_ENABLE_SIGHASH_FORKID)return _(D,L,P,A,b);var M=E.shallowCopy(D);A=new i(A),A.removeCodeseparators();var T;for(T=0;T<M.inputs.length;T++)M.inputs[T]=new C(M.inputs[T]).setScript(i.empty());if(M.inputs[P]=new C(M.inputs[P]).setScript(A),(L&31)===n.SIGHASH_NONE||(L&31)===n.SIGHASH_SINGLE)for(T=0;T<M.inputs.length;T++)T!==P&&(M.inputs[T].sequenceNumber=0);if((L&31)===n.SIGHASH_NONE)M.outputs=[];else if((L&31)===n.SIGHASH_SINGLE){if(P>=M.outputs.length)return m;for(M.outputs.length=P+1,T=0;T<P;T++)M.outputs[T]=new s({satoshis:a.fromBuffer(r.from(w,"hex")),script:i.empty()})}L&n.SIGHASH_ANYONECANPAY&&(M.inputs=[M.inputs[P]]);var U=new o().write(M.toBuffer()).writeInt32LE(L).toBuffer();return U},S=function(D,L,P,A,b,g,v=new p){var E=y(D,L,P,A,b,g,v);if(E.compare(m)===0)return E;var C=l.sha256sha256(E);return C=new u(C).readReverse(),C};function F(H,D,L,P,A,b,g,v=new p){var E=S(H,L,P,A,b,g,v),C=f.sign(E,D,"little").set({nhashtype:L});return C}function N(H,D,L,P,A,b,g,v=new p){c.checkArgument(!d.isUndefined(H)),c.checkArgument(!d.isUndefined(D)&&!d.isUndefined(D.nhashtype));var E=S(H,D.nhashtype,P,A,b,g,v);return f.verify(E,D,L,"little")}t.exports={sighashPreimage:y,sighash:S,sign:F,verify:N}});Ge("bczuf",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("dIoYd"),s=W("gk75r"),u=W("2AZ1V"),o=W("1zMJW"),a=W("hkiTH"),l=W("6gAsx"),f=W("kooOK"),c=9007199254740991;function h(d){if(!(this instanceof h))return new h(d);if(n.isObject(d))if(this.satoshis=d.satoshis,r.isBuffer(d.script))this.setScriptFromBuffer(d.script);else{var p;n.isString(d.script)&&s.isHexa(d.script)?p=r.from(d.script,"hex"):p=d.script,this.setScript(p)}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(h.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script}}),Object.defineProperty(h.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(d){d instanceof i?(this._satoshisBN=d,this._satoshis=d.toNumber()):n.isString(d)?(this._satoshis=parseInt(d),this._satoshisBN=i.fromNumber(this._satoshis)):(l.checkArgument(s.isNaturalNumber(d),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(d),this._satoshis=d),l.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),h.prototype.invalidSatoshis=function(){return this._satoshis>c?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1},Object.defineProperty(h.prototype,"satoshisBN",{configurable:!1,enumerable:!0,get:function(){return this._satoshisBN},set:function(d){this._satoshisBN=d,this._satoshis=d.toNumber(),l.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),h.prototype.toObject=h.prototype.toJSON=function(){var p={satoshis:this.satoshis};return p.script=this._script.toBuffer().toString("hex"),p},h.fromObject=function(d){return new h(d)},h.prototype.setScriptFromBuffer=function(d){try{this._script=a.fromBuffer(d),this._script._isOutput=!0}catch(p){if(p instanceof f.Script.InvalidBuffer)this._script=null;else throw p}},h.prototype.setScript=function(d){if(d instanceof a)this._script=d,this._script._isOutput=!0;else if(n.isString(d))this._script=a.fromString(d),this._script._isOutput=!0;else if(r.isBuffer(d))this.setScriptFromBuffer(d);else throw new TypeError("Invalid argument type: script");return this},h.prototype.inspect=function(){var d;return this.script&&(d=this.script.inspect()),"<Output ("+this.satoshis+" sats) "+d+">"},h.fromBufferReader=function(d){var p={};p.satoshis=d.readUInt64LEBN();var m=d.readVarintNum();if(m!==0){if(d.remaining()<m)throw new TypeError("Unrecognized Output");p.script=d.read(m)}else p.script=r.from([]);return new h(p)},h.prototype.toBufferWriter=function(d){d||(d=new u),d.writeUInt64LEBN(this._satoshisBN);var p=this._script.toBuffer();return d.writeVarintNum(p.length),d.write(p),d},h.prototype.getSize=function(){var d=this.script.toBuffer().length,p=o(d).toBuffer().length;return 8+p+d},t.exports=h});Ge("l0DuR",function(t,e){var r=wr.Buffer;class n{constructor(s,u,o){this.prevoutsHashBuf=s,this.sequenceHashBuf=u,this.outputsHashBuf=o}static fromBuffer(s){return n.fromJSON(JSON.parse(s.toString()))}toBuffer(){return r.from(JSON.stringify(this.toJSON()))}static fromJSON(s){return new n(s.prevoutsHashBuf?r.from(s.prevoutsHashBuf,"hex"):void 0,s.sequenceHashBuf?r.from(s.sequenceHashBuf,"hex"):void 0,s.outputsHashBuf?r.from(s.outputsHashBuf,"hex"):void 0)}toJSON(){return{prevoutsHashBuf:this.prevoutsHashBuf?this.prevoutsHashBuf.toString("hex"):void 0,sequenceHashBuf:this.sequenceHashBuf?this.sequenceHashBuf.toString("hex"):void 0,outputsHashBuf:this.outputsHashBuf?this.outputsHashBuf.toString("hex"):void 0}}toHex(){return this.toBuffer().toString("hex")}static fromHex(s){let u=r.from(s,"hex");return n.fromBuffer(u)}}t.exports=n});Ge("dQaOn",function(t,e){t.exports=W("jbAmm"),t.exports.PublicKey=W("b2vm0"),t.exports.PublicKeyHash=W("ddQTk"),t.exports.MultiSig=W("dHaKi"),t.exports.MultiSigScriptHash=W("eJIfU")});Ge("jbAmm",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("kooOK"),u=W("2AZ1V"),o=W("gk75r"),a=W("hkiTH"),l=W("95EnH"),f=W("bczuf"),c=W("gIXub"),h=W("4Dqlv"),d=W("bTTXN"),p=W("g4xmW"),m=W("bpasi"),w=W("7smYJ"),x=4294967295,_=x-2,y=x,S=x-1;function F(H,D,L,P,A){var b=0;do{var g=l.sighashPreimage(H,D,L,P,A),v=d.sha256sha256(g);if(n.isPositiveNumber(v.readUInt8())&&n.isPositiveNumber(v.readUInt8(31)))return g;H.nLockTime++}while(b<Number.MAX_SAFE_INTEGER)}function N(H){if(!(this instanceof N))return new N(H);if(H)return this._fromObject(H)}N.MAXINT=x,N.DEFAULT_SEQNUMBER=y,N.DEFAULT_LOCKTIME_SEQNUMBER=S,N.DEFAULT_RBF_SEQNUMBER=_,N.BASE_SIZE=40,Object.defineProperty(N.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new a(this._scriptBuffer),this._script._isInput=!0),this._script)}}),N.fromObject=function(H){i.checkArgument(n.isObject(H));var D=new N;return D._fromObject(H)},N.prototype._fromObject=function(H){var D;if(n.isString(H.prevTxId)&&o.isHexa(H.prevTxId)?D=r.from(H.prevTxId,"hex"):D=H.prevTxId,this.output=H.output?H.output instanceof f?H.output:new f(H.output):void 0,this.prevTxId=D||H.txidbuf,this.outputIndex=n.isUndefined(H.outputIndex)?H.txoutnum:H.outputIndex,this.sequenceNumber=n.isUndefined(H.sequenceNumber)?n.isUndefined(H.seqnum)?y:H.seqnum:H.sequenceNumber,n.isUndefined(H.script)&&n.isUndefined(H.scriptBuffer))throw new s.Transaction.Input.MissingScript;return this.setScript(H.scriptBuffer||H.script),this},N.prototype.toObject=N.prototype.toJSON=function(){var D={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(D.scriptString=this.script.toString()),this.output&&(D.output=this.output.toObject()),D},N.fromBufferReader=function(H){var D=new N;return D.prevTxId=H.readReverse(32),D.outputIndex=H.readUInt32LE(),D._scriptBuffer=H.readVarLengthBuffer(),D.sequenceNumber=H.readUInt32LE(),D},N.prototype.toBufferWriter=function(H){H||(H=new u),H.writeReverse(this.prevTxId),H.writeUInt32LE(this.outputIndex);var D=this._scriptBuffer;return H.writeVarintNum(D.length),H.write(D),H.writeUInt32LE(this.sequenceNumber),H},N.prototype.setScript=function(H){if(this._script=null,H instanceof a)this._script=H,this._script._isInput=!0,this._scriptBuffer=H.toBuffer();else if(H===null)this._script=a.empty(),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(o.isHexa(H))this._scriptBuffer=r.from(H,"hex");else if(n.isString(H))this._script=new a(H),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(r.isBuffer(H))this._scriptBuffer=r.from(H);else throw new TypeError("Invalid argument type: script");return this},N.prototype.getSignatures=function(H,D,L,P){i.checkState(this.output instanceof f),P=P||c.SIGHASH_ALL|c.SIGHASH_FORKID;var A=[];if(D instanceof w)A.push(new h({publicKey:D.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:L,signature:l.sign(H,D,P,L,this.output.script,this.output.satoshisBN),sigtype:P}));else if(n.isArray(D)){var b=this;n.each(D,function(g,v){var E=P;n.isArray(P)&&(E=P[v]||c.SIGHASH_ALL|c.SIGHASH_FORKID),A.push(new h({publicKey:g.publicKey,prevTxId:b.prevTxId,outputIndex:b.outputIndex,inputIndex:L,signature:l.sign(H,g,E,L,b.output.script,b.output.satoshisBN),sigtype:E}))})}return A},N.prototype.getPreimage=function(H,D,L,P,A){i.checkState(this.output instanceof f),L=L||c.SIGHASH_ALL|c.SIGHASH_FORKID,P=P||!1;var b=typeof A=="number"?this.output.script.subScript(A):this.output.script;return P?F(H,L,D,b,this.output.satoshisBN):l.sighashPreimage(H,L,D,b,this.output.satoshisBN)},N.prototype.isFullySigned=function(){throw new s.AbstractMethodInvoked("Input#isFullySigned")},N.prototype.isFinal=function(){return this.sequenceNumber===N.MAXINT},N.prototype.addSignature=function(){},N.prototype.clearSignatures=function(){},N.prototype.isValidSignature=function(H,D){return D.signature.nhashtype=D.sigtype,l.verify(H,D.signature,D.publicKey,D.inputIndex,this.output.script,this.output.satoshisBN)},N.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295},N.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},N.prototype.verify=function(H,D){i.checkState(this.output instanceof f),i.checkState(this.script instanceof a),i.checkState(this.output.script instanceof a);var L=this.script,P=this.output.script,A=this.output.satoshisBN;p.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,p.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let b=new p,g={};b.stepListener=function(E){(E.fExec||m.OP_IF<=E.opcode.toNumber()&&E.opcode.toNumber()<=m.OP_ENDIF)&&(m.OP_IF<=E.opcode.toNumber()&&E.opcode.toNumber()<=m.OP_ENDIF||E.opcode.toNumber()===m.OP_RETURN?g.opcode=E.opcode:g=E)};var v=b.verify(L,P,H,D,p.DEFAULT_FLAGS,A);return g.opcode&&(g.opcode=g.opcode.toNumber()),{success:v,error:b.errstr,failedAt:v?{}:g}},t.exports=N});Ge("4Dqlv",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("gk75r"),u=W("arkeG"),o=W("kooOK"),a=W("gIXub");function l(f){if(!(this instanceof l))return new l(f);if(f instanceof l)return f;if(n.isObject(f))return this._fromObject(f);throw new o.InvalidArgument("TransactionSignatures must be instantiated from an object")}R8(l,a),l.prototype._fromObject=function(f){return this._checkObjectArgs(f),this.publicKey=new u(f.publicKey),this.prevTxId=r.isBuffer(f.prevTxId)?f.prevTxId:r.from(f.prevTxId,"hex"),this.outputIndex=f.outputIndex,this.inputIndex=f.inputIndex,this.signature=f.signature instanceof a?f.signature:r.isBuffer(f.signature)?a.fromBuffer(f.signature):a.fromString(f.signature),this.sigtype=f.sigtype,this},l.prototype._checkObjectArgs=function(f){i.checkArgument(u(f.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(f.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(f.outputIndex),"outputIndex"),i.checkState(n.isNumber(f.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(f.outputIndex),"outputIndex must be a number"),i.checkArgument(f.signature,"signature"),i.checkArgument(f.prevTxId,"prevTxId"),i.checkState(f.signature instanceof a||r.isBuffer(f.signature)||s.isHexa(f.signature),"signature must be a buffer or hexa value"),i.checkState(r.isBuffer(f.prevTxId)||s.isHexa(f.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(f.sigtype,"sigtype"),i.checkState(n.isNumber(f.sigtype),"sigtype must be a number")},l.prototype.toObject=l.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},l.fromObject=function(f){return i.checkArgument(f),new l(f)},t.exports=l});Ge("b2vm0",function(t,e){"use strict";var r=W("6gAsx"),n=W("jbAmm"),i=W("bczuf"),s=W("95EnH"),u=W("hkiTH"),o=W("gIXub"),a=W("4Dqlv");function l(){n.apply(this,arguments)}R8(l,n),l.prototype.getSignatures=function(f,c,h,d){r.checkState(this.output instanceof i),d=d||o.SIGHASH_ALL|o.SIGHASH_FORKID;var p=c.toPublicKey();return p.toString()===this.output.script.getPublicKey().toString("hex")?[new a({publicKey:p,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:h,signature:s.sign(f,c,d,h,this.output.script,this.output.satoshisBN),sigtype:d})]:[]},l.prototype.addSignature=function(f,c){return r.checkState(this.isValidSignature(f,c),"Signature is invalid"),this.setScript(u.buildPublicKeyIn(c.signature.toDER(),c.sigtype)),this},l.prototype.clearSignatures=function(){return this.setScript(u.empty()),this},l.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},l.SCRIPT_MAX_SIZE=74,l.prototype._estimateSize=function(){return n.BASE_SIZE+l.SCRIPT_MAX_SIZE},t.exports=l});Ge("ddQTk",function(t,e){"use strict";var r=W("6gAsx"),n=W("bTTXN"),i=W("jbAmm"),s=W("bczuf"),u=W("95EnH"),o=W("hkiTH"),a=W("gIXub"),l=W("4Dqlv");function f(){i.apply(this,arguments)}R8(f,i),f.prototype.getSignatures=function(c,h,d,p,m){return r.checkState(this.output instanceof s),m=m||n.sha256ripemd160(h.publicKey.toBuffer()),p=p||a.SIGHASH_ALL|a.SIGHASH_FORKID,m.equals(this.output.script.getPublicKeyHash())?[new l({publicKey:h.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:d,signature:u.sign(c,h,p,d,this.output.script,this.output.satoshisBN),sigtype:p})]:[]},f.prototype.addSignature=function(c,h){return r.checkState(this.isValidSignature(c,h),"Signature is invalid"),this.setScript(o.buildPublicKeyHashIn(h.publicKey,h.signature.toDER(),h.sigtype)),this},f.prototype.clearSignatures=function(){return this.setScript(o.empty()),this},f.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()},f.SCRIPT_MAX_SIZE=140,f.prototype._estimateSize=function(){return i.BASE_SIZE+f.SCRIPT_MAX_SIZE},t.exports=f});Ge("dHaKi",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("jbAmm"),s=W("bczuf"),u=W("6gAsx"),o=W("hkiTH"),a=W("gIXub"),l=W("95EnH"),f=W("4Dqlv"),c=W("arkeG"),h=W("1zMJW");function d(p,m,w,x){i.apply(this,arguments);var _=this;m=m||p.publicKeys,w=w||p.threshold,x=x||p.signatures,this.publicKeys=m.map(y=>y.toString("hex")).sort().map(y=>new c(y)),u.checkState(o.buildMultisigOut(this.publicKeys,w).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,function(y,S){_.publicKeyIndex[y.toString()]=S}),this.threshold=w,this.signatures=x?this._deserializeSignatures(x):new Array(this.publicKeys.length)}R8(d,i),d.prototype.toObject=function(){var p=i.prototype.toObject.apply(this,arguments);return p.threshold=this.threshold,p.publicKeys=n.map(this.publicKeys,function(m){return m.toString()}),p.signatures=this._serializeSignatures(),p},d.prototype._deserializeSignatures=function(p){return n.map(p,function(m){if(!!m)return new f(m)})},d.prototype._serializeSignatures=function(){return n.map(this.signatures,function(p){if(!!p)return p.toObject()})},d.prototype.getSignatures=function(p,m,w,x){u.checkState(this.output instanceof s),x=x||a.SIGHASH_ALL|a.SIGHASH_FORKID;var _=this,y=[];return n.each(this.publicKeys,function(S){S.toString()===m.publicKey.toString()&&y.push(new f({publicKey:m.publicKey,prevTxId:_.prevTxId,outputIndex:_.outputIndex,inputIndex:w,signature:l.sign(p,m,x,w,_.output.script,_.output.satoshisBN),sigtype:x}))}),y},d.prototype.addSignature=function(p,m){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[m.publicKey.toString()]),"Signature has no matching public key"),u.checkState(this.isValidSignature(p,m)),this.signatures[this.publicKeyIndex[m.publicKey.toString()]]=m,this._updateScript(),this},d.prototype._updateScript=function(){return this.setScript(o.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},d.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(p){return!n.isUndefined(p)}),function(p){return r.concat([p.signature.toDER(),r.from([p.sigtype&255])])})},d.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},d.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},d.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},d.prototype.countSignatures=function(){return n.reduce(this.signatures,function(p,m){return p+!!m},0)},d.prototype.publicKeysWithoutSignature=function(){var p=this;return n.filter(this.publicKeys,function(m){return!p.signatures[p.publicKeyIndex[m.toString()]]})},d.prototype.isValidSignature=function(p,m){return m.signature.nhashtype=m.sigtype,l.verify(p,m.signature,m.publicKey,m.inputIndex,this.output.script,this.output.satoshisBN)},d.normalizeSignatures=function(p,m,w,x,_){return _.map(function(y){var S=null;return x=x.filter(function(F){if(S)return!0;var N=new f({signature:a.fromTxFormat(F),publicKey:y,prevTxId:m.prevTxId,outputIndex:m.outputIndex,inputIndex:w,sigtype:a.SIGHASH_ALL});N.signature.nhashtype=N.sigtype;var H=l.verify(p,N.signature,N.publicKey,N.inputIndex,m.output.script);return H?(S=N,!1):!0}),S||null})},d.SIGNATURE_SIZE=73,d.prototype._estimateSize=function(){var p=1+this.threshold*d.SIGNATURE_SIZE;return i.BASE_SIZE+h(p).toBuffer().length+p},t.exports=d});Ge("eJIfU",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("jbAmm"),s=W("bczuf"),u=W("6gAsx"),o=W("hkiTH"),a=W("gIXub"),l=W("95EnH"),f=W("4Dqlv"),c=W("arkeG"),h=W("1zMJW");function d(p,m,w,x){i.apply(this,arguments);var _=this;m=m||p.publicKeys,w=w||p.threshold,x=x||p.signatures,this.publicKeys=m.map(y=>y.toString("hex")).sort().map(y=>new c(y)),this.redeemScript=o.buildMultisigOut(this.publicKeys,w),u.checkState(o.buildScriptHashOut(this.redeemScript).equals(this.output.script),"Provided public keys don't hash to the provided output"),this.publicKeyIndex={},n.each(this.publicKeys,function(y,S){_.publicKeyIndex[y.toString()]=S}),this.threshold=w,this.signatures=x?this._deserializeSignatures(x):new Array(this.publicKeys.length)}R8(d,i),d.prototype.toObject=function(){var p=i.prototype.toObject.apply(this,arguments);return p.threshold=this.threshold,p.publicKeys=n.map(this.publicKeys,function(m){return m.toString()}),p.signatures=this._serializeSignatures(),p},d.prototype._deserializeSignatures=function(p){return n.map(p,function(m){if(!!m)return new f(m)})},d.prototype._serializeSignatures=function(){return n.map(this.signatures,function(p){if(!!p)return p.toObject()})},d.prototype.getSignatures=function(p,m,w,x){u.checkState(this.output instanceof s),x=x||a.SIGHASH_ALL|a.SIGHASH_FORKID;var _=this,y=[];return n.each(this.publicKeys,function(S){S.toString()===m.publicKey.toString()&&y.push(new f({publicKey:m.publicKey,prevTxId:_.prevTxId,outputIndex:_.outputIndex,inputIndex:w,signature:l.sign(p,m,x,w,_.redeemScript,_.output.satoshisBN),sigtype:x}))}),y},d.prototype.addSignature=function(p,m){return u.checkState(!this.isFullySigned(),"All needed signatures have already been added"),u.checkArgument(!n.isUndefined(this.publicKeyIndex[m.publicKey.toString()]),"Signature has no matching public key"),u.checkState(this.isValidSignature(p,m)),this.signatures[this.publicKeyIndex[m.publicKey.toString()]]=m,this._updateScript(),this},d.prototype._updateScript=function(){return this.setScript(o.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript})),this},d.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(p){return!n.isUndefined(p)}),function(p){return r.concat([p.signature.toDER(),r.from([p.sigtype&255])])})},d.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},d.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},d.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},d.prototype.countSignatures=function(){return n.reduce(this.signatures,function(p,m){return p+!!m},0)},d.prototype.publicKeysWithoutSignature=function(){var p=this;return n.filter(this.publicKeys,function(m){return!p.signatures[p.publicKeyIndex[m.toString()]]})},d.prototype.isValidSignature=function(p,m){return m.signature.nhashtype=m.sigtype,l.verify(p,m.signature,m.publicKey,m.inputIndex,this.redeemScript,this.output.satoshisBN)},d.SIGNATURE_SIZE=73,d.PUBKEY_SIZE=34,d.prototype._estimateSize=function(){var p=this.publicKeys.length*d.PUBKEY_SIZE,m=this.threshold*d.SIGNATURE_SIZE,w=3+p,x=w<=75?1:w<=255?2:3,_=m+1+x+w;return i.BASE_SIZE+h(_).toBuffer().length+_},t.exports=d});Ge("G1usC",function(t,e){"use strict";var r=W("kBBbb"),n=W("6gAsx"),i=W("gk75r"),s=W("hkiTH"),u=W("iSUUt");function o(a){if(!(this instanceof o))return new o(a);n.checkArgument(r.isObject(a),"Must provide an object from where to extract data");var l=a.address?new u(a.address):void 0,f=a.txid?a.txid:a.txId;if(!f||!i.isHexaString(f)||f.length>64)throw new Error("Invalid TXID in object",a);var c=r.isUndefined(a.vout)?a.outputIndex:a.vout;if(!r.isNumber(c))throw new Error("Invalid outputIndex, received "+c);n.checkArgument(!r.isUndefined(a.scriptPubKey)||!r.isUndefined(a.script),"Must provide the scriptPubKey for that output!");var h=new s(a.scriptPubKey||a.script);n.checkArgument(!r.isUndefined(a.amount)||!r.isUndefined(a.satoshis),"Must provide an amount for the output");var d=r.isUndefined(a.amount)?a.satoshis:Math.round(a.amount*1e8);n.checkArgument(r.isNumber(d),"Amount must be a number"),i.defineImmutable(this,{address:l,txId:f,outputIndex:c,script:h,satoshis:d})}o.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},o.prototype.toString=function(){return this.txId+":"+this.outputIndex},o.fromObject=function(a){return new o(a)},o.prototype.toObject=o.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:Number.parseFloat((this.satoshis/1e8).toFixed(8))}},t.exports=o});Ge("7X5Fe",function(t,e){t.exports=W("fS7Ty")});Ge("fS7Ty",function(t,e){var r=wr.Buffer;function n(){}n.getRandomBuffer=function(i){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");var s;if(window.crypto&&window.crypto.getRandomValues)s=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)s=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var u=new Uint8Array(i);s.getRandomValues(u);var o=r.from(u);return o},t.exports=n});Ge("19NsJ",function(t,e){t.exports=W("dhOpK"),t.exports.BlockHeader=W("gGdD6"),t.exports.MerkleBlock=W("hVYHX")});Ge("dhOpK",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("gGdD6"),s=W("dIoYd"),u=W("28ku8"),o=W("2AZ1V"),a=W("bTTXN"),l=W("7pkU6"),f=W("6gAsx");function c(d){return this instanceof c?(n.extend(this,c._from(d)),this):new c(d)}c.MAX_BLOCK_SIZE=128e6,c._from=function(p){var m={};if(r.isBuffer(p))m=c._fromBufferReader(u(p));else if(n.isObject(p))m=c._fromObject(p);else throw new TypeError("Unrecognized argument for Block");return m},c._fromObject=function(p){var m=[];p.transactions.forEach(function(x){x instanceof l?m.push(x):m.push(l().fromObject(x))});var w={header:i.fromObject(p.header),transactions:m};return w},c.fromObject=function(p){var m=c._fromObject(p);return new c(m)},c._fromBufferReader=function(p){var m={};f.checkState(!p.finished(),"No block data received"),m.header=i.fromBufferReader(p);var w=p.readVarintNum();m.transactions=[];for(var x=0;x<w;x++)m.transactions.push(l().fromBufferReader(p));return m},c.fromBufferReader=function(p){f.checkArgument(p,"br is required");var m=c._fromBufferReader(p);return new c(m)},c.fromBuffer=function(p){return c.fromBufferReader(new u(p))},c.fromString=function(p){var m=r.from(p,"hex");return c.fromBuffer(m)},c.fromRawBlock=function(p){r.isBuffer(p)||(p=r.from(p,"binary"));var m=u(p);m.pos=c.Values.START_OF_BLOCK;var w=c._fromBufferReader(m);return new c(w)},c.prototype.toObject=c.prototype.toJSON=function(){var p=[];return this.transactions.forEach(function(m){p.push(m.toObject())}),{header:this.header.toObject(),transactions:p}},c.prototype.toBuffer=function(){return this.toBufferWriter().concat()},c.prototype.toString=function(){return this.toBuffer().toString("hex")},c.prototype.toBufferWriter=function(p){p||(p=new o),p.write(this.header.toBuffer()),p.writeVarintNum(this.transactions.length);for(var m=0;m<this.transactions.length;m++)this.transactions[m].toBufferWriter(p);return p},c.prototype.getTransactionHashes=function(){var p=[];if(this.transactions.length===0)return[c.Values.NULL_HASH];for(var m=0;m<this.transactions.length;m++)p.push(this.transactions[m]._getHash());return p},c.prototype.getMerkleTree=function(){for(var p=this.getTransactionHashes(),m=0,w=this.transactions.length;w>1;w=Math.floor((w+1)/2)){for(var x=0;x<w;x+=2){var _=Math.min(x+1,w-1),y=r.concat([p[m+x],p[m+_]]);p.push(a.sha256sha256(y))}m+=w}return p},c.prototype.getMerkleRoot=function(){var p=this.getMerkleTree();return p[p.length-1]},c.prototype.validMerkleRoot=function(){var p=new s(this.header.merkleRoot.toString("hex"),"hex"),m=new s(this.getMerkleRoot().toString("hex"),"hex");return p.cmp(m)===0},c.prototype._getHash=function(){return this.header._getHash()};var h={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(c.prototype,"id",h),Object.defineProperty(c.prototype,"hash",h),c.prototype.inspect=function(){return"<Block "+this.id+">"},c.Values={START_OF_BLOCK:8,NULL_HASH:r.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=c});Ge("gGdD6",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("dIoYd"),s=W("28ku8"),u=W("2AZ1V"),o=W("bTTXN"),a=W("6gAsx"),l=486604799,f=function h(d){if(!(this instanceof h))return new h(d);var p=h._from(d);return this.version=p.version,this.prevHash=p.prevHash,this.merkleRoot=p.merkleRoot,this.time=p.time,this.timestamp=p.time,this.bits=p.bits,this.nonce=p.nonce,p.hash&&a.checkState(this.hash===p.hash,"Argument object hash property does not match block hash."),this};f._from=function(d){var p={};if(r.isBuffer(d))p=f._fromBufferReader(s(d));else if(n.isObject(d))p=f._fromObject(d);else throw new TypeError("Unrecognized argument for BlockHeader");return p},f._fromObject=function(d){a.checkArgument(d,"data is required");var p=d.prevHash,m=d.merkleRoot;n.isString(d.prevHash)&&(p=r.from(d.prevHash,"hex").reverse()),n.isString(d.merkleRoot)&&(m=r.from(d.merkleRoot,"hex").reverse());var w={hash:d.hash,version:d.version,prevHash:p,merkleRoot:m,time:d.time,timestamp:d.time,bits:d.bits,nonce:d.nonce};return w},f.fromObject=function(d){var p=f._fromObject(d);return new f(p)},f.fromRawBlock=function(d){r.isBuffer(d)||(d=r.from(d,"binary"));var p=s(d);p.pos=f.Constants.START_OF_HEADER;var m=f._fromBufferReader(p);return new f(m)},f.fromBuffer=function(d){var p=f._fromBufferReader(s(d));return new f(p)},f.fromString=function(d){var p=r.from(d,"hex");return f.fromBuffer(p)},f._fromBufferReader=function(d){var p={};return p.version=d.readInt32LE(),p.prevHash=d.read(32),p.merkleRoot=d.read(32),p.time=d.readUInt32LE(),p.bits=d.readUInt32LE(),p.nonce=d.readUInt32LE(),p},f.fromBufferReader=function(d){var p=f._fromBufferReader(d);return new f(p)},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:r.from(this.prevHash).reverse().toString("hex"),merkleRoot:r.from(this.merkleRoot).reverse().toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(d){return d||(d=new u),d.writeInt32LE(this.version),d.write(this.prevHash),d.write(this.merkleRoot),d.writeUInt32LE(this.time),d.writeUInt32LE(this.bits),d.writeUInt32LE(this.nonce),d},f.prototype.getTargetDifficulty=function(d){d=d||this.bits;for(var p=new i(d&16777215),m=8*((d>>>24)-3);m-- >0;)p=p.mul(new i(2));return p},f.prototype.getDifficulty=function(){var d=this.getTargetDifficulty(l).mul(new i(Math.pow(10,8))),p=this.getTargetDifficulty(),m=d.div(p).toString(10),w=m.length-8;return m=m.slice(0,w)+"."+m.slice(w),parseFloat(m)},f.prototype._getHash=function(){var d=this.toBuffer();return o.sha256sha256(d)};var c={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",c),Object.defineProperty(f.prototype,"hash",c),f.prototype.validTimestamp=function(){var d=Math.round(new Date().getTime()/1e3);return!(this.time>d+f.Constants.MAX_TIME_OFFSET)},f.prototype.validProofOfWork=function(){var d=new i(this.id,"hex"),p=this.getTargetDifficulty();return!(d.cmp(p)>0)},f.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},f.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f});Ge("hVYHX",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("gGdD6"),s=W("28ku8"),u=W("2AZ1V"),o=W("bTTXN"),a=W("7pkU6"),l=W("kooOK"),f=W("6gAsx");function c(h){if(!(this instanceof c))return new c(h);var d={};if(r.isBuffer(h))d=c._fromBufferReader(s(h));else if(n.isObject(h)){var p;h.header instanceof i?p=h.header:p=i.fromObject(h.header),d={header:p,numTransactions:h.numTransactions,hashes:h.hashes,flags:h.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return n.extend(this,d),this._flagBitsUsed=0,this._hashesUsed=0,this}c.fromBuffer=function(d){return c.fromBufferReader(s(d))},c.fromBufferReader=function(d){return new c(c._fromBufferReader(d))},c.prototype.toBuffer=function(){return this.toBufferWriter().concat()},c.prototype.toBufferWriter=function(d){d||(d=new u),d.write(this.header.toBuffer()),d.writeUInt32LE(this.numTransactions),d.writeVarintNum(this.hashes.length);for(var p=0;p<this.hashes.length;p++)d.write(r.from(this.hashes[p],"hex"));for(d.writeVarintNum(this.flags.length),p=0;p<this.flags.length;p++)d.writeUInt8(this.flags[p]);return d},c.prototype.toObject=c.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},c.prototype.validMerkleTree=function(){if(f.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),f.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var d=this._calcTreeHeight(),p={hashesUsed:0,flagBitsUsed:0},m=this._traverseMerkleTree(d,0,p);return p.hashesUsed!==this.hashes.length?!1:m.equals(this.header.merkleRoot)},c.prototype.filterdTxsHash=function(){throw new Error("filterdTxsHash has been deprecated. use filteredTxsHash.")},c.prototype.filteredTxsHash=function(){if(f.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),f.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new l.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new l.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var d=this._calcTreeHeight(),p={hashesUsed:0,flagBitsUsed:0},m=this._traverseMerkleTree(d,0,p,!0);if(p.hashesUsed!==this.hashes.length)throw new l.MerkleBlock.InvalidMerkleTree;return m},c.prototype._traverseMerkleTree=function(d,p,m,w){if(m=m||{},m.txs=m.txs||[],m.flagBitsUsed=m.flagBitsUsed||0,m.hashesUsed=m.hashesUsed||0,w=w||!1,m.flagBitsUsed>this.flags.length*8)return null;var x=this.flags[m.flagBitsUsed>>3]>>>(m.flagBitsUsed++&7)&1;if(d===0||!x){if(m.hashesUsed>=this.hashes.length)return null;var _=this.hashes[m.hashesUsed++];return d===0&&x&&m.txs.push(_),r.from(_,"hex")}else{var y=this._traverseMerkleTree(d-1,p*2,m),S=y;return p*2+1<this._calcTreeWidth(d-1)&&(S=this._traverseMerkleTree(d-1,p*2+1,m)),w?m.txs:o.sha256sha256(r.concat([y,S]))}},c.prototype._calcTreeWidth=function(d){return this.numTransactions+(1<<d)-1>>d},c.prototype._calcTreeHeight=function(){for(var d=0;this._calcTreeWidth(d)>1;)d++;return d},c.prototype.hasTransaction=function(d){f.checkArgument(!n.isUndefined(d),"tx cannot be undefined"),f.checkArgument(d instanceof a||typeof d=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var p=d;d instanceof a&&(p=r.from(d.id,"hex").reverse().toString("hex"));var m=[],w=this._calcTreeHeight();return this._traverseMerkleTree(w,0,{txs:m}),m.indexOf(p)!==-1},c._fromBufferReader=function(d){f.checkState(!d.finished(),"No merkleblock data received");var p={};p.header=i.fromBufferReader(d),p.numTransactions=d.readUInt32LE();var m=d.readVarintNum();p.hashes=[];for(var w=0;w<m;w++)p.hashes.push(d.read(32).toString("hex"));var x=d.readVarintNum();for(p.flags=[],w=0;w<x;w++)p.flags.push(d.readUInt8());return p},c.fromObject=function(d){return new c(d)},t.exports=c});Ge("4bgoH",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("dIoYd"),u=W("jG967"),o=W("j7ODq"),a=W("bTTXN"),l=W("cyjag"),f=W("f0gTO"),c=W("7smYJ"),h=W("7X5Fe"),d=W("kooOK"),p=d.HDPrivateKey,m=W("gk75r"),w=128,x=1/8,_=512;function y(S){if(S instanceof y)return S;if(!(this instanceof y))return new y(S);if(!S)return this._generateRandomly();if(l.get(S))return this._generateRandomly(S);if(n.isString(S)||r.isBuffer(S))if(y.isValidSerialized(S))this._buildFromSerialized(S);else if(m.isValidJSON(S))this._buildFromJSON(S);else if(r.isBuffer(S)&&y.isValidSerialized(S.toString()))this._buildFromSerialized(S.toString());else throw y.getSerializedError(S);else if(n.isObject(S))this._buildFromObject(S);else throw new p.UnrecognizedArgument(S)}y.fromRandom=function(){return new y},y.isValidPath=function(S,F){if(n.isString(S)){var N=y._getDerivationIndexes(S);return N!==null&&n.every(N,y.isValidPath)}return n.isNumber(S)?(S<y.Hardened&&F===!0&&(S+=y.Hardened),S>=0&&S<y.MaxIndex):!1},y._getDerivationIndexes=function(S){var F=S.split("/");if(n.includes(y.RootElementAlias,S))return[];if(!n.includes(y.RootElementAlias,F[0]))return null;var N=F.slice(1).map(function(H){var D=H.slice(-1)==="'";if(D&&(H=H.slice(0,-1)),!H||H[0]==="-")return NaN;var L=+H;return D&&(L+=y.Hardened),L});return n.some(N,isNaN)?null:N},y.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},y.prototype.deriveChild=function(S,F){if(n.isNumber(S))return this._deriveWithNumber(S,F);if(n.isString(S))return this._deriveFromString(S);throw new p.InvalidDerivationArgument(S)},y.prototype.deriveNonCompliantChild=function(S,F){if(n.isNumber(S))return this._deriveWithNumber(S,F,!0);if(n.isString(S))return this._deriveFromString(S,!0);throw new p.InvalidDerivationArgument(S)},y.prototype._deriveWithNumber=function(S,F,N){if(!y.isValidPath(S,F))throw new p.InvalidPath(S);F=S>=y.Hardened?!0:F,S<y.Hardened&&F===!0&&(S+=y.Hardened);var H=m.integerAsBuffer(S),D;if(F&&N){var L=this.privateKey.bn.toBuffer();D=r.concat([r.from([0]),L,H])}else if(F){var P=this.privateKey.bn.toBuffer({size:32});Nh(P.length===32,"length of private key buffer is expected to be 32 bytes"),D=r.concat([r.from([0]),P,H])}else D=r.concat([this.publicKey.toBuffer(),H]);var A=a.sha512hmac(D,this._buffers.chainCode),b=s.fromBuffer(A.slice(0,32),{size:32}),g=A.slice(32,64),v=b.add(this.privateKey.toBigNumber()).umod(f.getN()).toBuffer({size:32});if(!c.isValid(v))return this._deriveWithNumber(S+1,null,N);var E=new y({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:S,chainCode:g,privateKey:v});return E},y.prototype._deriveFromString=function(S,F){if(!y.isValidPath(S))throw new p.InvalidPath(S);var N=y._getDerivationIndexes(S),H=N.reduce(function(D,L){return D._deriveWithNumber(L,null,F)},this);return H},y.isValidSerialized=function(S,F){return!y.getSerializedError(S,F)},y.getSerializedError=function(S,F){if(!(n.isString(S)||r.isBuffer(S)))return new p.UnrecognizedArgument("Expected string or buffer");if(!u.validCharacters(S))return new d.InvalidB58Char("(unknown)",S);try{S=o.decode(S)}catch{return new d.InvalidB58Checksum(S)}if(S.length!==y.DataLength)return new p.InvalidLength(S);if(!n.isUndefined(F)){var N=y._validateNetwork(S,F);if(N)return N}return null},y._validateNetwork=function(S,F){var N=l.get(F);if(!N)return new d.InvalidNetworkArgument(F);var H=S.slice(0,4);return H.readUInt32BE(0)!==N.xprivkey?new d.InvalidNetwork(H):null},y.fromString=function(S){return i.checkArgument(n.isString(S),"No valid string was provided"),new y(S)},y.fromObject=function(S){return i.checkArgument(n.isObject(S),"No valid argument was provided"),new y(S)},y.prototype._buildFromJSON=function(S){return this._buildFromObject(JSON.parse(S))},y.prototype._buildFromObject=function(S){var F={version:S.network?m.integerAsBuffer(l.get(S.network).xprivkey):S.version,depth:n.isNumber(S.depth)?r.from([S.depth&255]):S.depth,parentFingerPrint:n.isNumber(S.parentFingerPrint)?m.integerAsBuffer(S.parentFingerPrint):S.parentFingerPrint,childIndex:n.isNumber(S.childIndex)?m.integerAsBuffer(S.childIndex):S.childIndex,chainCode:n.isString(S.chainCode)?r.from(S.chainCode,"hex"):S.chainCode,privateKey:n.isString(S.privateKey)&&m.isHexa(S.privateKey)?r.from(S.privateKey,"hex"):S.privateKey,checksum:S.checksum?S.checksum.length?S.checksum:m.integerAsBuffer(S.checksum):void 0};return this._buildFromBuffers(F)},y.prototype._buildFromSerialized=function(S){var F=o.decode(S),N={version:F.slice(y.VersionStart,y.VersionEnd),depth:F.slice(y.DepthStart,y.DepthEnd),parentFingerPrint:F.slice(y.ParentFingerPrintStart,y.ParentFingerPrintEnd),childIndex:F.slice(y.ChildIndexStart,y.ChildIndexEnd),chainCode:F.slice(y.ChainCodeStart,y.ChainCodeEnd),privateKey:F.slice(y.PrivateKeyStart,y.PrivateKeyEnd),checksum:F.slice(y.ChecksumStart,y.ChecksumEnd),xprivkey:S};return this._buildFromBuffers(N)},y.prototype._generateRandomly=function(S){return y.fromSeed(h.getRandomBuffer(64),S)},y.fromSeed=function(S,F){if(m.isHexaString(S)&&(S=r.from(S,"hex")),!r.isBuffer(S))throw new p.InvalidEntropyArgument(S);if(S.length<w*x)throw new p.InvalidEntropyArgument.NotEnoughEntropy(S);if(S.length>_*x)throw new p.InvalidEntropyArgument.TooMuchEntropy(S);var N=a.sha512hmac(S,r.from("Bitcoin seed"));return new y({network:l.get(F)||l.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:N.slice(0,32),chainCode:N.slice(32,64)})},y.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var S=W("8kXe7");this._hdPublicKey=new S(this)}},y.prototype._buildFromBuffers=function(S){y._validateBufferArguments(S),m.defineImmutable(this,{_buffers:S});var F=[S.version,S.depth,S.parentFingerPrint,S.childIndex,S.chainCode,r.alloc(1),S.privateKey],N=r.concat(F);if(!S.checksum||!S.checksum.length)S.checksum=o.checksum(N);else if(S.checksum.toString()!==o.checksum(N).toString())throw new d.InvalidB58Checksum(N);var H=l.get(S.version.readUInt32BE(0)),D;D=o.encode(r.concat(F)),S.xprivkey=r.from(D);var L=new c(s.fromBuffer(S.privateKey),H),P=L.toPublicKey(),A=y.ParentFingerPrintSize,b=a.sha256ripemd160(P.toBuffer()).slice(0,A);return m.defineImmutable(this,{xprivkey:D,network:H,depth:S.depth[0],privateKey:L,publicKey:P,fingerPrint:b}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},y._validateBufferArguments=function(S){var F=function(N,H){var D=S[N];Nh(r.isBuffer(D),N+" argument is not a buffer"),Nh(D.length===H,N+" has not the expected size: found "+D.length+", expected "+H)};F("version",y.VersionSize),F("depth",y.DepthSize),F("parentFingerPrint",y.ParentFingerPrintSize),F("childIndex",y.ChildIndexSize),F("chainCode",y.ChainCodeSize),F("privateKey",y.PrivateKeySize),S.checksum&&S.checksum.length&&F("checksum",y.CheckSumSize)},y.prototype.toString=function(){return this.xprivkey},y.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},y.prototype.toObject=y.prototype.toJSON=function(){return{network:l.get(this._buffers.version.readUInt32BE(0),"xprivkey").name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:this._buffers.checksum.readUInt32BE(0),xprivkey:this.xprivkey}},y.fromBuffer=function(S){return new y(S.toString())},y.fromHex=function(S){return y.fromBuffer(r.from(S,"hex"))},y.prototype.toBuffer=function(){return r.from(this.toString())},y.prototype.toHex=function(){return this.toBuffer().toString("hex")},y.DefaultDepth=0,y.DefaultFingerprint=0,y.DefaultChildIndex=0,y.Hardened=2147483648,y.MaxIndex=2*y.Hardened,y.RootElementAlias=["m","M","m'","M'"],y.VersionSize=4,y.DepthSize=1,y.ParentFingerPrintSize=4,y.ChildIndexSize=4,y.ChainCodeSize=32,y.PrivateKeySize=32,y.CheckSumSize=4,y.DataLength=78,y.SerializedByteSize=82,y.VersionStart=0,y.VersionEnd=y.VersionStart+y.VersionSize,y.DepthStart=y.VersionEnd,y.DepthEnd=y.DepthStart+y.DepthSize,y.ParentFingerPrintStart=y.DepthEnd,y.ParentFingerPrintEnd=y.ParentFingerPrintStart+y.ParentFingerPrintSize,y.ChildIndexStart=y.ParentFingerPrintEnd,y.ChildIndexEnd=y.ChildIndexStart+y.ChildIndexSize,y.ChainCodeStart=y.ChildIndexEnd,y.ChainCodeEnd=y.ChainCodeStart+y.ChainCodeSize,y.PrivateKeyStart=y.ChainCodeEnd+1,y.PrivateKeyEnd=y.PrivateKeyStart+y.PrivateKeySize,y.ChecksumStart=y.PrivateKeyEnd,y.ChecksumEnd=y.ChecksumStart+y.CheckSumSize,Nh(y.ChecksumEnd===y.SerializedByteSize),t.exports=y});Ge("8kXe7",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("dIoYd"),u=W("jG967"),o=W("j7ODq"),a=W("bTTXN"),l=W("4bgoH"),f=W("cyjag"),c=W("f0gTO"),h=W("arkeG"),d=W("kooOK"),p=d,m=d.HDPublicKey,w=W("gk75r");function x(_){if(_ instanceof x)return _;if(!(this instanceof x))return new x(_);if(_)if(n.isString(_)||r.isBuffer(_)){var y=x.getSerializedError(_);if(y){if(r.isBuffer(_)&&!x.getSerializedError(_.toString()))return this._buildFromSerialized(_.toString());if(y instanceof m.ArgumentIsPrivateExtended)return new l(_).hdPublicKey;throw y}else return this._buildFromSerialized(_)}else{if(n.isObject(_))return _ instanceof l?this._buildFromPrivate(_):this._buildFromObject(_);throw new m.UnrecognizedArgument(_)}else throw new m.MustSupplyArgument}x.fromHDPrivateKey=function(_){return new x(_)},x.isValidPath=function(_){if(n.isString(_)){var y=l._getDerivationIndexes(_);return y!==null&&n.every(y,x.isValidPath)}return n.isNumber(_)?_>=0&&_<x.Hardened:!1},x.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},x.prototype.deriveChild=function(_,y){if(n.isNumber(_))return this._deriveWithNumber(_,y);if(n.isString(_))return this._deriveFromString(_);throw new m.InvalidDerivationArgument(_)},x.prototype._deriveWithNumber=function(_,y){if(_>=x.Hardened||y)throw new m.InvalidIndexCantDeriveHardened;if(_<0)throw new m.InvalidPath(_);var S=w.integerAsBuffer(_),F=r.concat([this.publicKey.toBuffer(),S]),N=a.sha512hmac(F,this._buffers.chainCode),H=s.fromBuffer(N.slice(0,32),{size:32}),D=N.slice(32,64),L;try{L=h.fromPoint(c.getG().mul(H).add(this.publicKey.point))}catch{return this._deriveWithNumber(_+1)}var P=new x({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:_,chainCode:D,publicKey:L});return P},x.prototype._deriveFromString=function(_){if(n.includes(_,"'"))throw new m.InvalidIndexCantDeriveHardened;if(!x.isValidPath(_))throw new m.InvalidPath(_);var y=l._getDerivationIndexes(_),S=y.reduce(function(F,N){return F._deriveWithNumber(N)},this);return S},x.isValidSerialized=function(_,y){return n.isNull(x.getSerializedError(_,y))},x.getSerializedError=function(_,y){if(!(n.isString(_)||r.isBuffer(_)))return new m.UnrecognizedArgument("expected buffer or string");if(!u.validCharacters(_))return new p.InvalidB58Char("(unknown)",_);try{_=o.decode(_)}catch{return new p.InvalidB58Checksum(_)}if(_.length!==x.DataSize)return new m.InvalidLength(_);if(!n.isUndefined(y)){var S=x._validateNetwork(_,y);if(S)return S}var F=_.readUInt32BE(0);return F===f.livenet.xprivkey||F===f.testnet.xprivkey?new m.ArgumentIsPrivateExtended:null},x._validateNetwork=function(_,y){var S=f.get(y);if(!S)return new p.InvalidNetworkArgument(y);var F=_.slice(x.VersionStart,x.VersionEnd);return F.readUInt32BE(0)!==S.xpubkey?new p.InvalidNetwork(F):null},x.prototype._buildFromPrivate=function(_){var y=n.clone(_._buffers),S=c.getG().mul(s.fromBuffer(y.privateKey));return y.publicKey=c.pointToCompressed(S),y.version=w.integerAsBuffer(f.get(y.version.readUInt32BE(0)).xpubkey),y.privateKey=void 0,y.checksum=void 0,y.xprivkey=void 0,this._buildFromBuffers(y)},x.prototype._buildFromObject=function(_){var y={version:_.network?w.integerAsBuffer(f.get(_.network).xpubkey):_.version,depth:n.isNumber(_.depth)?r.from([_.depth&255]):_.depth,parentFingerPrint:n.isNumber(_.parentFingerPrint)?w.integerAsBuffer(_.parentFingerPrint):_.parentFingerPrint,childIndex:n.isNumber(_.childIndex)?w.integerAsBuffer(_.childIndex):_.childIndex,chainCode:n.isString(_.chainCode)?r.from(_.chainCode,"hex"):_.chainCode,publicKey:n.isString(_.publicKey)?r.from(_.publicKey,"hex"):r.isBuffer(_.publicKey)?_.publicKey:_.publicKey.toBuffer(),checksum:n.isNumber(_.checksum)?w.integerAsBuffer(_.checksum):_.checksum};return this._buildFromBuffers(y)},x.prototype._buildFromSerialized=function(_){var y=o.decode(_),S={version:y.slice(x.VersionStart,x.VersionEnd),depth:y.slice(x.DepthStart,x.DepthEnd),parentFingerPrint:y.slice(x.ParentFingerPrintStart,x.ParentFingerPrintEnd),childIndex:y.slice(x.ChildIndexStart,x.ChildIndexEnd),chainCode:y.slice(x.ChainCodeStart,x.ChainCodeEnd),publicKey:y.slice(x.PublicKeyStart,x.PublicKeyEnd),checksum:y.slice(x.ChecksumStart,x.ChecksumEnd),xpubkey:_};return this._buildFromBuffers(S)},x.prototype._buildFromBuffers=function(_){x._validateBufferArguments(_),w.defineImmutable(this,{_buffers:_});var y=[_.version,_.depth,_.parentFingerPrint,_.childIndex,_.chainCode,_.publicKey],S=r.concat(y),F=o.checksum(S);if(!_.checksum||!_.checksum.length)_.checksum=F;else if(_.checksum.toString("hex")!==F.toString("hex"))throw new p.InvalidB58Checksum(S,F);var N=f.get(_.version.readUInt32BE(0)),H;H=o.encode(r.concat(y)),_.xpubkey=r.from(H);var D=new h(_.publicKey,{network:N}),L=x.ParentFingerPrintSize,P=a.sha256ripemd160(D.toBuffer()).slice(0,L);return w.defineImmutable(this,{xpubkey:H,network:N,depth:_.depth[0],publicKey:D,fingerPrint:P}),this},x._validateBufferArguments=function(_){var y=function(S,F){var N=_[S];Nh(r.isBuffer(N),S+" argument is not a buffer, it's "+typeof N),Nh(N.length===F,S+" has not the expected size: found "+N.length+", expected "+F)};y("version",x.VersionSize),y("depth",x.DepthSize),y("parentFingerPrint",x.ParentFingerPrintSize),y("childIndex",x.ChildIndexSize),y("chainCode",x.ChainCodeSize),y("publicKey",x.PublicKeySize),_.checksum&&_.checksum.length&&y("checksum",x.CheckSumSize)},x.fromString=function(_){return i.checkArgument(n.isString(_),"No valid string was provided"),new x(_)},x.fromObject=function(_){return i.checkArgument(n.isObject(_),"No valid argument was provided"),new x(_)},x.prototype.toString=function(){return this.xpubkey},x.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},x.prototype.toObject=x.prototype.toJSON=function(){return{network:f.get(this._buffers.version.readUInt32BE(0)).name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),publicKey:this.publicKey.toString(),checksum:this._buffers.checksum.readUInt32BE(0),xpubkey:this.xpubkey}},x.fromBuffer=function(_){return new x(_)},x.fromHex=function(_){return x.fromBuffer(r.from(_,"hex"))},x.prototype.toBuffer=function(){return r.from(this._buffers.xpubkey)},x.prototype.toHex=function(){return this.toBuffer().toString("hex")},x.Hardened=2147483648,x.RootElementAlias=["m","M"],x.VersionSize=4,x.DepthSize=1,x.ParentFingerPrintSize=4,x.ChildIndexSize=4,x.ChainCodeSize=32,x.PublicKeySize=33,x.CheckSumSize=4,x.DataSize=78,x.SerializedByteSize=82,x.VersionStart=0,x.VersionEnd=x.VersionStart+x.VersionSize,x.DepthStart=x.VersionEnd,x.DepthEnd=x.DepthStart+x.DepthSize,x.ParentFingerPrintStart=x.DepthEnd,x.ParentFingerPrintEnd=x.ParentFingerPrintStart+x.ParentFingerPrintSize,x.ChildIndexStart=x.ParentFingerPrintEnd,x.ChildIndexEnd=x.ChildIndexStart+x.ChildIndexSize,x.ChainCodeStart=x.ChildIndexEnd,x.ChainCodeEnd=x.ChainCodeStart+x.ChainCodeSize,x.PublicKeyStart=x.ChainCodeEnd,x.PublicKeyEnd=x.PublicKeyStart+x.PublicKeySize,x.ChecksumStart=x.PublicKeyEnd,x.ChecksumEnd=x.ChecksumStart+x.CheckSumSize,Nh(x.PublicKeyEnd===x.DataSize),Nh(x.ChecksumEnd===x.SerializedByteSize),t.exports=x});Ge("de0HV",function(t,e){t.exports=W("fNnUs")});Ge("fNnUs",function(t,e){var r=wr.Buffer,n=W("arkeG"),i=W("7smYJ"),s=W("bTTXN"),u=W("6gAsx"),o=W("cQlxP"),a=W("kooOK"),l=Bg.ModeOfOperation.cbc,f=function(){};f.encrypt=function(d,p,m){u.checkArgument(d),u.checkArgument(p),u.checkArgument(m),u.checkArgument(p.length===16,"keybuf length must be 16"),u.checkArgument(m.length===16,"ivbuf length must be 16"),d=Bg.padding.pkcs7.pad(d);var w=new l(p,m),x=w.encrypt(d);return r.from(x)},f.decrypt=function(d,p,m){u.checkArgument(d),u.checkArgument(p),u.checkArgument(m),u.checkArgument(p.length===16,"keybuf length must be 16"),u.checkArgument(m.length===16,"ivbuf length must be 16");var w=new l(p,m),x=w.decrypt(d);return r.from(Bg.padding.pkcs7.strip(x))};var c=function d(p,m="BIE1"){if(m!=="BIE1")throw new a.ECIES.UnsupportAlgorithm(m);if(!(this instanceof d))return new d(p,m);this._privateKey=new i,this.opts=p||{},this.opts.ephemeralKey=!0};c.prototype.privateKey=function(d){return u.checkArgument(i.isValid(d),"no private key provided"),this._privateKey=i(d.toHex())||null,this.opts.ephemeralKey=!1,this},c.prototype.publicKey=function(d){return u.checkArgument(n.isValid(d),"no public key provided"),this._publicKey=n(d.toString())||null,this._publicKey!=null&&(this.opts.fixedPublicKey=!0),this};var h=function(d,p){var m="_"+d;Object.defineProperty(c.prototype,d,{configurable:!1,enumerable:!0,get:function(){var w=this[m];return w=this[m]=p.apply(this),w}})};h("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),h("ivkEkM",function(){var d=this._privateKey.bn,p=this._publicKey.point,m=p.mul(d),w=n(m),x=w.toBuffer();return s.sha512(x)}),h("iv",function(){return this.ivkEkM.slice(0,16)}),h("kE",function(){return this.ivkEkM.slice(16,32)}),h("kM",function(){return this.ivkEkM.slice(32,64)}),c.prototype.encrypt=function(d){r.isBuffer(d)||(d=r.from(d));var p=f.encrypt(d,this.kE,this.iv),m,w=r.from("BIE1");this.opts.noKey&&!this.opts.ephemeralKey?m=r.concat([w,p]):m=r.concat([w,this.Rbuf,p]);var x=s.sha256hmac(m,this.kM);return this.opts.shortTag&&(x=x.slice(0,4)),r.concat([m,x])},c.prototype.decrypt=function(d){u.checkArgument(r.isBuffer(d),"ciphetext must be a buffer");var p=32,m=4;this.opts.shortTag&&(p=4);var w=d.slice(0,4);if(!w.equals(r.from("BIE1")))throw new a.DecryptionError("Invalid Magic");if(!this.opts.noKey){var x;x=d.slice(4,37),this.opts.fixedPublicKey?console.log('Notice: Overriding PublicKey in message. Consider use "noKey" option if you are not sending message to electrum and do not want to use ephemeral key'):this._publicKey=n.fromDER(x),m=37}var _=d.slice(m,d.length-p),y=d.slice(d.length-p,d.length),S=s.sha256hmac(d.slice(0,d.length-p),this.kM);if(this.opts.shortTag&&(S=S.slice(0,4)),!y.equals(S))throw new a.ECIES.DecryptionError("Invalid checksum");return f.decrypt(_,this.kE,this.iv)},c.bitcoreECIES=o,t.exports=c});Ge("cQlxP",function(t,e){var r=wr.Buffer,n=W("arkeG"),i=W("bTTXN"),s=W("6gAsx"),u=Bg.ModeOfOperation.cbc,o=W("7X5Fe"),a=function(){};a.encrypt=function(c,h,d){s.checkArgument(c),s.checkArgument(h),s.checkArgument(d),d=d||o.getRandomBuffer(16),c=Bg.padding.pkcs7.pad(c);var p=new u(h,d),m=p.encrypt(c),w=r.concat([d,m]);return w},a.decrypt=function(c,h){s.checkArgument(c),s.checkArgument(h);var d=c.slice(0,16),p=c.slice(16),m=new u(h,d),w=m.decrypt(p);return w=Bg.padding.pkcs7.strip(w),r.from(w)};var l=function c(h){if(!(this instanceof c))return new c;this.opts=h||{}};l.prototype.privateKey=function(c){return s.checkArgument(c,"no private key provided"),this._privateKey=c||null,this},l.prototype.publicKey=function(c){return s.checkArgument(c,"no public key provided"),this._publicKey=c||null,this};var f=function(c,h){var d="_"+c;Object.defineProperty(l.prototype,c,{configurable:!1,enumerable:!0,get:function(){var p=this[d];return p||(p=this[d]=h.apply(this)),p}})};f("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),f("kEkM",function(){var c=this._privateKey.bn,h=this._publicKey.point,d=h.mul(c),p=d.getX(),m=p.toBuffer({size:32});return i.sha512(m)}),f("kE",function(){return this.kEkM.slice(0,32)}),f("kM",function(){return this.kEkM.slice(32,64)}),l.prototype.encrypt=function(c,h){r.isBuffer(c)||(c=r.from(c)),h===void 0&&(h=i.sha256hmac(c,this._privateKey.toBuffer()).slice(0,16));var d=a.encrypt(c,this.kE,h),p=i.sha256hmac(d,this.kM);this.opts.shortTag&&(p=p.slice(0,4));var m;return this.opts.noKey?m=r.concat([d,p]):m=r.concat([this.Rbuf,d,p]),m},l.prototype.decrypt=function(c){s.checkArgument(c);var h=0,d=32;if(this.opts.shortTag&&(d=4),!this.opts.noKey){var p;switch(c[0]){case 4:p=c.slice(0,65);break;case 3:case 2:p=c.slice(0,33);break;default:throw new Error("Invalid type: "+c[0])}this._publicKey=n.fromDER(p),h+=p.length}var m=c.slice(h,c.length-d),w=c.slice(c.length-d,c.length),x=i.sha256hmac(m,this.kM);this.opts.shortTag&&(x=x.slice(0,4));for(var _=!0,y=0;y<w.length;y++)_&=w[y]===x[y];if(!_)throw new Error("Invalid checksum");return a.decrypt(m,this.kE)},t.exports=l});Ge("9fBEz",function(t,e){var r=wr.Buffer,n=W("kBBbb"),i=W("7smYJ"),s=W("arkeG"),u=W("iSUUt"),o=W("2AZ1V"),a=W("kmMTb"),l=W("gIXub"),f=W("bTTXN"),c=f.sha256sha256,h=W("gk75r"),d=W("6gAsx"),p=function m(w){return this instanceof m?(d.checkArgument(n.isString(w)||r.isBuffer(w),"First argument should be a string or Buffer"),n.isString(w)&&(this.messageBuffer=r.from(w)),r.isBuffer(w)&&(this.messageBuffer=w),this):new m(w)};p.sign=function(m,w){return new p(m).sign(w)},p.verify=function(m,w,x){return new p(m).verify(w,x)},p.MAGIC_BYTES=r.from(`Bitcoin Signed Message:
`),p.prototype.magicHash=function(){var w=o.varintBufNum(p.MAGIC_BYTES.length),x=o.varintBufNum(this.messageBuffer.length),_=r.concat([w,p.MAGIC_BYTES,x,this.messageBuffer]),y=c(_);return y},p.prototype._sign=function(w){d.checkArgument(w instanceof i,"First argument should be an instance of PrivateKey");var x=this.magicHash();return a.signWithCalcI(x,w)},p.prototype.sign=function(w){var x=this._sign(w);return x.toCompact().toString("base64")},p.prototype._verify=function(w,x){d.checkArgument(w instanceof s,"First argument should be an instance of PublicKey"),d.checkArgument(x instanceof l,"Second argument should be an instance of Signature");var _=this.magicHash(),y=a.verify(_,x,w);return y||(this.error="The signature was invalid"),y},p.prototype.verify=function(w,x){d.checkArgument(w),d.checkArgument(x&&n.isString(x)),n.isString(w)&&(w=u.fromString(w));var _=l.fromCompact(r.from(x,"base64")),y=new a;y.hashbuf=this.magicHash(),y.sig=_;var S=y.toPublicKey(),F=u.fromPublicKey(S,w.network);return w.toString()!==F.toString()?(this.error="The signature did not match the message digest",!1):this._verify(S,_)},p.fromString=function(m){return new p(m)},p.fromJSON=function(w){return h.isValidJSON(w)&&(w=JSON.parse(w)),p.fromObject(w)},p.prototype.toObject=function(){return{messageHex:this.messageBuffer.toString("hex")}},p.fromObject=function(m){let w=r.from(m.messageHex,"hex");return new p(w)},p.prototype.toJSON=function(){return JSON.stringify(this.toObject())},p.prototype.toString=function(){return this.messageBuffer.toString()},p.prototype.inspect=function(){return"<Message: "+this.toString()+">"},t.exports=p});Ge("amN1b",function(t,e){var r=wr.Buffer,n=W("dIoYd"),i=W("bTTXN"),s=W("7X5Fe"),u=W("kBBbb"),o=W("d2BaI"),a=W("kooOK"),l=W("6gAsx"),f=W("4bgoH"),c=function(h,d){if(!(this instanceof c))return new c(h,d);u.isArray(h)&&(d=h,h=null);var p,m,w;if(r.isBuffer(h))w=h;else if(u.isString(h))m=F8.nfkd(h);else if(u.isNumber(h))p=h;else if(h)throw new a.InvalidArgument("data","Must be a Buffer, a string or an integer");if(p=p||128,d=d||c._getDictionary(m),m&&!d)throw new a.Mnemonic.UnknownWordlist(m);if(d=d||c.Words.ENGLISH,w&&(m=c._entropy2mnemonic(w,d)),m&&!c.isValid(m,d))throw new a.Mnemonic.InvalidMnemonic(m);if(p%32!==0||p<128)throw new a.InvalidArgument("ENT","Values must be ENT > 128 and ENT % 32 == 0");m=m||c._mnemonic(p,d),Object.defineProperty(this,"wordlist",{configurable:!1,value:d}),Object.defineProperty(this,"phrase",{configurable:!1,value:m})};c.fromRandom=function(h=c.Words.ENGLISH){return new c(h)},c.fromString=function(h,d=c.Words.ENGLISH){return new c(h,d)},c.Words=W("kWjfg"),c.isValid=function(h,d){if(h=F8.nfkd(h),d=d||c._getDictionary(h),!d)return!1;for(var p=h.split(" "),m="",w=0;w<p.length;w++){var x=d.indexOf(p[w]);if(x<0)return!1;m=m+("00000000000"+x.toString(2)).slice(-11)}var _=m.length/33,y=m.slice(-_),S=m.slice(0,m.length-_),F=r.alloc(S.length/8);for(w=0;w<S.length/8;w++)F.writeUInt8(parseInt(m.slice(w*8,(w+1)*8),2),w);var N=c._entropyChecksum(F);return N===y},c._belongsToWordlist=function(h,d){for(var p=F8.nfkd(h).split(" "),m=0;m<p.length;m++){var w=d.indexOf(p[m]);if(w<0)return!1}return!0},c._getDictionary=function(h){if(!h)return null;for(var d=Object.keys(c.Words),p=0;p<d.length;p++){var m=d[p];if(c._belongsToWordlist(h,c.Words[m]))return c.Words[m]}return null},c.prototype.toSeed=function(h){return h=h||"",o(F8.nfkd(this.phrase),F8.nfkd("mnemonic"+h),2048,64)},c.fromSeed=function(h,d){return l.checkArgument(r.isBuffer(h),"seed must be a Buffer."),l.checkArgument(u.isArray(d)||u.isString(d),"wordlist must be a string or an array."),new c(h,d)},c.prototype.toHDPrivateKey=function(h,d){var p=this.toSeed(h);return f.fromSeed(p,d)},c.prototype.toString=function(){return this.phrase},c.prototype.inspect=function(){return"<Mnemonic: "+this.toString()+" >"},c._mnemonic=function(h,d){var p=s.getRandomBuffer(h/8);return c._entropy2mnemonic(p,d)},c._entropy2mnemonic=function(h,d){for(var p="",m=0;m<h.length;m++)p=p+("00000000"+h[m].toString(2)).slice(-8);if(p=p+c._entropyChecksum(h),p.length%11!==0)throw new a.InvalidEntropy(p);var w=[];for(m=0;m<p.length/11;m++){var x=parseInt(p.slice(m*11,(m+1)*11),2);w.push(d[x])}var _;return d===c.Words.JAPANESE?_=w.join("\u3000"):_=w.join(" "),_},c._entropyChecksum=function(h){for(var d=i.sha256(h),p=h.length*8,m=p/32,w=new n(d.toString("hex"),16).toString(2);w.length%256!==0;)w="0"+w;var x=w.slice(0,m);return x},t.exports=c});Ge("d2BaI",function(t,e){t.exports=W("9Uipm")});Ge("9Uipm",function(t,e){var r=wr.Buffer;function n(i,s,u,o){var a=64;if(o>(Math.pow(2,32)-1)*a)throw Error("Requested key length too long");if(typeof i!="string"&&!r.isBuffer(i))throw new TypeError("key must a string or Buffer");if(typeof s!="string"&&!r.isBuffer(s))throw new TypeError("salt must a string or Buffer");typeof i=="string"&&(i=r.from(i)),typeof s=="string"&&(s=r.from(s));var l=r.alloc(o),f=r.alloc(a),c=r.alloc(a),h=r.alloc(s.length+4),d=Math.ceil(o/a),p=o-(d-1)*a;s.copy(h,0,0,s.length);for(var m=1;m<=d;m++){h[s.length+0]=m>>24&255,h[s.length+1]=m>>16&255,h[s.length+2]=m>>8&255,h[s.length+3]=m>>0&255,f=R1.hmac(R1.sha512,i).update(h).digest(),f.copy(c,0,0,a);for(var w=1;w<u;w++){f=R1.hmac(R1.sha512,i).update(f).digest();for(var x=0;x<a;x++)c[x]^=f[x]}var _=(m-1)*a,y=m===d?p:a;c.copy(l,_,0,y)}return l}t.exports=n});Ge("kWjfg",function(t,e){t.exports={CHINESE:W("1BMvs"),ENGLISH:W("hKmMn"),FRENCH:W("lnczd"),ITALIAN:W("dr8eV"),JAPANESE:W("9uq94"),SPANISH:W("8YfVJ")}});Ge("1BMvs",function(t,e){"use strict";var r=["\u7684","\u4E00","\u662F","\u5728","\u4E0D","\u4E86","\u6709","\u548C","\u4EBA","\u8FD9","\u4E2D","\u5927","\u4E3A","\u4E0A","\u4E2A","\u56FD","\u6211","\u4EE5","\u8981","\u4ED6","\u65F6","\u6765","\u7528","\u4EEC","\u751F","\u5230","\u4F5C","\u5730","\u4E8E","\u51FA","\u5C31","\u5206","\u5BF9","\u6210","\u4F1A","\u53EF","\u4E3B","\u53D1","\u5E74","\u52A8","\u540C","\u5DE5","\u4E5F","\u80FD","\u4E0B","\u8FC7","\u5B50","\u8BF4","\u4EA7","\u79CD","\u9762","\u800C","\u65B9","\u540E","\u591A","\u5B9A","\u884C","\u5B66","\u6CD5","\u6240","\u6C11","\u5F97","\u7ECF","\u5341","\u4E09","\u4E4B","\u8FDB","\u7740","\u7B49","\u90E8","\u5EA6","\u5BB6","\u7535","\u529B","\u91CC","\u5982","\u6C34","\u5316","\u9AD8","\u81EA","\u4E8C","\u7406","\u8D77","\u5C0F","\u7269","\u73B0","\u5B9E","\u52A0","\u91CF","\u90FD","\u4E24","\u4F53","\u5236","\u673A","\u5F53","\u4F7F","\u70B9","\u4ECE","\u4E1A","\u672C","\u53BB","\u628A","\u6027","\u597D","\u5E94","\u5F00","\u5B83","\u5408","\u8FD8","\u56E0","\u7531","\u5176","\u4E9B","\u7136","\u524D","\u5916","\u5929","\u653F","\u56DB","\u65E5","\u90A3","\u793E","\u4E49","\u4E8B","\u5E73","\u5F62","\u76F8","\u5168","\u8868","\u95F4","\u6837","\u4E0E","\u5173","\u5404","\u91CD","\u65B0","\u7EBF","\u5185","\u6570","\u6B63","\u5FC3","\u53CD","\u4F60","\u660E","\u770B","\u539F","\u53C8","\u4E48","\u5229","\u6BD4","\u6216","\u4F46","\u8D28","\u6C14","\u7B2C","\u5411","\u9053","\u547D","\u6B64","\u53D8","\u6761","\u53EA","\u6CA1","\u7ED3","\u89E3","\u95EE","\u610F","\u5EFA","\u6708","\u516C","\u65E0","\u7CFB","\u519B","\u5F88","\u60C5","\u8005","\u6700","\u7ACB","\u4EE3","\u60F3","\u5DF2","\u901A","\u5E76","\u63D0","\u76F4","\u9898","\u515A","\u7A0B","\u5C55","\u4E94","\u679C","\u6599","\u8C61","\u5458","\u9769","\u4F4D","\u5165","\u5E38","\u6587","\u603B","\u6B21","\u54C1","\u5F0F","\u6D3B","\u8BBE","\u53CA","\u7BA1","\u7279","\u4EF6","\u957F","\u6C42","\u8001","\u5934","\u57FA","\u8D44","\u8FB9","\u6D41","\u8DEF","\u7EA7","\u5C11","\u56FE","\u5C71","\u7EDF","\u63A5","\u77E5","\u8F83","\u5C06","\u7EC4","\u89C1","\u8BA1","\u522B","\u5979","\u624B","\u89D2","\u671F","\u6839","\u8BBA","\u8FD0","\u519C","\u6307","\u51E0","\u4E5D","\u533A","\u5F3A","\u653E","\u51B3","\u897F","\u88AB","\u5E72","\u505A","\u5FC5","\u6218","\u5148","\u56DE","\u5219","\u4EFB","\u53D6","\u636E","\u5904","\u961F","\u5357","\u7ED9","\u8272","\u5149","\u95E8","\u5373","\u4FDD","\u6CBB","\u5317","\u9020","\u767E","\u89C4","\u70ED","\u9886","\u4E03","\u6D77","\u53E3","\u4E1C","\u5BFC","\u5668","\u538B","\u5FD7","\u4E16","\u91D1","\u589E","\u4E89","\u6D4E","\u9636","\u6CB9","\u601D","\u672F","\u6781","\u4EA4","\u53D7","\u8054","\u4EC0","\u8BA4","\u516D","\u5171","\u6743","\u6536","\u8BC1","\u6539","\u6E05","\u7F8E","\u518D","\u91C7","\u8F6C","\u66F4","\u5355","\u98CE","\u5207","\u6253","\u767D","\u6559","\u901F","\u82B1","\u5E26","\u5B89","\u573A","\u8EAB","\u8F66","\u4F8B","\u771F","\u52A1","\u5177","\u4E07","\u6BCF","\u76EE","\u81F3","\u8FBE","\u8D70","\u79EF","\u793A","\u8BAE","\u58F0","\u62A5","\u6597","\u5B8C","\u7C7B","\u516B","\u79BB","\u534E","\u540D","\u786E","\u624D","\u79D1","\u5F20","\u4FE1","\u9A6C","\u8282","\u8BDD","\u7C73","\u6574","\u7A7A","\u5143","\u51B5","\u4ECA","\u96C6","\u6E29","\u4F20","\u571F","\u8BB8","\u6B65","\u7FA4","\u5E7F","\u77F3","\u8BB0","\u9700","\u6BB5","\u7814","\u754C","\u62C9","\u6797","\u5F8B","\u53EB","\u4E14","\u7A76","\u89C2","\u8D8A","\u7EC7","\u88C5","\u5F71","\u7B97","\u4F4E","\u6301","\u97F3","\u4F17","\u4E66","\u5E03","\u590D","\u5BB9","\u513F","\u987B","\u9645","\u5546","\u975E","\u9A8C","\u8FDE","\u65AD","\u6DF1","\u96BE","\u8FD1","\u77FF","\u5343","\u5468","\u59D4","\u7D20","\u6280","\u5907","\u534A","\u529E","\u9752","\u7701","\u5217","\u4E60","\u54CD","\u7EA6","\u652F","\u822C","\u53F2","\u611F","\u52B3","\u4FBF","\u56E2","\u5F80","\u9178","\u5386","\u5E02","\u514B","\u4F55","\u9664","\u6D88","\u6784","\u5E9C","\u79F0","\u592A","\u51C6","\u7CBE","\u503C","\u53F7","\u7387","\u65CF","\u7EF4","\u5212","\u9009","\u6807","\u5199","\u5B58","\u5019","\u6BDB","\u4EB2","\u5FEB","\u6548","\u65AF","\u9662","\u67E5","\u6C5F","\u578B","\u773C","\u738B","\u6309","\u683C","\u517B","\u6613","\u7F6E","\u6D3E","\u5C42","\u7247","\u59CB","\u5374","\u4E13","\u72B6","\u80B2","\u5382","\u4EAC","\u8BC6","\u9002","\u5C5E","\u5706","\u5305","\u706B","\u4F4F","\u8C03","\u6EE1","\u53BF","\u5C40","\u7167","\u53C2","\u7EA2","\u7EC6","\u5F15","\u542C","\u8BE5","\u94C1","\u4EF7","\u4E25","\u9996","\u5E95","\u6DB2","\u5B98","\u5FB7","\u968F","\u75C5","\u82CF","\u5931","\u5C14","\u6B7B","\u8BB2","\u914D","\u5973","\u9EC4","\u63A8","\u663E","\u8C08","\u7F6A","\u795E","\u827A","\u5462","\u5E2D","\u542B","\u4F01","\u671B","\u5BC6","\u6279","\u8425","\u9879","\u9632","\u4E3E","\u7403","\u82F1","\u6C27","\u52BF","\u544A","\u674E","\u53F0","\u843D","\u6728","\u5E2E","\u8F6E","\u7834","\u4E9A","\u5E08","\u56F4","\u6CE8","\u8FDC","\u5B57","\u6750","\u6392","\u4F9B","\u6CB3","\u6001","\u5C01","\u53E6","\u65BD","\u51CF","\u6811","\u6EB6","\u600E","\u6B62","\u6848","\u8A00","\u58EB","\u5747","\u6B66","\u56FA","\u53F6","\u9C7C","\u6CE2","\u89C6","\u4EC5","\u8D39","\u7D27","\u7231","\u5DE6","\u7AE0","\u65E9","\u671D","\u5BB3","\u7EED","\u8F7B","\u670D","\u8BD5","\u98DF","\u5145","\u5175","\u6E90","\u5224","\u62A4","\u53F8","\u8DB3","\u67D0","\u7EC3","\u5DEE","\u81F4","\u677F","\u7530","\u964D","\u9ED1","\u72AF","\u8D1F","\u51FB","\u8303","\u7EE7","\u5174","\u4F3C","\u4F59","\u575A","\u66F2","\u8F93","\u4FEE","\u6545","\u57CE","\u592B","\u591F","\u9001","\u7B14","\u8239","\u5360","\u53F3","\u8D22","\u5403","\u5BCC","\u6625","\u804C","\u89C9","\u6C49","\u753B","\u529F","\u5DF4","\u8DDF","\u867D","\u6742","\u98DE","\u68C0","\u5438","\u52A9","\u5347","\u9633","\u4E92","\u521D","\u521B","\u6297","\u8003","\u6295","\u574F","\u7B56","\u53E4","\u5F84","\u6362","\u672A","\u8DD1","\u7559","\u94A2","\u66FE","\u7AEF","\u8D23","\u7AD9","\u7B80","\u8FF0","\u94B1","\u526F","\u5C3D","\u5E1D","\u5C04","\u8349","\u51B2","\u627F","\u72EC","\u4EE4","\u9650","\u963F","\u5BA3","\u73AF","\u53CC","\u8BF7","\u8D85","\u5FAE","\u8BA9","\u63A7","\u5DDE","\u826F","\u8F74","\u627E","\u5426","\u7EAA","\u76CA","\u4F9D","\u4F18","\u9876","\u7840","\u8F7D","\u5012","\u623F","\u7A81","\u5750","\u7C89","\u654C","\u7565","\u5BA2","\u8881","\u51B7","\u80DC","\u7EDD","\u6790","\u5757","\u5242","\u6D4B","\u4E1D","\u534F","\u8BC9","\u5FF5","\u9648","\u4ECD","\u7F57","\u76D0","\u53CB","\u6D0B","\u9519","\u82E6","\u591C","\u5211","\u79FB","\u9891","\u9010","\u9760","\u6DF7","\u6BCD","\u77ED","\u76AE","\u7EC8","\u805A","\u6C7D","\u6751","\u4E91","\u54EA","\u65E2","\u8DDD","\u536B","\u505C","\u70C8","\u592E","\u5BDF","\u70E7","\u8FC5","\u5883","\u82E5","\u5370","\u6D32","\u523B","\u62EC","\u6FC0","\u5B54","\u641E","\u751A","\u5BA4","\u5F85","\u6838","\u6821","\u6563","\u4FB5","\u5427","\u7532","\u6E38","\u4E45","\u83DC","\u5473","\u65E7","\u6A21","\u6E56","\u8D27","\u635F","\u9884","\u963B","\u6BEB","\u666E","\u7A33","\u4E59","\u5988","\u690D","\u606F","\u6269","\u94F6","\u8BED","\u6325","\u9152","\u5B88","\u62FF","\u5E8F","\u7EB8","\u533B","\u7F3A","\u96E8","\u5417","\u9488","\u5218","\u554A","\u6025","\u5531","\u8BEF","\u8BAD","\u613F","\u5BA1","\u9644","\u83B7","\u8336","\u9C9C","\u7CAE","\u65A4","\u5B69","\u8131","\u786B","\u80A5","\u5584","\u9F99","\u6F14","\u7236","\u6E10","\u8840","\u6B22","\u68B0","\u638C","\u6B4C","\u6C99","\u521A","\u653B","\u8C13","\u76FE","\u8BA8","\u665A","\u7C92","\u4E71","\u71C3","\u77DB","\u4E4E","\u6740","\u836F","\u5B81","\u9C81","\u8D35","\u949F","\u7164","\u8BFB","\u73ED","\u4F2F","\u9999","\u4ECB","\u8FEB","\u53E5","\u4E30","\u57F9","\u63E1","\u5170","\u62C5","\u5F26","\u86CB","\u6C89","\u5047","\u7A7F","\u6267","\u7B54","\u4E50","\u8C01","\u987A","\u70DF","\u7F29","\u5F81","\u8138","\u559C","\u677E","\u811A","\u56F0","\u5F02","\u514D","\u80CC","\u661F","\u798F","\u4E70","\u67D3","\u4E95","\u6982","\u6162","\u6015","\u78C1","\u500D","\u7956","\u7687","\u4FC3","\u9759","\u8865","\u8BC4","\u7FFB","\u8089","\u8DF5","\u5C3C","\u8863","\u5BBD","\u626C","\u68C9","\u5E0C","\u4F24","\u64CD","\u5782","\u79CB","\u5B9C","\u6C22","\u5957","\u7763","\u632F","\u67B6","\u4EAE","\u672B","\u5BAA","\u5E86","\u7F16","\u725B","\u89E6","\u6620","\u96F7","\u9500","\u8BD7","\u5EA7","\u5C45","\u6293","\u88C2","\u80DE","\u547C","\u5A18","\u666F","\u5A01","\u7EFF","\u6676","\u539A","\u76DF","\u8861","\u9E21","\u5B59","\u5EF6","\u5371","\u80F6","\u5C4B","\u4E61","\u4E34","\u9646","\u987E","\u6389","\u5440","\u706F","\u5C81","\u63AA","\u675F","\u8010","\u5267","\u7389","\u8D75","\u8DF3","\u54E5","\u5B63","\u8BFE","\u51EF","\u80E1","\u989D","\u6B3E","\u7ECD","\u5377","\u9F50","\u4F1F","\u84B8","\u6B96","\u6C38","\u5B97","\u82D7","\u5DDD","\u7089","\u5CA9","\u5F31","\u96F6","\u6768","\u594F","\u6CBF","\u9732","\u6746","\u63A2","\u6ED1","\u9547","\u996D","\u6D53","\u822A","\u6000","\u8D76","\u5E93","\u593A","\u4F0A","\u7075","\u7A0E","\u9014","\u706D","\u8D5B","\u5F52","\u53EC","\u9F13","\u64AD","\u76D8","\u88C1","\u9669","\u5EB7","\u552F","\u5F55","\u83CC","\u7EAF","\u501F","\u7CD6","\u76D6","\u6A2A","\u7B26","\u79C1","\u52AA","\u5802","\u57DF","\u67AA","\u6DA6","\u5E45","\u54C8","\u7ADF","\u719F","\u866B","\u6CFD","\u8111","\u58E4","\u78B3","\u6B27","\u904D","\u4FA7","\u5BE8","\u6562","\u5F7B","\u8651","\u659C","\u8584","\u5EAD","\u7EB3","\u5F39","\u9972","\u4F38","\u6298","\u9EA6","\u6E7F","\u6697","\u8377","\u74E6","\u585E","\u5E8A","\u7B51","\u6076","\u6237","\u8BBF","\u5854","\u5947","\u900F","\u6881","\u5200","\u65CB","\u8FF9","\u5361","\u6C2F","\u9047","\u4EFD","\u6BD2","\u6CE5","\u9000","\u6D17","\u6446","\u7070","\u5F69","\u5356","\u8017","\u590F","\u62E9","\u5FD9","\u94DC","\u732E","\u786C","\u4E88","\u7E41","\u5708","\u96EA","\u51FD","\u4EA6","\u62BD","\u7BC7","\u9635","\u9634","\u4E01","\u5C3A","\u8FFD","\u5806","\u96C4","\u8FCE","\u6CDB","\u7238","\u697C","\u907F","\u8C0B","\u5428","\u91CE","\u732A","\u65D7","\u7D2F","\u504F","\u5178","\u9986","\u7D22","\u79E6","\u8102","\u6F6E","\u7237","\u8C46","\u5FFD","\u6258","\u60CA","\u5851","\u9057","\u6108","\u6731","\u66FF","\u7EA4","\u7C97","\u503E","\u5C1A","\u75DB","\u695A","\u8C22","\u594B","\u8D2D","\u78E8","\u541B","\u6C60","\u65C1","\u788E","\u9AA8","\u76D1","\u6355","\u5F1F","\u66B4","\u5272","\u8D2F","\u6B8A","\u91CA","\u8BCD","\u4EA1","\u58C1","\u987F","\u5B9D","\u5348","\u5C18","\u95FB","\u63ED","\u70AE","\u6B8B","\u51AC","\u6865","\u5987","\u8B66","\u7EFC","\u62DB","\u5434","\u4ED8","\u6D6E","\u906D","\u5F90","\u60A8","\u6447","\u8C37","\u8D5E","\u7BB1","\u9694","\u8BA2","\u7537","\u5439","\u56ED","\u7EB7","\u5510","\u8D25","\u5B8B","\u73BB","\u5DE8","\u8015","\u5766","\u8363","\u95ED","\u6E7E","\u952E","\u51E1","\u9A7B","\u9505","\u6551","\u6069","\u5265","\u51DD","\u78B1","\u9F7F","\u622A","\u70BC","\u9EBB","\u7EBA","\u7981","\u5E9F","\u76DB","\u7248","\u7F13","\u51C0","\u775B","\u660C","\u5A5A","\u6D89","\u7B52","\u5634","\u63D2","\u5CB8","\u6717","\u5E84","\u8857","\u85CF","\u59D1","\u8D38","\u8150","\u5974","\u5566","\u60EF","\u4E58","\u4F19","\u6062","\u5300","\u7EB1","\u624E","\u8FA9","\u8033","\u5F6A","\u81E3","\u4EBF","\u7483","\u62B5","\u8109","\u79C0","\u8428","\u4FC4","\u7F51","\u821E","\u5E97","\u55B7","\u7EB5","\u5BF8","\u6C57","\u6302","\u6D2A","\u8D3A","\u95EA","\u67EC","\u7206","\u70EF","\u6D25","\u7A3B","\u5899","\u8F6F","\u52C7","\u50CF","\u6EDA","\u5398","\u8499","\u82B3","\u80AF","\u5761","\u67F1","\u8361","\u817F","\u4EEA","\u65C5","\u5C3E","\u8F67","\u51B0","\u8D21","\u767B","\u9ECE","\u524A","\u94BB","\u52D2","\u9003","\u969C","\u6C28","\u90ED","\u5CF0","\u5E01","\u6E2F","\u4F0F","\u8F68","\u4EA9","\u6BD5","\u64E6","\u83AB","\u523A","\u6D6A","\u79D8","\u63F4","\u682A","\u5065","\u552E","\u80A1","\u5C9B","\u7518","\u6CE1","\u7761","\u7AE5","\u94F8","\u6C64","\u9600","\u4F11","\u6C47","\u820D","\u7267","\u7ED5","\u70B8","\u54F2","\u78F7","\u7EE9","\u670B","\u6DE1","\u5C16","\u542F","\u9677","\u67F4","\u5448","\u5F92","\u989C","\u6CEA","\u7A0D","\u5FD8","\u6CF5","\u84DD","\u62D6","\u6D1E","\u6388","\u955C","\u8F9B","\u58EE","\u950B","\u8D2B","\u865A","\u5F2F","\u6469","\u6CF0","\u5E7C","\u5EF7","\u5C0A","\u7A97","\u7EB2","\u5F04","\u96B6","\u7591","\u6C0F","\u5BAB","\u59D0","\u9707","\u745E","\u602A","\u5C24","\u7434","\u5FAA","\u63CF","\u819C","\u8FDD","\u5939","\u8170","\u7F18","\u73E0","\u7A77","\u68EE","\u679D","\u7AF9","\u6C9F","\u50AC","\u7EF3","\u5FC6","\u90A6","\u5269","\u5E78","\u6D46","\u680F","\u62E5","\u7259","\u8D2E","\u793C","\u6EE4","\u94A0","\u7EB9","\u7F62","\u62CD","\u54B1","\u558A","\u8896","\u57C3","\u52E4","\u7F5A","\u7126","\u6F5C","\u4F0D","\u58A8","\u6B32","\u7F1D","\u59D3","\u520A","\u9971","\u4EFF","\u5956","\u94DD","\u9B3C","\u4E3D","\u8DE8","\u9ED8","\u6316","\u94FE","\u626B","\u559D","\u888B","\u70AD","\u6C61","\u5E55","\u8BF8","\u5F27","\u52B1","\u6885","\u5976","\u6D01","\u707E","\u821F","\u9274","\u82EF","\u8BBC","\u62B1","\u6BC1","\u61C2","\u5BD2","\u667A","\u57D4","\u5BC4","\u5C4A","\u8DC3","\u6E21","\u6311","\u4E39","\u8270","\u8D1D","\u78B0","\u62D4","\u7239","\u6234","\u7801","\u68A6","\u82BD","\u7194","\u8D64","\u6E14","\u54ED","\u656C","\u9897","\u5954","\u94C5","\u4EF2","\u864E","\u7A00","\u59B9","\u4E4F","\u73CD","\u7533","\u684C","\u9075","\u5141","\u9686","\u87BA","\u4ED3","\u9B4F","\u9510","\u6653","\u6C2E","\u517C","\u9690","\u788D","\u8D6B","\u62E8","\u5FE0","\u8083","\u7F38","\u7275","\u62A2","\u535A","\u5DE7","\u58F3","\u5144","\u675C","\u8BAF","\u8BDA","\u78A7","\u7965","\u67EF","\u9875","\u5DE1","\u77E9","\u60B2","\u704C","\u9F84","\u4F26","\u7968","\u5BFB","\u6842","\u94FA","\u5723","\u6050","\u6070","\u90D1","\u8DA3","\u62AC","\u8352","\u817E","\u8D34","\u67D4","\u6EF4","\u731B","\u9614","\u8F86","\u59BB","\u586B","\u64A4","\u50A8","\u7B7E","\u95F9","\u6270","\u7D2B","\u7802","\u9012","\u620F","\u540A","\u9676","\u4F10","\u5582","\u7597","\u74F6","\u5A46","\u629A","\u81C2","\u6478","\u5FCD","\u867E","\u8721","\u90BB","\u80F8","\u5DE9","\u6324","\u5076","\u5F03","\u69FD","\u52B2","\u4E73","\u9093","\u5409","\u4EC1","\u70C2","\u7816","\u79DF","\u4E4C","\u8230","\u4F34","\u74DC","\u6D45","\u4E19","\u6682","\u71E5","\u6A61","\u67F3","\u8FF7","\u6696","\u724C","\u79E7","\u80C6","\u8BE6","\u7C27","\u8E0F","\u74F7","\u8C31","\u5446","\u5BBE","\u7CCA","\u6D1B","\u8F89","\u6124","\u7ADE","\u9699","\u6012","\u7C98","\u4E43","\u7EEA","\u80A9","\u7C4D","\u654F","\u6D82","\u7199","\u7686","\u4FA6","\u60AC","\u6398","\u4EAB","\u7EA0","\u9192","\u72C2","\u9501","\u6DC0","\u6068","\u7272","\u9738","\u722C","\u8D4F","\u9006","\u73A9","\u9675","\u795D","\u79D2","\u6D59","\u8C8C","\u5F79","\u5F7C","\u6089","\u9E2D","\u8D8B","\u51E4","\u6668","\u755C","\u8F88","\u79E9","\u5375","\u7F72","\u68AF","\u708E","\u6EE9","\u68CB","\u9A71","\u7B5B","\u5CE1","\u5192","\u5565","\u5BFF","\u8BD1","\u6D78","\u6CC9","\u5E3D","\u8FDF","\u7845","\u7586","\u8D37","\u6F0F","\u7A3F","\u51A0","\u5AE9","\u80C1","\u82AF","\u7262","\u53DB","\u8680","\u5965","\u9E23","\u5CAD","\u7F8A","\u51ED","\u4E32","\u5858","\u7ED8","\u9175","\u878D","\u76C6","\u9521","\u5E99","\u7B79","\u51BB","\u8F85","\u6444","\u88AD","\u7B4B","\u62D2","\u50DA","\u65F1","\u94BE","\u9E1F","\u6F06","\u6C88","\u7709","\u758F","\u6DFB","\u68D2","\u7A57","\u785D","\u97E9","\u903C","\u626D","\u4FA8","\u51C9","\u633A","\u7897","\u683D","\u7092","\u676F","\u60A3","\u998F","\u529D","\u8C6A","\u8FBD","\u52C3","\u9E3F","\u65E6","\u540F","\u62DC","\u72D7","\u57CB","\u8F8A","\u63A9","\u996E","\u642C","\u9A82","\u8F9E","\u52FE","\u6263","\u4F30","\u848B","\u7ED2","\u96FE","\u4E08","\u6735","\u59C6","\u62DF","\u5B87","\u8F91","\u9655","\u96D5","\u507F","\u84C4","\u5D07","\u526A","\u5021","\u5385","\u54AC","\u9A76","\u85AF","\u5237","\u65A5","\u756A","\u8D4B","\u5949","\u4F5B","\u6D47","\u6F2B","\u66FC","\u6247","\u9499","\u6843","\u6276","\u4ED4","\u8FD4","\u4FD7","\u4E8F","\u8154","\u978B","\u68F1","\u8986","\u6846","\u6084","\u53D4","\u649E","\u9A97","\u52D8","\u65FA","\u6CB8","\u5B64","\u5410","\u5B5F","\u6E20","\u5C48","\u75BE","\u5999","\u60DC","\u4EF0","\u72E0","\u80C0","\u8C10","\u629B","\u9709","\u6851","\u5C97","\u561B","\u8870","\u76D7","\u6E17","\u810F","\u8D56","\u6D8C","\u751C","\u66F9","\u9605","\u808C","\u54E9","\u5389","\u70C3","\u7EAC","\u6BC5","\u6628","\u4F2A","\u75C7","\u716E","\u53F9","\u9489","\u642D","\u830E","\u7B3C","\u9177","\u5077","\u5F13","\u9525","\u6052","\u6770","\u5751","\u9F3B","\u7FFC","\u7EB6","\u53D9","\u72F1","\u902E","\u7F50","\u7EDC","\u68DA","\u6291","\u81A8","\u852C","\u5BFA","\u9AA4","\u7A46","\u51B6","\u67AF","\u518C","\u5C38","\u51F8","\u7EC5","\u576F","\u727A","\u7130","\u8F70","\u6B23","\u664B","\u7626","\u5FA1","\u952D","\u9526","\u4E27","\u65EC","\u953B","\u5784","\u641C","\u6251","\u9080","\u4EAD","\u916F","\u8FC8","\u8212","\u8106","\u9176","\u95F2","\u5FE7","\u915A","\u987D","\u7FBD","\u6DA8","\u5378","\u4ED7","\u966A","\u8F9F","\u60E9","\u676D","\u59DA","\u809A","\u6349","\u98D8","\u6F02","\u6606","\u6B3A","\u543E","\u90CE","\u70F7","\u6C41","\u5475","\u9970","\u8427","\u96C5","\u90AE","\u8FC1","\u71D5","\u6492","\u59FB","\u8D74","\u5BB4","\u70E6","\u503A","\u5E10","\u6591","\u94C3","\u65E8","\u9187","\u8463","\u997C","\u96CF","\u59FF","\u62CC","\u5085","\u8179","\u59A5","\u63C9","\u8D24","\u62C6","\u6B6A","\u8461","\u80FA","\u4E22","\u6D69","\u5FBD","\u6602","\u57AB","\u6321","\u89C8","\u8D2A","\u6170","\u7F34","\u6C6A","\u614C","\u51AF","\u8BFA","\u59DC","\u8C0A","\u51F6","\u52A3","\u8BEC","\u8000","\u660F","\u8EBA","\u76C8","\u9A91","\u4E54","\u6EAA","\u4E1B","\u5362","\u62B9","\u95F7","\u54A8","\u522E","\u9A7E","\u7F06","\u609F","\u6458","\u94D2","\u63B7","\u9887","\u5E7B","\u67C4","\u60E0","\u60E8","\u4F73","\u4EC7","\u814A","\u7A9D","\u6DA4","\u5251","\u77A7","\u5821","\u6CFC","\u8471","\u7F69","\u970D","\u635E","\u80CE","\u82CD","\u6EE8","\u4FE9","\u6345","\u6E58","\u780D","\u971E","\u90B5","\u8404","\u75AF","\u6DEE","\u9042","\u718A","\u7CAA","\u70D8","\u5BBF","\u6863","\u6208","\u9A73","\u5AC2","\u88D5","\u5F99","\u7BAD","\u6350","\u80A0","\u6491","\u6652","\u8FA8","\u6BBF","\u83B2","\u644A","\u6405","\u9171","\u5C4F","\u75AB","\u54C0","\u8521","\u5835","\u6CAB","\u76B1","\u7545","\u53E0","\u9601","\u83B1","\u6572","\u8F96","\u94A9","\u75D5","\u575D","\u5DF7","\u997F","\u7978","\u4E18","\u7384","\u6E9C","\u66F0","\u903B","\u5F6D","\u5C1D","\u537F","\u59A8","\u8247","\u541E","\u97E6","\u6028","\u77EE","\u6B47"];t.exports=r});Ge("hKmMn",function(t,e){"use strict";var r=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];t.exports=r});Ge("lnczd",function(t,e){var r=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","acade\u0301mie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acque\u0301rir","acronyme","acteur","actif","actuel","adepte","ade\u0301quat","adhe\u0301sif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","ae\u0301rer","ae\u0301ronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agre\u0301able","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","alge\u0300bre","algue","alie\u0301ner","aliment","alle\u0301ger","alliage","allouer","allumer","alourdir","alpaga","altesse","alve\u0301ole","amateur","ambigu","ambre","ame\u0301nager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","ane\u0301antir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","ape\u0301ritif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arte\u0301riel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","bannie\u0300re","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","be\u0301lier","belote","be\u0301ne\u0301fice","berceau","berger","berline","bermuda","besace","besogne","be\u0301tail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","bre\u0300che","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafe\u0301ine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","came\u0301ra","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","ce\u0301dille","ceinture","ce\u0301leste","cellule","cendrier","censurer","central","cercle","ce\u0301re\u0301bral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","che\u0301quier","chercher","cheval","chien","chiffre","chignon","chime\u0300re","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cine\u0301ma","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohe\u0301sion","coiffer","coincer","cole\u0300re","colibri","colline","colmater","colonel","combat","come\u0301die","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","corte\u0300ge","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","cre\u0301ature","cre\u0301diter","cre\u0301meux","creuser","crevette","cribler","crier","cristal","crite\u0300re","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuille\u0300re","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","de\u0301battre","de\u0301biter","de\u0301border","de\u0301brider","de\u0301butant","de\u0301caler","de\u0301cembre","de\u0301chirer","de\u0301cider","de\u0301clarer","de\u0301corer","de\u0301crire","de\u0301cupler","de\u0301dale","de\u0301ductif","de\u0301esse","de\u0301fensif","de\u0301filer","de\u0301frayer","de\u0301gager","de\u0301givrer","de\u0301glutir","de\u0301grafer","de\u0301jeuner","de\u0301lice","de\u0301loger","demander","demeurer","de\u0301molir","de\u0301nicher","de\u0301nouer","dentelle","de\u0301nuder","de\u0301part","de\u0301penser","de\u0301phaser","de\u0301placer","de\u0301poser","de\u0301ranger","de\u0301rober","de\u0301sastre","descente","de\u0301sert","de\u0301signer","de\u0301sobe\u0301ir","dessiner","destrier","de\u0301tacher","de\u0301tester","de\u0301tourer","de\u0301tresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","diffe\u0301rer","dige\u0301rer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","e\u0301blouir","e\u0301carter","e\u0301charpe","e\u0301chelle","e\u0301clairer","e\u0301clipse","e\u0301clore","e\u0301cluse","e\u0301cole","e\u0301conomie","e\u0301corce","e\u0301couter","e\u0301craser","e\u0301cre\u0301mer","e\u0301crivain","e\u0301crou","e\u0301cume","e\u0301cureuil","e\u0301difier","e\u0301duquer","effacer","effectif","effigie","effort","effrayer","effusion","e\u0301galiser","e\u0301garer","e\u0301jecter","e\u0301laborer","e\u0301largir","e\u0301lectron","e\u0301le\u0301gant","e\u0301le\u0301phant","e\u0301le\u0300ve","e\u0301ligible","e\u0301litisme","e\u0301loge","e\u0301lucider","e\u0301luder","emballer","embellir","embryon","e\u0301meraude","e\u0301mission","emmener","e\u0301motion","e\u0301mouvoir","empereur","employer","emporter","emprise","e\u0301mulsion","encadrer","enche\u0300re","enclave","encoche","endiguer","endosser","endroit","enduire","e\u0301nergie","enfance","enfermer","enfouir","engager","engin","englober","e\u0301nigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","e\u0301nume\u0301rer","envahir","enviable","envoyer","enzyme","e\u0301olien","e\u0301paissir","e\u0301pargne","e\u0301patant","e\u0301paule","e\u0301picerie","e\u0301pide\u0301mie","e\u0301pier","e\u0301pilogue","e\u0301pine","e\u0301pisode","e\u0301pitaphe","e\u0301poque","e\u0301preuve","e\u0301prouver","e\u0301puisant","e\u0301querre","e\u0301quipe","e\u0301riger","e\u0301rosion","erreur","e\u0301ruption","escalier","espadon","espe\u0300ce","espie\u0300gle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","e\u0301tage\u0300re","e\u0301taler","e\u0301tanche","e\u0301tatique","e\u0301teindre","e\u0301tendoir","e\u0301ternel","e\u0301thanol","e\u0301thique","ethnie","e\u0301tirer","e\u0301toffer","e\u0301toile","e\u0301tonnant","e\u0301tourdir","e\u0301trange","e\u0301troit","e\u0301tude","euphorie","e\u0301valuer","e\u0301vasion","e\u0301ventail","e\u0301vidence","e\u0301viter","e\u0301volutif","e\u0301voquer","exact","exage\u0301rer","exaucer","exceller","excitant","exclusif","excuse","exe\u0301cuter","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expe\u0301dier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","fe\u0301brile","fe\u0301conder","fe\u0301de\u0301rer","fe\u0301lin","femme","fe\u0301mur","fendoir","fe\u0301odal","fermer","fe\u0301roce","ferveur","festival","feuille","feutre","fe\u0301vrier","fiasco","ficeler","fictif","fide\u0300le","figure","filature","filetage","filie\u0300re","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fle\u0301au","fle\u0300che","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fouge\u0300re","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fre\u0301gate","freiner","frelon","fre\u0301mir","fre\u0301ne\u0301sie","fre\u0300re","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","ge\u0301ant","ge\u0301latine","ge\u0301lule","gendarme","ge\u0301ne\u0301ral","ge\u0301nie","genou","gentil","ge\u0301ologie","ge\u0301ome\u0300tre","ge\u0301ranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruye\u0300re","gue\u0301pard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","he\u0301lium","he\u0301matome","herbe","he\u0301risson","hermine","he\u0301ron","he\u0301siter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homoge\u0300ne","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygie\u0300ne","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","impe\u0301rial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","ine\u0301dit","ineptie","inexact","infini","infliger","informer","infusion","inge\u0301rer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irre\u0301el","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juve\u0301nile","kayak","kimono","kiosque","label","labial","labourer","lace\u0301rer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","le\u0301gal","le\u0301ger","le\u0301gume","lessive","lettre","levier","lexique","le\u0301zard","liasse","libe\u0301rer","libre","licence","licorne","lie\u0300ge","lie\u0300vre","ligature","ligoter","ligue","limer","limite","limonade","limpide","line\u0301aire","lingot","lionceau","liquide","lisie\u0300re","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumie\u0300re","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","male\u0301fice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","mate\u0301riel","matie\u0300re","matraque","maudire","maussade","mauve","maximal","me\u0301chant","me\u0301connu","me\u0301daille","me\u0301decin","me\u0301diter","me\u0301duse","meilleur","me\u0301lange","me\u0301lodie","membre","me\u0301moire","menacer","mener","menhir","mensonge","mentor","mercredi","me\u0301rite","merle","messager","mesure","me\u0301tal","me\u0301te\u0301ore","me\u0301thode","me\u0301tier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mine\u0301ral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","mure\u0300ne","murmure","muscle","muse\u0301um","musicien","mutation","muter","mutuel","myriade","myrtille","myste\u0300re","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","ne\u0301buleux","nectar","ne\u0301faste","ne\u0301gation","ne\u0301gliger","ne\u0301gocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","nume\u0301ro","nuptial","nuque","nutritif","obe\u0301ir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","oce\u0301an","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","one\u0301reux","onirique","opale","opaque","ope\u0301rer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxyge\u0300ne","ozone","paisible","palace","palmare\u0300s","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","paste\u0300que","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pe\u0301lican","pelle","pelouse","peluche","pendule","pe\u0301ne\u0301trer","pe\u0301nible","pensif","pe\u0301nurie","pe\u0301pite","pe\u0301plum","perdrix","perforer","pe\u0301riode","permuter","perplexe","persil","perte","peser","pe\u0301tale","petit","pe\u0301trir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","pie\u0300ce","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poe\u0301sie","poe\u0300te","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponde\u0301rer","poney","portique","position","posse\u0301der","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","pre\u0301cieux","pre\u0301dire","pre\u0301fixe","pre\u0301lude","pre\u0301nom","pre\u0301sence","pre\u0301texte","pre\u0301voir","primitif","prince","prison","priver","proble\u0300me","proce\u0301der","prodige","profond","progre\u0300s","proie","projeter","prologue","promener","propre","prospe\u0300re","prote\u0301ger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quie\u0301tude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","re\u0301actif","re\u0301agir","re\u0301aliser","re\u0301animer","recevoir","re\u0301citer","re\u0301clamer","re\u0301colter","recruter","reculer","recycler","re\u0301diger","redouter","refaire","re\u0301flexe","re\u0301former","refrain","refuge","re\u0301galien","re\u0301gion","re\u0301glage","re\u0301gulier","re\u0301ite\u0301rer","rejeter","rejouer","relatif","relever","relief","remarque","reme\u0300de","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","re\u0301serve","re\u0301sineux","re\u0301soudre","respect","rester","re\u0301sultat","re\u0301tablir","retenir","re\u0301ticule","retomber","retracer","re\u0301union","re\u0301ussir","revanche","revivre","re\u0301volte","re\u0301vulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","rivie\u0300re","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","sce\u0301le\u0301rat","sce\u0301nario","sceptre","sche\u0301ma","science","scinder","score","scrutin","sculpter","se\u0301ance","se\u0301cable","se\u0301cher","secouer","se\u0301cre\u0301ter","se\u0301datif","se\u0301duire","seigneur","se\u0301jour","se\u0301lectif","semaine","sembler","semence","se\u0301minal","se\u0301nateur","sensible","sentence","se\u0301parer","se\u0301quence","serein","sergent","se\u0301rieux","serrure","se\u0301rum","service","se\u0301same","se\u0301vir","sevrage","sextuple","side\u0301ral","sie\u0300cle","sie\u0301ger","siffler","sigle","signal","silence","silicium","simple","since\u0300re","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","spe\u0301cial","sphe\u0300re","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succe\u0300s","sucre","suffixe","sugge\u0301rer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","syme\u0301trie","synapse","syntaxe","syste\u0300me","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","te\u0301moin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","te\u0301tine","texte","the\u0300me","the\u0301orie","the\u0301rapie","thorax","tibia","tie\u0300de","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tole\u0301rant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","tre\u0300fle","tremper","tre\u0301sor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","ve\u0301ge\u0301tal","ve\u0301hicule","veinard","ve\u0301loce","vendredi","ve\u0301ne\u0301rer","venger","venimeux","ventouse","verdure","ve\u0301rin","vernir","verrou","verser","vertu","veston","ve\u0301te\u0301ran","ve\u0301tuste","vexant","vexer","viaduc","viande","victoire","vidange","vide\u0301o","vignette","vigueur","vilain","village","vinaigre","violon","vipe\u0300re","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xe\u0301non","yacht","ze\u0300bre","ze\u0301nith","zeste","zoologie"];t.exports=r});Ge("dr8eV",function(t,e){"use strict";var r=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"];t.exports=r});Ge("9uq94",function(t,e){"use strict";var r=["\u3042\u3044\u3053\u304F\u3057\u3093","\u3042\u3044\u3055\u3064","\u3042\u3044\u305F\u3099","\u3042\u304A\u305D\u3099\u3089","\u3042\u304B\u3061\u3083\u3093","\u3042\u304D\u308B","\u3042\u3051\u304B\u3099\u305F","\u3042\u3051\u308B","\u3042\u3053\u304B\u3099\u308C\u308B","\u3042\u3055\u3044","\u3042\u3055\u3072","\u3042\u3057\u3042\u3068","\u3042\u3057\u3099\u308F\u3046","\u3042\u3059\u3099\u304B\u308B","\u3042\u3059\u3099\u304D","\u3042\u305D\u3075\u3099","\u3042\u305F\u3048\u308B","\u3042\u305F\u305F\u3081\u308B","\u3042\u305F\u308A\u307E\u3048","\u3042\u305F\u308B","\u3042\u3064\u3044","\u3042\u3064\u304B\u3046","\u3042\u3063\u3057\u3085\u304F","\u3042\u3064\u307E\u308A","\u3042\u3064\u3081\u308B","\u3042\u3066\u306A","\u3042\u3066\u306F\u307E\u308B","\u3042\u3072\u308B","\u3042\u3075\u3099\u3089","\u3042\u3075\u3099\u308B","\u3042\u3075\u308C\u308B","\u3042\u307E\u3044","\u3042\u307E\u3068\u3099","\u3042\u307E\u3084\u304B\u3059","\u3042\u307E\u308A","\u3042\u307F\u3082\u306E","\u3042\u3081\u308A\u304B","\u3042\u3084\u307E\u308B","\u3042\u3086\u3080","\u3042\u3089\u3044\u304F\u3099\u307E","\u3042\u3089\u3057","\u3042\u3089\u3059\u3057\u3099","\u3042\u3089\u305F\u3081\u308B","\u3042\u3089\u3086\u308B","\u3042\u3089\u308F\u3059","\u3042\u308A\u304B\u3099\u3068\u3046","\u3042\u308F\u305B\u308B","\u3042\u308F\u3066\u308B","\u3042\u3093\u3044","\u3042\u3093\u304B\u3099\u3044","\u3042\u3093\u3053","\u3042\u3093\u305B\u3099\u3093","\u3042\u3093\u3066\u3044","\u3042\u3093\u306A\u3044","\u3042\u3093\u307E\u308A","\u3044\u3044\u305F\u3099\u3059","\u3044\u304A\u3093","\u3044\u304B\u3099\u3044","\u3044\u304B\u3099\u304F","\u3044\u304D\u304A\u3044","\u3044\u304D\u306A\u308A","\u3044\u304D\u3082\u306E","\u3044\u304D\u308B","\u3044\u304F\u3057\u3099","\u3044\u304F\u3075\u3099\u3093","\u3044\u3051\u306F\u3099\u306A","\u3044\u3051\u3093","\u3044\u3053\u3046","\u3044\u3053\u304F","\u3044\u3053\u3064","\u3044\u3055\u307E\u3057\u3044","\u3044\u3055\u3093","\u3044\u3057\u304D","\u3044\u3057\u3099\u3085\u3046","\u3044\u3057\u3099\u3087\u3046","\u3044\u3057\u3099\u308F\u308B","\u3044\u3059\u3099\u307F","\u3044\u3059\u3099\u308C","\u3044\u305B\u3044","\u3044\u305B\u3048\u3072\u3099","\u3044\u305B\u304B\u3044","\u3044\u305B\u304D","\u3044\u305B\u3099\u3093","\u3044\u305D\u3046\u308D\u3046","\u3044\u305D\u304B\u3099\u3057\u3044","\u3044\u305F\u3099\u3044","\u3044\u305F\u3099\u304F","\u3044\u305F\u3059\u3099\u3089","\u3044\u305F\u307F","\u3044\u305F\u308A\u3042","\u3044\u3061\u304A\u3046","\u3044\u3061\u3057\u3099","\u3044\u3061\u3068\u3099","\u3044\u3061\u306F\u3099","\u3044\u3061\u3075\u3099","\u3044\u3061\u308A\u3085\u3046","\u3044\u3064\u304B","\u3044\u3063\u3057\u3085\u3093","\u3044\u3063\u305B\u3044","\u3044\u3063\u305D\u3046","\u3044\u3063\u305F\u3093","\u3044\u3063\u3061","\u3044\u3063\u3066\u3044","\u3044\u3063\u307B\u309A\u3046","\u3044\u3066\u3055\u3099","\u3044\u3066\u3093","\u3044\u3068\u3099\u3046","\u3044\u3068\u3053","\u3044\u306A\u3044","\u3044\u306A\u304B","\u3044\u306D\u3080\u308A","\u3044\u306E\u3061","\u3044\u306E\u308B","\u3044\u306F\u3064","\u3044\u306F\u3099\u308B","\u3044\u306F\u3093","\u3044\u3072\u3099\u304D","\u3044\u3072\u3093","\u3044\u3075\u304F","\u3044\u3078\u3093","\u3044\u307B\u3046","\u3044\u307F\u3093","\u3044\u3082\u3046\u3068","\u3044\u3082\u305F\u308C","\u3044\u3082\u308A","\u3044\u3084\u304B\u3099\u308B","\u3044\u3084\u3059","\u3044\u3088\u304B\u3093","\u3044\u3088\u304F","\u3044\u3089\u3044","\u3044\u3089\u3059\u3068","\u3044\u308A\u304F\u3099\u3061","\u3044\u308A\u3087\u3046","\u3044\u308C\u3044","\u3044\u308C\u3082\u306E","\u3044\u308C\u308B","\u3044\u308D\u3048\u3093\u3072\u309A\u3064","\u3044\u308F\u3044","\u3044\u308F\u3046","\u3044\u308F\u304B\u3093","\u3044\u308F\u306F\u3099","\u3044\u308F\u3086\u308B","\u3044\u3093\u3051\u3099\u3093\u307E\u3081","\u3044\u3093\u3055\u3064","\u3044\u3093\u3057\u3087\u3046","\u3044\u3093\u3088\u3046","\u3046\u3048\u304D","\u3046\u3048\u308B","\u3046\u304A\u3055\u3099","\u3046\u304B\u3099\u3044","\u3046\u304B\u3075\u3099","\u3046\u304B\u3078\u3099\u308B","\u3046\u304D\u308F","\u3046\u304F\u3089\u3044\u306A","\u3046\u304F\u308C\u308C","\u3046\u3051\u305F\u307E\u308F\u308B","\u3046\u3051\u3064\u3051","\u3046\u3051\u3068\u308B","\u3046\u3051\u3082\u3064","\u3046\u3051\u308B","\u3046\u3053\u3099\u304B\u3059","\u3046\u3053\u3099\u304F","\u3046\u3053\u3093","\u3046\u3055\u304D\u3099","\u3046\u3057\u306A\u3046","\u3046\u3057\u308D\u304B\u3099\u307F","\u3046\u3059\u3044","\u3046\u3059\u304D\u3099","\u3046\u3059\u304F\u3099\u3089\u3044","\u3046\u3059\u3081\u308B","\u3046\u305B\u3064","\u3046\u3061\u3042\u308F\u305B","\u3046\u3061\u304B\u3099\u308F","\u3046\u3061\u304D","\u3046\u3061\u3085\u3046","\u3046\u3063\u304B\u308A","\u3046\u3064\u304F\u3057\u3044","\u3046\u3063\u305F\u3048\u308B","\u3046\u3064\u308B","\u3046\u3068\u3099\u3093","\u3046\u306A\u304D\u3099","\u3046\u306A\u3057\u3099","\u3046\u306A\u3059\u3099\u304F","\u3046\u306A\u308B","\u3046\u306D\u308B","\u3046\u306E\u3046","\u3046\u3075\u3099\u3051\u3099","\u3046\u3075\u3099\u3053\u3099\u3048","\u3046\u307E\u308C\u308B","\u3046\u3081\u308B","\u3046\u3082\u3046","\u3046\u3084\u307E\u3046","\u3046\u3088\u304F","\u3046\u3089\u304B\u3099\u3048\u3059","\u3046\u3089\u304F\u3099\u3061","\u3046\u3089\u306A\u3044","\u3046\u308A\u3042\u3051\u3099","\u3046\u308A\u304D\u308C","\u3046\u308B\u3055\u3044","\u3046\u308C\u3057\u3044","\u3046\u308C\u3086\u304D","\u3046\u308C\u308B","\u3046\u308D\u3053","\u3046\u308F\u304D","\u3046\u308F\u3055","\u3046\u3093\u3053\u3046","\u3046\u3093\u3061\u3093","\u3046\u3093\u3066\u3093","\u3046\u3093\u3068\u3099\u3046","\u3048\u3044\u3048\u3093","\u3048\u3044\u304B\u3099","\u3048\u3044\u304D\u3087\u3046","\u3048\u3044\u3053\u3099","\u3048\u3044\u305B\u3044","\u3048\u3044\u3075\u3099\u3093","\u3048\u3044\u3088\u3046","\u3048\u3044\u308F","\u3048\u304A\u308A","\u3048\u304B\u3099\u304A","\u3048\u304B\u3099\u304F","\u3048\u304D\u305F\u3044","\u3048\u304F\u305B\u308B","\u3048\u3057\u3083\u304F","\u3048\u3059\u3066","\u3048\u3064\u3089\u3093","\u3048\u306E\u304F\u3099","\u3048\u307B\u3046\u307E\u304D","\u3048\u307B\u3093","\u3048\u307E\u304D","\u3048\u3082\u3057\u3099","\u3048\u3082\u306E","\u3048\u3089\u3044","\u3048\u3089\u3075\u3099","\u3048\u308A\u3042","\u3048\u3093\u3048\u3093","\u3048\u3093\u304B\u3044","\u3048\u3093\u304D\u3099","\u3048\u3093\u3051\u3099\u304D","\u3048\u3093\u3057\u3085\u3046","\u3048\u3093\u305B\u3099\u3064","\u3048\u3093\u305D\u304F","\u3048\u3093\u3061\u3087\u3046","\u3048\u3093\u3068\u3064","\u304A\u3044\u304B\u3051\u308B","\u304A\u3044\u3053\u3059","\u304A\u3044\u3057\u3044","\u304A\u3044\u3064\u304F","\u304A\u3046\u3048\u3093","\u304A\u3046\u3055\u307E","\u304A\u3046\u3057\u3099","\u304A\u3046\u305B\u3064","\u304A\u3046\u305F\u3044","\u304A\u3046\u3075\u304F","\u304A\u3046\u3078\u3099\u3044","\u304A\u3046\u3088\u3046","\u304A\u3048\u308B","\u304A\u304A\u3044","\u304A\u304A\u3046","\u304A\u304A\u3068\u3099\u304A\u308A","\u304A\u304A\u3084","\u304A\u304A\u3088\u305D","\u304A\u304B\u3048\u308A","\u304A\u304B\u3059\u3099","\u304A\u304B\u3099\u3080","\u304A\u304B\u308F\u308A","\u304A\u304D\u3099\u306A\u3046","\u304A\u304D\u308B","\u304A\u304F\u3055\u307E","\u304A\u304F\u3057\u3099\u3087\u3046","\u304A\u304F\u308A\u304B\u3099\u306A","\u304A\u304F\u308B","\u304A\u304F\u308C\u308B","\u304A\u3053\u3059","\u304A\u3053\u306A\u3046","\u304A\u3053\u308B","\u304A\u3055\u3048\u308B","\u304A\u3055\u306A\u3044","\u304A\u3055\u3081\u308B","\u304A\u3057\u3044\u308C","\u304A\u3057\u3048\u308B","\u304A\u3057\u3099\u304D\u3099","\u304A\u3057\u3099\u3055\u3093","\u304A\u3057\u3083\u308C","\u304A\u305D\u3089\u304F","\u304A\u305D\u308F\u308B","\u304A\u305F\u304B\u3099\u3044","\u304A\u305F\u304F","\u304A\u305F\u3099\u3084\u304B","\u304A\u3061\u3064\u304F","\u304A\u3063\u3068","\u304A\u3064\u308A","\u304A\u3066\u3099\u304B\u3051","\u304A\u3068\u3057\u3082\u306E","\u304A\u3068\u306A\u3057\u3044","\u304A\u3068\u3099\u308A","\u304A\u3068\u3099\u308D\u304B\u3059","\u304A\u306F\u3099\u3055\u3093","\u304A\u307E\u3044\u308A","\u304A\u3081\u3066\u3099\u3068\u3046","\u304A\u3082\u3044\u3066\u3099","\u304A\u3082\u3046","\u304A\u3082\u305F\u3044","\u304A\u3082\u3061\u3083","\u304A\u3084\u3064","\u304A\u3084\u3086\u3072\u3099","\u304A\u3088\u307B\u3099\u3059","\u304A\u3089\u3093\u305F\u3099","\u304A\u308D\u3059","\u304A\u3093\u304B\u3099\u304F","\u304A\u3093\u3051\u3044","\u304A\u3093\u3057\u3083","\u304A\u3093\u305B\u3093","\u304A\u3093\u305F\u3099\u3093","\u304A\u3093\u3061\u3085\u3046","\u304A\u3093\u3068\u3099\u3051\u3044","\u304B\u3042\u3064","\u304B\u3044\u304B\u3099","\u304B\u3099\u3044\u304D","\u304B\u3099\u3044\u3051\u3093","\u304B\u3099\u3044\u3053\u3046","\u304B\u3044\u3055\u3064","\u304B\u3044\u3057\u3083","\u304B\u3044\u3059\u3044\u3088\u304F","\u304B\u3044\u305B\u3099\u3093","\u304B\u3044\u305D\u3099\u3046\u3068\u3099","\u304B\u3044\u3064\u3046","\u304B\u3044\u3066\u3093","\u304B\u3044\u3068\u3046","\u304B\u3044\u3075\u304F","\u304B\u3099\u3044\u3078\u304D","\u304B\u3044\u307B\u3046","\u304B\u3044\u3088\u3046","\u304B\u3099\u3044\u3089\u3044","\u304B\u3044\u308F","\u304B\u3048\u308B","\u304B\u304A\u308A","\u304B\u304B\u3048\u308B","\u304B\u304B\u3099\u304F","\u304B\u304B\u3099\u3057","\u304B\u304B\u3099\u307F","\u304B\u304F\u3053\u3099","\u304B\u304F\u3068\u304F","\u304B\u3055\u3099\u308B","\u304B\u3099\u305D\u3099\u3046","\u304B\u305F\u3044","\u304B\u305F\u3061","\u304B\u3099\u3061\u3087\u3046","\u304B\u3099\u3063\u304D\u3085\u3046","\u304B\u3099\u3063\u3053\u3046","\u304B\u3099\u3063\u3055\u3093","\u304B\u3099\u3063\u3057\u3087\u3046","\u304B\u306A\u3055\u3099\u308F\u3057","\u304B\u306E\u3046","\u304B\u3099\u306F\u304F","\u304B\u3075\u3099\u304B","\u304B\u307B\u3046","\u304B\u307B\u3053\u3099","\u304B\u307E\u3046","\u304B\u307E\u307B\u3099\u3053","\u304B\u3081\u308C\u304A\u3093","\u304B\u3086\u3044","\u304B\u3088\u3046\u3072\u3099","\u304B\u3089\u3044","\u304B\u308B\u3044","\u304B\u308D\u3046","\u304B\u308F\u304F","\u304B\u308F\u3089","\u304B\u3099\u3093\u304B","\u304B\u3093\u3051\u3044","\u304B\u3093\u3053\u3046","\u304B\u3093\u3057\u3083","\u304B\u3093\u305D\u3046","\u304B\u3093\u305F\u3093","\u304B\u3093\u3061","\u304B\u3099\u3093\u306F\u3099\u308B","\u304D\u3042\u3044","\u304D\u3042\u3064","\u304D\u3044\u308D","\u304D\u3099\u3044\u3093","\u304D\u3046\u3044","\u304D\u3046\u3093","\u304D\u3048\u308B","\u304D\u304A\u3046","\u304D\u304A\u304F","\u304D\u304A\u3061","\u304D\u304A\u3093","\u304D\u304B\u3044","\u304D\u304B\u304F","\u304D\u304B\u3093\u3057\u3083","\u304D\u304D\u3066","\u304D\u304F\u306F\u3099\u308A","\u304D\u304F\u3089\u3051\u3099","\u304D\u3051\u3093\u305B\u3044","\u304D\u3053\u3046","\u304D\u3053\u3048\u308B","\u304D\u3053\u304F","\u304D\u3055\u3044","\u304D\u3055\u304F","\u304D\u3055\u307E","\u304D\u3055\u3089\u304D\u3099","\u304D\u3099\u3057\u3099\u304B\u304B\u3099\u304F","\u304D\u3099\u3057\u304D","\u304D\u3099\u3057\u3099\u305F\u3044\u3051\u3093","\u304D\u3099\u3057\u3099\u306B\u3063\u3066\u3044","\u304D\u3099\u3057\u3099\u3085\u3064\u3057\u3083","\u304D\u3059\u3046","\u304D\u305B\u3044","\u304D\u305B\u304D","\u304D\u305B\u3064","\u304D\u305D\u3046","\u304D\u305D\u3099\u304F","\u304D\u305D\u3099\u3093","\u304D\u305F\u3048\u308B","\u304D\u3061\u3087\u3046","\u304D\u3064\u3048\u3093","\u304D\u3099\u3063\u3061\u308A","\u304D\u3064\u3064\u304D","\u304D\u3064\u306D","\u304D\u3066\u3044","\u304D\u3068\u3099\u3046","\u304D\u3068\u3099\u304F","\u304D\u306A\u3044","\u304D\u306A\u304B\u3099","\u304D\u306A\u3053","\u304D\u306C\u3053\u3099\u3057","\u304D\u306D\u3093","\u304D\u306E\u3046","\u304D\u306E\u3057\u305F","\u304D\u306F\u304F","\u304D\u3072\u3099\u3057\u3044","\u304D\u3072\u3093","\u304D\u3075\u304F","\u304D\u3075\u3099\u3093","\u304D\u307B\u3099\u3046","\u304D\u307B\u3093","\u304D\u307E\u308B","\u304D\u307F\u3064","\u304D\u3080\u3059\u3099\u304B\u3057\u3044","\u304D\u3081\u308B","\u304D\u3082\u305F\u3099\u3081\u3057","\u304D\u3082\u3061","\u304D\u3082\u306E","\u304D\u3083\u304F","\u304D\u3084\u304F","\u304D\u3099\u3085\u3046\u306B\u304F","\u304D\u3088\u3046","\u304D\u3087\u3046\u308A\u3085\u3046","\u304D\u3089\u3044","\u304D\u3089\u304F","\u304D\u308A\u3093","\u304D\u308C\u3044","\u304D\u308C\u3064","\u304D\u308D\u304F","\u304D\u3099\u308D\u3093","\u304D\u308F\u3081\u308B","\u304D\u3099\u3093\u3044\u308D","\u304D\u3093\u304B\u304F\u3057\u3099","\u304D\u3093\u3057\u3099\u3087","\u304D\u3093\u3088\u3046\u3072\u3099","\u304F\u3099\u3042\u3044","\u304F\u3044\u3059\u3099","\u304F\u3046\u304B\u3093","\u304F\u3046\u304D","\u304F\u3046\u304F\u3099\u3093","\u304F\u3046\u3053\u3046","\u304F\u3099\u3046\u305B\u3044","\u304F\u3046\u305D\u3046","\u304F\u3099\u3046\u305F\u3089","\u304F\u3046\u3075\u304F","\u304F\u3046\u307B\u3099","\u304F\u304B\u3093","\u304F\u304D\u3087\u3046","\u304F\u3051\u3099\u3093","\u304F\u3099\u3053\u3046","\u304F\u3055\u3044","\u304F\u3055\u304D","\u304F\u3055\u306F\u3099\u306A","\u304F\u3055\u308B","\u304F\u3057\u3083\u307F","\u304F\u3057\u3087\u3046","\u304F\u3059\u306E\u304D","\u304F\u3059\u308A\u3086\u3072\u3099","\u304F\u305B\u3051\u3099","\u304F\u305B\u3093","\u304F\u3099\u305F\u3044\u3066\u304D","\u304F\u305F\u3099\u3055\u308B","\u304F\u305F\u3072\u3099\u308C\u308B","\u304F\u3061\u3053\u307F","\u304F\u3061\u3055\u304D","\u304F\u3064\u3057\u305F","\u304F\u3099\u3063\u3059\u308A","\u304F\u3064\u308D\u304F\u3099","\u304F\u3068\u3046\u3066\u3093","\u304F\u3068\u3099\u304F","\u304F\u306A\u3093","\u304F\u306D\u304F\u306D","\u304F\u306E\u3046","\u304F\u3075\u3046","\u304F\u307F\u3042\u308F\u305B","\u304F\u307F\u305F\u3066\u308B","\u304F\u3081\u308B","\u304F\u3084\u304F\u3057\u3087","\u304F\u3089\u3059","\u304F\u3089\u3078\u3099\u308B","\u304F\u308B\u307E","\u304F\u308C\u308B","\u304F\u308D\u3046","\u304F\u308F\u3057\u3044","\u304F\u3099\u3093\u304B\u3093","\u304F\u3099\u3093\u3057\u3087\u304F","\u304F\u3099\u3093\u305F\u3044","\u304F\u3099\u3093\u3066","\u3051\u3042\u306A","\u3051\u3044\u304B\u304F","\u3051\u3044\u3051\u3093","\u3051\u3044\u3053","\u3051\u3044\u3055\u3064","\u3051\u3099\u3044\u3057\u3099\u3085\u3064","\u3051\u3044\u305F\u3044","\u3051\u3099\u3044\u306E\u3046\u3057\u3099\u3093","\u3051\u3044\u308C\u304D","\u3051\u3044\u308D","\u3051\u304A\u3068\u3059","\u3051\u304A\u308A\u3082\u306E","\u3051\u3099\u304D\u304B","\u3051\u3099\u304D\u3051\u3099\u3093","\u3051\u3099\u304D\u305F\u3099\u3093","\u3051\u3099\u304D\u3061\u3093","\u3051\u3099\u304D\u3068\u3064","\u3051\u3099\u304D\u306F","\u3051\u3099\u304D\u3084\u304F","\u3051\u3099\u3053\u3046","\u3051\u3099\u3053\u304F\u3057\u3099\u3087\u3046","\u3051\u3099\u3055\u3099\u3044","\u3051\u3055\u304D","\u3051\u3099\u3055\u3099\u3093","\u3051\u3057\u304D","\u3051\u3057\u3053\u3099\u3080","\u3051\u3057\u3087\u3046","\u3051\u3099\u3059\u3068","\u3051\u305F\u306F\u3099","\u3051\u3061\u3083\u3063\u3075\u309A","\u3051\u3061\u3089\u3059","\u3051\u3064\u3042\u3064","\u3051\u3064\u3044","\u3051\u3064\u3048\u304D","\u3051\u3063\u3053\u3093","\u3051\u3064\u3057\u3099\u3087","\u3051\u3063\u305B\u304D","\u3051\u3063\u3066\u3044","\u3051\u3064\u307E\u3064","\u3051\u3099\u3064\u3088\u3046\u3072\u3099","\u3051\u3099\u3064\u308C\u3044","\u3051\u3064\u308D\u3093","\u3051\u3099\u3068\u3099\u304F","\u3051\u3068\u306F\u3099\u3059","\u3051\u3068\u308B","\u3051\u306A\u3051\u3099","\u3051\u306A\u3059","\u3051\u306A\u307F","\u3051\u306C\u304D","\u3051\u3099\u306D\u3064","\u3051\u306D\u3093","\u3051\u306F\u3044","\u3051\u3099\u3072\u3093","\u3051\u3075\u3099\u304B\u3044","\u3051\u3099\u307B\u3099\u304F","\u3051\u307E\u308A","\u3051\u307F\u304B\u308B","\u3051\u3080\u3057","\u3051\u3080\u308A","\u3051\u3082\u306E","\u3051\u3089\u3044","\u3051\u308D\u3051\u308D","\u3051\u308F\u3057\u3044","\u3051\u3093\u3044","\u3051\u3093\u3048\u3064","\u3051\u3093\u304A","\u3051\u3093\u304B","\u3051\u3099\u3093\u304D","\u3051\u3093\u3051\u3099\u3093","\u3051\u3093\u3053\u3046","\u3051\u3093\u3055\u304F","\u3051\u3093\u3057\u3085\u3046","\u3051\u3093\u3059\u3046","\u3051\u3099\u3093\u305D\u3046","\u3051\u3093\u3061\u304F","\u3051\u3093\u3066\u3044","\u3051\u3093\u3068\u3046","\u3051\u3093\u306A\u3044","\u3051\u3093\u306B\u3093","\u3051\u3099\u3093\u3075\u3099\u3064","\u3051\u3093\u307E","\u3051\u3093\u307F\u3093","\u3051\u3093\u3081\u3044","\u3051\u3093\u3089\u3093","\u3051\u3093\u308A","\u3053\u3042\u304F\u307E","\u3053\u3044\u306C","\u3053\u3044\u3072\u3099\u3068","\u3053\u3099\u3046\u3044","\u3053\u3046\u3048\u3093","\u3053\u3046\u304A\u3093","\u3053\u3046\u304B\u3093","\u3053\u3099\u3046\u304D\u3085\u3046","\u3053\u3099\u3046\u3051\u3044","\u3053\u3046\u3053\u3046","\u3053\u3046\u3055\u3044","\u3053\u3046\u3057\u3099","\u3053\u3046\u3059\u3044","\u3053\u3099\u3046\u305B\u3044","\u3053\u3046\u305D\u304F","\u3053\u3046\u305F\u3044","\u3053\u3046\u3061\u3083","\u3053\u3046\u3064\u3046","\u3053\u3046\u3066\u3044","\u3053\u3046\u3068\u3099\u3046","\u3053\u3046\u306A\u3044","\u3053\u3046\u306F\u3044","\u3053\u3099\u3046\u307B\u3046","\u3053\u3099\u3046\u307E\u3093","\u3053\u3046\u3082\u304F","\u3053\u3046\u308A\u3064","\u3053\u3048\u308B","\u3053\u304A\u308A","\u3053\u3099\u304B\u3044","\u3053\u3099\u304B\u3099\u3064","\u3053\u3099\u304B\u3093","\u3053\u304F\u3053\u3099","\u3053\u304F\u3055\u3044","\u3053\u304F\u3068\u3046","\u3053\u304F\u306A\u3044","\u3053\u304F\u306F\u304F","\u3053\u304F\u3099\u307E","\u3053\u3051\u3044","\u3053\u3051\u308B","\u3053\u3053\u306E\u304B","\u3053\u3053\u308D","\u3053\u3055\u3081","\u3053\u3057\u3064","\u3053\u3059\u3046","\u3053\u305B\u3044","\u3053\u305B\u304D","\u3053\u305B\u3099\u3093","\u3053\u305D\u305F\u3099\u3066","\u3053\u305F\u3044","\u3053\u305F\u3048\u308B","\u3053\u305F\u3064","\u3053\u3061\u3087\u3046","\u3053\u3063\u304B","\u3053\u3064\u3053\u3064","\u3053\u3064\u306F\u3099\u3093","\u3053\u3064\u3075\u3099","\u3053\u3066\u3044","\u3053\u3066\u3093","\u3053\u3068\u304B\u3099\u3089","\u3053\u3068\u3057","\u3053\u3068\u306F\u3099","\u3053\u3068\u308A","\u3053\u306A\u3053\u3099\u306A","\u3053\u306D\u3053\u306D","\u3053\u306E\u307E\u307E","\u3053\u306E\u307F","\u3053\u306E\u3088","\u3053\u3099\u306F\u3093","\u3053\u3072\u3064\u3057\u3099","\u3053\u3075\u3046","\u3053\u3075\u3093","\u3053\u307B\u3099\u308C\u308B","\u3053\u3099\u307E\u3042\u3075\u3099\u3089","\u3053\u307E\u304B\u3044","\u3053\u3099\u307E\u3059\u308A","\u3053\u307E\u3064\u306A","\u3053\u307E\u308B","\u3053\u3080\u304D\u3099\u3053","\u3053\u3082\u3057\u3099","\u3053\u3082\u3061","\u3053\u3082\u306E","\u3053\u3082\u3093","\u3053\u3084\u304F","\u3053\u3084\u307E","\u3053\u3086\u3046","\u3053\u3086\u3072\u3099","\u3053\u3088\u3044","\u3053\u3088\u3046","\u3053\u308A\u308B","\u3053\u308C\u304F\u3057\u3087\u3093","\u3053\u308D\u3063\u3051","\u3053\u308F\u3082\u3066","\u3053\u308F\u308C\u308B","\u3053\u3093\u3044\u3093","\u3053\u3093\u304B\u3044","\u3053\u3093\u304D","\u3053\u3093\u3057\u3085\u3046","\u3053\u3093\u3059\u3044","\u3053\u3093\u305F\u3099\u3066","\u3053\u3093\u3068\u3093","\u3053\u3093\u306A\u3093","\u3053\u3093\u3072\u3099\u306B","\u3053\u3093\u307B\u309A\u3093","\u3053\u3093\u307E\u3051","\u3053\u3093\u3084","\u3053\u3093\u308C\u3044","\u3053\u3093\u308F\u304F","\u3055\u3099\u3044\u3048\u304D","\u3055\u3044\u304B\u3044","\u3055\u3044\u304D\u3093","\u3055\u3099\u3044\u3051\u3099\u3093","\u3055\u3099\u3044\u3053","\u3055\u3044\u3057\u3087","\u3055\u3044\u305B\u3044","\u3055\u3099\u3044\u305F\u304F","\u3055\u3099\u3044\u3061\u3085\u3046","\u3055\u3044\u3066\u304D","\u3055\u3099\u3044\u308A\u3087\u3046","\u3055\u3046\u306A","\u3055\u304B\u3044\u3057","\u3055\u304B\u3099\u3059","\u3055\u304B\u306A","\u3055\u304B\u307F\u3061","\u3055\u304B\u3099\u308B","\u3055\u304D\u3099\u3087\u3046","\u3055\u304F\u3057","\u3055\u304F\u3072\u3093","\u3055\u304F\u3089","\u3055\u3053\u304F","\u3055\u3053\u3064","\u3055\u3059\u3099\u304B\u308B","\u3055\u3099\u305B\u304D","\u3055\u305F\u3093","\u3055\u3064\u3048\u3044","\u3055\u3099\u3064\u304A\u3093","\u3055\u3099\u3063\u304B","\u3055\u3099\u3064\u304B\u3099\u304F","\u3055\u3063\u304D\u3087\u304F","\u3055\u3099\u3063\u3057","\u3055\u3064\u3057\u3099\u3093","\u3055\u3099\u3063\u305D\u3046","\u3055\u3064\u305F\u306F\u3099","\u3055\u3064\u307E\u3044\u3082","\u3055\u3066\u3044","\u3055\u3068\u3044\u3082","\u3055\u3068\u3046","\u3055\u3068\u304A\u3084","\u3055\u3068\u3057","\u3055\u3068\u308B","\u3055\u306E\u3046","\u3055\u306F\u3099\u304F","\u3055\u3072\u3099\u3057\u3044","\u3055\u3078\u3099\u3064","\u3055\u307B\u3046","\u3055\u307B\u3068\u3099","\u3055\u307E\u3059","\u3055\u307F\u3057\u3044","\u3055\u307F\u305F\u3099\u308C","\u3055\u3080\u3051","\u3055\u3081\u308B","\u3055\u3084\u3048\u3093\u3068\u3099\u3046","\u3055\u3086\u3046","\u3055\u3088\u3046","\u3055\u3088\u304F","\u3055\u3089\u305F\u3099","\u3055\u3099\u308B\u305D\u306F\u3099","\u3055\u308F\u3084\u304B","\u3055\u308F\u308B","\u3055\u3093\u3044\u3093","\u3055\u3093\u304B","\u3055\u3093\u304D\u3083\u304F","\u3055\u3093\u3053\u3046","\u3055\u3093\u3055\u3044","\u3055\u3099\u3093\u3057\u3087","\u3055\u3093\u3059\u3046","\u3055\u3093\u305B\u3044","\u3055\u3093\u305D","\u3055\u3093\u3061","\u3055\u3093\u307E","\u3055\u3093\u307F","\u3055\u3093\u3089\u3093","\u3057\u3042\u3044","\u3057\u3042\u3051\u3099","\u3057\u3042\u3055\u3063\u3066","\u3057\u3042\u308F\u305B","\u3057\u3044\u304F","\u3057\u3044\u3093","\u3057\u3046\u3061","\u3057\u3048\u3044","\u3057\u304A\u3051","\u3057\u304B\u3044","\u3057\u304B\u304F","\u3057\u3099\u304B\u3093","\u3057\u3053\u3099\u3068","\u3057\u3059\u3046","\u3057\u3099\u305F\u3099\u3044","\u3057\u305F\u3046\u3051","\u3057\u305F\u304D\u3099","\u3057\u305F\u3066","\u3057\u305F\u307F","\u3057\u3061\u3087\u3046","\u3057\u3061\u308A\u3093","\u3057\u3063\u304B\u308A","\u3057\u3064\u3057\u3099","\u3057\u3064\u3082\u3093","\u3057\u3066\u3044","\u3057\u3066\u304D","\u3057\u3066\u3064","\u3057\u3099\u3066\u3093","\u3057\u3099\u3068\u3099\u3046","\u3057\u306A\u304D\u3099\u308C","\u3057\u306A\u3082\u306E","\u3057\u306A\u3093","\u3057\u306D\u307E","\u3057\u306D\u3093","\u3057\u306E\u304F\u3099","\u3057\u306E\u3075\u3099","\u3057\u306F\u3044","\u3057\u306F\u3099\u304B\u308A","\u3057\u306F\u3064","\u3057\u306F\u3089\u3044","\u3057\u306F\u3093","\u3057\u3072\u3087\u3046","\u3057\u3075\u304F","\u3057\u3099\u3075\u3099\u3093","\u3057\u3078\u3044","\u3057\u307B\u3046","\u3057\u307B\u3093","\u3057\u307E\u3046","\u3057\u307E\u308B","\u3057\u307F\u3093","\u3057\u3080\u3051\u308B","\u3057\u3099\u3080\u3057\u3087","\u3057\u3081\u3044","\u3057\u3081\u308B","\u3057\u3082\u3093","\u3057\u3083\u3044\u3093","\u3057\u3083\u3046\u3093","\u3057\u3083\u304A\u3093","\u3057\u3099\u3083\u304B\u3099\u3044\u3082","\u3057\u3084\u304F\u3057\u3087","\u3057\u3083\u304F\u307B\u3046","\u3057\u3083\u3051\u3093","\u3057\u3083\u3053","\u3057\u3083\u3055\u3099\u3044","\u3057\u3083\u3057\u3093","\u3057\u3083\u305B\u3093","\u3057\u3083\u305D\u3046","\u3057\u3083\u305F\u3044","\u3057\u3083\u3061\u3087\u3046","\u3057\u3083\u3063\u304D\u3093","\u3057\u3099\u3083\u307E","\u3057\u3083\u308A\u3093","\u3057\u3083\u308C\u3044","\u3057\u3099\u3086\u3046","\u3057\u3099\u3085\u3046\u3057\u3087","\u3057\u3085\u304F\u306F\u304F","\u3057\u3099\u3085\u3057\u3093","\u3057\u3085\u3063\u305B\u304D","\u3057\u3085\u307F","\u3057\u3085\u3089\u306F\u3099","\u3057\u3099\u3085\u3093\u306F\u3099\u3093","\u3057\u3087\u3046\u304B\u3044","\u3057\u3087\u304F\u305F\u304F","\u3057\u3087\u3063\u3051\u3093","\u3057\u3087\u3068\u3099\u3046","\u3057\u3087\u3082\u3064","\u3057\u3089\u305B\u308B","\u3057\u3089\u3078\u3099\u308B","\u3057\u3093\u304B","\u3057\u3093\u3053\u3046","\u3057\u3099\u3093\u3057\u3099\u3083","\u3057\u3093\u305B\u3044\u3057\u3099","\u3057\u3093\u3061\u304F","\u3057\u3093\u308A\u3093","\u3059\u3042\u3051\u3099","\u3059\u3042\u3057","\u3059\u3042\u306A","\u3059\u3099\u3042\u3093","\u3059\u3044\u3048\u3044","\u3059\u3044\u304B","\u3059\u3044\u3068\u3046","\u3059\u3099\u3044\u3075\u3099\u3093","\u3059\u3044\u3088\u3046\u3072\u3099","\u3059\u3046\u304B\u3099\u304F","\u3059\u3046\u3057\u3099\u3064","\u3059\u3046\u305B\u3093","\u3059\u304A\u3068\u3099\u308A","\u3059\u304D\u307E","\u3059\u304F\u3046","\u3059\u304F\u306A\u3044","\u3059\u3051\u308B","\u3059\u3053\u3099\u3044","\u3059\u3053\u3057","\u3059\u3099\u3055\u3093","\u3059\u3059\u3099\u3057\u3044","\u3059\u3059\u3080","\u3059\u3059\u3081\u308B","\u3059\u3063\u304B\u308A","\u3059\u3099\u3063\u3057\u308A","\u3059\u3099\u3063\u3068","\u3059\u3066\u304D","\u3059\u3066\u308B","\u3059\u306D\u308B","\u3059\u306E\u3053","\u3059\u306F\u305F\u3099","\u3059\u306F\u3099\u3089\u3057\u3044","\u3059\u3099\u3072\u3087\u3046","\u3059\u3099\u3075\u3099\u306C\u308C","\u3059\u3075\u3099\u308A","\u3059\u3075\u308C","\u3059\u3078\u3099\u3066","\u3059\u3078\u3099\u308B","\u3059\u3099\u307B\u3046","\u3059\u307B\u3099\u3093","\u3059\u307E\u3044","\u3059\u3081\u3057","\u3059\u3082\u3046","\u3059\u3084\u304D","\u3059\u3089\u3059\u3089","\u3059\u308B\u3081","\u3059\u308C\u3061\u304B\u3099\u3046","\u3059\u308D\u3063\u3068","\u3059\u308F\u308B","\u3059\u3093\u305B\u3099\u3093","\u3059\u3093\u307B\u309A\u3046","\u305B\u3042\u3075\u3099\u3089","\u305B\u3044\u304B\u3064","\u305B\u3044\u3051\u3099\u3093","\u305B\u3044\u3057\u3099","\u305B\u3044\u3088\u3046","\u305B\u304A\u3046","\u305B\u304B\u3044\u304B\u3093","\u305B\u304D\u306B\u3093","\u305B\u304D\u3080","\u305B\u304D\u3086","\u305B\u304D\u3089\u3093\u3046\u3093","\u305B\u3051\u3093","\u305B\u3053\u3046","\u305B\u3059\u3057\u3099","\u305B\u305F\u3044","\u305B\u305F\u3051","\u305B\u3063\u304B\u304F","\u305B\u3063\u304D\u3083\u304F","\u305B\u3099\u3063\u304F","\u305B\u3063\u3051\u3093","\u305B\u3063\u3053\u3064","\u305B\u3063\u3055\u305F\u304F\u307E","\u305B\u3064\u305D\u3099\u304F","\u305B\u3064\u305F\u3099\u3093","\u305B\u3064\u3066\u3099\u3093","\u305B\u3063\u306F\u309A\u3093","\u305B\u3064\u3072\u3099","\u305B\u3064\u3075\u3099\u3093","\u305B\u3064\u3081\u3044","\u305B\u3064\u308A\u3064","\u305B\u306A\u304B","\u305B\u306E\u3072\u3099","\u305B\u306F\u306F\u3099","\u305B\u3072\u3099\u308D","\u305B\u307B\u3099\u306D","\u305B\u307E\u3044","\u305B\u307E\u308B","\u305B\u3081\u308B","\u305B\u3082\u305F\u308C","\u305B\u308A\u3075","\u305B\u3099\u3093\u3042\u304F","\u305B\u3093\u3044","\u305B\u3093\u3048\u3044","\u305B\u3093\u304B","\u305B\u3093\u304D\u3087","\u305B\u3093\u304F","\u305B\u3093\u3051\u3099\u3093","\u305B\u3099\u3093\u3053\u3099","\u305B\u3093\u3055\u3044","\u305B\u3093\u3057\u3085","\u305B\u3093\u3059\u3044","\u305B\u3093\u305B\u3044","\u305B\u3093\u305D\u3099","\u305B\u3093\u305F\u304F","\u305B\u3093\u3061\u3087\u3046","\u305B\u3093\u3066\u3044","\u305B\u3093\u3068\u3046","\u305B\u3093\u306C\u304D","\u305B\u3093\u306D\u3093","\u305B\u3093\u306F\u309A\u3044","\u305B\u3099\u3093\u3075\u3099","\u305B\u3099\u3093\u307B\u309A\u3046","\u305B\u3093\u3080","\u305B\u3093\u3081\u3093\u3057\u3099\u3087","\u305B\u3093\u3082\u3093","\u305B\u3093\u3084\u304F","\u305B\u3093\u3086\u3046","\u305B\u3093\u3088\u3046","\u305B\u3099\u3093\u3089","\u305B\u3099\u3093\u308A\u3083\u304F","\u305B\u3093\u308C\u3044","\u305B\u3093\u308D","\u305D\u3042\u304F","\u305D\u3044\u3068\u3051\u3099\u308B","\u305D\u3044\u306D","\u305D\u3046\u304B\u3099\u3093\u304D\u3087\u3046","\u305D\u3046\u304D","\u305D\u3046\u3053\u3099","\u305D\u3046\u3057\u3093","\u305D\u3046\u305F\u3099\u3093","\u305D\u3046\u306A\u3093","\u305D\u3046\u3072\u3099","\u305D\u3046\u3081\u3093","\u305D\u3046\u308A","\u305D\u3048\u3082\u306E","\u305D\u3048\u3093","\u305D\u304B\u3099\u3044","\u305D\u3051\u3099\u304D","\u305D\u3053\u3046","\u305D\u3053\u305D\u3053","\u305D\u3055\u3099\u3044","\u305D\u3057\u306A","\u305D\u305B\u3044","\u305D\u305B\u3093","\u305D\u305D\u304F\u3099","\u305D\u305F\u3099\u3066\u308B","\u305D\u3064\u3046","\u305D\u3064\u3048\u3093","\u305D\u3063\u304B\u3093","\u305D\u3064\u304D\u3099\u3087\u3046","\u305D\u3063\u3051\u3064","\u305D\u3063\u3053\u3046","\u305D\u3063\u305B\u3093","\u305D\u3063\u3068","\u305D\u3068\u304B\u3099\u308F","\u305D\u3068\u3064\u3099\u3089","\u305D\u306A\u3048\u308B","\u305D\u306A\u305F","\u305D\u3075\u307B\u3099","\u305D\u307B\u3099\u304F","\u305D\u307B\u3099\u308D","\u305D\u307E\u3064","\u305D\u307E\u308B","\u305D\u3080\u304F","\u305D\u3080\u308A\u3048","\u305D\u3081\u308B","\u305D\u3082\u305D\u3082","\u305D\u3088\u304B\u305B\u3099","\u305D\u3089\u307E\u3081","\u305D\u308D\u3046","\u305D\u3093\u304B\u3044","\u305D\u3093\u3051\u3044","\u305D\u3093\u3055\u3099\u3044","\u305D\u3093\u3057\u3064","\u305D\u3093\u305D\u3099\u304F","\u305D\u3093\u3061\u3087\u3046","\u305D\u3099\u3093\u3072\u3099","\u305D\u3099\u3093\u3075\u3099\u3093","\u305D\u3093\u307F\u3093","\u305F\u3042\u3044","\u305F\u3044\u3044\u3093","\u305F\u3044\u3046\u3093","\u305F\u3044\u3048\u304D","\u305F\u3044\u304A\u3046","\u305F\u3099\u3044\u304B\u3099\u304F","\u305F\u3044\u304D","\u305F\u3044\u304F\u3099\u3046","\u305F\u3044\u3051\u3093","\u305F\u3044\u3053","\u305F\u3044\u3055\u3099\u3044","\u305F\u3099\u3044\u3057\u3099\u3087\u3046\u3075\u3099","\u305F\u3099\u3044\u3059\u304D","\u305F\u3044\u305B\u3064","\u305F\u3044\u305D\u3046","\u305F\u3099\u3044\u305F\u3044","\u305F\u3044\u3061\u3087\u3046","\u305F\u3044\u3066\u3044","\u305F\u3099\u3044\u3068\u3099\u3053\u308D","\u305F\u3044\u306A\u3044","\u305F\u3044\u306D\u3064","\u305F\u3044\u306E\u3046","\u305F\u3044\u306F\u3093","\u305F\u3099\u3044\u3072\u3087\u3046","\u305F\u3044\u3075\u3046","\u305F\u3044\u3078\u3093","\u305F\u3044\u307B","\u305F\u3044\u307E\u3064\u306F\u3099\u306A","\u305F\u3044\u307F\u3093\u304F\u3099","\u305F\u3044\u3080","\u305F\u3044\u3081\u3093","\u305F\u3044\u3084\u304D","\u305F\u3044\u3088\u3046","\u305F\u3044\u3089","\u305F\u3044\u308A\u3087\u304F","\u305F\u3044\u308B","\u305F\u3044\u308F\u3093","\u305F\u3046\u3048","\u305F\u3048\u308B","\u305F\u304A\u3059","\u305F\u304A\u308B","\u305F\u304A\u308C\u308B","\u305F\u304B\u3044","\u305F\u304B\u306D","\u305F\u304D\u3072\u3099","\u305F\u304F\u3055\u3093","\u305F\u3053\u304F","\u305F\u3053\u3084\u304D","\u305F\u3055\u3044","\u305F\u3057\u3055\u3099\u3093","\u305F\u3099\u3057\u3099\u3083\u308C","\u305F\u3059\u3051\u308B","\u305F\u3059\u3099\u3055\u308F\u308B","\u305F\u305D\u304B\u3099\u308C","\u305F\u305F\u304B\u3046","\u305F\u305F\u304F","\u305F\u305F\u3099\u3057\u3044","\u305F\u305F\u307F","\u305F\u3061\u306F\u3099\u306A","\u305F\u3099\u3063\u304B\u3044","\u305F\u3099\u3063\u304D\u3083\u304F","\u305F\u3099\u3063\u3053","\u305F\u3099\u3063\u3057\u3085\u3064","\u305F\u3099\u3063\u305F\u3044","\u305F\u3066\u308B","\u305F\u3068\u3048\u308B","\u305F\u306A\u306F\u3099\u305F","\u305F\u306B\u3093","\u305F\u306C\u304D","\u305F\u306E\u3057\u307F","\u305F\u306F\u3064","\u305F\u3075\u3099\u3093","\u305F\u3078\u3099\u308B","\u305F\u307B\u3099\u3046","\u305F\u307E\u3053\u3099","\u305F\u307E\u308B","\u305F\u3099\u3080\u308B","\u305F\u3081\u3044\u304D","\u305F\u3081\u3059","\u305F\u3081\u308B","\u305F\u3082\u3064","\u305F\u3084\u3059\u3044","\u305F\u3088\u308B","\u305F\u3089\u3059","\u305F\u308A\u304D\u307B\u3093\u304B\u3099\u3093","\u305F\u308A\u3087\u3046","\u305F\u308A\u308B","\u305F\u308B\u3068","\u305F\u308C\u308B","\u305F\u308C\u3093\u3068","\u305F\u308D\u3063\u3068","\u305F\u308F\u3080\u308C\u308B","\u305F\u3099\u3093\u3042\u3064","\u305F\u3093\u3044","\u305F\u3093\u304A\u3093","\u305F\u3093\u304B","\u305F\u3093\u304D","\u305F\u3093\u3051\u3093","\u305F\u3093\u3053\u3099","\u305F\u3093\u3055\u3093","\u305F\u3093\u3057\u3099\u3087\u3046\u3072\u3099","\u305F\u3099\u3093\u305B\u3044","\u305F\u3093\u305D\u304F","\u305F\u3093\u305F\u3044","\u305F\u3099\u3093\u3061","\u305F\u3093\u3066\u3044","\u305F\u3093\u3068\u3046","\u305F\u3099\u3093\u306A","\u305F\u3093\u306B\u3093","\u305F\u3099\u3093\u306D\u3064","\u305F\u3093\u306E\u3046","\u305F\u3093\u3072\u309A\u3093","\u305F\u3099\u3093\u307B\u3099\u3046","\u305F\u3093\u307E\u3064","\u305F\u3093\u3081\u3044","\u305F\u3099\u3093\u308C\u3064","\u305F\u3099\u3093\u308D","\u305F\u3099\u3093\u308F","\u3061\u3042\u3044","\u3061\u3042\u3093","\u3061\u3044\u304D","\u3061\u3044\u3055\u3044","\u3061\u3048\u3093","\u3061\u304B\u3044","\u3061\u304B\u3089","\u3061\u304D\u3085\u3046","\u3061\u304D\u3093","\u3061\u3051\u3044\u3059\u3099","\u3061\u3051\u3093","\u3061\u3053\u304F","\u3061\u3055\u3044","\u3061\u3057\u304D","\u3061\u3057\u308A\u3087\u3046","\u3061\u305B\u3044","\u3061\u305D\u3046","\u3061\u305F\u3044","\u3061\u305F\u3093","\u3061\u3061\u304A\u3084","\u3061\u3064\u3057\u3099\u3087","\u3061\u3066\u304D","\u3061\u3066\u3093","\u3061\u306C\u304D","\u3061\u306C\u308A","\u3061\u306E\u3046","\u3061\u3072\u3087\u3046","\u3061\u3078\u3044\u305B\u3093","\u3061\u307B\u3046","\u3061\u307E\u305F","\u3061\u307F\u3064","\u3061\u307F\u3068\u3099\u308D","\u3061\u3081\u3044\u3068\u3099","\u3061\u3083\u3093\u3053\u306A\u3078\u3099","\u3061\u3085\u3046\u3044","\u3061\u3086\u308A\u3087\u304F","\u3061\u3087\u3046\u3057","\u3061\u3087\u3055\u304F\u3051\u3093","\u3061\u3089\u3057","\u3061\u3089\u307F","\u3061\u308A\u304B\u3099\u307F","\u3061\u308A\u3087\u3046","\u3061\u308B\u3068\u3099","\u3061\u308F\u308F","\u3061\u3093\u305F\u3044","\u3061\u3093\u3082\u304F","\u3064\u3044\u304B","\u3064\u3044\u305F\u3061","\u3064\u3046\u304B","\u3064\u3046\u3057\u3099\u3087\u3046","\u3064\u3046\u306F\u3093","\u3064\u3046\u308F","\u3064\u304B\u3046","\u3064\u304B\u308C\u308B","\u3064\u304F\u306D","\u3064\u304F\u308B","\u3064\u3051\u306D","\u3064\u3051\u308B","\u3064\u3053\u3099\u3046","\u3064\u305F\u3048\u308B","\u3064\u3064\u3099\u304F","\u3064\u3064\u3057\u3099","\u3064\u3064\u3080","\u3064\u3068\u3081\u308B","\u3064\u306A\u304B\u3099\u308B","\u3064\u306A\u307F","\u3064\u306D\u3064\u3099\u306D","\u3064\u306E\u308B","\u3064\u3075\u3099\u3059","\u3064\u307E\u3089\u306A\u3044","\u3064\u307E\u308B","\u3064\u307F\u304D","\u3064\u3081\u305F\u3044","\u3064\u3082\u308A","\u3064\u3082\u308B","\u3064\u3088\u3044","\u3064\u308B\u307B\u3099","\u3064\u308B\u307F\u304F","\u3064\u308F\u3082\u306E","\u3064\u308F\u308A","\u3066\u3042\u3057","\u3066\u3042\u3066","\u3066\u3042\u307F","\u3066\u3044\u304A\u3093","\u3066\u3044\u304B","\u3066\u3044\u304D","\u3066\u3044\u3051\u3044","\u3066\u3044\u3053\u304F","\u3066\u3044\u3055\u3064","\u3066\u3044\u3057","\u3066\u3044\u305B\u3044","\u3066\u3044\u305F\u3044","\u3066\u3044\u3068\u3099","\u3066\u3044\u306D\u3044","\u3066\u3044\u3072\u3087\u3046","\u3066\u3044\u3078\u3093","\u3066\u3044\u307B\u3099\u3046","\u3066\u3046\u3061","\u3066\u304A\u304F\u308C","\u3066\u304D\u3068\u3046","\u3066\u304F\u3072\u3099","\u3066\u3099\u3053\u307B\u3099\u3053","\u3066\u3055\u304D\u3099\u3087\u3046","\u3066\u3055\u3051\u3099","\u3066\u3059\u308A","\u3066\u305D\u3046","\u3066\u3061\u304B\u3099\u3044","\u3066\u3061\u3087\u3046","\u3066\u3064\u304B\u3099\u304F","\u3066\u3064\u3064\u3099\u304D","\u3066\u3099\u3063\u306F\u309A","\u3066\u3064\u307B\u3099\u3046","\u3066\u3064\u3084","\u3066\u3099\u306C\u304B\u3048","\u3066\u306C\u304D","\u3066\u306C\u304F\u3099\u3044","\u3066\u306E\u3072\u3089","\u3066\u306F\u3044","\u3066\u3075\u3099\u304F\u308D","\u3066\u3075\u305F\u3099","\u3066\u307B\u3068\u3099\u304D","\u3066\u307B\u3093","\u3066\u307E\u3048","\u3066\u307E\u304D\u3059\u3099\u3057","\u3066\u307F\u3057\u3099\u304B","\u3066\u307F\u3084\u3051\u3099","\u3066\u3089\u3059","\u3066\u308C\u3072\u3099","\u3066\u308F\u3051","\u3066\u308F\u305F\u3057","\u3066\u3099\u3093\u3042\u3064","\u3066\u3093\u3044\u3093","\u3066\u3093\u304B\u3044","\u3066\u3093\u304D","\u3066\u3093\u304F\u3099","\u3066\u3093\u3051\u3093","\u3066\u3093\u3053\u3099\u304F","\u3066\u3093\u3055\u3044","\u3066\u3093\u3057","\u3066\u3093\u3059\u3046","\u3066\u3099\u3093\u3061","\u3066\u3093\u3066\u304D","\u3066\u3093\u3068\u3046","\u3066\u3093\u306A\u3044","\u3066\u3093\u3075\u309A\u3089","\u3066\u3093\u307B\u3099\u3046\u305F\u3099\u3044","\u3066\u3093\u3081\u3064","\u3066\u3093\u3089\u3093\u304B\u3044","\u3066\u3099\u3093\u308A\u3087\u304F","\u3066\u3099\u3093\u308F","\u3068\u3099\u3042\u3044","\u3068\u3044\u308C","\u3068\u3099\u3046\u304B\u3093","\u3068\u3046\u304D\u3085\u3046","\u3068\u3099\u3046\u304F\u3099","\u3068\u3046\u3057","\u3068\u3046\u3080\u304D\u3099","\u3068\u304A\u3044","\u3068\u304A\u304B","\u3068\u304A\u304F","\u3068\u304A\u3059","\u3068\u304A\u308B","\u3068\u304B\u3044","\u3068\u304B\u3059","\u3068\u304D\u304A\u308A","\u3068\u304D\u3068\u3099\u304D","\u3068\u304F\u3044","\u3068\u304F\u3057\u3085\u3046","\u3068\u304F\u3066\u3093","\u3068\u304F\u306B","\u3068\u304F\u3078\u3099\u3064","\u3068\u3051\u3044","\u3068\u3051\u308B","\u3068\u3053\u3084","\u3068\u3055\u304B","\u3068\u3057\u3087\u304B\u3093","\u3068\u305D\u3046","\u3068\u305F\u3093","\u3068\u3061\u3085\u3046","\u3068\u3063\u304D\u3085\u3046","\u3068\u3063\u304F\u3093","\u3068\u3064\u305B\u3099\u3093","\u3068\u3064\u306B\u3085\u3046","\u3068\u3068\u3099\u3051\u308B","\u3068\u3068\u306E\u3048\u308B","\u3068\u306A\u3044","\u3068\u306A\u3048\u308B","\u3068\u306A\u308A","\u3068\u306E\u3055\u307E","\u3068\u306F\u3099\u3059","\u3068\u3099\u3075\u3099\u304B\u3099\u308F","\u3068\u307B\u3046","\u3068\u307E\u308B","\u3068\u3081\u308B","\u3068\u3082\u305F\u3099\u3061","\u3068\u3082\u308B","\u3068\u3099\u3088\u3046\u3072\u3099","\u3068\u3089\u3048\u308B","\u3068\u3093\u304B\u3064","\u3068\u3099\u3093\u3075\u3099\u308A","\u306A\u3044\u304B\u304F","\u306A\u3044\u3053\u3046","\u306A\u3044\u3057\u3087","\u306A\u3044\u3059","\u306A\u3044\u305B\u3093","\u306A\u3044\u305D\u3046","\u306A\u304A\u3059","\u306A\u304B\u3099\u3044","\u306A\u304F\u3059","\u306A\u3051\u3099\u308B","\u306A\u3053\u3046\u3068\u3099","\u306A\u3055\u3051","\u306A\u305F\u3066\u3099\u3053\u3053","\u306A\u3063\u3068\u3046","\u306A\u3064\u3084\u3059\u307F","\u306A\u306A\u304A\u3057","\u306A\u306B\u3053\u3099\u3068","\u306A\u306B\u3082\u306E","\u306A\u306B\u308F","\u306A\u306E\u304B","\u306A\u3075\u305F\u3099","\u306A\u307E\u3044\u304D","\u306A\u307E\u3048","\u306A\u307E\u307F","\u306A\u307F\u305F\u3099","\u306A\u3081\u3089\u304B","\u306A\u3081\u308B","\u306A\u3084\u3080","\u306A\u3089\u3046","\u306A\u3089\u3072\u3099","\u306A\u3089\u3075\u3099","\u306A\u308C\u308B","\u306A\u308F\u3068\u3072\u3099","\u306A\u308F\u306F\u3099\u308A","\u306B\u3042\u3046","\u306B\u3044\u304B\u3099\u305F","\u306B\u3046\u3051","\u306B\u304A\u3044","\u306B\u304B\u3044","\u306B\u304B\u3099\u3066","\u306B\u304D\u3072\u3099","\u306B\u304F\u3057\u307F","\u306B\u304F\u307E\u3093","\u306B\u3051\u3099\u308B","\u306B\u3055\u3093\u304B\u305F\u3093\u305D","\u306B\u3057\u304D","\u306B\u305B\u3082\u306E","\u306B\u3061\u3057\u3099\u3087\u3046","\u306B\u3061\u3088\u3046\u3072\u3099","\u306B\u3063\u304B","\u306B\u3063\u304D","\u306B\u3063\u3051\u3044","\u306B\u3063\u3053\u3046","\u306B\u3063\u3055\u3093","\u306B\u3063\u3057\u3087\u304F","\u306B\u3063\u3059\u3046","\u306B\u3063\u305B\u304D","\u306B\u3063\u3066\u3044","\u306B\u306A\u3046","\u306B\u307B\u3093","\u306B\u307E\u3081","\u306B\u3082\u3064","\u306B\u3084\u308A","\u306B\u3085\u3046\u3044\u3093","\u306B\u308A\u3093\u3057\u3083","\u306B\u308F\u3068\u308A","\u306B\u3093\u3044","\u306B\u3093\u304B","\u306B\u3093\u304D","\u306B\u3093\u3051\u3099\u3093","\u306B\u3093\u3057\u304D","\u306B\u3093\u3059\u3099\u3046","\u306B\u3093\u305D\u3046","\u306B\u3093\u305F\u3044","\u306B\u3093\u3061","\u306B\u3093\u3066\u3044","\u306B\u3093\u306B\u304F","\u306B\u3093\u3075\u309A","\u306B\u3093\u307E\u308A","\u306B\u3093\u3080","\u306B\u3093\u3081\u3044","\u306B\u3093\u3088\u3046","\u306C\u3044\u304F\u304D\u3099","\u306C\u304B\u3059","\u306C\u304F\u3099\u3044\u3068\u308B","\u306C\u304F\u3099\u3046","\u306C\u304F\u3082\u308A","\u306C\u3059\u3080","\u306C\u307E\u3048\u3072\u3099","\u306C\u3081\u308A","\u306C\u3089\u3059","\u306C\u3093\u3061\u3083\u304F","\u306D\u3042\u3051\u3099","\u306D\u3044\u304D","\u306D\u3044\u308B","\u306D\u3044\u308D","\u306D\u304F\u3099\u305B","\u306D\u304F\u305F\u3044","\u306D\u304F\u3089","\u306D\u3053\u305B\u3099","\u306D\u3053\u3080","\u306D\u3055\u3051\u3099","\u306D\u3059\u3053\u3099\u3059","\u306D\u305D\u3078\u3099\u308B","\u306D\u305F\u3099\u3093","\u306D\u3064\u3044","\u306D\u3063\u3057\u3093","\u306D\u3064\u305D\u3099\u3046","\u306D\u3063\u305F\u3044\u304D\u3099\u3087","\u306D\u3075\u3099\u305D\u304F","\u306D\u3075\u305F\u3099","\u306D\u307B\u3099\u3046","\u306D\u307B\u308A\u306F\u307B\u308A","\u306D\u307E\u304D","\u306D\u307E\u308F\u3057","\u306D\u307F\u307F","\u306D\u3080\u3044","\u306D\u3080\u305F\u3044","\u306D\u3082\u3068","\u306D\u3089\u3046","\u306D\u308F\u3055\u3099","\u306D\u3093\u3044\u308A","\u306D\u3093\u304A\u3057","\u306D\u3093\u304B\u3093","\u306D\u3093\u304D\u3093","\u306D\u3093\u304F\u3099","\u306D\u3093\u3055\u3099","\u306D\u3093\u3057","\u306D\u3093\u3061\u3083\u304F","\u306D\u3093\u3068\u3099","\u306D\u3093\u3072\u309A","\u306D\u3093\u3075\u3099\u3064","\u306D\u3093\u307E\u3064","\u306D\u3093\u308A\u3087\u3046","\u306D\u3093\u308C\u3044","\u306E\u3044\u3059\u3099","\u306E\u304A\u3064\u3099\u307E","\u306E\u304B\u3099\u3059","\u306E\u304D\u306A\u307F","\u306E\u3053\u304D\u3099\u308A","\u306E\u3053\u3059","\u306E\u3053\u308B","\u306E\u305B\u308B","\u306E\u305D\u3099\u304F","\u306E\u305D\u3099\u3080","\u306E\u305F\u307E\u3046","\u306E\u3061\u307B\u3068\u3099","\u306E\u3063\u304F","\u306E\u306F\u3099\u3059","\u306E\u306F\u3089","\u306E\u3078\u3099\u308B","\u306E\u307B\u3099\u308B","\u306E\u307F\u3082\u306E","\u306E\u3084\u307E","\u306E\u3089\u3044\u306C","\u306E\u3089\u306D\u3053","\u306E\u308A\u3082\u306E","\u306E\u308A\u3086\u304D","\u306E\u308C\u3093","\u306E\u3093\u304D","\u306F\u3099\u3042\u3044","\u306F\u3042\u304F","\u306F\u3099\u3042\u3055\u3093","\u306F\u3099\u3044\u304B","\u306F\u3099\u3044\u304F","\u306F\u3044\u3051\u3093","\u306F\u3044\u3053\u3099","\u306F\u3044\u3057\u3093","\u306F\u3044\u3059\u3044","\u306F\u3044\u305B\u3093","\u306F\u3044\u305D\u3046","\u306F\u3044\u3061","\u306F\u3099\u3044\u306F\u3099\u3044","\u306F\u3044\u308C\u3064","\u306F\u3048\u308B","\u306F\u304A\u308B","\u306F\u304B\u3044","\u306F\u3099\u304B\u308A","\u306F\u304B\u308B","\u306F\u304F\u3057\u3085","\u306F\u3051\u3093","\u306F\u3053\u3075\u3099","\u306F\u3055\u307F","\u306F\u3055\u3093","\u306F\u3057\u3053\u3099","\u306F\u3099\u3057\u3087","\u306F\u3057\u308B","\u306F\u305B\u308B","\u306F\u309A\u305D\u3053\u3093","\u306F\u305D\u3093","\u306F\u305F\u3093","\u306F\u3061\u307F\u3064","\u306F\u3064\u304A\u3093","\u306F\u3063\u304B\u304F","\u306F\u3064\u3099\u304D","\u306F\u3063\u304D\u308A","\u306F\u3063\u304F\u3064","\u306F\u3063\u3051\u3093","\u306F\u3063\u3053\u3046","\u306F\u3063\u3055\u3093","\u306F\u3063\u3057\u3093","\u306F\u3063\u305F\u3064","\u306F\u3063\u3061\u3085\u3046","\u306F\u3063\u3066\u3093","\u306F\u3063\u3072\u309A\u3087\u3046","\u306F\u3063\u307B\u309A\u3046","\u306F\u306A\u3059","\u306F\u306A\u3072\u3099","\u306F\u306B\u304B\u3080","\u306F\u3075\u3099\u3089\u3057","\u306F\u307F\u304B\u3099\u304D","\u306F\u3080\u304B\u3046","\u306F\u3081\u3064","\u306F\u3084\u3044","\u306F\u3084\u3057","\u306F\u3089\u3046","\u306F\u308D\u3046\u3043\u3093","\u306F\u308F\u3044","\u306F\u3093\u3044","\u306F\u3093\u3048\u3044","\u306F\u3093\u304A\u3093","\u306F\u3093\u304B\u304F","\u306F\u3093\u304D\u3087\u3046","\u306F\u3099\u3093\u304F\u3099\u307F","\u306F\u3093\u3053","\u306F\u3093\u3057\u3083","\u306F\u3093\u3059\u3046","\u306F\u3093\u305F\u3099\u3093","\u306F\u309A\u3093\u3061","\u306F\u309A\u3093\u3064","\u306F\u3093\u3066\u3044","\u306F\u3093\u3068\u3057","\u306F\u3093\u306E\u3046","\u306F\u3093\u306F\u309A","\u306F\u3093\u3075\u3099\u3093","\u306F\u3093\u3078\u309A\u3093","\u306F\u3093\u307B\u3099\u3046\u304D","\u306F\u3093\u3081\u3044","\u306F\u3093\u3089\u3093","\u306F\u3093\u308D\u3093","\u3072\u3044\u304D","\u3072\u3046\u3093","\u3072\u3048\u308B","\u3072\u304B\u304F","\u3072\u304B\u308A","\u3072\u304B\u308B","\u3072\u304B\u3093","\u3072\u304F\u3044","\u3072\u3051\u3064","\u3072\u3053\u3046\u304D","\u3072\u3053\u304F","\u3072\u3055\u3044","\u3072\u3055\u3057\u3075\u3099\u308A","\u3072\u3055\u3093","\u3072\u3099\u3057\u3099\u3085\u3064\u304B\u3093","\u3072\u3057\u3087","\u3072\u305D\u304B","\u3072\u305D\u3080","\u3072\u305F\u3080\u304D","\u3072\u305F\u3099\u308A","\u3072\u305F\u308B","\u3072\u3064\u304D\u3099","\u3072\u3063\u3053\u3057","\u3072\u3063\u3057","\u3072\u3064\u3057\u3099\u3085\u3072\u3093","\u3072\u3063\u3059","\u3072\u3064\u305B\u3099\u3093","\u3072\u309A\u3063\u305F\u308A","\u3072\u309A\u3063\u3061\u308A","\u3072\u3064\u3088\u3046","\u3072\u3066\u3044","\u3072\u3068\u3053\u3099\u307F","\u3072\u306A\u307E\u3064\u308A","\u3072\u306A\u3093","\u3072\u306D\u308B","\u3072\u306F\u3093","\u3072\u3072\u3099\u304F","\u3072\u3072\u3087\u3046","\u3072\u307B\u3046","\u3072\u307E\u308F\u308A","\u3072\u307E\u3093","\u3072\u307F\u3064","\u3072\u3081\u3044","\u3072\u3081\u3057\u3099\u3057","\u3072\u3084\u3051","\u3072\u3084\u3059","\u3072\u3088\u3046","\u3072\u3099\u3087\u3046\u304D","\u3072\u3089\u304B\u3099\u306A","\u3072\u3089\u304F","\u3072\u308A\u3064","\u3072\u308A\u3087\u3046","\u3072\u308B\u307E","\u3072\u308B\u3084\u3059\u307F","\u3072\u308C\u3044","\u3072\u308D\u3044","\u3072\u308D\u3046","\u3072\u308D\u304D","\u3072\u308D\u3086\u304D","\u3072\u3093\u304B\u304F","\u3072\u3093\u3051\u3064","\u3072\u3093\u3053\u3093","\u3072\u3093\u3057\u3085","\u3072\u3093\u305D\u3046","\u3072\u309A\u3093\u3061","\u3072\u3093\u306F\u309A\u3093","\u3072\u3099\u3093\u307B\u3099\u3046","\u3075\u3042\u3093","\u3075\u3044\u3046\u3061","\u3075\u3046\u3051\u3044","\u3075\u3046\u305B\u3093","\u3075\u309A\u3046\u305F\u308D\u3046","\u3075\u3046\u3068\u3046","\u3075\u3046\u3075","\u3075\u3048\u308B","\u3075\u304A\u3093","\u3075\u304B\u3044","\u3075\u304D\u3093","\u3075\u304F\u3055\u3099\u3064","\u3075\u304F\u3075\u3099\u304F\u308D","\u3075\u3053\u3046","\u3075\u3055\u3044","\u3075\u3057\u304D\u3099","\u3075\u3057\u3099\u307F","\u3075\u3059\u307E","\u3075\u305B\u3044","\u3075\u305B\u304F\u3099","\u3075\u305D\u304F","\u3075\u3099\u305F\u306B\u304F","\u3075\u305F\u3093","\u3075\u3061\u3087\u3046","\u3075\u3064\u3046","\u3075\u3064\u304B","\u3075\u3063\u304B\u3064","\u3075\u3063\u304D","\u3075\u3063\u3053\u304F","\u3075\u3099\u3068\u3099\u3046","\u3075\u3068\u308B","\u3075\u3068\u3093","\u3075\u306E\u3046","\u3075\u306F\u3044","\u3075\u3072\u3087\u3046","\u3075\u3078\u3093","\u3075\u307E\u3093","\u3075\u307F\u3093","\u3075\u3081\u3064","\u3075\u3081\u3093","\u3075\u3088\u3046","\u3075\u308A\u3053","\u3075\u308A\u308B","\u3075\u308B\u3044","\u3075\u3093\u3044\u304D","\u3075\u3099\u3093\u304B\u3099\u304F","\u3075\u3099\u3093\u304F\u3099","\u3075\u3093\u3057\u3064","\u3075\u3099\u3093\u305B\u304D","\u3075\u3093\u305D\u3046","\u3075\u3099\u3093\u307B\u309A\u3046","\u3078\u3044\u3042\u3093","\u3078\u3044\u304A\u3093","\u3078\u3044\u304B\u3099\u3044","\u3078\u3044\u304D","\u3078\u3044\u3051\u3099\u3093","\u3078\u3044\u3053\u3046","\u3078\u3044\u3055","\u3078\u3044\u3057\u3083","\u3078\u3044\u305B\u3064","\u3078\u3044\u305D","\u3078\u3044\u305F\u304F","\u3078\u3044\u3066\u3093","\u3078\u3044\u306D\u3064","\u3078\u3044\u308F","\u3078\u304D\u304B\u3099","\u3078\u3053\u3080","\u3078\u3099\u306B\u3044\u308D","\u3078\u3099\u306B\u3057\u3087\u3046\u304B\u3099","\u3078\u3089\u3059","\u3078\u3093\u304B\u3093","\u3078\u3099\u3093\u304D\u3087\u3046","\u3078\u3099\u3093\u3053\u3099\u3057","\u3078\u3093\u3055\u3044","\u3078\u3093\u305F\u3044","\u3078\u3099\u3093\u308A","\u307B\u3042\u3093","\u307B\u3044\u304F","\u307B\u3099\u3046\u304D\u3099\u3087","\u307B\u3046\u3053\u304F","\u307B\u3046\u305D\u3046","\u307B\u3046\u307B\u3046","\u307B\u3046\u3082\u3093","\u307B\u3046\u308A\u3064","\u307B\u3048\u308B","\u307B\u304A\u3093","\u307B\u304B\u3093","\u307B\u304D\u3087\u3046","\u307B\u3099\u304D\u3093","\u307B\u304F\u308D","\u307B\u3051\u3064","\u307B\u3051\u3093","\u307B\u3053\u3046","\u307B\u3053\u308B","\u307B\u3057\u3044","\u307B\u3057\u3064","\u307B\u3057\u3085","\u307B\u3057\u3087\u3046","\u307B\u305B\u3044","\u307B\u305D\u3044","\u307B\u305D\u304F","\u307B\u305F\u3066","\u307B\u305F\u308B","\u307B\u309A\u3061\u3075\u3099\u304F\u308D","\u307B\u3063\u304D\u3087\u304F","\u307B\u3063\u3055","\u307B\u3063\u305F\u3093","\u307B\u3068\u3093\u3068\u3099","\u307B\u3081\u308B","\u307B\u3093\u3044","\u307B\u3093\u304D","\u307B\u3093\u3051","\u307B\u3093\u3057\u3064","\u307B\u3093\u3084\u304F","\u307E\u3044\u306B\u3061","\u307E\u304B\u3044","\u307E\u304B\u305B\u308B","\u307E\u304B\u3099\u308B","\u307E\u3051\u308B","\u307E\u3053\u3068","\u307E\u3055\u3064","\u307E\u3057\u3099\u3081","\u307E\u3059\u304F","\u307E\u305B\u3099\u308B","\u307E\u3064\u308A","\u307E\u3068\u3081","\u307E\u306A\u3075\u3099","\u307E\u306C\u3051","\u307E\u306D\u304F","\u307E\u307B\u3046","\u307E\u3082\u308B","\u307E\u3086\u3051\u3099","\u307E\u3088\u3046","\u307E\u308D\u3084\u304B","\u307E\u308F\u3059","\u307E\u308F\u308A","\u307E\u308F\u308B","\u307E\u3093\u304B\u3099","\u307E\u3093\u304D\u3064","\u307E\u3093\u305D\u3099\u304F","\u307E\u3093\u306A\u304B","\u307F\u3044\u3089","\u307F\u3046\u3061","\u307F\u3048\u308B","\u307F\u304B\u3099\u304F","\u307F\u304B\u305F","\u307F\u304B\u3093","\u307F\u3051\u3093","\u307F\u3053\u3093","\u307F\u3057\u3099\u304B\u3044","\u307F\u3059\u3044","\u307F\u3059\u3048\u308B","\u307F\u305B\u308B","\u307F\u3063\u304B","\u307F\u3064\u304B\u308B","\u307F\u3064\u3051\u308B","\u307F\u3066\u3044","\u307F\u3068\u3081\u308B","\u307F\u306A\u3068","\u307F\u306A\u307F\u304B\u3055\u3044","\u307F\u306D\u3089\u308B","\u307F\u306E\u3046","\u307F\u306E\u304B\u3099\u3059","\u307F\u307B\u3093","\u307F\u3082\u3068","\u307F\u3084\u3051\u3099","\u307F\u3089\u3044","\u307F\u308A\u3087\u304F","\u307F\u308F\u304F","\u307F\u3093\u304B","\u307F\u3093\u305D\u3099\u304F","\u3080\u3044\u304B","\u3080\u3048\u304D","\u3080\u3048\u3093","\u3080\u304B\u3044","\u3080\u304B\u3046","\u3080\u304B\u3048","\u3080\u304B\u3057","\u3080\u304D\u3099\u3061\u3083","\u3080\u3051\u308B","\u3080\u3051\u3099\u3093","\u3080\u3055\u307B\u3099\u308B","\u3080\u3057\u3042\u3064\u3044","\u3080\u3057\u306F\u3099","\u3080\u3057\u3099\u3085\u3093","\u3080\u3057\u308D","\u3080\u3059\u3046","\u3080\u3059\u3053","\u3080\u3059\u3075\u3099","\u3080\u3059\u3081","\u3080\u305B\u308B","\u3080\u305B\u3093","\u3080\u3061\u3085\u3046","\u3080\u306A\u3057\u3044","\u3080\u306E\u3046","\u3080\u3084\u307F","\u3080\u3088\u3046","\u3080\u3089\u3055\u304D","\u3080\u308A\u3087\u3046","\u3080\u308D\u3093","\u3081\u3044\u3042\u3093","\u3081\u3044\u3046\u3093","\u3081\u3044\u3048\u3093","\u3081\u3044\u304B\u304F","\u3081\u3044\u304D\u3087\u304F","\u3081\u3044\u3055\u3044","\u3081\u3044\u3057","\u3081\u3044\u305D\u3046","\u3081\u3044\u3075\u3099\u3064","\u3081\u3044\u308C\u3044","\u3081\u3044\u308F\u304F","\u3081\u304F\u3099\u307E\u308C\u308B","\u3081\u3055\u3099\u3059","\u3081\u3057\u305F","\u3081\u3059\u3099\u3089\u3057\u3044","\u3081\u305F\u3099\u3064","\u3081\u307E\u3044","\u3081\u3084\u3059","\u3081\u3093\u304D\u3087","\u3081\u3093\u305B\u304D","\u3081\u3093\u3068\u3099\u3046","\u3082\u3046\u3057\u3042\u3051\u3099\u308B","\u3082\u3046\u3068\u3099\u3046\u3051\u3093","\u3082\u3048\u308B","\u3082\u304F\u3057","\u3082\u304F\u3066\u304D","\u3082\u304F\u3088\u3046\u3072\u3099","\u3082\u3061\u308D\u3093","\u3082\u3068\u3099\u308B","\u3082\u3089\u3046","\u3082\u3093\u304F","\u3082\u3093\u305F\u3099\u3044","\u3084\u304A\u3084","\u3084\u3051\u308B","\u3084\u3055\u3044","\u3084\u3055\u3057\u3044","\u3084\u3059\u3044","\u3084\u3059\u305F\u308D\u3046","\u3084\u3059\u307F","\u3084\u305B\u308B","\u3084\u305D\u3046","\u3084\u305F\u3044","\u3084\u3061\u3093","\u3084\u3063\u3068","\u3084\u3063\u306F\u309A\u308A","\u3084\u3075\u3099\u308B","\u3084\u3081\u308B","\u3084\u3084\u3053\u3057\u3044","\u3084\u3088\u3044","\u3084\u308F\u3089\u304B\u3044","\u3086\u3046\u304D","\u3086\u3046\u3072\u3099\u3093\u304D\u3087\u304F","\u3086\u3046\u3078\u3099","\u3086\u3046\u3081\u3044","\u3086\u3051\u3064","\u3086\u3057\u3085\u3064","\u3086\u305B\u3093","\u3086\u305D\u3046","\u3086\u305F\u304B","\u3086\u3061\u3083\u304F","\u3086\u3066\u3099\u308B","\u3086\u306B\u3085\u3046","\u3086\u3072\u3099\u308F","\u3086\u3089\u3044","\u3086\u308C\u308B","\u3088\u3046\u3044","\u3088\u3046\u304B","\u3088\u3046\u304D\u3085\u3046","\u3088\u3046\u3057\u3099","\u3088\u3046\u3059","\u3088\u3046\u3061\u3048\u3093","\u3088\u304B\u305B\u3099","\u3088\u304B\u3093","\u3088\u304D\u3093","\u3088\u304F\u305B\u3044","\u3088\u304F\u307B\u3099\u3046","\u3088\u3051\u3044","\u3088\u3053\u3099\u308C\u308B","\u3088\u3055\u3093","\u3088\u3057\u3085\u3046","\u3088\u305D\u3046","\u3088\u305D\u304F","\u3088\u3063\u304B","\u3088\u3066\u3044","\u3088\u3068\u3099\u304B\u3099\u308F\u304F","\u3088\u306D\u3064","\u3088\u3084\u304F","\u3088\u3086\u3046","\u3088\u308D\u3053\u3075\u3099","\u3088\u308D\u3057\u3044","\u3089\u3044\u3046","\u3089\u304F\u304B\u3099\u304D","\u3089\u304F\u3053\u3099","\u3089\u304F\u3055\u3064","\u3089\u304F\u305F\u3099","\u3089\u3057\u3093\u306F\u3099\u3093","\u3089\u305B\u3093","\u3089\u305D\u3099\u304F","\u3089\u305F\u3044","\u3089\u3063\u304B","\u3089\u308C\u3064","\u308A\u3048\u304D","\u308A\u304B\u3044","\u308A\u304D\u3055\u304F","\u308A\u304D\u305B\u3064","\u308A\u304F\u304F\u3099\u3093","\u308A\u304F\u3064","\u308A\u3051\u3093","\u308A\u3053\u3046","\u308A\u305B\u3044","\u308A\u305D\u3046","\u308A\u305D\u304F","\u308A\u3066\u3093","\u308A\u306D\u3093","\u308A\u3086\u3046","\u308A\u3085\u3046\u304B\u3099\u304F","\u308A\u3088\u3046","\u308A\u3087\u3046\u308A","\u308A\u3087\u304B\u3093","\u308A\u3087\u304F\u3061\u3083","\u308A\u3087\u3053\u3046","\u308A\u308A\u304F","\u308A\u308C\u304D","\u308A\u308D\u3093","\u308A\u3093\u3053\u3099","\u308B\u3044\u3051\u3044","\u308B\u3044\u3055\u3044","\u308B\u3044\u3057\u3099","\u308B\u3044\u305B\u304D","\u308B\u3059\u306F\u3099\u3093","\u308B\u308A\u304B\u3099\u308F\u3089","\u308C\u3044\u304B\u3093","\u308C\u3044\u304D\u3099","\u308C\u3044\u305B\u3044","\u308C\u3044\u305D\u3099\u3046\u3053","\u308C\u3044\u3068\u3046","\u308C\u3044\u307B\u3099\u3046","\u308C\u304D\u3057","\u308C\u304D\u305F\u3099\u3044","\u308C\u3093\u3042\u3044","\u308C\u3093\u3051\u3044","\u308C\u3093\u3053\u3093","\u308C\u3093\u3055\u3044","\u308C\u3093\u3057\u3085\u3046","\u308C\u3093\u305D\u3099\u304F","\u308C\u3093\u3089\u304F","\u308D\u3046\u304B","\u308D\u3046\u3053\u3099","\u308D\u3046\u3057\u3099\u3093","\u308D\u3046\u305D\u304F","\u308D\u304F\u304B\u3099","\u308D\u3053\u3064","\u308D\u3057\u3099\u3046\u3089","\u308D\u3057\u3085\u3064","\u308D\u305B\u3093","\u308D\u3066\u3093","\u308D\u3081\u3093","\u308D\u308C\u3064","\u308D\u3093\u304D\u3099","\u308D\u3093\u306F\u309A","\u308D\u3093\u3075\u3099\u3093","\u308D\u3093\u308A","\u308F\u304B\u3059","\u308F\u304B\u3081","\u308F\u304B\u3084\u307E","\u308F\u304B\u308C\u308B","\u308F\u3057\u3064","\u308F\u3057\u3099\u307E\u3057","\u308F\u3059\u308C\u3082\u306E","\u308F\u3089\u3046","\u308F\u308C\u308B"];t.exports=r});Ge("8YfVJ",function(t,e){"use strict";var r=["a\u0301baco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accio\u0301n","aceite","acelga","acento","aceptar","a\u0301cido","aclarar","acne\u0301","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","ae\u0301reo","afectar","aficio\u0301n","afinar","afirmar","a\u0301gil","agitar","agoni\u0301a","agosto","agotar","agregar","agrio","agua","agudo","a\u0301guila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacra\u0301n","alambre","alarma","alba","a\u0301lbum","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodo\u0301n","aliado","aliento","alivio","alma","almeja","almi\u0301bar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","a\u0301mbar","a\u0301mbito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","ande\u0301n","anemia","a\u0301ngulo","anillo","a\u0301nimo","ani\u0301s","anotar","antena","antiguo","antojo","anual","anular","anuncio","an\u0303adir","an\u0303ejo","an\u0303o","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","aran\u0303a","arar","a\u0301rbitro","a\u0301rbol","arbusto","archivo","arco","arder","ardilla","arduo","a\u0301rea","a\u0301rido","aries","armoni\u0301a","arne\u0301s","aroma","arpa","arpo\u0301n","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","a\u0301spero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","a\u0301tico","atleta","a\u0301tomo","atraer","atroz","atu\u0301n","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avio\u0301n","aviso","ayer","ayuda","ayuno","azafra\u0301n","azar","azote","azu\u0301car","azufre","azul","baba","babor","bache","bahi\u0301a","baile","bajar","balanza","balco\u0301n","balde","bambu\u0301","banco","banda","ban\u0303o","barba","barco","barniz","barro","ba\u0301scula","basto\u0301n","basura","batalla","bateri\u0301a","batir","batuta","bau\u0301l","bazar","bebe\u0301","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsa\u0301i","borde","borrar","bosque","bote","boti\u0301n","bo\u0301veda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufo\u0301n","bu\u0301ho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzo\u0301n","caballo","cabeza","cabina","cabra","cacao","cada\u0301ver","cadena","caer","cafe\u0301","cai\u0301da","caima\u0301n","caja","cajo\u0301n","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","ca\u0301ncer","candil","canela","canguro","canica","canto","can\u0303a","can\u0303o\u0301n","caoba","caos","capaz","capita\u0301n","capote","captar","capucha","cara","carbo\u0301n","ca\u0301rcel","careta","carga","carin\u0303o","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","ce\u0301lebre","celoso","ce\u0301lula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","ce\u0301sped","cetro","chacal","chaleco","champu\u0301","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclo\u0301n","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipre\u0301s","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","cli\u0301nica","cobre","coccio\u0301n","cochino","cocina","coco","co\u0301digo","codo","cofre","coger","cohete","coji\u0301n","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","co\u0301modo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazo\u0301n","corbata","corcho","cordo\u0301n","corona","correr","coser","cosmos","costa","cra\u0301neo","cra\u0301ter","crear","crecer","crei\u0301do","crema","cri\u0301a","crimen","cripta","crisis","cromo","cro\u0301nica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupo\u0301n","cu\u0301pula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","da\u0301til","deber","de\u0301bil","de\u0301cada","decir","dedo","defensa","definir","dejar","delfi\u0301n","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvi\u0301o","detalle","detener","deuda","di\u0301a","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","difi\u0301cil","digno","dilema","diluir","dinero","directo","dirigir","disco","disen\u0303o","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","drago\u0301n","droga","ducha","duda","duelo","duen\u0303o","dulce","du\u0301o","duque","durar","dureza","duro","e\u0301bano","ebrio","echar","eco","ecuador","edad","edicio\u0301n","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","e\u0301lite","elixir","elogio","eludir","embudo","emitir","emocio\u0301n","empate","empen\u0303o","empleo","empresa","enano","encargo","enchufe","enci\u0301a","enemigo","enero","enfado","enfermo","engan\u0303o","enigma","enlace","enorme","enredo","ensayo","ensen\u0303ar","entero","entrar","envase","envi\u0301o","e\u0301poca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espi\u0301a","esposa","espuma","esqui\u0301","estar","este","estilo","estufa","etapa","eterno","e\u0301tica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","e\u0301xito","experto","explicar","exponer","extremo","fa\u0301brica","fa\u0301bula","fachada","fa\u0301cil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","farao\u0301n","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fe\u0301rtil","fervor","festi\u0301n","fiable","fianza","fiar","fibra","ficcio\u0301n","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","flu\u0301or","fobia","foca","fogata","fogo\u0301n","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fra\u0301gil","franja","frase","fraude","frei\u0301r","freno","fresa","fri\u0301o","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcio\u0301n","funda","furgo\u0301n","furia","fusil","fu\u0301tbol","futuro","gacela","gafas","gaita","gajo","gala","galeri\u0301a","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavila\u0301n","gemelo","gemir","gen","ge\u0301nero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","gra\u0301fico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","gru\u0301a","grueso","grumo","grupo","guante","guapo","guardia","guerra","gui\u0301a","guin\u0303o","guion","guiso","guitarra","gusano","gustar","haber","ha\u0301bil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazan\u0303a","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","he\u0301roe","hervir","hielo","hierro","hi\u0301gado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","hu\u0301medo","humilde","humo","hundir","huraca\u0301n","hurto","icono","ideal","idioma","i\u0301dolo","iglesia","iglu\u0301","igual","ilegal","ilusio\u0301n","imagen","ima\u0301n","imitar","impar","imperio","imponer","impulso","incapaz","i\u0301ndice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","intere\u0301s","i\u0301ntimo","intuir","inu\u0301til","invierno","ira","iris","ironi\u0301a","isla","islote","jabali\u0301","jabo\u0301n","jamo\u0301n","jarabe","jardi\u0301n","jarra","jaula","jazmi\u0301n","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","ju\u0301piter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladro\u0301n","lagarto","la\u0301grima","laguna","laico","lamer","la\u0301mina","la\u0301mpara","lana","lancha","langosta","lanza","la\u0301piz","largo","larva","la\u0301stima","lata","la\u0301tex","latir","laurel","lavar","lazo","leal","leccio\u0301n","leche","lector","leer","legio\u0301n","legumbre","lejano","lengua","lento","len\u0303a","leo\u0301n","leopardo","lesio\u0301n","letal","letra","leve","leyenda","libertad","libro","licor","li\u0301der","lidiar","lienzo","liga","ligero","lima","li\u0301mite","limo\u0301n","limpio","lince","lindo","li\u0301nea","lingote","lino","linterna","li\u0301quido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locio\u0301n","loco","locura","lo\u0301gica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","mai\u0301z","maldad","maleta","malla","malo","mama\u0301","mambo","mamut","manco","mando","manejar","manga","maniqui\u0301","manjar","mano","manso","manta","man\u0303ana","mapa","ma\u0301quina","mar","marco","marea","marfil","margen","marido","ma\u0301rmol","marro\u0301n","martes","marzo","masa","ma\u0301scara","masivo","matar","materia","matiz","matriz","ma\u0301ximo","mayor","mazorca","mecha","medalla","medio","me\u0301dula","mejilla","mejor","melena","melo\u0301n","memoria","menor","mensaje","mente","menu\u0301","mercado","merengue","me\u0301rito","mes","meso\u0301n","meta","meter","me\u0301todo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millo\u0301n","mimo","mina","minero","mi\u0301nimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocio\u0301n","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mon\u0303o","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","mo\u0301vil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","mun\u0303eca","mural","muro","mu\u0301sculo","museo","musgo","mu\u0301sica","muslo","na\u0301car","nacio\u0301n","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","na\u0301usea","naval","nave","navidad","necio","ne\u0301ctar","negar","negocio","negro","neo\u0301n","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","nin\u0303ez","nin\u0303o","ni\u0301tido","nivel","nobleza","noche","no\u0301mina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nu\u0301cleo","nudillo","nudo","nuera","nueve","nuez","nulo","nu\u0301mero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oce\u0301ano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oi\u0301do","oi\u0301r","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcio\u0301n","o\u0301pera","opinar","oponer","optar","o\u0301ptica","opuesto","oracio\u0301n","orador","oral","o\u0301rbita","orca","orden","oreja","o\u0301rgano","orgi\u0301a","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadi\u0301a","oscuro","osezno","oso","ostra","oton\u0303o","otro","oveja","o\u0301vulo","o\u0301xido","oxi\u0301geno","oyente","ozono","pacto","padre","paella","pa\u0301gina","pago","pai\u0301s","pa\u0301jaro","palabra","palco","paleta","pa\u0301lido","palma","paloma","palpar","pan","panal","pa\u0301nico","pantera","pan\u0303uelo","papa\u0301","papel","papilla","paquete","parar","parcela","pared","parir","paro","pa\u0301rpado","parque","pa\u0301rrafo","parte","pasar","paseo","pasio\u0301n","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peato\u0301n","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldan\u0303o","pelea","peligro","pellejo","pelo","peluca","pena","pensar","pen\u0303o\u0301n","peo\u0301n","peor","pepino","pequen\u0303o","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pe\u0301simo","pestan\u0303a","pe\u0301talo","petro\u0301leo","pez","pezun\u0303a","picar","picho\u0301n","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pin\u0303a","piojo","pipa","pirata","pisar","piscina","piso","pista","pito\u0301n","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesi\u0301a","poeta","polen","polici\u0301a","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcio\u0301n","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","pri\u0301ncipe","prisio\u0301n","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","pro\u0301ximo","prueba","pu\u0301blico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmo\u0301n","pulpo","pulso","puma","punto","pun\u0303al","pun\u0303o","pupa","pupila","pure\u0301","quedar","queja","quemar","querer","queso","quieto","qui\u0301mica","quince","quitar","ra\u0301bano","rabia","rabo","racio\u0301n","radical","rai\u0301z","rama","rampa","rancho","rango","rapaz","ra\u0301pido","rapto","rasgo","raspa","rato","rayo","raza","razo\u0301n","reaccio\u0301n","realidad","reban\u0303o","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refra\u0301n","refugio","regalo","regir","regla","regreso","rehe\u0301n","reino","rei\u0301r","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reve\u0301s","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","ri\u0301gido","rigor","rinco\u0301n","rin\u0303o\u0301n","ri\u0301o","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi\u0301","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sa\u0301bado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmo\u0301n","salo\u0301n","salsa","salto","salud","salvar","samba","sancio\u0301n","sandi\u0301a","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarte\u0301n","sastre","sata\u0301n","sauna","saxofo\u0301n","seccio\u0301n","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","sen\u0303al","sen\u0303or","separar","sepia","sequi\u0301a","ser","serie","sermo\u0301n","servir","sesenta","sesio\u0301n","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","si\u0301laba","silbar","silencio","silla","si\u0301mbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","so\u0301lido","soltar","solucio\u0301n","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","soste\u0301n","so\u0301tano","suave","subir","suceso","sudor","suegra","suelo","suen\u0303o","suerte","sufrir","sujeto","sulta\u0301n","sumar","superar","suplir","suponer","supremo","sur","surco","suren\u0303o","surgir","susto","sutil","tabaco","tabique","tabla","tabu\u0301","taco","tacto","tajo","talar","talco","talento","talla","talo\u0301n","taman\u0303o","tambor","tango","tanque","tapa","tapete","tapia","tapo\u0301n","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazo\u0301n","teatro","techo","tecla","te\u0301cnica","tejado","tejer","tejido","tela","tele\u0301fono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teori\u0301a","terapia","terco","te\u0301rmino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburo\u0301n","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","ti\u0301mido","timo","tinta","ti\u0301o","ti\u0301pico","tipo","tira","tiro\u0301n","tita\u0301n","ti\u0301tere","ti\u0301tulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","to\u0301rax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","to\u0301xico","trabajo","tractor","traer","tra\u0301fico","trago","traje","tramo","trance","trato","trauma","trazar","tre\u0301bol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberi\u0301a","tubo","tuerto","tumba","tumor","tu\u0301nel","tu\u0301nica","turbina","turismo","turno","tutor","ubicar","u\u0301lcera","umbral","unidad","unir","universo","uno","untar","un\u0303a","urbano","urbe","urgente","urna","usar","usuario","u\u0301til","utopi\u0301a","uva","vaca","vaci\u0301o","vacuna","vagar","vago","vaina","vajilla","vale","va\u0301lido","valle","valor","va\u0301lvula","vampiro","vara","variar","varo\u0301n","vaso","vecino","vector","vehi\u0301culo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","vi\u0301a","viaje","vibrar","vicio","vi\u0301ctima","vida","vi\u0301deo","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vin\u0303edo","violi\u0301n","viral","virgo","virtud","visor","vi\u0301spera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volca\u0301n","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"];t.exports=r});var Vje=wr.Buffer,Xt={};Xt.version="v"+W("1Q9VF").version;Xt.versionGuard=function(t){if(t!==void 0){var e=`
      More than one instance of scrypt bsv found. other version: ${t}
      Please make sure to require bsv and check that submodules do
      not also include their own bsv dependency.`;console.warn(e)}};Xt.versionGuard(ex._scrypt_bsv);ex._scrypt_bsv=Xt.version;Xt.crypto={};Xt.crypto.BN=W("dIoYd");Xt.crypto.ECDSA=W("kmMTb");Xt.crypto.Hash=W("bTTXN");Xt.crypto.Random=W("7X5Fe");Xt.crypto.Point=W("f0gTO");Xt.crypto.Signature=W("gIXub");Xt.encoding={};Xt.encoding.Base58=W("jG967");Xt.encoding.Base58Check=W("j7ODq");Xt.encoding.BufferReader=W("28ku8");Xt.encoding.BufferWriter=W("2AZ1V");Xt.encoding.Varint=W("1zMJW");Xt.util={};Xt.util.js=W("gk75r");Xt.util.preconditions=W("6gAsx");Xt.errors=W("kooOK");Xt.Address=W("iSUUt");Xt.Block=W("19NsJ");Xt.MerkleBlock=W("hVYHX");Xt.BlockHeader=W("gGdD6");Xt.HDPrivateKey=W("4bgoH");Xt.HDPublicKey=W("8kXe7");Xt.Networks=W("cyjag");Xt.Opcode=W("bpasi");Xt.PrivateKey=W("7smYJ");Xt.PublicKey=W("arkeG");Xt.Script=W("hkiTH");Xt.Transaction=W("7pkU6");Xt.ECIES=W("de0HV");Xt.HashCache=W("l0DuR");Xt.deps={};Xt.deps.bnjs=zje;Xt.deps.bs58=qD;Xt.deps.Buffer=Vje;Xt.deps.elliptic=qce;Xt.deps._=W("kBBbb");Xt.Transaction.sighash=W("95EnH");Xt.Message=W("9fBEz");Xt.Mnemonic=W("amN1b");jce.exports=Xt});var Vce=$((tx,zce)=>{B();k();(function(t,e){typeof tx=="object"&&typeof zce<"u"?e(tx):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.sourcemapCodec={}))})(tx,function(t){"use strict";let e=",".charCodeAt(0),r=";".charCodeAt(0),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(64),s=new Uint8Array(128);for(let L=0;L<n.length;L++){let P=n.charCodeAt(L);i[L]=P,s[P]=L}function u(L,P){let A=0,b=0,g=0;do{let E=L.next();g=s[E],A|=(g&31)<<b,b+=5}while(g&32);let v=A&1;return A>>>=1,v&&(A=-2147483648|-A),P+A}function o(L,P,A){let b=P-A;b=b<0?-b<<1|1:b<<1;do{let g=b&31;b>>>=5,b>0&&(g|=32),L.write(i[g])}while(b>0);return P}function a(L,P){return L.pos>=P?!1:L.peek()!==e}let l=1024*16,f=typeof TextDecoder<"u"?new TextDecoder:typeof I.Buffer<"u"?{decode(L){return I.Buffer.from(L.buffer,L.byteOffset,L.byteLength).toString()}}:{decode(L){let P="";for(let A=0;A<L.length;A++)P+=String.fromCharCode(L[A]);return P}};class c{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(l)}write(P){let{buffer:A}=this;A[this.pos++]=P,this.pos===l&&(this.out+=f.decode(A),this.pos=0)}flush(){let{buffer:P,out:A,pos:b}=this;return b>0?A+f.decode(P.subarray(0,b)):A}}class h{constructor(P){this.pos=0,this.buffer=P}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(P){let{buffer:A,pos:b}=this,g=A.indexOf(P,b);return g===-1?A.length:g}}let d=[];function p(L){let{length:P}=L,A=new h(L),b=[],g=[],v=0;for(;A.pos<P;A.pos++){v=u(A,v);let E=u(A,0);if(!a(A,P)){let U=g.pop();U[2]=v,U[3]=E;continue}let C=u(A,0),M=u(A,0)&1?[v,E,0,0,C,u(A,0)]:[v,E,0,0,C],T=d;if(a(A,P)){T=[];do{let U=u(A,0);T.push(U)}while(a(A,P))}M.vars=T,b.push(M),g.push(M)}return b}function m(L){let P=new c;for(let A=0;A<L.length;)A=w(L,A,P,[0]);return P.flush()}function w(L,P,A,b){let g=L[P],{0:v,1:E,2:C,3:R,4:O,vars:M}=g;P>0&&A.write(e),b[0]=o(A,v,b[0]),o(A,E,0),o(A,O,0);let T=g.length===6?1:0;o(A,T,0),g.length===6&&o(A,g[5],0);for(let U of M)o(A,U,0);for(P++;P<L.length;){let U=L[P],{0:Y,1:te}=U;if(Y>C||Y===C&&te>=R)break;P=w(L,P,A,b)}return A.write(e),b[0]=o(A,C,b[0]),o(A,R,0),P}function x(L){let{length:P}=L,A=new h(L),b=[],g=[],v=0,E=0,C=0,R=0,O=0,M=0,T=0,U=0;do{let Y=A.indexOf(";"),te=0;for(;A.pos<Y;A.pos++){if(te=u(A,te),!a(A,Y)){let fe=g.pop();fe[2]=v,fe[3]=te;continue}let J=u(A,0),ce=J&1,se=J&2,j=J&4,Z=null,ee=d,ue;if(ce){let fe=u(A,E);C=u(A,E===fe?C:0),E=fe,ue=[v,te,0,0,fe,C]}else ue=[v,te,0,0];if(ue.isScope=!!j,se){let fe=R,de=O;R=u(A,R);let we=fe===R;O=u(A,we?O:0),M=u(A,we&&de===O?M:0),Z=[R,O,M]}if(ue.callsite=Z,a(A,Y)){ee=[];do{T=v,U=te;let fe=u(A,0),de;if(fe<-1){de=[[u(A,0)]];for(let we=-1;we>fe;we--){let He=T;T=u(A,T),U=u(A,T===He?U:0);let Fe=u(A,0);de.push([Fe,T,U])}}else de=[[fe]];ee.push(de)}while(a(A,Y))}ue.bindings=ee,b.push(ue),g.push(ue)}v++,A.pos=Y+1}while(A.pos<P);return b}function _(L){if(L.length===0)return"";let P=new c;for(let A=0;A<L.length;)A=y(L,A,P,[0,0,0,0,0,0,0]);return P.flush()}function y(L,P,A,b){let g=L[P],{0:v,1:E,2:C,3:R,isScope:O,callsite:M,bindings:T}=g;b[0]<v?(S(A,b[0],v),b[0]=v,b[1]=0):P>0&&A.write(e),b[1]=o(A,g[1],b[1]);let U=(g.length===6?1:0)|(M?2:0)|(O?4:0);if(o(A,U,0),g.length===6){let{4:Y,5:te}=g;Y!==b[2]&&(b[3]=0),b[2]=o(A,Y,b[2]),b[3]=o(A,te,b[3])}if(M){let{0:Y,1:te,2:J}=g.callsite;Y!==b[4]?(b[5]=0,b[6]=0):te!==b[5]&&(b[6]=0),b[4]=o(A,Y,b[4]),b[5]=o(A,te,b[5]),b[6]=o(A,J,b[6])}if(T)for(let Y of T){Y.length>1&&o(A,-Y.length,0);let te=Y[0][0];o(A,te,0);let J=v,ce=E;for(let se=1;se<Y.length;se++){let j=Y[se];J=o(A,j[1],J),ce=o(A,j[2],ce),o(A,j[0],0)}}for(P++;P<L.length;){let Y=L[P],{0:te,1:J}=Y;if(te>C||te===C&&J>=R)break;P=y(L,P,A,b)}return b[0]<C?(S(A,b[0],C),b[0]=C,b[1]=0):A.write(e),b[1]=o(A,R,b[1]),P}function S(L,P,A){do L.write(r);while(++P<A)}function F(L){let{length:P}=L,A=new h(L),b=[],g=0,v=0,E=0,C=0,R=0;do{let O=A.indexOf(";"),M=[],T=!0,U=0;for(g=0;A.pos<O;){let Y;g=u(A,g),g<U&&(T=!1),U=g,a(A,O)?(v=u(A,v),E=u(A,E),C=u(A,C),a(A,O)?(R=u(A,R),Y=[g,v,E,C,R]):Y=[g,v,E,C]):Y=[g],M.push(Y),A.pos++}T||N(M),b.push(M),A.pos=O+1}while(A.pos<=P);return b}function N(L){L.sort(H)}function H(L,P){return L[0]-P[0]}function D(L){let P=new c,A=0,b=0,g=0,v=0;for(let E=0;E<L.length;E++){let C=L[E];if(E>0&&P.write(r),C.length===0)continue;let R=0;for(let O=0;O<C.length;O++){let M=C[O];O>0&&P.write(e),R=o(P,M[0],R),M.length!==1&&(A=o(P,M[1],A),b=o(P,M[2],b),g=o(P,M[3],g),M.length!==4&&(v=o(P,M[4],v)))}}return P.flush()}t.decode=F,t.decodeGeneratedRanges=x,t.decodeOriginalScopes=p,t.encode=D,t.encodeGeneratedRanges=_,t.encodeOriginalScopes=m,Object.defineProperty(t,"__esModule",{value:!0})})});var N8=$(Ot=>{"use strict";B();k();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.loadSourceMapfromArtifact=Ot.getStaticDeclaration=Ot.getAliasDeclaration=Ot.getContractDeclaration=Ot.getLibraryDeclaration=Ot.getStructDeclaration=Ot.getABIDeclaration=Ot.getContractName=Ot.getFullFilePath=Ot.compilerVersion=Ot.handleCompilerOutput=Ot.compile=Ot.settings2cmd=Ot.compileAsync=Ot.doCompileAsync=Ot.ABIEntityType=Ot.DebugModeTag=Ot.CompileResult=Ot.BuildType=Ot.CompileErrorType=Ot.SOURCE_REG=void 0;var zD=Ay(),Pa=Ju(),zi=wi(),E0=dc(),Gje=OB(),Wje=f$(),Yje=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):\n([^\n]+\n){3}(unexpected (?<unexpected>[^\n]+)\nexpecting (?<expecting>[^\n]+)|(?<message>[^\n]+))/g,Xje=/Error:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,Gce=/Internal error:(?<message>.+)/,Zje=/Warning:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,Wce=Wje({alwaysParseAsBig:!0,constructorAction:"preserve"});Ot.SOURCE_REG=/^(?<fileIndex>-?\d+):(?<line>\d+):(?<col>\d+):(?<endLine>\d+):(?<endCol>\d+)(#(?<tagStr>.+))?/;var Jje=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+)/gi,M8;(function(t){t.SyntaxError="SyntaxError",t.SemanticError="SemanticError",t.InternalError="InternalError",t.Warning="Warning"})(M8=Ot.CompileErrorType||(Ot.CompileErrorType={}));var ix;(function(t){t.Debug="debug",t.Release="release"})(ix=Ot.BuildType||(Ot.BuildType={}));var k5=class{constructor(e,r){this.errors=e,this.warnings=r}toArtifact(){return{version:E0.CURRENT_CONTRACT_ARTIFACT_VERSION,compilerVersion:this.compilerVersion||"0.0.0",contract:this.contract||"",md5:this.md5||"",structs:this.structs||[],library:this.library||[],alias:this.alias||[],abi:this.abi||[],stateProps:this.stateProps||[],buildType:this.buildType||ix.Debug,file:this.file||"",hex:this.hex||"",asm:"",sourceMap:[],sources:[],sourceMapFile:this.sourceMapFile||""}}};Ot.CompileResult=k5;var rx;(function(t){t.FuncStart="F0",t.FuncEnd="F1",t.LoopStart="L0"})(rx=Ot.DebugModeTag||(Ot.DebugModeTag={}));var nx;(function(t){t.FUNCTION="function",t.CONSTRUCTOR="constructor"})(nx=Ot.ABIEntityType||(Ot.ABIEntityType={}));function Zce(t,e){return(0,zi.join)(t,(0,zi.basename)(e)+"-"+(0,E0.hash160)(e,"utf-8").substring(0,10))}function Jce(t,e,r){let n=t.path,i=(0,zi.dirname)(n),s=e.cwd||i,u=e.timeout||12e5,o=t.content!==void 0?t.content:(0,Pa.readFileSync)(n,"utf8"),a=VD(n,e),l=(0,zD.exec)(a,{cwd:s,timeout:u,killSignal:"SIGKILL"},(f,c)=>{if(f){console.error(`exec error: ${f} stdout: ${c}`),r(f,null);return}r(null,{path:n,output:c})});return l.stdin.write(o,f=>{if(f){r(f,null);return}l.stdin.end()}),l}Ot.doCompileAsync=Jce;function Qje(t,e){return e=Object.assign({},Qce,e),new Promise((r,n)=>{Jce(t,e,async(i,s)=>{if(i){n(i);return}try{let u=GD(t.path,e,s.output);r(u)}catch(u){n(u)}})})}Ot.compileAsync=Qje;var Qce={ast:!0,asm:!1,hex:!0,debug:!1,artifact:!1,outputDir:"",outputToFiles:!1,cwd:"",cmdPrefix:"",cmdArgs:"",buildType:ix.Debug,stdout:!1,sourceMap:!1,timeout:12e5,optimize:!1};function VD(t,e){let r=(0,zi.dirname)(t),n=e.outputDir||r,i=Zce(n,t),s=e.cmdPrefix||(0,E0.findCompiler)(),u=`-o "${i}"`;return e.stdout?(u="--stdout",`"${s}" compile ${e.asm||e.artifact?"--asm":""} ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} -r ${u} ${e.cmdArgs?e.cmdArgs:""}`):((0,Pa.existsSync)(i)||(0,Pa.mkdirSync)(i),`"${s}" compile ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} ${e.sourceMap==!0?"--source-map":""} -r ${u} ${e.cmdArgs?e.cmdArgs:""}`)}Ot.settings2cmd=VD;function eKe(t,e){let r=t.path,n=(0,zi.dirname)(r),i=e.cwd||n,s=t.content!==void 0?t.content:(0,Pa.readFileSync)(r,"utf8"),u=e.stdout?1024*1024*100:1024*1024;e=Object.assign({},Qce,e);let o=VD(r,e),a=(0,zD.execSync)(o,{input:s,cwd:i,timeout:e.timeout,maxBuffer:u}).toString();return GD(r,e,a)}Ot.compile=eKe;function tKe(t){let e=t.replace(/<([^>]+)>/g,"<>");return(0,E0.md5)(e)}function GD(t,e,r){let n=(0,zi.dirname)(t),i=(0,zi.basename)(t),s=e.outputDir||n,u=Zce(s,t),o={};try{r=r.split(/\r?\n/g).join(`
`);let a=new k5([],[]);if(a.compilerVersion=e0e(e.cmdPrefix?e.cmdPrefix:(0,E0.findCompiler)()),a.buildType=e.buildType||ix.Debug,(r.startsWith("Error:")||r.startsWith("Warning:"))&&(Object.assign(a,uKe(r,n,i)),a.errors.length>0||e.stdout&&a.warnings.length>0))return a;if(e.stdout){let l=Wce.parse(r);Xce(a,l.ast,n,i,t),oKe(a,l.asm,e,n,i)}else{if(e.ast||e.artifact){let l=kg(u,"ast"),f=l.replace("stdin",(0,zi.basename)(t,".scrypt"));(0,Pa.renameSync)(l,f),o.ast=f;let c=Wce.parse((0,Pa.readFileSync)(f,"utf8"));Xce(a,c,n,i,t)}if(e.hex||e.artifact){let l=kg(u,"hex"),f=l.replace("stdin",(0,zi.basename)(t,".scrypt"));(0,Pa.renameSync)(l,f),o.hex=f,a.hex=(0,Pa.readFileSync)(f,"utf8"),a.md5=tKe(a.hex)}if(e.sourceMap){let l=kg(u,"map");if(e.artifact){let c=kg(s,"map").replace("stdin",(0,zi.basename)(t,".scrypt"));(0,Pa.renameSync)(l,c),a.sourceMapFile=(0,E0.path2uri)(c)}else{let f=l.replace("stdin",(0,zi.basename)(t,".scrypt"));(0,Pa.renameSync)(l,f),o.map=f,a.sourceMapFile=(0,E0.path2uri)(f)}}if(e.debug){let l=kg(u,"dbg"),f=l.replace("stdin",(0,zi.basename)(t,".scrypt"));(0,Pa.renameSync)(l,f),a.dbgFile=(0,E0.path2uri)(f)}if(e.artifact){let f=kg(s,"artifact").replace("stdin",(0,zi.basename)(t,".scrypt")),c=a.toArtifact();(0,Pa.writeFileSync)(f,JSON.stringify(c,(h,d)=>{if(h==="file")return(0,zi.relative)(f,d);if(!(h=="sources"||h=="sourceMap"||h==="asm"))return d},4))}}return a}finally{aKe(e,o,u)}}Ot.handleCompilerOutput=GD;function e0e(t){try{let e=(0,zD.execSync)(`"${t}" version`).toString();return/Version:\s*([^\s]+)\s*/.exec(e)[1]}catch{throw new Error(`compilerVersion fail when run: ${t} version`)}}Ot.compilerVersion=e0e;function rKe(t,e,r){for(let n in t)if(n==="std")t.std=KD(t.std,"std");else{let i=n==="stdin"?r:n,s=(0,E0.path2uri)((0,zi.join)(e,i));t[s]=KD(t[n],s),delete t[n]}return t}function KD(t,e){if(typeof t!="object")return t;for(let r in t){let n=t[r];if(r==="src"){let i=/:(\d+):(\d+):(\d+):(\d+)/.exec(n);i?t.loc={source:e,start:{line:parseInt(i[1]),column:parseInt(i[2])},end:{line:parseInt(i[3]),column:parseInt(i[4])}}:t.loc=null,delete t.src}else typeof n=="object"&&KD(n,e)}return t}function kg(t,e){return e=="hex"?(0,zi.join)(t,`stdin_${e}.txt`):e==="map"?(0,zi.join)(t,`stdin.${e}.json`):e==="dbg"?(0,zi.join)(t,`stdin.${e}.json`):e==="artifact"?(0,zi.join)(t,"stdin.json"):(0,zi.join)(t,`stdin_${e}.json`)}function Dh(t,e,r){return t.endsWith("stdin")?(0,zi.join)(e,r):t==="std"?"std":(0,zi.join)(e,t)}Ot.getFullFilePath=Dh;function nKe(t){if(t.constructor)return{type:nx.CONSTRUCTOR,params:t.constructor.params.map(e=>({name:e.name,type:e.type}))};if(t.properties)return{type:nx.CONSTRUCTOR,params:t.properties.map(e=>({name:e.name.replace("this.",""),type:e.type}))}}function iKe(t){let e=t.contracts[t.contracts.length-1];return e&&e.properties?e.properties.filter(r=>r.state).map(r=>({name:r.name.replace("this.",""),type:r.type})):[]}function sKe(t){let e=0;return t.functions.filter(n=>n.visibility==="Public").map(n=>({type:nx.FUNCTION,name:n.name,index:n.nodeType==="Constructor"?void 0:e++,params:n.params.map(s=>({name:s.name,type:s.type}))}))}function WD(t){let e=t.contracts[t.contracts.length-1];return e&&e.name||""}Ot.getContractName=WD;function Yce(t){let e=t.match(/__SCRYPT_(\w+)__/);return e?e[1]:t}function t0e(t,e){let r=t.contracts[t.contracts.length-1];if(!r)return{contract:"",abi:[]};let n=sKe(r),i=nKe(r);return n.push(i),n.forEach(s=>{s.params=s.params.map(u=>Object.assign(u,{type:e(u.type).finalType}))}),{contract:WD(t),abi:n}}Ot.getABIDeclaration=t0e;function r0e(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.structs||[]).map(i=>({name:i.name,params:i.fields.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}))).flat(1)}Ot.getStructDeclaration=r0e;function n0e(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Library").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}Ot.getLibraryDeclaration=n0e;function i0e(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Contract").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}Ot.getContractDeclaration=i0e;function s0e(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.alias||[]).map(i=>({name:i.alias,type:i.type}))).flat(1)}Ot.getAliasDeclaration=s0e;function u0e(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.contracts||[]).map(i=>(i.statics||[]).map(s=>({const:s.const,name:`${i.name}.${s.name}`,type:s.type,value:(0,E0.resolveConstValue)(s)})))).flat(1/0).flat(1)}Ot.getStaticDeclaration=u0e;function jD(t,e,r){let n=[],i;for(;i=Jje.exec(t);){let s=i.groups.filePath;if(s==="null")continue;let u=Dh(s,e,r),o=parseInt(i.groups?.line||"-1"),a=parseInt(i.groups?.column||"-1");n.push({filePath:u,position:[{line:o,column:a},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:""}),t=t.replace(/([^\s]+):(\d+):(\d+):(\d+):(\d+)/,"")}return{relatedInformation:n,message:t}}function uKe(t,e,r){let n=[...t.matchAll(Zje)].map(i=>{let s=i.groups?.filePath||"",u=i.groups?.message||"",{message:o,relatedInformation:a}=jD(u,e,r);return{type:M8.Warning,filePath:Dh(s,e,r),position:[{line:parseInt(i.groups?.line||"-1"),column:parseInt(i.groups?.column||"-1")},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:o,relatedInformation:a}});if(t.match(Gce)){let i=[{type:M8.InternalError,filePath:Dh("stdin",e,r),message:`Compiler internal error: ${t.match(Gce).groups?.message||""}`,position:[{line:1,column:1},{line:1,column:1}],relatedInformation:[]}];return new k5(i,n)}else if(t.includes("Syntax error:")){let i=[...t.matchAll(Yje)].map(s=>{let u=s.groups?.filePath||"",o=s.groups?.unexpected||"",a=s.groups?.expecting||"",l=s.groups?.message||`unexpected ${o}
expecting ${a}`,{message:f,relatedInformation:c}=jD(l,e,r);return{type:M8.SyntaxError,filePath:Dh(u,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")}],message:f,unexpected:o,expecting:a,relatedInformation:c}});return new k5(i,n)}else{let i=[...t.matchAll(Xje)].map(s=>{let u=s.groups?.message||"",o=s.groups?.filePath||"",{message:a,relatedInformation:l}=jD(u,e,r);return{type:M8.SemanticError,filePath:Dh(o,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")},{line:parseInt(s.groups?.line1||"-1"),column:parseInt(s.groups?.column1||"-1")}],message:a,relatedInformation:l}});return new k5(i,n)}}function Xce(t,e,r,n,i){let s=rKe(e,r,n),u=(0,E0.path2uri)(i);t.file=i,t.ast=s[u],delete s[u],t.dependencyAsts=s;let o=s0e(t.ast,s),a=r0e(t.ast,s),l=n0e(t.ast,s),f=u0e(t.ast,s);t.contracts=i0e(t.ast,s);let c=(0,E0.buildTypeResolver)(WD(t.ast),o,a,l,t.contracts,f);t.alias=o.map(p=>({name:p.name,type:c(p.type).finalType})),t.structs=a.map(p=>({name:p.name,params:p.params.map(m=>({name:m.name,type:c(m.type).finalType})),genericTypes:p.genericTypes.map(m=>Yce(m))})),t.library=l.map(p=>({name:p.name,params:p.params.map(m=>({name:m.name,type:c(m.type).finalType})),properties:p.properties.map(m=>({name:m.name,type:c(m.type).finalType})),genericTypes:p.genericTypes.map(m=>Yce(m))})),t.statics=f.map(p=>Object.assign({...p},{type:c(p.type).finalType}));let{contract:h,abi:d}=t0e(t.ast,c);t.stateProps=iKe(t.ast).map(p=>({name:p.name,type:c(p.type).finalType})),t.abi=d,t.contract=h}function oKe(t,e,r,n,i){let s=e.sources;r.debug&&Object.assign(t,{file:t.file,sources:e.sources.map(u=>Dh(u,n,i)),sourceMap:e.output.map(u=>u.src)}),t.hex=r.hex?e.output.map(u=>u.hex).join(""):"",t.asm=e.output.map(u=>{if(!r.debug)return{opcode:u.opcode};let o=Ot.SOURCE_REG.exec(u.src);if(o&&o.groups){let a=parseInt(o.groups.fileIndex),l,f=o.groups.tagStr,c=/^(\w+)\.(\w+):(\d)(#(?<context>.+))?$/.exec(f);c?l={contract:c[1],func:c[2],tag:c[3]=="0"?rx.FuncStart:rx.FuncEnd,context:c.groups.context}:/loop:0/.test(f)&&(l={contract:"",func:"",tag:rx.LoopStart,context:""});let h=s[a]?{file:s[a]?Dh(s[a],n,i):void 0,line:s[a]?parseInt(o.groups.line):void 0,endLine:s[a]?parseInt(o.groups.endLine):void 0,column:s[a]?parseInt(o.groups.col):void 0,endColumn:s[a]?parseInt(o.groups.endCol):void 0}:void 0;return{opcode:u.opcode,stack:u.stack,topVars:u.topVars||[],pos:h,debugInfo:l}}throw new Error("Compile Failed: Asm output parsing Error!")}),r.debug&&(t.autoTypedVars=e.autoTypedVars.map(u=>{let o=Ot.SOURCE_REG.exec(u.src);if(o&&o.groups){let a=parseInt(o.groups.fileIndex),l=s[a]?{file:s[a]?Dh(s[a],n,i):void 0,line:s[a]?parseInt(o.groups.line):void 0,endLine:s[a]?parseInt(o.groups.endLine):void 0,column:s[a]?parseInt(o.groups.col):void 0,endColumn:s[a]?parseInt(o.groups.endCol):void 0}:void 0;return{name:u.name,type:u.type,pos:l}}}))}function aKe(t,e,r){if(!(t.stdout||t.outputToFiles||t.sourceMap))try{Object.keys(e).forEach(n=>{let i=e[n];(0,Pa.existsSync)(i)&&(0,Pa.unlinkSync)(i)}),Gje.sync(r)}catch{console.error("clean compiler output files failed!")}}function cKe(t){let e=t.sources,r=t.asm.split(" ");return!t.sourceMap||t.sourceMap.length==0?[]:r.map((n,i)=>{let s=t.sourceMap[i],u=Ot.SOURCE_REG.exec(s);if(u&&u.groups){let o=parseInt(u.groups.fileIndex);return{pos:e[o]?{file:e[o],line:e[o]?parseInt(u.groups.line):void 0,endLine:e[o]?parseInt(u.groups.endLine):void 0,column:e[o]?parseInt(u.groups.col):void 0,endColumn:e[o]?parseInt(u.groups.endCol):void 0}:void 0,opcode:n}}})}Ot.loadSourceMapfromArtifact=cKe});var Lh=$(Bt=>{"use strict";B();k();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.isBytes=Bt.isSubBytes=Bt.isScryptType=Bt.getValidatedHexString=Bt.getSortedItem=Bt.OpCodeType=Bt.SigHashPreimage=Bt.SigHashType=Bt.SignatureHashType=Bt.HashedMap=Bt.HashedSet=Bt.Sha256=Bt.Sha1=Bt.PubKeyHash=Bt.Ripemd160=Bt.Sig=Bt.PubKey=Bt.PrivKey=Bt.Bytes=Bt.Bool=Bt.Int=Bt.ScryptType=Bt.SymbolType=void 0;var fKe;(function(t){t.ScryptType="ScryptType",t.Contract="Contract",t.Library="Library",t.Struct="Struct",t.Unknown="Unknown"})(fKe=Bt.SymbolType||(Bt.SymbolType={}));var A0;(function(t){t.BOOL="bool",t.INT="int",t.BYTES="bytes",t.PUBKEY="PubKey",t.PRIVKEY="PrivKey",t.SIG="Sig",t.RIPEMD160="Ripemd160",t.SHA1="Sha1",t.SHA256="Sha256",t.SIGHASHTYPE="SigHashType",t.SIGHASHPREIMAGE="SigHashPreimage",t.OPCODETYPE="OpCodeType"})(A0=Bt.ScryptType||(Bt.ScryptType={}));function o0e(t){return BigInt(t)}Bt.Int=o0e;function lKe(t){return t}Bt.Bool=lKe;function dKe(t){return Hh(t)}Bt.Bytes=dKe;function hKe(t){return t}Bt.PrivKey=hKe;function pKe(t){return Hh(t,!1)}Bt.PubKey=pKe;function bKe(t){return Hh(t,!1)}Bt.Sig=bKe;function a0e(t){return Hh(t,!1)}Bt.Ripemd160=a0e;function gKe(t){return a0e(t)}Bt.PubKeyHash=gKe;function mKe(t){return Hh(t,!1)}Bt.Sha1=mKe;function yKe(t){return Hh(t,!1)}Bt.Sha256=yKe;function vKe(t){return t}Bt.HashedSet=vKe;function SKe(t){return t}Bt.HashedMap=SKe;var C5;(function(t){t[t.ALL=65]="ALL",t[t.NONE=66]="NONE",t[t.SINGLE=67]="SINGLE",t[t.ANYONECANPAY_ALL=193]="ANYONECANPAY_ALL",t[t.ANYONECANPAY_NONE=194]="ANYONECANPAY_NONE",t[t.ANYONECANPAY_SINGLE=195]="ANYONECANPAY_SINGLE"})(C5=Bt.SignatureHashType||(Bt.SignatureHashType={}));function _Ke(t){if(t==0)return"00";if(t===C5.ALL||t===C5.NONE||t===C5.SINGLE||t===C5.ANYONECANPAY_ALL||t===C5.ANYONECANPAY_NONE||t===C5.ANYONECANPAY_SINGLE)return`${t.toString(16)}`;throw new Error(`unsupported SigHashType: ${t}`)}Bt.SigHashType=_Ke;function wKe(t){return Hh(t,!1)}Bt.SigHashPreimage=wKe;function EKe(t){return Hh(t,!1)}Bt.OpCodeType=EKe;function AKe(t,e){return Object.assign({idx:o0e(-1),item:e},{image:t instanceof Map?new Map(t):new Set(t)})}Bt.getSortedItem=AKe;function Hh(t,e=!0){let r=t.trim();if(r.length<1&&!e)throw new Error("can't be empty string");if(r.length%2)throw new Error(`<${r}> should have even length`);if(r.length>0&&!/^[\da-f]+$/i.test(r))throw new Error(`<${r}> should only contain [0-9] or characters [a-fA-F]`);return r}Bt.getValidatedHexString=Hh;function TKe(t){return Object.keys(A0).map(e=>A0[e]).includes(t)}Bt.isScryptType=TKe;function c0e(t){return[A0.OPCODETYPE,A0.PUBKEY,A0.RIPEMD160,A0.SHA1,A0.SHA256,A0.SIG,A0.SIGHASHPREIMAGE,A0.SIGHASHTYPE,"PubKeyHash"].map(e=>e.toString()).includes(t)}Bt.isSubBytes=c0e;function xKe(t){return t===A0.BYTES||c0e(t)}Bt.isBytes=xKe});var $8=$(Zr=>{"use strict";B();k();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.resolveGenericType=Zr.parseGenericType=Zr.isGenericType=Zr.resolveType=Zr.findStatic=Zr.findConstStatic=Zr.flatternArg=Zr.deduceGenericLibrary=Zr.deduceGenericStruct=Zr.hasGeneric=Zr.checkSupportedParamType=Zr.subArrayType=Zr.toLiteralArrayType=Zr.arrayTypeAndSize=Zr.arrayTypeAndSizeStr=Zr.typeOfArg=void 0;var $h=Er(),ux=dc(),Ku=Lh();function sx(t){return typeof t=="bigint"?"int":typeof t=="boolean"?"bool":typeof t=="string"?"bytes":Array.isArray(t)?"Array":typeof t}Zr.typeOfArg=sx;function F5(t){let e=[];if(t.indexOf(">")>-1){let i=t.substring(0,t.lastIndexOf(">")+1);return[...t.substring(t.lastIndexOf(">")+1).matchAll(/\[([\w.]+)\]+/g)].map(u=>{e.push(u[1])}),[i,e]}return[...t.matchAll(/\[([\w.]+)\]+/g)].map(i=>{e.push(i[1])}),[t.split("[")[0],e]}Zr.arrayTypeAndSizeStr=F5;function ox(t){let[e,r]=F5(t);return[e,r.map(n=>{let i=parseInt(n);if(isNaN(i))throw new Error(`arrayTypeAndSize error type ${t} with sub isNaN`);return i})]}Zr.arrayTypeAndSize=ox;function R5(t,e){return[t,e.map(r=>`[${r}]`).join("")].join("")}Zr.toLiteralArrayType=R5;function YD(t){let[e,r]=ox(t);return R5(e,r.slice(1))}Zr.subArrayType=YD;function l0e(t,e,r){let i=r(e.type).finalType,[s,u]=ox(i);return Array.isArray(t)?t.length!==u[0]?new Error(`The type of ${e.name} is wrong, expected a array with length = ${u[0]} but got a array with length = ${t.length} `):u.length==1?t.map(o=>H8(o,{name:e.name,type:s},r)).find(o=>o instanceof Error):t.map(o=>l0e(o,{name:e.name,type:YD(i)},r)).find(o=>o instanceof Error):new Error(`The type of ${e.name} is wrong, expected ${i} but got ${sx(t)}`)}function IKe(t,e,r){let n=r(e.type);if(!n.info)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let o=d0e(e,i,r);if(o instanceof Error)return o;i=o}if(Array.isArray(t))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a array`);if(typeof t!="object")return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a ${typeof t}`);let s=i.params.map(o=>Object.keys(t).includes(o.name)?H8(t[o.name],o,r):new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing member [${o.name}]`)).find(o=>o instanceof Error);if(s)return s;let u=i.params.map(o=>o.name);return Object.keys(t).map(o=>{if(!u.includes(o))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but redundant member [${o}] appears`)}).find(o=>o instanceof Error)}function PKe(t,e,r){let n=r(e.type);if(!n.info||n.symbolType!==Ku.SymbolType.Library)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let s=h0e(e,i,r);if(s instanceof Error)return s;i=s}return Array.isArray(t)?t.length!==i.params.length?new Error(`The type of ${e.name} is wrong, expected a array with length = ${i.params.length} but got a array with length = ${t.length} `):i.params.map((s,u)=>typeof t[u]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing parameter [${s.name}]`):H8(t[u],s,r)).find(s=>s instanceof Error):typeof t=="object"?i.properties.map(s=>typeof t[s.name]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing property [${s.name}]`):H8(t[s.name],s,r)).find(s=>s instanceof Error):new Error(`The type of ${e.name} is wrong, expected a array or a object but got ${typeof t}`)}function H8(t,e,r){let n=r(e.type),i=n.finalType;if((0,$h.isArrayType)(i))return l0e(t,e,r);if(n.symbolType===Ku.SymbolType.Struct)return IKe(t,e,r);if(n.symbolType===Ku.SymbolType.Library)return PKe(t,e,r);if(n.symbolType===Ku.SymbolType.ScryptType){let s=new Error(`The type of ${e.name} is wrong, expected ${i} but got ${sx(t)}`),u=sx(t);return(0,Ku.isBytes)(i)?u===Ku.ScryptType.BYTES?void 0:s:i===Ku.ScryptType.PRIVKEY?u==="int"?void 0:s:u==i?void 0:s}else return new Error(`can't not resolve type: ${e.type}`)}Zr.checkSupportedParamType=H8;function XD(t){return t.genericTypes.length>0}Zr.hasGeneric=XD;var Cg=class{constructor(e,r){this.entity=e,this.resolver=r,this.inferred={}}resolve(e){if(Object.keys(this.inferred).length>0){if(U8(e)){let[r,n]=L8(e);return(0,ux.toGenericType)(r,n.map(i=>this.inferred[i]||i))}if((0,$h.isArrayType)(e)){let[r,n]=F5(e);return R5(r,n.map(i=>this.inferred[i]||i))}return this.inferred[e]||e}return e}inferr(e){let r=this.resolver(e.type),[n,i]=L8(r.finalType);return this.entity.name!==n?new Error(`Generic inference failed, expected ${n} but got ${this.entity.name}`):this.entity.genericTypes.length!==i.length?new Error("Generic inference failed, genericTypes length not match"):this.entity.genericTypes.map((s,u)=>{let o=i[u];return this.assert(s,o)}).find(s=>s instanceof Error)}getEntity(){if(Object.prototype.hasOwnProperty.call(this.entity,"properties")){let e=this.entity;return{name:e.name,params:e.params.map(r=>({name:r.name,type:this.resolve(r.type)})),properties:e.properties.map(r=>({name:r.name,type:this.resolve(r.type)})),genericTypes:(this.entity.genericTypes||[]).map(r=>this.resolve(r))}}return{name:this.entity.name,params:this.entity.params.map(e=>({name:e.name,type:this.resolve(e.type)})),genericTypes:(this.entity.genericTypes||[]).map(e=>this.resolve(e))}}assert(e,r){if(this.inferred[e]){if(this.inferred[e]!==r)return new Error(`Generic inference failed, generic ${e} cannot be both type ${this.inferred[e]} and type ${r}`)}else this.inferred[e]=r}};function d0e(t,e,r){if(!XD(e))return e;let n=new Cg(e,r),i=n.inferr(t);return i||n.getEntity()}Zr.deduceGenericStruct=d0e;function h0e(t,e,r){if(!XD(e))return e;let n=new Cg(e,r),i=n.inferr(t);return i||n.getEntity()}Zr.deduceGenericLibrary=h0e;function OKe(t,e,r,n){let[i,s]=ox(e.type),u=r(i);if(!n.ignoreValue){if(!Array.isArray(t))throw new Error("flatternArray only work with array");if(t.length!=s[0])throw new Error(`Array length not match, expected ${s[0]} but got ${t.length}`)}return new Array(s[0]).fill(1).flatMap((o,a)=>{let l=n.ignoreValue?void 0:t[a];return s.length>1?Uh({name:`${e.name}[${a}]`,type:YD(e.type),value:l},r,n):u.symbolType===Ku.SymbolType.Struct?Uh({name:`${e.name}[${a}]`,type:i,value:l},r,n):u.symbolType===Ku.SymbolType.Library?Uh({name:`${e.name}[${a}]`,type:i,value:l},r,n):{value:l,name:`${e.name}${(0,ux.subscript)(a,s)}`,type:i}})}function BKe(t,e,r,n){let i=r(e.type);if(!n.ignoreValue&&typeof t!="object")throw new Error("flatternStruct only work with object");let s=i.info;if(i.generic){let u=new Cg(s,r),o=u.inferr(e);if(o)throw o;s=u.getEntity()}return s.params.flatMap(u=>{let o=r(u.type),a=n.ignoreValue?void 0:t[u.name];return(0,$h.isArrayType)(o.finalType)?Uh({name:`${e.name}.${u.name}`,type:u.type,value:a},r,n):o.symbolType===Ku.SymbolType.Struct?Uh({name:`${e.name}.${u.name}`,type:u.type,value:a},r,n):{value:a,name:`${e.name}.${u.name}`,type:u.type}})}function kKe(t,e,r,n){let i=r(e.type),s=i.info;if(i.generic){let o=new Cg(s,r),a=o.inferr(e);if(a)throw a;s=o.getEntity()}if(!n.ignoreValue)if(n.state){if(typeof t!="object")throw new Error("only work with object when flat a libray as state")}else{if(!Array.isArray(t))throw new Error("only work with array when flat a library");if(s.params.length!=t.length)throw new Error(`Array length not match, expected ${s.params.length} but got ${t.length}`)}return(n.state?s.properties:s.params).flatMap((o,a)=>{let l=r(o.type),f=n.ignoreValue?void 0:n.state?t[o.name]:t[a];return!n.ignoreValue&&typeof f>"u"&&(s.name==="HashedSet"||s.name==="HashedMap")&&(f=t[0]),(0,$h.isArrayType)(l.finalType)?Uh({name:`${e.name}.${o.name}`,type:o.type,value:f},r,n):l.symbolType===Ku.SymbolType.Struct?Uh({name:`${e.name}.${o.name}`,type:o.type,value:f},r,n):l.symbolType===Ku.SymbolType.Library?Uh({name:`${e.name}.${o.name}`,type:o.type,value:f},r,n):{value:f,name:`${e.name}.${o.name}`,type:o.type}})}function Uh(t,e,r){let n=[],i=e(t.type);return(0,$h.isArrayType)(i.finalType)?OKe(r.ignoreValue?void 0:t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Ku.SymbolType.Struct?BKe(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Ku.SymbolType.Library?kKe(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):n.push({name:t.name,type:i.finalType,value:t.value}),n}Zr.flatternArg=Uh;function p0e(t,e){return t.find(r=>r.const===!0&&r.name===e)}Zr.findConstStatic=p0e;function CKe(t,e){return t.find(r=>r.name===e)}Zr.findStatic=CKe;function b0e(t,e){let r=t.find(n=>n.name===e);return r?b0e(t,r.type):e}function D8(t,e,r,n,i,s){if(t=b0e(i,t),(0,$h.isArrayType)(t)){let[u,o]=F5(t),a=D8(u,e,r,n,i,s);if((0,$h.isArrayType)(a.finalType)){let[l,f]=F5(a.finalType),c=D8(l,e,r,n,i,s);return{info:a.info,generic:a.generic,finalType:f0e(r,R5(c.finalType,o.concat(f)),n),symbolType:a.symbolType}}return{info:a.info,generic:a.generic,finalType:f0e(r,R5(a.finalType,o),n),symbolType:a.symbolType}}else if(U8(t)){let[u,o]=L8(t),a=D8(u,e,r,n,i,s),l=o.map(f=>D8(f,e,r,n,i,s).finalType);return{info:a.info,generic:!0,finalType:(0,ux.toGenericType)(a.finalType,l),symbolType:a.symbolType}}return e[t]?e[t]:(0,Ku.isScryptType)(t)?{finalType:t,generic:!1,symbolType:Ku.SymbolType.ScryptType}:{finalType:t,generic:!1,symbolType:Ku.SymbolType.Unknown}}Zr.resolveType=D8;function f0e(t,e,r){if((0,$h.isArrayType)(e)){let[n,i]=F5(e),s=i.map(u=>{if(/^(\d)+$/.test(u))return parseInt(u);{let o=u.indexOf(".")>0?u:`${t}.${u}`,a=p0e(r,o);return a?a.value:u}});return R5(n,s)}return e}function U8(t){return/^([\w]+)<([\w,[\]\s<>]+)>$/.test(t)}Zr.isGenericType=U8;function L8(t){if(U8(t)){let e=t.match(/([\w]+)<([\w,[\]<>\s]+)>$/);if(e){let r=e[1],n=[],i=[],s="";for(let u=0;u<e[2].length;u++){let o=e[2].charAt(u);if(o==="<"||o==="[")i.push(o);else if(o===">"||o==="]")i.pop();else if(o===","&&i.length===0){n.push(s.trim()),s="";continue}s+=o}return n.push(s.trim()),[r,n]}}throw new Error(`"${t}" is not generic type`)}Zr.parseGenericType=L8;function FKe(t,e){if(Object.keys(t).length>0){if(U8(e)){let[r,n]=L8(e);return(0,ux.toGenericType)(r,n.map(i=>t[i]||i))}if((0,$h.isArrayType)(e)){let[r,n]=F5(e);return R5(r,n.map(i=>t[i]||i))}return t[e]||e}return e}Zr.resolveGenericType=FKe});var Fg=$(Ne=>{"use strict";B();k();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.checkNOPScript=Ne.md5=Ne.findSrcInfoV1=Ne.findSrcInfoV2=Ne.JSONStringify=Ne.JSONParserSync=Ne.JSONParser=Ne.structSign=Ne.librarySign=Ne.parseAbiFromUnlockingScript=Ne.buildContractCode=Ne.stripAnsi=Ne.ansiRegex=Ne.resolveConstValue=Ne.newCall=Ne.compileContractAsync=Ne.compileContract=Ne.isEmpty=Ne.readFileByLine=Ne.subscript=Ne.toGenericType=Ne.findStructByType=Ne.getNameByType=Ne.isArrayType=Ne.findStructByName=Ne.uri2path=Ne.path2uri=Ne.isNode=Ne.getLowSPreimage=Ne.hashIsPositiveNumber=Ne.getPreimage=Ne.signTx=Ne.hexStringToBytes=Ne.bytesToHexString=Ne.bytes2Literal=Ne.utf82Hex=Ne.toHex=Ne.uint82hex=Ne.asm2int=Ne.int2Asm=Ne.DEFAULT_SIGHASH_TYPE=Ne.DEFAULT_FLAGS=Ne.bsv=void 0;var g0e=NO(),mu=Kce();Ne.bsv=mu;var RKe=Ua(),nd=Ju(),m0e=wi(),MKe=Vce(),y0e=g_(),NKe=N8(),Oa=dc(),ZD=$8(),q8=mu.crypto.BN,hc=mu.Script.Interpreter;Ne.DEFAULT_FLAGS=hc.SCRIPT_ENABLE_MAGNETIC_OPCODES|hc.SCRIPT_ENABLE_MONOLITH_OPCODES|hc.SCRIPT_VERIFY_STRICTENC|hc.SCRIPT_ENABLE_SIGHASH_FORKID|hc.SCRIPT_VERIFY_LOW_S|hc.SCRIPT_VERIFY_NULLFAIL|hc.SCRIPT_VERIFY_DERSIG|hc.SCRIPT_VERIFY_MINIMALDATA|hc.SCRIPT_VERIFY_NULLDUMMY|hc.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|hc.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|hc.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|hc.SCRIPT_VERIFY_CLEANSTACK;Ne.DEFAULT_SIGHASH_TYPE=mu.crypto.Signature.SIGHASH_ALL|mu.crypto.Signature.SIGHASH_FORKID;function DKe(t){if(/^(-?\d+)$/.test(t)||/^0x([0-9a-fA-F]+)$/.test(t)){let e=t.startsWith("0x")?new q8(t.substring(2),16):new q8(t,10);return e.eqn(-1)?"OP_1NEGATE":e.gten(0)&&e.lten(16)?"OP_"+e.toString():e.toSM({endian:"little"}).toString("hex")}else throw new Error(`invalid str '${t}' to convert to int`)}Ne.int2Asm=DKe;function v0e(t){switch(t){case"OP_1NEGATE":return-1;case"0":case"OP_0":case"OP_1":case"OP_2":case"OP_3":case"OP_4":case"OP_5":case"OP_6":case"OP_7":case"OP_8":case"OP_9":case"OP_10":case"OP_11":case"OP_12":case"OP_13":case"OP_14":case"OP_15":case"OP_16":return parseInt(t.replace("OP_",""));default:{let e=(0,Oa.getValidatedHexString)(t),r=q8.fromHex(e,{endian:"little"});return r.toNumber()<Number.MAX_SAFE_INTEGER&&r.toNumber()>Number.MIN_SAFE_INTEGER?r.toNumber():r.toString()}}}Ne.asm2int=v0e;function JD(t){let e=t.toString(16);return e.length%2===1&&(e="0"+e),e}Ne.uint82hex=JD;function cx(t){return t.toString("hex")}Ne.toHex=cx;function HKe(t){let r=new TextEncoder().encode(t);return cx(I.Buffer.from(r))}Ne.utf82Hex=HKe;function LKe(t,e){switch(e){case"bool":return q8.fromBuffer(t,{endian:"little"}).gt(0)?"true":"false";case"int":case"PrivKey":return q8.fromSM(t,{endian:"little"}).toString();case"bytes":return`b'${QD(t)}'`;default:return`b'${QD(t)}'`}}Ne.bytes2Literal=LKe;function QD(t){return t.reduce(function(e,r){return e+=("0"+(r&255).toString(16)).slice(-2)},"")}Ne.bytesToHexString=QD;function UKe(t){return(0,Oa.getValidatedHexString)(t),t.split("").reduce(function(e,r,n){return n%2===0?e.push(r):e[e.length-1]+=r,e},new Array).map(e=>parseInt(e,16))}Ne.hexStringToBytes=UKe;function $Ke(t,e,r,n,i=0,s=Ne.DEFAULT_SIGHASH_TYPE,u=Ne.DEFAULT_FLAGS,o){if(!t)throw new Error("param tx can not be empty");if(!e)throw new Error("param privateKey can not be empty");if(!r)throw new Error("param lockingScript can not be empty");if(!n)throw new Error("param inputAmount can not be empty");if(typeof r=="string")throw new Error("Breaking change: LockingScript in ASM format is no longer supported, please use the lockingScript object directly");return cx(mu.Transaction.Sighash.sign(t,e,s,i,r,new mu.crypto.BN(n),u,o).toTxFormat())}Ne.signTx=$Ke;function S0e(t,e,r,n=0,i=Ne.DEFAULT_SIGHASH_TYPE,s=Ne.DEFAULT_FLAGS){let u=mu.Transaction.Sighash.sighashPreimage(t,i,n,e,new mu.crypto.BN(r),s);return cx(u)}Ne.getPreimage=S0e;var _0e=126;function w0e(t){return t.readUInt8(31)<_0e}Ne.hashIsPositiveNumber=w0e;function qKe(t,e,r,n=0,i=Ne.DEFAULT_SIGHASH_TYPE,s=Ne.DEFAULT_FLAGS){for(let u=0;u<Number.MAX_SAFE_INTEGER;u++){let o=S0e(t,e,r,n,i,s),a=mu.crypto.Hash.sha256sha256(I.Buffer.from(o,"hex"));if(a.readUInt8()<_0e&&w0e(a))return o;t.inputs[n].sequenceNumber--}}Ne.getLowSPreimage=qKe;function eH(){return typeof window>"u"&&typeof process=="object"}Ne.isNode=eH;function jKe(t){return eH()?(0,y0e.pathToFileURL)(t).toString():t}Ne.path2uri=jKe;function KKe(t){return eH()?(0,y0e.fileURLToPath)(t):t}Ne.uri2path=KKe;function E0e(t,e){return e.find(r=>r.name==t)}Ne.findStructByName=E0e;function A0e(t){return/^(.+)(\[[\w.]+\])+$/.test(t)}Ne.isArrayType=A0e;function ax(t){if(A0e(t)){let[e,r]=(0,ZD.arrayTypeAndSizeStr)(t);return ax(e)}if((0,ZD.isGenericType)(t)){let[e,r]=(0,ZD.parseGenericType)(t);return ax(e)}return t}Ne.getNameByType=ax;function zKe(t,e){let r=ax(t);if(r)return E0e(r,e)}Ne.findStructByType=zKe;function VKe(t,e){return`${t}<${e.join(",")}>`}Ne.toGenericType=VKe;function T0e(t,e){if(e.length==1)return`[${t}]`;{let r=e.slice(1),n=r.reduce(function(i,s){return i*s},1);return`[${Math.floor(t/n)}]${T0e(t%n,r)}`}}Ne.subscript=T0e;function GKe(t,e){let r="";return nd.readFileSync(t,"utf8").split(/\r?\n/).every(function(n,i){return i===e-1?(r=n,!1):!0}),r}Ne.readFileByLine=GKe;function WKe(t){return Object.keys(t).length===0}Ne.isEmpty=WKe;function YKe(t,e){if(e=Object.assign({out:(0,m0e.join)(__dirname,"../out"),sourceMap:!1,artifact:!1,optimize:!1},e),!nd.existsSync(t))throw`file ${t} not exists!`;return nd.existsSync(e.out)||nd.mkdirSync(e.out),(0,Oa.compile)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,cmdPrefix:(0,Oa.findCompiler)()})}Ne.compileContract=YKe;function XKe(t,e){if(e=Object.assign({out:(0,m0e.join)(__dirname,"..","out"),sourceMap:!1,artifact:!1,optimize:!1},e),!nd.existsSync(t))throw`file ${t} not exists!`;return nd.existsSync(e.out)||nd.mkdirSync(e.out),(0,NKe.compileAsync)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,hex:!0,cmdPrefix:(0,Oa.findCompiler)()})}Ne.compileContractAsync=XKe;function ZKe(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))}Ne.newCall=ZKe;function JKe(t){let e;return t.expr.nodeType==="IntLiteral"?e=t.expr.value.toString(10):t.expr.nodeType==="BoolLiteral"&&(e=t.expr.value),t.expr.nodeType==="BytesLiteral"&&(e=`b'${t.expr.value.map(r=>JD(r)).join("")}'`),t.expr.nodeType==="FunctionCall"&&([Oa.ScryptType.PUBKEY,Oa.ScryptType.RIPEMD160,Oa.ScryptType.SIG,Oa.ScryptType.SIGHASHTYPE,Oa.ScryptType.OPCODETYPE,Oa.ScryptType.SIGHASHPREIMAGE,Oa.ScryptType.SHA1,Oa.ScryptType.SHA256].includes(t.expr.name)?e=`b'${t.expr.params[0].value.map(r=>JD(r)).join("")}'`:t.expr.name===Oa.ScryptType.PRIVKEY&&(e=t.expr.params[0].value.toString(10))),e}Ne.resolveConstValue=JKe;function x0e({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}Ne.ansiRegex=x0e;function QKe(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(x0e(),"")}Ne.stripAnsi=QKe;function eze(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function tze(t,e,r){let n=r;for(let i of t.entries()){let s=i[0],u=i[1];n=n.replace(s,u)}for(let i of e.entries()){let s=i[0],u=i[1];n=n.replace(new RegExp(`${eze(s)}`,"g"),u)}return mu.Script.fromHex(n)}Ne.buildContractCode=tze;function rze(t,e){let r=Object.getPrototypeOf(t).constructor.abi,n=r.filter(f=>f.type==="function");if(n.length===1)return n[0];let u=mu.Script.fromHex(e).toASM(),o=u.substr(u.lastIndexOf(" ")+1),a=v0e(o),l=r.find(f=>f.index===a);if(!l)throw new Error(`the raw unlocking script cannot match the contract ${t.contractName}`);return l}Ne.parseAbiFromUnlockingScript=rze;function nze(t){return`[${t.params.map(e=>e.type).join(",")}]`}Ne.librarySign=nze;function ize(t){return`${JSON.stringify(t.params.reduce((e,r)=>Object.assign(e,{[r.name]:r.type}),{}),null,4)}`}Ne.structSign=ize;async function sze(t){return new Promise((e,r)=>{(0,g0e.parseChunked)(nd.createReadStream(t)).then(n=>{e(n)}).catch(n=>{r(n)})})}Ne.JSONParser=sze;function uze(t){return JSON.parse(nd.readFileSync(t,"utf8"))}Ne.JSONParserSync=uze;async function oze(t,e){return new Promise((r,n)=>{(0,g0e.stringifyStream)(e).pipe(nd.createWriteStream(t)).on("finish",()=>{r(!0)}).on("error",i=>{n(i)})})}Ne.JSONStringify=oze;function aze(t,e){let r=(0,MKe.decode)(e.mappings);for(let n=0;n<r[0].length;n++)if(!(r[0][n][0]<=t))return r[0][n-1];return r[0][r[0].length-1]}Ne.findSrcInfoV2=aze;function cze(t,e){for(;--e>0;)if(t[e].pos&&t[e].pos.file!=="std"&&t[e].pos.line>0)return t[e]}Ne.findSrcInfoV1=cze;function fze(t){return RKe.createHash("md5").update(t).digest("hex")}Ne.md5=fze;function lze(t){mu.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,mu.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let e=new mu.Script.Interpreter,r=new mu.Transaction().from({txId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:"",satoshis:1});if(e.verify(new mu.Script(""),t,r,0,Ne.DEFAULT_FLAGS,new mu.crypto.BN(1))||e.errstr!=="SCRIPT_ERR_EVAL_FALSE_NO_RESULT")throw new Error("NopScript should be a script that does not affect the Bitcoin virtual machine stack.")}Ne.checkNOPScript=lze});var tH=$(T0=>{"use strict";B();k();Object.defineProperty(T0,"__esModule",{value:!0});T0.toScriptASM=T0.toScriptHex=T0.bytes2hex=T0.bool2hex=T0.int2hex=void 0;var qh=Lh(),j8=Fg(),dze=j8.bsv.crypto.BN;function I0e(t){if(t===(0,qh.Int)(0))return"00";if(t===(0,qh.Int)(-1))return"4f";if(t>(0,qh.Int)(0)&&t<=(0,qh.Int)(16))return t+=(0,qh.Int)(80),t.toString(16);let r=new dze(t).toSM({endian:"little"});return j8.bsv.Script.fromASM(r.toString("hex")).toHex()}T0.int2hex=I0e;function P0e(t){return t?"51":"00"}T0.bool2hex=P0e;function O0e(t){if(t){if(t.length/2>1)return j8.bsv.Script.fromASM(t).toHex();let e=parseInt(t,16);return e>=1&&e<=16?BigInt(e+80).toString(16):j8.bsv.Script.fromASM(t).toHex()}return"00"}T0.bytes2hex=O0e;function B0e(t,e){if(e===qh.ScryptType.INT||e===qh.ScryptType.PRIVKEY)return I0e(t);if(e===qh.ScryptType.BOOL)return P0e(t);if((0,qh.isBytes)(e))return O0e(t);throw new Error(`unsupport SupportedParamType: ${t}`)}T0.toScriptHex=B0e;function hze(t,e){let r=B0e(t,e);return j8.bsv.Script.fromHex(r).toASM()}T0.toScriptASM=hze});var rH=$(yu=>{"use strict";B();k();Object.defineProperty(yu,"__esModule",{value:!0});yu.deserializeArgfromHex=yu.createArray=yu.createLibrary=yu.createStruct=yu.deserializer=yu.hex2bytes=yu.hex2bool=yu.hex2int=void 0;var yo=Er(),Yn=Lh(),lx=dx(),k0e=Fg();function fx(t){if(t==="00")return(0,Yn.Int)(0);if(t==="4f")return(0,Yn.Int)(-1);{let r=k0e.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?BigInt(r.opcodenum-80):(0,yo.bin2num)(r.buf.toString("hex"))}}yu.hex2int=fx;function C0e(t){if(t==="51")return!0;if(t==="00")return!1;throw new Error(`invalid hex ${t}`)}yu.hex2bool=C0e;function jh(t){if(t==="00")return"";let r=k0e.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?I.Buffer.from([r.opcodenum-80]).toString("hex"):r.buf.toString("hex")}yu.hex2bytes=jh;function K8(t,e){switch(t){case Yn.ScryptType.BOOL:return(0,Yn.Bool)(C0e(e));case Yn.ScryptType.INT:return(0,Yn.Int)(fx(e));case Yn.ScryptType.BYTES:return(0,Yn.Bytes)(jh(e));case Yn.ScryptType.PRIVKEY:return(0,Yn.PrivKey)(fx(e));case Yn.ScryptType.PUBKEY:return(0,Yn.PubKey)(jh(e));case Yn.ScryptType.SIG:return(0,Yn.Sig)(jh(e));case Yn.ScryptType.RIPEMD160:return(0,Yn.Ripemd160)(jh(e));case Yn.ScryptType.SHA1:return(0,Yn.Sha1)(jh(e));case Yn.ScryptType.SHA256:return(0,Yn.Sha256)(jh(e));case Yn.ScryptType.SIGHASHTYPE:return(0,Yn.SigHashType)(Number(fx(e)));case Yn.ScryptType.SIGHASHPREIMAGE:return(0,Yn.SigHashPreimage)(jh(e));case Yn.ScryptType.OPCODETYPE:return(0,Yn.OpCodeType)(jh(e));default:throw new Error(`<${t}> cannot be cast to ScryptType, only sCrypt native types supported`)}}yu.deserializer=K8;function Rg(t,e,r,n){let s=t(e.type).info,u=Object.create({});return s.params.forEach(o=>{let a=t(o.type);(0,yo.isArrayType)(a.finalType)?Object.assign(u,{[o.name]:Ng(t,a.finalType,`${e.name}.${o.name}`,r,n)}):a.symbolType===yo.SymbolType.Struct?Object.assign(u,{[o.name]:Rg(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):a.symbolType===yo.SymbolType.Library?Object.assign(u,{[o.name]:Mg(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):n.state?Object.assign(u,{[o.name]:lx.default.deserializer(a.finalType,r.get(`<${e.name}.${o.name}>`))}):Object.assign(u,{[o.name]:K8(a.finalType,r.get(`<${e.name}.${o.name}>`))})}),u}yu.createStruct=Rg;function Mg(t,e,r,n){let s=t(e.type).info;if(n.state){let u={};return s.properties.forEach(o=>{let a=t(o.type);(0,yo.isArrayType)(a.finalType)?Object.assign(u,{[o.name]:Ng(t,o.type,`${e.name}.${o.name}`,r,n)}):a.symbolType===yo.SymbolType.Struct?Object.assign(u,{[o.name]:Rg(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):a.symbolType===yo.SymbolType.Library?Object.assign(u,{[o.name]:Mg(t,{name:`${e.name}.${o.name}`,type:o.type},r,n)}):Object.assign(u,{[o.name]:lx.default.deserializer(a.finalType,r.get(`<${e.name}.${o.name}>`))})}),u}else return s.params.map(u=>{let o=t(u.type);return(0,yo.isArrayType)(o.finalType)?Ng(t,o.finalType,`${e.name}.${u.name}`,r,n):o.symbolType===yo.SymbolType.Struct?Rg(t,{name:`${e.name}.${u.name}`,type:u.type},r,n):o.symbolType===yo.SymbolType.Library?Mg(t,{name:`${e.name}.${u.name}`,type:u.type},r,n):K8(o.finalType,r.get(`<${e.name}.${u.name}>`))})}yu.createLibrary=Mg;function Ng(t,e,r,n,i){let s=[],[u,o]=(0,yo.arrayTypeAndSize)(e),a=o[0];if(o.length===1)for(let l=0;l<a;l++){let f=t(u);f.symbolType===yo.SymbolType.Struct?s.push(Rg(t,{name:`${r}[${l}]`,type:f.finalType},n,i)):f.symbolType===yo.SymbolType.Library?s.push(Mg(t,{name:`${r}[${l}]`,type:f.finalType},n,i)):i.state?s.push(lx.default.deserializer(f.finalType,n.get(`<${r}[${l}]>`))):s.push(K8(f.finalType,n.get(`<${r}[${l}]>`)))}else for(let l=0;l<a;l++){let c=[t(u).finalType,o.slice(1).map(h=>`[${h}]`).join("")].join("");s.push(Ng(t,c,`${r}[${l}]`,n,i))}return s}yu.createArray=Ng;function pze(t,e,r,n){let i,s=t(e.type);return(0,yo.isArrayType)(s.finalType)?i=Ng(t,e.type,e.name,r,n):s.symbolType===yo.SymbolType.Struct?i=Rg(t,e,r,n):s.symbolType===yo.SymbolType.Library?i=Mg(t,e,r,n):n.state?i=lx.default.deserializer(e.type,r.get(`<${e.name}>`)):i=K8(e.type,r.get(`<${e.name}>`)),e.value=i,e}yu.deserializeArgfromHex=pze});var dx=$(iH=>{"use strict";B();k();Object.defineProperty(iH,"__esModule",{value:!0});var vu=Er(),F0e=rH(),nH=dc(),Dt=Lh(),Tn=class{static int2hex(e){let r="",n=new vu.bsv.crypto.BN(e);return n.eqn(0)?r="00":r=n.toSM({endian:"little"}).toString("hex"),vu.bsv.Script.fromASM(r).toHex()}static hex2int(e){let n=vu.bsv.Script.fromHex(e).chunks[0];return(0,vu.bin2num)(n.buf.toString("hex"))}static bool2hex(e){return e?"01":"00"}static hex2bool(e){if(e==="01")return!0;if(e==="00")return!1;throw new Error(`invalid hex ${e}`)}static bytes2hex(e){return e===""?"00":vu.bsv.Script.fromASM(e).toHex()}static hex2bytes(e){return e==="00"?"":vu.bsv.Script.fromHex(e).chunks[0].buf.toString("hex")}static toHex(e,r){if(r===Dt.ScryptType.INT||r===Dt.ScryptType.PRIVKEY)return Tn.int2hex(e);if(r===Dt.ScryptType.BOOL)return Tn.bool2hex(e);if((0,Dt.isBytes)(r))return Tn.bytes2hex(e);throw new Error(`unsupported type: ${r}`)}static serialize(e,r){if(r===Dt.ScryptType.INT||r===Dt.ScryptType.PRIVKEY){let n=new vu.bsv.crypto.BN(e);return n.eqn(0)?"":n.toSM({endian:"little"}).toString("hex")}else{if(r===Dt.ScryptType.BOOL)return e?"01":"";if((0,Dt.isBytes)(r))return e}throw new Error(`unsupported type: ${r}`)}static buildState(e,r,n){let i=e.map(u=>(0,nH.flatternArg)(u,n,{state:!0,ignoreValue:!1})).flat(1/0);if(i.length<=0)throw new Error("no state property found, buildContractState only used for state contract");let s=`${Tn.toHex(r,Dt.ScryptType.BOOL)}`;if(s+=i.map(u=>Tn.toHex(u.value,u.type)).join(""),s){let u=s.length/2;return s+=(0,vu.num2bin)(BigInt(u),4)+(0,vu.num2bin)(Tn.CURRENT_STATE_VERSION,1),s}return s}static buildDefaultStateArgs(e){let r=e.stateProps.map(i=>{let s=Object.assign({},i,{value:!1});return(0,nH.flatternArg)(s,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),n=new Map;return r.forEach(i=>{if(i.type===Dt.ScryptType.INT||i.type===Dt.ScryptType.PRIVKEY)n.set(`<${i.name}>`,Tn.int2hex((0,Dt.Int)(0)));else if(i.type===Dt.ScryptType.BOOL)n.set(`<${i.name}>`,Tn.bool2hex(!0));else if(i.type===Dt.ScryptType.BYTES||i.type===Dt.ScryptType.PUBKEY||i.type===Dt.ScryptType.SIG||i.type===Dt.ScryptType.RIPEMD160||i.type===Dt.ScryptType.SHA1||i.type===Dt.ScryptType.SHA256||i.type===Dt.ScryptType.SIGHASHTYPE||i.type===Dt.ScryptType.SIGHASHPREIMAGE||i.type===Dt.ScryptType.OPCODETYPE)n.set(`<${i.name}>`,Tn.bytes2hex("00"));else throw new Error(`param ${i.name} has unknown type ${i.type}`)}),e.stateProps.map(i=>(0,F0e.deserializeArgfromHex)(e.resolver,Object.assign(i,{value:void 0}),n,{state:!0}))}static deserializer(e,r){switch(e){case Dt.ScryptType.BOOL:return(0,Dt.Bool)(Tn.hex2bool(r));case Dt.ScryptType.INT:return(0,Dt.Int)(Tn.hex2int(r));case Dt.ScryptType.BYTES:return(0,Dt.Bytes)(Tn.hex2bytes(r));case Dt.ScryptType.PRIVKEY:return(0,Dt.PrivKey)(Tn.hex2int(r));case Dt.ScryptType.PUBKEY:return(0,Dt.PubKey)(Tn.hex2bytes(r));case Dt.ScryptType.SIG:return(0,Dt.Sig)(Tn.hex2bytes(r));case Dt.ScryptType.RIPEMD160:return(0,Dt.Ripemd160)(Tn.hex2bytes(r));case Dt.ScryptType.SHA1:return(0,Dt.Sha1)(Tn.hex2bytes(r));case Dt.ScryptType.SHA256:return(0,Dt.Sha256)(Tn.hex2bytes(r));case Dt.ScryptType.SIGHASHTYPE:return(0,Dt.SigHashType)(Number(Tn.hex2int(r)));case Dt.ScryptType.SIGHASHPREIMAGE:return(0,Dt.SigHashPreimage)(Tn.hex2bytes(r));case Dt.ScryptType.OPCODETYPE:return(0,Dt.OpCodeType)(Tn.hex2bytes(r));default:throw new Error(`<${e}> cannot be cast to ScryptType, only sCrypt native types supported`)}}static readBytes(e){try{let r=e.readUInt8(),n,i;return r==0?i="":r>0&&r<vu.bsv.Opcode.OP_PUSHDATA1?(n=r,i=e.read(n).toString("hex")):r===vu.bsv.Opcode.OP_PUSHDATA1?(n=e.readUInt8(),i=e.read(n).toString("hex")):r===vu.bsv.Opcode.OP_PUSHDATA2?(n=e.readUInt16LE(),i=e.read(n).toString("hex")):r===vu.bsv.Opcode.OP_PUSHDATA4?(n=e.readUInt32LE(),i=e.read(n).toString("hex")):i=(0,vu.num2bin)(BigInt(r-80),1),{data:i,opcodenum:r}}catch(r){throw new Error("readBytes: "+r)}}static parseStateHex(e,r){let n=r.substr(r.length-10,10),i=Number((0,vu.bin2num)(n.substr(n.length-2,2))),s=Number((0,vu.bin2num)(n.substr(0,8))),u=r.substr(r.length-10-s*2,s*2),o=new vu.bsv.encoding.BufferReader(I.Buffer.from(u,"hex")),l=o.readUInt8()==1,f=new Map;e.stateProps.map(d=>{let p=Object.assign({},d,{value:!1});return(0,nH.flatternArg)(p,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0).forEach(d=>{if(d.type===Dt.ScryptType.BOOL){let p=o.readUInt8();f.set(`<${d.name}>`,p===1?"01":"00")}else{let{data:p}=Tn.readBytes(o);f.set(`<${d.name}>`,p?vu.bsv.Script.fromASM(p).toHex():"00")}});let h=e.stateProps.map(d=>Object.assign({},d,{value:!1})).map(d=>(0,F0e.deserializeArgfromHex)(e.resolver,d,f,{state:!0}));return[l,h]}};iH.default=Tn;Tn.CURRENT_STATE_VERSION=(0,Dt.Int)(0)});var oH=$(vo=>{"use strict";B();k();Object.defineProperty(vo,"__esModule",{value:!0});vo.buildTypeResolver=vo.buildTypeResolverFromArtifact=vo.buildContractClass=vo.AbstractContract=vo.SUPPORTED_MINIMUM_VERSION=vo.CURRENT_CONTRACT_ARTIFACT_VERSION=void 0;var sH=wi(),uH=Er(),R0e=N8(),xt=dc(),pc=Lh(),z8=dx(),id=$8();vo.CURRENT_CONTRACT_ARTIFACT_VERSION=9;vo.SUPPORTED_MINIMUM_VERSION=8;var M1=class{constructor(...e){this.calledPubFunctions=[],this.hasInlineASMVars=!1,this.hexTemplateInlineASM=new Map,this.hexTemplateArgs=new Map,this.statePropsArgs=[],this.isGenesis=!0}get lockingScript(){if(this.hasInlineASMVars&&this.hexTemplateInlineASM.size===0)throw new Error("Values for inline ASM variables have not yet been set! Cannot get locking script.");return this.dataPart?this.codePart.add(this.dataPart):this._wrapNOPScript(this.scriptedConstructor?.lockingScript)}_wrapNOPScript(e){return this.nopScript?this.nopScript.clone().add(e):e}set txContext(e){this._txContext=e}get txContext(){return this._txContext}get sourceMapFile(){return Object.getPrototypeOf(this).constructor.artifact.sourceMapFile}get file(){return Object.getPrototypeOf(this).constructor.artifact.file}get contractName(){return Object.getPrototypeOf(this).constructor.artifact.contract}get stateProps(){return Object.getPrototypeOf(this).constructor.artifact.stateProps||[]}get version(){return Object.getPrototypeOf(this).constructor.artifact.version||0}addFunctionCall(e){this.calledPubFunctions.push(e)}get resolver(){return Object.getPrototypeOf(this).constructor.resolver}replaceAsmVars(e){if(e)for(let i in e){let s=e[i];this.hexTemplateInlineASM.set(`<${i.startsWith("$")?i.substring(1):i}>`,xt.bsv.Script.fromASM(s).toHex())}let r=Object.getPrototypeOf(this).constructor.hex,n=(0,xt.buildContractCode)(this.hexTemplateArgs,this.hexTemplateInlineASM,r);this.scriptedConstructor.lockingScript=n}get asmArgs(){let e={};for(let r of this.hexTemplateInlineASM.entries()){let n=r[0].replace("<","").replace(">",""),i=r[1];e[n]=xt.bsv.Script.fromHex(i).toASM()}return e}getNewStateScript(e){let r=this.statePropsArgs;if(r.length===0)throw new Error(`Contract ${this.contractName} does not have any stateful property`);let n=[],i=r.map(s=>{if(Object.prototype.hasOwnProperty.call(e,s.name)){n.push(s.name);let u=e[s.name];u=this.transformerArg(u,s,!0);let o=(0,id.checkSupportedParamType)(u,s,this.resolver);if(o)throw o;return Object.assign({...s},{value:u})}else return s});return Object.keys(e).forEach(s=>{if(n.indexOf(s)===-1)throw new Error(`Contract ${this.contractName} does not have stateful property ${s}`)}),this.codePart.add(xt.bsv.Script.fromHex(z8.default.buildState(i,!1,this.resolver)))}run_verify(e,r){let n=Object.assign({},this._txContext||{},r||{}),i;typeof e=="string"?i=e.trim()?xt.bsv.Script.fromASM(e.trim()):new xt.bsv.Script(""):i=e||new xt.bsv.Script("");let s=xt.bsv.Script.fromHex(this.lockingScript.toHex()),u=typeof n.tx=="string"?new xt.bsv.Transaction(n.tx):n.tx,o=n.inputIndex,a=n.inputSatoshis;xt.bsv.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,xt.bsv.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let l=new xt.bsv.Script.Interpreter,f={};l.stepListener=function(h){(h.fExec||xt.bsv.Opcode.OP_IF<=h.opcode.toNumber()&&h.opcode.toNumber()<=xt.bsv.Opcode.OP_ENDIF)&&(xt.bsv.Opcode.OP_IF<=h.opcode.toNumber()&&h.opcode.toNumber()<=xt.bsv.Opcode.OP_ENDIF||h.opcode.toNumber()===xt.bsv.Opcode.OP_RETURN?f.opcode=h.opcode:f=h)};let c=l.verify(i,s,u,o,xt.DEFAULT_FLAGS,new xt.bsv.crypto.BN(a));if(c)return{success:!0,error:""};if((l.errstr||"").indexOf("SCRIPT_ERR_NULLFAIL")>-1){if(!n)throw new Error("should provide txContext when verify");if(!u)throw new Error("should provide txContext.tx when verify")}return f.opcode=f.opcode.toNumber(),{success:c,error:this.fmtError({error:l.errstr||"",failedAt:f})}}fmtError(e){let r=e.failedAt.opcode,n=`VerifyError: ${e.error}, fails at ${new xt.bsv.Opcode(r)}
`;if(this.sourceMapFile){let i=(0,xt.uri2path)(this.sourceMapFile),s=(0,xt.JSONParserSync)(i),u=(0,sH.join)(i,this.file),o=(0,sH.dirname)(u),a=(0,sH.basename)(u),l=s.sources.map(c=>(0,R0e.getFullFilePath)(c,o,a)),f=(0,xt.findSrcInfoV2)(e.failedAt.pc,s);f&&l[f[1]]&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,xt.path2uri)(l[f[1]])}#${f[2]})  fails at ${new xt.bsv.Opcode(r)}
`)}else if(this.version<=8){let i=Object.getPrototypeOf(this).constructor.artifact,s=(0,R0e.loadSourceMapfromArtifact)(i);if(s.length>0){let u=e.failedAt.pc;if(s[u]){let o=s[u];if(!o.pos||o.pos.file==="std"){let a=(0,xt.findSrcInfoV1)(s,u);a&&(o.pos=a.pos)}o&&o.pos&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,xt.path2uri)(o.pos.file)}#${o.pos.line})  fails at ${new xt.bsv.Opcode(r)}
`)}}}return n}genLaunchConfig(e){let r=Object.assign({},this.txContext||{},e||{}),n=this.lastCalledPubFunction();if(n)return`[Launch Debugger](${n.genLaunchConfig(r).replace(/file:/i,"scryptlaunch:")})
`;throw new Error("No public function called")}set dataPart(e){throw new Error("Setter for dataPart is not available. Please use: setDataPart() instead")}get dataPart(){if(M1.isStateful(this)){let e=z8.default.buildState(this.statePropsArgs,this.isGenesis,this.resolver);return xt.bsv.Script.fromHex(e)}if(this._dataPartInHex)return xt.bsv.Script.fromHex(this._dataPartInHex)}setDataPart(e,r=!1){r==!1?(console.warn("deprecated, using setDataPartInASM"),this.setDataPartInASM(e)):(console.warn("deprecated, using setDataPartInHex"),this.setDataPartInHex(e))}setDataPartInASM(e){if(M1.isStateful(this))throw new Error("should not use `setDataPartInASM` for a stateful contract, using `setDataPartInHex`");let r=e.trim();this.setDataPartInHex(xt.bsv.Script.fromASM(r).toHex())}setDataPartInHex(e){if(this._dataPartInHex=e.trim(),M1.isStateful(this)){let[r,n]=z8.default.parseStateHex(this,this._dataPartInHex);this.statePropsArgs=n,this.isGenesis=r}}prependNOPScript(e){e instanceof xt.bsv.Script&&(0,xt.checkNOPScript)(e),this.nopScript=e}getPrependNOPScript(){return this.nopScript}get codePart(){let e=this.scriptedConstructor.toScript();return this._wrapNOPScript(e.clone()).add(xt.bsv.Script.fromHex("6a"))}get codeHash(){return this.dataPart?(0,xt.hash160)(this.codePart.toHex()):(0,xt.hash160)(this.lockingScript.toHex())}static getAsmVars(e){return this.fromHex(e).asmArgs}arguments(e){if(e==="constructor")return this.scriptedConstructor.args;for(let r=this.calledPubFunctions.length-1;r>=0;r--){let n=this.calledPubFunctions[r];if(n.methodName===e)return n.args}return[]}lastCalledPubFunction(){let e=this.calledPubFunctions.length-1;if(!(e<0))return this.calledPubFunctions[e]}ctorArgs(){return this.arguments("constructor")}get asmVars(){return this.ContractClass.getAsmVars(this.scriptedConstructor.toHex())}get ContractClass(){return Object.getPrototypeOf(this).constructor}transformerArgs(e,r,n){return r.map((i,s)=>this.transformerArg(e[s],i,n))}transformerArg(e,r,n){let i=this.resolver(r.type);if((0,xt.isArrayType)(i.finalType)){let[s,u]=(0,id.arrayTypeAndSize)(i.finalType);if(!Array.isArray(e)||e.length!==u[0])return e;let o=(0,id.subArrayType)(r.type),a=[];for(let l=0;l<u[0];l++){let f=e[l];a.push(this.transformerArg(f,{name:`${r.name}${(0,xt.subscript)(l,u)}`,type:o},n))}return a}else if(i.symbolType===pc.SymbolType.Library){let s=i.info;if(s.name==="HashedMap"){if(e instanceof Map)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)]}else if(s.name==="HashedSet"&&e instanceof Set)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)];let u=n?s.properties:s.params;if(!n&&Array.isArray(e))return u.map((o,a)=>this.transformerArg(e[a],o,n));if(n&&typeof e=="object")return u.reduce((o,a)=>(Object.assign(o,{[a.name]:this.transformerArg(e[a.name],a,n)}),o),{})}else if(i.symbolType===pc.SymbolType.Struct){if(!Array.isArray(e)&&typeof e=="object"){let s=i.info;if(s.name==="SortedItem"){if(e.idx===(0,pc.Int)(-1)&&(e.image instanceof Map||e.image instanceof Set)){let[o,a]=(0,uH.parseGenericType)(i.finalType);return Object.assign({},{idx:this.ContractClass.findKeyIndex(e.image,e.item,a[0]),item:e.item})}return e}let u=Object.assign({},e);return s.params.forEach(o=>{typeof e[o.name]<"u"&&(u[o.name]=this.transformerArg(e[o.name],o,n))}),u}}else if(typeof e=="number")return BigInt(e);return e}checkArgs(e,r,...n){if(n.length!==r.length)throw new Error(`wrong number of arguments for '${this.contractName}.${e}', expected ${r.length} but got ${n.length}`);let i=this.transformerArgs(n,r,!1);return r.forEach((s,u)=>{let o=i[u],a=(0,id.checkSupportedParamType)(o,s,this.resolver);if(a)throw a}),i}static fromASM(e){return this.fromHex(xt.bsv.Script.fromASM(e).toHex())}static fromHex(e){this.asmContract=!0;let r=this,n=new r;return this.asmContract=!1,n.scriptedConstructor=this.abiCoder.encodeConstructorCallFromRawHex(n,this.hex,e),n}static fromTransaction(e,r=0){let n=new xt.bsv.Transaction(e);return this.fromHex(n.outputs[r].script.toHex())}static isStateful(e){return e.stateProps.length>0}static flattenSha256(e,r){let n=(0,id.checkSupportedParamType)(e,{name:"",type:r},this.resolver);if(n)throw n;let i=(0,id.flatternArg)({name:"",type:r,value:e},this.resolver,{state:!0,ignoreValue:!1});if(i.length===1){let s=z8.default.serialize(i[0].value,i[0].type);return xt.bsv.crypto.Hash.sha256(I.Buffer.from(s,"hex")).toString("hex")}else{let s=i.map(u=>{let o=z8.default.serialize(u.value,u.type);return xt.bsv.crypto.Hash.sha256(I.Buffer.from(o,"hex")).toString("hex")}).join("");return xt.bsv.crypto.Hash.sha256(I.Buffer.from(s,"hex")).toString("hex")}}static sortmap(e,r){return new Map([...e.entries()].sort((n,i)=>xt.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(n[0],r),"hex"),{endian:"little"}).cmp(xt.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(i[0],r),"hex"),{endian:"little"}))))}static sortset(e,r){return new Set([...e.keys()].sort((n,i)=>xt.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(xt.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"}))))}static sortkeys(e,r){return e.sort((n,i)=>xt.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(xt.bsv.crypto.BN.fromSM(I.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"})))}static findKeyIndex(e,r,n){let i=[...e.keys()];i.push(r);let u=this.sortkeys(i,n).findIndex(o=>o===r);return BigInt(u)}static toData(e,r){let[n,i]=(0,uH.parseGenericType)(r),s="";if(e instanceof Map){let u=this.sortmap(e,i[0]);for(let o of u.entries())s+=this.flattenSha256(o[0],i[0])+this.flattenSha256(o[1],i[1])}else{let u=this.sortset(e,i[0]);for(let o of u.keys())s+=this.flattenSha256(o,i[0])}return(0,pc.Bytes)(s)}};vo.AbstractContract=M1;var bze=["arguments","setDataPart","setDataPartInASM","setDataPartInHex","version","stateProps","sourceMapFile","file","contractName","ctorArgs","run_verify","replaceAsmVars","asmVars","asmArguments","dataPart","lockingScript","codeHash","codePart","resolver","getNewStateScript","txContext"];function gze(t){if(t instanceof xt.CompileResult&&(t=t.toArtifact()),!t.contract)throw new Error("Missing field `contract` in artifact");if(!t.version)throw new Error("Missing field `version` in artifact");if(t.version<vo.SUPPORTED_MINIMUM_VERSION)throw new Error(`Contract artifact version deprecated, The minimum version number currently supported is ${vo.SUPPORTED_MINIMUM_VERSION}`);if(!t.abi)throw new Error("Missing field `abi` in artifact");if(!t.hex)throw new Error("Missing field `hex` in artifact");let e=class extends M1{constructor(...r){super(),e.asmContract||(this.scriptedConstructor=e.abiCoder.encodeConstructorCall(this,e.hex,...r))}};return e.artifact=t,e.resolver=M0e(t),e.abi=t.abi,e.hex=t.hex,e.abiCoder=new xt.ABICoder(t.abi,e.resolver,t.contract),e.stateProps=t.stateProps||[],e.abi.forEach(r=>{if(r.type!==uH.ABIEntityType.CONSTRUCTOR){if(!r.name||bze.indexOf(r.name)>-1)throw new Error(`Method name [${r.name}] is used by scryptlib now, Pelease change you contract method name!`);e.prototype[r.name]=function(...n){let i=e.abiCoder.encodePubFunctionCall(this,r.name||"",n);return this.addFunctionCall(i),i}}}),e.stateProps.forEach(r=>{Object.defineProperty(e.prototype,r.name,{get(){let n=this.statePropsArgs.find(i=>i.name===r.name);if(n)return n.value;throw new Error(`property ${r.name} does not exists`)},set(n){let i=this.statePropsArgs.find(s=>s.name===r.name);if(i){n=this.transformerArg(n,i,!0);let s=(0,id.checkSupportedParamType)(n,i,this.resolver);if(s)throw s;i.value=n,this.isGenesis=!1}else throw new Error(`property ${r.name} does not exists`)}})}),e}vo.buildContractClass=gze;function M0e(t){let e=t.alias||[],r=t.library||[],n=t.structs||[],i=t.contract;return N0e(i,e,n,r)}vo.buildTypeResolverFromArtifact=M0e;function N0e(t,e,r,n,i=[],s=[]){let u={};return r.forEach(a=>{u[a.name]={info:a,generic:(0,id.hasGeneric)(a),finalType:a.name,symbolType:pc.SymbolType.Struct}}),n.forEach(a=>{u[a.name]={info:a,generic:(0,id.hasGeneric)(a),finalType:a.name,symbolType:pc.SymbolType.Library}}),i.forEach(a=>{u[a.name]={info:a,generic:(0,id.hasGeneric)(a),finalType:a.name,symbolType:pc.SymbolType.Contract}}),u.HashedMap={info:{name:"HashedMap",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["K","V"]},generic:!0,finalType:"HashedMap",symbolType:pc.SymbolType.Library},u.HashedSet={info:{name:"HashedSet",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["E"]},generic:!0,finalType:"HashedSet",symbolType:pc.SymbolType.Library},u.SortedItem={info:{name:"SortedItem",params:[{name:"item",type:"T"},{name:"idx",type:"int"}],genericTypes:["T"]},generic:!0,finalType:"SortedItem",symbolType:pc.SymbolType.Struct},u.PubKeyHash={finalType:"Ripemd160",generic:!1,symbolType:pc.SymbolType.ScryptType},a=>u[a]?u[a]:(0,pc.isScryptType)(a)?{generic:!1,finalType:a,symbolType:pc.SymbolType.ScryptType}:(0,xt.resolveType)(a,u,t,s,e,n)}vo.buildTypeResolver=N0e});var fH=$(Jr=>{"use strict";B();k();Object.defineProperty(Jr,"__esModule",{value:!0});Jr.hash256=Jr.sha256=Jr.hash160=Jr.buildPublicKeyHashScript=Jr.buildOpreturnScript=Jr.writeVarint=Jr.toLEUnsigned=Jr.len=Jr.invert=Jr.xor=Jr.or=Jr.and=Jr.bin2num=Jr.num2bin=Jr.unpack=Jr.pack=void 0;var zh=Er();function N1(t){return new zh.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex")}Jr.pack=N1;function mze(t){return BigInt(Dg(t))}Jr.unpack=mze;function Kh(t,e){let r=new zh.bsv.crypto.BN(t);if(r.eqn(0))return"00".repeat(e);let n=r.toSM({endian:"little"}).toString("hex"),i=n.length/2;if(i>e)throw new Error(`${t} cannot fit in ${e} byte[s]`);if(i===e)return n;let s=e-i,u=n.substring(n.length-2),o=n.substring(0,n.length-2),a=parseInt(u,16);r.isNeg()&&(a&=127);let l=a.toString(16);l.length<2&&(l="0"+l);let f=t>0?"00".repeat(s):"00".repeat(s-1)+"80";return o+l+f}Jr.num2bin=Kh;function Dg(t){let e=t.substring(t.length-2),r=t.substring(0,t.length-2),n=parseInt(e,16),s=(n&127).toString(16);s.length<2&&(s="0"+s);let u=zh.bsv.crypto.BN.fromHex(r+s,{endian:"little"});return n>>7&&(u=u.neg()),BigInt(u.toString())}Jr.bin2num=Dg;function yze(t,e){let r=N1(t).length/2,n=N1(e).length/2,i=Math.max(r,n),s=I.Buffer.from(Kh(t,i),"hex"),u=I.Buffer.from(Kh(e,i),"hex");for(let o=0;o<s.length;o++)s[o]&=u[o];return Dg(s.toString("hex"))}Jr.and=yze;function vze(t,e){let r=N1(t).length/2,n=N1(e).length/2,i=Math.max(r,n),s=I.Buffer.from(Kh(t,i),"hex"),u=I.Buffer.from(Kh(e,i),"hex");for(let o=0;o<s.length;o++)s[o]|=u[o];return Dg(s.toString("hex"))}Jr.or=vze;function Sze(t,e){let r=N1(t).length/2,n=N1(e).length/2,i=Math.max(r,n),s=I.Buffer.from(Kh(t,i),"hex"),u=I.Buffer.from(Kh(e,i),"hex");for(let o=0;o<s.length;o++)s[o]^=u[o];return Dg(s.toString("hex"))}Jr.xor=Sze;function _ze(t){if(t===(0,zh.Int)(0))return t;let e=N1(t).length/2,r=I.Buffer.from(Kh(t,e),"hex");for(let n=0;n<r.length;n++)r[n]=~r[n];return Dg(r.toString("hex"))}Jr.invert=_ze;function cH(t){return BigInt(t.length/2)}Jr.len=cH;function V8(t,e){let r=Kh(t,e+1);return r.slice(0,Number(cH(r)-(0,zh.Int)(1)))}Jr.toLEUnsigned=V8;function wze(t){let e=cH(t),r="";return e<253?r=V8(e,1):e<65536?r="fd"+V8(e,2):e<4294967296?r="fe"+V8(e,4):e<18446744073709552e3&&(r="ff"+V8(e,8)),r+t}Jr.writeVarint=wze;function Eze(t){return zh.bsv.Script.fromASM(["OP_FALSE","OP_RETURN",t].join(" "))}Jr.buildOpreturnScript=Eze;function Aze(t){return zh.bsv.Script.fromASM(["OP_DUP","OP_HASH160",t,"OP_EQUALVERIFY","OP_CHECKSIG"].join(" "))}Jr.buildPublicKeyHashScript=Aze;function Tze(t,e){return zh.bsv.crypto.Hash.sha256ripemd160(I.Buffer.from(t,e||"hex")).toString("hex")}Jr.hash160=Tze;function aH(t,e){return zh.bsv.crypto.Hash.sha256(I.Buffer.from(t,e||"hex")).toString("hex")}Jr.sha256=aH;function xze(t,e){return aH(aH(t,e),e)}Jr.hash256=xze});var dH=$(x0=>{"use strict";B();k();Object.defineProperty(x0,"__esModule",{value:!0});x0.readLaunchJson=x0.parseLiteral=x0.stringToBytes=x0.toJSON=x0.genLaunchConfigFile=void 0;var _t=dc(),M5=Fg(),lH=Ju(),Ize=e7(),D0e=wi();function Pze(t,e,r,n,i,s,u,o){if(!s)return"";let a={type:"scrypt",request:"launch",internalConsoleOptions:"openOnSessionStart",name:i,program:s,constructorArgs:e.map(h=>Hg(h,t)),pubFunc:n,pubFuncArgs:r.map(h=>Hg(h,t))},l={};if(!(0,M5.isEmpty)(u)){let h=u.inputIndex||0;if(u.tx){let d=u.inputSatoshis;Object.assign(l,{hex:u.tx.toString(),inputIndex:h,inputSatoshis:d})}u.opReturn?Object.assign(l,{opReturn:u.opReturn}):u.opReturnHex&&Object.assign(l,{opReturnHex:u.opReturnHex})}(0,M5.isEmpty)(o)||Object.assign(a,{asmArgs:o}),(0,M5.isEmpty)(l)||Object.assign(a,{txContext:l});let f={version:"0.2.0",configurations:[a]},c=JSON.stringify(f,(h,d)=>typeof d=="bigint"?d.toString():d,2);if((0,M5.isNode)()){let h=`${i}-launch.json`,d=(0,D0e.join)(lH.mkdtempSync(`${(0,Ize.tmpdir)()}${D0e.sep}sCrypt.`),h);return lH.writeFileSync(d,c),(0,M5.path2uri)(d)}else console.error(`${n}() call fail, see launch.json`,c)}x0.genLaunchConfigFile=Pze;function Hg(t,e){let r=e(t.type);if((0,M5.isArrayType)(r.finalType)){let n=t.value,[i,s]=(0,_t.arrayTypeAndSize)(r.finalType),u=(0,_t.subArrayType)(r.finalType);return n.map((o,a)=>Hg({name:`${t.name}${(0,_t.subscript)(a,s)}`,type:u,value:o},e))}else if(r.symbolType===_t.SymbolType.Library){let n=[],i=(0,_t.deduceGenericLibrary)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach((s,u)=>{n.push(Hg({name:s.name,type:s.type,value:t.value[u]},e))}),n}else if(r.symbolType===_t.SymbolType.Struct){let n={},i=(0,_t.deduceGenericStruct)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach(s=>{Object.assign(n,{[s.name]:Hg({name:s.name,type:s.type,value:t.value[s.name]},e)})}),n}else if(r.symbolType===_t.SymbolType.ScryptType)switch(r.finalType){case _t.ScryptType.BOOL:return t.value;case _t.ScryptType.INT:return t.value>=BigInt(Number.MIN_SAFE_INTEGER)&&t.value<=BigInt(Number.MAX_SAFE_INTEGER)?Number(t.value):t.value.toString();case _t.ScryptType.BYTES:return`b'${t.value.toString()}'`;case _t.ScryptType.PRIVKEY:return`PrivKey(${t.value.toString()})`;case _t.ScryptType.SIG:case _t.ScryptType.RIPEMD160:case _t.ScryptType.SHA1:case _t.ScryptType.SHA256:case _t.ScryptType.SIGHASHPREIMAGE:case _t.ScryptType.OPCODETYPE:case _t.ScryptType.SIGHASHTYPE:case _t.ScryptType.PUBKEY:return`${r.finalType}(b'${t.value.toString()}')`}}x0.toJSON=Hg;function H0e(t){let r=new TextEncoder().encode(t);return(0,_t.getValidatedHexString)(I.Buffer.from(r).toString("hex"))}x0.stringToBytes=H0e;function Oze(t,e=!1){if(t==="false")return[!1,_t.ScryptType.BOOL];if(t==="true")return[!0,_t.ScryptType.BOOL];if(e){let n=/^(0x[0-9a-fA-F]+)$/.exec(t);if(n)return[BigInt(n[1]),_t.ScryptType.INT];if(n=/^(-?\d+)$/.exec(t),n)return[BigInt(n[1]),_t.ScryptType.INT]}else if(/^([\da-fA-F]*)$/.exec(t))return[(0,_t.Bytes)(t),_t.ScryptType.BYTES];let r=/^b'([\da-fA-F]*)'$/.exec(t);if(r)return[(0,_t.Bytes)(r[1]),_t.ScryptType.BYTES];if(r=/^"([\s\S]*)"$/.exec(t),r)return[H0e(r[1]),_t.ScryptType.BYTES];if(r=/^PrivKey\((-?\d+)\)$/.exec(t),r)return[BigInt(r[1]),_t.ScryptType.PRIVKEY];if(r=/^PrivKey\((0x[0-9a-fA-F]+)\)$/.exec(t),r)return[BigInt(r[1]),_t.ScryptType.PRIVKEY];if(r=/^PubKey\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.PUBKEY]}if(r=/^Sig\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.SIG]}if(r=/^Ripemd160\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.RIPEMD160]}if(r=/^Sha1\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.SHA1]}if(r=/^Sha256\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.SHA256]}if(r=/^SigHashType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.SIGHASHTYPE]}if(r=/^SigHashPreimage\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.SIGHASHPREIMAGE]}if(r=/^OpCodeType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,_t.getValidatedHexString)(r[1]);return[(0,_t.Bytes)(n),_t.ScryptType.OPCODETYPE]}throw new Error(`<${t}> cannot be cast to ASM format, only sCrypt native types supported`)}x0.parseLiteral=Oze;var Bze=/(\[((!\[[^\]]*?\]\(\s*)([^\s()]+?)\s*\)\]|(?:\\\]|[^\]])*\])\(\s*)(([^\s()]|\([^\s()]*?\))+)\s*(".*?")?\)/g;function kze(t){for(let e of t.matchAll(Bze))if(e[5]&&e[5].startsWith("scryptlaunch")){let r=e[5].replace(/scryptlaunch/,"file");return JSON.parse(lH.readFileSync((0,M5.uri2path)(r)).toString())}}x0.readLaunchJson=kze});var K0e=$(Lg=>{"use strict";B();k();Object.defineProperty(Lg,"__esModule",{value:!0});Lg.ABICoder=Lg.FunctionCall=void 0;var hH=fH(),L0e=N8(),j0e=oH(),U0e=rH(),Cze=dH(),Fze=Lh(),$0e=tH(),q0e=dx(),pH=$8(),Go=Fg(),N5=class{get unlockingScript(){return this._unlockingScript}get lockingScript(){return this._lockingScript}set lockingScript(e){this._lockingScript=e}constructor(e,r){if(this.methodName=e,this.args=[],r.lockingScript===void 0&&r.unlockingScript===void 0)throw new Error("param binding.lockingScript & binding.unlockingScript cannot both be empty");this.contract=r.contract,this.args=r.args,r.lockingScript&&(this._lockingScript=r.lockingScript),r.unlockingScript&&(this._unlockingScript=r.unlockingScript)}toASM(){return this.toScript().toASM()}toString(){return this.toHex()}toScript(){return this.lockingScript?this.lockingScript:this.unlockingScript}toHex(){return this.toScript().toHex()}genLaunchConfig(e){let r=this.methodName,n=`Debug ${this.contract.contractName}`,i=`${this.contract.file}`,s=this.contract.asmArgs||{},u={};j0e.AbstractContract.isStateful(this.contract)?Object.assign(u,{opReturnHex:this.contract.dataPart?.toHex()||""}):this.contract.dataPart&&Object.assign(u,{opReturn:this.contract.dataPart.toASM()});let o=Object.assign({},this.contract.txContext||{},e||{},u);return(0,Cze.genLaunchConfigFile)(this.contract.resolver,this.contract.ctorArgs(),this.args,r,n,i,o,s)}verify(e){let r=this.contract.run_verify(this.unlockingScript,e);if(!r.success){let n=this.genLaunchConfig(e);n&&(r.error=r.error+`	[Launch Debugger](${n.replace(/file:/i,"scryptlaunch:")})
`)}return r}};Lg.FunctionCall=N5;var bH=class{constructor(e,r,n){this.abi=e,this.resolver=r,this.contractName=n}encodeConstructorCall(e,r,...n){let s=this.abi.filter(h=>h.type===L0e.ABIEntityType.CONSTRUCTOR)[0]?.params||[],u=e.checkArgs("constructor",s,...n);s.flatMap((h,d)=>{let p=Object.assign({...h},{value:u[d]});return(0,pH.flatternArg)(p,this.resolver,{state:!1,ignoreValue:!1})}).forEach(h=>{if(!r.includes(`<${h.name}>`))throw new Error(`abi constructor params mismatch with args provided: missing ${h.name} in ASM tempalte`);e.hexTemplateArgs.set(`<${h.name}>`,(0,$0e.toScriptHex)(h.value,h.type))});let a=!!r.match(/<__codePart__>/g);a&&e.hexTemplateArgs.set("<__codePart__>","00");let l=r.match(/<.*?>/g),f=l?l.length:0;e.hasInlineASMVars=a?f>e.hexTemplateArgs.size+1:f>e.hexTemplateArgs.size,e.statePropsArgs=q0e.default.buildDefaultStateArgs(e);let c=(0,Go.buildContractCode)(e.hexTemplateArgs,e.hexTemplateInlineASM,r);return new N5("constructor",{contract:e,lockingScript:c,args:s.map((h,d)=>({name:h.name,type:h.type,value:u[d]}))})}encodeConstructorCallFromRawHex(e,r,n){let i=Go.bsv.Script.fromHex(n),u=this.abi.filter(y=>y.type===L0e.ABIEntityType.CONSTRUCTOR)[0]?.params||[],o=0,a,l=-1,f=new Error(`the raw script cannot match the ASM template of contract ${e.contractName}`);function c(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2}function h(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=F)throw f;o=o+y.len*2}function d(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+2);if(parseInt(F,16)!=y.len)throw f;o=o+2;let N=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=N)throw f;o=o+y.len*2}function p(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+4);if((0,hH.bin2num)(F)!=BigInt(y.len))throw f;o=o+4;let N=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=N)throw f;o=o+y.len*2}function m(y){let S=r.substring(o,o+2);if(parseInt(S,16)!=y.opcodenum)throw f;o=o+2;let F=r.substring(o,o+8);if((0,hH.bin2num)(F)!=BigInt(y.len))throw f;o=o+8;let N=r.substring(o,o+y.len*2);if(y.buf.toString("hex")!=N)throw f;o=o+y.len*2}function w(){if(r.charAt(o)=="<"){let y=o,S=!1;for(;!S&&o<r.length;)o++,r.charAt(o)==">"&&(o++,S=!0);if(!S)throw new Error("cannot found break >");return r.substring(y,o)}}function x(y,S){let F=new Go.bsv.encoding.BufferWriter;F.writeUInt8(S.opcodenum),S.buf&&(S.opcodenum<Go.bsv.Opcode.OP_PUSHDATA1?F.write(S.buf):S.opcodenum===Go.bsv.Opcode.OP_PUSHDATA1?(F.writeUInt8(S.len),F.write(S.buf)):S.opcodenum===Go.bsv.Opcode.OP_PUSHDATA2?(F.writeUInt16LE(S.len),F.write(S.buf)):S.opcodenum===Go.bsv.Opcode.OP_PUSHDATA4&&(F.writeUInt32LE(S.len),F.write(S.buf))),y.startsWith(`<${e.contractName}.`)?e.hexTemplateInlineASM.set(y,F.toBuffer().toString("hex")):e.hexTemplateArgs.set(y,F.toBuffer().toString("hex"))}for(let y=0;y<i.chunks.length;y++){let S=i.chunks[y],F=!1;switch(!0){case S.opcodenum===106:{o>=r.length?(a=Go.bsv.Script.fromChunks(i.chunks.slice(y+1)).toHex(),l=y,F=!0):c(S);break}case S.opcodenum===0:{let N=w();N?x(N,S):c(S);break}case(S.opcodenum>=1&&S.opcodenum<=75):{let N=w();N?x(N,S):h(S);break}case(S.opcodenum>=79&&S.opcodenum<=96):{let N=w();N?x(N,S):c(S);break}case S.opcodenum===76:{let N=w();N?x(N,S):d(S);break}case S.opcodenum===77:{let N=w();N?x(N,S):p(S);break}case S.opcodenum===78:{let N=w();N?x(N,S):m(S);break}default:c(S)}if(F)break}let _=u.map(y=>(0,U0e.deserializeArgfromHex)(e.resolver,Object.assign(y,{value:!1}),e.hexTemplateArgs,{state:!1}));if(j0e.AbstractContract.isStateful(e)&&a){let y=a,S=a.substr(y.length-10,10);switch((0,hH.bin2num)(S.substr(S.length-2,2))){case(0,Fze.Int)(0):{let[N,H]=q0e.default.parseStateHex(e,y);e.statePropsArgs=H,e.isGenesis=N}break}}else a&&e.setDataPartInHex(a);return new N5("constructor",{contract:e,lockingScript:l>-1?Go.bsv.Script.fromChunks(i.chunks.slice(0,l)):i,args:_})}encodePubFunctionCall(e,r,n){for(let i of this.abi)if(i.name===r){let s=e.checkArgs(r,i.params,...n),o=i.params.flatMap((a,l)=>{let f=Object.assign({...a},{value:s[l]});return(0,pH.flatternArg)(f,this.resolver,{state:!1,ignoreValue:!1})}).map(a=>(0,$0e.toScriptHex)(a.value,a.type)).join("");if(this.abi.length>2&&i.index!==void 0){let a=i.index;o+=`${Go.bsv.Script.fromASM((0,Go.int2Asm)(a.toString())).toHex()}`}return new N5(r,{contract:e,unlockingScript:Go.bsv.Script.fromHex(o),args:i.params.map((a,l)=>({name:a.name,type:a.type,value:s[l]}))})}throw new Error(`no public function named '${r}' found in contract '${e.contractName}'`)}encodePubFunctionCallFromHex(e,r){let n=this.parseCallData(r);return new N5(n.methodName,{contract:e,unlockingScript:n.unlockingScript,args:n.args})}parseCallData(e){let r=Go.bsv.Script.fromHex(e),n=r.toASM(),i=this.abi.filter(d=>d.type==="function"),s=i.length,u;if(s===1)u=i[0];else{let d=n.slice(n.lastIndexOf(" ")+1),p=(0,Go.asm2int)(d);u=this.abi.find(m=>m.index===p)}if(!u)throw new Error(`the raw unlocking script cannot match the contract ${this.constructor.name}`);let o=u.params||[],a=o.map(d=>{let p=Object.assign({},d,{value:!1});return(0,pH.flatternArg)(p,this.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),l=a.length;this.abi.length>2&&u.index!==void 0&&(l+=1);let f=n.split(" ");if(l!=f.length)throw new Error(`the raw unlockingScript cannot match the arguments of public function ${u.name} of contract ${this.contractName}`);let c=new Map;a.forEach((d,p)=>{c.set(`<${d.name}>`,Go.bsv.Script.fromASM(f[p]).toHex())});let h=o.map(d=>(0,U0e.deserializeArgfromHex)(this.resolver,Object.assign(d,{value:!1}),c,{state:!1}));return{methodName:u.name,args:h,unlockingScript:r}}};Lg.ABICoder=bH});var V0e=$((g4t,z0e)=>{"use strict";B();k();var Ug=ak(),hx=(t,e)=>function(){return`\x1B[${t.apply(Ug,arguments)+e}m`},px=(t,e)=>function(){let r=t.apply(Ug,arguments);return`\x1B[${38+e};5;${r}m`},bx=(t,e)=>function(){let r=t.apply(Ug,arguments);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`};function Rze(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(let i of Object.keys(e)){let s=e[i];for(let u of Object.keys(s)){let o=s[u];e[u]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},s[u]=e[u],t.set(o[0],o[1])}Object.defineProperty(e,i,{value:s,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}let r=i=>i,n=(i,s,u)=>[i,s,u];e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi={ansi:hx(r,0)},e.color.ansi256={ansi256:px(r,0)},e.color.ansi16m={rgb:bx(n,0)},e.bgColor.ansi={ansi:hx(r,10)},e.bgColor.ansi256={ansi256:px(r,10)},e.bgColor.ansi16m={rgb:bx(n,10)};for(let i of Object.keys(Ug)){if(typeof Ug[i]!="object")continue;let s=Ug[i];i==="ansi16"&&(i="ansi"),"ansi16"in s&&(e.color.ansi[i]=hx(s.ansi16,0),e.bgColor.ansi[i]=hx(s.ansi16,10)),"ansi256"in s&&(e.color.ansi256[i]=px(s.ansi256,0),e.bgColor.ansi256[i]=px(s.ansi256,10)),"rgb"in s&&(e.color.ansi16m[i]=bx(s.rgb,0),e.bgColor.ansi16m[i]=bx(s.rgb,10))}return e}Object.defineProperty(z0e,"exports",{enumerable:!0,get:Rze})});var W0e=$((v4t,G0e)=>{"use strict";B();k();G0e.exports={stdout:!1,stderr:!1}});var Q0e=$((w4t,J0e)=>{"use strict";B();k();var Mze=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Y0e=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Nze=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Dze=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,Hze=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Z0e(t){return t[0]==="u"&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):Hze.get(t)||t}function Lze(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n)if(!isNaN(s))r.push(Number(s));else if(i=s.match(Nze))r.push(i[2].replace(Dze,(u,o,a)=>o?Z0e(o):a));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`);return r}function Uze(t){Y0e.lastIndex=0;let e=[],r;for(;(r=Y0e.exec(t))!==null;){let n=r[1];if(r[2]){let i=Lze(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function X0e(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let i of Object.keys(r))if(Array.isArray(r[i])){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);r[i].length>0?n=n[i].apply(n,r[i]):n=n[i]}return n}J0e.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(Mze,(s,u,o,a,l,f)=>{if(u)i.push(Z0e(u));else if(a){let c=i.join("");i=[],n.push(r.length===0?c:X0e(t,r)(c)),r.push({inverse:o,styles:Uze(a)})}else if(l){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(X0e(t,r)(i.join(""))),i=[],r.pop()}else i.push(f)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var yH=$((T4t,W8)=>{"use strict";B();k();var mH=sk(),As=V0e(),gH=W0e().stdout,$ze=Q0e(),tfe=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),rfe=["ansi","ansi","ansi256","ansi16m"],nfe=new Set(["gray"]),$g=Object.create(null);function efe(t,e){e=e||{};let r=gH?gH.level:0;t.level=e.level===void 0?r:e.level,t.enabled="enabled"in e?e.enabled:t.level>0}function G8(t){if(!this||!(this instanceof G8)||this.template){let e={};return efe(e,t),e.template=function(){let r=[].slice.call(arguments);return Kze.apply(null,[e.template].concat(r))},Object.setPrototypeOf(e,G8.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=G8,e.template}efe(this,t)}tfe&&(As.blue.open="\x1B[94m");for(let t of Object.keys(As))As[t].closeRe=new RegExp(mH(As[t].close),"g"),$g[t]={get(){let e=As[t];return gx.call(this,this._styles?this._styles.concat(e):[e],this._empty,t)}};$g.visible={get(){return gx.call(this,this._styles||[],!0,"visible")}};As.color.closeRe=new RegExp(mH(As.color.close),"g");for(let t of Object.keys(As.color.ansi))nfe.has(t)||($g[t]={get(){let e=this.level;return function(){let n={open:As.color[rfe[e]][t].apply(null,arguments),close:As.color.close,closeRe:As.color.closeRe};return gx.call(this,this._styles?this._styles.concat(n):[n],this._empty,t)}}});As.bgColor.closeRe=new RegExp(mH(As.bgColor.close),"g");for(let t of Object.keys(As.bgColor.ansi)){if(nfe.has(t))continue;let e="bg"+t[0].toUpperCase()+t.slice(1);$g[e]={get(){let r=this.level;return function(){let i={open:As.bgColor[rfe[r]][t].apply(null,arguments),close:As.bgColor.close,closeRe:As.bgColor.closeRe};return gx.call(this,this._styles?this._styles.concat(i):[i],this._empty,t)}}}}var qze=Object.defineProperties(()=>{},$g);function gx(t,e,r){let n=function(){return jze.apply(n,arguments)};n._styles=t,n._empty=e;let i=this;return Object.defineProperty(n,"level",{enumerable:!0,get(){return i.level},set(s){i.level=s}}),Object.defineProperty(n,"enabled",{enumerable:!0,get(){return i.enabled},set(s){i.enabled=s}}),n.hasGrey=this.hasGrey||r==="gray"||r==="grey",n.__proto__=qze,n}function jze(){let t=arguments,e=t.length,r=String(arguments[0]);if(e===0)return"";if(e>1)for(let i=1;i<e;i++)r+=" "+t[i];if(!this.enabled||this.level<=0||!r)return this._empty?"":r;let n=As.dim.open;tfe&&this.hasGrey&&(As.dim.open="");for(let i of this._styles.slice().reverse())r=i.open+r.replace(i.closeRe,i.open)+i.close,r=r.replace(/\r?\n/g,`${i.close}$&${i.open}`);return As.dim.open=n,r}function Kze(t,e){if(!Array.isArray(e))return[].slice.call(arguments,1).join(" ");let r=[].slice.call(arguments,2),n=[e.raw[0]];for(let i=1;i<e.length;i++)n.push(String(r[i-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(e.raw[i]));return $ze(t,n.join(""))}Object.defineProperties(G8.prototype,$g);W8.exports=G8();W8.exports.supportsColor=gH;W8.exports.default=W8.exports});var sfe=$((P4t,ife)=>{B();k();var vH=yH();function zze(){console.info(`${vH.bgRed.bold("**ERROR**: No sCrypt compiler found.")}`)}function Vze(){console.info(`${vH.bgRed.bold("**ERROR**: Downloading sCrypt compiler failed.")}`),console.info(`Go to ${vH.blue.bold("https://github.com/sCrypt-Inc/compiler_dist/releases")} to download sCrypt compiler.
`)}ife.exports={showNoCompilerFound:zze,showDownloadFailed:Vze}});var afe=$(qg=>{"use strict";B();k();Object.defineProperty(qg,"__esModule",{value:!0});qg.findCompiler=qg.getPlatformScryptc=void 0;var Gze=Ay(),D5=Ju(),Wze=ik(),_H=e7(),SH=wi(),Yze=sfe();function ufe(){switch(_H.platform()){case"win32":return"compiler/scryptc/win32/scryptc.exe";case"linux":return"compiler/scryptc/linux/scryptc";case"darwin":return"compiler/scryptc/mac/scryptc";default:throw`sCrypt doesn't support ${_H.platform()}`}}qg.getPlatformScryptc=ufe;function ofe(t=__dirname){let e=(0,SH.resolve)(t,"compiler");if((0,D5.existsSync)(e)&&(0,D5.statSync)(e).isDirectory()){let n=(0,SH.join)(e,"..",ufe());return(0,D5.existsSync)(n)?n:void 0}let r=(0,SH.resolve)(t,"..");if(r!==t)return ofe(r)}function Xze(){let e=_H.platform().indexOf("win")>-1?"where":"which";try{return(0,Gze.execSync)(`${e} scryptc`,{stdio:[]}).toString().replace(/\r\n/g,"")}catch{return}}function Zze(){let e=Wze(process.argv.slice(2)).scryptc;if(e&&e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1)),e&&(0,D5.existsSync)(e))return e;if(process.env.SCRYPTC&&(0,D5.existsSync)(process.env.SCRYPTC))return process.env.SCRYPTC;if(e=ofe(),e&&(0,D5.existsSync)(e)||(e=Xze(),e&&(0,D5.existsSync)(e)))return e;(0,Yze.showNoCompilerFound)()}qg.findCompiler=Zze});var lfe=$(jg=>{"use strict";B();k();Object.defineProperty(jg,"__esModule",{value:!0});jg.sha256ByPartialHash=jg.partialSha256=void 0;var Jze=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qze(t,e){let r=t.length,n=r%64<56?64-r%64:128-r%64,i=I.Buffer.alloc(n),s=I.Buffer.concat([t,i]),u=r/536870912|0,o=r<<3;s[r]=128;for(let h=r+1;h<s.length-8;h++)s[h]=0;s[s.length-8]=u>>>24&255,s[s.length-7]=u>>>16&255,s[s.length-6]=u>>>8&255,s[s.length-5]=u>>>0&255,s[s.length-4]=o>>>24&255,s[s.length-3]=o>>>16&255,s[s.length-2]=o>>>8&255,s[s.length-1]=o>>>0&255;let a=[];for(let h=0;h<s.length/64;h++)a.push(s.slice(h*64,h*64+64));let f=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];for(let h=0;h<a.length;h++){let d=a[h];if(f=cfe(f,d),r>64&&h==e)break}let c=ffe(f);if(e>-1&&r>64){let h=t.slice((e+1)*64),d=s.slice(t.length);return[c,h.toString("hex"),d.toString("hex")]}return[c,"",""]}jg.partialSha256=Qze;function eVe(t,e,r){let n=I.Buffer.from(t,"hex"),i=I.Buffer.from(e+r,"hex"),s=[];for(let a=0;a<i.length/64;a++)s.push(i.slice(a*64,a*64+64));let o=[D1(n.slice(0,4)),D1(n.slice(4,8)),D1(n.slice(8,12)),D1(n.slice(12,16)),D1(n.slice(16,20)),D1(n.slice(20,24)),D1(n.slice(24,28)),D1(n.slice(28,32))];for(let a=0;a<s.length;a++){let l=s[a];o=cfe(o,l)}return ffe(o)}jg.sha256ByPartialHash=eVe;function D1(t){return t.readUInt32BE()}function tVe(t){return t=Number(t),t<0?Math.ceil(t):Math.floor(t)}function rVe(t,e){return t-Math.floor(t/e)*e}function H1(t){return rVe(tVe(t),Math.pow(2,32))}function cfe(t,e){let r=t[0],n=t[1],i=t[2],s=t[3],u=t[4],o=t[5],a=t[6],l=t[7],f=[];for(let c=0;c<64;c++){if(c<16)f[c]=e.slice(c*4,c*4+4).readUInt32BE();else{let _=f[c-15],y=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,S=f[c-2],F=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;f[c]=y+f[c-7]+F+f[c-16]}let h=u&o^~u&a,d=r&n^r&i^n&i,p=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),m=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),w=l+m+h+Jze[c]+f[c],x=p+d;l=a,a=o,o=u,u=s+w,s=i,i=n,n=r,r=w+x}return[H1(t[0]+r),H1(t[1]+n),H1(t[2]+i),H1(t[3]+s),H1(t[4]+u),H1(t[5]+o),H1(t[6]+a),H1(t[7]+l)]}function L1(t){let e=I.Buffer.from([0,0,0,0]);return e.writeUInt32BE(t),e}function ffe(t){return[L1(t[0]),L1(t[1]),L1(t[2]),L1(t[3]),L1(t[4]),L1(t[5]),L1(t[6]),L1(t[7])].reduce((r,n)=>I.Buffer.concat([r,n]),I.Buffer.from([])).toString("hex")}});var dc=$(zu=>{"use strict";B();k();var nVe=zu&&zu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lf=zu&&zu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nVe(e,t,r)};Object.defineProperty(zu,"__esModule",{value:!0});Lf(Fg(),zu);Lf(Lh(),zu);Lf(tH(),zu);Lf(oH(),zu);Lf(N8(),zu);Lf(K0e(),zu);Lf(afe(),zu);Lf(lfe(),zu);Lf($8(),zu);Lf(fH(),zu);Lf(dH(),zu)});var Er=$(ae=>{"use strict";B();k();Object.defineProperty(ae,"__esModule",{value:!0});ae.md5=ae.uri2path=ae.path2uri=ae.getFullFilePath=ae.JSONParser=ae.isEmpty=ae.parseLiteral=ae.compilerVersion=ae.typeOfArg=ae.getABIDeclaration=ae.getStructDeclaration=ae.buildTypeResolver=ae.resolveGenericType=ae.structSign=ae.librarySign=ae.toLiteralArrayType=ae.arrayTypeAndSizeStr=ae.resolveConstValue=ae.findStatic=ae.findConstStatic=ae.parseAbiFromUnlockingScript=ae.getLowSPreimage=ae.readLaunchJson=ae.parseGenericType=ae.isGenericType=ae.subArrayType=ae.genLaunchConfigFile=ae.getNameByType=ae.newCall=ae.arrayTypeAndSize=ae.isArrayType=ae.findStructByName=ae.findStructByType=ae.getValidatedHexString=ae.bytesToHexString=ae.bytes2Literal=ae.int2Asm=ae.bin2num=ae.toHex=ae.bsv=ae.CompileResult=ae.compileContractAsync=ae.handleCompilerOutput=ae.signTx=ae.getPreimage=ae.doCompileAsync=ae.compileContract=ae.compileAsync=ae.compile=ae.buildContractClass=void 0;ae.sha256ByPartialHash=ae.partialSha256=ae.findCompiler=ae.getPlatformScryptc=ae.toLEUnsigned=ae.writeVarint=ae.buildPublicKeyHashScript=ae.len=ae.buildOpreturnScript=ae.num2bin=ae.invert=ae.xor=ae.or=ae.and=ae.hash256=ae.sha256=ae.hash160=ae.DEFAULT_SIGHASH_TYPE=ae.ScryptType=ae.DEFAULT_FLAGS=ae.SymbolType=ae.DebugModeTag=ae.AbstractContract=ae.BuildType=ae.ABIEntityType=ae.HashedSet=ae.HashedMap=ae.PubKeyHash=ae.OpCodeType=ae.SigHashPreimage=ae.SigHashType=ae.Sha256=ae.Sha1=ae.Ripemd160=ae.Sig=ae.PubKey=ae.PrivKey=ae.Bytes=ae.Bool=ae.Int=ae.flatternArg=ae.getSortedItem=ae.toJSON=ae.isSubBytes=ae.isScryptType=ae.stringToBytes=ae.FunctionCall=void 0;var sd=dc();Object.defineProperty(ae,"buildContractClass",{enumerable:!0,get:function(){return sd.buildContractClass}});Object.defineProperty(ae,"compile",{enumerable:!0,get:function(){return sd.compile}});Object.defineProperty(ae,"compileAsync",{enumerable:!0,get:function(){return sd.compileAsync}});Object.defineProperty(ae,"compileContract",{enumerable:!0,get:function(){return sd.compileContract}});Object.defineProperty(ae,"doCompileAsync",{enumerable:!0,get:function(){return sd.doCompileAsync}});Object.defineProperty(ae,"getPreimage",{enumerable:!0,get:function(){return sd.getPreimage}});Object.defineProperty(ae,"signTx",{enumerable:!0,get:function(){return sd.signTx}});Object.defineProperty(ae,"handleCompilerOutput",{enumerable:!0,get:function(){return sd.handleCompilerOutput}});Object.defineProperty(ae,"compileContractAsync",{enumerable:!0,get:function(){return sd.compileContractAsync}});Object.defineProperty(ae,"CompileResult",{enumerable:!0,get:function(){return sd.CompileResult}});var Ut=dc();Object.defineProperty(ae,"bsv",{enumerable:!0,get:function(){return Ut.bsv}});Object.defineProperty(ae,"toHex",{enumerable:!0,get:function(){return Ut.toHex}});Object.defineProperty(ae,"bin2num",{enumerable:!0,get:function(){return Ut.bin2num}});Object.defineProperty(ae,"int2Asm",{enumerable:!0,get:function(){return Ut.int2Asm}});Object.defineProperty(ae,"bytes2Literal",{enumerable:!0,get:function(){return Ut.bytes2Literal}});Object.defineProperty(ae,"bytesToHexString",{enumerable:!0,get:function(){return Ut.bytesToHexString}});Object.defineProperty(ae,"getValidatedHexString",{enumerable:!0,get:function(){return Ut.getValidatedHexString}});Object.defineProperty(ae,"findStructByType",{enumerable:!0,get:function(){return Ut.findStructByType}});Object.defineProperty(ae,"findStructByName",{enumerable:!0,get:function(){return Ut.findStructByName}});Object.defineProperty(ae,"isArrayType",{enumerable:!0,get:function(){return Ut.isArrayType}});Object.defineProperty(ae,"arrayTypeAndSize",{enumerable:!0,get:function(){return Ut.arrayTypeAndSize}});Object.defineProperty(ae,"newCall",{enumerable:!0,get:function(){return Ut.newCall}});Object.defineProperty(ae,"getNameByType",{enumerable:!0,get:function(){return Ut.getNameByType}});Object.defineProperty(ae,"genLaunchConfigFile",{enumerable:!0,get:function(){return Ut.genLaunchConfigFile}});Object.defineProperty(ae,"subArrayType",{enumerable:!0,get:function(){return Ut.subArrayType}});Object.defineProperty(ae,"isGenericType",{enumerable:!0,get:function(){return Ut.isGenericType}});Object.defineProperty(ae,"parseGenericType",{enumerable:!0,get:function(){return Ut.parseGenericType}});Object.defineProperty(ae,"readLaunchJson",{enumerable:!0,get:function(){return Ut.readLaunchJson}});Object.defineProperty(ae,"getLowSPreimage",{enumerable:!0,get:function(){return Ut.getLowSPreimage}});Object.defineProperty(ae,"parseAbiFromUnlockingScript",{enumerable:!0,get:function(){return Ut.parseAbiFromUnlockingScript}});Object.defineProperty(ae,"findConstStatic",{enumerable:!0,get:function(){return Ut.findConstStatic}});Object.defineProperty(ae,"findStatic",{enumerable:!0,get:function(){return Ut.findStatic}});Object.defineProperty(ae,"resolveConstValue",{enumerable:!0,get:function(){return Ut.resolveConstValue}});Object.defineProperty(ae,"arrayTypeAndSizeStr",{enumerable:!0,get:function(){return Ut.arrayTypeAndSizeStr}});Object.defineProperty(ae,"toLiteralArrayType",{enumerable:!0,get:function(){return Ut.toLiteralArrayType}});Object.defineProperty(ae,"librarySign",{enumerable:!0,get:function(){return Ut.librarySign}});Object.defineProperty(ae,"structSign",{enumerable:!0,get:function(){return Ut.structSign}});Object.defineProperty(ae,"resolveGenericType",{enumerable:!0,get:function(){return Ut.resolveGenericType}});Object.defineProperty(ae,"buildTypeResolver",{enumerable:!0,get:function(){return Ut.buildTypeResolver}});Object.defineProperty(ae,"getStructDeclaration",{enumerable:!0,get:function(){return Ut.getStructDeclaration}});Object.defineProperty(ae,"getABIDeclaration",{enumerable:!0,get:function(){return Ut.getABIDeclaration}});Object.defineProperty(ae,"typeOfArg",{enumerable:!0,get:function(){return Ut.typeOfArg}});Object.defineProperty(ae,"compilerVersion",{enumerable:!0,get:function(){return Ut.compilerVersion}});Object.defineProperty(ae,"parseLiteral",{enumerable:!0,get:function(){return Ut.parseLiteral}});Object.defineProperty(ae,"isEmpty",{enumerable:!0,get:function(){return Ut.isEmpty}});Object.defineProperty(ae,"JSONParser",{enumerable:!0,get:function(){return Ut.JSONParser}});Object.defineProperty(ae,"getFullFilePath",{enumerable:!0,get:function(){return Ut.getFullFilePath}});Object.defineProperty(ae,"path2uri",{enumerable:!0,get:function(){return Ut.path2uri}});Object.defineProperty(ae,"uri2path",{enumerable:!0,get:function(){return Ut.uri2path}});Object.defineProperty(ae,"md5",{enumerable:!0,get:function(){return Ut.md5}});Object.defineProperty(ae,"FunctionCall",{enumerable:!0,get:function(){return Ut.FunctionCall}});Object.defineProperty(ae,"stringToBytes",{enumerable:!0,get:function(){return Ut.stringToBytes}});Object.defineProperty(ae,"isScryptType",{enumerable:!0,get:function(){return Ut.isScryptType}});Object.defineProperty(ae,"isSubBytes",{enumerable:!0,get:function(){return Ut.isSubBytes}});Object.defineProperty(ae,"toJSON",{enumerable:!0,get:function(){return Ut.toJSON}});Object.defineProperty(ae,"getSortedItem",{enumerable:!0,get:function(){return Ut.getSortedItem}});Object.defineProperty(ae,"flatternArg",{enumerable:!0,get:function(){return Ut.flatternArg}});var Oi=dc();Object.defineProperty(ae,"Int",{enumerable:!0,get:function(){return Oi.Int}});Object.defineProperty(ae,"Bool",{enumerable:!0,get:function(){return Oi.Bool}});Object.defineProperty(ae,"Bytes",{enumerable:!0,get:function(){return Oi.Bytes}});Object.defineProperty(ae,"PrivKey",{enumerable:!0,get:function(){return Oi.PrivKey}});Object.defineProperty(ae,"PubKey",{enumerable:!0,get:function(){return Oi.PubKey}});Object.defineProperty(ae,"Sig",{enumerable:!0,get:function(){return Oi.Sig}});Object.defineProperty(ae,"Ripemd160",{enumerable:!0,get:function(){return Oi.Ripemd160}});Object.defineProperty(ae,"Sha1",{enumerable:!0,get:function(){return Oi.Sha1}});Object.defineProperty(ae,"Sha256",{enumerable:!0,get:function(){return Oi.Sha256}});Object.defineProperty(ae,"SigHashType",{enumerable:!0,get:function(){return Oi.SigHashType}});Object.defineProperty(ae,"SigHashPreimage",{enumerable:!0,get:function(){return Oi.SigHashPreimage}});Object.defineProperty(ae,"OpCodeType",{enumerable:!0,get:function(){return Oi.OpCodeType}});Object.defineProperty(ae,"PubKeyHash",{enumerable:!0,get:function(){return Oi.PubKeyHash}});Object.defineProperty(ae,"HashedMap",{enumerable:!0,get:function(){return Oi.HashedMap}});Object.defineProperty(ae,"HashedSet",{enumerable:!0,get:function(){return Oi.HashedSet}});Object.defineProperty(ae,"ABIEntityType",{enumerable:!0,get:function(){return Oi.ABIEntityType}});Object.defineProperty(ae,"BuildType",{enumerable:!0,get:function(){return Oi.BuildType}});Object.defineProperty(ae,"AbstractContract",{enumerable:!0,get:function(){return Oi.AbstractContract}});Object.defineProperty(ae,"DebugModeTag",{enumerable:!0,get:function(){return Oi.DebugModeTag}});Object.defineProperty(ae,"SymbolType",{enumerable:!0,get:function(){return Oi.SymbolType}});Object.defineProperty(ae,"DEFAULT_FLAGS",{enumerable:!0,get:function(){return Oi.DEFAULT_FLAGS}});Object.defineProperty(ae,"ScryptType",{enumerable:!0,get:function(){return Oi.ScryptType}});Object.defineProperty(ae,"DEFAULT_SIGHASH_TYPE",{enumerable:!0,get:function(){return Oi.DEFAULT_SIGHASH_TYPE}});var bc=dc();Object.defineProperty(ae,"hash160",{enumerable:!0,get:function(){return bc.hash160}});Object.defineProperty(ae,"sha256",{enumerable:!0,get:function(){return bc.sha256}});Object.defineProperty(ae,"hash256",{enumerable:!0,get:function(){return bc.hash256}});Object.defineProperty(ae,"and",{enumerable:!0,get:function(){return bc.and}});Object.defineProperty(ae,"or",{enumerable:!0,get:function(){return bc.or}});Object.defineProperty(ae,"xor",{enumerable:!0,get:function(){return bc.xor}});Object.defineProperty(ae,"invert",{enumerable:!0,get:function(){return bc.invert}});Object.defineProperty(ae,"num2bin",{enumerable:!0,get:function(){return bc.num2bin}});Object.defineProperty(ae,"buildOpreturnScript",{enumerable:!0,get:function(){return bc.buildOpreturnScript}});Object.defineProperty(ae,"len",{enumerable:!0,get:function(){return bc.len}});Object.defineProperty(ae,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return bc.buildPublicKeyHashScript}});Object.defineProperty(ae,"writeVarint",{enumerable:!0,get:function(){return bc.writeVarint}});Object.defineProperty(ae,"toLEUnsigned",{enumerable:!0,get:function(){return bc.toLEUnsigned}});var dfe=dc();Object.defineProperty(ae,"getPlatformScryptc",{enumerable:!0,get:function(){return dfe.getPlatformScryptc}});Object.defineProperty(ae,"findCompiler",{enumerable:!0,get:function(){return dfe.findCompiler}});var hfe=dc();Object.defineProperty(ae,"partialSha256",{enumerable:!0,get:function(){return hfe.partialSha256}});Object.defineProperty(ae,"sha256ByPartialHash",{enumerable:!0,get:function(){return hfe.sha256ByPartialHash}})});var mx=$(U1=>{"use strict";B();k();Object.defineProperty(U1,"__esModule",{value:!0});U1.SortedItemAccessTracer=U1.instanceOfSIATraceable=U1.SortedItemAccess=void 0;var iVe=H5(),sVe=Er(),$1=class{constructor(e,r,n){this.item=e,this.itemHashHex=r,this.idx=n}serialize(){if(this.itemHashHex.length!==$1.ITEM_HASH_SIZE_IN_BYTES*2)throw new Error(`invalid hashed key size ${this.itemHashHex.length}, should be ${$1.ITEM_HASH_SIZE_IN_BYTES*2} in hex`);return iVe.VarIntWriter.writeInt(this.idx)}};U1.SortedItemAccess=$1;$1.ITEM_HASH_SIZE_IN_BYTES=32;function uVe(t){return t&&"startTracing"in t&&"stopTracing"in t&&"serializedAccessPath"in t}U1.instanceOfSIATraceable=uVe;var wH=class{constructor(e,r){this._itemType=e,this._DelegateClazz=r}hash(e){return this._DelegateClazz.flattenSha256(e,this._itemType)}},EH=class{constructor(e){this.hasher=e}findIndex(e,r){let n=this._item2BN(e),i=Array.from(r).map(s=>this._item2BN(s)).sort((s,u)=>s.cmp(u)).findIndex(s=>n.eq(s));return BigInt(i)}_item2BN(e){return sVe.bsv.crypto.BN.fromSM(I.Buffer.from(this.hasher.hash(e),"hex"),{endian:"little"})}},AH=class{constructor(e,r){this._traceEnabled=!1,this._accessPath=[],this._hasher=new wH(e,r),this._sequencer=new EH(this._hasher)}traceAccess(e,r){this._traceEnabled&&this._accessPath.push(new $1(e,this._hasher.hash(e),this._sequencer.findIndex(e,r)))}startTracing(){this._traceEnabled=!0,this._accessPath=[]}stopTracing(){this._traceEnabled=!1}serializedAccessPath(){return(this._accessPath||[]).map(e=>e.serialize()).join("")}};U1.SortedItemAccessTracer=AH});var Kg=$(pi=>{"use strict";B();k();var oVe=pi&&pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});pi.checkTxFee=pi.fromByteString=pi.camelCaseCapitalized=pi.alterFileExt=pi.isInNodeEnv=pi.mapIter=pi.findSigs=pi.findSig=pi.toNumber=pi.getDummySig=void 0;var aVe=oVe(wi()),ud=Er(),cVe=q1();function fVe(){return new Array(72*2).fill(0).join("")}pi.getDummySig=fVe;function lVe(t){return parseInt("0x"+t)}pi.toNumber=lVe;function dVe(t,e,r=ud.DEFAULT_SIGHASH_TYPE){return pfe(t,[{pubKeyOrAddr:e,sigHashType:r}])[0]}pi.findSig=dVe;function pfe(t,e){return e.map(r=>{let n,i;return r instanceof ud.bsv.Address||r instanceof ud.bsv.PublicKey?(n=r,i=ud.DEFAULT_SIGHASH_TYPE):(n=r.pubKeyOrAddr,i=r.sigHashType||ud.DEFAULT_SIGHASH_TYPE),Array.from([n]).flat().map(s=>{let u=t.find(o=>(o.publicKey===s.toString()||ud.bsv.PublicKey.fromString(o.publicKey).toAddress(ud.bsv.Networks.testnet).toString()===s.toString()||ud.bsv.PublicKey.fromString(o.publicKey).toAddress(ud.bsv.Networks.livenet).toString()===s.toString())&&o.sigHashType===i);if(!u){let o=s instanceof ud.bsv.Address?"address":"public key";throw new Error(`cannot find signature for ${o} \`${s.toString()}\` in sigResponses`)}return(0,cVe.Sig)(u.sig)})}).flat()}pi.findSigs=pfe;function*hVe(t,e){for(let r of t)yield e(r)}pi.mapIter=hVe;function pVe(){return typeof process<"u"}pi.isInNodeEnv=pVe;function bVe(t,e,r){let n=r||aVe.default.extname(t),i=new RegExp(`${n}$`);return t.replace(i,"."+e)}pi.alterFileExt=bVe;function gVe(t){return t.substring(0,1).toUpperCase()+t.substring(1)}pi.camelCaseCapitalized=gVe;function mVe(t){return new TextDecoder().decode(I.Buffer.from(t,"hex"))}pi.fromByteString=mVe;function yVe(t,e){let r=t.getUnspentValue(),n=t.getEstimateSize(),i=Math.max(1,Math.ceil(n/1e3*e));return r>=i}pi.checkTxFee=yVe});var IH=$(Vg=>{"use strict";B();k();var vVe=Vg&&Vg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.HashedMap=void 0;var SVe=Er(),zg=vVe(zy()),_Ve=mx(),TH=Kg(),xH=class extends Map{constructor(e){super(e)}set(e,r){let n={originalKey:e,value:r};return Map.prototype.set.call(this,(0,zg.default)(e),n),this._traceAccess(e),this}get(e){let r=Map.prototype.get.call(this,(0,zg.default)(e));return r?.value}has(e){return this._traceAccess(e),Map.prototype.has.call(this,(0,zg.default)(e))}delete(e){return this._traceAccess(e),Map.prototype.delete.call(this,(0,zg.default)(e))}forEach(e,r){Map.prototype.forEach.call(this,(n,i,s)=>{let u=n;e(u.value,u.originalKey,s)},r)}entries(){return(0,TH.mapIter)(Map.prototype.entries.call(this),([e,r])=>[r.originalKey,r.value])}keys(){let e=this;return(0,TH.mapIter)(Map.prototype.keys.call(this),r=>Map.prototype.get.call(e,r).originalKey)}values(){return(0,TH.mapIter)(Map.prototype.values.call(this),e=>e.value)}[Symbol.iterator](){return this.entries()}canGet(e,r){this._traceAccess(e);let n=this.get(e);return typeof n<"u"?(0,zg.default)(n)===(0,zg.default)(r):!1}attachTo(e,r){let[n,i]=(0,SVe.parseGenericType)(e);this._keyType=i[0],this._valueType=i[1],this._DelegateClazz=r,this._type=e,this._tracer=new _Ve.SortedItemAccessTracer(this._keyType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._keyType!==void 0&&this._valueType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.keys())}};Vg.HashedMap=xH});var bfe=$(Gg=>{"use strict";B();k();var wVe=Gg&&Gg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.HashedSet=void 0;var EVe=Er(),AVe=mx(),PH=wVe(zy()),OH=class extends Set{constructor(e){super(e),this._map=new Map}add(e){let r=(0,PH.default)(e);return this._map=this._map||new Map,this._map.has(r)||(Set.prototype.add.call(this,e),this._map.set(r,e)),this._traceAccess(e),this}delete(e){this._traceAccess(e);let r=(0,PH.default)(e),n=this._map.get(r);return this._map.delete(r),Set.prototype.delete.call(this,n)}has(e){this._traceAccess(e);let r=(0,PH.default)(e),n=this._map.get(r);return Set.prototype.has.call(this,n)}attachTo(e,r){let[n,i]=(0,EVe.parseGenericType)(e);this._elemType=i[0],this._DelegateClazz=r,this._type=e,this._tracer=new AVe.SortedItemAccessTracer(this._elemType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._elemType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.values())}};Gg.HashedSet=OH});var q1=$(Qr=>{"use strict";B();k();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.equals=Qr.toByteString=Qr.Sha256=Qr.Sha1=Qr.Addr=Qr.PubKeyHash=Qr.Ripemd160=Qr.Sig=Qr.PubKey=Qr.SigHashType=Qr.OpCodeType=Qr.PrivKey=Qr.SigHashPreimage=Qr.HashedSet=Qr.HashedMap=Qr.instanceOfSIATraceable=void 0;var TVe=Er(),Uf=Er();Object.defineProperty(Qr,"SigHashPreimage",{enumerable:!0,get:function(){return Uf.SigHashPreimage}});Object.defineProperty(Qr,"PrivKey",{enumerable:!0,get:function(){return Uf.PrivKey}});Object.defineProperty(Qr,"OpCodeType",{enumerable:!0,get:function(){return Uf.OpCodeType}});Object.defineProperty(Qr,"SigHashType",{enumerable:!0,get:function(){return Uf.SigHashType}});var xVe=mx();Object.defineProperty(Qr,"instanceOfSIATraceable",{enumerable:!0,get:function(){return xVe.instanceOfSIATraceable}});var IVe=IH();Object.defineProperty(Qr,"HashedMap",{enumerable:!0,get:function(){return IVe.HashedMap}});var PVe=bfe();Object.defineProperty(Qr,"HashedSet",{enumerable:!0,get:function(){return PVe.HashedSet}});function OVe(t){return(0,Uf.PubKey)(t)}Qr.PubKey=OVe;function BVe(t){return(0,Uf.Sig)(t)}Qr.Sig=BVe;function kVe(t){return(0,Uf.Ripemd160)(t)}Qr.Ripemd160=kVe;function CVe(t){return(0,Uf.PubKeyHash)(t)}Qr.PubKeyHash=CVe;function FVe(t){return(0,Uf.PubKeyHash)(t)}Qr.Addr=FVe;function RVe(t){return(0,Uf.Sha1)(t)}Qr.Sha1=RVe;function MVe(t){return(0,Uf.Sha256)(t)}Qr.Sha256=MVe;function NVe(t,e=!1){if(e===!0)return(0,TVe.stringToBytes)(t);if(t.length%2!==0)throw new Error("hex literal length must be even");return t}Qr.toByteString=NVe;function DVe(t,e){if(Array.isArray(t[0])){let r=[];for(let n=0;n<t.length;n++)r.push(yx(t[n],e[n]));for(let n=0;n<r.length;n++)if(!r[n])return!1;return!0}if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!yx(t[r],e[r]))return!1;return!0}function HVe(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;let i=[];for(let s=0;s<r.length;s++)i.push(yx(t[r[s]],e[n[s]]));for(let s=0;s<i.length;s++)if(!i[s])return!1;return!0}function yx(t,e){return Array.isArray(t)&&Array.isArray(e)?DVe(t,e):typeof t=="object"&&typeof e=="object"?HVe(t,e):t===e}Qr.equals=yx});var H5=$(et=>{"use strict";B();k();Object.defineProperty(et,"__esModule",{value:!0});et.Constants=et.Tx=et.VarIntWriter=et.VarIntReader=et.SigHash=et.Utils=et.OpCode=et.asm=et.rshift=et.lshift=et.assert=et.pubKey2Addr=et.hash256=et.hash160=et.sha256=et.sha1=et.ripemd160=et.within=et.max=et.min=et.abs=et.exit=et.reverseByteString=et.len=et.byteString2Int=et.int2ByteString=et.fill=et.slice=et.getSortedItem=et.invert=et.or=et.xor=et.and=void 0;var Ce=Er(),pe=q1(),LVe=Mr(),X8=Er();Object.defineProperty(et,"and",{enumerable:!0,get:function(){return X8.and}});Object.defineProperty(et,"xor",{enumerable:!0,get:function(){return X8.xor}});Object.defineProperty(et,"or",{enumerable:!0,get:function(){return X8.or}});Object.defineProperty(et,"invert",{enumerable:!0,get:function(){return X8.invert}});Object.defineProperty(et,"getSortedItem",{enumerable:!0,get:function(){return X8.getSortedItem}});function UVe(t,e,r){let n=Number(e)*2,i=typeof r=="bigint"?Number(r)*2:t.length;if(n<0||i<0)throw new Error("index should not be negative");if(typeof r=="bigint"&&n>i)throw new Error("start index should be less than or equal to end index");if(n>t.length)throw new Error("start index should not be greater than the length");if(i>t.length)throw new Error("end index should not be greater than the length");return t.slice(n,i)}et.slice=UVe;function $Ve(t,e){return Array(e).fill(0).map(r=>(0,LVe.cloneDeep)(t))}et.fill=$Ve;function I0(t,e){return e===void 0?new Ce.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex"):(0,Ce.num2bin)(t,Number(e))}et.int2ByteString=I0;function Wg(t){return BigInt((0,Ce.bin2num)(t))}et.byteString2Int=Wg;function Wo(t){return BigInt(t.length/2)}et.len=Wo;function BH(t,e){let r=Wo(t);if(r!=e)throw new Error(`reverseByteString error, expected c = ${r}`);return t.match(/[a-fA-F0-9]{2}/g).reverse().join("")}et.reverseByteString=BH;function qVe(t){}et.exit=qVe;function jVe(t){return t<0?-t:t}et.abs=jVe;function KVe(t,e){return t-e<0?t:e}et.min=KVe;function zVe(t,e){return t-e>0?t:e}et.max=zVe;function VVe(t,e,r){return e-t<=0&&t-r<0}et.within=VVe;function GVe(t){return(0,Ce.Ripemd160)(Ce.bsv.crypto.Hash.ripemd160(I.Buffer.from(t,"hex")).toString("hex"))}et.ripemd160=GVe;function WVe(t){return(0,Ce.Sha1)(Ce.bsv.crypto.Hash.sha1(I.Buffer.from(t,"hex")).toString("hex"))}et.sha1=WVe;function kH(t){return(0,Ce.Sha256)(Ce.bsv.crypto.Hash.sha256(I.Buffer.from(t,"hex")).toString("hex"))}et.sha256=kH;function gfe(t){return(0,Ce.Ripemd160)(Ce.bsv.crypto.Hash.sha256ripemd160(I.Buffer.from(t,"hex")).toString("hex"))}et.hash160=gfe;function YVe(t){return kH(kH(t))}et.hash256=YVe;function XVe(t){return gfe(t)}et.pubKey2Addr=XVe;function Z8(t,e){if(!t){let r="Execution failed"+(e?`, ${e}`:"");throw new Error(r)}}et.assert=Z8;function ZVe(t,e){let r=(0,Ce.Int)(1);for(let n=0,i=e;n<i;n++)r*=t;return r}function mfe(t){return ZVe((0,Ce.Int)(2),t)}function JVe(t,e){return Z8(e>=0,"n < 0"),t*mfe(e)}et.lshift=JVe;function QVe(t,e){Z8(e>=0,"n < 0");let r=t/mfe(e);return e==(0,Ce.Int)(0)?t:t%(0,Ce.Int)(2)==(0,Ce.Int)(-1)?r-(0,Ce.Int)(1):t<(0,Ce.Int)(0)&&r==(0,Ce.Int)(0)?(0,Ce.Int)(-1):r}et.rshift=QVe;function eGe(t){throw new Error("unimplemented")}et.asm=eGe;var Ae=class{};et.OpCode=Ae;Ae.OP_0=(0,pe.OpCodeType)("00");Ae.OP_FALSE=(0,pe.OpCodeType)("00");Ae.OP_PUSHDATA1=(0,pe.OpCodeType)("4c");Ae.OP_PUSHDATA2=(0,pe.OpCodeType)("4d");Ae.OP_PUSHDATA4=(0,pe.OpCodeType)("4e");Ae.OP_1NEGATE=(0,pe.OpCodeType)("4f");Ae.OP_RESERVED=(0,pe.OpCodeType)("50");Ae.OP_1=(0,pe.OpCodeType)("51");Ae.OP_TRUE=(0,pe.OpCodeType)("51");Ae.OP_2=(0,pe.OpCodeType)("52");Ae.OP_3=(0,pe.OpCodeType)("53");Ae.OP_4=(0,pe.OpCodeType)("54");Ae.OP_5=(0,pe.OpCodeType)("55");Ae.OP_6=(0,pe.OpCodeType)("56");Ae.OP_7=(0,pe.OpCodeType)("57");Ae.OP_8=(0,pe.OpCodeType)("58");Ae.OP_9=(0,pe.OpCodeType)("59");Ae.OP_10=(0,pe.OpCodeType)("5a");Ae.OP_11=(0,pe.OpCodeType)("5b");Ae.OP_12=(0,pe.OpCodeType)("5c");Ae.OP_13=(0,pe.OpCodeType)("5d");Ae.OP_14=(0,pe.OpCodeType)("5e");Ae.OP_15=(0,pe.OpCodeType)("5f");Ae.OP_16=(0,pe.OpCodeType)("60");Ae.OP_NOP=(0,pe.OpCodeType)("61");Ae.OP_VER=(0,pe.OpCodeType)("62");Ae.OP_IF=(0,pe.OpCodeType)("63");Ae.OP_NOTIF=(0,pe.OpCodeType)("64");Ae.OP_VERIF=(0,pe.OpCodeType)("65");Ae.OP_VERNOTIF=(0,pe.OpCodeType)("66");Ae.OP_ELSE=(0,pe.OpCodeType)("67");Ae.OP_ENDIF=(0,pe.OpCodeType)("68");Ae.OP_VERIFY=(0,pe.OpCodeType)("69");Ae.OP_RETURN=(0,pe.OpCodeType)("6a");Ae.OP_TOALTSTACK=(0,pe.OpCodeType)("6b");Ae.OP_FROMALTSTACK=(0,pe.OpCodeType)("6c");Ae.OP_2DROP=(0,pe.OpCodeType)("6d");Ae.OP_2DUP=(0,pe.OpCodeType)("6e");Ae.OP_3DUP=(0,pe.OpCodeType)("6f");Ae.OP_2OVER=(0,pe.OpCodeType)("70");Ae.OP_2ROT=(0,pe.OpCodeType)("71");Ae.OP_2SWAP=(0,pe.OpCodeType)("72");Ae.OP_IFDUP=(0,pe.OpCodeType)("73");Ae.OP_DEPTH=(0,pe.OpCodeType)("74");Ae.OP_DROP=(0,pe.OpCodeType)("75");Ae.OP_DUP=(0,pe.OpCodeType)("76");Ae.OP_NIP=(0,pe.OpCodeType)("77");Ae.OP_OVER=(0,pe.OpCodeType)("78");Ae.OP_PICK=(0,pe.OpCodeType)("79");Ae.OP_ROLL=(0,pe.OpCodeType)("7a");Ae.OP_ROT=(0,pe.OpCodeType)("7b");Ae.OP_SWAP=(0,pe.OpCodeType)("7c");Ae.OP_TUCK=(0,pe.OpCodeType)("7d");Ae.OP_CAT=(0,pe.OpCodeType)("7e");Ae.OP_SPLIT=(0,pe.OpCodeType)("7f");Ae.OP_NUM2BIN=(0,pe.OpCodeType)("80");Ae.OP_BIN2NUM=(0,pe.OpCodeType)("81");Ae.OP_SIZE=(0,pe.OpCodeType)("82");Ae.OP_INVERT=(0,pe.OpCodeType)("83");Ae.OP_AND=(0,pe.OpCodeType)("84");Ae.OP_OR=(0,pe.OpCodeType)("85");Ae.OP_XOR=(0,pe.OpCodeType)("86");Ae.OP_EQUAL=(0,pe.OpCodeType)("87");Ae.OP_EQUALVERIFY=(0,pe.OpCodeType)("88");Ae.OP_RESERVED1=(0,pe.OpCodeType)("89");Ae.OP_RESERVED2=(0,pe.OpCodeType)("8a");Ae.OP_1ADD=(0,pe.OpCodeType)("8b");Ae.OP_1SUB=(0,pe.OpCodeType)("8c");Ae.OP_2MUL=(0,pe.OpCodeType)("8d");Ae.OP_2DIV=(0,pe.OpCodeType)("8e");Ae.OP_NEGATE=(0,pe.OpCodeType)("8f");Ae.OP_ABS=(0,pe.OpCodeType)("90");Ae.OP_NOT=(0,pe.OpCodeType)("91");Ae.OP_0NOTEQUAL=(0,pe.OpCodeType)("92");Ae.OP_ADD=(0,pe.OpCodeType)("93");Ae.OP_SUB=(0,pe.OpCodeType)("94");Ae.OP_MUL=(0,pe.OpCodeType)("95");Ae.OP_DIV=(0,pe.OpCodeType)("96");Ae.OP_MOD=(0,pe.OpCodeType)("97");Ae.OP_LSHIFT=(0,pe.OpCodeType)("98");Ae.OP_RSHIFT=(0,pe.OpCodeType)("99");Ae.OP_BOOLAND=(0,pe.OpCodeType)("9a");Ae.OP_BOOLOR=(0,pe.OpCodeType)("9b");Ae.OP_NUMEQUAL=(0,pe.OpCodeType)("9c");Ae.OP_NUMEQUALVERIFY=(0,pe.OpCodeType)("9d");Ae.OP_NUMNOTEQUAL=(0,pe.OpCodeType)("9e");Ae.OP_LESSTHAN=(0,pe.OpCodeType)("9f");Ae.OP_GREATERTHAN=(0,pe.OpCodeType)("a0");Ae.OP_LESSTHANOREQUAL=(0,pe.OpCodeType)("a1");Ae.OP_GREATERTHANOREQUAL=(0,pe.OpCodeType)("a2");Ae.OP_MIN=(0,pe.OpCodeType)("a3");Ae.OP_MAX=(0,pe.OpCodeType)("a4");Ae.OP_WITHIN=(0,pe.OpCodeType)("a5");Ae.OP_RIPEMD160=(0,pe.OpCodeType)("a6");Ae.OP_SHA1=(0,pe.OpCodeType)("a7");Ae.OP_SHA256=(0,pe.OpCodeType)("a8");Ae.OP_HASH160=(0,pe.OpCodeType)("a9");Ae.OP_HASH256=(0,pe.OpCodeType)("aa");Ae.OP_CODESEPARATOR=(0,pe.OpCodeType)("ab");Ae.OP_CHECKSIG=(0,pe.OpCodeType)("ac");Ae.OP_CHECKSIGVERIFY=(0,pe.OpCodeType)("ad");Ae.OP_CHECKMULTISIG=(0,pe.OpCodeType)("ae");Ae.OP_CHECKMULTISIGVERIFY=(0,pe.OpCodeType)("af");Ae.OP_NOP1=(0,pe.OpCodeType)("b0");Ae.OP_NOP2=(0,pe.OpCodeType)("b1");Ae.OP_NOP3=(0,pe.OpCodeType)("b2");Ae.OP_NOP4=(0,pe.OpCodeType)("b3");Ae.OP_NOP5=(0,pe.OpCodeType)("b4");Ae.OP_NOP6=(0,pe.OpCodeType)("b5");Ae.OP_NOP7=(0,pe.OpCodeType)("b6");Ae.OP_NOP8=(0,pe.OpCodeType)("b7");Ae.OP_NOP9=(0,pe.OpCodeType)("b8");Ae.OP_NOP10=(0,pe.OpCodeType)("b9");Ae.OP_PUBKEYHASH=(0,pe.OpCodeType)("fd");Ae.OP_PUBKEY=(0,pe.OpCodeType)("fe");Ae.OP_INVALIDOPCODE=(0,pe.OpCodeType)("ff");var ln=class{static toLEUnsigned(e,r){let n=I0(e,r+(0,Ce.Int)(1));return n.slice(0,Number(Wo(n))*2-2)}static fromLEUnsigned(e){return Wg(e+(0,pe.toByteString)("00"))}static readVarint(e){let r=(0,Ce.Int)(0),n=(0,pe.toByteString)(""),i=e.slice(0,2);return i==(0,pe.toByteString)("fd")?(r=ln.fromLEUnsigned(e.slice(2,6)),n=e.slice(6,6+Number(r*(0,Ce.Int)(2)))):i==(0,pe.toByteString)("fe")?(r=ln.fromLEUnsigned(e.slice(2,10)),n=e.slice(10,10+Number(r*(0,Ce.Int)(2)))):i==(0,pe.toByteString)("ff")?(r=ln.fromLEUnsigned(e.slice(2,18)),n=e.slice(18,18+Number(r*(0,Ce.Int)(2)))):(r=ln.fromLEUnsigned(e.slice(0,2)),n=e.slice(2,2+Number(r*(0,Ce.Int)(2)))),n}static writeVarint(e){let r=Wo(e),n=(0,pe.toByteString)("");return r<253?n=ln.toLEUnsigned((0,Ce.Int)(r),(0,Ce.Int)(1)):r<65536?n=(0,pe.toByteString)("fd")+ln.toLEUnsigned((0,Ce.Int)(r),(0,Ce.Int)(2)):r<4294967296?n=(0,pe.toByteString)("fe")+ln.toLEUnsigned((0,Ce.Int)(r),(0,Ce.Int)(4)):r<18446744073709552e3&&(n=(0,pe.toByteString)("ff")+ln.toLEUnsigned((0,Ce.Int)(r),(0,Ce.Int)(8))),n+e}static buildOutput(e,r){return I0(r,$f.OutputValueLen)+ln.writeVarint(e)}static buildPublicKeyHashScript(e){return(0,pe.toByteString)(Ae.OP_DUP)+(0,pe.toByteString)(Ae.OP_HASH160)+I0($f.PubKeyHashLen)+e+(0,pe.toByteString)(Ae.OP_EQUALVERIFY)+(0,pe.toByteString)(Ae.OP_CHECKSIG)}static buildPublicKeyHashOutput(e,r){return ln.buildOutput(ln.buildPublicKeyHashScript(e),r)}static buildAddressScript(e){return ln.buildPublicKeyHashScript(e)}static buildAddressOutput(e,r){return ln.buildPublicKeyHashOutput(e,r)}static buildOpreturnScript(e){return(0,pe.toByteString)(Ae.OP_FALSE)+(0,pe.toByteString)(Ae.OP_RETURN)+ln.writeVarint(e)}};et.Utils=ln;ln.OutputValueLen=(0,Ce.Int)(8);ln.PubKeyHashLen=(0,Ce.Int)(20);var Ba=class{static nVersion(e){return(0,pe.toByteString)(e).slice(0,8)}static hashPrevouts(e){return(0,pe.toByteString)(e).slice(8,72)}static hashSequence(e){return(0,pe.toByteString)(e).slice(36*2,68*2)}static outpoint(e){return(0,pe.toByteString)(e).slice(68*2,104*2)}static scriptCode(e){return ln.readVarint((0,pe.toByteString)(e).slice(104*2))}static valueRaw(e){let r=Number(Wo((0,pe.toByteString)(e)));return(0,pe.toByteString)(e).slice(r*2-104,r*2-88)}static value(e){return ln.fromLEUnsigned(Ba.valueRaw(e))}static nSequenceRaw(e){let r=Number(Wo((0,pe.toByteString)(e)));return(0,pe.toByteString)(e).slice(r*2-88,r*2-80)}static nSequence(e){return ln.fromLEUnsigned(Ba.nSequenceRaw(e))}static hashOutputs(e){let r=Number(Wo((0,pe.toByteString)(e)));return(0,pe.toByteString)(e).slice(r*2-80,r*2-16)}static nLocktimeRaw(e){let r=Number(Wo((0,pe.toByteString)(e)));return(0,pe.toByteString)(e).slice(r*2-16,r*2-8)}static nLocktime(e){return ln.fromLEUnsigned(Ba.nLocktimeRaw(e))}static sigHashType(e){let r=Number(Wo((0,pe.toByteString)(e))),n=ln.fromLEUnsigned((0,pe.toByteString)(e).slice(r*2-8,r*2-6));return(0,Ce.SigHashType)(Number(n))}};et.SigHash=Ba;Ba.ALL=(0,Ce.SigHashType)(65);Ba.NONE=(0,Ce.SigHashType)(66);Ba.SINGLE=(0,Ce.SigHashType)(67);Ba.ANYONECANPAY_ALL=(0,Ce.SigHashType)(193);Ba.ANYONECANPAY_NONE=(0,Ce.SigHashType)(194);Ba.ANYONECANPAY_SINGLE=(0,Ce.SigHashType)(195);var Vu=class{constructor(e){this.buf=e,this.pos=(0,Ce.Int)(0)}eof(){return this.pos>=Wo(this.buf)}readBytes(){let e=(0,Ce.Int)(0),r=this.buf,n=(0,pe.toByteString)(""),i=Wg(r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+(0,Ce.Int)(1))*(0,Ce.Int)(2))));return this.pos++,i<(0,Ce.Int)(76)?(e=i,n=r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+e)*(0,Ce.Int)(2)))):i==(0,Ce.Int)(76)?(e=ln.fromLEUnsigned(r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+(0,Ce.Int)(1))*(0,Ce.Int)(2)))),this.pos+=(0,Ce.Int)(1),n=r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+e)*(0,Ce.Int)(2)))):i==(0,Ce.Int)(77)?(e=ln.fromLEUnsigned(r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+(0,Ce.Int)(2))*(0,Ce.Int)(2)))),this.pos+=(0,Ce.Int)(2),n=r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+e)*(0,Ce.Int)(2)))):i==(0,Ce.Int)(78)?(e=ln.fromLEUnsigned(r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+(0,Ce.Int)(4))*(0,Ce.Int)(2)))),this.pos+=(0,Ce.Int)(4),n=r.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+e)*(0,Ce.Int)(2)))):Z8(!1),this.pos+=e,n}readBool(){let e=this.buf.slice(Number(this.pos*(0,Ce.Int)(2)),Number((this.pos+(0,Ce.Int)(1))*(0,Ce.Int)(2)));return this.pos++,(0,pe.toByteString)("00")!=e}readInt(){return Wg(this.readBytes())}static getStateStart(e){let r=BigInt(Wo(e)),n=r-Vu.StateLen-Vu.VersionLen,i=r-Vu.VersionLen,s=e.slice(Number(n*(0,Ce.Int)(2)),Number(i*(0,Ce.Int)(2))),u=Wg(s);return r-u-Vu.StateLen-Vu.VersionLen}};et.VarIntReader=Vu;Vu.StateLen=(0,Ce.Int)(4);Vu.VersionLen=(0,Ce.Int)(1);Vu.Version=(0,Ce.Int)(0);var Y8=class{static writeBytes(e){let r=BigInt(Wo(e)),n=(0,pe.toByteString)("");return r<76?n=ln.toLEUnsigned(r,(0,Ce.Int)(1)):r<256?n=(0,pe.toByteString)("4c")+ln.toLEUnsigned(r,(0,Ce.Int)(1)):r<65536?n=(0,pe.toByteString)("4d")+ln.toLEUnsigned(r,(0,Ce.Int)(2)):r<4294967296?n=(0,pe.toByteString)("4e")+ln.toLEUnsigned(r,(0,Ce.Int)(4)):Z8(!1),n+e}static writeBool(e){return e?(0,pe.toByteString)("01"):(0,pe.toByteString)("00")}static writeInt(e){return Y8.writeBytes(e==(0,Ce.Int)(0)?(0,pe.toByteString)("00"):I0(e))}static serializeState(e){let r=I0(BigInt(Wo(e)),Vu.StateLen);return e+r+I0(Vu.Version,Vu.VersionLen)}};et.VarIntWriter=Y8;var od=class{static normalize(e,r){let n=e%r;return n<0?n+r:n}static sign(e,r,n,i,s,u){let o=n*(e+i*r),a=(0,Ce.Int)("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");o=od.normalize(o,a),o>a/(0,Ce.Int)(2)&&(o=a-o);let l=BigInt(Wo(s)),f=Number(Wo(I0(o))),c=BH(I0(o,BigInt(32)),BigInt(32)).slice(32*2-f*2),h=(0,Ce.Int)(4)+l+BigInt(f),d=(0,pe.toByteString)("30")+I0(h)+(0,pe.toByteString)("02")+I0(l)+s+(0,pe.toByteString)("02")+I0(BigInt(f))+c+(0,pe.toByteString)(u);return(0,pe.Sig)(d)}static fromBEUnsigned(e){return Wg(BH(e,BigInt(32))+(0,pe.toByteString)("00"))}static checkPreimageOpt(e){throw new Error("unimplemented")}static checkPreimageOpt_(e){throw new Error("unimplemented")}static checkPreimageAdvancedOCS(e,r,n,i,s,u,o){throw new Error("unimplemented")}static checkPreimageOCS(e){throw new Error("unimplemented")}static checkPreimageSigHashTypeOCS(e,r){throw new Error("unimplemented")}static checkPreimageOptOCS(e){throw new Error("unimplemented")}static checkPreimageOptOCS_(e){throw new Error("unimplemented")}static isFirstCall(e){let r=Ba.scriptCode(e),n=Vu.getStateStart(r);return new Vu(r.slice(Number(n)*2)).readBool()}};et.Tx=od;od.privKey=(0,pe.PrivKey)((0,Ce.Int)("0x26f00fe2340a84335ebdf30f57e9bb58487117b29355718f5e46bf5168d7df97"));od.pubKey=(0,pe.PubKey)("02ba79df5f8ae7604a9830f03c7933028186aede0675a16f025dc4f8be8eec0382");od.invK=(0,Ce.Int)("0xc8ffdbaa05d93aa4ede79ec58f06a72562048b775a3507c2bf44bde4f007c40a");od.r=(0,Ce.Int)("0x1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");od.rBigEndian=(0,pe.toByteString)("1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");var $f=class{};et.Constants=$f;$f.InputSeqLen=(0,Ce.Int)(4);$f.OutputValueLen=(0,Ce.Int)(8);$f.PubKeyLen=(0,Ce.Int)(33);$f.PubKeyHashLen=(0,Ce.Int)(20);$f.TxIdLen=(0,Ce.Int)(32);$f.OutpointLen=(0,Ce.Int)(36)});var vfe=$(ka=>{"use strict";B();k();var tGe=ka&&ka.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rGe=ka&&ka.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yfe=ka&&ka.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tGe(e,t,r);return rGe(e,t),e};Object.defineProperty(ka,"__esModule",{value:!0});ka.IndexerReader=ka.INDEX_FILE_NAME=void 0;var j1=yfe(wi()),vx=yfe(Ju());ka.INDEX_FILE_NAME="scrypt.index.json";var CH=class{constructor(e){this.symbolPaths=new Map,this.filePath=e,this.load()}load(){if(!vx.existsSync(this.filePath))throw new Error(`index file not exist: ${this.filePath}`);let e=JSON.parse(vx.readFileSync(this.filePath).toString());if(!e.scryptBase)throw new Error(`missing \`scryptBase\` in index file ${this.filePath}`);if(this.scryptBasePath=e.scryptBase,!e.bindings)throw new Error(`missing \`bindings\` in index file ${this.filePath}`);e.bindings.forEach(r=>{r.symbol&&r.path&&this.symbolPaths.set(r.symbol,r.path)})}getRelativePath(e){return this.symbolPaths.get(e)}getFullPath(e){let r=this.getRelativePath(e);if(!!r)return j1.join(j1.dirname(this.filePath),this.scryptBasePath,r)}static queryIndexFile(e,r){let n=e;r=r===void 0?process.cwd():r;let i=(u,o)=>j1.resolve(u).toLowerCase()==j1.resolve(o).toLowerCase();for(;;){let u=j1.join(n,ka.INDEX_FILE_NAME);if(vx.existsSync(u))return u;let o=j1.join(n,"..");if(i(n,r)||i(n,o))break;n=o}let s=j1.join(r,ka.INDEX_FILE_NAME);if(vx.existsSync(s))return s}query(e,r=!1){let n=this.symbolPaths.get(e);return n&&r?j1.join(this.scryptBasePath,n):n}};ka.IndexerReader=CH});var P0=$(Ca=>{"use strict";B();k();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.filterUTXO=Ca.parseSignatureOption=Ca.parseAddresses=Ca.utxoFromOutput=Ca.getRandomAddress=Ca.getDummyP2pkhUTXOs=void 0;var ad=Er(),nGe=Ua();function iGe(t=1){return new Array(t).fill(0).map(e=>({txId:(0,nGe.randomBytes)(32).toString("hex"),outputIndex:0,script:ad.bsv.Script.buildPublicKeyHashOut(Sfe()).toHex(),satoshis:1}))}Ca.getDummyP2pkhUTXOs=iGe;function Sfe(t=ad.bsv.Networks.testnet){return ad.bsv.Address.fromPrivateKey(ad.bsv.PrivateKey.fromRandom(t.name),t)}Ca.getRandomAddress=Sfe;function sGe(t,e){let r=t.outputs[e];if(!r)throw new Error(`outputIndex ${e} does not exist on tx ${t.id}`);return{txId:t.id,outputIndex:e,script:r.script.toHex(),satoshis:r.satoshis}}Ca.utxoFromOutput=sGe;function _fe(t,e){return Array.from([t]).flat().map(r=>r instanceof ad.bsv.Address?r:r.toAddress(e))}Ca.parseAddresses=_fe;function uGe(t,e){return Array.from([t]).flat().map(r=>r instanceof ad.bsv.Address?{address:r,sigHashType:ad.DEFAULT_SIGHASH_TYPE}:r instanceof ad.bsv.PublicKey?{address:r.toAddress(e),sigHashType:ad.DEFAULT_SIGHASH_TYPE}:_fe(r.pubKeyOrAddr,e).map(n=>({address:n,sigHashType:r.sigHashType||ad.DEFAULT_SIGHASH_TYPE,csIdx:r.csIdx,data:r.data}))).flat()}Ca.parseSignatureOption=uGe;function oGe(t,e){let r=e.unspentValue,n=e.estimateSize,i=e.feePerKb,s=e.additional||0;function u(l){let f=0,c=-1;for(let h=0;h<l.length;h++){let d=h+1;if(f+=l[h].satoshis,i<=(r+f)/(n+(180+s)*d)*1e3){c=h;break}}return c>=0?l.slice(0,c+1):[]}let o=t.sort((l,f)=>l.satoshis-f.satoshis),a=u(o);if(a.length===0&&(a=u(o.reverse()),a.length===0))throw new Error("no sufficient utxos");return a}Ca.filterUTXO=oGe});var _x=$(Sx=>{"use strict";B();k();Object.defineProperty(Sx,"__esModule",{value:!0});Sx.SmartContractLib=void 0;Yy();var Yg=class{constructor(...e){this.args=[],this.args=e}getArgs(){return(this.args||[]).map(e=>e instanceof Yg?e.getArgs():e)}getState(){return Object.keys(this).reduce((e,r)=>typeof this[r]=="bigint"||typeof this[r]=="boolean"||typeof this[r]=="string"?Object.assign(e,{[r]:this[r]}):this[r]instanceof Yg?Object.assign(e,{[r]:this[r].getState()}):e,{})}};Sx.SmartContractLib=Yg});var Afe=$(O0=>{"use strict";B();k();var wfe=O0&&O0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(O0,"__esModule",{value:!0});O0.mergeNexts=O0.diffOutputs=O0.getExpectedOutputs=O0.getTransationOutputs=void 0;var Zg=wfe(Ok()),cd=Er(),Efe=Er(),aGe=wfe(yH()),K1;(function(t){t.black="\x1B[30m",t.red="\x1B[31m",t.green="\x1B[32m",t.reset="\x1B[0m"})(K1||(K1={}));var FH=class{red(e){return K1.red+e+K1.reset}grey(e){return K1.black+e+K1.reset}green(e){return K1.green+e+K1.reset}},Ir=typeof window>"u"?aGe.default:new FH;function cGe(t,e){let r=Math.max(t.length,e.length),n=Math.abs(t.length-e.length),i=e.startsWith(t)||t.startsWith(e);return n/r>.5&&r>3e3&&!i}function fGe(t,e){let r=cGe(t,e),n=cd.bsv.Script.fromHex(t).toASM(),i=cd.bsv.Script.fromHex(e).toASM();if(r){let s=n.split(" "),u=i.split(" "),o=Math.min(s.length,u.length),a=Math.min(o,1e3);n=s.slice(0,a).join(" "),s.length>a&&(n+=" ..."),i=u.slice(0,a).join(" "),u.length>a&&(i+=" ...")}return[n,i]}function wx(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r,4)}function lGe(t,e,r){if(Efe.AbstractContract.isStateful(t)){let n=t.codePart.toHex(),i=r.map((a,l)=>a.script.startsWith(n)?l:-1).filter(a=>a>-1),s=e.map((a,l)=>a.script.startsWith(n)?l:-1).filter(a=>a>-1),u=i.map((a,l)=>a===s[l]?a:-1).filter(a=>a>-1),o=(a,l)=>{var f;if(u.includes(l)){let c=t.ContractClass,h=(f=t.getPrependNOPScript())===null||f===void 0?void 0:f.toHex(),p=(h&&a.script.startsWith(h)?c.fromHex(a.script.slice(h.length)).statePropsArgs:c.fromHex(a.script).statePropsArgs).reduce((m,w)=>Object.assign(Object.assign({},m),{[w.name]:w.value}),{});return{script:a.script,satoshis:a.satoshis,states:p}}else return{script:a.script,satoshis:a.satoshis}};return[e.map(o),r.map(o)]}return[e,r]}function dGe(t,e){let r="",n=0;for(r+=Ir.grey("["),t.forEach(i=>{typeof i.states<"u"&&(n>0&&(r+=Ir.grey(", ")),typeof e[n]>"u"?r+=Ir.red(wx(i.states)):(0,Zg.default)(wx(e[n].states),wx(i.states)).forEach(s=>{s[0]===Zg.default.INSERT?r+=Ir.red(s[1]):s[0]===Zg.default.DELETE?r+=Ir.green(s[1]):r+=Ir.grey(s[1])})),n++});n<e.length;n++){let i=e[n];typeof i.states<"u"&&(r+=Ir.green(wx(i.states)))}return r+=Ir.grey("]"),r}function Xg(t){let e=t.split(" ");return e.length>10?e.slice(0,5).concat(["..."]).concat(e.slice(e.length-5)).join(" "):t}function hGe(t,e,r){return(r&31)!=cd.bsv.crypto.Signature.SIGHASH_SINGLE&&(r&31)!=cd.bsv.crypto.Signature.SIGHASH_NONE?t.outputs.map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):(r&31)==cd.bsv.crypto.Signature.SIGHASH_SINGLE&&e<t.outputs.length?t.outputs.filter((n,i)=>i===e).map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):[]}O0.getTransationOutputs=hGe;function pGe(t){let e=new cd.bsv.encoding.BufferReader(I.Buffer.from(t,"hex")),r=[];try{for(;!e.eof();){let n=cd.bsv.Transaction.Output.fromBufferReader(e);r.push(n)}}catch{throw new Error("Invalid argument: `outputs`")}return r.map(n=>({script:n.script.toHex(),satoshis:n.satoshis}))}O0.getExpectedOutputs=pGe;function bGe(t,e,r){let n=`1. Outputs in the ${Ir.green("Transaction")} is marked green.
2. Outputs expected by the \`${Ir.red(t.contractName)}\` contract is marked red.
3. Identical parts are marked in gray.

`,[i,s]=lGe(t,e,r),u="",o=0;for(u+=Ir.grey("["),i.forEach(a=>{if(o>0&&(u+=Ir.grey(", ")),typeof s[o]>"u")u+=Ir.red(`{
`),u+=Ir.red("    satoshi:"+a.satoshis),u+=Ir.red(`,
`),u+=Ir.red("    script:"),u+=Ir.red(Xg(cd.bsv.Script.fromHex(a.script).toASM())),u+=Ir.red(`
`),u+=Ir.red("}");else{if(u+=Ir.grey(`{
`),u+=Ir.grey("    satoshi:"),a.satoshis===s[o].satoshis?u+=Ir.grey(a.satoshis+""):(u+=Ir.red(a.satoshis+""),u+=Ir.green(s[o].satoshis+"")),u+=Ir.grey(`,
`),u+=Ir.grey("    script:"),a.script===s[o].script)u+=Ir.grey(Xg(cd.bsv.Script.fromHex(a.script).toASM()));else{let[l,f]=fGe(s[o].script,a.script);(0,Zg.default)(l,f).forEach(c=>{c[0]===Zg.default.INSERT?u+=Ir.red(Xg(c[1])):c[0]===Zg.default.DELETE?u+=Ir.green(Xg(c[1])):u+=Ir.grey(Xg(c[1]))})}u+=Ir.grey(`
}`)}o++});o<s.length;o++){let a=s[o];u+=Ir.grey(","),u+=Ir.green(`{
`),u+=Ir.green("    satoshi:"+a.satoshis),u+=Ir.green(`,
`),u+=Ir.green("    script:"),u+=Ir.green(Xg(cd.bsv.Script.fromHex(a.script).toASM())),u+=Ir.green(`
`),u+=Ir.green("}")}return u+=Ir.grey("]"),n=n+`Outputs: ${u}`,Efe.AbstractContract.isStateful(t)&&(n=n+`

States: ${dGe(i,s)}`),n}O0.diffOutputs=bGe;function gGe(t){let e=new Map;return t.forEach(r=>{(r.nexts||[]).forEach(n=>{if(!e.has(n.atOutputIndex))e.set(n.atOutputIndex,n);else if(e.get(n.atOutputIndex).instance!==n.instance)throw new Error(`The ${n.atOutputIndex}-th output of the transaction is repeatedly bound to the contract instance`)})}),Array.from(e.values()).sort((r,n)=>r.atOutputIndex-n.atOutputIndex)}O0.mergeNexts=gGe});var Tfe=$(Ex=>{"use strict";B();k();Object.defineProperty(Ex,"__esModule",{value:!0});Ex.throwUnInitializing=void 0;function mGe(t){throw new Error(`'${t}.compile' or '${t}.loadArtifact' should be called before initializing any instance!`)}Ex.throwUnInitializing=mGe});var Q8=$(B0=>{"use strict";B();k();var yGe=B0&&B0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vGe=B0&&B0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SGe=B0&&B0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yGe(e,t,r);return vGe(e,t),e},Fa=B0&&B0.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(B0,"__esModule",{value:!0});B0.SmartContract=void 0;var fd=SGe(Ju()),_Ge=e7(),Jg=wi();Yy();var st=Er(),xfe=vfe(),wGe=Mr(),sn=H5(),bi=q1(),EGe=Ua(),Ife=P0(),J8=Kg(),RH=Qg(),Pfe=_x(),Ax=Afe(),Vh=Kg(),Tx=Tfe(),z1=class{static compileImpl(e){return Fa(this,void 0,void 0,function*(){let r=fd.mkdtempSync((0,Jg.join)((0,_Ge.tmpdir)(),"scrypt-ts-")),n=yield(0,st.compileContractAsync)(e,{sourceMap:!0,artifact:!0,out:r});if(n.errors.length>0)throw new Error(`Compilation failed for class \`${this.name}\`. Check the output details at project building time!`);{let i=(0,Jg.basename)(e).replace(".scrypt",".json"),s=fd.readdirSync(r).filter(u=>u==i)[0];s&&fd.copyFileSync((0,Jg.join)(r,s),(0,Jg.join)((0,Jg.dirname)(e),s))}return n})}static compile(){return Fa(this,void 0,void 0,function*(){let e=yield this.getTranspileErrors();if(Array.isArray(e)&&e[0])throw e[0];let r=this._loadCachedArtifact();if(r)this.DelegateClazz=(0,st.buildContractClass)(r);else{let n=this._getScryptFilePath(),i=yield this.compileImpl(n);this.DelegateClazz=(0,st.buildContractClass)(i),r=i.toArtifact()}return r})}static getTranspileErrors(){return Fa(this,void 0,void 0,function*(){if(!(0,Vh.isInNodeEnv)())throw new Error("the 'getTranspileErrors()' method should only be called in Node.js environment!");let e=this._getTransformationResult();return e.success?[]:e.errors})}static loadArtifact(e=void 0){let r;if(typeof e>"u"?r=this._loadCachedArtifact():typeof e=="string"?r=this._loadArtifact(e):r=e,r===void 0)throw new Error(`Cannot find the artifact file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);this.DelegateClazz=(0,st.buildContractClass)(r)}static getArtifact(){if(!this.DelegateClazz)throw new Error("No artifact found, Please compile the contract first.");return this.DelegateClazz.artifact}static _getTransformationResult(){let e=this._getScryptFilePath(),r=(0,J8.alterFileExt)(e,"transformer.json");return JSON.parse(fd.readFileSync(r).toString())}static _getScryptFilePath(){let e=Reflect.getMetadata("scrypt:filepath",this);if(e)return e;let r=(0,Jg.join)(".",xfe.INDEX_FILE_NAME);if(!fd.existsSync(r))throw new Error("Cannot find `scrypt.index.json` file, run `npx scrypt-cli@latest compile` to generate it.");let i=new xfe.IndexerReader(r).getFullPath(this.name);if(!fd.existsSync(i))throw new Error(`Cannot find the bundled scrypt file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);return Reflect.defineMetadata("scrypt:filepath",i,this),i}static _loadCachedArtifact(){let e=this._getScryptFilePath(),r=(0,J8.alterFileExt)(e,"json");return this._loadArtifact(r)}static _loadArtifact(e){if(!!fd.existsSync(e))return JSON.parse(fd.readFileSync(e,"utf8").toString())}getDelegateClazz(){var e;return(e=Object.getOwnPropertyDescriptor(this.constructor,"DelegateClazz"))===null||e===void 0?void 0:e.value}static getDelegateClazz(){return this.DelegateClazz}getDelegateInstance(){return this.delegateInstance}setDelegateInstance(e){this.delegateInstance=e}constructor(...e){if(this.enableUpdateEMC=!1,this._txBuilders=new Map,Object.getPrototypeOf(this.constructor).name==="SmartContract")this._initDelegateInstance(...e);else try{this._initDelegateInstance(...e)}catch{}}_initDelegateInstance(...e){let r=this.getDelegateClazz();r||(0,Tx.throwUnInitializing)(this.constructor.name);let n=e.map((i,s)=>{if(i instanceof Pfe.SmartContractLib)return i.getArgs();if(i instanceof bi.HashedMap||i instanceof bi.HashedSet){let o=r.abi.find(a=>a.type===st.ABIEntityType.CONSTRUCTOR).params[s].type;return i.attachTo(o,r),i}return i});this.delegateInstance=new r(...n),this.delegateInstance.isGenesis=!1}init(...e){this._initDelegateInstance(...e)}verify(e){if(this._csNum=0,!(0,Vh.isInNodeEnv)()){console.error("the 'verify' method should only be called in Node.js environment!");return}let r=Object.getPrototypeOf(this).constructor._getScryptFilePath(),n=r.replace(/\.scrypt$/,".scrypt.map");if(!fd.existsSync(n))throw new Error(`cannot find the bundled sourcemap file for \`${typeof this}\` at ${n}`);let i=JSON.parse(fd.readFileSync(n).toString()),s={};if(this.to){s.tx=this.to.tx;let u=this.to.inputIndex;s.inputIndex=u,s.inputSatoshis=this.to.tx.inputs[u].output.satoshis}try{let u=(a=>{let l=a.verify(s);if(!l.success&&l.error){let f=/\[(.+?)\]\((.+?)#(\d+)\)/.exec(l.error);l.error.substring(0,f.index);let c=parseInt(f[3]),h=i[c-1][0][2]+1;l.error=`[Go to Source](file://${r}:${h})`}return l}).bind(this),o=this.buildEntryMethodCall(e);return o instanceof Promise?o.then(a=>u(a)):u(o)}catch(u){throw u}}getUnlockingScript(e){try{let r=this.clone().buildEntryMethodCall(e);return r instanceof Promise?r.then(n=>n.unlockingScript):r.unlockingScript}catch(r){throw r}}syncStateProps(){this.delegateInstance.isGenesis||(Reflect.getMetadata("scrypt:stateProps",this)||[]).forEach(r=>{this[r]instanceof Pfe.SmartContractLib?this.delegateInstance[r]=this[r].getState():this[r]instanceof bi.HashedMap?this.delegateInstance[r]=this[r]:this[r]instanceof bi.HashedSet?this.delegateInstance[r]=this[r]:this.delegateInstance[r]=this[r]})}get lockingScript(){return this.syncStateProps(),this.delegateInstance.lockingScript}get scriptSize(){return this.lockingScript.toBuffer().length}get codePart(){return this.delegateInstance.codePart.toHex()}get scriptHash(){return(0,st.sha256)(this.lockingScript.toHex()).match(/.{2}/g).reverse().join("")}setAsmVars(e){this.delegateInstance.replaceAsmVars(e)}get asmArgs(){return this.delegateInstance.asmArgs}clone(e){this.syncStateProps();let r=["from","to","_signer","_provider"].concat(e?.refCloneProps||[]),n=r.map(s=>this[s]);r.forEach(s=>this[s]=void 0);let i=(0,wGe.cloneDeep)(this);return r.forEach((s,u)=>i[s]=n[u]),r.forEach((s,u)=>this[s]=n[u]),i}next(e){let r=this.clone(e);return r.from=void 0,r.to=void 0,r.delegateInstance.isGenesis=!1,r.prependNOPScript(null),r}markAsGenesis(){return this.delegateInstance.isGenesis=!0,this}buildStateOutput(e){let r=this.getStateScript();return sn.Utils.buildOutput(r,e)}buildChangeOutput(){if(this.changeAmount>BigInt(0)){let e=sn.Utils.buildPublicKeyHashScript(this.changeAddress);return sn.Utils.buildOutput(e,this.changeAmount)}return(0,bi.toByteString)("")}getStateScript(){let e=sn.VarIntWriter.writeBool(!1);return this.delegateInstance.stateProps.forEach(r=>{let n=this[r.name];(n instanceof bi.HashedMap||n instanceof bi.HashedSet)&&(n={_data:n.data()}),(0,st.flatternArg)(Object.assign({},r,{value:n}),this.delegateInstance.resolver,{state:!0,ignoreValue:!1}).forEach(i=>{["bytes","PubKey","Ripemd160","Sig","Sha1","SigHashPreimage","Sha256","SigHashType","OpCodeType"].includes(i.type)?e+=sn.VarIntWriter.writeBytes(i.value):i.type==="int"||i.type==="PrivKey"?e+=sn.VarIntWriter.writeInt(i.value):i.type==="bool"&&(e+=sn.VarIntWriter.writeBool(i.value))})}),this.codePart+sn.VarIntWriter.serializeState(e)}checkSig(e,r,n="signature check failed"){if(!this.checkSignatureEncoding(e)||!this.checkPubkeyEncoding(r))return!1;let i=!1;this._assertToExist();let s=I.Buffer.from(e,"hex"),u=I.Buffer.from((0,bi.toByteString)(r),"hex");try{let o=st.bsv.crypto.Signature.fromTxFormat(s),a=st.bsv.PublicKey.fromBuffer(u,!1),l=this.to.tx,f=this.to.inputIndex||0,c=this.to.tx.inputs[f].output.satoshis,h=this.lockingScript.subScript(this._csNum-1);i=l.verifySignature(o,a,f,h,st.bsv.crypto.BN.fromNumber(c),st.DEFAULT_FLAGS)}catch{i=!1}if(!i&&s.length)throw new Error(n);return i}checkPreimageAdvanced(e,r,n,i,s,u,o){let a=(0,sn.hash256)((0,bi.toByteString)(e)),l=sn.Tx.sign(sn.Tx.fromBEUnsigned(a),r,i,s,u,o);return this.checkSig(l,n)}checkPreimageSigHashType(e,r){return this.checkPreimageAdvanced(e,sn.Tx.privKey,sn.Tx.pubKey,sn.Tx.invK,sn.Tx.r,sn.Tx.rBigEndian,r)}checkPreimage(e){return this.checkPreimageAdvanced(e,sn.Tx.privKey,sn.Tx.pubKey,sn.Tx.invK,sn.Tx.r,sn.Tx.rBigEndian,sn.SigHash.ALL)}insertCodeSeparator(){this._csNum++}checkMultiSig(e,r){for(let o=0;o<e.length;o++)if(!this.checkSignatureEncoding(e[o]))return!1;for(let o=0;o<r.length;o++)if(!this.checkPubkeyEncoding(r[o]))return!1;this._assertToExist();let n=this.to.tx,i=this.to.inputIndex||0,s=this.to.tx.inputs[i].output.satoshis,u=new Set;for(let o=0;o<e.length;o++){let a=st.bsv.crypto.Signature.fromTxFormat(I.Buffer.from((0,bi.toByteString)(e[o]),"hex")),l=!0;for(let f=0;f<r.length;f++){if(u.has(f))continue;u.add(f);let c=st.bsv.PublicKey.fromBuffer(I.Buffer.from((0,bi.toByteString)(r[f]),"hex"),!1),h=this.lockingScript.subScript(this._csNum-1);try{if(n.verifySignature(a,c,i,h,st.bsv.crypto.BN.fromNumber(s),st.DEFAULT_FLAGS)){l=!1;break}}catch{continue}}if(l)return!1}return!0}timeLock(e){let r=!0;return r=this.ctx.sequence<4294967295,e<5e8&&(r=r&&this.ctx.locktime<5e8),r&&this.ctx.locktime>=e}get changeAmount(){return this._assertToExist(),BigInt(this.to.tx.getChangeAmount())}get prevouts(){return this._assertToExist(),this.sigTypeOfMethod(this._currentMethod)&st.bsv.crypto.Signature.SIGHASH_ANYONECANPAY?(0,bi.toByteString)(""):this.to.tx.prevouts()}get changeAddress(){if(this._assertToExist(),!this.to.tx._changeAddress)throw new Error("No change output found on the transaction");return(0,st.PubKeyHash)(this.to.tx._changeAddress.toObject().hash)}checkPubkeyEncoding(e){return!((st.DEFAULT_FLAGS&st.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&!st.bsv.PublicKey.isValid((0,bi.toByteString)(e)))}checkSignatureEncoding(e){var r=I.Buffer.from((0,bi.toByteString)(e),"hex"),n;if(r.length===0)return!0;if((st.DEFAULT_FLAGS&(st.bsv.Script.Interpreter.SCRIPT_VERIFY_DERSIG|st.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S|st.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC))!==0&&!st.bsv.crypto.Signature.isTxDER(r))return!1;if((st.DEFAULT_FLAGS&st.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S)!==0){if(n=st.bsv.crypto.Signature.fromTxFormat(r),!n.hasLowS())return!1}else if((st.DEFAULT_FLAGS&st.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&(n=st.bsv.crypto.Signature.fromTxFormat(r),!n.hasDefinedHashtype()||!(st.DEFAULT_FLAGS&st.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID)&&n.nhashtype&st.bsv.crypto.Signature.SIGHASH_FORKID||st.DEFAULT_FLAGS&st.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID&&!(n.nhashtype&st.bsv.crypto.Signature.SIGHASH_FORKID)))return!1;return!0}hasPrevouts(e){let r=this.getDelegateClazz().abi.find(n=>n.name===e);if(!r)throw new Error(`contract ${this.constructor.name} doesnot have method ${e}`);return r.params.findIndex(n=>n.name==="__scrypt_ts_prevouts"&&n.type==="bytes")>-1}callDelegatedMethod(e,...r){let n=this.getDelegateClazz().abi.find(f=>f.name===e);if(!n)return;this._currentMethod=e;let i=n.params.slice(0,r.length),s=n.params.slice(r.length),u=new Map,o,a,l=new Map;return s.forEach((f,c)=>{if(f.name==="__scrypt_ts_txPreimage"&&f.type==="SigHashPreimage"){this._assertToExist();let h=this.sigTypeOfMethod(e);o=(0,bi.SigHashPreimage)(this.to.tx.getPreimage(this.to.inputIndex,h)),u.set(f.name,o)}if(f.name==="__scrypt_ts_changeAmount"&&f.type==="int"&&u.set(f.name,this.changeAmount),f.name==="__scrypt_ts_changeAddress"&&f.type==="Ripemd160"&&u.set(f.name,this.changeAddress),f.name.startsWith("__scrypt_ts_accessPathForProp__")&&f.type==="bytes"){let h=f.name.replace("__scrypt_ts_accessPathForProp__",""),d=this[h];if(!(0,bi.instanceOfSIATraceable)(d))throw new Error(`Internel error: traceable object \`${h}\` not found`);d.startTracing();let p=i.length+c;l.set(p,()=>(d.stopTracing(),d.serializedAccessPath())),u.set(f.name,(0,EGe.randomBytes)(2*30).toString("hex"))}f.name==="__scrypt_ts_prevouts"&&f.type==="bytes"&&(a=this.prevouts,u.set(f.name,a))}),r.push(...s.map(f=>{let c=u.get(f.name);if(c===void 0)throw new Error(`missing auto-filled value for argument ${f.name}`);return c})),{publicMethodCall:this.encodeMethodCall(e,r),txPreimage:o,prevouts:a,traceableArgCallbacks:l,abi:n}}encodeMethodCall(e,r){return this.getDelegateClazz().prototype[e].call(this.delegateInstance,...r)}setCtx(e){let r=sn.SigHash.outpoint(e);this._ctx={version:sn.SigHash.nVersion(e),utxo:{value:sn.SigHash.value(e),script:sn.SigHash.scriptCode(e),outpoint:{txid:r.slice(0,32*2),outputIndex:sn.Utils.fromLEUnsigned(r.slice(32*2))}},hashPrevouts:sn.SigHash.hashPrevouts(e),hashSequence:sn.SigHash.hashSequence(e),sequence:sn.SigHash.nSequence(e),hashOutputs:sn.SigHash.hashOutputs(e),locktime:sn.SigHash.nLocktime(e),sigHashType:sn.SigHash.sigHashType(e),serialize(){return e}}}clearCtx(){this._ctx=void 0}setDataPartInASM(e){this.delegateInstance.setDataPartInASM(e)}setDataPartInHex(e){this.delegateInstance.setDataPartInHex(e)}get dataPart(){return this.delegateInstance.dataPart}buildEntryMethodCall(e){this.entryMethodCall=void 0,this.enableUpdateEMC=!0;let r=(()=>{if(!this.entryMethodCall)throw new Error("a contract public method should be called on the `self` parameter within the `callPub` function");let i=this.entryMethodCall;return this.entryMethodCall=void 0,this.enableUpdateEMC=!1,i}).bind(this),n=e(this);return n instanceof Promise?n.then(()=>r()):r()}_assertToExist(){if(!this.to)throw new Error("`this.to` is undefined, it should be set properly before calling the method")}_assertFromExist(){if(!this.from)throw new Error("`this.from` is undefined, it should be set properly before calling the method")}connect(e){return Fa(this,void 0,void 0,function*(){if(!(yield e.isAuthenticated()))throw new Error("the signer is unauthenticated");this._signer=e,this._provider=e.provider})}setProvider(e){this._provider=e}get signer(){if(!this._signer)throw new Error("No signer found!");return this._signer}get provider(){if(!this._provider)throw new Error("No provider found!");return this._provider}buildDeployTransaction(e,r,n){return Fa(this,void 0,void 0,function*(){let i=new st.bsv.Transaction().from(e).addOutput(new st.bsv.Transaction.Output({script:this.lockingScript,satoshis:r}));return i.change(n),i.feePerKb(yield this.provider.getFeePerKb()),i})}deploy(e=1,r){return Fa(this,void 0,void 0,function*(){this.markAsGenesis();let n=r?.changeAddress||(yield this.signer.getDefaultAddress()),i=yield this.buildDeployTransaction(r?.utxos||[],e,n),s=r?.address||(yield this.signer.getDefaultAddress()),u=yield this.provider.getFeePerKb();yield z1.autoPayfee(i,u,this.signer,s);let o=yield this.signer.signAndsendTransaction(i,{address:s});return this.from={tx:o,outputIndex:0},o})}_prepareArgsForMethodCall(e,...r){let n=this.getDelegateClazz().abi.find(l=>l.name===e);if(!n)throw new Error(`\`${this.constructor.name}.${e}\` no exists!`);let i=this.getMethodsMeta(e).argLength;if(r.length!=i&&r.length!=i+1)throw new Error(`argument count mismatch while calling \`this.methods.${e}\`. Expected ${i} or ${i+1} (if passing \`MethodCallOptions\`), but got ${r.length}`);let s=r.slice(0,i),u=r[i],o={verify:!1,partiallySigned:!1,exec:!0,autoPayFee:!0,multiContractCall:!1,next:[]};if(u){if(typeof u!="object")throw new Error(`The last argument is expected to be an object of type \`MethodCallOptions\`. Got \`${typeof u}' instead.`);Object.assign(o,u)}let a=s.reduce((l,f,c)=>{let d=n.params[c].type.match(/^Sig(\[(\d+)\])?$/),p=typeof f;if(d){let m=d[2]||"1";if(p!=="function")throw new Error("a callback function of type `(sigResponses: SignatureResponse[]) => Sig | Sig[] ` should be given for the Sig type argument");l.set(c,{callback:f,length:parseInt(m)})}else if(p==="function")throw new Error("a callback function given for the non-Sig type argument is not allowed");return l},new Map);return{methodArgs:s,methodCallOptions:o,sigArgs:a}}call(e,...r){return Fa(this,void 0,void 0,function*(){this._csNum=0;let{methodArgs:n,methodCallOptions:i,sigArgs:s}=this._prepareArgsForMethodCall(e,...r);return i.multiContractCall===!0?this.multiContractCall(e,i,n,s):this.singleContractCall(e,i,n,s)})}singleContractCall(e,r,n,i){return Fa(this,void 0,void 0,function*(){let s=yield this.signer.getDefaultAddress(),u=yield this.provider.getFeePerKb(),o=this.getTxBuilder(e);if(!o)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let a=n.map((d,p)=>{let m=i.get(p);return m?m.length>1?new Array(m.length).fill((0,Vh.getDummySig)()):(0,Vh.getDummySig)():d});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let l=r.autoPayFee===void 0||r.autoPayFee===!0,{tx:f,atInputIndex:c,nexts:h}=yield o.call(null,this,r,...a);if(f.feePerKb(u),this.to={tx:f,inputIndex:c},this.dummySignSingleCallTx(f,c,e,...a),l){let d=this.hasPrevouts(e);yield z1.autoPayfee(f,u,this.signer,s,d?36:0),d&&(this.dummySignSingleCallTx(f,c,e,...a),f._feePerKb=u,Object.getPrototypeOf(f)._updateChangeOutput.apply(f))}if(yield this.signSingleCallTx(f,c,s,r,e,n,i),this.to={tx:f,inputIndex:c},h&&h.forEach(d=>{d.instance.from={tx:f,outputIndex:d.atOutputIndex}}),!r.partiallySigned){if(r.verify||process.env.NETWORK==="local"){let d=f.verify();if(typeof d=="string")throw new Error(`Transaction verify failed: ${d}`)}yield this.provider.sendTransaction(f)}return{tx:f,atInputIndex:c,nexts:h,next:Array.isArray(h)?h[0]:void 0}})}multiContractCall(e,r,n,i){return Fa(this,void 0,void 0,function*(){let s=this.getTxBuilder(e);if(!s)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let u=n.map((f,c)=>{let h=i.get(c);return h?h.length>1?new Array(h.length).fill((0,Vh.getDummySig)()):(0,Vh.getDummySig)():f});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let{tx:o,atInputIndex:a,nexts:l}=yield s.call(null,this,r,...u);return this.to={tx:o,inputIndex:a},l&&l.forEach(f=>{f.instance.from={tx:o,outputIndex:f.atOutputIndex}}),Object.prototype.hasOwnProperty.call(o,"calllogs")?o.calllogs.push({instance:this,methodArgs:n,sigArgs:i,atInputIndex:a,nexts:l,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}):Object.defineProperty(o,"calllogs",{value:[{instance:this,methodArgs:n,sigArgs:i,atInputIndex:a,nexts:l,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}],writable:!1}),{tx:o,atInputIndex:a,nexts:l,next:Array.isArray(l)?l[0]:void 0}})}signSingleCallTx(e,r,n,i,s,u,o){return Fa(this,void 0,void 0,function*(){let a=this.provider.getNetwork(),l=e.inputs.flatMap((c,h)=>{if(!(!i.autoPayFee&&h!==r)){if(h===r)return(i.pubKeyOrAddrToSign?(0,Ife.parseSignatureOption)(i.pubKeyOrAddrToSign,a):[{address:n,sigHashType:st.DEFAULT_SIGHASH_TYPE}]).map(p=>({prevTxId:(0,st.toHex)(c.prevTxId),outputIndex:c.outputIndex,inputIndex:h,satoshis:c.output.satoshis,scriptHex:c.output.script.toHex(),address:p.address,sigHashType:p.sigHashType,csIdx:p.csIdx,data:p.data}));{let d=c.output.script.isPublicKeyHashOut()?st.bsv.Address.fromPublicKeyHash(c.output.script.getPublicKeyHash(),a):n;return{prevTxId:(0,st.toHex)(c.prevTxId),outputIndex:c.outputIndex,inputIndex:h,satoshis:c.output.satoshis,scriptHex:c.output.script.toHex(),address:d,sigHashType:st.DEFAULT_SIGHASH_TYPE,csIdx:void 0}}}}).filter(c=>c!==void 0);(yield this.signer.getSignatures(e.toString(),l)).reduce((c,h)=>{let d=h.inputIndex,p=c.get(d)||[];return p.push(h),c.set(d,p),c},new Map).forEach((c,h)=>{if(h===r){let d=u.map((p,m)=>{let w=o.get(m);if(!w)return p;let x=y=>{if(typeof y!="string")throw new Error(`the ${m+1}th argument calback function should returns a valid \`Sig\``)},_=w.callback.call(this,c)||"";if(_ instanceof Array){if(_.length!==w.length)throw new Error(`the ${m+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${w.length}, but got ${_.length}`);_.forEach(y=>x(y))}else x(_);return _});if(i.exec){let p=this.getUnlockingScript(m=>{m[s](...d)});e.inputs[r].setScript(p)}else{let{publicMethodCall:p}=this.callDelegatedMethod(s,...d);e.inputs[r].setScript(p.toScript())}}else i.autoPayFee&&c.forEach(d=>{e.applySignature({inputIndex:d.inputIndex,sigtype:d.sigHashType||st.DEFAULT_SIGHASH_TYPE,publicKey:st.bsv.PublicKey.fromString(d.publicKey),signature:st.bsv.crypto.Signature.fromTxFormat(I.Buffer.from(d.sig,"hex"))})})})})}dummySignSingleCallTx(e,r,n,...i){e.inputs.forEach((s,u)=>{if(u===r){let{publicMethodCall:o}=this.callDelegatedMethod(n,...i);s.setScript(o.toScript())}})}get methods(){let e=this;return this.getDelegateClazz().abi.filter(n=>n.type==="function").map(n=>n.name).reduce((n,i)=>(n[i]=(...s)=>e.call(i,...s),n),{})}getTxBuilder(e){if(!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and do not have any bounded \`txBuilder\``);if(this._txBuilders.has(e))return this._txBuilders.get(e);let n=Object.getOwnPropertyNames(this.constructor).filter(i=>typeof this.constructor[i]=="function").find(i=>i===`buildTxFor${(0,J8.camelCaseCapitalized)(e)}`);return n?this.constructor[n]:this.getDefaultTxBuilder(e)}getDefaultTxBuilder(e){return z1.defaultCallTxBuilder(this.getMethodsMeta(e).sigHashType)}bindTxBuilder(e,r){if(this.getDelegateClazz()||(0,Tx.throwUnInitializing)(this.constructor.name),!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and cat not set bounded \`txBuilder\``);this._txBuilders.set(e,r)}static defaultCallTxBuilder(e){return function(r,n,...i){return Fa(this,void 0,void 0,function*(){let s=yield r.signer.getDefaultAddress(),u=new st.bsv.Transaction().addInput(r.buildContractInput(n.fromUTXO)),o;if(o=Array.from([n.next||[]]).flat().map((l,f)=>(u.addOutput(new st.bsv.Transaction.Output({script:l.instance.lockingScript,satoshis:l.balance})),Object.assign({},l,{atOutputIndex:f}))),u.change(n.changeAddress||s),n.sequence!==void 0&&u.setInputSequence(0,n.sequence),n.lockTime){let l=n.sequence!==void 0?n.sequence:4294967294;u.setInputSequence(0,l),u.setLockTime(n.lockTime)}return Promise.resolve({tx:u,atInputIndex:0,nexts:o,next:Array.isArray(o)?o[0]:void 0})})}}buildContractInput(e){if(!e&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");if(e)return new st.bsv.Transaction.Input({prevTxId:e.txId,outputIndex:e.outputIndex,script:new st.bsv.Script(""),output:new st.bsv.Transaction.Output({script:this.lockingScript,satoshis:e.satoshis})});if("tx"in this.from)return new st.bsv.Transaction.Input({prevTxId:this.from.tx.id,outputIndex:this.from.outputIndex,script:new st.bsv.Script(""),output:new st.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})});{let r=this.from;return new st.bsv.Transaction.Input({prevTxId:r.txId,outputIndex:r.outputIndex,script:new st.bsv.Script(""),output:new st.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})})}}isStateful(){return Reflect.getOwnMetadata(RH.StatePropsMetaKey,this.constructor.prototype)!==void 0}sigTypeOfMethod(e){let r=this.getMethodsMeta(e);if(!r)throw new Error(`${e} is not a public @method of ${this.constructor.name}`);return(0,Vh.toNumber)(r.sigHashType)}getMethodsMeta(e){return Reflect.getOwnMetadata(RH.MethodsMetaKey,this.constructor.prototype).get(e)}diffOutputs(e){this._assertToExist();try{let r=(0,Ax.diffOutputs)(this.delegateInstance,(0,Ax.getExpectedOutputs)(e),(0,Ax.getTransationOutputs)(this.to.tx,this.to.inputIndex,this.sigTypeOfMethod(this._currentMethod)));console.info(r)}catch(r){throw new Error(`diffOutputs failed, error: ${r.message}`)}}get debug(){let e=this;return{diffOutputs:r=>{e.diffOutputs(r)},genLaunchConfig:()=>{this.to?console.log(e.delegateInstance.genLaunchConfig({tx:e.to.tx,inputIndex:e.to.inputIndex,inputSatoshis:e.to.tx.getInputAmount(e.to.inputIndex)})):console.log(e.delegateInstance.genLaunchConfig())}}}get balance(){return this._assertFromExist(),"tx"in this.from?this.from.tx.outputs[this.from.outputIndex].satoshis:this.from.satoshis}get utxo(){return this._assertFromExist(),"tx"in this.from?{txId:this.from.tx.id,outputIndex:this.from.outputIndex,script:this.from.tx.outputs[this.from.outputIndex].script.toHex(),satoshis:this.from.tx.outputs[this.from.outputIndex].satoshis}:this.from}get ctx(){if(!this._ctx)throw new Error("`this.ctx` is undefined, `to` should be called before to access its value!");return this._ctx}static fromLockingScript(e,r,n){this.DelegateClazz||(0,Tx.throwUnInitializing)(this.name);let i;if(n){if(!e.startsWith(n.toHex()))throw new Error("script doesn't start with nopScript");let l=e.slice(n.toHex().length);i=this.DelegateClazz.fromHex(l)}else i=this.DelegateClazz.fromHex(e);let s=i.ctorArgs().map(l=>l.type.startsWith("HashedMap")?new bi.HashedMap:l.type.startsWith("HashedSet")?new bi.HashedSet:l.value),u=new this(...s);u.delegateInstance=i,u.prependNOPScript(n||null);let o=Reflect.getMetadata(RH.PropsMetaKey,u)||[],a=i.stateProps.map(l=>l.name)||[];return o.forEach(l=>{let f=i.isGenesis;if(u[l]instanceof bi.HashedMap||u[l]instanceof bi.HashedSet){if(r===void 0||r[l]===void 0)throw new Error(`should pass the currrent value of \`${l}\``);if(u[l]instanceof bi.HashedMap&&!(r[l]instanceof bi.HashedMap))throw new Error(`\`offchainValues.${l}\` should be a HashedMap`);if(u[l]instanceof bi.HashedSet&&!(r[l]instanceof bi.HashedSet))throw new Error(`\`offchainValues.${l}\` should be a HashedSet`);if(r[l].attachTo(u[l]._type,this.DelegateClazz),a.includes(l)&&!f&&i[l]._data!==r[l].data())throw new Error(`the current value of \`${l}\` passed in does not match the state in the script`);u[l]=r[l]}else a.includes(l)&&!f&&(u[l]=i[l])}),Object.getOwnPropertyNames(r||{}).filter(l=>!o.includes(l)).forEach(l=>u[l]=r[l]),u}static fromTx(e,r,n,i){if(r<0||r>=e.outputs.length)throw new Error(`the value of \`atOutputIndex\` is out of range [0, ${e.outputs.length})`);let s=this.fromLockingScript(e.outputs[r].script.toHex(),n,i);return s.from={tx:e,outputIndex:r},s}static fromUTXO(e,r,n){let i=this.fromLockingScript(e.script,r,n);return i.from=e,i}static dummySignMultiCallTx(e,r){let n=r.map(i=>i.instance);e.inputs.forEach((i,s)=>{if(n[s]){let u=r[s].methodArgs.map((a,l)=>{let f=r[s].sigArgs.get(l);return f?f.length>1?new Array(f.length).fill((0,Vh.getDummySig)()):(0,Vh.getDummySig)():a}),{publicMethodCall:o}=n[s].callDelegatedMethod(r[s].methodName,...u);i.setScript(o.toScript())}})}static signMultiCallTx(e,r,n,i){return Fa(this,void 0,void 0,function*(){let s=n.map(d=>d.instance),u=yield e.getDefaultAddress(),o=e.provider.getNetwork(),a=r.inputs.map((d,p)=>({input:d,inputIndex:p,instance:s[p],calllog:n[p]})).filter(d=>d.instance instanceof z1),l=[];for(let d of a){let{input:p,calllog:m,instance:w,inputIndex:x}=d,_=m.pubKeyOrAddrToSign,S=(_?(0,Ife.parseSignatureOption)(_,o):[{address:u,sigHashType:st.DEFAULT_SIGHASH_TYPE}]).map(N=>({prevTxId:(0,st.toHex)(p.prevTxId),outputIndex:p.outputIndex,inputIndex:x,satoshis:p.output.satoshis,scriptHex:p.output.script.toHex(),address:N.address,sigHashType:N.sigHashType,csIdx:N.csIdx,data:N.data})),F=[];m.sigArgs.size>0&&(F=yield w.signer.getSignatures(r.toString(),S)),l.push({unlockingScript:this.handleSigResponses(F,w,m,x),inputIndex:d.inputIndex})}if(l.forEach(d=>{r.inputs[d.inputIndex].setScript(d.unlockingScript)}),!i.autoPayFee)return;let c=r.inputs.map((d,p)=>({input:d,inputIndex:p})).filter(d=>typeof s[d.inputIndex]>"u").map(d=>{let{input:p,inputIndex:m}=d;return{prevTxId:(0,st.toHex)(p.prevTxId),outputIndex:p.outputIndex,inputIndex:m,satoshis:p.output.satoshis,scriptHex:p.output.script.toHex(),address:u,sigHashType:st.DEFAULT_SIGHASH_TYPE,csIdx:void 0}});(yield e.getSignatures(r.toString(),c)).forEach(d=>{r.applySignature({inputIndex:d.inputIndex,sigtype:d.sigHashType||st.DEFAULT_SIGHASH_TYPE,publicKey:st.bsv.PublicKey.fromString(d.publicKey),signature:st.bsv.crypto.Signature.fromTxFormat(I.Buffer.from(d.sig,"hex"))})})})}static handleSigResponses(e,r,n,i){let s=e.reduce((a,l)=>{let f=l.inputIndex,c=a.get(f)||[];return c.push(l),a.set(f,c),a},new Map),u=n.methodArgs.map((a,l)=>{let f=n.sigArgs.get(l);if(!f)return a;let c=d=>{if(typeof d!="string")throw new Error(`the ${l+1}th argument calback function should returns a valid \`Sig\``)},h=f.callback.call(this,s.get(i)||[])||"";if(h instanceof Array){if(h.length!==f.length)throw new Error(`the ${l+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${f.length}, but got ${h.length}`);h.forEach(d=>c(d))}else c(h);return h});n.exec&&r.getUnlockingScript(a=>{a[n.methodName](...u)});let{publicMethodCall:o}=r.callDelegatedMethod(n.methodName,...u);return o.toScript()}static multiContractCall(e,r,n){return Fa(this,void 0,void 0,function*(){n=Object.assign({},{verify:!1,partiallySigned:!1,autoPayFee:!0},n);let i=e.tx,s=i.calllogs||[];if(i.inputs.length<s.length)throw new Error("Check if all called contracts are added as inputs to the transaction");let u=n.autoPayFee,o=yield r.getDefaultAddress(),a=yield r.provider.getFeePerKb();if(i.feePerKb(a),this.dummySignMultiCallTx(i,s),u){let f=s.find(c=>c.instance.hasPrevouts(c.methodName))!==void 0;yield this.autoPayfee(i,a,r,o,f?36*s.length:0),f&&(this.dummySignMultiCallTx(i,s),i._feePerKb=a,Object.getPrototypeOf(i)._updateChangeOutput.apply(i))}if(yield this.signMultiCallTx(r,i,s,n),!n.partiallySigned){if(n.verify||process.env.NETWORK==="local"){let l=i.verify();if(typeof l=="string")throw new Error(`Transaction verify failed: ${l}`)}yield r.provider.sendTransaction(i)}return{tx:i,atInputIndices:s.map(l=>l.atInputIndex),nexts:(0,Ax.mergeNexts)(s)}})}static parseCallData(e,r){this.DelegateClazz||(0,Tx.throwUnInitializing)(this.name);let n=e.inputs[r].script,i=this.DelegateClazz.abiCoder.parseCallData(n.toHex());return Object.assign(Object.assign({},i),{args:i.args.filter(s=>!s.name.startsWith("__scrypt_ts"))})}static autoPayfee(e,r,n,i,s=0){return Fa(this,void 0,void 0,function*(){if(e.outputs.length>0&&(0,J8.checkTxFee)(e,r))return;let u=e.getEstimateSize(),o=e.inputAmount,a=e.outputAmount;e.getChangeOutput()===null&&e.getChangeAddress()!==null&&(u+=34,a+=1);let l=yield n.listUnspent(i,{unspentValue:o-a,estimateSize:u,feePerKb:r,additional:s});if(e.from(l),!(0,J8.checkTxFee)(e,r))throw new Error(`no sufficient utxos to pay the fee ${Math.ceil(u/1e3*r)}`)})}prependNOPScript(e){this.delegateInstance.prependNOPScript(e)}getPrependNOPScript(){return this.delegateInstance.getPrependNOPScript()}getOffchainUpdates(){return null}};B0.SmartContract=z1});var Qg=$(Su=>{"use strict";B();k();Object.defineProperty(Su,"__esModule",{value:!0});Su.prop=Su.PropsMetaKey=Su.StatePropsMetaKey=Su.method=Su.MethodsMetaKey=void 0;var ev=H5(),AGe=Mr(),TGe=Q8(),xGe=_x();Su.MethodsMetaKey="scrypt:methods";function IGe(t=ev.SigHash.ALL){return function(e,r,n){let i=n.value,s=Reflect.getOwnMetadata(Su.MethodsMetaKey,e)||new Map;return s.set(r,{argLength:i.length,sigHashType:t}),Reflect.defineMetadata(Su.MethodsMetaKey,s,e),{configurable:!0,enumerable:!1,get(){return(...a)=>{if(typeof e=="function")return i.apply(this,a);if(this instanceof xGe.SmartContractLib)return i.apply(this,a);if(this instanceof TGe.SmartContract){let h=this.callDelegatedMethod(r,...a);if(h){let{publicMethodCall:d,txPreimage:p,traceableArgCallbacks:m,abi:w,prevouts:x}=h;p&&(this.setCtx(p),w.params.find(S=>S.type==="SigHashPreimage"&&S.name==="__scrypt_ts_txPreimage")&&(0,ev.assert)(this.checkPreimageSigHashType(p,t),"checkPreimage failed!")),a=d.args.map(S=>S.value);let _=a.map(S=>(0,AGe.cloneDeep)(S));this._currentMethod=r,x&&p&&w.params.find(S=>S.type==="bytes"&&S.name==="__scrypt_ts_prevouts")&&(0,ev.assert)((0,ev.hash256)(x)===ev.SigHash.hashPrevouts(p),"check prevouts failed!");let y=i.apply(this,a);if(this._currentMethod=void 0,p&&this.clearCtx(),this.enableUpdateEMC&&!this.entryMethodCall){let S=_.map((F,N)=>{let H=m.get(N);return H?H():F});this.entryMethodCall=this.encodeMethodCall(r,S)}return y}return i.apply(this,a)}throw new Error(`@method decorator used on \`${this.name||this.constructor.name}#${r}\`, it should only be used in subclasses of \`SmartContract\` or \`SmartContractLib\``)}}}}}Su.method=IGe;Su.StatePropsMetaKey="scrypt:stateProps";Su.PropsMetaKey="scrypt:props";function PGe(t=!1){return function(e,r){if(t){let i=(Reflect.getMetadata(Su.StatePropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(Su.StatePropsMetaKey,i,e)}let n=(Reflect.getMetadata(Su.PropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(Su.PropsMetaKey,n,e)}}Su.prop=PGe});var kfe=$(V1=>{"use strict";B();k();var Ofe=V1&&V1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},xx=V1&&V1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(V1,"__esModule",{value:!0});V1.P2PKH=void 0;var em=Er(),OGe=Q8(),Bfe=Qg(),MH=H5(),P8t=q1(),tm=class extends OGe.SmartContract{constructor(e){super(...arguments),this.addr=e}unlock(e,r){(0,MH.assert)((0,MH.pubKey2Addr)(r)==this.addr,"public key hashes are not equal"),(0,MH.assert)(this.checkSig(e,r),"signature check failed")}get lockingScript(){return new em.bsv.Script("").add(em.bsv.Opcode.OP_DUP).add(em.bsv.Opcode.OP_HASH160).add(em.bsv.Script.fromASM(this.addr)).add(em.bsv.Opcode.OP_EQUALVERIFY).add(em.bsv.Opcode.OP_CHECKSIG)}};V1.P2PKH=tm;Ofe([(0,Bfe.prop)(),xx("design:type",String)],tm.prototype,"addr",void 0);Ofe([(0,Bfe.method)(),xx("design:type",Function),xx("design:paramtypes",[String,String]),xx("design:returntype",void 0)],tm.prototype,"unlock",null);var BGe={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PKH",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"},{name:"pubkey",type:"PubKey"}]},{type:"constructor",params:[{name:"addr",type:"Ripemd160"}]}],stateProps:[],buildType:"release",file:"",hex:"76a9<addr>88ac",sourceMapFile:""};tm.loadArtifact(BGe)});var Rfe=$(G1=>{"use strict";B();k();var Cfe=G1&&G1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(u=t[o])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ix=G1&&G1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(G1,"__esModule",{value:!0});G1.P2PK=void 0;var NH=Er(),kGe=Q8(),Ffe=Qg(),CGe=H5(),C8t=q1(),rm=class extends kGe.SmartContract{constructor(e){super(...arguments),this.pubKey=e}unlock(e){(0,CGe.assert)(this.checkSig(e,this.pubKey),"signature check failed")}get lockingScript(){return new NH.bsv.Script("").add(NH.bsv.Script.fromASM(this.pubKey)).add(NH.bsv.Opcode.OP_CHECKSIG)}};G1.P2PK=rm;Cfe([(0,Ffe.prop)(),Ix("design:type",String)],rm.prototype,"pubKey",void 0);Cfe([(0,Ffe.method)(),Ix("design:type",Function),Ix("design:paramtypes",[String]),Ix("design:returntype",void 0)],rm.prototype,"unlock",null);var FGe={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PK",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"}]},{type:"constructor",params:[{name:"pubKey",type:"PubKey"}]}],stateProps:[],buildType:"release",file:"",hex:"<pubKey>ac",sourceMapFile:""};rm.loadArtifact(FGe)});var Nfe=$(Px=>{"use strict";B();k();Object.defineProperty(Px,"__esModule",{value:!0});Px.bsv=void 0;var Mfe=Er();Object.defineProperty(Px,"bsv",{enumerable:!0,get:function(){return Mfe.bsv}});Mfe.bsv.PrivateKey.prototype.toByteString=function(){return this.toHex()}});var Hfe=$(Ox=>{"use strict";B();k();Object.defineProperty(Ox,"__esModule",{value:!0});Ox.bsv=void 0;var Dfe=Er();Object.defineProperty(Ox,"bsv",{enumerable:!0,get:function(){return Dfe.bsv}});Dfe.bsv.PublicKey.prototype.toByteString=function(){return this.toHex()}});var Ufe=$(Bx=>{"use strict";B();k();Object.defineProperty(Bx,"__esModule",{value:!0});Bx.bsv=void 0;var Lfe=Er();Object.defineProperty(Bx,"bsv",{enumerable:!0,get:function(){return Lfe.bsv}});Lfe.bsv.Address.prototype.toByteString=function(){return this.toHex().slice(2)}});var HH=$(Gh=>{"use strict";B();k();var RGe=Gh&&Gh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DH=Gh&&Gh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&RGe(e,t,r)};Object.defineProperty(Gh,"__esModule",{value:!0});DH(Nfe(),Gh);DH(Hfe(),Gh);DH(Ufe(),Gh)});var $fe=$(kx=>{"use strict";B();k();Object.defineProperty(kx,"__esModule",{value:!0});kx.SignatureHashType=void 0;var MGe=Lh();Object.defineProperty(kx,"SignatureHashType",{enumerable:!0,get:function(){return MGe.SignatureHashType}})});var jfe=$(qfe=>{"use strict";B();k();Object.defineProperty(qfe,"__esModule",{value:!0})});var Kfe=$(L5=>{"use strict";B();k();var NGe=L5&&L5.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DGe=L5&&L5.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&NGe(e,t,r)};Object.defineProperty(L5,"__esModule",{value:!0});DGe(jfe(),L5)});var Gfe=$(W1=>{"use strict";B();k();var U5=W1&&W1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},HGe=W1&&W1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W1,"__esModule",{value:!0});W1.replayToLatest=void 0;var LH=HH(),LGe=HGe(Cu());function Vfe(t){let e=t.toASM(),r=e.lastIndexOf("OP_RETURN"),n=r===-1?t:LH.bsv.Script.fromASM(e.substring(0,r).trim());return LH.bsv.crypto.Hash.sha256(n.toBuffer()).toString("hex")}function UGe(t,e){return U5(this,void 0,void 0,function*(){let r=yield t.getTransaction(e.txId);return Vfe(r.outputs[e.outputIndex].script)})}function $Ge(t,e){return U5(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.getNetwork()===LH.bsv.Networks.mainnet?"main":"test"}/tx/${e.txId}/${e.outputIndex}/spent`;return LGe.default.get(n).then(i=>U5(this,void 0,void 0,function*(){return{tx:yield t.getTransaction(i.body.txid),atInputIndex:i.body.vin}})).catch(i=>{if(i.response.status!==404)throw new Error(i.message)})})}function zfe(t,e,r){return U5(this,void 0,void 0,function*(){let n=yield $Ge(t,e);if(!n)return;let{tx:i}=n,s=i.outputs.filter(u=>Vfe(u.script)===r).map((u,o)=>o);if(s.length>1)throw Error("only support linear spent chain");return{spentIn:n,nextOutputIndex:s.length===1?s[0]:void 0}})}function qGe(t,e){return U5(this,void 0,void 0,function*(){let r=yield UGe(t,e),n=[],i=yield zfe(t,e,r);for(;i&&i.nextOutputIndex!==void 0;)n.push(i),i=yield zfe(t,{txId:i.spentIn.tx.id,outputIndex:i.nextOutputIndex},r);return n})}function jGe(t,e){return U5(this,void 0,void 0,function*(){if(!t||e.nextOutputIndex===void 0)return;let r=t.next(),{tx:n,atInputIndex:i}=e.spentIn,u=r.constructor.parseCallData(n,i),{methodName:o,args:a}=u,l=r.getOffchainUpdates();if(l){let f=l[o];f?.call(r,r,...a.map(c=>c.value))}return r.from={tx:n,outputIndex:e.nextOutputIndex},r})}function KGe(t,e){return U5(this,void 0,void 0,function*(){let r=yield qGe(t.provider,e),n=t;for(let i of r)n=yield jGe(n,i);return n})}W1.replayToLatest=KGe});var ld=$(Y1=>{"use strict";B();k();var UH=Y1&&Y1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},zGe=Y1&&Y1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.Provider=void 0;var VGe=zGe(JI()),GGe=Er(),$H=class extends VGe.default{constructor(){super(),this._isProvider=!0}_initializeConnection(){new Promise((e,r)=>{setTimeout(()=>{this.connect().then(n=>{e(n)},n=>{r(n)})},0)})}_ready(){return UH(this,void 0,void 0,function*(){if(!this.isConnected())try{yield this.connect()}catch(e){throw e}})}getEstimateFee(e){return UH(this,void 0,void 0,function*(){let r=new GGe.bsv.Transaction(e.uncheckedSerialize());return r.feePerKb(yield this.getFeePerKb()),r.getEstimateFee()})}sendTransaction(e){return UH(this,void 0,void 0,function*(){let r=e.serialize({disableIsFullySigned:!0}),n=yield this.getFeePerKb(),i=Math.ceil(r.length/2/1e3*n);if(e._inputAmount=void 0,e.getUnspentValue()<i)throw new Error("invalid fee, fee too low.");if(e.getUnspentValue()>i*3)throw new Error("invalid fee, fee too high.");return this.sendRawTransaction(r)})}static isProvider(e){return!!(e&&e._isProvider)}};Y1.Provider=$H});var tv=$(X1=>{"use strict";B();k();var Cx=X1&&X1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},WGe=X1&&X1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X1,"__esModule",{value:!0});X1.WhatsonchainProvider=void 0;var Fx=Er(),YGe=ld(),Rx=WGe(Cu()),XGe=P0(),qH=class extends YGe.Provider{constructor(e){super(),this._isConnected=!1,this._network=e,this._initializeConnection()}get apiPrefix(){return`https://api.whatsonchain.com/v1/bsv/${this._network.name===Fx.bsv.Networks.mainnet.name?"main":"test"}`}isConnected(){return this._isConnected}connect(){var e;return Cx(this,void 0,void 0,function*(){try{let r=yield Rx.default.get(`${this.apiPrefix}/woc`).timeout(3e3);if(r.ok&&r.text==="Whats On Chain")this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){return Cx(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{return(yield Rx.default.post(`${this.apiPrefix}/tx/raw`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").send({txhex:e})).body}catch(i){if(i.response&&i.response.text){if(ZGe(i.response.text))return new Fx.bsv.Transaction(e).id;throw new Error(`WhatsonchainProvider ERROR: ${JGe(i.response.text)}`)}throw new Error(`WhatsonchainProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return Cx(this,void 0,void 0,function*(){yield this._ready();let i=(yield Rx.default.get(`${this.apiPrefix}/address/${e}/unspent`)).body.map(s=>({txId:s.tx_hash,outputIndex:s.tx_pos,satoshis:s.value,script:Fx.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,XGe.filterUTXO)(i,r):i})}getBalance(e){return this.listUnspent(e).then(r=>({confirmed:r.reduce((n,i)=>(n+=i.satoshis,n),0),unconfirmed:0}))}getTransaction(e){return Cx(this,void 0,void 0,function*(){return yield this._ready(),Rx.default.get(`${this.apiPrefix}/tx/${e}/hex`).then(r=>{if(r.ok)return new Fx.bsv.Transaction(r.text);throw r.error?r.error:`getTransaction error ${e}`})})}getFeePerKb(){return Promise.resolve(1)}};X1.WhatsonchainProvider=qH;function ZGe(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}function JGe(t){return t.includes("bad-txns-vin-empty")?"Transaction is missing inputs.":t.includes("bad-txns-vout-empty")?"Transaction is missing outputs.":t.includes("bad-txns-oversize")?"Transaction is too large.":t.includes("bad-txns-vout-negative")?"Transaction output value is negative.":t.includes("bad-txns-vout-toolarge")?"Transaction outputut value is too large.":t.includes("bad-txns-txouttotal-toolarge")?"Transaction total outputut value is too large.":t.includes("bad-txns-prevout-null")?"Transaction inputs previous TX reference is null.":t.includes("bad-txns-inputs-duplicate")?"Transaction contains duplicate inputs.":t.includes("bad-txns-inputs-too-large")?"Transaction inputs too large.":t.includes("bad-txns-fee-negative")?"Transaction network fee is negative.":t.includes("bad-txns-fee-outofrange")?"Transaction network fee is out of range.":t.includes("mandatory-script-verify-flag-failed")?"Script evaluation failed.":t}});var KH=$(nm=>{"use strict";B();k();var rv=nm&&nm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(nm,"__esModule",{value:!0});nm.SensibleProvider=void 0;var Mx=Er(),QGe=ld(),nv=Cu(),eWe=P0(),jH=class extends QGe.Provider{constructor(e,r){super(),this.network=e,this.apiKey=r,this._isConnected=!1,this._initializeConnection()}get apiEndpoint(){return this.network.name===Mx.bsv.Networks.mainnet.name?"https://api.sensiblequery.com":"https://api.sensiblequery.com/test/"}isConnected(){return this._isConnected}connect(){var e;return rv(this,void 0,void 0,function*(){try{let r=yield(0,nv.get)(this.apiEndpoint).set("Authorization",`Bearer ${this.apiKey}`).timeout(3e3);if(r.ok&&r.body.code===0)this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}sendRawTransaction(e){return rv(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{let i=yield(0,nv.post)(`${this.apiEndpoint}/pushtx`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").set("Authorization",`Bearer ${this.apiKey}`).send({txhex:e});if(console.log("SensibleProvider",i.body),i.ok&&i.body.code===0)return i.body.data;if(typeof i.text=="string"&&i.text.includes("service is restricted"))throw new Error("According to your IP and nationality, you are in a country/region where our service is restricted.");if(typeof i.text=="string"&&tWe(i.text))return new Mx.bsv.Transaction(e).id;throw new Error(`${i.body.msg?i.body.msg:i.text}`)}catch(i){throw new Error(`SensibleProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return rv(this,void 0,void 0,function*(){if(yield this._ready(),Array.isArray(e))throw new Error("SensibleProvider ERROR: only support list one address");let n=yield(0,nv.get)(`${this.apiEndpoint}/address/${e}/utxo`).set("Authorization",`Bearer ${this.apiKey}`);if(n.ok&&n.body.code===0){let i=n.body.data.map(s=>({txId:s.txid,outputIndex:s.vout,satoshis:s.satoshi,script:Mx.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,eWe.filterUTXO)(i,r):i}throw new Error(`SensibleProvider ERROR: ${n.body.msg}`)})}getBalance(e){return rv(this,void 0,void 0,function*(){yield this._ready();let r=yield(0,nv.get)(`${this.apiEndpoint}/address/${e}/balance`).set("Authorization",`Bearer ${this.apiKey}`);if(r.body.code===0)return{confirmed:r.body.data.satoshi,unconfirmed:r.body.data.pendingSatoshi};throw new Error(`SensibleProvider ERROR: ${r.body.msg}`)})}getTransaction(e){return rv(this,void 0,void 0,function*(){return yield this._ready(),(0,nv.get)(`${this.apiEndpoint}/rawtx/${e}`).set("Authorization",`Bearer ${this.apiKey}`).set("Content-Type","application/json").set("Accept","application/json").then(r=>{if(r.ok&&r.body.code===0)return new Mx.bsv.Transaction(r.body.data);throw r.error?r.error:new Error(`SensibleProvider ERROR: ${r.body.msg}`)})})}getFeePerKb(){return Promise.resolve(1)}};nm.SensibleProvider=jH;function tWe(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}});var VH=$(im=>{"use strict";B();k();var iv=im&&im.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(im,"__esModule",{value:!0});im.GorillapoolProvider=void 0;var rWe=Er(),nWe=ld(),iWe=tv(),Wfe=Cu(),zH=class extends nWe.Provider{constructor(e,r){super(),this.apiKey=r,this._feePerKb=-1,this._network=e,this._mapiURL=e==rWe.bsv.Networks.mainnet?"https://mapi.gorillapool.io/mapi/":"https://testnet-mapi.gorillapool.io/mapi/",this._provider=new iWe.WhatsonchainProvider(e)}isConnected(){return this._provider.isConnected()}connect(){return iv(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return iv(this,void 0,void 0,function*(){let s=Math.max(1,e.length/2/1024),u=Math.max(1e4,1e3*s);try{let o=(0,Wfe.post)(this._mapiURL+"tx").timeout({response:u,deadline:6e4}).set("Content-Type","application/octet-stream");this.apiKey&&o.set("Authorization",`Bearer ${this.apiKey}`);let a=yield o.send(I.Buffer.from(e,"hex")),l=JSON.parse(a.body.payload);if(l.returnResult==="success")return l.txid;if(l.returnResult==="failure")throw new Error(l.resultDescription)}catch(o){throw((r=o.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=o.response)===null||n===void 0?void 0:n.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((i=o.response)===null||i===void 0?void 0:i.body)}`):new Error(`GorillapoolProvider ERROR: ${o.message}`)}})}listUnspent(e,r){return iv(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return iv(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return iv(this,void 0,void 0,function*(){try{let i=(0,Wfe.get)(this._mapiURL+"feeQuote").timeout({response:5e3,deadline:1e4});this.apiKey&&i.set("Authorization",`Bearer ${this.apiKey}`);let s=yield i;JSON.parse(s.body.payload).fees.forEach(o=>{o.feeType=="standard"&&(this._feePerKb=o.miningFee.satoshis*1e3/o.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`GorillapoolProvider ERROR: ${i.message}`)}})}};im.GorillapoolProvider=zH});var YH=$(sm=>{"use strict";B();k();var sv=sm&&sm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(sm,"__esModule",{value:!0});sm.TaalProvider=void 0;var GH=Er(),sWe=ld(),uWe=tv(),Yfe=Cu(),WH=class extends sWe.Provider{constructor(e="testnet_4df8757e4c289af199f69ad759be31b4"){super(),this.apiKey=e,this._network=GH.bsv.Networks.testnet,this._feePerKb=-1,this.apiKey.startsWith("testnet_")?this._network=GH.bsv.Networks.testnet:this._network=GH.bsv.Networks.mainnet,this._provider=new uWe.WhatsonchainProvider(this._network),this._initializeConnection()}get apiPrefix(){return"https://api.taal.com/api/v1/broadcast"}isConnected(){return this._provider.isConnected()}connect(){return sv(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return sv(this,void 0,void 0,function*(){yield this._ready();let s=Math.max(1,e.length/2/1024),u=Math.max(1e4,1e3*s);try{return(yield(0,Yfe.post)("https://api.taal.com/api/v1/broadcast").timeout({response:u,deadline:6e4}).set("Content-Type","application/octet-stream").set("Authorization",this.apiKey).send(I.Buffer.from(e,"hex"))).text}catch(o){throw((r=o.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=o.response)===null||n===void 0?void 0:n.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((i=o.response)===null||i===void 0?void 0:i.body)}`):new Error(`TaalProvider ERROR: ${o.message}`)}})}listUnspent(e,r){return sv(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return sv(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return sv(this,void 0,void 0,function*(){try{let i=yield(0,Yfe.get)("https://api.taal.com/mapi/feeQuote").timeout({response:5e3,deadline:1e4}).set("Authorization",this.apiKey);JSON.parse(i.body.payload).fees.forEach(u=>{u.feeType=="standard"&&(this._feePerKb=u.miningFee.satoshis*1e3/u.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`TaalProvider ERROR: ${i.message}`)}})}};sm.TaalProvider=WH});var Jfe=$(om=>{"use strict";B();k();var um=om&&om.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(om,"__esModule",{value:!0});om.FallbackProvider=void 0;var XH=ld(),Xfe={stallTimeout:400,priority:1,weight:1};function uv(t){if(t==null||t instanceof Error)return"null";if(Array.isArray(t))return"["+t.map(uv).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return uv(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${uv(t[r])}`).join(",")+"}"}}throw new Error(`Could not serialize ${t}`)}function Zfe(t){if("error"in t){let r=t.error;return{tag:uv(r),value:r}}let e=t.result;return{tag:uv(e),value:e}}function oWe(t,e){let r=new Map;for(let{value:i,tag:s,weight:u}of e){let o=r.get(s)||{value:i,weight:0};o.weight+=u,r.set(s,o)}let n=null;if(r.forEach((i,s)=>{i.weight>=t&&(!n||i.weight>n.weight)&&(n=i)}),n)return n.value}function aWe(t,e){let r=oWe(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}var ZH=class extends XH.Provider{constructor(e){if(super(),this.configs=e.map(n=>n instanceof XH.Provider?Object.assign({provider:n},Xfe):Object.assign({},Xfe,n)).sort((n,i)=>i.priority-n.priority),this.configs.length===0)throw new Error("No providers passed when initializing a FallbackProvider");let r=this.configs[0].provider.getNetwork();if(!this.configs.every(n=>n.provider.getNetwork()===r))throw new Error("All the providers passed should have the same network when initializing a FallbackProvider");if(this.quorum=2,this.quorum>this.configs.reduce((n,i)=>n+i.weight,0))throw new Error("quorum exceed provider wieght")}isConnected(){let e=!1;return this.configs.forEach(r=>{e=e||r.provider.isConnected()}),e}connect(){return um(this,void 0,void 0,function*(){return yield this._getBestProviderResult(e=>e.connect()),Promise.resolve(this)})}updateNetwork(e){this.configs.forEach(r=>r.provider.updateNetwork(e))}getNetwork(){return this.configs[0].provider.getNetwork()}getFeePerKb(){return this._getBestProviderResult(e=>e.getFeePerKb())}sendRawTransaction(e){return this.perform("sendRawTransaction",r=>r.sendRawTransaction(e))}getTransaction(e){return this.perform("getTransaction",r=>r.getTransaction(e))}listUnspent(e,r){return this.perform("listUnspent",n=>n.listUnspent(e,r))}getBalance(e){return this.perform("getBalance",r=>r.getBalance(e))}_getBestProviderResult(e){return um(this,void 0,void 0,function*(){let r=yield Promise.all(this.configs.map(({provider:i,weight:s})=>um(this,void 0,void 0,function*(){try{let u=yield e(i);return Object.assign(Zfe({result:u}),{weight:s})}catch{return Object.assign(Zfe({result:50}),{weight:s})}}))),n=aWe(this.quorum,r);if(n instanceof Error)throw n;return n})}_getFastProviderResult(e){return um(this,void 0,void 0,function*(){return yield new Promise((n,i)=>{let s=0;this.configs.forEach(({provider:u,weight:o})=>um(this,void 0,void 0,function*(){try{let a=yield e(u);n(a instanceof XH.Provider?this:a)}catch(a){s++,s>=this.configs.length&&n(a)}}))})})}perform(e,r){return um(this,void 0,void 0,function*(){let n=yield this._getFastProviderResult(r);if(n instanceof Error)throw n;return n})}};om.FallbackProvider=ZH});var tle=$(am=>{"use strict";B();k();var cWe=am&&am.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(am,"__esModule",{value:!0});am.DefaultProvider=void 0;var JH=Er(),fWe=ld(),lWe=VH(),dWe=Jfe(),hWe=KH(),pWe=YH(),Qfe=tv();function ele(t){return t==JH.bsv.Networks.testnet}var QH=class extends fWe.Provider{constructor(e){super(),this._providers=[],e=e||{network:JH.bsv.Networks.livenet};let r=e.network||JH.bsv.Networks.livenet;this._providers.push(new Qfe.WhatsonchainProvider(r)),(e.taal||ele(r))&&this._providers.push(new pWe.TaalProvider(e.taal)),(e.gorillapool||ele(r))&&this._providers.push(new lWe.GorillapoolProvider(r,e.gorillapool)),e.sensible&&this._providers.push(new hWe.SensibleProvider(r,e.sensible)),this._providers.length===0&&this._providers.push(new Qfe.WhatsonchainProvider(r))}get bestProvider(){return this._providers.length===1?"provider"in this._providers[0]?this._providers[0].provider:this._providers[0]:new dWe.FallbackProvider(this._providers)}isConnected(){return this.bestProvider.isConnected()}connect(){return cWe(this,void 0,void 0,function*(){return yield this.bestProvider.connect(),this})}updateNetwork(e){this.bestProvider.updateNetwork(e)}getNetwork(){return this.bestProvider.getNetwork()}getFeePerKb(){return this.bestProvider.getFeePerKb()}sendRawTransaction(e){return this.bestProvider.sendRawTransaction(e)}getTransaction(e){return this.bestProvider.getTransaction(e)}listUnspent(e,r){return this.bestProvider.listUnspent(e,r)}getBalance(e){return this.bestProvider.getBalance(e)}};am.DefaultProvider=QH});var nle=$(Nx=>{"use strict";B();k();Object.defineProperty(Nx,"__esModule",{value:!0});Nx.DummyProvider=void 0;var eL=Er(),bWe=ld(),rle=Ua(),gWe=P0(),tL=class extends bWe.Provider{constructor(e){super(),this.satoshisArray=e}isConnected(){return!0}connect(){return Promise.resolve(this)}updateNetwork(e){}getNetwork(){return eL.bsv.Networks.testnet}getFeePerKb(){return Promise.resolve(1)}sendRawTransaction(e){return Promise.resolve(e)}getTransaction(e){throw new Error("Method not implemented.")}listUnspent(e,r){if(this.satoshisArray){let n=this.satoshisArray.map(i=>({txId:(0,rle.randomBytes)(32).toString("hex"),outputIndex:0,script:eL.bsv.Script.fromAddress(e).toHex(),satoshis:i}));return r?Promise.resolve((0,gWe.filterUTXO)(n,r)):Promise.resolve(n)}return Promise.resolve([{txId:(0,rle.randomBytes)(32).toString("hex"),outputIndex:0,script:eL.bsv.Script.fromAddress(e).toHex(),satoshis:9999999999}])}getBalance(e){throw new Error("Method not implemented.")}};Nx.DummyProvider=tL});var ile=$(Dx=>{"use strict";B();k();Object.defineProperty(Dx,"__esModule",{value:!0});Dx.GetTransactionAction=void 0;var mWe=Er(),rL=class{constructor(){this.method="GET",this.pathPattern="/tx/:txId"}serilizeRequest(e){return e}deserilizeResponse(e,r){return new mWe.bsv.Transaction(e.txHex)}};Dx.GetTransactionAction=rL});var sle=$(Hx=>{"use strict";B();k();Object.defineProperty(Hx,"__esModule",{value:!0});Hx.GetBalanceAction=void 0;var nL=class{constructor(){this.method="GET",this.pathPattern="/address/:address/balance"}serilizeRequest(e){return{address:e.address.toString()}}deserilizeResponse(e,r){return e}};Hx.GetBalanceAction=nL});var ule=$(Lx=>{"use strict";B();k();Object.defineProperty(Lx,"__esModule",{value:!0});Lx.SendRawTransactionAction=void 0;var iL=class{constructor(){this.method="POST",this.pathPattern="/tx"}serilizeRequest(e){return e}deserilizeResponse(e,r){return e.txId}};Lx.SendRawTransactionAction=iL});var ole=$(Ux=>{"use strict";B();k();Object.defineProperty(Ux,"__esModule",{value:!0});Ux.ListUnspentAction=void 0;var yWe=P0(),sL=class{constructor(){this.method="GET",this.pathPattern="/address/:address/utxo"}serilizeRequest(e){return{address:e.address.toString(),options:e.options}}deserilizeResponse(e,r){let n=r.address.toString();e.forEach(s=>(s.address=n,s));let i=r.options;return i?(0,yWe.filterUTXO)(e,i):e}};Ux.ListUnspentAction=sL});var ale=$($x=>{"use strict";B();k();Object.defineProperty($x,"__esModule",{value:!0});$x.GetFeePerKBAction=void 0;var uL=class{constructor(){this.method="GET",this.pathPattern="/feeperkb"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return e.satoshis}};$x.GetFeePerKBAction=uL});var cle=$(qx=>{"use strict";B();k();Object.defineProperty(qx,"__esModule",{value:!0});qx.ConnectAction=void 0;var oL=class{constructor(){this.method="GET",this.pathPattern="/health"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return{success:e.status==="ok",error:""}}};qx.ConnectAction=oL});var cL=$(fm=>{"use strict";B();k();var cm=fm&&fm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(fm,"__esModule",{value:!0});fm.BsvApi=void 0;var vWe=ile(),SWe=sle(),_We=ule(),wWe=ole(),EWe=ale(),AWe=cle(),aL=class{constructor(e){this._core=e}getTransaction(e){return cm(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new vWe.GetTransactionAction,{txId:e})})}getBalance(e){return cm(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new SWe.GetBalanceAction,{address:e})})}getFeePerKB(){return cm(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new EWe.GetFeePerKBAction,{})})}connect(){return cm(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new AWe.ConnectAction,{})})}sendRawTransaction(e){return cm(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new _We.SendRawTransactionAction,{txHex:e})})}listUnspent(e,r){return cm(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new wWe.ListUnspentAction,{address:e,options:r})})}};fm.BsvApi=aL});var fle=$(jx=>{"use strict";B();k();Object.defineProperty(jx,"__esModule",{value:!0});jx.GetLatestInstanceAction=void 0;var fL=class{constructor(){this.method="GET",this.pathPattern="/contract/:txId/:outputIndex/utxo"}serilizeRequest(e){let{contractId:r}=e;return r}deserilizeResponse(e,r){if(e.length===0)throw new Error("The utxo related to the contract was not found, please check whether the contract artifact has been uploaded.");let n=r.clazz.fromLockingScript(e[0].script);return n.from=e[0],n}};jx.GetLatestInstanceAction=fL});var dle=$(Kx=>{"use strict";B();k();Object.defineProperty(Kx,"__esModule",{value:!0});Kx.SyncHashedPropsAction=void 0;var TWe=Qg(),lL=IH(),lle=q1();BigInt.prototype.toJSON=function(){return this.toString()};var dL=class{constructor(){this.method="POST",this.pathPattern="/contract/syncHashedProps?txId=:txId&outputIndex=:outputIndex"}serilizeRequest(e){let r=e.instance,n=(Reflect.getMetadata(TWe.PropsMetaKey,r)||[]).filter(s=>r[s]instanceof lL.HashedMap||r[s]instanceof lle.HashedSet).map(s=>{let u=r[s],o;return(r[s]instanceof lL.HashedMap||r[s]instanceof lle.HashedSet)&&(u=Array.from(r[s].entries()),o=r[s]._type),{name:s,type:r[s]instanceof lL.HashedMap?"HashedMap":"HashedSet",value:u}}),i=r.utxo;return{txId:i.txId,outputIndex:i.outputIndex,props:n}}deserilizeResponse(e,r){}};Kx.SyncHashedPropsAction=dL});var ple=$(Z1=>{"use strict";B();k();var xWe=Z1&&Z1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},IWe=Z1&&Z1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Z1,"__esModule",{value:!0});Z1.getTransaction=void 0;var PWe=IWe(Cu()),hle=Er();function OWe(t,e){return xWe(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.name===hle.bsv.Networks.mainnet.name?"main":"test"}`;return(0,PWe.default)("GET",`${n}/tx/${e}/hex`).timeout(2e5).retry(2).then(i=>{if(i.ok)return new hle.bsv.Transaction(i.text);throw i.error?i.error:`getTransaction error ${e}`})})}Z1.getTransaction=OWe});var bL=$(lm=>{"use strict";B();k();var hL=lm&&lm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(lm,"__esModule",{value:!0});lm.ContractApi=void 0;var BWe=fle(),kWe=dle(),CWe=ple(),FWe=EF(),RWe=t=>new Promise(e=>setTimeout(e,t)),ble=(t,e,r,n)=>new Promise((i,s)=>t().then(i).catch(u=>r>0&&(n&&n(u)||typeof n>"u")?RWe(e).then(ble.bind(null,t,e,r-1)).then(i).catch(s):s(u))),pL=class{constructor(e){this._core=e}syncHashedProps(e){return hL(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new kWe.SyncHashedPropsAction,{instance:e})})}getLatestInstance(e,r){return hL(this,void 0,void 0,function*(){return yield ble(()=>this._core.actionResolver.resolve(new BWe.GetLatestInstanceAction,{clazz:e,contractId:r}),3e3,10,i=>i.message.includes("The utxo related to the contract was not found"))})}subscribe(e,r){let n=this,i=this._core.getBaseUrl(),s=this._core.getApiKey(),u=FWe(i,{path:"/streams/contract",query:e.id,auth:{token:s}}),o=()=>{u.close(),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`),n._core.logger.info("unsubscribe",`The connection to ${e.id.txId}:${e.id.outputIndex} has been unsubscribed.`)};return u.on("connect",function(){n._core.logger.info("Connected",`The connection to ${e.id.txId}:${e.id.outputIndex} has been established.`)}),u.on("connect_error",a=>{n._core.logger.error("connect_error","The connection")}),u.on("utxoSpent",function(a){return hL(this,void 0,void 0,function*(){n._core.logger.debug("utxoSpent",`Got message ${e.id.txId}:${e.id.outputIndex}: ${a}`);let l=e.clazz,f=yield(0,CWe.getTransaction)(n._core.getNetWork(),a.spentBy.txId),c=l.parseCallData(f,a.spentBy.inputIndex);if(Array.isArray(e.methodNames)&&!e.methodNames.includes(c.methodName))return;let h=Array.isArray(a.createdInSpentTxOutputs)?a.createdInSpentTxOutputs.map(d=>l.fromTx(f,d)):[];r({nexts:h,methodName:c.methodName,args:c.args.map(d=>d.value),tx:f})})}),u.on("subscribeFailed",function(a){n._core.logger.error("subscribeFailed",`Subscribe contract ${e.id.txId}:${e.id.outputIndex} failed: ${a}.`),o()}),u.on("error",function({statusCode:a,errorMsg:l}){n._core.logger.error("websocket error",`statusCode=${a}, errorMsg=${l}`),o()}),u.on("disconnect",function(){n._core.logger.info("Disconnected",`The connection to ${e.id.txId}:${e.id.outputIndex} disconnected.`),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`)}),this._core.events.set(`${e.id.txId}:${e.id.outputIndex}`,u),{unsubscribe:o}}};lm.ContractApi=pL});var gL=$(J1=>{"use strict";B();k();var MWe=J1&&J1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},NWe=J1&&J1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J1,"__esModule",{value:!0});J1.RequestController=void 0;var DWe=NWe(Cu()),gle=Er(),$5;(function(t){t.apiKey="apiKey",t.network="network",t.timeout="timeout",t.maxRetries="maxRetries"})($5||($5={}));var ov=class{constructor(e,r){this._config=e,this._logger=r}request(e){return MWe(this,void 0,void 0,function*(){this._logger.debug(this.constructor.name,`[${e.method}]request ${e.pathPattern}`,e.data);let r=(0,DWe.default)(e.method,ov.getUrl(this.baseUrl,e.pathPattern,e.data)).auth(this._config.get($5.apiKey),{type:"bearer"}).set("Content-Type","application/json").timeout(this._config.get($5.timeout,2e4)).retry(this._config.get($5.maxRetries,3));for(let n in e.headers||{})r=r.set(n,e.headers[n]);e.data&&(e.method==="GET"?r=r.query(e.data):r=r.send(e.data));try{let n=yield r;if(n.ok)return n.body;throw new Error(n.text)}catch(n){throw this._logger.error(this.constructor.name,n.message),n}})}get network(){return this._config.get($5.network,gle.bsv.Networks.mainnet)}get apiKey(){return this._config.get($5.apiKey,"")}get baseUrl(){let e=this.network===gle.bsv.Networks.mainnet?"https://api.scrypt.io":"https://testnet-api.scrypt.io";return process.env.BASEURL||e}static getUrl(e,r,n){let i=r.match(/:\w+/g)||[],s=r;for(let u of i){let o=u.replace(":",""),a=n[o];if(a===void 0)throw new Error(`Missing path argument ${o}`);if(typeof a!="string"&&typeof a!="number")throw new Error(`Path argument ${o} must be a string or number`);s=s.replace(u,a.toString())}return`${e.replace(/\/+$/,"")}/${s.replace(/^\/+/,"")}`}};J1.RequestController=ov});var yL=$(Q1=>{"use strict";B();k();var HWe=Q1&&Q1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Q1,"__esModule",{value:!0});Q1.ActionResolver=Q1.ActionError=void 0;var LWe=gL(),zx=class extends Error{constructor(e,r){super(r),this.statusCode=e,this.message=r}};Q1.ActionError=zx;var mL=class{constructor(e,r){this._requestController=e,this._loggerController=r}resolve(e,r){return HWe(this,void 0,void 0,function*(){let n=e.serilizeRequest(r),i=yield this._requestController.request({pathPattern:e.pathPattern,method:e.method,data:n});if(i.statusCode!==0){let s=LWe.RequestController.getUrl("/",e.pathPattern,n),u=`Action [${e.method} ${s}] failed with error code ${i.statusCode}, ${i.errorMsg}`;throw this._loggerController.error(this.constructor.name,u,i.data||""),new zx(i.statusCode,i.errorMsg)}return e.deserilizeResponse(i.data,r)})}};Q1.ActionResolver=mL});var mle=$(Vx=>{"use strict";B();k();Object.defineProperty(Vx,"__esModule",{value:!0});Vx.Config=void 0;var vL=class{constructor(){this.options=new Map,this.isInitialized=!1}get(e,r){if(!this.isInitialized)throw new Error("Config is not initialized");let n=this.options.get(e);if(!n&&r===void 0)throw new Error(`Config option ${e} not found`);return n||r}set(e,r){this.options.set(e,r)}finishInit(){this.isInitialized=!0}};Vx.Config=vL});var vle=$(Gx=>{"use strict";B();k();Object.defineProperty(Gx,"__esModule",{value:!0});Gx.LoggerController=void 0;var yle={verbose:0,debug:1,info:2,warning:3,error:4,off:5},SL;(function(t){t.logLevel="logLevel"})(SL||(SL={}));var _L=class{constructor(e){this.config=e}logLevel(){return this.config.get(SL.logLevel,"info")}verbose(e,r,...n){this._log("verbose",e,r,...n)}debug(e,r,...n){this._log("debug",e,r,...n)}info(e,r,...n){this._log("info",e,r,...n)}warning(e,r,...n){this._log("warning",e,r,...n)}error(e,r,...n){this._log("error",e,r,...n)}_log(e,r,n,...i){let s=yle[this.logLevel()];if(yle[e]<s)return;let o=`[${e.toUpperCase()}][#${r}]: `;switch(e){case"verbose":case"debug":console.debug(o,n,...i);break;case"info":console.log(o,n,...i);break;case"warning":console.warn(o,n,...i);break;case"error":console.error(o,n,...i)}}};Gx.LoggerController=_L});var Sle=$(Wx=>{"use strict";B();k();Object.defineProperty(Wx,"__esModule",{value:!0});Wx.Core=void 0;var UWe=yL(),$We=mle(),qWe=vle(),jWe=gL(),wL=class{constructor(){this.config=new $We.Config,this.logger=new qWe.LoggerController(this.config),this.requestController=new jWe.RequestController(this.config,this.logger),this.actionResolver=new UWe.ActionResolver(this.requestController,this.logger),this.events=new Map}init(e){Object.keys(e).forEach(r=>{this.config.set(r,e[r])}),this.config.finishInit()}getNetWork(){return this.requestController.network}getApiKey(){return this.requestController.apiKey}getBaseUrl(){return this.requestController.baseUrl}};Wx.Core=wL});var EL=$(dd=>{"use strict";B();k();Object.defineProperty(dd,"__esModule",{value:!0});dd.BsvApi=dd.ContractApi=dd.ActionError=dd.Scrypt=void 0;var KWe=cL(),zWe=bL(),VWe=Sle(),Yx=new VWe.Core,GWe=new KWe.BsvApi(Yx),WWe=new zWe.ContractApi(Yx);dd.Scrypt={bsvApi:GWe,contractApi:WWe,init(t){Yx.init(t)},getConfig(t,e){return Yx.config.get(t,e)}};var YWe=yL();Object.defineProperty(dd,"ActionError",{enumerable:!0,get:function(){return YWe.ActionError}});var XWe=bL();Object.defineProperty(dd,"ContractApi",{enumerable:!0,get:function(){return XWe.ContractApi}});var ZWe=cL();Object.defineProperty(dd,"BsvApi",{enumerable:!0,get:function(){return ZWe.BsvApi}})});var wle=$(hm=>{"use strict";B();k();var dm=hm&&hm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(hm,"__esModule",{value:!0});hm.ScryptProvider=void 0;var _le=Er(),JWe=ld(),q5=EL(),AL=class extends JWe.Provider{constructor(){super(),this._isConnected=!1;let e=q5.Scrypt.getConfig("network","mainnet");this.network=e==="mainnet"?_le.bsv.Networks.livenet:_le.bsv.Networks.testnet,this._initializeConnection()}isConnected(){return this._isConnected}connect(){var e;return dm(this,void 0,void 0,function*(){try{let{success:r,error:n}=yield q5.Scrypt.bsvApi.connect();if(this._isConnected=r,!r)throw new Error(n);this.emit("connected",!0)}catch(r){throw this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return this})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}getFeePerKb(){return dm(this,void 0,void 0,function*(){return yield this._ready(),q5.Scrypt.bsvApi.getFeePerKB()})}sendRawTransaction(e){return dm(this,void 0,void 0,function*(){return yield this._ready(),q5.Scrypt.bsvApi.sendRawTransaction(e)})}getTransaction(e){return dm(this,void 0,void 0,function*(){return yield this._ready(),q5.Scrypt.bsvApi.getTransaction(e)})}listUnspent(e,r){return dm(this,void 0,void 0,function*(){return yield this._ready(),q5.Scrypt.bsvApi.listUnspent(e,r)})}getBalance(e){return dm(this,void 0,void 0,function*(){return yield this._ready(),q5.Scrypt.bsvApi.getBalance(e)})}};hm.ScryptProvider=AL});var Ele=$(So=>{"use strict";B();k();Object.defineProperty(So,"__esModule",{value:!0});So.ScryptProvider=So.DummyProvider=So.DefaultProvider=So.TaalProvider=So.GorillapoolProvider=So.SensibleProvider=So.WhatsonchainProvider=void 0;var QWe=tv();Object.defineProperty(So,"WhatsonchainProvider",{enumerable:!0,get:function(){return QWe.WhatsonchainProvider}});var eYe=KH();Object.defineProperty(So,"SensibleProvider",{enumerable:!0,get:function(){return eYe.SensibleProvider}});var tYe=VH();Object.defineProperty(So,"GorillapoolProvider",{enumerable:!0,get:function(){return tYe.GorillapoolProvider}});var rYe=YH();Object.defineProperty(So,"TaalProvider",{enumerable:!0,get:function(){return rYe.TaalProvider}});var nYe=tle();Object.defineProperty(So,"DefaultProvider",{enumerable:!0,get:function(){return nYe.DefaultProvider}});var iYe=nle();Object.defineProperty(So,"DummyProvider",{enumerable:!0,get:function(){return iYe.DummyProvider}});var sYe=wle();Object.defineProperty(So,"ScryptProvider",{enumerable:!0,get:function(){return sYe.ScryptProvider}})});var j5=$(Wh=>{"use strict";B();k();var av=Wh&&Wh.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.Signer=Wh.DEFAULT_SIGHASH_TYPE=void 0;var e6=Er();Wh.DEFAULT_SIGHASH_TYPE=e6.bsv.crypto.Signature.ALL;var TL=class{constructor(e){this._isSigner=!0,this.provider=e}signRawTransaction(e,r){return av(this,void 0,void 0,function*(){return(yield this.signTransaction(new e6.bsv.Transaction(e),r)).toString()})}signTransaction(e,r){return av(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=(r?.sigRequests||[]).reduce((o,a)=>(o.set(a.inputIndex,a),o),new Map);e.inputs.forEach((o,a)=>{if(o.output){let l=i.get(a);if(!l)return;if((l.scriptHex?l.scriptHex:e6.bsv.Script.buildPublicKeyHashOut(l.address.toString()).toHex())!==o.output.script.toHex())throw new Error(`\`SignatureRequest\` script is not match the script of input: ${a}`);if(l.satoshis!==o.output.satoshis)throw new Error(`\`SignatureRequest\` satoshis is not match the satoshis of input: ${a}`)}else{let l=i.get(a);if(!l)throw new Error(`\`SignatureRequest\` info should be provided for the input ${a} to call #signTransaction`);let f=l.scriptHex?new e6.bsv.Script(l.scriptHex):e6.bsv.Script.buildPublicKeyHashOut(l.address.toString());o.output=new e6.bsv.Transaction.Output({script:f,satoshis:l.satoshis})}});let s=e.inputs.map((o,a)=>{var l,f,c,h,d;if(!((f=(l=o.output)===null||l===void 0?void 0:l.script)===null||f===void 0)&&f.isPublicKeyHashOut()){let p=o.output.script.toAddress(n);return{prevTxId:(0,e6.toHex)(o.prevTxId),outputIndex:o.outputIndex,inputIndex:a,satoshis:(c=o.output)===null||c===void 0?void 0:c.satoshis,address:p,scriptHex:(d=(h=o.output)===null||h===void 0?void 0:h.script)===null||d===void 0?void 0:d.toHex(),sigHashType:Wh.DEFAULT_SIGHASH_TYPE}}else return}).filter(o=>typeof o=="object"),u=yield this.getSignatures(e.toString(),s);return e.inputs.forEach((o,a)=>{var l;let f=u.find(c=>c.inputIndex===a);if(f&&((l=o.output)===null||l===void 0?void 0:l.script.isPublicKeyHashOut())){let c=new e6.bsv.Script("").add(I.Buffer.from(f.sig,"hex")).add(I.Buffer.from(f.publicKey,"hex"));o.setScript(c)}}),e})}get connectedProvider(){if(!this.provider)throw new Error(`the provider of signer ${this.constructor.name} is not set yet!`);return this.provider}signAndsendTransaction(e,r){return av(this,void 0,void 0,function*(){yield e.sealAsync();let n=yield this.signTransaction(e,r);return yield this.connectedProvider.sendTransaction(n),n})}listUnspent(e,r){return this.connectedProvider.listUnspent(e,r)}getBalance(e){return av(this,void 0,void 0,function*(){return e=e||(yield this.getDefaultAddress()),this.connectedProvider.getBalance(e)})}static isSigner(e){return!!(e&&e._isSigner)}alignProviderNetwork(){var e;return av(this,void 0,void 0,function*(){if(yield this.isAuthenticated()){yield(e=this.provider)===null||e===void 0?void 0:e.connect();let n=yield this.getNetwork();this.connectedProvider.updateNetwork(n)}})}};Wh.Signer=TL});var Tle=$(pm=>{"use strict";B();k();var Xh=pm&&pm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(pm,"__esModule",{value:!0});pm.TestWallet=void 0;var uYe=j5(),k0=Er(),oYe=P0(),aYe=k0.bsv.crypto.Signature.ALL,cv=class extends uYe.Signer{constructor(e,r){super(r),this.splitFeeTx=!0,e instanceof Array?this._privateKeys=e:this._privateKeys=[e],this.checkPrivateKeys(),this._utxoManagers=new Map}static random(e,r=k0.bsv.Networks.testnet){return new cv(k0.bsv.PrivateKey.fromRandom(r),e)}enableSplitFeeTx(e){this.splitFeeTx=e}isAuthenticated(){return Xh(this,void 0,void 0,function*(){return Promise.resolve(!0)})}requestAuth(){return Xh(this,void 0,void 0,function*(){return Promise.resolve({isAuthenticated:!0,error:""})})}get network(){return this.provider.getNetwork()}get addresses(){return this._privateKeys.map(e=>e.toAddress(this.network).toString())}addPrivateKey(e){let r=e instanceof Array?e:[e];return this._privateKeys.push(...r),this.checkPrivateKeys(),this}checkPrivateKeys(){let e=this._privateKeys.map(r=>r.toAddress().network);if(!e.every(r=>r.name===e[0].name))throw new Error(`All private keys should be ${e[0].name} private key`);return e[0]}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Promise.resolve(this._defaultPrivateKey.toAddress())}getDefaultPubKey(){return Promise.resolve(this._defaultPrivateKey.toPublicKey())}getPubKey(e){return Promise.resolve(this._getPrivateKeys(e)[0].toPublicKey())}getNetwork(){return Promise.resolve(this._defaultPrivateKey.toAddress().network)}getBalance(e){let r=Object.create(null,{getBalance:{get:()=>super.getBalance}});return Xh(this,void 0,void 0,function*(){e=e||(yield this.getDefaultAddress());let n=this._utxoManagers.get(e.toString());return n?{confirmed:n.balance(),unconfirmed:0}:r.getBalance.call(this,e)})}signTransaction(e,r){return Xh(this,void 0,void 0,function*(){let n=r?.address;return this._checkAddressOption(n),Promise.resolve(e.sign(this._getPrivateKeys(n)))})}signMessage(e,r){throw new Error("Method #signMessage not implemented.")}getSignatures(e,r){this._checkAddressOption(this._getAddressesIn(r));let n=new k0.bsv.Transaction(e),i=r.flatMap(s=>{let u=s.scriptHex?new k0.bsv.Script(s.scriptHex):k0.bsv.Script.buildPublicKeyHashOut((0,oYe.parseAddresses)(s.address,this.network)[0]);return n.inputs[s.inputIndex].output=new k0.bsv.Transaction.Output({script:u,satoshis:s.satoshis}),this._getPrivateKeys(s.address).map(a=>{let l=s.csIdx!==void 0?u.subScript(s.csIdx):u;return{sig:(0,k0.signTx)(n,a,l,s.satoshis,s.inputIndex,s.sigHashType),publicKey:a.publicKey.toString(),inputIndex:s.inputIndex,sigHashType:s.sigHashType||aYe,csIdx:s.csIdx}})});return Promise.resolve(i)}listUnspent(e,r){return Xh(this,void 0,void 0,function*(){if(this.splitFeeTx){let n=this._utxoManagers.get(e.toString());if(n||(n=new xL(e,this),this._utxoManagers.set(e.toString(),n),yield n.init()),r){let i=r.unspentValue,s=r.estimateSize,u=r.feePerKb,o=Math.ceil(s/1e3*u-i);return o+=Math.ceil(((r.additional||0)+180)/1e3*u),n.fetchUtxos(o)}else return n.fetchUtxos(0)}else return this.provider.listUnspent(e,r)})}_getAddressesIn(e){return(e||[]).flatMap(r=>r.address instanceof Array?r.address:[r.address])}_checkAddressOption(e){if(!!e){if(e instanceof Array)e.forEach(r=>this._checkAddressOption(r));else if(!this.addresses.includes(e.toString()))throw new Error(`the address ${e.toString()} does not belong to this TestWallet`)}}get _defaultPrivateKey(){return this._privateKeys[0]}_getPrivateKeys(e){if(!e)return[this._defaultPrivateKey];this._checkAddressOption(e);let r=[];return e instanceof Array?e.forEach(n=>r.push(n.toString())):r.push(e.toString()),this._privateKeys.filter(n=>r.includes(n.toAddress(this.network).toString()))}signAndsendTransaction(e,r){let n=Object.create(null,{signAndsendTransaction:{get:()=>super.signAndsendTransaction}});return Xh(this,void 0,void 0,function*(){let i=yield n.signAndsendTransaction.call(this,e,r),s=yield this.getDefaultAddress(),u=this._utxoManagers.get(s.toString());return u&&u.collectUtxoFromTx(e),i})}};pm.TestWallet=cv;var Yh;(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.INITIALIZING=1]="INITIALIZING",t[t.INITIALIZED=2]="INITIALIZED"})(Yh||(Yh={}));var xL=class{constructor(e,r){this.availableUtxos=[],this.initStates=Yh.UNINITIALIZED,this.initUtxoCnt=0,this.feePerkb=50,this.address=e,this.signer=r}init(){return Xh(this,void 0,void 0,function*(){if(this.initStates===Yh.INITIALIZED)return this;for(this.initStates===Yh.UNINITIALIZED&&(this.initStates=Yh.INITIALIZING,this.availableUtxos=yield this.signer.connectedProvider.listUnspent(this.address),this.feePerkb=yield this.signer.connectedProvider.getFeePerKb(),this.initStates=Yh.INITIALIZED,this.initUtxoCnt=this.availableUtxos.length);this.initStates===Yh.INITIALIZING;)yield Ale(1);return this})}balance(){return this.availableUtxos.reduce((e,r)=>e+r.satoshis,0)}fetchUtxos(e){return Xh(this,void 0,void 0,function*(){if(this.initStates===Yh.INITIALIZED&&this.initUtxoCnt>0&&this.availableUtxos.length===0)for(let l=0;l<30&&(console.log("waiting for available utxos"),yield Ale(1),!(this.availableUtxos.length>0));l++);if(e<=0)return this.availableUtxos.splice(0);let r=this.availableUtxos.sort((a,l)=>a.satoshis-l.satoshis);if(e>r.reduce((a,l)=>a+l.satoshis,0))throw new Error("no sufficient utxos to pay the fee of "+e);let n=0,i=0,s=1,u=0;for(let a=0;a<r.length;a++){i+=r[a].satoshis;let l=Math.ceil((180*(a+1)+(10+34)*2)*this.feePerkb/1e3);if(u=e+l+s,i>=u){n=a;break}}let o=r.slice(0,n+1);if(this.availableUtxos=r.slice(n+1),i>=u){let a=new k0.bsv.Transaction().from(o).addOutput(new k0.bsv.Transaction.Output({script:k0.bsv.Script.buildPublicKeyHashOut(this.address),satoshis:e})).feePerKb(this.feePerkb).change(this.address);yield this.signer.signAndsendTransaction(a);let l=this.availableUtxos.findIndex(f=>f.satoshis===e);return this.availableUtxos.splice(l,1)}else return o})}collectUtxoFromTx(e){let r=e.id;e.outputs.forEach((n,i)=>{this.collectUtxoFrom(n,r,i)})}collectUtxoFrom(e,r,n){e.script.toHex()===this.utxoScriptHex&&this.availableUtxos.push({txId:r,outputIndex:n,satoshis:e.satoshis,script:e.script.toHex()})}get utxoScriptHex(){return k0.bsv.Script.buildPublicKeyHashOut(this.address).toHex()}},Ale=t=>Xh(void 0,void 0,void 0,function*(){return new Promise(e=>{setTimeout(()=>{e({})},t*1e3)})})});var xle=$(bm=>{"use strict";B();k();var t6=bm&&bm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(bm,"__esModule",{value:!0});bm.SensiletSigner=void 0;var K5=Er(),cYe=j5(),fYe=P0(),Xx=class extends cYe.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnect()}requestAuth(){return t6(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.sensilet<"u")this._target=window.sensilet;else throw new Error("sensilet is not installed")}getConnectedTarget(){return t6(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.requestAccount();this._address=K5.bsv.Address.fromString(r)}catch(r){throw new Error(`Sensilet requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return t6(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddress();return K5.bsv.Address.fromString(r)})}getNetwork(){return t6(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return e?this.connectedProvider.getBalance(e):this.getConnectedTarget().then(r=>r.getBsvBalance()).then(r=>r.balance)}getDefaultPubKey(){return t6(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPublicKey();return Promise.resolve(new K5.bsv.PublicKey(r))})}getPubKey(e){return t6(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return t6(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield this.getConnectedTarget()).signMessage(e)})}getSignatures(e,r){return t6(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(o=>(0,fYe.parseAddresses)(o.address,n).map(l=>{let f=o.scriptHex;return f?o.csIdx!==void 0&&(f=K5.bsv.Script.fromHex(f).subScript(o.csIdx).toHex()):f=K5.bsv.Script.buildPublicKeyHashOut(l).toHex(),{txHex:e,inputIndex:o.inputIndex,scriptHex:f,satoshis:o.satoshis,sigtype:o.sigHashType||K5.DEFAULT_SIGHASH_TYPE,address:l.toString()}})),u=yield(yield this.getConnectedTarget()).signTx({list:i});return i.map((o,a)=>({inputIndex:o.inputIndex,sig:u.sigList[a].sig,publicKey:u.sigList[a].publicKey,sigHashType:r[a].sigHashType||K5.DEFAULT_SIGHASH_TYPE}))})}};bm.SensiletSigner=Xx;Xx.DEBUG_TAG="SensiletSigner"});var Ple=$(r6=>{"use strict";B();k();var hd=r6&&r6.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})},lYe=r6&&r6.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r6,"__esModule",{value:!0});r6.DotwalletSigner=void 0;var gm=Er(),dYe=j5(),Ile=P0(),Zx=lYe(Cu()),Jx={dapp_list_unspent:"/v1/grandet_dapp/dapp_list_unspent",dapp_list_unspent_by_address:"/v1/grandet_dapp/dapp_list_unspent_by_address",dapp_sign_raw_transaction:"/v1/grandet_dapp/dapp_sign_raw_transaction",dapp_get_signature:"/v1/grandet_dapp/dapp_get_signature",dapp_get_balance:"/v1/grandet_dapp/dapp_get_balance",dapp_send_raw_transaction:"/v1/grandet_dapp/dapp_send_raw_transaction",dapp_get_raw_change_address:"/v1/grandet_dapp/dapp_get_raw_change_address",dapp_get_public_key:"/v1/grandet_dapp/dapp_get_public_key",get_access_token:"/v1/oauth2/get_access_token"};function Qx(t){if(t.ok){let e=t.body?t.body:JSON.parse(t.text),{code:r,data:n,msg:i}=e;if(r===0)return n;throw r===75e3&&window.localStorage.removeItem("access_token"),new Error(`error response, code = ${r}, msg: ${i}`)}else throw new Error("error response")}var eI="https://api.ddpurse.com",tI=class extends dYe.Signer{constructor(e,r){super(r),this.sender={appid:"bsv_coin_regular",user_index:0},this.utxos_public_key=new Map,this.accessToken=e}isAuthenticated(){return this.accessToken?Promise.resolve(!0):Promise.resolve(!1)}requestAuth(){return hd(this,void 0,void 0,function*(){return this.accessToken?(yield this.alignProviderNetwork(),Promise.resolve({isAuthenticated:!0,error:""})):Promise.resolve({isAuthenticated:!1,error:""})})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return hd(this,void 0,void 0,function*(){return(yield this.getDefaultPubKey()).toAddress(gm.bsv.Networks.mainnet)})}getNetwork(){return hd(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return hd(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let r=yield Zx.default.post(`${eI}${Jx.dapp_get_balance}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),n=Qx(r),{confirm:i,unconfirm:s}=n;return{confirmed:i,unconfirmed:s}})}getDefaultPubKey(){return hd(this,void 0,void 0,function*(){if(this.default_public_key)return this.default_public_key;let e=yield Zx.default.post(`${eI}${Jx.dapp_get_public_key}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),r=Qx(e),{public_key:n}=r;return this.default_public_key=gm.bsv.PublicKey.fromString(n),this.default_public_key})}getPubKey(e){return hd(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return hd(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#signMessage not implemented.`)})}getSignatures(e,r){return hd(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(s=>(0,Ile.parseAddresses)(s.address,n).map(o=>{let a=s.scriptHex;return a?s.csIdx!==void 0&&(a=gm.bsv.Script.fromHex(a).subScript(s.csIdx).toHex()):a=gm.bsv.Script.buildPublicKeyHashOut(o).toHex(),{txHex:e,inputIndex:s.inputIndex,scriptHex:a,satoshis:s.satoshis,sigtype:s.sigHashType||gm.DEFAULT_SIGHASH_TYPE,prevTxId:s.prevTxId,outputIndex:s.outputIndex,address:o.toString()}}));return Promise.all(i.map(s=>hd(this,void 0,void 0,function*(){let u=yield Zx.default.post(`${eI}${Jx.dapp_get_signature}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,input_index:s.inputIndex,sig_type:s.sigtype,rawtx:e,addr:s.address}),o=Qx(u),{hex_signature:a}=o,l=this.utxos_public_key.get(`${s.prevTxId}:${s.outputIndex}`);return l||(l=(0,gm.toHex)(this.default_public_key)),{inputIndex:s.inputIndex,sig:a,publicKey:l,sigHashType:s.sigtype}})))})}listUnspent(e,r){return hd(this,void 0,void 0,function*(){let n=yield Zx.default.post(`${eI}${Jx.dapp_list_unspent}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,min_amount:0}),s=Qx(n).utxos.map(u=>({txId:u.tx_hash,outputIndex:u.output_index,satoshis:u.satoshis,script:u.script,address:u.addr,pubkey:u.pubkey}));return s.forEach(u=>{this.utxos_public_key.set(`${u.txId}:${u.outputIndex}`,u.pubkey)}),r?(0,Ile.filterUTXO)(s,r):s})}};r6.DotwalletSigner=tI;tI.DEBUG_TAG="DotwalletSigner"});var Cle=$(pd=>{"use strict";B();k();var IL=pd&&pd.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(pd,"__esModule",{value:!0});pd.sendAction=pd.TAALWalletAction=pd.sendMessageAndWaitForResponse=void 0;var fv=[],Ble=()=>IL(void 0,void 0,void 0,function*(){if(fv.length===0)return;let t=fv[0];try{let e=yield t.request();t.resolve(e)}catch(e){t.reject(e)}finally{fv.shift(),Ble()}}),hYe=0;function kle(t,e){return new Promise((r,n)=>{let i=hYe++;e.requestId=i;let s=()=>IL(this,void 0,void 0,function*(){return new Promise((u,o)=>{t.postMessage(e);function a(l){l.requestId===i&&(t.onMessage.removeListener(a),u(l))}t.onMessage.addListener(a),setTimeout(()=>{t.onMessage.removeListener(a),o(new Error("Timeout waiting for response"))},1e4)})});fv.push({request:s,resolve:r,reject:n}),fv.length===1&&Ble()})}pd.sendMessageAndWaitForResponse=kle;var Ole;(function(t){t.GetAddress="getAddress",t.GetBalance="getBalance",t.GetRootPublicKey="getRootPublicKey",t.GetPublicKey="getPublicKey",t.GetNetwork="getNetwork",t.SignTx="signTx",t.SignPreimage="signPreimage",t.SignMessage="signMessage"})(Ole||(pd.TAALWalletAction=Ole={}));function pYe(t,e,r){return IL(this,void 0,void 0,function*(){let i=yield kle(t,r?{action:e,payload:r}:{action:e});if(i.action==="error")throw new Error(i.payload.reason);return i})}pd.sendAction=pYe});var Rle=$(mm=>{"use strict";B();k();var qf=mm&&mm.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(mm,"__esModule",{value:!0});mm.TAALSigner=void 0;var bYe=j5(),C0=Er(),Fle=P0(),Ra=Cle(),PL=C0.bsv.crypto.Signature.ALL,gYe="engokokaoeppkmchbkjeoeimiffobcke",OL=class extends bYe.Signer{constructor(e,r="APP_NAME"){super(e),this._app_name=r}isAuthenticated(){return qf(this,void 0,void 0,function*(){return!!this._port})}requestAuth(){return qf(this,void 0,void 0,function*(){let e=!1,r="";try{this._port=chrome.runtime.connect(gYe,{name:this._app_name}),yield this.getDefaultAddress(),yield this.alignProviderNetwork(),e=!!this._port}catch(n){r=n.toString()}return{isAuthenticated:e,error:r}})}assertIsAuthenticated(){if(!this._port)throw new Error("TAAL chrome wallet is not connected!")}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return qf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,Ra.sendAction)(this._port,Ra.TAALWalletAction.GetAddress);return C0.bsv.Address.fromString(e.payload)})}getDefaultPubKey(){return qf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield this.getNetwork(),r=yield(0,Ra.sendAction)(this._port,Ra.TAALWalletAction.GetPublicKey),n=new C0.bsv.PublicKey(r.payload,{network:e});return Promise.resolve(n)})}getPubKey(e){return qf(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}getNetwork(){return qf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,Ra.sendAction)(this._port,Ra.TAALWalletAction.GetNetwork),r=C0.bsv.Networks.get(e.payload);return Promise.resolve(r)})}updateInputsWithInfo(e,r){return e.inputs.forEach((n,i)=>{let s=r.find(u=>u.inputIndex===i);s&&(n.output=new C0.bsv.Transaction.Output({satoshis:s.satoshis,script:C0.bsv.Script.fromHex(s.scriptHex)}))}),e}signTransaction(e,r){var n;return qf(this,void 0,void 0,function*(){let i=yield this.getNetwork(),s=yield this.getDefaultAddress(),u=!((n=r?.sigRequests)===null||n===void 0)&&n.length?r.sigRequests:e.inputs.map((d,p)=>{var m,w,x,_,y,S;let F=r&&r.address?r.address:!((m=d.output)===null||m===void 0)&&m.script.isPublicKeyHashOut()?d.output.script.toAddress(i):s;return{prevTxId:(0,C0.toHex)(d.prevTxId),outputIndex:d.outputIndex,inputIndex:p,satoshis:(x=(w=d.output)===null||w===void 0?void 0:w.satoshis)!==null&&x!==void 0?x:0,address:F,scriptHex:(S=(y=(_=d.output)===null||_===void 0?void 0:_.script)===null||y===void 0?void 0:y.toHex())!==null&&S!==void 0?S:"",sigHashType:PL}}),o=e.toString(),a=u.flatMap(d=>(0,Fle.parseAddresses)(d.address,i).map(m=>({txHex:o,inputIndex:d.inputIndex,scriptHex:d.scriptHex||C0.bsv.Script.buildPublicKeyHashOut(m).toHex(),satoshis:d.satoshis,sigtype:d.sigHashType||PL,address:m.toString()}))),l=this.updateInputsWithInfo(e,a);this.assertIsAuthenticated();let c=(yield(0,Ra.sendAction)(this._port,Ra.TAALWalletAction.SignTx,l)).payload,h=new C0.bsv.Transaction(c);return this.updateInputsWithInfo(h,a)})}getSignatures(e,r){return qf(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(u=>(0,Fle.parseAddresses)(u.address,n).map(a=>{let l=u.scriptHex;return u?u.csIdx!==void 0&&(l=C0.bsv.Script.fromHex(l).subScript(u.csIdx).toHex()):l=C0.bsv.Script.buildPublicKeyHashOut(a).toHex(),{tx:e,i:u.inputIndex,script:l,satoshis:u.satoshis,sighash:u.sigHashType||PL,address:a.toString()}}));return(yield Promise.all(i.map(u=>this.signCustomInput(u)))).map(u=>({inputIndex:u.inputIndex,sig:(0,C0.toHex)(u.signature),publicKey:u.publicKey.toString(),sigHashType:u.sigtype}))})}signMessage(e,r){return qf(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return this.assertIsAuthenticated(),(yield(0,Ra.sendAction)(this._port,Ra.TAALWalletAction.SignMessage,e)).payload})}getBalance(e){return qf(this,void 0,void 0,function*(){return e?this.connectedProvider.getBalance(e):{confirmed:(yield(0,Ra.sendAction)(this._port,Ra.TAALWalletAction.GetBalance)).payload,unconfirmed:0}})}signCustomInput(e){return qf(this,void 0,void 0,function*(){let r=yield this.getDefaultPubKey(),n=yield(0,Ra.sendAction)(this._port,Ra.TAALWalletAction.SignPreimage,e);return{inputIndex:e.i,sigtype:e.sighash,publicKey:r,signature:n.payload}})}};mm.TAALSigner=OL});var Mle=$(ym=>{"use strict";B();k();var gc=ym&&ym.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function o(f){try{l(n.next(f))}catch(c){u(c)}}function a(f){try{l(n.throw(f))}catch(c){u(c)}}function l(f){f.done?s(f.value):i(f.value).then(o,a)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ym,"__esModule",{value:!0});ym.PandaSigner=void 0;var mYe=j5(),rI=Er(),yYe=P0(),nI=class extends mYe.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnected()}requestAuth(){return gc(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.panda<"u")this._target=window.panda;else throw new Error("panda is not installed")}getConnectedTarget(){return gc(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.connect();if(r&&r.includes("canceled"))throw new Error(r)}catch(r){throw new Error(`panda requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return gc(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return rI.bsv.Address.fromString(r.bsvAddress)})}getOrdAddress(){return gc(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return rI.bsv.Address.fromString(r.ordAddress)})}getNetwork(){return gc(this,void 0,void 0,function*(){let e=yield this.getDefaultAddress();return Promise.resolve(e.network)})}getBalance(e){return gc(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let n=yield(yield this.getConnectedTarget()).getBalance();return Promise.resolve({confirmed:n.satoshis,unconfirmed:0})})}getDefaultPubKey(){return gc(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new rI.bsv.PublicKey(r.bsvPubKey))})}getOrdPubKey(){return gc(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new rI.bsv.PublicKey(r.ordPubKey))})}getOrdinals(){return gc(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getOrdinals();return Promise.resolve(r)})}transferOrdinal(e){return gc(this,void 0,void 0,function*(){let n=yield(yield this.getConnectedTarget()).transferOrdinal(e);return Promise.resolve(n)})}getPubKey(e){return gc(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return gc(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield(yield this.getConnectedTarget()).signMessage({message:e})).sig})}getSignatures(e,r){return gc(this,void 0,void 0,function*(){let n=yield this.getConnectedTarget(),i=yield this.getNetwork(),s=r.map(o=>({prevTxid:o.prevTxId,outputIndex:o.outputIndex,inputIndex:o.inputIndex,satoshis:o.satoshis,address:(0,yYe.parseAddresses)(o.address,i).map(a=>a.toString()),script:o.scriptHex,sigHashType:o.sigHashType,csIdx:o.csIdx,data:o.data}));return(yield n.getSignatures({rawtx:e,sigRequests:s})).map(o=>Object.assign(Object.assign({},o),{publicKey:o.pubKey}))})}};ym.PandaSigner=nI;nI.DEBUG_TAG="PandaSigner"});var Nle=$(bd=>{"use strict";B();k();Object.defineProperty(bd,"__esModule",{value:!0});bd.PandaSigner=bd.TAALSigner=bd.DotwalletSigner=bd.SensiletSigner=void 0;var vYe=xle();Object.defineProperty(bd,"SensiletSigner",{enumerable:!0,get:function(){return vYe.SensiletSigner}});var SYe=Ple();Object.defineProperty(bd,"DotwalletSigner",{enumerable:!0,get:function(){return SYe.DotwalletSigner}});var _Ye=Rle();Object.defineProperty(bd,"TAALSigner",{enumerable:!0,get:function(){return _Ye.TAALSigner}});var wYe=Mle();Object.defineProperty(bd,"PandaSigner",{enumerable:!0,get:function(){return wYe.PandaSigner}})});var n6=$(Zt=>{"use strict";B();k();var EYe=Zt&&Zt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jf=Zt&&Zt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&EYe(e,t,r)};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.TestWallet=Zt.Provider=Zt.replayToLatest=Zt.bsv=Zt.FunctionCall=Zt.buildOpreturnScript=Zt.buildPublicKeyHashScript=Zt.toHex=Zt.SmartContractLib=Zt.SmartContract=Zt.method=Zt.prop=Zt.P2PK=Zt.P2PKH=void 0;var Dle=Qg();Object.defineProperty(Zt,"prop",{enumerable:!0,get:function(){return Dle.prop}});Object.defineProperty(Zt,"method",{enumerable:!0,get:function(){return Dle.method}});var AYe=Q8();Object.defineProperty(Zt,"SmartContract",{enumerable:!0,get:function(){return AYe.SmartContract}});var TYe=_x();Object.defineProperty(Zt,"SmartContractLib",{enumerable:!0,get:function(){return TYe.SmartContractLib}});var xYe=kfe();Object.defineProperty(Zt,"P2PKH",{enumerable:!0,get:function(){return xYe.P2PKH}});var IYe=Rfe();Object.defineProperty(Zt,"P2PK",{enumerable:!0,get:function(){return IYe.P2PK}});jf(q1(),Zt);jf(H5(),Zt);jf(P0(),Zt);jf(Kg(),Zt);var iI=Er();Object.defineProperty(Zt,"toHex",{enumerable:!0,get:function(){return iI.toHex}});Object.defineProperty(Zt,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return iI.buildPublicKeyHashScript}});Object.defineProperty(Zt,"buildOpreturnScript",{enumerable:!0,get:function(){return iI.buildOpreturnScript}});Object.defineProperty(Zt,"FunctionCall",{enumerable:!0,get:function(){return iI.FunctionCall}});var PYe=HH();Object.defineProperty(Zt,"bsv",{enumerable:!0,get:function(){return PYe.bsv}});jf($fe(),Zt);jf(Kfe(),Zt);jf(Kg(),Zt);var OYe=Gfe();Object.defineProperty(Zt,"replayToLatest",{enumerable:!0,get:function(){return OYe.replayToLatest}});jf(Ele(),Zt);var BYe=ld();Object.defineProperty(Zt,"Provider",{enumerable:!0,get:function(){return BYe.Provider}});jf(j5(),Zt);var kYe=Tle();Object.defineProperty(Zt,"TestWallet",{enumerable:!0,get:function(){return kYe.TestWallet}});jf(Nle(),Zt);jf(EL(),Zt)});var Sm=$(Je=>{"use strict";B();k();var CYe=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Je,"__esModule",{value:!0});Je.getFee=Je.getDummyEcKey=Je.verifyContract=Je.toTokenAddress=Je.resetTx=Je.unScaleByDecimals=Je.scaleByDecimals=Je.toP2tr=Je.p2tr2Address=Je.toBitcoinNetwork=Je.toStateScript=Je.callToBufferList=Je.getDummyUTXO=Je.dummyUTXO=Je.getDummySigner=Je.outpoint2ByteString=Je.outpoint2TxOutpoint=Je.toTxOutpoint=Je.getClosedMinterContractP2TR=Je.getOpenMinterContractP2TR=Je.getOpenMinterContract=Je.getClosedMinterContract=Je.getTokenContractP2TR=Je.getTokenContract=Je.getGuardsP2TR=Je.GuardType=Je.script2P2TR=Je.contract2P2TR=Je.strToByteString=Je.byteStringToBuffer=Je.toXOnly=void 0;var vm=m0(),Hs=fc(),i6=n6(),z5=ID(),Hle=Ua(),FYe=CYe(ppe()),RYe=kL(),sI="0250929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0";function MYe(t){return t.subarray(1,33)}Je.toXOnly=MYe;var NYe=function(t){let e=[];for(let r of t)e.push(I.Buffer.from(r,"hex"));return e};Je.byteStringToBuffer=NYe;function DYe(t){return(0,i6.toByteString)(I.Buffer.from(t,"utf-8").toString("hex"))}Je.strToByteString=DYe;function uI(t){let e=t.lockingScript.toBuffer();return{...Lle(e),script:e.toString("hex"),contract:t}}Je.contract2P2TR=uI;function Lle(t){let e=z5.Tap.encodeScript(t),[r,n]=z5.Tap.getPubKey(sI,{target:e});return{p2tr:new Hs.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}Je.script2P2TR=Lle;var BL;(function(t){t[t.Transfer=0]="Transfer",t[t.Burn=1]="Burn"})(BL=Je.GuardType||(Je.GuardType={}));function Ule(t=BL.Transfer){let e=new vm.BurnGuard,r=new vm.TransferGuard,n=z5.Tap.encodeScript(e.lockingScript.toBuffer()),i=z5.Tap.encodeScript(r.lockingScript.toBuffer()),s=[n,i],[u]=z5.Tap.getPubKey(sI,{tree:s}),[,o]=z5.Tap.getPubKey(sI,{target:n,tree:s}),[,a]=z5.Tap.getPubKey(sI,{target:i,tree:s}),l=new Hs.btc.Script(`OP_1 32 0x${u}}`).toHex();return t===BL.Transfer?{p2tr:l,tapScript:i,cblock:a,script:r.lockingScript.toBuffer().toString("hex"),contract:r}:{p2tr:l,tapScript:n,cblock:o,script:e.lockingScript.toBuffer().toString("hex"),contract:e}}Je.getGuardsP2TR=Ule;function $le(t,e){return new vm.CAT20(t,(0,i6.toByteString)(e))}Je.getTokenContract=$le;function HYe(t){let{p2tr:e}=Ule();return uI($le(t,e))}Je.getTokenContractP2TR=HYe;function qle(t,e){return new vm.ClosedMinter(t,e)}Je.getClosedMinterContract=qle;function jle(t,e,r,n,i,s=Hs.MinterType.OPEN_MINTER_V2){if(s===Hs.MinterType.OPEN_MINTER_V1)return new vm.OpenMinter(t,e,r,n,i);let u=e/n,o=r/n;return new vm.OpenMinterV2(t,u,r,o,n,i)}Je.getOpenMinterContract=jle;function LYe(t,e,r,n,i,s){return uI(jle(t,e,r,n,i,s))}Je.getOpenMinterContractP2TR=LYe;function UYe(t,e){return uI(qle(t,e))}Je.getClosedMinterContractP2TR=UYe;function Kle(t,e){let r=I.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:I.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}Je.toTxOutpoint=Kle;function zle(t){let[e,r]=t.split("_");return Kle(e,parseInt(r))}Je.outpoint2TxOutpoint=zle;var $Ye=function(t){let e=zle(t);return e.txhash+e.outputIndex};Je.outpoint2ByteString=$Ye;function qYe(t){return new i6.TestWallet(i6.bsv.PrivateKey.fromWIF("cRn63kHoi3EWnYeT4e8Fz6rmGbZuWkDtDG5qHnEZbmE5mGvENhrv"),new i6.DummyProvider)}Je.getDummySigner=qYe;Je.dummyUTXO={txId:(0,Hle.randomBytes)(32).toString("hex"),outputIndex:0,script:"",satoshis:1e4};function jYe(t=1e4,e=!1){return e?Object.assign({},Je.dummyUTXO,{satoshis:t,txId:(0,Hle.randomBytes)(32).toString("hex")}):Object.assign({},Je.dummyUTXO,{satoshis:t})}Je.getDummyUTXO=jYe;var KYe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,i6.int2ByteString)(BigInt(r.opcodenum-80));return I.Buffer.from(n,"hex")}else return I.Buffer.from((0,i6.toByteString)(""));return r.buf})};Je.callToBufferList=KYe;var zYe=function(t){return new Hs.btc.Script(`6a1863617401${t.hashRoot}`)};Je.toStateScript=zYe;function Vle(t){return t==="btc-signet"?Hs.btc.Networks.testnet:Hs.btc.Networks.mainnet}Je.toBitcoinNetwork=Vle;function VYe(t,e){let r=typeof t=="string"?Hs.btc.Script.fromHex(t):t;return Hs.btc.Address.fromScript(r,Vle(e)).toString()}Je.p2tr2Address=VYe;function GYe(t){if((typeof t=="string"?Hs.btc.Address.fromString(t):t).type!=="taproot")throw new Error(`address ${t} is not taproot`);return Hs.btc.Script.fromAddress(t).toHex()}Je.toP2tr=GYe;function WYe(t,e){return t*BigInt(Math.pow(10,e))}Je.scaleByDecimals=WYe;function YYe(t,e){return new FYe.default(t.toString().replace("n","")).div(Math.pow(10,e)).toFixed(e)}Je.unScaleByDecimals=YYe;function XYe(t){for(let e=0;e<t.inputs.length;e++){let r=t.inputs[e];r.hasWitnesses()&&r.setWitnesses([])}t.nLockTime=0}Je.resetTx=XYe;function ZYe(t){if(typeof t=="string"&&(t=Hs.btc.Address.fromString(t)),t.type===Hs.btc.Address.PayToTaproot)return(0,i6.hash160)(t.hashBuffer.toString("hex"));if(t.type===Hs.btc.Address.PayToWitnessPublicKeyHash)return t.hashBuffer.toString("hex");throw new Error(`Unsupported address type: ${t.type}`)}Je.toTokenAddress=ZYe;function JYe(t,e,r,n){let i=new Hs.btc.Script.Interpreter,s=Hs.btc.Script.Interpreter.SCRIPT_VERIFY_WITNESS|Hs.btc.Script.Interpreter.SCRIPT_VERIFY_TAPROOT;return i.verify(new Hs.btc.Script(""),new Hs.btc.Script(t.script),e,r,s,n,t.satoshis)?!0:i.errstr}Je.verifyContract=JYe;function QYe(){return new RYe.EcKeyService({privateKey:"L4EpxBBbTqztn8Q9W73Cf7e36ttHhDWRSzr4sHazjUcCrucwEJLy"})}Je.getDummyEcKey=QYe;function eXe(t){return t.inputs.reduce((e,r)=>e+r.output.satoshis,0)-t.outputs.reduce((e,r)=>e+r.satoshis,0)}Je.getFee=eXe});var kL=$(oI=>{"use strict";B();k();Object.defineProperty(oI,"__esModule",{value:!0});oI.EcKeyService=void 0;var V5=fc(),Zh=fc(),Gle=n6(),tXe=Sm(),CL=class{constructor(e){if(this.addressType=e.addressType||Zh.CatAddressType.P2TR,!e.privateKey&&!e.publicKey)throw new Error("Either privateKey or publicKey must be provided");this.privateKey=e.privateKey?V5.btc.PrivateKey.fromWIF(e.privateKey):void 0,this.publicKey=e.privateKey?this.privateKey.toPublicKey():V5.btc.PublicKey.fromString(e.publicKey)}hasPrivateKey(){return this.privateKey!==void 0}getWif(){return this.getPrivateKey().toWIF()}getPrivateKey(){return this.privateKey}getAddressType(){return this.addressType||Zh.CatAddressType.P2TR}getP2TRAddress(){return this.getPublicKey().toAddress(null,V5.btc.Address.PayToTaproot)}getAddress(){return this.getP2TRAddress()}getXOnlyPublicKey(){let e=this.getTokenPublicKey();return(0,tXe.toXOnly)(e.toBuffer()).toString("hex")}getTweakedPrivateKey(){let{tweakedPrivKey:e}=this.getPrivateKey().createTapTweak();return V5.btc.PrivateKey.fromBuffer(e)}getPublicKey(){return this.publicKey}getTokenPublicKey(){if(this.getAddressType()===Zh.CatAddressType.P2TR){let{tweakedPubKey:r}=this.publicKey.createTapTweak();return V5.btc.PublicKey.fromBuffer(r)}return this.publicKey}getPubKeyPrefix(){let e=this.getAddressType();return e===Zh.CatAddressType.P2TR?"":e===Zh.CatAddressType.P2WPKH?this.getTokenPublicKey().toString().slice(0,2):""}getTokenAddress(){let e=this.getAddressType();if(e===Zh.CatAddressType.P2TR){let r=this.getXOnlyPublicKey();return(0,Gle.hash160)(r)}else if(e===Zh.CatAddressType.P2WPKH){let r=this.getTokenPublicKey();return(0,Gle.hash160)(r.toString())}else throw new Error(`Unsupported address type: ${e}`)}getTaprootPrivateKey(){return this.getTweakedPrivateKey()}getTokenPrivateKey(){let e=this.getAddressType();if(e===Zh.CatAddressType.P2TR)return this.getTaprootPrivateKey();if(e===Zh.CatAddressType.P2WPKH)return this.getPrivateKey();throw new Error(`Unsupported address type: ${e}`)}signTx(e){if(!this.hasPrivateKey())throw new Error("No private key provided");let r=this.getPrivateKey(),n=V5.btc.crypto.Hash.sha256ripemd160(r.publicKey.toBuffer());for(let i=0;i<e.inputs.length;i++){let s=e.inputs[i];if(s.output.script.isWitnessPublicKeyHashOut()){let u=s.getSignatures(e,r,i,void 0,n,void 0,void 0);if(u.length===0)throw new Error("Could not sign input");e.applySignature(u[0])}else if(s.output.script.isTaproot()&&!s.hasWitnesses()){let u=s.getSignatures(e,r,i,V5.btc.crypto.Signature.SIGHASH_ALL,n,void 0,void 0);if(u.length===0)throw new Error("Could not sign input");e.applySignature(u[0])}}}};oI.EcKeyService=CL});var FL=$(F0=>{"use strict";B();k();Object.defineProperty(F0,"__esModule",{value:!0});F0.scaleConfig=F0.minterParse=F0.tokenUtxoParse=F0.feeUtxoParse=F0.tokenInfoParse=void 0;var aI=fc(),Yle=m0(),Wle=n6(),gd=Sm();function rXe(t,e){let r=JSON.parse(t),n=JSON.parse(JSON.stringify(r.info));if(n.max&&(n.max=BigInt(n.max),n.premine=BigInt(n.premine),n.limit=BigInt(n.limit)),r.info=n,!r.tokenAddr){let i=(0,gd.toP2tr)(r.minterAddr);r.tokenAddr=(0,gd.p2tr2Address)((0,gd.getTokenContractP2TR)(i).p2tr,e)}return r}F0.tokenInfoParse=rXe;function nXe(t,e){return e.map(r=>{let n=aI.btc.Script.fromAddress(t.getAddress()).toHex();return{txId:r.txId,outputIndex:r.vOut,script:n,satoshis:r.amount}})}F0.feeUtxoParse=nXe;function iXe(t){let e=JSON.parse(t);return Array.isArray(e)||(e=[e]),e.map(r=>{let n=Yle.ProtocolState.fromStateHashList(r.txoStateHashes);typeof r.utxo.satoshis=="string"&&(r.utxo.satoshis=parseInt(r.utxo.satoshis));let i=r.state.address;try{i=(0,gd.toTokenAddress)(r.state.address)}catch{}return{utxo:r.utxo,state:{protocolState:n,data:{ownerAddr:i,amount:BigInt(r.state.amount)}}}})}F0.tokenUtxoParse=iXe;function sXe(t,e,r){let n=JSON.parse(t),i=Yle.ProtocolState.fromStateHashList(n.txoStateHashes),s=uXe(e,n.utxo.txId,n.utxo.outputIndex,r);if(s===null)throw new Error(`get open minter state failed, minter: ${e.minterAddr}, txId: ${n.utxo.txId}`);return typeof n.utxo.satoshis=="string"&&(n.utxo.satoshis=parseInt(n.utxo.satoshis)),{utxo:n.utxo,state:{protocolState:i,data:s}}}F0.minterParse=sXe;var uXe=function(t,e,r,n){let i=(0,gd.toP2tr)(t.minterAddr),s=(0,gd.toP2tr)(t.tokenAddr),u=t.info,o=Xle(u);if(e===t.revealTxid)return t.info.minterMd5==aI.MinterType.OPEN_MINTER_V2?{isPremined:!1,remainingSupplyCount:(o.max-o.premine)/o.limit,tokenScript:s}:{isPremined:!1,remainingSupply:o.max-o.premine,tokenScript:s};let a=new aI.btc.Transaction(n);if(a.id!=e)throw new Error(`Invalid raw tx, 
${e} 
${a.id}`);let l=16;for(let f=0;f<a.inputs.length;f++){let c=a.inputs[f].getWitnesses();if(c.length>2){let h=c[c.length-2],{p2tr:d}=(0,gd.script2P2TR)(h);if(d===i)return t.info.minterMd5==aI.MinterType.OPEN_MINTER_V2?{tokenScript:c[l-2].toString("hex"),isPremined:!0,remainingSupplyCount:(0,Wle.byteString2Int)(c[6+r].toString("hex"))}:{tokenScript:c[l-2].toString("hex"),isPremined:!0,remainingSupply:(0,Wle.byteString2Int)(c[6+r].toString("hex"))}}}return null};function Xle(t){let e=Object.assign({},t);return e.max=(0,gd.scaleByDecimals)(t.max,t.decimals),e.premine=(0,gd.scaleByDecimals)(t.premine,t.decimals),e.limit=(0,gd.scaleByDecimals)(t.limit,t.decimals),e}F0.scaleConfig=Xle});var Qle=$(cI=>{"use strict";B();k();Object.defineProperty(cI,"__esModule",{value:!0});cI.validatePrevTx=void 0;var Zle=fc(),Jle=Sm();function oXe(t,e,r,n){let i=0,s=new Zle.btc.Transaction(e);if(!s.inputs.find((l,f)=>{let c=l.getWitnesses();if(Array.isArray(c)&&c.length>2){let h=c[c.length-2],{p2tr:d}=(0,Jle.script2P2TR)(h),p=(0,Jle.p2tr2Address)(d,n);if(p===t.tokenAddr||p===t.minterAddr)return i=f,!0}}))return null;let o=s.inputs[i].prevTxId.toString("hex"),a=new Zle.btc.Transaction(r);return a.id!=o?null:{prevTx:s,prevPrevTx:a,prevTokenInputIndex:i}}cI.validatePrevTx=oXe});var ede=$(fI=>{"use strict";B();k();Object.defineProperty(fI,"__esModule",{value:!0});fI.pickLargeFeeUtxo=void 0;function aXe(t){let e=t[0];for(let r of t)r.satoshis>e.satoshis&&(e=r);return e}fI.pickLargeFeeUtxo=aXe});var rde=$(_m=>{"use strict";B();k();Object.defineProperty(_m,"__esModule",{value:!0});_m.getMintRemainingSupply=_m.getTokenUtxo=void 0;var lI=fc(),RL=Sm(),tde=FL(),cXe=n6();function fXe(t,e,r){let n=new lI.btc.Transaction(t),i=[],s=[],u;if(e=="transfer"){let o=n.inputs[1].witnesses,a=(0,RL.toTokenAddress)(r),l=o.slice(0,5),f=o.slice(5,10),c=o.slice(10,15);for(let h=0;h<5;h++){let d=f[h].toString("hex");if(d!=a)continue;i.push(h+1);let p=c[h];p.length!=0&&s.push({address:d,amount:p.readIntLE(0,p.length).toString()})}u=l.map(h=>h.toString("hex"))}else if(e=="mint"){let o=n.inputs[0].witnesses,a=o.slice(0,5),l=o[5],f=o[6];s.push({address:l.toString("hex"),amount:f.readIntLE(0,f.length).toString()}),u=a.map(c=>c.toString("hex")),i.push(n.outputs.findIndex(c=>c.satoshis==330))}return s.map((o,a)=>{let l=i[a];return{utxo:{txId:n.id,outputIndex:l,script:n.outputs[l].script.toHex(),satoshis:n.outputs[l].satoshis},txoStateHashes:u,state:o}})}_m.getTokenUtxo=fXe;function lXe(t,e,r){let n=(0,tde.tokenInfoParse)(e,lI.SupportedNetwork.fractalMainnet),i=n.info,s=(0,tde.scaleConfig)(i),u=(0,RL.toP2tr)(n.minterAddr),o=new lI.btc.Transaction(t);if(o.id===n.revealTxid)return n.info.minterMd5==lI.MinterType.OPEN_MINTER_V2?s.max/s.limit:s.max;for(let a=0;a<o.inputs.length;a++){let l=o.inputs[a].getWitnesses();if(l.length>2){let f=l[l.length-2],{p2tr:c}=(0,RL.script2P2TR)(f);if(c===u)return(0,cXe.byteString2Int)(l[6+r].toString("hex"))}}}_m.getMintRemainingSupply=lXe});var Em=$(R0=>{"use strict";B();k();var dXe=R0&&R0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wm=R0&&R0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dXe(e,t,r)};Object.defineProperty(R0,"__esModule",{value:!0});wm(kL(),R0);wm(FL(),R0);wm(Qle(),R0);wm(Sm(),R0);wm(ede(),R0);wm(rde(),R0)});var lv=$(_u=>{"use strict";B();k();Object.defineProperty(_u,"__esModule",{value:!0});_u.getPremineAddress=_u.getRemainSupply=_u.pickOpenMinterStateField=_u.createOpenMinterState=_u.unlockGuardMulti=_u.unlockGuard=_u.unlockToken=_u.createGuardContract=void 0;var mc=fc(),Ls=Em(),Gu=m0(),Jh=n6();function hXe(t,e,r,n,i,s){let{p2tr:u,tapScript:o}=(0,Ls.getGuardsP2TR)(),a=Gu.ProtocolState.getEmptyState(),l=Gu.GuardProto.createEmptyState();l.tokenScript=i;for(let h=0;h<n.length;h++)l.inputTokenAmountArray[h]=n[h].state.data.amount;a.updateDataList(0,Gu.GuardProto.toByteString(l));let f=new mc.btc.Transaction().from(e).addOutput(new mc.btc.Transaction.Output({satoshis:0,script:(0,Ls.toStateScript)(a)})).addOutput(new mc.btc.Transaction.Output({satoshis:mc.Postage.GUARD_POSTAGE,script:u})).feePerByte(r).change(s);if(f.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");f.outputs[2].satoshis-=1,t.hasPrivateKey()&&t.signTx(f);let c={utxo:{txId:f.id,outputIndex:1,script:f.outputs[1].script.toHex(),satoshis:f.outputs[1].satoshis},state:{protocolState:a,data:l}};return{commitTx:f,contact:c,guardTapScript:o}}_u.createGuardContract=hXe;async function pXe(t,e,r,n,i,s,u,o,a,l,f,c,h,d){let{cblock:p,contract:m}=(0,Ls.getTokenContractP2TR)(a),{shPreimage:w,prevoutsCtx:x,spentScripts:_,sighash:y}=l,S={isUserSpend:!1,userPubKeyPrefix:(0,Jh.toByteString)(""),userPubKey:(0,Jh.PubKey)(t.getXOnlyPublicKey()),userSig:mc.btc.crypto.Signature.fromString("E907831F80848D1069A5371B402410364BDF1C5F8307B0084C55F1CE2DCA821525F66A4A85EA8B71E482A74F382D2CE5EBEEE8FDB2172F477DF4900D310536C0").toString("hex"),contractInputIndex:BigInt(d||0)};if(!h){let A;t.hasPrivateKey()?A=mc.btc.crypto.Schnorr.sign(t.getTokenPrivateKey(),y.hash):A=mc.btc.crypto.Signature.fromString(c);let b=t.getXOnlyPublicKey(),g=t.getPubKeyPrefix();S={isUserSpend:!0,userPubKeyPrefix:g,userPubKey:(0,Jh.PubKey)(b),userSig:A.toString("hex"),contractInputIndex:0n}}let F=(0,Gu.getBackTraceInfo)(n,s,i),{state:{protocolState:N,data:H}}=e;await m.connect((0,Ls.getDummySigner)());let D={statesHashRoot:N.hashRoot,txoStateHashes:N.stateHashList},L=await m.methods.unlock(S,H,D,u,F,w,x,_,{fromUTXO:(0,Ls.getDummyUTXO)(),verify:!1,exec:!1}),P=[...(0,Ls.callToBufferList)(L),m.lockingScript.toBuffer(),I.Buffer.from(p,"hex")];if(o.inputs[r].witnesses=P,f){let A=(0,Ls.verifyContract)(e.utxo,o,r,P);if(typeof A=="string")throw new Error(`unlocking token contract at input ${r} failed! ${A}`);return!0}return!0}_u.unlockToken=pXe;async function bXe(t,e,r,n,i,s,u,o,a,l){let{shPreimage:f,prevoutsCtx:c,spentScripts:h}=a,d=(0,Gu.emptyTokenArray)(),p=(0,Gu.emptyTokenAmountArray)(),m=(0,Jh.fill)(!1,Gu.MAX_TOKEN_OUTPUT);d[0]=s.ownerAddr,p[0]=s.amount,m[0]=!0,u&&(d[1]=u.ownerAddr,p[1]=u.amount,m[1]=!0);let w=u===null?1:2,{cblock:x,contract:_}=(0,Ls.getGuardsP2TR)();await _.connect((0,Ls.getDummySigner)());let y=(0,Gu.emptyTokenArray)();o!=null&&(y[w]=o.satoshis,d[w]=o.script,m[w]=!1);let S=await _.methods.transfer(n.stateHashList,d,p,m,y,(0,Jh.int2ByteString)(BigInt(mc.Postage.TOKEN_POSTAGE),8n),t.state.data,e.tx,f,c,h,{fromUTXO:(0,Ls.getDummyUTXO)(),verify:!1,exec:!1}),F=[...(0,Ls.callToBufferList)(S),_.lockingScript.toBuffer(),I.Buffer.from(x,"hex")];if(i.inputs[r].witnesses=F,l){let N=(0,Ls.verifyContract)(t.utxo,i,r,F);if(typeof N=="string")throw new Error(`unlocking guard contract failed! ${N}`);return!0}return!0}_u.unlockGuard=bXe;async function gXe(t,e,r,n,i,s,u,o,a){let l=i.outputs.length-1,{shPreimage:f,prevoutsCtx:c,spentScripts:h}=o,d=(0,Gu.emptyTokenArray)(),p=(0,Gu.emptyTokenAmountArray)(),m=(0,Jh.fill)(!1,Gu.MAX_TOKEN_OUTPUT),w=(0,Gu.emptyTokenArray)();s.map((N,H)=>{let D=u[H];d[D]=N.ownerAddr,p[D]=N.amount,m[D]=!0}),Array.from({length:l},(N,H)=>H).filter(N=>!u.includes(N)).map(N=>{if(N>=l)return;let H=i.outputs[N+1];w[N]=(0,Jh.int2ByteString)(BigInt(H.satoshis),8n),d[N]=(0,Jh.toByteString)(H.script.toHex())});let{cblock:_,contract:y}=(0,Ls.getGuardsP2TR)();await y.connect((0,Ls.getDummySigner)());let S=await y.methods.transfer(n.stateHashList,d,p,m,w,(0,Jh.int2ByteString)(BigInt(mc.Postage.TOKEN_POSTAGE),8n),t.state.data,e.tx,f,c,h,{fromUTXO:(0,Ls.getDummyUTXO)(),verify:!1,exec:!1}),F=[...(0,Ls.callToBufferList)(S),y.lockingScript.toBuffer(),I.Buffer.from(_,"hex")];if(i.inputs[r].witnesses=F,a){let N=(0,Ls.verifyContract)(t.utxo,i,r,F);if(typeof N=="string")throw new Error(`unlocking guard contract at input ${r} failed! ${N}`);return!0}return!0}_u.unlockGuardMulti=gXe;function mXe(t,e,r,n,i){let s=(0,Ls.scaleConfig)(n.info),u=e?0n:s.premine,o=s.limit,a=Gu.OpenMinterProto.getSplitAmountList(u+r,t,o,i);n.info.minterMd5==mc.MinterType.OPEN_MINTER_V2&&(a=Gu.OpenMinterV2Proto.getSplitAmountList(r,e,s.premine),i==1&&(a[0]+=a[1],a[1]=0n));let l=(0,Ls.toP2tr)(n.tokenAddr),f=[];for(let c=0;c<a.length;c++){let h=a[c];if(h>0n){let d=Gu.OpenMinterProto.create(l,!0,h);f.push(d)}}return{splitAmountList:a,minterStates:f}}_u.createOpenMinterState=mXe;function ML(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}_u.pickOpenMinterStateField=ML;function yXe(t,e){if(e===mc.MinterType.OPEN_MINTER_V1)return ML(t,"remainingSupply");if(e===mc.MinterType.OPEN_MINTER_V2)return ML(t,"remainingSupplyCount")}_u.getRemainSupply=yXe;function vXe(t){try{let r=new mc.btc.Transaction(t).inputs[0].getWitnesses(),n=r[r.length-2];try{return Gu.OpenMinterV2.fromLockingScript(n.toString("hex")).premineAddr}catch{}return Gu.OpenMinter.fromLockingScript(n.toString("hex")).premineAddr}catch(e){throw e}}_u.getPremineAddress=vXe});var NL=$(dI=>{"use strict";B();k();Object.defineProperty(dI,"__esModule",{value:!0});dI.mergeFee=void 0;var SXe=fc();function _Xe(t,e,r){let n=t.getAddress(),i=new SXe.btc.Transaction().from(e).feePerByte(r).change(n);if(i.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");let s=i.outputs[0];s.satoshis-=1,t.hasPrivateKey()&&t.signTx(i);let u={address:n,txId:i.id,outputIndex:0,script:s.script,satoshis:s.satoshis};return{mergeTx:i,feeUtxo:u}}dI.mergeFee=_Xe});var ide=$(md=>{"use strict";B();k();Object.defineProperty(md,"__esModule",{value:!0});md.calcVsizeTransfer=md.transfer=md.estimateFee=void 0;var Yo=fc(),DL=n6(),Wu=Em(),Qh=m0(),dv=lv(),wXe=NL();async function EXe(t){return t.data.estimateFee=!0,await nde(t)}md.estimateFee=EXe;async function nde(t){let e=t.data,r=e.estimateFee?(0,Wu.getDummyEcKey)():new Wu.EcKeyService({privateKey:t.privateKey}),n=(0,Wu.tokenInfoParse)(e.tokenMetadata,Yo.SupportedNetwork.fractalMainnet),i=(0,Wu.toP2tr)(n.minterAddr),{p2tr:s,tapScript:u}=(0,Wu.getTokenContractP2TR)(i),o=e.verifyScript||!1,a,l;try{a=Yo.btc.Address.fromString(e.toAddress)}catch{throw new Error(`Invalid receiver address: ${e.toAddress}`)}if(a.type!=="taproot")throw new Error(`Invalid address type: ${a.type}`);try{l=BigInt(e.tokenAmount)}catch{throw new Error(`Invalid token amount:  ${e.tokenAmount}`)}if(l<=0n)throw new Error("Invalid token amount");let f=(0,Wu.feeUtxoParse)(r,t.data.feeInputs),c=f[0],h;f.length>1&&({feeUtxo:c,mergeTx:h}=(0,wXe.mergeFee)(r,f,e.feeRate));let d=(0,Wu.tokenUtxoParse)(e.tokens),p=(0,dv.createGuardContract)(r,c,e.feeRate,d,s,e.changeAddress);if(p===null)return null;let{commitTx:m,contact:w,guardTapScript:x}=p,_=Qh.ProtocolState.getEmptyState(),y=Qh.CAT20Proto.create(l,(0,Wu.toTokenAddress)(a));_.updateDataList(0,Qh.CAT20Proto.toByteString(y));let F=d.reduce((Y,te)=>Y+te.state.data.amount,0n)-l,N=null;if(F>0n){let Y=r.getTokenAddress();N=Qh.CAT20Proto.create(F,Y),_.updateDataList(1,Qh.CAT20Proto.toByteString(N))}let H={txId:m.id,outputIndex:2,script:m.outputs[2].script.toHex(),satoshis:m.outputs[2].satoshis},D=[...d.map(Y=>Y.utxo),w.utxo,H];if(D.length>Qh.MAX_INPUT)throw new Error("Too many inputs, max 4 token inputs");let L=new Yo.btc.Transaction().from(D).addOutput(new Yo.btc.Transaction.Output({satoshis:0,script:(0,Wu.toStateScript)(_)})).addOutput(new Yo.btc.Transaction.Output({satoshis:Yo.Postage.TOKEN_POSTAGE,script:s})).feePerByte(e.feeRate);N&&L.addOutput(new Yo.btc.Transaction.Output({satoshis:Yo.Postage.TOKEN_POSTAGE,script:s}));let P=Yo.btc.Script.fromAddress(e.changeAddress);L.addOutput(new Yo.btc.Transaction.Output({satoshis:0,script:P}));let A=[];if(e.tokenPrevTxs.length!==d.length)throw new Error("Invalid tokenPrevTxs length");for(let Y=0;Y<d.length;Y++){let te=e.tokenPrevTxs[Y].prevTx,J=e.tokenPrevTxs[Y].prevPrevTx,ce=(0,Wu.validatePrevTx)(n,te,J,Yo.SupportedNetwork.fractalMainnet);if(ce===null)throw new Error("prevTx does not match prevPrevTx");A.push(ce)}let b=(0,Qh.getTxHeaderCheck)(m,w.utxo.outputIndex),g=d.length,v={outputIndex:(0,Wu.toTxOutpoint)(w.utxo.txId,w.utxo.outputIndex).outputIndex,inputIndexVal:BigInt(g),tx:b.tx,guardState:w.state.data},{vsize:E}=await(0,md.calcVsizeTransfer)(d,w,L,v,A,u,x,_,y,N,P,i),C=N===null?2:3,R=L.inputAmount-E*e.feeRate-Yo.Postage.TOKEN_POSTAGE-(N===null?0:Yo.Postage.TOKEN_POSTAGE),O=E*e.feeRate;if(R<=Yo.CHANGE_MIN_POSTAGE){R=0,L.removeOutput(C);let{vsize:Y,fee:te}=await(0,md.calcVsizeTransfer)(d,w,L,v,A,u,x,_,y,N,P,i);E=Y,O=te}else L.outputs[C].satoshis=R;if(e.estimateFee)return h?{mergeTx:(0,Wu.getFee)(h),commitTx:(0,Wu.getFee)(m),revealTx:O}:{commitTx:(0,Wu.getFee)(m),revealTx:O};let M=null;R>BigInt(0)&&(M={script:(0,DL.toByteString)(P.toHex()),satoshis:(0,DL.int2ByteString)(BigInt(R),BigInt(8))});let T=(0,Qh.getTxCtxMulti)(L,d.map((Y,te)=>te).concat([d.length]),[...new Array(d.length).fill(I.Buffer.from(u,"hex")),I.Buffer.from(x,"hex")]);for(let Y=0;Y<d.length;Y++)if(!await(0,dv.unlockToken)(r,d[Y],Y,A[Y].prevTx,A[Y].prevTokenInputIndex,A[Y].prevPrevTx,v,L,i,T[Y],o))return null;return await(0,dv.unlockGuard)(w,v,g,_,L,y,N,M,T[g],o)?(r.signTx(L),h?{mergeTx:h.uncheckedSerialize(),commitTx:m.uncheckedSerialize(),revealTx:L.uncheckedSerialize()}:{commitTx:m.uncheckedSerialize(),revealTx:L.uncheckedSerialize()}):null}md.transfer=nde;var AXe=async(t,e,r,n,i,s,u,o,a,l,f,c)=>{let h=(0,Wu.getDummyEcKey)(),d=Yo.btc.Script.fromAddress(h.getAddress()),p=r.inputs.length-1,m=r.inputs[p].output.script;r.inputs[p].output.setScript(d);let w=(0,Qh.getTxCtxMulti)(r,t.map((F,N)=>N).concat([t.length]),[...new Array(t.length).fill(I.Buffer.from(s,"hex")),I.Buffer.from(u,"hex")]),x=t.length,_={script:f.toHex(),satoshis:(0,DL.int2ByteString)(0n,8n)};for(let F=0;F<t.length;F++)await(0,dv.unlockToken)(h,t[F],F,i[F].prevTx,i[F].prevTokenInputIndex,i[F].prevPrevTx,n,r,c,w[F],!1);await(0,dv.unlockGuard)(e,n,x,o,r,a,l,_,w[x],!1),h.signTx(r);let y=r.vsize,S=(0,Wu.getFee)(r);return(0,Wu.resetTx)(r),r.inputs[p].output.setScript(m),{vsize:y,fee:S}};md.calcVsizeTransfer=AXe});var sde=$(hI=>{"use strict";B();k();Object.defineProperty(hI,"__esModule",{value:!0});hI.mint=void 0;var Xo=Em(),gi=fc(),G5=m0(),s6=n6(),HL=lv(),Am=0;async function TXe(t){let e=new Xo.EcKeyService({privateKey:t.privateKey}),r=t.data,n=(0,Xo.tokenInfoParse)(r.tokenMetadata,gi.SupportedNetwork.fractalMainnet),i=e.getAddress(),s=e.getTokenAddress(),u=n.info,o=(0,Xo.scaleConfig)(u),a=gi.btc.Script.fromAddress(n.tokenAddr).toHex(),l=(0,Xo.outpoint2ByteString)(n.tokenId),f=(0,Xo.feeUtxoParse)(e,t.data.feeInputs),{utxo:c,state:{protocolState:h,data:d}}=(0,Xo.minterParse)(r.minterContract,n,r.mintPrevTx.prevTx),p=BigInt(0);try{p=BigInt(r.mintAmount)}catch{throw new Error(`Invalid token amount:  ${r.mintAmount}`)}let m=(0,HL.getRemainSupply)(d,o.minterMd5);if(m===void 0)return new Error("Get remaining supply failed");if((0,gi.isOpenMinter)(n.info.minterMd5)){if(d.isPremined&&p>o.limit){console.error("The number of minted tokens exceeds the limit!");return}let se=o.limit;if(!d.isPremined&&o.premine>0n)if(typeof p=="bigint"){if(p!==o.premine)throw new Error(`First mint amount should equal to premine ${o.premine}`)}else p=o.premine;else{if(p=p||se,n.info.minterMd5===gi.MinterType.OPEN_MINTER_V1&&m<p)throw new Error(`Remaining supply ${m} is not enough to mint ${p}`);if(u.minterMd5==gi.MinterType.OPEN_MINTER_V2&&p!=se)throw new Error(`V2 minters can only mint at the exactly amount of limit (${se}) at once`)}}let w=G5.ProtocolState.getEmptyState(),{splitAmountList:x,minterStates:_}=(0,HL.createOpenMinterState)(p,d.isPremined,m,n,r.newMinter);for(let se=0;se<_.length;se++){let j=_[se];w.updateDataList(se,G5.OpenMinterProto.toByteString(j))}let y=G5.CAT20Proto.create(p,s);w.updateDataList(_.length,G5.CAT20Proto.toByteString(y));let S=!d.isPremined&&o.premine>0n?e.getTokenAddress():o.premine===0n?"":null;S===null&&(S=(0,HL.getPremineAddress)(r.mintPrevTx.prevTx));let{tapScript:F,cblock:N,contract:H}=(0,Xo.getOpenMinterContractP2TR)(l,o.max,o.premine,o.limit,S,u.minterMd5),D=gi.btc.Script.fromAddress(i),L=new gi.btc.Transaction().from([c,...f]).addOutput(new gi.btc.Transaction.Output({satoshis:0,script:(0,Xo.toStateScript)(w)}));for(let se=0;se<x.length;se++)x[se]>0n&&L.addOutput(new gi.btc.Transaction.Output({script:new gi.btc.Script(c.script),satoshis:gi.Postage.MINTER_POSTAGE}));L.addOutput(new gi.btc.Transaction.Output({satoshis:gi.Postage.TOKEN_POSTAGE,script:a})).addOutput(new gi.btc.Transaction.Output({satoshis:0,script:D})).feePerByte(r.feeRate);let P=new gi.btc.Transaction(r.mintPrevTx.prevTx),A=P.inputs[Am].prevTxId.toString("hex"),b=new gi.btc.Transaction(r.mintPrevTx.prevPrevTx);if(A!==b.id)return new Error("prevPrevTxId does not match");let g=(0,G5.getBackTraceInfo)(P,b,Am);await H.connect((0,Xo.getDummySigner)());let v={statesHashRoot:h.hashRoot,txoStateHashes:h.stateHashList},E=await xXe(e,H,w,y,x,v,d,F,Am,L,D,g,N),C=L.inputAmount-E*r.feeRate-gi.Postage.MINTER_POSTAGE*r.newMinter-gi.Postage.TOKEN_POSTAGE;if(C<546){let se="Insufficient satoshis balance!";return new Error(se)}let R=L.outputs.length-1;L.outputs[R].satoshis=C;let{shPreimage:O,prevoutsCtx:M,spentScripts:T,sighash:U}=(0,G5.getTxCtx)(L,Am,I.Buffer.from(F,"hex")),Y={script:(0,s6.toByteString)(D.toHex()),satoshis:(0,s6.int2ByteString)(BigInt(C),8n)},te=gi.btc.crypto.Schnorr.sign(e.getTokenPrivateKey(),U.hash),J=await H.methods.mint(w.stateHashList,y,x,e.getPubKeyPrefix(),e.getXOnlyPublicKey(),()=>te.toString("hex"),(0,s6.int2ByteString)(BigInt(gi.Postage.MINTER_POSTAGE),8n),(0,s6.int2ByteString)(BigInt(gi.Postage.TOKEN_POSTAGE),8n),d,v,g,O,M,T,Y,{fromUTXO:(0,Xo.getDummyUTXO)(),verify:!1,exec:!1}),ce=[...(0,Xo.callToBufferList)(J),H.lockingScript.toBuffer(),I.Buffer.from(N,"hex")];if(L.inputs[Am].witnesses=ce,r.verifyScript){let se=(0,Xo.verifyContract)(c,L,Am,ce);if(typeof se=="string")return console.log("unlocking minter failed:",se),new Error("unlocking minter failed")}return e.signTx(L),console.log(L.id),console.log(L.getFee()),L.uncheckedSerialize()}hI.mint=TXe;var xXe=async(t,e,r,n,i,s,u,o,a,l,f,c,h)=>{let{shPreimage:d,prevoutsCtx:p,spentScripts:m,sighash:w}=(0,G5.getTxCtx)(l,a,I.Buffer.from(o,"hex")),x={script:(0,s6.toByteString)(f.toHex()),satoshis:(0,s6.int2ByteString)(BigInt(0n),8n)},_=gi.btc.crypto.Schnorr.sign(t.getTokenPrivateKey(),w.hash),y=await e.methods.mint(r.stateHashList,n,i,t.getPubKeyPrefix(),t.getXOnlyPublicKey(),()=>_.toString("hex"),(0,s6.int2ByteString)(BigInt(gi.Postage.MINTER_POSTAGE),8n),(0,s6.int2ByteString)(BigInt(gi.Postage.TOKEN_POSTAGE),8n),u,s,c,d,p,m,x,{fromUTXO:(0,Xo.getDummyUTXO)(),verify:!1,exec:!1}),S=[...(0,Xo.callToBufferList)(y),e.lockingScript.toBuffer(),I.Buffer.from(h,"hex")];l.inputs[a].witnesses=S,t.signTx(l);let F=l.vsize;return(0,Xo.resetTx)(l),F}});var W5=$(le=>{"use strict";B();k();Object.defineProperty(le,"__esModule",{value:!0});le.constant=le.magicBytes=le.magic=le.optional=le.flagged=le.flag=le.lazy=le.apply=le.hex=le.cstring=le.string=le.prefix=le.bytes=le.bool=le.F64LE=le.F64BE=le.F32LE=le.F32BE=le.I8=le.U8=le.I16BE=le.I16LE=le.U16BE=le.U16LE=le.I32BE=le.I32LE=le.U32BE=le.U32LE=le.int=le.I64BE=le.I64LE=le.U64BE=le.U64LE=le.I128BE=le.I128LE=le.U128BE=le.U128LE=le.I256BE=le.I256LE=le.U256BE=le.U256LE=le.bigint=le.bits=le.coders=le.isCoder=le.wrap=le.validate=le.utils=le.NULL=le.EMPTY=void 0;le._TEST=le.pointer=le.padRight=le.padLeft=le.ZeroPad=le.bitset=le.mappedTag=le.tag=le.map=le.array=le.tuple=le.struct=void 0;var Tm=jm();le.EMPTY=new Uint8Array;le.NULL=new Uint8Array([0]);function Im(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function M0(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function IXe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];if(!M0(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var $L=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function vd(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zo(t){return Number.isSafeInteger(t)}le.utils={equalBytes:Im,isBytes:M0,isCoder:mi,checkBounds:ode,concatBytes:IXe,createView:$L,isPlainObject:vd};var ude=t=>{if(t!==null&&typeof t!="string"&&!mi(t)&&!M0(t)&&!Zo(t))throw new Error(`lengthCoder: expected null | number | Uint8Array | CoderType, got ${t} (${typeof t})`);return{encodeStream(e,r){if(t===null)return;if(mi(t))return t.encodeStream(e,r);let n;if(typeof t=="number"?n=t:typeof t=="string"&&(n=yd.resolve(e.stack,t)),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw e.err(`Wrong length: ${n} len=${t} exp=${r} (${typeof r})`)},decodeStream(e){let r;if(mi(t)?r=Number(t.decodeStream(e)):typeof t=="number"?r=t:typeof t=="string"&&(r=yd.resolve(e.stack,t)),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw e.err(`Wrong length: ${r}`);return r}}},Us={BITS:32,FULL_MASK:-1>>>0,len:t=>Math.ceil(t/32),create:t=>new Uint32Array(Us.len(t)),clean:t=>t.fill(0),debug:t=>Array.from(t).map(e=>(e>>>0).toString(2).padStart(32,"0")),checkLen:(t,e)=>{if(Us.len(e)!==t.length)throw new Error(`wrong length=${t.length}. Expected: ${Us.len(e)}`)},chunkLen:(t,e,r)=>{if(e<0)throw new Error(`wrong pos=${e}`);if(e+r>t)throw new Error(`wrong range=${e}/${r} of ${t}`)},set:(t,e,r,n=!0)=>!n&&(t[e]&r)!==0?!1:(t[e]|=r,!0),pos:(t,e)=>({chunk:Math.floor((t+e)/32),mask:1<<32-(t+e)%32-1}),indices:(t,e,r=!1)=>{Us.checkLen(t,e);let{FULL_MASK:n,BITS:i}=Us,s=i-e%i,u=s?n>>>s<<s:n,o=[];for(let a=0;a<t.length;a++){let l=t[a];if(r&&(l=~l),a===t.length-1&&(l&=u),l!==0)for(let f=0;f<i;f++){let c=1<<i-f-1;l&c&&o.push(a*i+f)}}return o},range:t=>{let e=[],r;for(let n of t)r===void 0||n!==r.pos+r.length?e.push(r={pos:n,length:1}):r.length+=1;return e},rangeDebug:(t,e,r=!1)=>`[${Us.range(Us.indices(t,e,r)).map(n=>`(${n.pos}/${n.length})`).join(", ")}]`,setRange:(t,e,r,n,i=!0)=>{Us.chunkLen(e,r,n);let{FULL_MASK:s,BITS:u}=Us,o=r%u?Math.floor(r/u):void 0,a=r+n,l=a%u?Math.floor(a/u):void 0;if(o!==void 0&&o===l)return Us.set(t,o,s>>>u-n<<u-n-r,i);if(o!==void 0&&!Us.set(t,o,s>>>r%u,i))return!1;let f=o!==void 0?o+1:r/u,c=l!==void 0?l:a/u;for(let h=f;h<c;h++)if(!Us.set(t,h,s,i))return!1;return!(l!==void 0&&o!==l&&!Us.set(t,l,s<<u-a%u,i))}},yd={pushObj:(t,e,r)=>{let n={obj:e};t.push(n),r((i,s)=>{n.field=i,s(),n.field=void 0}),t.pop()},path:t=>{let e=[];for(let r of t)r.field!==void 0&&e.push(r.field);return e.join("/")},err(t,e,r){let n=new Error(`${t}(${yd.path(e)}): ${typeof r=="string"?r:r.message}`);return r instanceof Error&&r.stack&&(n.stack=r.stack),n},resolve:(t,e)=>{let r=e.split("/"),n=t.map(u=>u.obj),i=0;for(;i<r.length&&r[i]==="..";i++)n.pop();let s=n.pop();for(;i<r.length;i++){if(!s||s[r[i]]===void 0)return;s=s[r[i]]}return s}},Pm=class{constructor(e,r={},n=[],i=void 0,s=0){this.data=e,this.opts=r,this.stack=n,this.parent=i,this.parentOffset=s,this.pos=0,this.bitBuf=0,this.bitPos=0,this.view=$L(e)}_enablePointers(){if(this.parent)return this.parent._enablePointers();this.bs||(this.bs=Us.create(this.data.length),Us.setRange(this.bs,this.data.length,0,this.pos,this.opts.allowMultipleReads))}markBytesBS(e,r){return this.parent?this.parent.markBytesBS(this.parentOffset+e,r):!r||!this.bs?!0:Us.setRange(this.bs,this.data.length,e,r,!1)}markBytes(e){let r=this.pos;this.pos+=e;let n=this.markBytesBS(r,e);if(!this.opts.allowMultipleReads&&!n)throw this.err(`multiple read pos=${this.pos} len=${e}`);return n}pushObj(e,r){return yd.pushObj(this.stack,e,r)}readView(e,r){if(!Number.isFinite(e))throw this.err(`readView: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readView: Unexpected end of buffer");let n=r(this.view,this.pos);return this.markBytes(e),n}absBytes(e){if(e>this.data.length)throw new Error("Unexpected end of buffer");return this.data.subarray(e)}finish(){if(!this.opts.allowUnreadBytes){if(this.bitPos)throw this.err(`${this.bitPos} bits left after unpack: ${Tm.hex.encode(this.data.slice(this.pos))}`);if(this.bs&&!this.parent){let e=Us.indices(this.bs,this.data.length,!0);if(e.length){let r=Us.range(e).map(({pos:n,length:i})=>`(${n}/${i})[${Tm.hex.encode(this.data.subarray(n,n+i))}]`).join(", ");throw this.err(`unread byte ranges: ${r} (total=${this.data.length})`)}else return}if(!this.isEnd())throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${Tm.hex.encode(this.data.slice(this.pos))}`)}}err(e){return yd.err("Reader",this.stack,e)}offsetReader(e){if(e>this.data.length)throw this.err("offsetReader: Unexpected end of buffer");return new Pm(this.absBytes(e),this.opts,this.stack,this,e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||this.markBytes(e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");if(this.pos+1>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let r=this.data[this.pos];return e||this.markBytes(1),r}get leftBytes(){return this.data.length-this.pos}get totalBytes(){return this.data.length}isEnd(){return this.pos>=this.data.length&&!this.bitPos}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.byte(),this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!M0(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(Im(e,this.data.subarray(n,n+e.length)))return n}}},pI=class{constructor(e=[]){this.stack=e,this.pos=0,this.buffers=[],this.ptrs=[],this.bitBuf=0,this.bitPos=0,this.viewBuf=new Uint8Array(8),this.finished=!1,this.view=$L(this.viewBuf)}pushObj(e,r){return yd.pushObj(this.stack,e,r)}writeView(e,r){if(this.finished)throw this.err("buffer: finished");if(!Zo(e)||e>8)throw new Error(`wrong writeView length=${e}`);r(this.view),this.bytes(this.viewBuf.slice(0,e)),this.viewBuf.fill(0)}err(e){if(this.finished)throw this.err("buffer: finished");return yd.err("Reader",this.stack,e)}bytes(e){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}finish(e=!0){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let r=this.buffers.concat(this.ptrs.map(s=>s.buffer)),n=r.map(s=>s.length).reduce((s,u)=>s+u,0),i=new Uint8Array(n);for(let s=0,u=0;s<r.length;s++){let o=r[s];i.set(o,u),u+=o.length}for(let s=this.pos,u=0;u<this.ptrs.length;u++){let o=this.ptrs[u];i.set(o.ptr.encode(s),o.pos),s+=o.buffer.length}if(e){this.buffers=[];for(let s of this.ptrs)s.buffer.fill(0);this.ptrs=[],this.finished=!0,this.bitBuf=0}return i}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}},LL=t=>Uint8Array.from(t).reverse();function ode(t,e,r){if(r){let n=2n**(e-1n);if(t<-n||t>=n)throw new Error(`value out of signed bounds. Expected ${-n} <= ${t} < ${n}`)}else if(0n>t||t>=2n**e)throw new Error(`value out of unsigned bounds. Expected 0 <= ${t} < ${2n**e}`)}function ade(t){return{encodeStream:t.encodeStream,decodeStream:t.decodeStream,size:t.size,encode:e=>{let r=new pI;return t.encodeStream(r,e),r.finish()},decode:(e,r={})=>{let n=new Pm(e,r),i=t.decodeStream(n);return n.finish(),i}}}function qL(t,e){if(!mi(t))throw new Error(`validate: invalid inner value ${t}`);if(typeof e!="function")throw new Error("validate: fn should be function");return ade({size:t.size,encodeStream:(r,n)=>{let i;try{i=e(n)}catch(s){throw r.err(s)}t.encodeStream(r,i)},decodeStream:r=>{let n=t.decodeStream(r);try{return e(n)}catch(i){throw r.err(i)}}})}le.validate=qL;var PXe=t=>{let e=ade(t);return t.validate?qL(e,t.validate):e};le.wrap=PXe;var bI=t=>vd(t)&&typeof t.decode=="function"&&typeof t.encode=="function";function mi(t){return vd(t)&&bI(t)&&typeof t.encodeStream=="function"&&typeof t.decodeStream=="function"&&(t.size===void 0||Zo(t.size))}le.isCoder=mi;function OXe(){return{encode:t=>{if(!Array.isArray(t))throw new Error("array expected");let e={};for(let r of t){if(!Array.isArray(r)||r.length!==2)throw new Error("array of two elements expected");let n=r[0],i=r[1];if(e[n]!==void 0)throw new Error(`key(${n}) appears twice in struct`);e[n]=i}return e},decode:t=>{if(!vd(t))throw new Error(`expected plain object, got ${t}`);return Object.entries(t)}}}var BXe={encode:t=>{if(typeof t!="bigint")throw new Error(`expected bigint, got ${typeof t}`);if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},decode:t=>{if(!Zo(t))throw new Error("element is not a safe integer");return BigInt(t)}};function kXe(t){if(!vd(t))throw new Error("plain object expected");return{encode:e=>{if(!Zo(e)||!(e in t))throw new Error(`wrong value ${e}`);return t[e]},decode:e=>{if(typeof e!="string")throw new Error(`wrong value ${typeof e}`);return t[e]}}}function CXe(t,e=!1){if(!Zo(t))throw new Error(`decimal/precision: wrong value ${t}`);if(typeof e!="boolean")throw new Error(`decimal/round: expected boolean, got ${typeof e}`);let r=10n**BigInt(t);return{encode:n=>{if(typeof n!="bigint")throw new Error(`expected bigint, got ${typeof n}`);let i=(n<0n?-n:n).toString(10),s=i.length-t;s<0&&(i=i.padStart(i.length-s,"0"),s=0);let u=i.length-1;for(;u>=s&&i[u]==="0";u--);let o=i.slice(0,s),a=i.slice(s,u+1);return o||(o="0"),n<0n&&(o="-"+o),a?`${o}.${a}`:o},decode:n=>{if(typeof n!="string")throw new Error(`expected string, got ${typeof n}`);if(n==="-0")throw new Error("negative zero is not allowed");let i=!1;if(n.startsWith("-")&&(i=!0,n=n.slice(1)),!/^(0|[1-9]\d*)(\.\d+)?$/.test(n))throw new Error(`wrong string value=${n}`);let s=n.indexOf(".");s=s===-1?n.length:s;let u=n.slice(0,s),o=n.slice(s+1).replace(/0+$/,""),a=BigInt(u)*r;if(!e&&o.length>t)throw new Error(`fractional part cannot be represented with this precision (num=${n}, prec=${t})`);let l=Math.min(o.length,t),f=BigInt(o.slice(0,l))*10n**BigInt(t-l),c=a+f;return i?-c:c}}}function FXe(t){if(!Array.isArray(t))throw new Error(`expected array, got ${typeof t}`);for(let e of t)if(!bI(e))throw new Error(`wrong base coder ${e}`);return{encode:e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},decode:e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)}}}var cde=t=>{if(!bI(t))throw new Error("BaseCoder expected");return{encode:t.decode,decode:t.encode}};le.coders={dict:OXe,numberBigint:BXe,tsEnum:kXe,decimal:CXe,match:FXe,reverse:cde};var RXe=t=>{if(!Zo(t))throw new Error(`bits: wrong length ${t} (${typeof t})`);return(0,le.wrap)({encodeStream:(e,r)=>e.bits(r,t),decodeStream:e=>e.bits(t),validate:e=>{if(!Zo(e))throw new Error(`bits: wrong value ${e}`);return e}})};le.bits=RXe;var MXe=(t,e=!1,r=!1,n=!0)=>{if(!Zo(t))throw new Error(`bigint/size: wrong value ${t}`);if(typeof e!="boolean")throw new Error(`bigint/le: expected boolean, got ${typeof e}`);if(typeof r!="boolean")throw new Error(`bigint/signed: expected boolean, got ${typeof r}`);if(typeof n!="boolean")throw new Error(`bigint/sized: expected boolean, got ${typeof n}`);let i=BigInt(t),s=2n**(8n*i-1n);return(0,le.wrap)({size:n?t:void 0,encodeStream:(u,o)=>{r&&o<0&&(o=o|s);let a=[];for(let f=0;f<t;f++)a.push(Number(o&255n)),o>>=8n;let l=new Uint8Array(a).reverse();if(!n){let f=0;for(f=0;f<l.length&&l[f]===0;f++);l=l.subarray(f)}u.bytes(e?l.reverse():l)},decodeStream:u=>{let o=u.bytes(n?t:Math.min(t,u.leftBytes)),a=e?o:LL(o),l=0n;for(let f=0;f<a.length;f++)l|=BigInt(a[f])<<8n*BigInt(f);return r&&l&s&&(l=(l^s)-s),l},validate:u=>{if(typeof u!="bigint")throw new Error(`bigint: invalid value: ${u}`);return ode(u,8n*i,!!r),u}})};le.bigint=MXe;le.U256LE=(0,le.bigint)(32,!0);le.U256BE=(0,le.bigint)(32,!1);le.I256LE=(0,le.bigint)(32,!0,!0);le.I256BE=(0,le.bigint)(32,!1,!0);le.U128LE=(0,le.bigint)(16,!0);le.U128BE=(0,le.bigint)(16,!1);le.I128LE=(0,le.bigint)(16,!0,!0);le.I128BE=(0,le.bigint)(16,!1,!0);le.U64LE=(0,le.bigint)(8,!0);le.U64BE=(0,le.bigint)(8,!1);le.I64LE=(0,le.bigint)(8,!0,!0);le.I64BE=(0,le.bigint)(8,!1,!0);var NXe=(t,e=!1,r=!1,n=!0)=>{if(!Zo(t))throw new Error(`int/size: wrong value ${t}`);if(typeof e!="boolean")throw new Error(`int/le: expected boolean, got ${typeof e}`);if(typeof r!="boolean")throw new Error(`int/signed: expected boolean, got ${typeof r}`);if(typeof n!="boolean")throw new Error(`int/sized: expected boolean, got ${typeof n}`);if(t>6)throw new Error("int supports size up to 6 bytes (48 bits): use bigints instead");return Om((0,le.bigint)(t,e,r,n),le.coders.numberBigint)};le.int=NXe;var jL=(t,e)=>(0,le.wrap)({size:t,encodeStream:(r,n)=>r.writeView(t,i=>e.write(i,n)),decodeStream:r=>r.readView(t,e.read),validate:r=>{if(typeof r!="number")throw new Error(`viewCoder: expected number, got ${typeof r}`);return e.validate&&e.validate(r),r}}),Sd=(t,e,r)=>{let n=t*8,i=2**(n-1),s=a=>{if(!Zo(a))throw new Error(`sintView: value is not safe integer: ${a}`);if(a<-i||a>=i)throw new Error(`sintView: value out of bounds. Expected ${-i} <= ${a} < ${i}`)},u=2**n,o=a=>{if(!Zo(a))throw new Error(`uintView: value is not safe integer: ${a}`);if(0>a||a>=u)throw new Error(`uintView: value out of bounds. Expected 0 <= ${a} < ${u}`)};return jL(t,{write:r.write,read:r.read,validate:e?s:o})};le.U32LE=Sd(4,!1,{read:(t,e)=>t.getUint32(e,!0),write:(t,e)=>t.setUint32(0,e,!0)});le.U32BE=Sd(4,!1,{read:(t,e)=>t.getUint32(e,!1),write:(t,e)=>t.setUint32(0,e,!1)});le.I32LE=Sd(4,!0,{read:(t,e)=>t.getInt32(e,!0),write:(t,e)=>t.setInt32(0,e,!0)});le.I32BE=Sd(4,!0,{read:(t,e)=>t.getInt32(e,!1),write:(t,e)=>t.setInt32(0,e,!1)});le.U16LE=Sd(2,!1,{read:(t,e)=>t.getUint16(e,!0),write:(t,e)=>t.setUint16(0,e,!0)});le.U16BE=Sd(2,!1,{read:(t,e)=>t.getUint16(e,!1),write:(t,e)=>t.setUint16(0,e,!1)});le.I16LE=Sd(2,!0,{read:(t,e)=>t.getInt16(e,!0),write:(t,e)=>t.setInt16(0,e,!0)});le.I16BE=Sd(2,!0,{read:(t,e)=>t.getInt16(e,!1),write:(t,e)=>t.setInt16(0,e,!1)});le.U8=Sd(1,!1,{read:(t,e)=>t.getUint8(e),write:(t,e)=>t.setUint8(0,e)});le.I8=Sd(1,!0,{read:(t,e)=>t.getInt8(e),write:(t,e)=>t.setInt8(0,e)});var fde=t=>jL(4,{read:(e,r)=>e.getFloat32(r,t),write:(e,r)=>e.setFloat32(0,r,t),validate:e=>{if(Math.fround(e)!==e&&!Number.isNaN(e))throw new Error(`f32: wrong value=${e}`)}}),lde=t=>jL(8,{read:(e,r)=>e.getFloat64(r,t),write:(e,r)=>e.setFloat64(0,r,t)});le.F32BE=fde(!1);le.F32LE=fde(!0);le.F64BE=lde(!1);le.F64LE=lde(!0);le.bool=(0,le.wrap)({size:1,encodeStream:(t,e)=>t.byte(e?1:0),decodeStream:t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1},validate:t=>{if(typeof t!="boolean")throw new Error(`bool: invalid value ${t}`);return t}});var DXe=(t,e=!1)=>{if(typeof e!="boolean")throw new Error(`bytes/le: expected boolean, got ${typeof e}`);let r=ude(t),n=M0(t);return(0,le.wrap)({size:typeof t=="number"?t:void 0,encodeStream:(i,s)=>{n||r.encodeStream(i,s.length),i.bytes(e?LL(s):s),n&&i.bytes(t)},decodeStream:i=>{let s;if(n){let u=i.find(t);if(!u)throw i.err("bytes: cannot find terminator");s=i.bytes(u-i.pos),i.bytes(t.length)}else s=i.bytes(t===null?i.leftBytes:r.decodeStream(i));return e?LL(s):s},validate:i=>{if(!M0(i))throw new Error(`bytes: invalid value ${i}`);return i}})};le.bytes=DXe;function HXe(t,e){if(!mi(e))throw new Error(`prefix: invalid inner value ${e}`);return Om((0,le.bytes)(t),cde(e))}le.prefix=HXe;var LXe=(t,e=!1)=>qL(Om((0,le.bytes)(t,e),Tm.utf8),r=>{if(typeof r!="string")throw new Error(`expected string, got ${typeof r}`);return r});le.string=LXe;le.cstring=(0,le.string)(le.NULL);var UXe=(t,e={isLE:!1,with0x:!1})=>{let r=Om((0,le.bytes)(t,e.isLE),Tm.hex);if(typeof e.with0x!="boolean")throw new Error(`hex/with0x: expected boolean, got ${typeof e.with0x}`);return e.with0x&&(r=Om(r,{encode:n=>`0x${n}`,decode:n=>{if(!n.startsWith("0x"))throw new Error("hex(with0x=true).encode input should start with 0x");return n.slice(2)}})),r};le.hex=UXe;function Om(t,e){if(!mi(t))throw new Error(`apply: invalid inner value ${t}`);if(!bI(e))throw new Error(`apply: invalid base value ${t}`);return(0,le.wrap)({size:t.size,encodeStream:(r,n)=>{let i;try{i=e.decode(n)}catch(s){throw r.err(""+s)}return t.encodeStream(r,i)},decodeStream:r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}}})}le.apply=Om;function $Xe(t){if(typeof t!="function")throw new Error(`lazy: expected function, got ${typeof t}`);return(0,le.wrap)({encodeStream:(e,r)=>t().encodeStream(e,r),decodeStream:e=>t().decodeStream(e)})}le.lazy=$Xe;var qXe=(t,e=!1)=>{if(!M0(t))throw new Error(`flag/flagValue: expected Uint8Array, got ${typeof t}`);if(typeof e!="boolean")throw new Error(`flag/xor: expected boolean, got ${typeof e}`);return(0,le.wrap)({size:t.length,encodeStream:(r,n)=>{!!n!==e&&r.bytes(t)},decodeStream:r=>{let n=r.leftBytes>=t.length;return n&&(n=Im(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e},validate:r=>{if(r!==void 0&&typeof r!="boolean")throw new Error(`flag: expected boolean value or undefined, got ${typeof r}`);return r}})};le.flag=qXe;function jXe(t,e,r){if(!mi(e))throw new Error(`flagged: invalid inner value ${e}`);if(typeof t!="string"&&!mi(e))throw new Error(`flagged: wrong path=${t}`);return(0,le.wrap)({encodeStream:(n,i)=>{typeof t=="string"?yd.resolve(n.stack,t)?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},decodeStream:n=>{let i=!1;if(typeof t=="string"?i=!!yd.resolve(n.stack,t):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)}})}le.flagged=jXe;function KXe(t,e,r){if(!mi(t)||!mi(e))throw new Error(`optional: invalid flag or inner value flag=${t} inner=${e}`);return(0,le.wrap)({size:r!==void 0&&t.size&&e.size?t.size+e.size:void 0,encodeStream:(n,i)=>{t.encodeStream(n,!!i),i?e.encodeStream(n,i):r!==void 0&&e.encodeStream(n,r)},decodeStream:n=>{if(t.decodeStream(n))return e.decodeStream(n);r!==void 0&&e.decodeStream(n)}})}le.optional=KXe;function dde(t,e,r=!0){if(!mi(t))throw new Error(`magic: invalid inner value ${t}`);if(typeof r!="boolean")throw new Error(`magic: expected boolean, got ${typeof r}`);return(0,le.wrap)({size:t.size,encodeStream:(n,i)=>t.encodeStream(n,e),decodeStream:n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||M0(e)&&!Im(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)},validate:n=>{if(n!==void 0)throw new Error(`magic: wrong value=${typeof n}`);return n}})}le.magic=dde;var zXe=t=>{let e=typeof t=="string"?Tm.utf8.decode(t):t;return dde((0,le.bytes)(e.length),e)};le.magicBytes=zXe;function VXe(t){return(0,le.wrap)({encodeStream:(e,r)=>{if(r!==t)throw new Error(`constant: invalid value ${r} (exp: ${t})`)},decodeStream:e=>t})}le.constant=VXe;function hde(t){let e=0;for(let r of t){if(r.size===void 0)return;if(!Zo(r.size))throw new Error(`sizeof: wrong element size=${e}`);e+=r.size}return e}function GXe(t){if(!vd(t))throw new Error(`struct: expected plain object, got ${t}`);for(let e in t)if(!mi(t[e]))throw new Error(`struct: field ${e} is not CoderType`);return(0,le.wrap)({size:hde(Object.values(t)),encodeStream:(e,r)=>{e.pushObj(r,n=>{for(let i in t)n(i,()=>t[i].encodeStream(e,r[i]))})},decodeStream:e=>{let r={};return e.pushObj(r,n=>{for(let i in t)n(i,()=>r[i]=t[i].decodeStream(e))}),r},validate:e=>{if(typeof e!="object"||e===null)throw new Error(`struct: invalid value ${e}`);return e}})}le.struct=GXe;function WXe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);for(let e=0;e<t.length;e++)if(!mi(t[e]))throw new Error(`tuple: field ${e} is not CoderType`);return(0,le.wrap)({size:hde(t),encodeStream:(e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.pushObj(r,n=>{for(let i=0;i<t.length;i++)n(`${i}`,()=>t[i].encodeStream(e,r[i]))})},decodeStream:e=>{let r=[];return e.pushObj(r,n=>{for(let i=0;i<t.length;i++)n(`${i}`,()=>r.push(t[i].decodeStream(e)))}),r},validate:e=>{if(!Array.isArray(e))throw new Error(`tuple: invalid value ${e}`);if(e.length!==t.length)throw new Error(`tuple: wrong length=${e.length}, expected ${t.length}`);return e}})}le.tuple=WXe;function YXe(t,e){if(!mi(e))throw new Error(`array: invalid inner value ${e}`);let r=ude(typeof t=="string"?`../${t}`:t);return(0,le.wrap)({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:(n,i)=>{let s=n;s.pushObj(i,u=>{M0(t)||r.encodeStream(n,i.length);for(let o=0;o<i.length;o++)u(`${o}`,()=>{let a=i[o],l=n.pos;if(e.encodeStream(n,a),M0(t)){if(t.length>s.pos-l)return;let f=s.finish(!1).subarray(l,s.pos);if(Im(f.subarray(0,t.length),t))throw s.err(`array: inner element encoding same as separator. elm=${a} data=${f}`)}})}),M0(t)&&n.bytes(t)},decodeStream:n=>{let i=[];return n.pushObj(i,s=>{if(t===null)for(let u=0;!n.isEnd()&&(s(`${u}`,()=>i.push(e.decodeStream(n))),!(e.size&&n.leftBytes<e.size));u++);else if(M0(t))for(let u=0;;u++){if(Im(n.bytes(t.length,!0),t)){n.bytes(t.length);break}s(`${u}`,()=>i.push(e.decodeStream(n)))}else{let u;s("arrayLen",()=>u=r.decodeStream(n));for(let o=0;o<u;o++)s(`${o}`,()=>i.push(e.decodeStream(n)))}}),i},validate:n=>{if(!Array.isArray(n))throw new Error(`array: invalid value ${n}`);return n}})}le.array=YXe;function pde(t,e){if(!mi(t))throw new Error(`map: invalid inner value ${t}`);if(!vd(e))throw new Error("map: variants should be plain object");let r=new Map;for(let n in e)r.set(e[n],n);return(0,le.wrap)({size:t.size,encodeStream:(n,i)=>t.encodeStream(n,e[i]),decodeStream:n=>{let i=t.decodeStream(n),s=r.get(i);if(s===void 0)throw n.err(`Enum: unknown value: ${i} ${Array.from(r.keys())}`);return s},validate:n=>{if(typeof n!="string")throw new Error(`map: invalid value ${n}`);if(!(n in e))throw new Error(`Map: unknown variant: ${n}`);return n}})}le.map=pde;function UL(t,e){if(!mi(t))throw new Error(`tag: invalid tag value ${t}`);if(!vd(e))throw new Error("tag: variants should be plain object");for(let r in e)if(!mi(e[r]))throw new Error(`tag: variant ${r} is not CoderType`);return(0,le.wrap)({size:t.size,encodeStream:(r,n)=>{let{TAG:i,data:s}=n,u=e[i];t.encodeStream(r,i),u.encodeStream(r,s)},decodeStream:r=>{let n=t.decodeStream(r),i=e[n];if(!i)throw r.err(`Tag: invalid tag ${n}`);return{TAG:n,data:i.decodeStream(r)}},validate:r=>{let{TAG:n}=r;if(!e[n])throw new Error(`Tag: invalid tag ${n.toString()}`);return r}})}le.tag=UL;function XXe(t,e){if(!mi(t))throw new Error(`mappedTag: invalid tag value ${UL}`);if(!vd(e))throw new Error("mappedTag: variants should be plain object");let r={},n={};for(let i in e){let s=e[i];r[i]=s[0],n[i]=s[1]}return UL(pde(t,r),n)}le.mappedTag=XXe;function ZXe(t,e=!1){if(typeof e!="boolean")throw new Error(`bitset/pad: expected boolean, got ${typeof e}`);if(!Array.isArray(t))throw new Error("bitset/names: expected array");for(let r of t)if(typeof r!="string")throw new Error("bitset/names: expected array of strings");return(0,le.wrap)({encodeStream:(r,n)=>{for(let i=0;i<t.length;i++)r.bits(+n[t[i]],1);e&&t.length%8&&r.bits(0,8-t.length%8)},decodeStream:r=>{let n={};for(let i=0;i<t.length;i++)n[t[i]]=!!r.bits(1);return e&&t.length%8&&r.bits(8-t.length%8),n},validate:r=>{if(!vd(r))throw new Error(`bitset: invalid value ${r}`);for(let n of Object.values(r))if(typeof n!="boolean")throw new Error("expected boolean");return r}})}le.bitset=ZXe;var JXe=t=>0;le.ZeroPad=JXe;function xm(t,e){return e%t===0?0:t-e%t}function QXe(t,e,r){if(!Zo(t)||t<=0)throw new Error(`padLeft: wrong blockSize=${t}`);if(!mi(e))throw new Error(`padLeft: invalid inner value ${e}`);if(r!==void 0&&typeof r!="function")throw new Error(`padLeft: wrong padFn=${typeof r}`);let n=r||le.ZeroPad;if(!e.size)throw new Error("padLeft cannot have dynamic size");return(0,le.wrap)({size:e.size+xm(t,e.size),encodeStream:(i,s)=>{let u=xm(t,e.size);for(let o=0;o<u;o++)i.byte(n(o));e.encodeStream(i,s)},decodeStream:i=>(i.bytes(xm(t,e.size)),e.decodeStream(i))})}le.padLeft=QXe;function eZe(t,e,r){if(!mi(e))throw new Error(`padRight: invalid inner value ${e}`);if(!Zo(t)||t<=0)throw new Error(`padLeft: wrong blockSize=${t}`);if(r!==void 0&&typeof r!="function")throw new Error(`padRight: wrong padFn=${typeof r}`);let n=r||le.ZeroPad;return(0,le.wrap)({size:e.size?e.size+xm(t,e.size):void 0,encodeStream:(i,s)=>{let u=i,o=u.pos;e.encodeStream(i,s);let a=xm(t,u.pos-o);for(let l=0;l<a;l++)i.byte(n(l))},decodeStream:i=>{let s=i.pos,u=e.decodeStream(i);return i.bytes(xm(t,i.pos-s)),u}})}le.padRight=eZe;function tZe(t,e,r=!1){if(!mi(t))throw new Error(`pointer: invalid ptr value ${t}`);if(!mi(e))throw new Error(`pointer: invalid inner value ${e}`);if(typeof r!="boolean")throw new Error(`pointer/sized: expected boolean, got ${typeof r}`);if(!t.size)throw new Error("unsized pointer");return(0,le.wrap)({size:r?t.size:void 0,encodeStream:(n,i)=>{let s=n,u=s.pos;t.encodeStream(n,0),s.ptrs.push({pos:u,ptr:t,buffer:e.encode(i)})},decodeStream:n=>{let i=t.decodeStream(n);return n._enablePointers(),e.decodeStream(n.offsetReader(i))}})}le.pointer=tZe;le._TEST={_bitset:Us,_Reader:Pm,_Writer:pI,Path:yd}});var zL=$(_d=>{"use strict";B();k();Object.defineProperty(_d,"__esModule",{value:!0});_d.isBytes=gde;_d.number=gI;_d.bool=bde;_d.bytes=KL;_d.hash=mde;_d.exists=yde;_d.output=vde;function gI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function bde(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function gde(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function KL(t,...e){if(!gde(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function mde(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gI(t.outputLen),gI(t.blockLen)}function yde(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vde(t,e){KL(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var rZe={number:gI,bool:bde,bytes:KL,hash:mde,exists:yde,output:vde};_d.default=rZe});var Sde=$(mI=>{"use strict";B();k();Object.defineProperty(mI,"__esModule",{value:!0});mI.crypto=void 0;mI.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var vI=$(Cr=>{"use strict";B();k();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Hash=Cr.nextTick=Cr.byteSwapIfBE=Cr.byteSwap=Cr.isLE=Cr.rotl=Cr.rotr=Cr.createView=Cr.u32=Cr.u8=void 0;Cr.isBytes=nZe;Cr.byteSwap32=fZe;Cr.bytesToHex=dZe;Cr.hexToBytes=hZe;Cr.asyncLoop=bZe;Cr.utf8ToBytes=wde;Cr.toBytes=yI;Cr.concatBytes=gZe;Cr.checkOpts=yZe;Cr.wrapConstructor=vZe;Cr.wrapConstructorWithOpts=SZe;Cr.wrapXOFConstructorWithOpts=_Ze;Cr.randomBytes=wZe;var Bm=Sde(),GL=zL();function nZe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var iZe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Cr.u8=iZe;var sZe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Cr.u32=sZe;var uZe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Cr.createView=uZe;var oZe=(t,e)=>t<<32-e|t>>>e;Cr.rotr=oZe;var aZe=(t,e)=>t<<e|t>>>32-e>>>0;Cr.rotl=aZe;Cr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var cZe=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;Cr.byteSwap=cZe;Cr.byteSwapIfBE=Cr.isLE?t=>t:t=>(0,Cr.byteSwap)(t);function fZe(t){for(let e=0;e<t.length;e++)t[e]=(0,Cr.byteSwap)(t[e])}var lZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dZe(t){(0,GL.bytes)(t);let e="";for(let r=0;r<t.length;r++)e+=lZe[t[r]];return e}var ep={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function _de(t){if(t>=ep._0&&t<=ep._9)return t-ep._0;if(t>=ep._A&&t<=ep._F)return t-(ep._A-10);if(t>=ep._a&&t<=ep._f)return t-(ep._a-10)}function hZe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let u=_de(t.charCodeAt(s)),o=_de(t.charCodeAt(s+1));if(u===void 0||o===void 0){let a=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+s)}n[i]=u*16+o}return n}var pZe=async()=>{};Cr.nextTick=pZe;async function bZe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Cr.nextTick)(),n+=s)}}function wde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function yI(t){return typeof t=="string"&&(t=wde(t)),(0,GL.bytes)(t),t}function gZe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];(0,GL.bytes)(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var VL=class{clone(){return this._cloneInto()}};Cr.Hash=VL;var mZe={}.toString;function yZe(t,e){if(e!==void 0&&mZe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function vZe(t){let e=n=>t().update(yI(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function SZe(t){let e=(n,i)=>t(i).update(yI(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function _Ze(t){let e=(n,i)=>t(i).update(yI(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function wZe(t=32){if(Bm.crypto&&typeof Bm.crypto.getRandomValues=="function")return Bm.crypto.getRandomValues(new Uint8Array(t));if(Bm.crypto&&typeof Bm.crypto.randomBytes=="function")return Bm.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}});var XL=$(u6=>{"use strict";B();k();Object.defineProperty(u6,"__esModule",{value:!0});u6.HashMD=u6.Maj=u6.Chi=void 0;var WL=zL(),hv=vI();function EZe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),u=Number(r>>i&s),o=Number(r&s),a=n?4:0,l=n?0:4;t.setUint32(e+a,u,n),t.setUint32(e+l,o,n)}var AZe=(t,e,r)=>t&e^~t&r;u6.Chi=AZe;var TZe=(t,e,r)=>t&e^t&r^e&r;u6.Maj=TZe;var YL=class extends hv.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,hv.createView)(this.buffer)}update(e){(0,WL.exists)(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,hv.toBytes)(e);let s=e.length;for(let u=0;u<s;){let o=Math.min(i-this.pos,s-u);if(o===i){let a=(0,hv.createView)(e);for(;i<=s-u;u+=i)this.process(a,u);continue}n.set(e.subarray(u,u+o),this.pos),this.pos+=o,u+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,WL.exists)(this),(0,WL.output)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let c=u;c<i;c++)r[c]=0;EZe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let o=(0,hv.createView)(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)o.setUint32(4*c,f[c],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:u,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=u,i%r&&e.buffer.set(n),e}};u6.HashMD=YL});var xde=$(km=>{"use strict";B();k();Object.defineProperty(km,"__esModule",{value:!0});km.ripemd160=km.RIPEMD160=void 0;var xZe=XL(),pv=vI(),IZe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Ade=new Uint8Array(new Array(16).fill(0).map((t,e)=>e)),PZe=Ade.map(t=>(9*t+5)%16),ZL=[Ade],JL=[PZe];for(let t=0;t<4;t++)for(let e of[ZL,JL])e.push(e[t].map(r=>IZe[r]));var Tde=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),OZe=ZL.map((t,e)=>t.map(r=>Tde[e][r])),BZe=JL.map((t,e)=>t.map(r=>Tde[e][r])),kZe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),CZe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function Ede(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var SI=new Uint32Array(16),_I=class extends xZe.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let d=0;d<16;d++,r+=4)SI[d]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,u=s,o=this.h2|0,a=o,l=this.h3|0,f=l,c=this.h4|0,h=c;for(let d=0;d<5;d++){let p=4-d,m=kZe[d],w=CZe[d],x=ZL[d],_=JL[d],y=OZe[d],S=BZe[d];for(let F=0;F<16;F++){let N=(0,pv.rotl)(n+Ede(d,s,o,l)+SI[x[F]]+m,y[F])+c|0;n=c,c=l,l=(0,pv.rotl)(o,10)|0,o=s,s=N}for(let F=0;F<16;F++){let N=(0,pv.rotl)(i+Ede(p,u,a,f)+SI[_[F]]+w,S[F])+h|0;i=h,h=f,f=(0,pv.rotl)(a,10)|0,a=u,u=N}}this.set(this.h1+o+f|0,this.h2+l+h|0,this.h3+c+i|0,this.h4+n+u|0,this.h0+s+a|0)}roundClean(){SI.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};km.RIPEMD160=_I;km.ripemd160=(0,pv.wrapConstructor)(()=>new _I)});var Ide=$(c6=>{"use strict";B();k();Object.defineProperty(c6,"__esModule",{value:!0});c6.sha224=c6.sha256=c6.SHA256=void 0;var QL=XL(),N0=vI(),FZe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a6=new Uint32Array(64),bv=class extends QL.HashMD{constructor(){super(64,32,8,!1),this.A=o6[0]|0,this.B=o6[1]|0,this.C=o6[2]|0,this.D=o6[3]|0,this.E=o6[4]|0,this.F=o6[5]|0,this.G=o6[6]|0,this.H=o6[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:u,G:o,H:a}=this;return[e,r,n,i,s,u,o,a]}set(e,r,n,i,s,u,o,a){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=o|0,this.H=a|0}process(e,r){for(let c=0;c<16;c++,r+=4)a6[c]=e.getUint32(r,!1);for(let c=16;c<64;c++){let h=a6[c-15],d=a6[c-2],p=(0,N0.rotr)(h,7)^(0,N0.rotr)(h,18)^h>>>3,m=(0,N0.rotr)(d,17)^(0,N0.rotr)(d,19)^d>>>10;a6[c]=m+a6[c-7]+p+a6[c-16]|0}let{A:n,B:i,C:s,D:u,E:o,F:a,G:l,H:f}=this;for(let c=0;c<64;c++){let h=(0,N0.rotr)(o,6)^(0,N0.rotr)(o,11)^(0,N0.rotr)(o,25),d=f+h+(0,QL.Chi)(o,a,l)+FZe[c]+a6[c]|0,m=((0,N0.rotr)(n,2)^(0,N0.rotr)(n,13)^(0,N0.rotr)(n,22))+(0,QL.Maj)(n,i,s)|0;f=l,l=a,a=o,o=u+d|0,u=s,s=i,i=n,n=d+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(n,i,s,u,o,a,l,f)}roundClean(){a6.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};c6.SHA256=bv;var eU=class extends bv{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};c6.sha256=(0,N0.wrapConstructor)(()=>new bv);c6.sha224=(0,N0.wrapConstructor)(()=>new eU)});var EI=$(wd=>{"use strict";B();k();Object.defineProperty(wd,"__esModule",{value:!0});wd.isBytes=Ode;wd.number=wI;wd.bool=Pde;wd.bytes=tU;wd.hash=Bde;wd.exists=kde;wd.output=Cde;function wI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Pde(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Ode(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function tU(t,...e){if(!Ode(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Bde(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wI(t.outputLen),wI(t.blockLen)}function kde(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Cde(t,e){tU(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var RZe={number:wI,bool:Pde,bytes:tU,hash:Bde,exists:kde,output:Cde};wd.default=RZe});var Fde=$(AI=>{"use strict";B();k();Object.defineProperty(AI,"__esModule",{value:!0});AI.crypto=void 0;AI.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Fm=$(Fr=>{"use strict";B();k();Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Hash=Fr.nextTick=Fr.byteSwapIfBE=Fr.byteSwap=Fr.isLE=Fr.rotl=Fr.rotr=Fr.createView=Fr.u32=Fr.u8=void 0;Fr.isBytes=MZe;Fr.byteSwap32=qZe;Fr.bytesToHex=KZe;Fr.hexToBytes=zZe;Fr.asyncLoop=GZe;Fr.utf8ToBytes=Mde;Fr.toBytes=TI;Fr.concatBytes=WZe;Fr.checkOpts=XZe;Fr.wrapConstructor=ZZe;Fr.wrapConstructorWithOpts=JZe;Fr.wrapXOFConstructorWithOpts=QZe;Fr.randomBytes=eJe;var Cm=Fde(),nU=EI();function MZe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var NZe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Fr.u8=NZe;var DZe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Fr.u32=DZe;var HZe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Fr.createView=HZe;var LZe=(t,e)=>t<<32-e|t>>>e;Fr.rotr=LZe;var UZe=(t,e)=>t<<e|t>>>32-e>>>0;Fr.rotl=UZe;Fr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var $Ze=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;Fr.byteSwap=$Ze;Fr.byteSwapIfBE=Fr.isLE?t=>t:t=>(0,Fr.byteSwap)(t);function qZe(t){for(let e=0;e<t.length;e++)t[e]=(0,Fr.byteSwap)(t[e])}var jZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function KZe(t){(0,nU.bytes)(t);let e="";for(let r=0;r<t.length;r++)e+=jZe[t[r]];return e}var tp={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Rde(t){if(t>=tp._0&&t<=tp._9)return t-tp._0;if(t>=tp._A&&t<=tp._F)return t-(tp._A-10);if(t>=tp._a&&t<=tp._f)return t-(tp._a-10)}function zZe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let u=Rde(t.charCodeAt(s)),o=Rde(t.charCodeAt(s+1));if(u===void 0||o===void 0){let a=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+s)}n[i]=u*16+o}return n}var VZe=async()=>{};Fr.nextTick=VZe;async function GZe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Fr.nextTick)(),n+=s)}}function Mde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function TI(t){return typeof t=="string"&&(t=Mde(t)),(0,nU.bytes)(t),t}function WZe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];(0,nU.bytes)(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var rU=class{clone(){return this._cloneInto()}};Fr.Hash=rU;var YZe={}.toString;function XZe(t,e){if(e!==void 0&&YZe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function ZZe(t){let e=n=>t().update(TI(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function JZe(t){let e=(n,i)=>t(i).update(TI(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function QZe(t){let e=(n,i)=>t(i).update(TI(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function eJe(t=32){if(Cm.crypto&&typeof Cm.crypto.getRandomValues=="function")return Cm.crypto.getRandomValues(new Uint8Array(t));if(Cm.crypto&&typeof Cm.crypto.randomBytes=="function")return Cm.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}});var Nde=$(f6=>{"use strict";B();k();Object.defineProperty(f6,"__esModule",{value:!0});f6.HashMD=f6.Maj=f6.Chi=void 0;var iU=EI(),gv=Fm();function tJe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),u=Number(r>>i&s),o=Number(r&s),a=n?4:0,l=n?0:4;t.setUint32(e+a,u,n),t.setUint32(e+l,o,n)}var rJe=(t,e,r)=>t&e^~t&r;f6.Chi=rJe;var nJe=(t,e,r)=>t&e^t&r^e&r;f6.Maj=nJe;var sU=class extends gv.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,gv.createView)(this.buffer)}update(e){(0,iU.exists)(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,gv.toBytes)(e);let s=e.length;for(let u=0;u<s;){let o=Math.min(i-this.pos,s-u);if(o===i){let a=(0,gv.createView)(e);for(;i<=s-u;u+=i)this.process(a,u);continue}n.set(e.subarray(u,u+o),this.pos),this.pos+=o,u+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,iU.exists)(this),(0,iU.output)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let c=u;c<i;c++)r[c]=0;tJe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let o=(0,gv.createView)(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)o.setUint32(4*c,f[c],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:u,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=u,i%r&&e.buffer.set(n),e}};f6.HashMD=sU});var Dde=$(h6=>{"use strict";B();k();Object.defineProperty(h6,"__esModule",{value:!0});h6.sha224=h6.sha256=h6.SHA256=void 0;var uU=Nde(),D0=Fm(),iJe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),d6=new Uint32Array(64),mv=class extends uU.HashMD{constructor(){super(64,32,8,!1),this.A=l6[0]|0,this.B=l6[1]|0,this.C=l6[2]|0,this.D=l6[3]|0,this.E=l6[4]|0,this.F=l6[5]|0,this.G=l6[6]|0,this.H=l6[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:u,G:o,H:a}=this;return[e,r,n,i,s,u,o,a]}set(e,r,n,i,s,u,o,a){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=u|0,this.G=o|0,this.H=a|0}process(e,r){for(let c=0;c<16;c++,r+=4)d6[c]=e.getUint32(r,!1);for(let c=16;c<64;c++){let h=d6[c-15],d=d6[c-2],p=(0,D0.rotr)(h,7)^(0,D0.rotr)(h,18)^h>>>3,m=(0,D0.rotr)(d,17)^(0,D0.rotr)(d,19)^d>>>10;d6[c]=m+d6[c-7]+p+d6[c-16]|0}let{A:n,B:i,C:s,D:u,E:o,F:a,G:l,H:f}=this;for(let c=0;c<64;c++){let h=(0,D0.rotr)(o,6)^(0,D0.rotr)(o,11)^(0,D0.rotr)(o,25),d=f+h+(0,uU.Chi)(o,a,l)+iJe[c]+d6[c]|0,m=((0,D0.rotr)(n,2)^(0,D0.rotr)(n,13)^(0,D0.rotr)(n,22))+(0,uU.Maj)(n,i,s)|0;f=l,l=a,a=o,o=u+d|0,u=s,s=i,i=n,n=d+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,u=u+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(n,i,s,u,o,a,l,f)}roundClean(){d6.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};h6.SHA256=mv;var oU=class extends mv{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};h6.sha256=(0,D0.wrapConstructor)(()=>new mv);h6.sha224=(0,D0.wrapConstructor)(()=>new oU)});var Lde=$(Y5=>{"use strict";B();k();Object.defineProperty(Y5,"__esModule",{value:!0});Y5.hmac=Y5.HMAC=void 0;var xI=EI(),Hde=Fm(),yv=class extends Hde.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,xI.hash)(e);let n=(0,Hde.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let u=0;u<s.length;u++)s[u]^=54;this.iHash.update(s),this.oHash=e.create();for(let u=0;u<s.length;u++)s[u]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,xI.exists)(this),this.iHash.update(e),this}digestInto(e){(0,xI.exists)(this),(0,xI.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:u,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=u,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Y5.HMAC=yv;var sJe=(t,e,r)=>new yv(t,e).update(r).digest();Y5.hmac=sJe;Y5.hmac.create=(t,e)=>new yv(t,e)});var X5=$(bn=>{"use strict";B();k();Object.defineProperty(bn,"__esModule",{value:!0});bn.notImplemented=bn.bitMask=void 0;bn.isBytes=PI;bn.abytes=OI;bn.abool=oJe;bn.bytesToHex=lU;bn.numberToHexUnpadded=qde;bn.hexToNumber=dU;bn.hexToBytes=BI;bn.bytesToNumberBE=cJe;bn.bytesToNumberLE=fJe;bn.numberToBytesBE=jde;bn.numberToBytesLE=lJe;bn.numberToVarBytesBE=dJe;bn.ensureBytes=hJe;bn.concatBytes=Kde;bn.equalBytes=pJe;bn.utf8ToBytes=bJe;bn.inRange=zde;bn.aInRange=gJe;bn.bitLen=mJe;bn.bitGet=yJe;bn.bitSet=vJe;bn.createHmacDrbg=_Je;bn.validateObject=EJe;bn.memoized=TJe;var fU=BigInt(0),II=BigInt(1),uJe=BigInt(2);function PI(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function OI(t){if(!PI(t))throw new Error("Uint8Array expected")}function oJe(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}var aJe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lU(t){OI(t);let e="";for(let r=0;r<t.length;r++)e+=aJe[t[r]];return e}function qde(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function dU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var rp={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ude(t){if(t>=rp._0&&t<=rp._9)return t-rp._0;if(t>=rp._A&&t<=rp._F)return t-(rp._A-10);if(t>=rp._a&&t<=rp._f)return t-(rp._a-10)}function BI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let u=Ude(t.charCodeAt(s)),o=Ude(t.charCodeAt(s+1));if(u===void 0||o===void 0){let a=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+s)}n[i]=u*16+o}return n}function cJe(t){return dU(lU(t))}function fJe(t){return OI(t),dU(lU(Uint8Array.from(t).reverse()))}function jde(t,e){return BI(t.toString(16).padStart(e*2,"0"))}function lJe(t,e){return jde(t,e).reverse()}function dJe(t){return BI(qde(t))}function hJe(t,e,r){let n;if(typeof e=="string")try{n=BI(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(PI(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Kde(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];OI(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}function pJe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function bJe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}var aU=t=>typeof t=="bigint"&&fU<=t;function zde(t,e,r){return aU(t)&&aU(e)&&aU(r)&&e<=t&&t<r}function gJe(t,e,r,n){if(!zde(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function mJe(t){let e;for(e=0;t>fU;t>>=II,e+=1);return e}function yJe(t,e){return t>>BigInt(e)&II}function vJe(t,e,r){return t|(r?II:fU)<<BigInt(e)}var SJe=t=>(uJe<<BigInt(t-1))-II;bn.bitMask=SJe;var cU=t=>new Uint8Array(t),$de=t=>Uint8Array.from(t);function _Je(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=cU(t),i=cU(t),s=0,u=()=>{n.fill(1),i.fill(0),s=0},o=(...c)=>r(i,n,...c),a=(c=cU())=>{i=o($de([0]),c),n=o(),c.length!==0&&(i=o($de([1]),c),n=o())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let c=0,h=[];for(;c<e;){n=o();let d=n.slice();h.push(d),c+=n.length}return Kde(...h)};return(c,h)=>{u(),a(c);let d;for(;!(d=h(l()));)a();return u(),d}}var wJe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||PI(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function EJe(t,e,r={}){let n=(i,s,u)=>{let o=wJe[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);let a=t[i];if(!(u&&a===void 0)&&!o(a,t))throw new Error(`Invalid param ${String(i)}=${a} (${typeof a}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var AJe=()=>{throw new Error("not implemented")};bn.notImplemented=AJe;function TJe(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let s=t(r,...n);return e.set(r,s),s}}});var vv=$(yi=>{"use strict";B();k();Object.defineProperty(yi,"__esModule",{value:!0});yi.isNegativeLE=void 0;yi.mod=yc;yi.pow=Wde;yi.pow2=OJe;yi.invert=kI;yi.tonelliShanks=Yde;yi.FpSqrt=Xde;yi.validateField=CJe;yi.FpPow=Zde;yi.FpInvertBatch=Jde;yi.FpDiv=FJe;yi.FpLegendre=Qde;yi.FpIsSquare=RJe;yi.nLength=pU;yi.Field=MJe;yi.FpSqrtOdd=NJe;yi.FpSqrtEven=DJe;yi.hashToPrivateScalar=HJe;yi.getFieldBytesLength=bU;yi.getMinHashLength=ehe;yi.mapHashToField=LJe;var vc=X5(),$s=BigInt(0),xn=BigInt(1),p6=BigInt(2),xJe=BigInt(3),hU=BigInt(4),Vde=BigInt(5),Gde=BigInt(8),IJe=BigInt(9),PJe=BigInt(16);function yc(t,e){let r=t%e;return r>=$s?r:e+r}function Wde(t,e,r){if(r<=$s||e<$s)throw new Error("Expected power/modulo > 0");if(r===xn)return $s;let n=xn;for(;e>$s;)e&xn&&(n=n*t%r),t=t*t%r,e>>=xn;return n}function OJe(t,e,r){let n=t;for(;e-- >$s;)n*=n,n%=r;return n}function kI(t,e){if(t===$s||e<=$s)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=yc(t,e),n=e,i=$s,s=xn,u=xn,o=$s;for(;r!==$s;){let l=n/r,f=n%r,c=i-u*l,h=s-o*l;n=r,r=f,i=u,s=o,u=c,o=h}if(n!==xn)throw new Error("invert: does not exist");return yc(i,e)}function Yde(t){let e=(t-xn)/p6,r,n,i;for(r=t-xn,n=0;r%p6===$s;r/=p6,n++);for(i=p6;i<t&&Wde(i,e,t)!==t-xn;i++);if(n===1){let u=(t+xn)/hU;return function(a,l){let f=a.pow(l,u);if(!a.eql(a.sqr(f),l))throw new Error("Cannot find square root");return f}}let s=(r+xn)/p6;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,f=o.pow(o.mul(o.ONE,i),r),c=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let d=1;for(let m=o.sqr(h);d<l&&!o.eql(m,o.ONE);d++)m=o.sqr(m);let p=o.pow(f,xn<<BigInt(l-d-1));f=o.sqr(p),c=o.mul(c,p),h=o.mul(h,f),l=d}return c}}function Xde(t){if(t%hU===xJe){let e=(t+xn)/hU;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Gde===Vde){let e=(t-Vde)/Gde;return function(n,i){let s=n.mul(i,p6),u=n.pow(s,e),o=n.mul(i,u),a=n.mul(n.mul(o,p6),u),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%PJe,Yde(t)}var BJe=(t,e)=>(yc(t,e)&xn)===xn;yi.isNegativeLE=BJe;var kJe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CJe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=kJe.reduce((n,i)=>(n[i]="function",n),e);return(0,vc.validateObject)(t,r)}function Zde(t,e,r){if(r<$s)throw new Error("Expected power > 0");if(r===$s)return t.ONE;if(r===xn)return e;let n=t.ONE,i=e;for(;r>$s;)r&xn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=xn;return n}function Jde(t,e){let r=new Array(e.length),n=e.reduce((s,u,o)=>t.is0(u)?s:(r[o]=s,t.mul(s,u)),t.ONE),i=t.inv(n);return e.reduceRight((s,u,o)=>t.is0(u)?s:(r[o]=t.mul(s,r[o]),t.mul(s,u)),i),r}function FJe(t,e,r){return t.mul(e,typeof r=="bigint"?kI(r,t.ORDER):t.inv(r))}function Qde(t){let e=(t-xn)/p6;return(r,n)=>r.pow(n,e)}function RJe(t){let e=Qde(t.ORDER);return r=>{let n=e(t,r);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}function pU(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function MJe(t,e,r=!1,n={}){if(t<=$s)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=pU(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let u=Xde(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:(0,vc.bitMask)(i),ZERO:$s,ONE:xn,create:a=>yc(a,t),isValid:a=>{if(typeof a!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof a}`);return $s<=a&&a<t},is0:a=>a===$s,isOdd:a=>(a&xn)===xn,neg:a=>yc(-a,t),eql:(a,l)=>a===l,sqr:a=>yc(a*a,t),add:(a,l)=>yc(a+l,t),sub:(a,l)=>yc(a-l,t),mul:(a,l)=>yc(a*l,t),pow:(a,l)=>Zde(o,a,l),div:(a,l)=>yc(a*kI(l,t),t),sqrN:a=>a*a,addN:(a,l)=>a+l,subN:(a,l)=>a-l,mulN:(a,l)=>a*l,inv:a=>kI(a,t),sqrt:n.sqrt||(a=>u(o,a)),invertBatch:a=>Jde(o,a),cmov:(a,l,f)=>f?l:a,toBytes:a=>r?(0,vc.numberToBytesLE)(a,s):(0,vc.numberToBytesBE)(a,s),fromBytes:a=>{if(a.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${a.length}`);return r?(0,vc.bytesToNumberLE)(a):(0,vc.bytesToNumberBE)(a)}});return Object.freeze(o)}function NJe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}function DJe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function HJe(t,e,r=!1){t=(0,vc.ensureBytes)("privateHash",t);let n=t.length,i=pU(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,vc.bytesToNumberLE)(t):(0,vc.bytesToNumberBE)(t);return yc(s,e-xn)+xn}function bU(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function ehe(t){let e=bU(t);return e+Math.ceil(e/2)}function LJe(t,e,r=!1){let n=t.length,i=bU(e),s=ehe(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let u=r?(0,vc.bytesToNumberBE)(t):(0,vc.bytesToNumberLE)(t),o=yc(u,e-xn)+xn;return r?(0,vc.numberToBytesLE)(o,i):(0,vc.numberToBytesBE)(o,i)}});var ihe=$(Sv=>{"use strict";B();k();Object.defineProperty(Sv,"__esModule",{value:!0});Sv.wNAF=$Je;Sv.pippenger=qJe;Sv.validateBasic=jJe;var the=vv(),nhe=X5(),UJe=BigInt(0),gU=BigInt(1),mU=new WeakMap,rhe=new WeakMap;function $Je(t,e){let r=(s,u)=>{let o=u.negate();return s?o:u},n=s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},i=s=>{n(s);let u=Math.ceil(e/s)+1,o=2**(s-1);return{windows:u,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,u){let o=t.ZERO,a=s;for(;u>UJe;)u&gU&&(o=o.add(a)),a=a.double(),u>>=gU;return o},precomputeWindow(s,u){let{windows:o,windowSize:a}=i(u),l=[],f=s,c=f;for(let h=0;h<o;h++){c=f,l.push(c);for(let d=1;d<a;d++)c=c.add(f),l.push(c);f=c.double()}return l},wNAF(s,u,o){let{windows:a,windowSize:l}=i(s),f=t.ZERO,c=t.BASE,h=BigInt(2**s-1),d=2**s,p=BigInt(s);for(let m=0;m<a;m++){let w=m*l,x=Number(o&h);o>>=p,x>l&&(x-=d,o+=gU);let _=w,y=w+Math.abs(x)-1,S=m%2!==0,F=x<0;x===0?c=c.add(r(S,u[_])):f=f.add(r(F,u[y]))}return{p:f,f:c}},wNAFCached(s,u,o){let a=rhe.get(s)||1,l=mU.get(s);return l||(l=this.precomputeWindow(s,a),a!==1&&mU.set(s,o(l))),this.wNAF(a,l,u)},setWindowSize(s,u){n(u),rhe.set(s,u),mU.delete(s)}}}function qJe(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((f,c)=>{if(!e.isValid(f))throw new Error(`wrong scalar at index ${c}`)}),r.forEach((f,c)=>{if(!(f instanceof t))throw new Error(`wrong point at index ${c}`)});let i=(0,nhe.bitLen)(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,u=(1<<s)-1,o=new Array(u+1).fill(t.ZERO),a=Math.floor((e.BITS-1)/s)*s,l=t.ZERO;for(let f=a;f>=0;f-=s){o.fill(t.ZERO);for(let h=0;h<n.length;h++){let d=n[h],p=Number(d>>BigInt(f)&BigInt(u));o[p]=o[p].add(r[h])}let c=t.ZERO;for(let h=o.length-1,d=t.ZERO;h>0;h--)d=d.add(o[h]),c=c.add(d);if(l=l.add(c),f!==0)for(let h=0;h<s;h++)l=l.double()}return l}function jJe(t){return(0,the.validateField)(t.Fp),(0,nhe.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,the.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}});var yU=$(Xu=>{"use strict";B();k();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.DER=void 0;Xu.weierstrassPoints=ohe;Xu.weierstrass=WJe;Xu.SWUFpSqrtRatio=ahe;Xu.mapToCurveSimpleSWU=YJe;var CI=ihe(),Z5=vv(),Vr=X5(),Yu=X5();function she(t){t.lowS!==void 0&&(0,Yu.abool)("lowS",t.lowS),t.prehash!==void 0&&(0,Yu.abool)("prehash",t.prehash)}function KJe(t){let e=(0,CI.validateBasic)(t);Vr.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:zJe,hexToBytes:VJe}=Vr;Xu.DER={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{let{Err:r}=Xu.DER;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=Vr.numberToHexUnpadded(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?Vr.numberToHexUnpadded(i.length/2|128):"";return`${Vr.numberToHexUnpadded(t)}${s}${i}${e}`},decode(t,e){let{Err:r}=Xu.DER,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],s=!!(i&128),u=0;if(!s)u=i;else{let a=i&127;if(!a)throw new r("tlv.decode(long): indefinite length not supported");if(a>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+a);if(l.length!==a)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let f of l)u=u<<8|f;if(n+=a,u<128)throw new r("tlv.decode(long): not minimal encoding")}let o=e.subarray(n,n+u);if(o.length!==u)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+u)}}},_int:{encode(t){let{Err:e}=Xu.DER;if(t<Kf)throw new e("integer: negative integers are not allowed");let r=Vr.numberToHexUnpadded(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){let{Err:e}=Xu.DER;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return zJe(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=Xu.DER,i=typeof t=="string"?VJe(t):t;Vr.abytes(i);let{v:s,l:u}=n.decode(48,i);if(u.length)throw new e("Invalid signature: left bytes after parsing");let{v:o,l:a}=n.decode(2,s),{v:l,l:f}=n.decode(2,a);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=Xu.DER,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}};var Kf=BigInt(0),_n=BigInt(1),b6=BigInt(2),FI=BigInt(3),uhe=BigInt(4);function ohe(t){let e=KJe(t),{Fp:r}=e,n=Z5.Field(e.n,e.nBitLength),i=e.toBytes||((m,w,x)=>{let _=w.toAffine();return Vr.concatBytes(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),s=e.fromBytes||(m=>{let w=m.subarray(1),x=r.fromBytes(w.subarray(0,r.BYTES)),_=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x,y:_}});function u(m){let{a:w,b:x}=e,_=r.sqr(m),y=r.mul(_,m);return r.add(r.add(y,r.mul(m,w)),x)}if(!r.eql(r.sqr(e.Gy),u(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return Vr.inRange(m,_n,e.n)}function a(m){let{allowedPrivateKeyLengths:w,nByteLength:x,wrapPrivateKey:_,n:y}=e;if(w&&typeof m!="bigint"){if(Vr.isBytes(m)&&(m=Vr.bytesToHex(m)),typeof m!="string"||!w.includes(m.length))throw new Error("Invalid key");m=m.padStart(x*2,"0")}let S;try{S=typeof m=="bigint"?m:Vr.bytesToNumberBE((0,Yu.ensureBytes)("private key",m,x))}catch{throw new Error(`private key must be ${x} bytes, hex or bigint, not ${typeof m}`)}return _&&(S=Z5.mod(S,y)),Vr.aInRange("private key",S,_n,y),S}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}let f=(0,Yu.memoized)((m,w)=>{let{px:x,py:_,pz:y}=m;if(r.eql(y,r.ONE))return{x,y:_};let S=m.is0();w==null&&(w=S?r.ONE:r.inv(y));let F=r.mul(x,w),N=r.mul(_,w),H=r.mul(y,w);if(S)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:F,y:N}}),c=(0,Yu.memoized)(m=>{if(m.is0()){if(e.allowInfinityPoint&&!r.is0(m.py))return;throw new Error("bad point: ZERO")}let{x:w,y:x}=m.toAffine();if(!r.isValid(w)||!r.isValid(x))throw new Error("bad point: x or y not FE");let _=r.sqr(x),y=u(w);if(!r.eql(_,y))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(w,x,_){if(this.px=w,this.py=x,this.pz=_,w==null||!r.isValid(w))throw new Error("x required");if(x==null||!r.isValid(x))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required");Object.freeze(this)}static fromAffine(w){let{x,y:_}=w||{};if(!w||!r.isValid(x)||!r.isValid(_))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");let y=S=>r.eql(S,r.ZERO);return y(x)&&y(_)?h.ZERO:new h(x,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let x=r.invertBatch(w.map(_=>_.pz));return w.map((_,y)=>_.toAffine(x[y])).map(h.fromAffine)}static fromHex(w){let x=h.fromAffine(s((0,Yu.ensureBytes)("pointHex",w)));return x.assertValidity(),x}static fromPrivateKey(w){return h.BASE.multiply(a(w))}static msm(w,x){return(0,CI.pippenger)(h,n,w,x)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){c(this)}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);let{px:x,py:_,pz:y}=this,{px:S,py:F,pz:N}=w,H=r.eql(r.mul(x,N),r.mul(S,y)),D=r.eql(r.mul(_,N),r.mul(F,y));return H&&D}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:x}=e,_=r.mul(x,FI),{px:y,py:S,pz:F}=this,N=r.ZERO,H=r.ZERO,D=r.ZERO,L=r.mul(y,y),P=r.mul(S,S),A=r.mul(F,F),b=r.mul(y,S);return b=r.add(b,b),D=r.mul(y,F),D=r.add(D,D),N=r.mul(w,D),H=r.mul(_,A),H=r.add(N,H),N=r.sub(P,H),H=r.add(P,H),H=r.mul(N,H),N=r.mul(b,N),D=r.mul(_,D),A=r.mul(w,A),b=r.sub(L,A),b=r.mul(w,b),b=r.add(b,D),D=r.add(L,L),L=r.add(D,L),L=r.add(L,A),L=r.mul(L,b),H=r.add(H,L),A=r.mul(S,F),A=r.add(A,A),L=r.mul(A,b),N=r.sub(N,L),D=r.mul(A,P),D=r.add(D,D),D=r.add(D,D),new h(N,H,D)}add(w){l(w);let{px:x,py:_,pz:y}=this,{px:S,py:F,pz:N}=w,H=r.ZERO,D=r.ZERO,L=r.ZERO,P=e.a,A=r.mul(e.b,FI),b=r.mul(x,S),g=r.mul(_,F),v=r.mul(y,N),E=r.add(x,_),C=r.add(S,F);E=r.mul(E,C),C=r.add(b,g),E=r.sub(E,C),C=r.add(x,y);let R=r.add(S,N);return C=r.mul(C,R),R=r.add(b,v),C=r.sub(C,R),R=r.add(_,y),H=r.add(F,N),R=r.mul(R,H),H=r.add(g,v),R=r.sub(R,H),L=r.mul(P,C),H=r.mul(A,v),L=r.add(H,L),H=r.sub(g,L),L=r.add(g,L),D=r.mul(H,L),g=r.add(b,b),g=r.add(g,b),v=r.mul(P,v),C=r.mul(A,C),g=r.add(g,v),v=r.sub(b,v),v=r.mul(P,v),C=r.add(C,v),b=r.mul(g,C),D=r.add(D,b),b=r.mul(R,C),H=r.mul(E,H),H=r.sub(H,b),b=r.mul(E,g),L=r.mul(R,L),L=r.add(L,b),new h(H,D,L)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return p.wNAFCached(this,w,h.normalizeZ)}multiplyUnsafe(w){Vr.aInRange("scalar",w,Kf,e.n);let x=h.ZERO;if(w===Kf)return x;if(w===_n)return this;let{endo:_}=e;if(!_)return p.unsafeLadder(this,w);let{k1neg:y,k1:S,k2neg:F,k2:N}=_.splitScalar(w),H=x,D=x,L=this;for(;S>Kf||N>Kf;)S&_n&&(H=H.add(L)),N&_n&&(D=D.add(L)),L=L.double(),S>>=_n,N>>=_n;return y&&(H=H.negate()),F&&(D=D.negate()),D=new h(r.mul(D.px,_.beta),D.py,D.pz),H.add(D)}multiply(w){let{endo:x,n:_}=e;Vr.aInRange("scalar",w,_n,_);let y,S;if(x){let{k1neg:F,k1:N,k2neg:H,k2:D}=x.splitScalar(w),{p:L,f:P}=this.wNAF(N),{p:A,f:b}=this.wNAF(D);L=p.constTimeNegate(F,L),A=p.constTimeNegate(H,A),A=new h(r.mul(A.px,x.beta),A.py,A.pz),y=L.add(A),S=P.add(b)}else{let{p:F,f:N}=this.wNAF(w);y=F,S=N}return h.normalizeZ([y,S])[0]}multiplyAndAddUnsafe(w,x,_){let y=h.BASE,S=(N,H)=>H===Kf||H===_n||!N.equals(y)?N.multiplyUnsafe(H):N.multiply(H),F=S(this,x).add(S(w,_));return F.is0()?void 0:F}toAffine(w){return f(this,w)}isTorsionFree(){let{h:w,isTorsionFree:x}=e;if(w===_n)return!0;if(x)return x(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:x}=e;return w===_n?this:x?x(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return(0,Yu.abool)("isCompressed",w),this.assertValidity(),i(h,this,w)}toHex(w=!0){return(0,Yu.abool)("isCompressed",w),Vr.bytesToHex(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let d=e.nBitLength,p=(0,CI.wNAF)(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:u,isWithinCurveOrder:o}}function GJe(t){let e=(0,CI.validateBasic)(t);return Vr.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function WJe(t){let e=GJe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function u(v){return Z5.mod(v,n)}function o(v){return Z5.invert(v,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:c}=ohe({...e,toBytes(v,E,C){let R=E.toAffine(),O=r.toBytes(R.x),M=Vr.concatBytes;return(0,Yu.abool)("isCompressed",C),C?M(Uint8Array.from([E.hasEvenY()?2:3]),O):M(Uint8Array.from([4]),O,r.toBytes(R.y))},fromBytes(v){let E=v.length,C=v[0],R=v.subarray(1);if(E===i&&(C===2||C===3)){let O=Vr.bytesToNumberBE(R);if(!Vr.inRange(O,_n,r.ORDER))throw new Error("Point is not on curve");let M=f(O),T;try{T=r.sqrt(M)}catch(te){let J=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+J)}let U=(T&_n)===_n;return(C&1)===1!==U&&(T=r.neg(T)),{x:O,y:T}}else if(E===s&&C===4){let O=r.fromBytes(R.subarray(0,r.BYTES)),M=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:O,y:M}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),h=v=>Vr.bytesToHex(Vr.numberToBytesBE(v,e.nByteLength));function d(v){let E=n>>_n;return v>E}function p(v){return d(v)?u(-v):v}let m=(v,E,C)=>Vr.bytesToNumberBE(v.slice(E,C));class w{constructor(E,C,R){this.r=E,this.s=C,this.recovery=R,this.assertValidity()}static fromCompact(E){let C=e.nByteLength;return E=(0,Yu.ensureBytes)("compactSignature",E,C*2),new w(m(E,0,C),m(E,C,2*C))}static fromDER(E){let{r:C,s:R}=Xu.DER.toSig((0,Yu.ensureBytes)("DER",E));return new w(C,R)}assertValidity(){Vr.aInRange("r",this.r,_n,n),Vr.aInRange("s",this.s,_n,n)}addRecoveryBit(E){return new w(this.r,this.s,E)}recoverPublicKey(E){let{r:C,s:R,recovery:O}=this,M=N((0,Yu.ensureBytes)("msgHash",E));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");let T=O===2||O===3?C+e.n:C;if(T>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let U=(O&1)===0?"02":"03",Y=a.fromHex(U+h(T)),te=o(T),J=u(-M*te),ce=u(R*te),se=a.BASE.multiplyAndAddUnsafe(Y,J,ce);if(!se)throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Vr.hexToBytes(this.toDERHex())}toDERHex(){return Xu.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Vr.hexToBytes(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let x={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let v=Z5.getMinHashLength(e.n);return Z5.mapHashToField(e.randomBytes(v),e.n)},precompute(v=8,E=a.BASE){return E._setWindowSize(v),E.multiply(BigInt(3)),E}};function _(v,E=!0){return a.fromPrivateKey(v).toRawBytes(E)}function y(v){let E=Vr.isBytes(v),C=typeof v=="string",R=(E||C)&&v.length;return E?R===i||R===s:C?R===2*i||R===2*s:v instanceof a}function S(v,E,C=!0){if(y(v))throw new Error("first arg must be private key");if(!y(E))throw new Error("second arg must be public key");return a.fromHex(E).multiply(l(v)).toRawBytes(C)}let F=e.bits2int||function(v){let E=Vr.bytesToNumberBE(v),C=v.length*8-e.nBitLength;return C>0?E>>BigInt(C):E},N=e.bits2int_modN||function(v){return u(F(v))},H=Vr.bitMask(e.nBitLength);function D(v){return Vr.aInRange(`num < 2^${e.nBitLength}`,v,Kf,H),Vr.numberToBytesBE(v,e.nByteLength)}function L(v,E,C=P){if(["recovered","canonical"].some(Z=>Z in C))throw new Error("sign() legacy options not supported");let{hash:R,randomBytes:O}=e,{lowS:M,prehash:T,extraEntropy:U}=C;M==null&&(M=!0),v=(0,Yu.ensureBytes)("msgHash",v),she(C),T&&(v=(0,Yu.ensureBytes)("prehashed msgHash",R(v)));let Y=N(v),te=l(E),J=[D(te),D(Y)];if(U!=null&&U!==!1){let Z=U===!0?O(r.BYTES):U;J.push((0,Yu.ensureBytes)("extraEntropy",Z))}let ce=Vr.concatBytes(...J),se=Y;function j(Z){let ee=F(Z);if(!c(ee))return;let ue=o(ee),fe=a.BASE.multiply(ee).toAffine(),de=u(fe.x);if(de===Kf)return;let we=u(ue*u(se+de*te));if(we===Kf)return;let He=(fe.x===de?0:2)|Number(fe.y&_n),Fe=we;return M&&d(we)&&(Fe=p(we),He^=1),new w(de,Fe,He)}return{seed:ce,k2sig:j}}let P={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};function b(v,E,C=P){let{seed:R,k2sig:O}=L(v,E,C),M=e;return Vr.createHmacDrbg(M.hash.outputLen,M.nByteLength,M.hmac)(R,O)}a.BASE._setWindowSize(8);function g(v,E,C,R=A){let O=v;if(E=(0,Yu.ensureBytes)("msgHash",E),C=(0,Yu.ensureBytes)("publicKey",C),"strict"in R)throw new Error("options.strict was renamed to lowS");she(R);let{lowS:M,prehash:T}=R,U,Y;try{if(typeof O=="string"||Vr.isBytes(O))try{U=w.fromDER(O)}catch(fe){if(!(fe instanceof Xu.DER.Err))throw fe;U=w.fromCompact(O)}else if(typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint"){let{r:fe,s:de}=O;U=new w(fe,de)}else throw new Error("PARSE");Y=a.fromHex(C)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&U.hasHighS())return!1;T&&(E=e.hash(E));let{r:te,s:J}=U,ce=N(E),se=o(J),j=u(ce*se),Z=u(te*se),ee=a.BASE.multiplyAndAddUnsafe(Y,j,Z)?.toAffine();return ee?u(ee.x)===te:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:b,verify:g,ProjectivePoint:a,Signature:w,utils:x}}function ahe(t,e){let r=t.ORDER,n=Kf;for(let p=r-_n;p%b6===Kf;p/=b6)n+=_n;let i=n,s=b6<<i-_n-_n,u=s*b6,o=(r-_n)/u,a=(o-_n)/b6,l=u-_n,f=s,c=t.pow(e,o),h=t.pow(e,(o+_n)/b6),d=(p,m)=>{let w=c,x=t.pow(m,l),_=t.sqr(x);_=t.mul(_,m);let y=t.mul(p,_);y=t.pow(y,a),y=t.mul(y,x),x=t.mul(y,m),_=t.mul(y,p);let S=t.mul(_,x);y=t.pow(S,f);let F=t.eql(y,t.ONE);x=t.mul(_,h),y=t.mul(S,w),_=t.cmov(x,_,F),S=t.cmov(y,S,F);for(let N=i;N>_n;N--){let H=N-b6;H=b6<<H-_n;let D=t.pow(S,H),L=t.eql(D,t.ONE);x=t.mul(_,w),w=t.mul(w,w),D=t.mul(S,w),_=t.cmov(x,_,L),S=t.cmov(D,S,L)}return{isValid:F,value:_}};if(t.ORDER%uhe===FI){let p=(t.ORDER-FI)/uhe,m=t.sqrt(t.neg(e));d=(w,x)=>{let _=t.sqr(x),y=t.mul(w,x);_=t.mul(_,y);let S=t.pow(_,p);S=t.mul(S,y);let F=t.mul(S,m),N=t.mul(t.sqr(S),x),H=t.eql(N,w),D=t.cmov(F,S,H);return{isValid:H,value:D}}}return d}function YJe(t,e){if(Z5.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=ahe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,u,o,a,l,f,c;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),u=t.add(s,t.ONE),u=t.mul(u,e.B),o=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),o=t.mul(o,e.A),s=t.sqr(u),l=t.sqr(o),a=t.mul(l,e.A),s=t.add(s,a),s=t.mul(s,u),l=t.mul(l,o),a=t.mul(l,e.B),s=t.add(s,a),f=t.mul(i,u);let{isValid:h,value:d}=r(s,l);c=t.mul(i,n),c=t.mul(c,d),f=t.cmov(f,u,h),c=t.cmov(c,d,h);let p=t.isOdd(n)===t.isOdd(c);return c=t.cmov(t.neg(c),c,p),f=t.div(f,o),{x:f,y:c}}}});var lhe=$(RI=>{"use strict";B();k();Object.defineProperty(RI,"__esModule",{value:!0});RI.getHash=fhe;RI.createCurve=JJe;var XJe=Lde(),che=Fm(),ZJe=yU();function fhe(t){return{hash:t,hmac:(e,...r)=>(0,XJe.hmac)(t,e,(0,che.concatBytes)(...r)),randomBytes:che.randomBytes}}function JJe(t,e){let r=n=>(0,ZJe.weierstrass)({...t,...fhe(n)});return Object.freeze({...r(e),create:r})}});var phe=$(J5=>{"use strict";B();k();Object.defineProperty(J5,"__esModule",{value:!0});J5.expand_message_xmd=dhe;J5.expand_message_xof=hhe;J5.hash_to_field=vU;J5.isogenyMap=rQe;J5.createHasher=nQe;var QJe=vv(),_o=X5(),eQe=_o.bytesToNumberBE;function g6(t,e){if(_v(t),_v(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function tQe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function _v(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function dhe(t,e,r,n){(0,_o.abytes)(t),(0,_o.abytes)(e),_v(r),e.length>255&&(e=n((0,_o.concatBytes)((0,_o.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,u=Math.ceil(r/i);if(r>65535||u>255)throw new Error("expand_message_xmd: invalid lenInBytes");let o=(0,_o.concatBytes)(e,g6(e.length,1)),a=g6(0,s),l=g6(r,2),f=new Array(u),c=n((0,_o.concatBytes)(a,t,l,g6(0,1),o));f[0]=n((0,_o.concatBytes)(c,g6(1,1),o));for(let d=1;d<=u;d++){let p=[tQe(c,f[d-1]),g6(d+1,1),o];f[d]=n((0,_o.concatBytes)(...p))}return(0,_o.concatBytes)(...f).slice(0,r)}function hhe(t,e,r,n,i){if((0,_o.abytes)(t),(0,_o.abytes)(e),_v(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update((0,_o.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(g6(r,2)).update(e).update(g6(e.length,1)).digest()}function vU(t,e,r){(0,_o.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:u,expand:o,DST:a}=r;(0,_o.abytes)(t),_v(e);let l=typeof a=="string"?(0,_o.utf8ToBytes)(a):a,f=n.toString(2).length,c=Math.ceil((f+i)/8),h=e*s*c,d;if(o==="xmd")d=dhe(t,l,h,u);else if(o==="xof")d=hhe(t,l,h,i,u);else if(o==="_internal_pass")d=t;else throw new Error('expand must be "xmd" or "xof"');let p=new Array(e);for(let m=0;m<e;m++){let w=new Array(s);for(let x=0;x<s;x++){let _=c*(x+m*s),y=d.subarray(_,_+c);w[x]=(0,QJe.mod)(eQe(y),n)}p[m]=w}return p}function rQe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,u,o,a]=r.map(l=>l.reduce((f,c)=>t.add(t.mul(f,n),c)));return n=t.div(s,u),i=t.mul(i,t.div(o,a)),{x:n,y:i}}}function nQe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=vU(n,2,{...r,DST:r.DST,...i}),u=t.fromAffine(e(s[0])),o=t.fromAffine(e(s[1])),a=u.add(o).clearCofactor();return a.assertValidity(),a},encodeToCurve(n,i){let s=vU(n,1,{...r,DST:r.encodeDST,...i}),u=t.fromAffine(e(s[0])).clearCofactor();return u.assertValidity(),u},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let s of n)if(typeof s!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);let i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}}});var Ahe=$(Na=>{"use strict";B();k();Object.defineProperty(Na,"__esModule",{value:!0});Na.encodeToCurve=Na.hashToCurve=Na.schnorr=Na.secp256k1=void 0;var MI=Dde(),iQe=Fm(),sQe=lhe(),mhe=phe(),wu=vv(),Ma=X5(),uQe=yU(),Av=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),NI=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wv=BigInt(1),DI=BigInt(2),bhe=(t,e)=>(t+e/DI)/e;function yhe(t){let e=Av,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),u=BigInt(23),o=BigInt(44),a=BigInt(88),l=t*t*t%e,f=l*l*t%e,c=(0,wu.pow2)(f,r,e)*f%e,h=(0,wu.pow2)(c,r,e)*f%e,d=(0,wu.pow2)(h,DI,e)*l%e,p=(0,wu.pow2)(d,i,e)*d%e,m=(0,wu.pow2)(p,s,e)*p%e,w=(0,wu.pow2)(m,o,e)*m%e,x=(0,wu.pow2)(w,a,e)*w%e,_=(0,wu.pow2)(x,o,e)*m%e,y=(0,wu.pow2)(_,r,e)*f%e,S=(0,wu.pow2)(y,u,e)*p%e,F=(0,wu.pow2)(S,n,e)*l%e,N=(0,wu.pow2)(F,DI,e);if(!m6.eql(m6.sqr(N),t))throw new Error("Cannot find square root");return N}var m6=(0,wu.Field)(Av,void 0,void 0,{sqrt:yhe});Na.secp256k1=(0,sQe.createCurve)({a:BigInt(0),b:BigInt(7),Fp:m6,n:NI,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=NI,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-wv*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,u=BigInt("0x100000000000000000000000000000000"),o=bhe(s*t,e),a=bhe(-n*t,e),l=(0,wu.mod)(t-o*r-a*i,e),f=(0,wu.mod)(-o*n-a*s,e),c=l>u,h=f>u;if(c&&(l=e-l),h&&(f=e-f),l>u||f>u)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:l,k2neg:h,k2:f}}}},MI.sha256);var vhe=BigInt(0),ghe={};function HI(t,...e){let r=ghe[t];if(r===void 0){let n=(0,MI.sha256)(Uint8Array.from(t,i=>i.charCodeAt(0)));r=(0,Ma.concatBytes)(n,n),ghe[t]=r}return(0,MI.sha256)((0,Ma.concatBytes)(r,...e))}var EU=t=>t.toRawBytes(!0).slice(1),_U=t=>(0,Ma.numberToBytesBE)(t,32),SU=t=>(0,wu.mod)(t,Av),Ev=t=>(0,wu.mod)(t,NI),AU=Na.secp256k1.ProjectivePoint,oQe=(t,e,r)=>AU.BASE.multiplyAndAddUnsafe(t,e,r);function wU(t){let e=Na.secp256k1.utils.normPrivateKeyToScalar(t),r=AU.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Ev(-e),bytes:EU(r)}}function She(t){(0,Ma.aInRange)("x",t,wv,Av);let e=SU(t*t),r=SU(e*t+BigInt(7)),n=yhe(r);n%DI!==vhe&&(n=SU(-n));let i=new AU(t,n,wv);return i.assertValidity(),i}var Rm=Ma.bytesToNumberBE;function _he(...t){return Ev(Rm(HI("BIP0340/challenge",...t)))}function aQe(t){return wU(t).bytes}function cQe(t,e,r=(0,iQe.randomBytes)(32)){let n=(0,Ma.ensureBytes)("message",t),{bytes:i,scalar:s}=wU(e),u=(0,Ma.ensureBytes)("auxRand",r,32),o=_U(s^Rm(HI("BIP0340/aux",u))),a=HI("BIP0340/nonce",o,i,n),l=Ev(Rm(a));if(l===vhe)throw new Error("sign failed: k is zero");let{bytes:f,scalar:c}=wU(l),h=_he(f,i,n),d=new Uint8Array(64);if(d.set(f,0),d.set(_U(Ev(c+h*s)),32),!whe(d,n,i))throw new Error("sign: Invalid signature produced");return d}function whe(t,e,r){let n=(0,Ma.ensureBytes)("signature",t,64),i=(0,Ma.ensureBytes)("message",e),s=(0,Ma.ensureBytes)("publicKey",r,32);try{let u=She(Rm(s)),o=Rm(n.subarray(0,32));if(!(0,Ma.inRange)(o,wv,Av))return!1;let a=Rm(n.subarray(32,64));if(!(0,Ma.inRange)(a,wv,NI))return!1;let l=_he(_U(o),EU(u),i),f=oQe(u,a,Ev(-l));return!(!f||!f.hasEvenY()||f.toAffine().x!==o)}catch{return!1}}Na.schnorr=(()=>({getPublicKey:aQe,sign:cQe,verify:whe,utils:{randomPrivateKey:Na.secp256k1.utils.randomPrivateKey,lift_x:She,pointToBytes:EU,numberToBytesBE:Ma.numberToBytesBE,bytesToNumberBE:Ma.bytesToNumberBE,taggedHash:HI,mod:wu.mod}}))();var fQe=(()=>(0,mhe.isogenyMap)(m6,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))))(),lQe=(()=>(0,uQe.mapToCurveSimpleSWU)(m6,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m6.create(BigInt("-11"))}))(),Ehe=(()=>(0,mhe.createHasher)(Na.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=lQe(m6.create(t[0]));return fQe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m6.ORDER,m:1,k:128,expand:"xmd",hash:MI.sha256}))();Na.hashToCurve=(()=>Ehe.hashToCurve)();Na.encodeToCurve=(()=>Ehe.encodeToCurve)()});var zf=$(Nr=>{"use strict";B();k();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.TEST_NETWORK=Nr.NETWORK=Nr.TAPROOT_UNSPENDABLE_KEY=Nr.PubT=Nr.tagSchnorr=Nr.signSchnorr=Nr.pubECDSA=Nr.pubSchnorr=Nr.randomPrivateKeyBytes=Nr.sha256x2=Nr.hash160=Nr.equalBytes=Nr.concatBytes=Nr.isBytes=Nr.sha256=void 0;Nr.signECDSA=gQe;Nr.validatePubkey=mQe;Nr.tapTweak=xU;Nr.taprootTweakPrivKey=yQe;Nr.taprootTweakPubkey=vQe;Nr.compareBytes=SQe;var xhe=W5(),dQe=xde(),Tv=Ide();Object.defineProperty(Nr,"sha256",{enumerable:!0,get:function(){return Tv.sha256}});var Da=Ahe(),$I=Da.secp256k1.ProjectivePoint,LI=Da.secp256k1.CURVE.n,{isBytes:TU,concatBytes:Ihe,equalBytes:hQe}=xhe.utils;Nr.isBytes=TU;Nr.concatBytes=Ihe;Nr.equalBytes=hQe;var pQe=t=>(0,dQe.ripemd160)((0,Tv.sha256)(t));Nr.hash160=pQe;var bQe=(...t)=>(0,Tv.sha256)((0,Tv.sha256)(Ihe(...t)));Nr.sha256x2=bQe;Nr.randomPrivateKeyBytes=Da.schnorr.utils.randomPrivateKey;Nr.pubSchnorr=Da.schnorr.getPublicKey;Nr.pubECDSA=Da.secp256k1.getPublicKey;var The=t=>t.r<LI/2n;function gQe(t,e,r=!1){let n=Da.secp256k1.sign(t,e);if(r&&!The(n)){let i=new Uint8Array(32),s=0;for(;!The(n);)if(i.set(xhe.U32LE.encode(s++)),n=Da.secp256k1.sign(t,e,{extraEntropy:i}),s>4294967295)throw new Error("lowR counter overflow: report the error")}return n.toDERRawBytes()}Nr.signSchnorr=Da.schnorr.sign;Nr.tagSchnorr=Da.schnorr.utils.taggedHash;var UI;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(UI||(Nr.PubT=UI={}));function mQe(t,e){let r=t.length;if(e===UI.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return $I.fromHex(t),t}else if(e===UI.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return Da.schnorr.utils.lift_x(Da.schnorr.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}function xU(t,e){let r=Da.schnorr.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=LI)throw new Error("tweak higher than curve order");return i}function yQe(t,e=new Uint8Array){let r=Da.schnorr.utils,n=r.bytesToNumberBE(t),i=$I.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,LI),u=r.pointToBytes(i),o=xU(u,e);return r.numberToBytesBE(r.mod(s+o,LI),32)}function vQe(t,e){let r=Da.schnorr.utils,n=xU(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add($I.fromPrivateKey(n)),u=s.hasEvenY()?0:1;return[r.pointToBytes(s),u]}Nr.TAPROOT_UNSPENDABLE_KEY=(0,Tv.sha256)($I.BASE.toRawBytes(!1));Nr.NETWORK={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};Nr.TEST_NETWORK={bech32:"tb",pubKeyHash:111,scriptHash:196,wif:239};function SQe(t,e){if(!TU(t)||!TU(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}});var y6=$(ar=>{"use strict";B();k();Object.defineProperty(ar,"__esModule",{value:!0});ar.RawOldTx=ar.RawTx=ar.RawOutput=ar.RawInput=ar.BTCArray=ar.RawWitness=ar.VarBytes=ar.CompactSizeLen=ar.CompactSize=ar.Script=ar.OP=ar.MAX_SCRIPT_BYTE_LENGTH=void 0;ar.ScriptNum=IU;ar.OpToNum=_Qe;var mn=W5(),Ohe=zf();ar.MAX_SCRIPT_BYTE_LENGTH=520;var qs;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(qs||(ar.OP=qs={}));function IU(t=6,e=!1){return mn.wrap({encodeStream:(r,n)=>{if(n===0n)return;let i=n<0,s=BigInt(n),u=[];for(let o=i?-s:s;o;o>>=8n)u.push(Number(o&0xffn));u[u.length-1]>=128?u.push(i?128:0):i&&(u[u.length-1]|=128),r.bytes(new Uint8Array(u))},decodeStream:r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e){let u=r.bytes(n,!0);if((u[u.length-1]&127)===0&&(n<=1||(u[u.length-2]&128)===0))throw new Error("Non-minimally encoded ScriptNum")}let i=0,s=0n;for(let u=0;u<n;++u)i=r.byte(),s|=BigInt(i)<<8n*BigInt(u);return i>=128&&(s&=2n**BigInt(n*8)-1n>>1n,s=-s),s}})}function _Qe(t,e=4,r=!0){if(typeof t=="number")return t;if((0,Ohe.isBytes)(t))try{let n=IU(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}ar.Script=mn.wrap({encodeStream:(t,e)=>{for(let r of e){if(typeof r=="string"){if(qs[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(qs[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(qs.OP_1-1+r);continue}}if(typeof r=="number"&&(r=IU().encode(BigInt(r))),!(0,Ohe.isBytes)(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<qs.PUSHDATA1?t.byte(n):n<=255?(t.byte(qs.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(qs.PUSHDATA2),t.bytes(mn.U16LE.encode(n))):(t.byte(qs.PUSHDATA4),t.bytes(mn.U32LE.encode(n))),t.bytes(r)}},decodeStream:t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(qs.OP_0<r&&r<=qs.PUSHDATA4){let n;if(r<qs.PUSHDATA1)n=r;else if(r===qs.PUSHDATA1)n=mn.U8.decodeStream(t);else if(r===qs.PUSHDATA2)n=mn.U16LE.decodeStream(t);else if(r===qs.PUSHDATA4)n=mn.U32LE.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(qs.OP_1<=r&&r<=qs.OP_16)e.push(r-(qs.OP_1-1));else{let n=qs[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e}});var Phe={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]};ar.CompactSize=mn.wrap({encodeStream:(t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,s]of Object.values(Phe))if(!(i>e||e>s)){t.byte(r);for(let u=0;u<n;u++)t.byte(Number(e>>8n*BigInt(u)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},decodeStream:t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=Phe[e],s=0n;for(let u=0;u<n;u++)s|=BigInt(t.byte())<<8n*BigInt(u);if(s<i)throw t.err(`Wrong CompactSize(${8*n})`);return s}});ar.CompactSizeLen=mn.apply(ar.CompactSize,mn.coders.numberBigint);ar.VarBytes=mn.bytes(ar.CompactSize);ar.RawWitness=mn.array(ar.CompactSizeLen,ar.VarBytes);var wQe=t=>mn.array(ar.CompactSize,t);ar.BTCArray=wQe;ar.RawInput=mn.struct({txid:mn.bytes(32,!0),index:mn.U32LE,finalScriptSig:ar.VarBytes,sequence:mn.U32LE});ar.RawOutput=mn.struct({amount:mn.U64LE,script:ar.VarBytes});var EQe=mn.struct({version:mn.I32LE,segwitFlag:mn.flag(new Uint8Array([0,1])),inputs:(0,ar.BTCArray)(ar.RawInput),outputs:(0,ar.BTCArray)(ar.RawOutput),witnesses:mn.flagged("segwitFlag",mn.array("inputs/length",ar.RawWitness)),lockTime:mn.U32LE});function AQe(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}ar.RawTx=mn.validate(EQe,AQe);ar.RawOldTx=mn.struct({version:mn.I32LE,inputs:(0,ar.BTCArray)(ar.RawInput),outputs:(0,ar.BTCArray)(ar.RawOutput),lockTime:mn.U32LE})});var zI=$(wo=>{"use strict";B();k();Object.defineProperty(wo,"__esModule",{value:!0});wo._Estimator=wo._cmpBig=wo.toVsize=void 0;wo.getPrevOut=BU;wo.normalizeInput=khe;wo.getInputType=Che;wo.selectUTXO=OQe;var OU=jm(),xv=W5(),Sc=Ov(),jI=Pv(),js=y6(),Mm=Iv(),Ed=zf(),Bhe=zf();function BU(t){if(t.nonWitnessUtxo){if(t.index===void 0)throw new Error("Unknown input index");return t.nonWitnessUtxo.outputs[t.index]}else{if(t.witnessUtxo)return t.witnessUtxo;throw new Error("Cannot find previous output info")}}function khe(t,e,r,n=!1){let{nonWitnessUtxo:i,txid:s}=t;typeof i=="string"&&(i=OU.hex.decode(i)),(0,Ed.isBytes)(i)&&(i=js.RawTx.decode(i)),!("nonWitnessUtxo"in t)&&i===void 0&&(i=e?.nonWitnessUtxo),typeof s=="string"&&(s=OU.hex.decode(s)),s===void 0&&(s=e?.txid);let u={...e,...t,nonWitnessUtxo:i,txid:s};!("nonWitnessUtxo"in t)&&u.nonWitnessUtxo===void 0&&delete u.nonWitnessUtxo,u.sequence===void 0&&(u.sequence=Mm.DEFAULT_SEQUENCE),u.tapMerkleRoot===null&&delete u.tapMerkleRoot,u=jI.mergeKeyMap(jI.PSBTInput,u,e,r),jI.PSBTInputCoder.encode(u);let o;return u.nonWitnessUtxo&&u.index!==void 0?o=u.nonWitnessUtxo.outputs[u.index]:u.witnessUtxo&&(o=u.witnessUtxo),o&&!n&&(0,Sc.checkScript)(o&&o.script,u.redeemScript,u.witnessScript),u}function Che(t,e=!1){let r="legacy",n=Mm.SignatureHash.ALL,i=BU(t),s=Sc.OutScript.decode(i.script),u=s.type,o=s,a=[s];if(s.type==="tr")return n=Mm.SignatureHash.DEFAULT,{txType:"taproot",type:"tr",last:s,lastScript:i.script,defaultSighash:n,sighash:t.sighashType||n};{if((s.type==="wpkh"||s.type==="wsh")&&(r="segwit"),s.type==="sh"){if(!t.redeemScript)throw new Error("inputType: sh without redeemScript");let h=Sc.OutScript.decode(t.redeemScript);(h.type==="wpkh"||h.type==="wsh")&&(r="segwit"),a.push(h),o=h,u+=`-${h.type}`}if(o.type==="wsh"){if(!t.witnessScript)throw new Error("inputType: wsh without witnessScript");let h=Sc.OutScript.decode(t.witnessScript);h.type==="wsh"&&(r="segwit"),a.push(h),o=h,u+=`-${h.type}`}let l=a[a.length-1];if(l.type==="sh"||l.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let f=Sc.OutScript.encode(l),c={type:u,txType:r,last:l,lastScript:f,defaultSighash:n,sighash:t.sighashType||n};if(r==="legacy"&&!e&&!t.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return c}}var TQe=t=>Math.ceil(t/4);wo.toVsize=TQe;var qI=t=>jI.TaprootControlBlock.encode(t);function xQe(t,e,r){if(!t||!t.length)throw new Error("no leafs");let n=()=>new Uint8Array(e),i=t.sort((s,u)=>qI(s[0]).length-qI(u[0]).length);for(let[s,u]of i){let o=u.slice(0,-1),a=u[u.length-1],l=Sc.OutScript.decode(o),f=[];if(l.type==="tr_ms"){let c=l.m,h=l.pubkeys.length-c;for(let d=0;d<c;d++)f.push(n());for(let d=0;d<h;d++)f.push(xv.EMPTY)}else if(l.type==="tr_ns")for(let c of l.pubkeys)f.push(n());else{if(!r)throw new Error("Finalize: Unknown tapLeafScript");let c=(0,Sc.tapLeafHash)(o,a);for(let h of r){if(!h.finalizeTaproot)continue;let d=js.Script.decode(o),p=h.encode(d);if(p===void 0)continue;let m=d.filter(x=>{if(!(0,Ed.isBytes)(x))return!1;try{return(0,Bhe.validatePubkey)(x,Bhe.PubT.schnorr),!0}catch{return!1}}),w=h.finalizeTaproot(o,p,m.map(x=>[{pubKey:x,leafHash:c},n()]));if(!!w)return w.concat(qI(s))}}return f.reverse().concat([o,qI(s)])}throw new Error("there was no witness")}function IQe(t,e,r){let n=xv.EMPTY,i;if(t.txType==="taproot"){let o=t.sighash!==Mm.SignatureHash.DEFAULT?65:64;if(e.tapInternalKey&&!(0,Ed.equalBytes)(e.tapInternalKey,Ed.TAPROOT_UNSPENDABLE_KEY))i=[new Uint8Array(o)];else if(e.tapLeafScript)i=xQe(e.tapLeafScript,o,r.customScripts);else throw new Error("estimateInput/taproot: unknown input")}else{let o=()=>new Uint8Array(72),a=()=>new Uint8Array(33),l=xv.EMPTY,f=[],c=t.last.type;if(c==="ms"){let h=t.last.m,d=[0];for(let p=0;p<h;p++)d.push(o());l=js.Script.encode(d)}else if(c==="pk")l=js.Script.encode([o()]);else if(c==="pkh")l=js.Script.encode([o(),a()]);else if(c==="wpkh")l=xv.EMPTY,f=[o(),a()];else if(c==="unknown"&&!r.allowUnknownInputs)throw new Error("Unknown inputs are not allowed");t.type.includes("wsh-")&&(l.length&&t.lastScript.length&&(f=js.Script.decode(l).map(h=>{if(h===0)return xv.EMPTY;if((0,Ed.isBytes)(h))return h;throw new Error(`Wrong witness op=${h}`)})),f=f.concat(t.lastScript)),t.txType==="segwit"&&(i=f),t.type.startsWith("sh-wsh-")?n=js.Script.encode([js.Script.encode([0,new Uint8Array(Ed.sha256.outputLen)])]):t.type.startsWith("sh-")?n=js.Script.encode([...js.Script.decode(l),t.lastScript]):t.type.startsWith("wsh-")||t.txType!=="segwit"&&(n=l)}let s=160+4*js.VarBytes.encode(n).length,u=!1;return i&&(s+=js.RawWitness.encode(i).length,u=!0),{weight:s,hasWitnesses:u}}var PQe=(t,e)=>{let r=t-e;return r<0n?-1:r>0n?1:0};wo._cmpBig=PQe;function PU(t,e={},r=Ed.NETWORK){let n;if("script"in t&&t.script instanceof Uint8Array&&(n=t.script),"address"in t){if(typeof t.address!="string")throw new Error(`Estimator: wrong output address=${t.address}`);n=Sc.OutScript.encode((0,Sc.Address)(r).decode(t.address))}if(!n)throw new Error("Estimator: wrong output script");if(typeof t.amount!="bigint")throw new Error(`Estimator: wrong output amount=${t.amount}, should be of type bigint but got ${typeof t.amount}.`);if(n&&!e.allowUnknownOutputs&&Sc.OutScript.decode(n).type==="unknown")throw new Error("Estimator: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownOutputs=true, if you sure");return e.disableScriptCheck||(0,Sc.checkScript)(n),n}var KI=class{constructor(e,r,n){if(this.outputs=r,this.opts=n,this.requiredIndices=[],typeof n.feePerByte!="bigint")throw new Error(`Estimator: wrong feePerByte=${n.feePerByte}, should be of type bigint but got ${typeof n.feePerByte}.`);let i=32+4+1+107+4,s=34,u=n.dust===void 0?BigInt(i+s):n.dust;if(typeof u!="bigint")throw new Error(`Estimator: wrong dust=${n.dust}, should be of type bigint but got ${typeof n.dust}.`);let o=n.dustRelayFeeRate===void 0?3n:n.dustRelayFeeRate;if(typeof o!="bigint")throw new Error(`Estimator: wrong dustRelayFeeRate=${n.dustRelayFeeRate}, should be of type bigint but got ${typeof n.dustRelayFeeRate}.`);if(this.dust=u*o,n.requiredInputs!==void 0&&!Array.isArray(n.requiredInputs))throw new Error(`Estimator: wrong required inputs=${n.requiredInputs}`);let a=n.network||Ed.NETWORK,l=0n,f=32;for(let p of r){let m=PU(p,n,n.network);f+=32+4*js.VarBytes.encode(m).length,l+=p.amount}if(typeof n.changeAddress!="string")throw new Error(`Estimator: wrong change address=${n.changeAddress}`);let c=f+32+4*js.VarBytes.encode(Sc.OutScript.encode((0,Sc.Address)(a).decode(n.changeAddress))).length;f+=4*js.CompactSizeLen.encode(r.length).length,c+=4*js.CompactSizeLen.encode(r.length+1).length,this.baseWeight=f,this.changeWeight=c,this.amount=l;let h=Array.from(e);if(n.requiredInputs)for(let p=0;p<n.requiredInputs.length;p++)this.requiredIndices.push(h.push(n.requiredInputs[p])-1);let d=new Set;this.normalizedInputs=h.map(p=>{let m=khe(p,void 0,void 0,n.disableScriptCheck);(0,Mm.inputBeforeSign)(m);let w=`${OU.hex.encode(m.txid)}:${m.index}`;if(!n.allowSameUtxo&&d.has(w))throw new Error(`Estimator: same input passed multiple times: ${w}`);d.add(w);let x=Che(m,n.allowLegacyWitnessUtxo),_=BU(m),y=IQe(x,m,this.opts),S=_.amount-n.feePerByte*BigInt((0,wo.toVsize)(y.weight));return{inputType:x,normalized:m,amount:_.amount,value:S,estimate:y}})}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.normalizedInputs.length)throw new Error(`Wrong input index=${e}`);return e}sortIndices(e){return e.slice().sort((r,n)=>{let i=this.normalizedInputs[this.checkInputIdx(r)],s=this.normalizedInputs[this.checkInputIdx(n)],u=(0,Ed.compareBytes)(i.normalized.txid,s.normalized.txid);return u!==0?u:i.normalized.index-s.normalized.index})}sortOutputs(e){let r=e.map(i=>PU(i,this.opts,this.opts.network));return e.map((i,s)=>s).sort((i,s)=>{let u=e[i].amount,o=e[s].amount,a=(0,wo._cmpBig)(u,o);return a!==0?a:(0,Ed.compareBytes)(r[i],r[s])})}getSatoshi(e){return this.opts.feePerByte*BigInt((0,wo.toVsize)(e))}get biggest(){return this.normalizedInputs.map((e,r)=>r).sort((e,r)=>(0,wo._cmpBig)(this.normalizedInputs[r].value,this.normalizedInputs[e].value))}get smallest(){return this.biggest.reverse()}get oldest(){return this.normalizedInputs.map((e,r)=>r)}get newest(){return this.oldest.reverse()}accumulate(e,r=!1,n=!0,i=!1){let s=this.opts.alwaysChange?this.changeWeight:this.baseWeight,u=!1,o=0,a=0n,l=this.amount,f=[],c;for(let h of this.requiredIndices){this.checkInputIdx(h);let{estimate:d,amount:p}=this.normalizedInputs[h],m=s+d.weight;!u&&d.hasWitnesses&&(m+=2);let w=m+4*js.CompactSizeLen.encode(o).length;if(c=this.getSatoshi(w),s=m,d.hasWitnesses&&(u=!0),o++,a+=p,f.push(h),!i&&l+c<=a)return{indices:f,fee:c,weight:w,total:a}}for(let h of e){this.checkInputIdx(h);let{estimate:d,amount:p,value:m}=this.normalizedInputs[h],w=s+d.weight;!u&&d.hasWitnesses&&(w+=2);let x=w+4*js.CompactSizeLen.encode(o).length;if(c=this.getSatoshi(x),!(r&&p+a>l+c+this.dust)&&!(n&&m<=0n)&&(s=w,d.hasWitnesses&&(u=!0),o++,a+=p,f.push(h),!i&&l+c<=a))return{indices:f,fee:c,weight:x,total:a}}if(i){let h=s+4*js.CompactSizeLen.encode(o).length;return{indices:f,fee:c,weight:h,total:a}}}default(){let{biggest:e}=this,r=this.accumulate(e,!0,!1);return r||this.accumulate(e)}select(e){if(e==="all")return this.accumulate(this.normalizedInputs.map((n,i)=>i),!1,!0,!0);if(e==="default")return this.default();let r={Oldest:()=>this.oldest,Newest:()=>this.newest,Smallest:()=>this.smallest,Biggest:()=>this.biggest};if(e.startsWith("exact")){let[n,i]=e.slice(5).split("/");if(!r[n])throw new Error(`Estimator.select: wrong strategy=${e}`);e=i;let s=this.accumulate(r[n](),!0,!0);if(s)return s}if(e.startsWith("accum")){let n=e.slice(5);if(!r[n])throw new Error(`Estimator.select: wrong strategy=${e}`);return this.accumulate(r[n]())}throw new Error(`Estimator.select: wrong strategy=${e}`)}result(e){let r=this.select(e);if(!r)return;let{indices:n,weight:i,total:s}=r,u=this.opts.alwaysChange,o=this.opts.alwaysChange?i:i+(this.changeWeight-this.baseWeight),a=this.getSatoshi(o),l=r.fee,f=s-this.amount-a;f>this.dust&&(u=!0);let c=n,h=Array.from(this.outputs);if(u){if(l=a,f<0n)throw new Error(`Estimator.result: negative change=${f}`);h.push({address:this.opts.changeAddress,amount:f})}this.opts.bip69&&(c=this.sortIndices(c),h=this.sortOutputs(h).map(m=>h[m]));let d={inputs:c.map(m=>this.normalizedInputs[m].normalized),outputs:h,fee:l,weight:this.opts.alwaysChange?r.weight:o,change:!!u},p;if(this.opts.createTx){let{inputs:m,outputs:w}=d;p=new Mm.Transaction(this.opts);for(let x of m)p.addInput(x);for(let x of w)p.addOutput({...x,script:PU(x,this.opts,this.opts.network)})}return{...d,tx:p}}};wo._Estimator=KI;function OQe(t,e,r,n){let i={createTx:!0,bip69:!0,...n};return new KI(t,e,i).result(r)}});var Iv=$(Rr=>{"use strict";B();k();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.Transaction=Rr.SigHash=Rr.SignatureHash=Rr.def=Rr.Decimal=Rr.DEFAULT_SEQUENCE=Rr.DEFAULT_LOCKTIME=Rr.DEFAULT_VERSION=Rr.PRECISION=void 0;Rr.cloneDeep=Bv;Rr.inputBeforeSign=Nm;Rr.PSBTCombine=MQe;Rr.bip32Path=NQe;var Kt=W5(),VI=jm(),Vf=Ov(),Ts=Pv(),Vi=y6(),H0=y6(),vi=zf(),Bi=zf(),np=zI(),GI=new Uint8Array(32),BQe={amount:0xffffffffffffffffn,script:Kt.EMPTY};Rr.PRECISION=8;Rr.DEFAULT_VERSION=2;Rr.DEFAULT_LOCKTIME=0;Rr.DEFAULT_SEQUENCE=4294967295;Rr.Decimal=Kt.coders.decimal(Rr.PRECISION);var kQe=(t,e)=>t===void 0?e:t;Rr.def=kQe;function Bv(t){if(Array.isArray(t))return t.map(e=>Bv(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Bv(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}var Gi;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Gi||(Rr.SignatureHash=Gi={}));var FU;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(FU||(Rr.SigHash=FU={}));function CQe(t,e,r,n=Kt.EMPTY){return(0,vi.equalBytes)(r,e)&&(t=Bi.taprootTweakPrivKey(t,n),e=Bi.pubSchnorr(t)),{privKey:t,pubKey:e}}function Q5(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}function Nm(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:(0,Rr.def)(t.sequence,Rr.DEFAULT_SEQUENCE),finalScriptSig:(0,Rr.def)(t.finalScriptSig,Kt.EMPTY)}}function kU(t){for(let e in t){let r=e;Ts.PSBTInputFinalKeys.includes(r)||delete t[r]}}var CU=Kt.struct({txid:Kt.bytes(32,!0),index:Kt.U32LE});function FQe(t){if(typeof t!="number"||typeof FU[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}function Fhe(t){let e=t&31;return{isAny:!!(t&Gi.ANYONECANPAY),isNone:e===Gi.NONE,isSingle:e===Gi.SINGLE}}function RQe(t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:(0,Rr.def)(t.version,Rr.DEFAULT_VERSION),lockTime:(0,Rr.def)(t.lockTime,0),PSBTVersion:(0,Rr.def)(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(Kt.U32LE.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}if(e.customScripts!==void 0){let r=e.customScripts;if(!Array.isArray(r))throw new Error(`wrong custom scripts type (expected array): customScripts=${r} (${typeof r})`);for(let n of r){if(typeof n.encode!="function"||typeof n.decode!="function")throw new Error(`wrong script=${n} (${typeof n})`);if(n.finalizeTaproot!==void 0&&typeof n.finalizeTaproot!="function")throw new Error(`wrong script=${n} (${typeof n})`)}}return Object.freeze(e)}var ip=class{constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=RQe(e);r.lockTime!==Rr.DEFAULT_LOCKTIME&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=H0.RawTx.decode(e),i=new ip({...r,version:n.version,lockTime:n.lockTime});for(let s of n.outputs)i.addOutput(s);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let s=0;s<n.witnesses.length;s++)i.inputs[s].finalScriptWitness=n.witnesses[s];return i}static fromPSBT(e,r={}){let n;try{n=Ts.RawPSBTV0.decode(e)}catch(c){try{n=Ts.RawPSBTV2.decode(e)}catch{throw c}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let s=n.global.unsignedTx,u=i===0?s?.version:n.global.txVersion,o=i===0?s?.lockTime:n.global.fallbackLocktime,a=new ip({...r,version:u,lockTime:o,PSBTVersion:i}),l=i===0?s?.inputs.length:n.global.inputCount;a.inputs=n.inputs.slice(0,l).map((c,h)=>({finalScriptSig:Kt.EMPTY,...n.global.unsignedTx?.inputs[h],...c}));let f=i===0?s?.outputs.length:n.global.outputCount;return a.outputs=n.outputs.slice(0,f).map((c,h)=>({...c,...n.global.unsignedTx?.outputs[h]})),a.global={...n.global,txVersion:u},o!==Rr.DEFAULT_LOCKTIME&&(a.global.fallbackLocktime=o),a}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(s=>Ts.cleanPSBTFields(e,Ts.PSBTInput,s));for(let s of r)s.partialSig&&!s.partialSig.length&&delete s.partialSig,s.finalScriptSig&&!s.finalScriptSig.length&&delete s.finalScriptSig,s.finalScriptWitness&&!s.finalScriptWitness.length&&delete s.finalScriptWitness;let n=this.outputs.map(s=>Ts.cleanPSBTFields(e,Ts.PSBTOutput,s)),i={...this.global};return e===0?(i.unsignedTx=H0.RawOldTx.decode(H0.RawOldTx.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(Nm).map(s=>({...s,finalScriptSig:Kt.EMPTY})),outputs:this.outputs.map(Q5)})),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===Rr.DEFAULT_LOCKTIME&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?Ts.RawPSBTV0:Ts.RawPSBTV2).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=Rr.DEFAULT_LOCKTIME,r=0,n=Rr.DEFAULT_LOCKTIME,i=0;for(let s of this.inputs)s.requiredHeightLocktime&&(e=Math.max(e,s.requiredHeightLocktime),r++),s.requiredTimeLocktime&&(n=Math.max(n,s.requiredTimeLocktime),i++);return r&&r>=i?e:n!==Rr.DEFAULT_LOCKTIME?n:this.global.fallbackLocktime||Rr.DEFAULT_LOCKTIME}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=(0,np.getInputType)(this.inputs[e],this.opts.allowLegacyWitnessUtxo).sighash,n=r===Gi.DEFAULT?Gi.ALL:r&3;return{sigInputs:r&Gi.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let s=0;s<this.inputs.length;s++){if(this.inputStatus(s)==="unsigned")continue;let{sigInputs:o,sigOutputs:a}=this.inputSighash(s);if(o===Gi.ANYONECANPAY?n.push(s):e=!1,a===Gi.ALL)r=!1;else if(a===Gi.SINGLE)i.push(s);else if(a!==Gi.NONE)throw new Error(`Wrong signature hash output type: ${a}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(Q5);e+=4*Vi.CompactSizeLen.encode(this.outputs.length).length;for(let n of r)e+=32+4*Vi.VarBytes.encode(n.script).length;this.hasWitnesses&&(e+=2),e+=4*Vi.CompactSizeLen.encode(this.inputs.length).length;for(let n of this.inputs)e+=160+4*Vi.VarBytes.encode(n.finalScriptSig||Kt.EMPTY).length,this.hasWitnesses&&n.finalScriptWitness&&(e+=H0.RawWitness.encode(n.finalScriptWitness).length);return e}get vsize(){return(0,np.toVsize)(this.weight)}toBytes(e=!1,r=!1){return H0.RawTx.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(Nm).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||Kt.EMPTY})),outputs:this.outputs.map(Q5),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return VI.hex.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return VI.hex.encode(Bi.sha256x2(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return VI.hex.encode(Bi.sha256x2(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),Bv(this.inputs[e])}get inputsLength(){return this.inputs.length}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push((0,np.normalizeInput)(e,void 0,void 0,this.opts.disableScriptCheck)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addInput||s.inputs.includes(e))&&(i=Ts.PSBTInputUnsignedKeys)}this.inputs[e]=(0,np.normalizeInput)(r,this.inputs[e],i,this.opts.disableScriptCheck)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),Bv(this.outputs[e])}getOutputAddress(e,r=vi.NETWORK){let n=this.getOutput(e);if(!!n.script)return(0,Vf.Address)(r).encode(Vf.OutScript.decode(n.script))}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:s}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error(`Wrong amount type, should be of type bigint in sats, but got ${i} of type ${typeof i}`);typeof s=="string"&&(s=VI.hex.decode(s)),s===void 0&&(s=r?.script);let u={...r,...e,amount:i,script:s};if(u.amount===void 0&&delete u.amount,u=Ts.mergeKeyMap(Ts.PSBTOutput,u,r,n),Ts.PSBTOutputCoder.encode(u),u.script&&!this.opts.allowUnknownOutputs&&Vf.OutScript.decode(u.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownOutputs=true, if you sure");return this.opts.disableScriptCheck||(0,Vf.checkScript)(u.script,u.redeemScript,u.witnessScript),u}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addOutput||s.outputs.includes(e))&&(i=Ts.PSBTOutputUnsignedKeys)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=vi.NETWORK){return this.addOutput({script:Vf.OutScript.encode((0,Vf.Address)(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=(0,np.getPrevOut)(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(Q5);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:s,isSingle:u}=Fhe(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(u&&e>=this.outputs.length||e>=this.inputs.length)return Kt.U256BE.encode(1n);r=Vi.Script.encode(Vi.Script.decode(r).filter(f=>f!=="CODESEPARATOR"));let o=this.inputs.map(Nm).map((f,c)=>({...f,finalScriptSig:c===e?r:Kt.EMPTY}));i?o=[o[e]]:(s||u)&&(o=o.map((f,c)=>({...f,sequence:c===e?f.sequence:0})));let a=this.outputs.map(Q5);s?a=[]:u&&(a=a.slice(0,e).fill(BQe).concat([a[e]]));let l=H0.RawTx.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:o,outputs:a});return Bi.sha256x2(l,Kt.I32LE.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:s,isNone:u,isSingle:o}=Fhe(n),a=GI,l=GI,f=GI,c=this.inputs.map(Nm),h=this.outputs.map(Q5);s||(a=Bi.sha256x2(...c.map(CU.encode))),!s&&!o&&!u&&(l=Bi.sha256x2(...c.map(p=>Kt.U32LE.encode(p.sequence)))),!o&&!u?f=Bi.sha256x2(...h.map(H0.RawOutput.encode)):o&&e<h.length&&(f=Bi.sha256x2(H0.RawOutput.encode(h[e])));let d=c[e];return Bi.sha256x2(Kt.I32LE.encode(this.version),a,l,Kt.bytes(32,!0).encode(d.txid),Kt.U32LE.encode(d.index),Vi.VarBytes.encode(r),Kt.U64LE.encode(i),Kt.U32LE.encode(d.sequence),f,Kt.U32LE.encode(this.lockTime),Kt.U32LE.encode(n))}preimageWitnessV1(e,r,n,i,s=-1,u,o=192,a){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let l=[Kt.U8.encode(0),Kt.U8.encode(n),Kt.I32LE.encode(this.version),Kt.U32LE.encode(this.lockTime)],f=n===Gi.DEFAULT?Gi.ALL:n&3,c=n&Gi.ANYONECANPAY,h=this.inputs.map(Nm),d=this.outputs.map(Q5);c!==Gi.ANYONECANPAY&&l.push(...[h.map(CU.encode),i.map(Kt.U64LE.encode),r.map(Vi.VarBytes.encode),h.map(m=>Kt.U32LE.encode(m.sequence))].map(m=>Bi.sha256((0,vi.concatBytes)(...m)))),f===Gi.ALL&&l.push(Bi.sha256((0,vi.concatBytes)(...d.map(H0.RawOutput.encode))));let p=(a?1:0)|(u?2:0);if(l.push(new Uint8Array([p])),c===Gi.ANYONECANPAY){let m=h[e];l.push(CU.encode(m),Kt.U64LE.encode(i[e]),Vi.VarBytes.encode(r[e]),Kt.U32LE.encode(m.sequence))}else l.push(Kt.U32LE.encode(e));return p&1&&l.push(Bi.sha256(Vi.VarBytes.encode(a||Kt.EMPTY))),f===Gi.SINGLE&&l.push(e<d.length?Bi.sha256(H0.RawOutput.encode(d[e])):GI),u&&l.push((0,Vf.tapLeafHash)(u,o),Kt.U8.encode(0),Kt.I32LE.encode(s)),Bi.tagSchnorr("TapSighash",...l)}signIdx(e,r,n,i){this.checkInputIdx(r);let s=this.inputs[r],u=(0,np.getInputType)(s,this.opts.allowLegacyWitnessUtxo);if(!(0,vi.isBytes)(e)){if(!s.bip32Derivation||!s.bip32Derivation.length)throw new Error("bip32Derivation: empty");let f=s.bip32Derivation.filter(h=>h[1].fingerprint==e.fingerprint).map(([h,{path:d}])=>{let p=e;for(let m of d)p=p.deriveChild(m);if(!(0,vi.equalBytes)(p.publicKey,h))throw new Error("bip32Derivation: wrong pubKey");if(!p.privateKey)throw new Error("bip32Derivation: no privateKey");return p});if(!f.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let c=!1;for(let h of f)this.signIdx(h.privateKey,r)&&(c=!0);return c}n?n.forEach(FQe):n=[u.defaultSighash];let o=u.sighash;if(!n.includes(o))throw new Error(`Input with not allowed sigHash=${o}. Allowed: ${n.join(", ")}`);let{sigOutputs:a}=this.inputSighash(r);if(a===Gi.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let l=(0,np.getPrevOut)(s);if(u.txType==="taproot"){let f=this.inputs.map(np.getPrevOut),c=f.map(w=>w.script),h=f.map(w=>w.amount),d=!1,p=Bi.pubSchnorr(e),m=s.tapMerkleRoot||Kt.EMPTY;if(s.tapInternalKey){let{pubKey:w,privKey:x}=CQe(e,p,s.tapInternalKey,m),[_,y]=Bi.taprootTweakPubkey(s.tapInternalKey,m);if((0,vi.equalBytes)(_,w)){let S=this.preimageWitnessV1(r,c,o,h),F=(0,vi.concatBytes)(Bi.signSchnorr(S,x,i),o!==Gi.DEFAULT?new Uint8Array([o]):Kt.EMPTY);this.updateInput(r,{tapKeySig:F},!0),d=!0}}if(s.tapLeafScript){s.tapScriptSig=s.tapScriptSig||[];for(let[w,x]of s.tapLeafScript){let _=x.subarray(0,-1),y=Vi.Script.decode(_),S=x[x.length-1],F=(0,Vf.tapLeafHash)(_,S);if(y.findIndex(L=>(0,vi.isBytes)(L)&&(0,vi.equalBytes)(L,p))===-1)continue;let H=this.preimageWitnessV1(r,c,o,h,void 0,_,S),D=(0,vi.concatBytes)(Bi.signSchnorr(H,e,i),o!==Gi.DEFAULT?new Uint8Array([o]):Kt.EMPTY);this.updateInput(r,{tapScriptSig:[[{pubKey:p,leafHash:F},D]]},!0),d=!0}}if(!d)throw new Error("No taproot scripts signed");return!0}else{let f=Bi.pubECDSA(e),c=!1,h=Bi.hash160(f);for(let m of Vi.Script.decode(u.lastScript))(0,vi.isBytes)(m)&&((0,vi.equalBytes)(m,f)||(0,vi.equalBytes)(m,h))&&(c=!0);if(!c)throw new Error(`Input script doesn't have pubKey: ${u.lastScript}`);let d;if(u.txType==="legacy")d=this.preimageLegacy(r,u.lastScript,o);else if(u.txType==="segwit"){let m=u.lastScript;u.last.type==="wpkh"&&(m=Vf.OutScript.encode({type:"pkh",hash:u.last.hash})),d=this.preimageWitnessV0(r,m,o,l.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${u.txType}`);let p=Bi.signECDSA(d,e,this.opts.lowR);this.updateInput(r,{partialSig:[[f,(0,vi.concatBytes)(p,new Uint8Array([o]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let s=0;s<this.inputs.length;s++)try{this.signIdx(e,s,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=(0,np.getInputType)(r,this.opts.allowLegacyWitnessUtxo);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let a=r.tapLeafScript.sort((l,f)=>Ts.TaprootControlBlock.encode(l[0]).length-Ts.TaprootControlBlock.encode(f[0]).length);for(let[l,f]of a){let c=f.slice(0,-1),h=f[f.length-1],d=Vf.OutScript.decode(c),p=(0,Vf.tapLeafHash)(c,h),m=r.tapScriptSig.filter(x=>(0,vi.equalBytes)(x[0].leafHash,p)),w=[];if(d.type==="tr_ms"){let x=d.m,_=d.pubkeys,y=0;for(let S of _){let F=m.findIndex(N=>(0,vi.equalBytes)(N[0].pubKey,S));if(y===x||F===-1){w.push(Kt.EMPTY);continue}w.push(m[F][1]),y++}if(y!==x)continue}else if(d.type==="tr_ns"){for(let x of d.pubkeys){let _=m.findIndex(y=>(0,vi.equalBytes)(y[0].pubKey,x));_!==-1&&w.push(m[_][1])}if(w.length!==d.pubkeys.length)continue}else if(d.type==="unknown"&&this.opts.allowUnknownInputs){let x=Vi.Script.decode(c);if(w=m.map(([{pubKey:_},y])=>{let S=x.findIndex(F=>(0,vi.isBytes)(F)&&(0,vi.equalBytes)(F,_));if(S===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:y,pos:S}}).sort((_,y)=>_.pos-y.pos).map(_=>_.signature),!w.length)continue}else{let x=this.opts.customScripts;if(x)for(let _ of x){if(!_.finalizeTaproot)continue;let y=Vi.Script.decode(c),S=_.encode(y);if(S===void 0)continue;let F=_.finalizeTaproot(c,S,m);if(!!F){r.finalScriptWitness=F.concat(Ts.TaprootControlBlock.encode(l)),r.finalScriptSig=Kt.EMPTY,kU(r);return}}throw new Error("Finalize: Unknown tapLeafScript")}r.finalScriptWitness=w.reverse().concat([c,Ts.TaprootControlBlock.encode(l)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=Kt.EMPTY,kU(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=Kt.EMPTY,s=[];if(n.last.type==="ms"){let a=n.last.m,l=n.last.pubkeys,f=[];for(let c of l){let h=r.partialSig.find(d=>(0,vi.equalBytes)(c,d[0]));!h||f.push(h[1])}if(f=f.slice(0,a),f.length!==a)throw new Error(`Multisig: wrong signatures count, m=${a} n=${l.length} signatures=${f.length}`);i=Vi.Script.encode([0,...f])}else if(n.last.type==="pk")i=Vi.Script.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Vi.Script.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=Kt.EMPTY,s=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let u,o;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(s=Vi.Script.decode(i).map(a=>{if(a===0)return Kt.EMPTY;if((0,vi.isBytes)(a))return a;throw new Error(`Wrong witness op=${a}`)})),s=s.concat(n.lastScript)),n.txType==="segwit"&&(o=s),n.type.startsWith("sh-wsh-")?u=Vi.Script.encode([Vi.Script.encode([0,Bi.sha256(n.lastScript)])]):n.type.startsWith("sh-")?u=Vi.Script.encode([...Vi.Script.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(u=i),!u&&!o)throw new Error("Unknown error finalizing input");u&&(r.finalScriptSig=u),o&&(r.finalScriptWitness=o),kU(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?H0.RawOldTx.encode(this.global.unsignedTx):Kt.EMPTY,n=e.global.unsignedTx?H0.RawOldTx.encode(e.global.unsignedTx):Kt.EMPTY;if(!(0,vi.equalBytes)(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=Ts.mergeKeyMap(Ts.PSBTGlobal,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return ip.fromPSBT(this.toPSBT(this.opts.PSBTVersion),this.opts)}};Rr.Transaction=ip;function MQe(t){if(!t||!Array.isArray(t)||!t.length)throw new Error("PSBTCombine: wrong PSBT list");let e=ip.fromPSBT(t[0]);for(let r=1;r<t.length;r++)e.combine(ip.fromPSBT(t[r]));return e.toPSBT()}var Rhe=2147483648;function NQe(t){let e=[];if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return e;let r=t.replace(/^[mM]'?\//,"").split("/");for(let n of r){let i=/^(\d+)('?)$/.exec(n);if(!i||i.length!==3)throw new Error(`Invalid child index: ${n}`);let s=+i[1];if(!Number.isSafeInteger(s)||s>=Rhe)throw new Error("Invalid index");i[2]==="'"&&(s+=Rhe),e.push(s)}return e}});var Pv=$(Jt=>{"use strict";B();k();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.RawPSBTV2=Jt.RawPSBTV0=Jt._DebugPSBT=Jt._RawPSBTV2=Jt._RawPSBTV0=Jt.PSBTOutputCoder=Jt.PSBTInputCoder=Jt.PSBTOutputUnsignedKeys=Jt.PSBTOutput=Jt.PSBTInputUnsignedKeys=Jt.PSBTInputFinalKeys=Jt.PSBTInput=Jt.PSBTGlobal=Jt.TaprootControlBlock=void 0;Jt.cleanPSBTFields=qQe;Jt.mergeKeyMap=jQe;var Ad=jm(),Ke=W5(),Td=y6(),Cv=y6(),DQe=Iv(),Ha=zf(),MU=Ke.validate(Ke.bytes(null),t=>(0,Ha.validatePubkey)(t,Ha.PubT.ecdsa)),WI=Ke.validate(Ke.bytes(32),t=>(0,Ha.validatePubkey)(t,Ha.PubT.schnorr)),Mhe=Ke.validate(Ke.bytes(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t}),YI=Ke.struct({fingerprint:Ke.U32BE,path:Ke.array(null,Ke.U32LE)}),Hhe=Ke.struct({hashes:Ke.array(Td.CompactSizeLen,Ke.bytes(32)),der:YI}),HQe=Ke.bytes(78),LQe=Ke.struct({pubKey:WI,leafHash:Ke.bytes(32)}),UQe=Ke.struct({version:Ke.U8,internalKey:Ke.bytes(32),merklePath:Ke.array(null,Ke.bytes(32))});Jt.TaprootControlBlock=Ke.validate(UQe,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t});var $Qe=Ke.array(null,Ke.struct({depth:Ke.U8,version:Ke.U8,script:Td.VarBytes})),Ks=Ke.bytes(null),Nhe=Ke.bytes(20),kv=Ke.bytes(32);Jt.PSBTGlobal={unsignedTx:[0,!1,Cv.RawOldTx,[0],[0],!1],xpub:[1,HQe,YI,[],[0,2],!1],txVersion:[2,!1,Ke.U32LE,[2],[2],!1],fallbackLocktime:[3,!1,Ke.U32LE,[],[2],!1],inputCount:[4,!1,Td.CompactSizeLen,[2],[2],!1],outputCount:[5,!1,Td.CompactSizeLen,[2],[2],!1],txModifiable:[6,!1,Ke.U8,[],[2],!1],version:[251,!1,Ke.U32LE,[],[0,2],!1],proprietary:[252,Ks,Ks,[],[0,2],!1]};Jt.PSBTInput={nonWitnessUtxo:[0,!1,Cv.RawTx,[],[0,2],!1],witnessUtxo:[1,!1,Cv.RawOutput,[],[0,2],!1],partialSig:[2,MU,Ks,[],[0,2],!1],sighashType:[3,!1,Ke.U32LE,[],[0,2],!1],redeemScript:[4,!1,Ks,[],[0,2],!1],witnessScript:[5,!1,Ks,[],[0,2],!1],bip32Derivation:[6,MU,YI,[],[0,2],!1],finalScriptSig:[7,!1,Ks,[],[0,2],!1],finalScriptWitness:[8,!1,Cv.RawWitness,[],[0,2],!1],porCommitment:[9,!1,Ks,[],[0,2],!1],ripemd160:[10,Nhe,Ks,[],[0,2],!1],sha256:[11,kv,Ks,[],[0,2],!1],hash160:[12,Nhe,Ks,[],[0,2],!1],hash256:[13,kv,Ks,[],[0,2],!1],txid:[14,!1,kv,[2],[2],!0],index:[15,!1,Ke.U32LE,[2],[2],!0],sequence:[16,!1,Ke.U32LE,[],[2],!0],requiredTimeLocktime:[17,!1,Ke.U32LE,[],[2],!1],requiredHeightLocktime:[18,!1,Ke.U32LE,[],[2],!1],tapKeySig:[19,!1,Mhe,[],[0,2],!1],tapScriptSig:[20,LQe,Mhe,[],[0,2],!1],tapLeafScript:[21,Jt.TaprootControlBlock,Ks,[],[0,2],!1],tapBip32Derivation:[22,kv,Hhe,[],[0,2],!1],tapInternalKey:[23,!1,WI,[],[0,2],!1],tapMerkleRoot:[24,!1,kv,[],[0,2],!1],proprietary:[252,Ks,Ks,[],[0,2],!1]};Jt.PSBTInputFinalKeys=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"];Jt.PSBTInputUnsignedKeys=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"];Jt.PSBTOutput={redeemScript:[0,!1,Ks,[],[0,2],!1],witnessScript:[1,!1,Ks,[],[0,2],!1],bip32Derivation:[2,MU,YI,[],[0,2],!1],amount:[3,!1,Ke.I64LE,[2],[2],!0],script:[4,!1,Ks,[2],[2],!0],tapInternalKey:[5,!1,WI,[],[0,2],!1],tapTree:[6,!1,$Qe,[],[0,2],!1],tapBip32Derivation:[7,WI,Hhe,[],[0,2],!1],proprietary:[252,Ks,Ks,[],[0,2],!1]};Jt.PSBTOutputUnsignedKeys=[];var Dhe=Ke.array(Ke.NULL,Ke.struct({key:Ke.prefix(Td.CompactSizeLen,Ke.struct({type:Td.CompactSizeLen,key:Ke.bytes(null)})),value:Ke.bytes(Td.CompactSizeLen)}));function NU(t){let[e,r,n,i,s,u]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:s,silentIgnore:u}}var iEt=Ke.struct({type:Td.CompactSizeLen,key:Ke.bytes(null)});function DU(t){let e={};for(let r in t){let[n,i,s]=t[r];e[n]=[r,i,s]}return Ke.wrap({encodeStream:(r,n)=>{let i=[];for(let s in t){let u=n[s];if(u===void 0)continue;let[o,a,l]=t[s];if(!a)i.push({key:{type:o,key:Ke.EMPTY},value:l.encode(u)});else{let f=u.map(([c,h])=>[a.encode(c),l.encode(h)]);f.sort((c,h)=>(0,Ha.compareBytes)(c[0],h[0]));for(let[c,h]of f)i.push({key:{key:c,type:o},value:h})}}if(n.unknown){n.unknown.sort((s,u)=>(0,Ha.compareBytes)(s[0].key,u[0].key));for(let[s,u]of n.unknown)i.push({key:s,value:u})}Dhe.encodeStream(r,i)},decodeStream:r=>{let n=Dhe.decodeStream(r),i={},s={};for(let u of n){let o="unknown",a=u.key.key,l=u.value;if(e[u.key.type]){let[f,c,h]=e[u.key.type];if(o=f,!c&&a.length)throw new Error(`PSBT: Non-empty key for ${o} (key=${Ad.hex.encode(a)} value=${Ad.hex.encode(l)}`);if(a=c?c.decode(a):void 0,l=h.decode(l),!c){if(i[o])throw new Error(`PSBT: Same keys: ${o} (key=${a} value=${l})`);i[o]=l,s[o]=!0;continue}}else a={type:u.key.type,key:u.key.key};if(s[o])throw new Error(`PSBT: Key type with empty key and no key=${o} val=${l}`);i[o]||(i[o]=[]),i[o].push([a,l])}return i}})}Jt.PSBTInputCoder=Ke.validate(DU(Jt.PSBTInput),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: empty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)(0,Ha.validatePubkey)(e,Ha.PubT.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)(0,Ha.validatePubkey)(e,Ha.PubT.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!(0,Ha.equalBytes)(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index!==void 0&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=DQe.Transaction.fromRaw(Cv.RawTx.encode(t.nonWitnessUtxo),{allowUnknownOutputs:!0,disableScriptCheck:!0,allowUnknownInputs:!0}),n=Ad.hex.encode(t.txid);if(r.isFinal&&r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t});Jt.PSBTOutputCoder=Ke.validate(DU(Jt.PSBTOutput),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)(0,Ha.validatePubkey)(e,Ha.PubT.ecdsa);return t});var Lhe=Ke.validate(DU(Jt.PSBTGlobal),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t});Jt._RawPSBTV0=Ke.struct({magic:Ke.magic(Ke.string(new Uint8Array([255])),"psbt"),global:Lhe,inputs:Ke.array("global/unsignedTx/inputs/length",Jt.PSBTInputCoder),outputs:Ke.array(null,Jt.PSBTOutputCoder)});Jt._RawPSBTV2=Ke.struct({magic:Ke.magic(Ke.string(new Uint8Array([255])),"psbt"),global:Lhe,inputs:Ke.array("global/inputCount",Jt.PSBTInputCoder),outputs:Ke.array("global/outputCount",Jt.PSBTOutputCoder)});Jt._DebugPSBT=Ke.struct({magic:Ke.magic(Ke.string(new Uint8Array([255])),"psbt"),items:Ke.array(null,Ke.apply(Ke.array(Ke.NULL,Ke.tuple([Ke.hex(Td.CompactSizeLen),Ke.bytes(Td.CompactSize)])),Ke.coders.dict()))});function RU(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=NU(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=NU(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}function qQe(t,e,r){let n={};for(let i in r){let s=i;if(s!=="unknown"){if(!e[s])continue;let{allowInc:u,silentIgnore:o}=NU(e[s]);if(!u.includes(t)){if(o)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${s} but versions allows inclusion=${u}`)}}n[s]=r[s]}return n}function Uhe(t){let e=t&&t.global&&t.global.version||0;RU(e,Jt.PSBTGlobal,t.global);for(let u of t.inputs)RU(e,Jt.PSBTInput,u);for(let u of t.outputs)RU(e,Jt.PSBTOutput,u);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let s=t.outputs.slice(i);if(s.length>1||s.length&&Object.keys(s[0]).length)throw new Error(`Unexpected outputs left in tx=${s}`);return t}function jQe(t,e,r,n){let i={...r,...e};for(let s in t){let u=s,[o,a,l]=t[u],f=n&&!n.includes(s);if(e[s]===void 0&&s in e){if(f)throw new Error(`Cannot remove signed field=${s}`);delete i[s]}else if(a){let c=r&&r[s]?r[s]:[],h=e[u];if(h){if(!Array.isArray(h))throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);h=h.map(m=>{if(m.length!==2)throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);return[typeof m[0]=="string"?a.decode(Ad.hex.decode(m[0])):m[0],typeof m[1]=="string"?l.decode(Ad.hex.decode(m[1])):m[1]]});let d={},p=(m,w,x)=>{if(d[m]===void 0){d[m]=[w,x];return}let _=Ad.hex.encode(l.encode(d[m][1])),y=Ad.hex.encode(l.encode(x));if(_!==y)throw new Error(`keyMap(${u}): same key=${m} oldVal=${_} newVal=${y}`)};for(let[m,w]of c){let x=Ad.hex.encode(a.encode(m));p(x,m,w)}for(let[m,w]of h){let x=Ad.hex.encode(a.encode(m));if(w===void 0){if(f)throw new Error(`Cannot remove signed field=${u}/${m}`);delete d[x]}else p(x,m,w)}i[u]=Object.values(d)}}else if(typeof i[s]=="string")i[s]=l.decode(Ad.hex.decode(i[s]));else if(f&&s in e&&r&&r[s]!==void 0&&!(0,Ha.equalBytes)(l.encode(e[s]),l.encode(r[s])))throw new Error(`Cannot change signed field=${s}`)}for(let s in i)t[s]||delete i[s];return i}Jt.RawPSBTV0=Ke.validate(Jt._RawPSBTV0,Uhe);Jt.RawPSBTV2=Ke.validate(Jt._RawPSBTV2,Uhe)});var Ov=$(ut=>{"use strict";B();k();Object.defineProperty(ut,"__esModule",{value:!0});ut._sortPubkeys=ut.p2tr_pk=ut.p2tr_ns=ut.tapLeafHash=ut.TAP_LEAF_VERSION=ut.p2ms=ut.p2wpkh=ut.p2wsh=ut.p2sh=ut.p2pkh=ut.p2pk=ut.OutScript=void 0;ut.checkScript=jU;ut.taprootListToTree=jhe;ut.p2tr=Khe;ut.combinations=zhe;ut.p2tr_ms=het;ut.getAddress=pet;ut.multisig=Vhe;ut.sortedMultisig=get;ut.WIF=met;ut.Address=Hm;var xd=jm(),e2=W5(),$he=Pv(),Dm=y6(),L0=zf(),Ft=zf();function sp(t,e){try{return Ft.validatePubkey(t,e),!0}catch{return!1}}var KQe={encode(t){if(!(t.length!==2||!Ft.isBytes(t[0])||!sp(t[0],Ft.PubT.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0},zQe={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Ft.isBytes(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0},VQe={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Ft.isBytes(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0},GQe={encode(t){if(!(t.length!==2||t[0]!==0||!Ft.isBytes(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:t=>t.type==="wsh"?[0,t.hash]:void 0},WQe={encode(t){if(!(t.length!==2||t[0]!==0||!Ft.isBytes(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:t=>t.type==="wpkh"?[0,t.hash]:void 0},YQe={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let s of i)if(!Ft.isBytes(s))return;return{type:"ms",m:r,pubkeys:i}}},decode:t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0},XQe={encode(t){if(!(t.length!==2||t[0]!==1||!Ft.isBytes(t[1])))return{type:"tr",pubkey:t[1]}},decode:t=>t.type==="tr"?[1,t.pubkey]:void 0},ZQe={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Ft.isBytes(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e}},JQe={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=(0,Dm.OpToNum)(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let s=t[i];if(i&1){if(s!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Ft.isBytes(s))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(s)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e}},QQe={encode(t){return{type:"unknown",script:Dm.Script.encode(t)}},decode:t=>t.type==="unknown"?Dm.Script.decode(t.script):void 0},eet=[KQe,zQe,VQe,GQe,WQe,YQe,XQe,ZQe,JQe,QQe],tet=e2.apply(Dm.Script,e2.coders.match(eet));ut.OutScript=e2.validate(tet,t=>{if(t.type==="pk"&&!sp(t.pubkey,Ft.PubT.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Ft.isBytes(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Ft.isBytes(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Ft.isBytes(t.pubkey)||!sp(t.pubkey,Ft.PubT.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!sp(r,Ft.PubT.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!sp(e,Ft.PubT.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function qhe(t,e){if(!Ft.equalBytes(t.hash,Ft.sha256(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=ut.OutScript.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}function jU(t,e,r){if(t){let n=ut.OutScript.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!Ft.equalBytes(n.hash,Ft.hash160(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=ut.OutScript.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&qhe(n,r)}if(e){let n=ut.OutScript.decode(e);n.type==="wsh"&&r&&qhe(n,r)}}function KU(t){let e={};for(let r of t){let n=xd.hex.encode(r);if(e[n])throw new Error(`Multisig: non-uniq pubkey: ${t.map(xd.hex.encode)}`);e[n]=!0}}var ret=(t,e=L0.NETWORK)=>{if(!sp(t,Ft.PubT.ecdsa))throw new Error("P2PK: invalid publicKey");return{type:"pk",script:ut.OutScript.encode({type:"pk",pubkey:t})}};ut.p2pk=ret;var net=(t,e=L0.NETWORK)=>{if(!sp(t,Ft.PubT.ecdsa))throw new Error("P2PKH: invalid publicKey");let r=Ft.hash160(t);return{type:"pkh",script:ut.OutScript.encode({type:"pkh",hash:r}),address:Hm(e).encode({type:"pkh",hash:r})}};ut.p2pkh=net;var iet=(t,e=L0.NETWORK)=>{let r=t.script;if(!Ft.isBytes(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=Ft.hash160(r),i=ut.OutScript.encode({type:"sh",hash:n});jU(i,r,t.witnessScript);let s={type:"sh",redeemScript:r,script:ut.OutScript.encode({type:"sh",hash:n}),address:Hm(e).encode({type:"sh",hash:n})};return t.witnessScript&&(s.witnessScript=t.witnessScript),s};ut.p2sh=iet;var set=(t,e=L0.NETWORK)=>{let r=t.script;if(!Ft.isBytes(r))throw new Error(`Wrong script: ${typeof r}, expected Uint8Array`);let n=Ft.sha256(r),i=ut.OutScript.encode({type:"wsh",hash:n});return jU(i,void 0,r),{type:"wsh",witnessScript:r,script:ut.OutScript.encode({type:"wsh",hash:n}),address:Hm(e).encode({type:"wsh",hash:n})}};ut.p2wsh=set;var uet=(t,e=L0.NETWORK)=>{if(!sp(t,Ft.PubT.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=Ft.hash160(t);return{type:"wpkh",script:ut.OutScript.encode({type:"wpkh",hash:r}),address:Hm(e).encode({type:"wpkh",hash:r})}};ut.p2wpkh=uet;var oet=(t,e,r=!1)=>(r||KU(e),{type:"ms",script:ut.OutScript.encode({type:"ms",pubkeys:e,m:t})});ut.p2ms=oet;function aet(t,e,r=!1,n){let i=ut.OutScript.decode(t);if(i.type==="unknown"){if(n){let o=e2.apply(Dm.Script,e2.coders.match(n)).decode(t);if(o!==void 0){if(typeof o.type!="string"||!o.type.startsWith("tr_"))throw new Error(`P2TR: invalid custom type=${o.type}`);return}}if(r)return}if(!["tr_ns","tr_ms"].includes(i.type))throw new Error(`P2TR: invalid leaf script=${i.type}`);let s=i;if(!r&&s.pubkeys)for(let u of s.pubkeys){if(Ft.equalBytes(u,Ft.TAPROOT_UNSPENDABLE_KEY))throw new Error("Unspendable taproot key in leaf script");if(Ft.equalBytes(u,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function jhe(t){let e=Array.from(t);for(;e.length>=2;){e.sort((u,o)=>(o.weight||1)-(u.weight||1));let n=e.pop(),i=e.pop(),s=(i?.weight||1)+(n?.weight||1);e.push({weight:s,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}function LU(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:LU(t.left,[t.right.hash,...e]),right:LU(t.right,[t.left.hash,...e])}}function UU(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...UU(t.left),...UU(t.right)]}function $U(t,e,r=!1,n){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:a,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!Ft.equalBytes(t.tapMerkleRoot,e2.EMPTY))throw new Error("P2TR: tapRoot leafScript cannot have tree");let f=typeof l=="string"?xd.hex.decode(l):l;if(!Ft.isBytes(f))throw new Error(`checkScript: wrong script type=${f}`);return aet(f,e,r,n),{type:"leaf",version:a,script:f,hash:(0,ut.tapLeafHash)(f,a)}}if(t.length!==2&&(t=jhe(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let i=$U(t[0],e,r,n),s=$U(t[1],e,r,n),[u,o]=[i.hash,s.hash];return Ft.compareBytes(o,u)===-1&&([u,o]=[o,u]),{type:"branch",left:i,right:s,hash:Ft.tagSchnorr("TapBranch",u,o)}}ut.TAP_LEAF_VERSION=192;var cet=(t,e=ut.TAP_LEAF_VERSION)=>Ft.tagSchnorr("TapLeaf",new Uint8Array([e]),Dm.VarBytes.encode(t));ut.tapLeafHash=cet;function Khe(t,e,r=L0.NETWORK,n=!1,i){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let s=typeof t=="string"?xd.hex.decode(t):t||Ft.TAPROOT_UNSPENDABLE_KEY;if(!sp(s,Ft.PubT.schnorr))throw new Error("p2tr: non-schnorr pubkey");let u=e?LU($U(e,s,n,i)):void 0,o=u?u.hash:void 0,[a,l]=Ft.taprootTweakPubkey(s,o||e2.EMPTY),f;u&&(f=UU(u).map(d=>({...d,controlBlock:$he.TaprootControlBlock.encode({version:(d.version||ut.TAP_LEAF_VERSION)+l,internalKey:s,merklePath:d.path})})));let c;f&&(c=f.map(d=>[$he.TaprootControlBlock.decode(d.controlBlock),Ft.concatBytes(d.script,new Uint8Array([d.version||ut.TAP_LEAF_VERSION]))]));let h={type:"tr",script:ut.OutScript.encode({type:"tr",pubkey:a}),address:Hm(r).encode({type:"tr",pubkey:a}),tweakedPubkey:a,tapInternalKey:s};return f&&(h.leaves=f),c&&(h.tapLeafScript=c),o&&(h.tapMerkleRoot=o),h}function zhe(t,e){let r=[];if(!Array.isArray(e))throw new Error("combinations: lst arg should be array");let n=e.length;if(t>n)throw new Error("combinations: m > lst.length, no combinations possible");let i=Array.from({length:t},(u,o)=>o),s=i.length-1;e:for(;;){r.push(i.map(o=>e[o])),i[s]+=1;let u=s;for(;u>=0&&i[u]>n-t+u;u--){if(i[u]=0,u===0)break e;i[u-1]+=1}for(u+=1;u<i.length;u++)i[u]=i[u-1]+1}return r}var fet=(t,e,r=!1)=>(r||KU(e),zhe(t,e).map(n=>({type:"tr_ns",script:ut.OutScript.encode({type:"tr_ns",pubkeys:n})})));ut.p2tr_ns=fet;var det=t=>(0,ut.p2tr_ns)(1,[t],void 0)[0];ut.p2tr_pk=det;function het(t,e,r=!1){return r||KU(e),{type:"tr_ms",script:ut.OutScript.encode({type:"tr_ms",pubkeys:e,m:t})}}function pet(t,e,r=L0.NETWORK){if(t==="tr")return Khe(Ft.pubSchnorr(e),void 0,r).address;let n=Ft.pubECDSA(e);if(t==="pkh")return(0,ut.p2pkh)(n,r).address;if(t==="wpkh")return(0,ut.p2wpkh)(n,r).address;throw new Error(`getAddress: unknown type=${t}`)}var bet=t=>Array.from(t).sort(Ft.compareBytes);ut._sortPubkeys=bet;function Vhe(t,e,r=!1,n=!1,i=L0.NETWORK){let s=(0,ut.p2ms)(t,r?(0,ut._sortPubkeys)(e):e);return n?(0,ut.p2wsh)(s,i):(0,ut.p2sh)(s,i)}function get(t,e,r=!1,n=L0.NETWORK){return Vhe(t,e,!0,r,n)}var zU=(0,xd.createBase58check)(Ft.sha256);function Ghe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}function HU(t,e,r=L0.NETWORK){Ghe(t,e);let n=t===0?xd.bech32:xd.bech32m;return n.encode(r.bech32,[t].concat(n.toWords(e)))}function qU(t,e){return zU.encode(Ft.concatBytes(Uint8Array.from(e),t))}function met(t=L0.NETWORK){return{encode(e){let r=Ft.concatBytes(e,new Uint8Array([1]));return qU(r.subarray(0,33),[t.wif])},decode(e){let r=zU.decode(e);if(r[0]!==t.wif)throw new Error("Wrong WIF prefix");if(r=r.subarray(1),r.length!==33)throw new Error("Wrong WIF length");if(r[32]!==1)throw new Error("Wrong WIF postfix");return r.subarray(0,-1)}}}function Hm(t=L0.NETWORK){return{encode(e){let{type:r}=e;if(r==="wpkh")return HU(0,e.hash,t);if(r==="wsh")return HU(0,e.hash,t);if(r==="tr")return HU(1,e.pubkey,t);if(r==="pkh")return qU(e.hash,[t.pubKeyHash]);if(r==="sh")return qU(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(`${t.bech32}1`)){let n;try{if(n=xd.bech32.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=xd.bech32m.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...s]=n.words,u=xd.bech32.fromWords(s);if(Ghe(i,u),i===0&&u.length===32)return{type:"wsh",hash:u};if(i===0&&u.length===20)return{type:"wpkh",hash:u};if(i===1&&u.length===32)return{type:"tr",pubkey:u};throw new Error("Unknown witness program")}let r=zU.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}});var Zhe=$($e=>{"use strict";B();k();Object.defineProperty($e,"__esModule",{value:!0});$e._Estimator=$e._cmpBig=$e.DEFAULT_SEQUENCE=$e.PSBTCombine=$e.SigHash=$e.bip32Path=$e.Decimal=$e.TaprootControlBlock=$e._DebugPSBT=$e.combinations=$e.sortedMultisig=$e._sortPubkeys=$e.OutScript=$e.taprootListToTree=$e.WIF=$e.getAddress=$e.Address=$e.utils=$e.TAPROOT_UNSPENDABLE_KEY=$e.TEST_NETWORK=$e.NETWORK=$e.selectUTXO=$e.getInputType=$e.Transaction=$e.MAX_SCRIPT_BYTE_LENGTH=$e.ScriptNum=$e.Script=$e.RawWitness=$e.CompactSize=$e.RawTx=$e.OP=$e.multisig=$e.p2tr_pk=$e.p2tr_ms=$e.p2tr_ns=$e.p2tr=$e.p2wpkh=$e.p2wsh=$e.p2ms=$e.p2sh=$e.p2pkh=$e.p2pk=void 0;var Lm=zf(),Gf=Ov();Object.defineProperty($e,"p2pk",{enumerable:!0,get:function(){return Gf.p2pk}});Object.defineProperty($e,"p2pkh",{enumerable:!0,get:function(){return Gf.p2pkh}});Object.defineProperty($e,"p2sh",{enumerable:!0,get:function(){return Gf.p2sh}});Object.defineProperty($e,"p2ms",{enumerable:!0,get:function(){return Gf.p2ms}});Object.defineProperty($e,"p2wsh",{enumerable:!0,get:function(){return Gf.p2wsh}});Object.defineProperty($e,"p2wpkh",{enumerable:!0,get:function(){return Gf.p2wpkh}});Object.defineProperty($e,"p2tr",{enumerable:!0,get:function(){return Gf.p2tr}});Object.defineProperty($e,"p2tr_ns",{enumerable:!0,get:function(){return Gf.p2tr_ns}});Object.defineProperty($e,"p2tr_ms",{enumerable:!0,get:function(){return Gf.p2tr_ms}});Object.defineProperty($e,"p2tr_pk",{enumerable:!0,get:function(){return Gf.p2tr_pk}});Object.defineProperty($e,"multisig",{enumerable:!0,get:function(){return Gf.multisig}});var t2=y6();Object.defineProperty($e,"OP",{enumerable:!0,get:function(){return t2.OP}});Object.defineProperty($e,"RawTx",{enumerable:!0,get:function(){return t2.RawTx}});Object.defineProperty($e,"CompactSize",{enumerable:!0,get:function(){return t2.CompactSize}});Object.defineProperty($e,"RawWitness",{enumerable:!0,get:function(){return t2.RawWitness}});Object.defineProperty($e,"Script",{enumerable:!0,get:function(){return t2.Script}});Object.defineProperty($e,"ScriptNum",{enumerable:!0,get:function(){return t2.ScriptNum}});Object.defineProperty($e,"MAX_SCRIPT_BYTE_LENGTH",{enumerable:!0,get:function(){return t2.MAX_SCRIPT_BYTE_LENGTH}});var yet=Iv();Object.defineProperty($e,"Transaction",{enumerable:!0,get:function(){return yet.Transaction}});var Whe=zI();Object.defineProperty($e,"getInputType",{enumerable:!0,get:function(){return Whe.getInputType}});Object.defineProperty($e,"selectUTXO",{enumerable:!0,get:function(){return Whe.selectUTXO}});var VU=zf();Object.defineProperty($e,"NETWORK",{enumerable:!0,get:function(){return VU.NETWORK}});Object.defineProperty($e,"TEST_NETWORK",{enumerable:!0,get:function(){return VU.TEST_NETWORK}});Object.defineProperty($e,"TAPROOT_UNSPENDABLE_KEY",{enumerable:!0,get:function(){return VU.TAPROOT_UNSPENDABLE_KEY}});$e.utils={isBytes:Lm.isBytes,concatBytes:Lm.concatBytes,compareBytes:Lm.compareBytes,pubSchnorr:Lm.pubSchnorr,randomPrivateKeyBytes:Lm.randomPrivateKeyBytes,taprootTweakPubkey:Lm.taprootTweakPubkey};var v6=Ov();Object.defineProperty($e,"Address",{enumerable:!0,get:function(){return v6.Address}});Object.defineProperty($e,"getAddress",{enumerable:!0,get:function(){return v6.getAddress}});Object.defineProperty($e,"WIF",{enumerable:!0,get:function(){return v6.WIF}});Object.defineProperty($e,"taprootListToTree",{enumerable:!0,get:function(){return v6.taprootListToTree}});Object.defineProperty($e,"OutScript",{enumerable:!0,get:function(){return v6.OutScript}});Object.defineProperty($e,"_sortPubkeys",{enumerable:!0,get:function(){return v6._sortPubkeys}});Object.defineProperty($e,"sortedMultisig",{enumerable:!0,get:function(){return v6.sortedMultisig}});Object.defineProperty($e,"combinations",{enumerable:!0,get:function(){return v6.combinations}});var Yhe=Pv();Object.defineProperty($e,"_DebugPSBT",{enumerable:!0,get:function(){return Yhe._DebugPSBT}});Object.defineProperty($e,"TaprootControlBlock",{enumerable:!0,get:function(){return Yhe.TaprootControlBlock}});var Fv=Iv();Object.defineProperty($e,"Decimal",{enumerable:!0,get:function(){return Fv.Decimal}});Object.defineProperty($e,"bip32Path",{enumerable:!0,get:function(){return Fv.bip32Path}});Object.defineProperty($e,"SigHash",{enumerable:!0,get:function(){return Fv.SigHash}});Object.defineProperty($e,"PSBTCombine",{enumerable:!0,get:function(){return Fv.PSBTCombine}});Object.defineProperty($e,"DEFAULT_SEQUENCE",{enumerable:!0,get:function(){return Fv.DEFAULT_SEQUENCE}});var Xhe=zI();Object.defineProperty($e,"_cmpBig",{enumerable:!0,get:function(){return Xhe._cmpBig}});Object.defineProperty($e,"_Estimator",{enumerable:!0,get:function(){return Xhe._Estimator}})});var tpe=$(Zu=>{"use strict";B();k();var vet=Zu&&Zu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_et=Zu&&Zu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qhe=Zu&&Zu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vet(e,t,r);return _et(e,t),e};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.build=Zu.verifySignatures=Zu.getSignatures=Zu.UtxoType=void 0;var U0=fc(),_c=Em(),Jhe=lv(),Eo=m0(),wet=Qhe(Zhe()),epe=Qhe(xo()),zs;(function(t){t.FEE="fee",t.GUARD="guard",t.TOKEN="token",t.MINTER="minter",t.SELL="sell",t.CONTRACT="contract"})(zs=Zu.UtxoType||(Zu.UtxoType={}));function Eet(t,e){let r=epe.psbt.Psbt.fromHex(t),n=Array.from({length:r.data.inputs.length},()=>"");return e.forEach(i=>{let s=i.index;if(s>=r.data.inputs.length)throw new Error(`inputIndex ${s} greater than psbt inputs length ${r.data.inputs.length}`);let u=r.data.inputs[s];if(u.tapLeafScript){let o=u.tapScriptSig;if(!Array.isArray(o)||o.length<1)throw new Error(`getTapScriptSigFromPSBT failed for input: ${s}`);n[s]=o[0].signature.toString("hex")}else{let o=r.data.inputs[s].tapKeySig;if(!o)throw new Error(`getTapKeySigFromPSBT failed for input: ${s}`);n[s]=o.toString("hex")}}),n}Zu.getSignatures=Eet;function Aet(t,e){return e.every(r=>{let n=r.index;if(n>=t.length)throw new Error(`inputIndex ${n} greater than signatures length ${t.length}`);return!!t[n]})}Zu.verifySignatures=Aet;async function Tet(t){let e=new U0.btc.Transaction,r=t.verifyScript||!1;if(t.inputs.length<=0||t.inputs.length>Eo.MAX_INPUT)throw new Error(`Max input number is ${Eo.MAX_INPUT}`);if(t.outputs.length<=0||t.outputs.length>Eo.MAX_OUTPUT)throw new Error(`Max output number is ${Eo.MAX_OUTPUT}`);let n=Eo.ProtocolState.getEmptyState(),i=new Array(Eo.MAX_INPUT).fill(void 0),s=[],u=[],o=t.tokenMetadatas.map(w=>{let x=(0,_c.tokenInfoParse)(w,U0.SupportedNetwork.fractalMainnet),_=(0,_c.toP2tr)(x.minterAddr),{p2tr:y,tapScript:S,cblock:F,script:N}=(0,_c.getTokenContractP2TR)(_),H=new Array(Eo.MAX_INPUT).fill(0n);return{metadata:x,minterP2TR:_,tokenP2TR:y,tokenScript:N,tokenTapScript:S,tokenStates:[],tokenCblock:F,tokenIndexes:[],inputTokenAmountArray:H}}),{p2tr:a,tapScript:l}=(0,_c.getGuardsP2TR)(),f=[],c=t.inputs.map((w,x)=>{let _={txId:w.txId,outputIndex:w.vOut,script:w.script??"",satoshis:w.amount};if(w.address&&(_.script=_.script||U0.btc.Script.fromAddress(w.address)),w.utxoType==zs.FEE){if(!w.publicKey&&!w.address&&!w.script)throw new Error("Fee input requires either script or address");if(!_.script){let y=new _c.EcKeyService({publicKey:w.publicKey});_.script=U0.btc.Script.fromAddress(y.getAddress())}f.push({toSign:!0})}else if(w.utxoType==zs.TOKEN){if(!w.contractParams)throw new Error(`Token input ${x} requires contractParams`);let y=JSON.parse(w.contractParams),S=w.tokenMetadataIndex;if(S===void 0)throw new Error(`Token input ${x} requires tokenMetadataIndex`);if(S>=o.length)throw new Error(`Token input ${x} tokenMetadataIndex ${S} out of metadatas' range ${o.length}`);let{tokenP2TR:F,tokenTapScript:N,tokenCblock:H,tokenScript:D}=o[S];if(_.script=_.script||F,f.push({toSign:!y.isContractSpend,script:D,cblock:H}),s.push(N),u.push(x),!t.signedResults)return _;let[L]=(0,_c.tokenUtxoParse)(y.tokenUtxo);o[S].inputTokenAmountArray[x]=L.state.data.amount}else if(w.utxoType==zs.GUARD){if(_.script=_.script||a,f.push({}),s.push(l),u.push(x),!t.signedResults)return _;let y=w.tokenMetadataIndex;if(y===void 0)throw new Error(`Token input ${x} requires tokenMetadataIndex`);if(y>=o.length)throw new Error(`Token input ${x} tokenMetadataIndex ${y} out of metadatas' range ${o.length}`);let{tokenP2TR:S,inputTokenAmountArray:F}=o[y],N={utxo:_,state:{protocolState:Eo.ProtocolState.getEmptyState(),data:{tokenScript:S,inputTokenAmountArray:F}}};if(w.previousTxs===void 0)throw new Error(`Guard input ${x} requires previousTxs.prevTx`);let H=new U0.btc.Transaction(w.previousTxs.prevTx),D=(0,Eo.getTxHeaderCheck)(H,N.utxo.outputIndex);o[y].guardContract=N,o[y].guardInfo={outputIndex:(0,_c.toTxOutpoint)(N.utxo.txId,N.utxo.outputIndex).outputIndex,inputIndexVal:BigInt(x),tx:D.tx,guardState:N.state.data}}else{if(w.utxoType==zs.MINTER)throw new Error("Minter currently not supported");if(w.utxoType==zs.SELL)throw new Error("Sell currently not supported");if(w.utxoType==zs.CONTRACT&&!w.script)throw new Error(`Contract input ${x} requires script`)}return _});e.from(c);let h=t.outputs.map((w,x)=>{let _={script:w.script??"",satoshis:w.amount};if(w.address&&(_.script=_.script||U0.btc.Script.fromAddress(w.address)),w.utxoType==zs.FEE){if(!w.address&&!w.script)throw new Error("Fee output requires either script or address")}else if(w.utxoType==zs.TOKEN){if(!w.contractParams)throw new Error(`Token output ${x} requires contractParams`);let y=JSON.parse(w.contractParams),S=w.tokenMetadataIndex;if(S===void 0)throw new Error(`Token output ${x} requires tokenMetadataIndex`);if(S>=o.length)throw new Error(`Token output ${x} tokenMetadataIndex ${S} out of metadatas' range ${o.length}`);let{metadata:F,tokenP2TR:N,tokenTapScript:H}=o[S];_.script=N;let D;try{D=BigInt(y.tokenAmount)}catch{throw new Error(`Invalid token amount:  ${y.tokenAmount}`)}let L=Eo.CAT20Proto.create(D,(0,_c.toTokenAddress)(y.tokenReceiver));i[x]=L,n.updateDataList(x,Eo.CAT20Proto.toByteString(L)),o[S].tokenIndexes.push(x),o[S].tokenStates.push(L)}else if(w.utxoType==zs.GUARD){if(_.script=a,!w.contractParams)throw new Error(`Token output ${x} requires contractParams`);let y=JSON.parse(w.contractParams),S=w.tokenMetadataIndex;if(S===void 0)throw new Error(`Token output ${x} requires tokenMetadataIndex`);if(S>=o.length)throw new Error(`Token output ${x} tokenMetadataIndex ${S} out of metadatas' range ${o.length}`);let{tokenP2TR:F}=o[S],N=Eo.GuardProto.createEmptyState();if(N.tokenScript=F,y.inputTokenAmountArray.length!==Eo.MAX_INPUT)throw new Error(`Guard output ${x} requires inputTokenAmountArray of length ${Eo.MAX_INPUT}`);y.inputTokenAmountArray.forEach((H,D)=>{N.inputTokenAmountArray[D]=BigInt(H)}),n.updateDataList(0,Eo.GuardProto.toByteString(N))}else{if(w.utxoType==zs.MINTER)throw new Error("Minter currently not supported");if(w.utxoType==zs.SELL)throw new Error("Sell currently not supported");if(w.utxoType==zs.CONTRACT&&!w.script)throw new Error(`Contract output ${x} requires script`)}return new U0.btc.Transaction.Output(_)});t.opReturn?e.addOutput(new U0.btc.Transaction.Output({satoshis:0,script:new U0.btc.Script(t.opReturn)})):e.addOutput(new U0.btc.Transaction.Output({satoshis:0,script:(0,_c.toStateScript)(n)})),h.map(w=>e.addOutput(w));let d=(0,Eo.getTxCtxMulti)(e,u,s.map(w=>I.Buffer.from(w,"hex")));if(!t.signedResults){console.log("txid:",e.id);let w=wet.Transaction.fromRaw(e.toBuffer(),{allowUnknownOutputs:!0}),x=epe.psbt.Psbt.fromBuffer(I.Buffer.from(w.toPSBT())),_=[];for(let y=0;y<x.inputCount;y++){let S={value:e.inputs[y].output.satoshis||0n,script:e.inputs[y].output.script.toBuffer()||U0.btc.Script.empty()},F=f[y];F.script&&F.cblock?x.updateInput(y,{witnessUtxo:S,tapLeafScript:[{leafVersion:192,script:I.Buffer.from(F.script,"hex"),controlBlock:I.Buffer.from(F.cblock,"hex")}]}):x.updateInput(y,{witnessUtxo:S}),F.toSign&&_.push({index:y,sighashTypes:[0]})}return{psbt:x.toHex(),toSignInputs:_}}let p=t.signedResults.signatures,m=t.signedResults.contractUnlockWitnesses;if(!p&&!m)throw new Error("signatures and/or contractUnlockWitnesses is required");if(p&&p.length!==t.inputs.length)throw new Error(`signatures length ${p.length} does not match inputs length ${t.inputs.length}`);if(m&&m.length!==t.inputs.length)throw new Error(`contractUnlockWitnesses length ${m.length} does not match inputs length ${t.inputs.length}`);return await Promise.all(t.inputs.map(async(w,x)=>{if(w.utxoType==zs.FEE){if(!p||!p[x])throw new Error(`Fee input ${x} requires signature`);e.inputs[x].setWitnesses([I.Buffer.from(p[x],"hex")])}else if(w.utxoType==zs.TOKEN){let _=w.tokenMetadataIndex;if(_===void 0)throw new Error(`Token input ${x} requires tokenMetadataIndex`);if(_>=o.length)throw new Error(`Token input ${x} tokenMetadataIndex ${_} out of metadatas' range ${o.length}`);let{metadata:y,minterP2TR:S,guardInfo:F,tokenTapScript:N}=o[_];if(F===void 0)throw new Error(`Token ${x} has no matching guard`);if(!w.previousTxs)throw new Error(`Token ${x} requires previousTxs`);if(!w.contractParams)throw new Error(`Token input ${x} requires contractParams`);let H=JSON.parse(w.contractParams),[D]=(0,_c.tokenUtxoParse)(H.tokenUtxo),L=(0,_c.validatePrevTx)(y,w.previousTxs.prevTx,w.previousTxs.prevPrevTx,U0.SupportedNetwork.fractalMainnet);if(L===null)throw new Error("prevTx does not match prevPrevTx");let P=(0,_c.getDummyEcKey)(),A="";if(!H.isContractSpend){if(P=new _c.EcKeyService({publicKey:w.publicKey}),!p||!p[x])throw new Error(`Token input ${x} requires signature`);A=p[x]}if(!await(0,Jhe.unlockToken)(P,D,x,L.prevTx,L.prevTokenInputIndex,L.prevPrevTx,F,e,S,d[x],r,A,H.isContractSpend,H.contractInputIndex))throw new Error(`Building token input ${x} failed`)}else if(w.utxoType==zs.GUARD){let _=w.tokenMetadataIndex;if(_===void 0)throw new Error(`Token input ${x} requires tokenMetadataIndex`);if(_>=o.length)throw new Error(`Token input ${x} tokenMetadataIndex ${_} out of metadatas' range ${o.length}`);let{guardContract:y,guardInfo:S,tokenIndexes:F,tokenStates:N}=o[_];if(S===void 0||y==null)throw new Error(`Guard ${x} has no guardInfo`);if(!await(0,Jhe.unlockGuardMulti)(y,S,x,n,e,N,F,d[x],r))throw new Error(`Building guard input ${x} failed`)}else{if(w.utxoType==zs.MINTER)throw new Error("Minter currently not supported");if(w.utxoType==zs.SELL)throw new Error("Sell currently not supported");if(w.utxoType==zs.CONTRACT){if(!m||!m[x])throw new Error(`Sell input ${x} requires contractUnlockWitnesses`);e.inputs[x].setWitnesses(m[x].map(_=>I.Buffer.from(_,"hex")))}}})),e.uncheckedSerialize().toString("hex")}Zu.build=Tet});var rpe=$(Wf=>{"use strict";B();k();var xet=Wf&&Wf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rv=Wf&&Wf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xet(e,t,r)};Object.defineProperty(Wf,"__esModule",{value:!0});Rv(lv(),Wf);Rv(NL(),Wf);Rv(ide(),Wf);Rv(sde(),Wf);Rv(tpe(),Wf)});var WU=$(up=>{"use strict";B();k();var Iet=up&&up.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GU=up&&up.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Iet(e,t,r)};Object.defineProperty(up,"__esModule",{value:!0});GU(fc(),up);GU(rpe(),up);GU(Em(),up)});var npe=$(XI=>{"use strict";B();k();Object.defineProperty(XI,"__esModule",{value:!0});XI.CatWallet=void 0;var Pet=af(),YU=WU(),XU=class extends Pet.BtcWallet{async signTransaction(e){try{let r=await(0,YU.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async estimateFee(e){try{e.data.estimateFee=!0;let r=await(0,YU.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async mint(e){try{let r=await(0,YU.mint)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}};XI.CatWallet=XU});var KS=$(Ao=>{"use strict";B();k();var Oet=Ao&&Ao.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Id=Ao&&Ao.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Oet(e,t,r)};Object.defineProperty(Ao,"__esModule",{value:!0});Id(af(),Ao);Id(xz(),Ao);Id(Iz(),Ao);Id(Pz(),Ao);Id(Bz(),Ao);Id(kz(),Ao);Id(Dz(),Ao);Id(Zz(),Ao);Id(Qz(),Ao);Id(npe(),Ao)});var spe=$(ZI=>{"use strict";B();k();Object.defineProperty(ZI,"__esModule",{value:!0});ZI.oneKeyBuildBtcTx=void 0;var Bet=xo(),ket=bp(),ZU=yn(),JU=KS(),QU=qa(),Cet=$a(),Fet={legacy:"SPENDADDRESS",segwit_native:"SPENDWITNESS",segwit_nested:"SPENDP2SHWITNESS",segwit_taproot:"SPENDTAPROOT"},Ret={legacy:"PAYTOADDRESS",segwit_native:"PAYTOWITNESS",segwit_nested:"PAYTOP2SHWITNESS",segwit_taproot:"PAYTOTAPROOT"};function Met(t,e=Cet.bitcoin){let r=(0,JU.convert2UtxoTx)(t);if(r.omni){let a=(0,JU.number2Hex)(r.omni.coinType||31,8),l=(0,JU.number2Hex)(r.omni.amount,16),f="6f6d6e6900000000"+a+l;r.outputs.push({address:"",amount:0,omniScript:f})}let n=parseInt((0,QU.signBtc)(r,"",e,void 0,!0,!0)),i=t.dustSize||546;n>=i&&r.outputs.push({address:r.address,amount:n,derivationPath:r.derivationPath,isChange:!0});let s=[],u=[];r.inputs.forEach(a=>{let l=ipe(a.derivationPath);s.push({address_n:l,prev_hash:a.txId,prev_index:a.vOut,amount:a.amount.toString(),script_type:Fet[(0,QU.getAddressType)(a.address,e)]}),u.push(Net(a.nonWitnessUtxo,a.txId))});let o=[];return r.outputs.forEach(a=>{a.isChange?o.push({address_n:ipe(a.derivationPath),amount:a.amount.toString(),script_type:Ret[(0,QU.getAddressType)(a.address,e)]}):a.omniScript?o.push({amount:"0",op_return_data:a.omniScript,script_type:"PAYTOOPRETURN"}):o.push({address:a.address,amount:a.amount.toString(),script_type:"PAYTOADDRESS"})}),{inputs:s,outputs:o,refTxs:u,coin:"btc"}}ZI.oneKeyBuildBtcTx=Met;function Net(t,e){let r=Bet.Transaction.fromHex(t),n=[];r.ins.forEach(s=>{n.push({prev_hash:ZU.base.toHex((0,ket.reverseBuffer)(s.hash)),prev_index:s.index,script_sig:ZU.base.toHex(s.script),sequence:s.sequence})});let i=[];return r.outs.forEach(s=>{i.push({amount:s.value,script_pubkey:ZU.base.toHex(s.script)})}),{hash:e,inputs:n,bin_outputs:i,lock_time:r.locktime,version:r.version}}function ipe(t){let e=t.split("/");e[0]==="m"&&(e=e.slice(1));let r=[];return e.forEach(n=>{let i;n.slice(-1)==="'"?i=Det(parseInt(n.slice(0,-1),10)):i=parseInt(n,10),r.push(i)}),r}function Det(t){return 2147483648+t}});var upe=$(Mv=>{"use strict";B();k();Object.defineProperty(Mv,"__esModule",{value:!0});Mv.BtcXrcTypes=void 0;var Het;(function(t){t[t.INSCRIBE=1]="INSCRIBE",t[t.PSBT=2]="PSBT",t[t.PSBT_MPC_UNSIGNED_LIST=21]="PSBT_MPC_UNSIGNED_LIST",t[t.PSBT_MPC_SIGNED_LIST=22]="PSBT_MPC_SIGNED_LIST",t[t.PSBT_MPC_UNSIGNED_BUY=23]="PSBT_MPC_UNSIGNED_BUY",t[t.PSBT_MPC_SIGNED_BUY=24]="PSBT_MPC_SIGNED_BUY",t[t.PSBT_MPC_UNSIGNED=25]="PSBT_MPC_UNSIGNED",t[t.PSBT_MPC_SIGNED=26]="PSBT_MPC_SIGNED",t[t.PSBT_RUNEMAIN=27]="PSBT_RUNEMAIN",t[t.PSBT_KEY_SCRIPT_PATH=3]="PSBT_KEY_SCRIPT_PATH",t[t.PSBT_KEY_SCRIPT_PATH_BATCH=4]="PSBT_KEY_SCRIPT_PATH_BATCH",t[t.SRC20=101]="SRC20",t[t.RUNE=102]="RUNE",t[t.RUNEMAIN=103]="RUNEMAIN",t[t.PSBT_DEODE=104]="PSBT_DEODE",t[t.ARC20=114]="ARC20",t[t.CAT20=115]="CAT20"})(Het=Mv.BtcXrcTypes||(Mv.BtcXrcTypes={}))});var ca=$(wn=>{B();k();var ope=wn&&wn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Let=wn&&wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),La=wn&&wn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ope(e,t,r)},ape=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ope(e,t,r);return Let(e,t),e};Object.defineProperty(wn,"__esModule",{value:!0});wn.message=wn.wif=void 0;La(xo(),wn);La(YK(),wn);La(qa(),wn);La(ZK(),wn);wn.wif=ape(vP());La(rz(),wn);La(fz(),wn);La(pz(),wn);La(Sz(),wn);La(uO(),wn);wn.message=ape(Az());La(KS(),wn);La(spe(),wn);La(upe(),wn);La(WU(),wn);La(ul(),wn)});export{ca as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-Q2PMAWUZ.js.map

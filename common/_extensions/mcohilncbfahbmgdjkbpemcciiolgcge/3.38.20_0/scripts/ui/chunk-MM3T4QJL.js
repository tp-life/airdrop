import{b as X,e as R,f as ee}from"./chunk-7MPV4FXR.js";import{b as oe}from"./chunk-DKN2AV5Y.js";import{a as se}from"./chunk-PP43MII2.js";import{a as te}from"./chunk-RJO5LUBF.js";import{c as O,g as q,h as K,p as M}from"./chunk-DRPGNVVL.js";import{a as V}from"./chunk-UEENMIFU.js";import{b as J,c as Q}from"./chunk-3OMHZBKM.js";import{h as $,i as j}from"./chunk-A264YTOP.js";import{a as G,ga as Z,x as U,z}from"./chunk-PVSNAFN3.js";import{q as o}from"./chunk-GBQG32PI.js";import{o as Le}from"./chunk-A3FIPWG3.js";import{ac as ye}from"./chunk-NTISK7TT.js";import{a as H}from"./chunk-J4UWPXXS.js";import{a as we}from"./chunk-QZUNX5I4.js";import{c as h}from"./chunk-TU7CE5HJ.js";import{gc as F,hc as Ee,u as B,z as Te}from"./chunk-YILNSICT.js";import{H as P,o as L,q as u}from"./chunk-L4N7WJIQ.js";import{N as Y,w as t}from"./chunk-V63HWKAL.js";import{H as ge,ca as i}from"./chunk-2EJYCNYZ.js";import{a as D}from"./chunk-B75PPTYD.js";import{f as _,m as r,o as a}from"./chunk-UGZFXKPB.js";r();a();var e=_(D()),ie=_(ye()),le=_(we()),x=_(Le()),ne=_(ge());Y();Ee();Te();r();a();var re=_(D());Y();var ae=({confirm:f,visible:p})=>re.default.createElement(L.Prompt,{visible:p,infoType:L.Prompt.INFO_TYPE.warn,title:t("wallet_extension_security_dialog_protect_seed_phrase"),confirmText:t("commonall_text_btn_ok_passive"),text:t("wallet_extension_security_dialog_no_leak"),onConfirm:f,hideCloseBtn:!0,alignBottom:!1,maskClosable:!1,confirmBtnProps:{type:i.TYPE.highlight,size:i.SIZE.lg}});r();a();r();a();var s={guard:"_guard_2qc56_1",title:"_title_2qc56_1",subTitle:"_subTitle_2qc56_6",inputPassword:"_inputPassword_2qc56_11",inputClass:"_inputClass_2qc56_15",guardInputClass:"_guardInputClass_2qc56_19",forgot:"_forgot_2qc56_22",unlockTrigger:"_unlockTrigger_2qc56_33"};var d={DELETE_WALLET:"deleteWallet",DELETE_LAST_WALLET:"deleteLastWallet",DELETE_KEYRING_WALLETS:"deleteKeyringWallets"},Pe=13,nt=f=>{let p=(0,le.useHistory)(),{current:{walletId:T,actionType:m,nextPath:E=G}}=e.default.useRef(se(p?.location.search.slice(1))),{callback:I,guard:k,onBack:_e,path:C}=f,N=(0,e.useRef)(),[g]=Q(J.passwordType),l=(0,ie.useDispatch)(),[c,pe]=e.default.useState(),[A,b]=e.default.useState(),[me,y]=(0,e.useState)(!1),[ce,de]=(0,e.useState)(!1),ue=(0,x.useMemoizedFn)(({target:{value:n}})=>{pe(n),b(void 0)},[]),S=()=>{if(y(!1),I){I();return}E&&p.replace(E)},w=(0,x.useMemoizedFn)(async()=>{try{if(y(!0),await M(N.current||c)===!0){if(k){de(!0);return}if(m===d.DELETE_LAST_WALLET){await l(O()),await l(oe()),await l($(1)),await l(j(void 0)),p.push(z);return}else m===d.DELETE_WALLET?(await l(q(T)),P.success(t("wallet_editwallet_toast_delete_wallet_success"))):m===d.DELETE_KEYRING_WALLETS&&(await l(K(T)),P.success(t("wallet_editwallet_toast_delete_wallet_success")));S()}}catch{y(!1),b(t("wallet_set_password_errortip_password_wrong"))}},[E,T,c,m]),{open:fe}=ee(),W=(0,e.useMemo)(()=>{switch(C){case Z:return!0;default:return!1}},[C]);return e.default.createElement("div",{className:"verify_password_page__wrapper main-container",onKeyDown:n=>{n.keyCode===Pe&&w()}},e.default.createElement(te,{bordered:!1,closeable:[d.DELETE_WALLET,d.DELETE_KEYRING_WALLETS].includes(m),onBack:_e}),e.default.createElement("div",{className:"verify-password-page"},W?e.default.createElement(e.default.Fragment,null,e.default.createElement(h.FlexBox,{className:s.guard,direction:h.DIRECTION.vertical},e.default.createElement(o.Text,{strong:700,className:s.title},t("wallet_extension_security_header_backup_seed_phrase")),e.default.createElement(o.Text,{type:o.TYPE.secondary,className:s.subTitle},t("wallet_extension_security_desc_seed_phrase_leak")))):e.default.createElement("h2",{className:"verify-password-page__header"},t("wallet_set_password_maintitle_enter_password")),e.default.createElement("div",{className:`verify-password-page__input ${(0,ne.default)(s.inputClass,{[s.guardInputClass]:k})}`},g===2?e.default.createElement(X,{className:s.unlockTrigger,onPass:async n=>{N.current=n,await w()}}):e.default.createElement(R,{elementName:"v"},e.default.createElement(u.Password,{autoFocus:!0,value:c,autoComplete:"off",onChange:ue,size:u.SIZE.xl,error:A,errorType:u.TIP_TYPE.always,inputClassName:"verify-password-page__input__core",label:W?t("wallet_set_password_maintitle_enter_password"):""}))),g===2&&F()!==B?e.default.createElement(o.Text,{className:s.forgot,strong:!0,align:o.ALIGN.center,size:o.SIZE.sm,type:o.TYPE.secondary,onClick:()=>{fe()}},t("wallet_extension_biometrics_dialog_title_cant_unlock")):e.default.createElement(H,{to:U,className:s.forgot},e.default.createElement(o.Text,{strong:!0,size:o.SIZE.sm,type:o.TYPE.secondary},t("wallet_footer_subtitle_forgot_password"))),e.default.createElement(V.FooterActions,{usePortal:!0},g===2?null:e.default.createElement(i,{loading:me,onClick:w,size:i.SIZE.lg,type:i.TYPE.highlight,category:i.CATEGORY.fill,disabled:!c||c?.length<6||!!A},t("wallet_set_password_btn_confirm"))),e.default.createElement(ae,{visible:ce,confirm:S})))};export{nt as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-MM3T4QJL.js.map

import{a as Yo}from"./chunk-MQQA225G.js";import{a as Zo}from"./chunk-PCXL7FJY.js";import{d as zo}from"./chunk-TCYNB4II.js";import{a as pt}from"./chunk-ADRJK2SB.js";import{c as Go,d as ct,e as Le}from"./chunk-VT47VYXB.js";import{a as ko}from"./chunk-5AU4SCQT.js";import{c as Bo}from"./chunk-Q4NRZ4HK.js";import{a as Ho}from"./chunk-3L4KZ2SK.js";import{a as _t}from"./chunk-3L5C5CQB.js";import{h as Oo}from"./chunk-P6MBUJNT.js";import{a as Fo}from"./chunk-2XYRURE2.js";import{d as So,g as mt}from"./chunk-4NCQWC2K.js";import{a as Yi}from"./chunk-ILBS2H6D.js";import{a as at}from"./chunk-A6RKGNRU.js";import{c as Jt}from"./chunk-OQJOA7JT.js";import{a as lt}from"./chunk-7OQVWENF.js";import{a as Lo}from"./chunk-UEENMIFU.js";import{q as xe}from"./chunk-GBQG32PI.js";import{o as Ao}from"./chunk-A3FIPWG3.js";import{ac as Do,p as et}from"./chunk-NTISK7TT.js";import{a as st,b as V,c as Vt,d as be,e as se,f as Pe,m as nt}from"./chunk-CU7RFE6B.js";import{a as v,b as S}from"./chunk-IVA2TTR4.js";import{a as zi}from"./chunk-45FKVGCF.js";import{d as it,f as Eo}from"./chunk-37O7OMRA.js";import{g as wo}from"./chunk-35FUKWV2.js";import{a as rt}from"./chunk-VL5VJIZ7.js";import{c as Kt}from"./chunk-TU7CE5HJ.js";import{Ac as tt,Bc as $,Ea as po,Fa as _o,Gb as z,Hb as je,Ib as go,Jb as Ne,Lb as ge,Nb as xo,Ob as yo,Oc as ot,Rc as bo,Wc as Hi,Xc as Po,Ya as Oi,Yc as Zi,Za as Je,_b as Xe,fc as Wt,pb as uo,wb as fo}from"./chunk-YILNSICT.js";import{A as qe,G as Qe,H as Re,O as we,P as To,S as No,T as Co,W as Io,o as Ie,t as vo,y as $t}from"./chunk-L4N7WJIQ.js";import{F as Ke,pa as mo}from"./chunk-LBCQTFOD.js";import{N as A,m as co,w as c}from"./chunk-V63HWKAL.js";import{H as I,T as W,Z as ho,ca as g}from"./chunk-2EJYCNYZ.js";import{a as Ce}from"./chunk-V2K75WCG.js";import{a as x}from"./chunk-B75PPTYD.js";import{f as r,m as t,n as m,o}from"./chunk-UGZFXKPB.js";t();o();t();o();var ne=r(x());t();o();var he=r(x()),Mo=r(Do());mo();A();ot();fo();Wt();Eo();t();o();var jt=r(I()),dt=r(x());t();o();var Se={value:"_value_1hw8x_1",feeDisplay:"_feeDisplay_1hw8x_4",feeDetailDisplay:"_feeDetailDisplay_1hw8x_10",feeDisplayHighlight:"_feeDisplayHighlight_1hw8x_17"};var Ui=({className:e,fee:i,feeDetail:n,highlight:s})=>dt.default.createElement("div",{className:(0,jt.default)(Se.value,e)},dt.default.createElement("div",{className:(0,jt.default)(Se.feeDisplay,{[Se.feeDisplayHighlight]:s})},i),dt.default.createElement("div",{className:Se.feeDetailDisplay},n)),Fe=Ui;t();o();var q=r(x());A();t();o();var ye={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Mi=({showLoading:e,title:i,content:n,visible:s,error:l,onClose:a,onConfirm:p,confirmText:_=c("wallet_extension_btn_general_confirm"),confirmLoading:d,errContent:y,headerTitle:h})=>{let N=(0,q.useCallback)(()=>{p&&p()},[p,s]);return q.default.createElement(Ie.Confirmation,{showLoading:e,title:q.default.createElement("p",{className:ye.dialogTitle},i),topClassName:ye.dialogHeader,visible:s,closeIconClassName:ye.closeIcon,confirmLoading:d,onConfirm:N,onClose:()=>{a&&a()},confirmText:_,confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg,block:!0},renderContent:()=>q.default.createElement("div",{className:ye.transactionAccelerationContainer},q.default.createElement("div",{className:ye.transactionAccelerationHeader},q.default.createElement("p",{className:ye.transactionAccelerationTitle},h)),l?y:n),renderFooter:F=>l?null:q.default.createElement(F,null)})},ut=Mi;t();o();Wt();var ft=({gasLimit:e,gasPrice:i,baseCoin:n,L1FEE:s})=>{let l=Oo(),{coinAmountInt:a}=l(n?.coinId);return _=>{let d=Ne(a,_);return!xo(go(z(i,e),s),d)}};t();o();var gt=r(x()),Uo=r(Ao());var Wi=({signInfo:e={},txParams:i,coinId:n})=>{let[s,{setTrue:l,setFalse:a}]=(0,Uo.useBoolean)(!0),[p,_]=(0,gt.useState)(""),d=zo();return(0,gt.useEffect)(()=>{try{e.needExtFee?(l(),(async()=>{let h=await d({...i,coinId:n});_(h),a()})()):(_(0),a())}catch{_(0),a()}},[e?.needExtFee]),[s,p]},xt=Wi;t();o();var Xt={root:"_root_1a9wr_1",value:"_value_1a9wr_4"};var $i=({feeDisplay:e,feeDetailDisplay:i})=>he.default.createElement("div",{className:Xt.root},he.default.createElement(Fe,{className:Xt.value,highlight:!0,fee:e,feeDetail:i}));function yt({tx:e={},visible:i=!1,onConfirm:n,onClose:s,repeatTxType:l,signInfo:a}){let p=(0,Mo.useDispatch)(),[_,d]=(0,he.useState)(!1),y=lt(),{from:h,nonce:N,coinId:F,gasPrice:oe,priorityFee:b,gasLimit:k,txHash:j,txhash:de}=e,[Te,ie]=mt(F),kt=a?.gasPrice||{},[Ae,Gt]=pt({address:h,tokenAddress:h,coinId:ie?.coinId,value:"0"},{wait:200,disabled:!ie||!i}),U=Ae?.gasLimit||k,{normal:Bt,max:Ot,supportEip1559:X,proposePriorityFee:zt,fastPriorityFee:D}=kt,Ue=(u,T=oe)=>ge(Ne(je(u,T),"1"),"0.1"),Me=(u,T,M)=>{let C=u;return ge(u,T)?(C=T,Ue(T,u)&&(C=z(u,"1.1"))):yo(u,T)&&ge(u,M)?(C=M,Ue(M,u)&&(C=z(u,"1.1"))):C=z(u,"1.2"),C=Xe(C,0),C},L=Me(oe,Bt,Ot),We=Me(b,zt,D),ue=()=>{let u=uo(Te.localType)?.realChainIdHex,T={from:h,to:h,nonce:S(N),gasLimit:S(U),chainId:u,value:S(0)};X?(T.maxFeePerGas=S(L),T.maxPriorityFeePerGas=S(We),T.type=nt.FEE_MARKET):T.gasPrice=S(L);let C={...et(T)};return C.walletId=y,C},Ht=u=>{let T=v(u.value),M=v(u.gasLimit),C=v(X?u.maxFeePerGas:u.gasPrice),f={...u,value:T,from:u.from,to:u.to,gas:M,gasPrice:C,priorityFee:v(X?u.maxPriorityFeePerGas:0),nonce:v(u.nonce),repeatTxType:l||be.CANCELING,oldTxHash:j||de};return{coinId:Te.coinId,coinAmount:T,fromAdr:u.from,toAdr:u.to,serviceCharge:z(M,C),extJson:JSON.stringify(f),txSource:tt.NORMAL,inputData:u.data?u.data:""}},G=ue(),Zt=()=>{if(X)return{...G,gasLimit:U,maxFeePerGas:v(G.maxFeePerGas),maxPriorityFeePerGas:v(G.maxPriorityFeePerGas),value:v(G.value)};let u={...G};return delete u.maxFeePerGas,delete u.maxPriorityFeePerGas,{...u,gasLimit:U,gasPrice:v(u.gasPrice),value:v(u.value)}},[B,$e]=xt({signInfo:a,txParams:Zt(),coinId:F}),Yt=ct(L,U,ie,$e),Ve=Le(L,U),Ut=ft({gasLimit:U,gasPrice:L,baseCoin:ie,L1Fee:$e}),Mt=async()=>{try{d(!0);let u=Ht(G);if(!Ut(u.coinAmount)){Notification.error({title:c("extension_toast_text_insufficient_balance")}),d(!1);return}if(!await _t({callback:s})){d(!1);return}await p(at({txParams:G,walletId:y}));let C=await it().signAndPublishTransferTransaction({signParams:G,from:G.from,baseChain:Je,publishParams:u});n&&n(C)}catch(u){if(u.message!==rt){let T=u?.data?.originalError?.msg||c("wallet_home_toast_network_error");Re.error({title:T})}}finally{d(!1)}};return he.default.createElement(ut,{title:c("wallet_extension_popup_title_cancle_transaction"),headerTitle:c("extension_defi_toast_desc_cancel_txn"),showLoading:B,visible:!Ke(a)&&i,content:he.default.createElement($i,{feeDisplay:Yt,feeDetailDisplay:Ve}),confirmLoading:_||Gt,onConfirm:Mt,onClose:()=>{s&&s()}})}t();o();var P=r(x()),jo=r(Do());mo();Wt();fo();ot();Eo();A();t();o();var ht=r(x()),Wo=r(Ao());Hi();Zi();var Vi=e=>{let[i,{setTrue:n,setFalse:s}]=(0,Wo.useBoolean)(!0),[l,a]=(0,ht.useState)("");return(0,ht.useEffect)(()=>{typeof e=="string"&&!!e&&(n(),(async()=>{let{data:_}=await bo(Po.getRawTxWithTxId,{txId:e}),{signInfo:d}=_;a(d),s()})())},[e]),[i,l]},$o=Vi;t();o();var Vo=r(x()),Ko=r(Yi()),vt=r(zi()),Ki=()=>(0,Vo.useCallback)(e=>{if(typeof e!="string"||!e)return{to:"",inputData:"",chainId:"",value:"",nonce:""};let i=m.Buffer.from((0,vt.stripHexPrefix)(e),"hex"),n=Ko.TransactionFactory.fromSerializedData(i),s=n.toJSON(),l=n.common.chainIdBN().toString("hex");return{to:s.to,inputData:s.data,chainId:(0,vt.addHexPrefix)(l),value:s.value,nonce:s.nonce}},[]),Jo=Ki;t();o();var ke={"retina-border-basic":"_retina-border-basic_13c01_1",retinaBorderBasic:"_retina-border-basic_13c01_1",lineWrapper:"_lineWrapper_13c01_29",line:"_line_13c01_29",tip:"_tip_13c01_38"};var Ji=({oldFee:e,oldFeeDetail:i,newFee:n,newFeeDetail:s})=>P.default.createElement(P.default.Fragment,null,P.default.createElement("div",{className:ke.lineWrapper},P.default.createElement(Jt,{className:ke.line,align:Kt.ALIGN.start,size:xe.SIZE.sm,label:c("wallet_extension_popup_speedup_transaction_before"),value:P.default.createElement(Fe,{fee:e,feeDetail:i})}),P.default.createElement(Jt,{className:ke.line,align:Kt.ALIGN.start,size:xe.SIZE.sm,label:c("wallet_extension_popup_speedup_transaction_after"),value:P.default.createElement(Fe,{highlight:!0,fee:n,feeDetail:s})})),P.default.createElement("div",{className:ke.tip},c("extension_defi_toast_desc_0service_fee")));function qt({tx:e={},visible:i=!1,onConfirm:n,onClose:s,signInfo:l,repeatTxType:a,loading:p}){let _=(0,jo.useDispatch)(),[d,y]=(0,P.useState)(!1),h=lt(),{from:N,coinId:F,gasPrice:oe,priorityFee:b,gasLimit:k,txHash:j,txhash:de,txId:Te}=e,ie=Jo(),[kt,Ae]=mt(F),[Gt,U]=$o(Te),Bt=l?.gasPrice||{},{max:Ot,supportEip1559:X,fastPriorityFee:zt}=Bt,D=(0,P.useMemo)(()=>ie(U),[U]),[Ue,Me]=pt({address:N,inputData:D.inputData&&D.inputData!=="0x"?D.inputData:void 0,tokenAddress:D?.to,coinId:F,value:D?.value?v(D.value):"0"},{wait:200,disabled:!U||!i}),L=Ue.gasLimit||k,We=(f,E)=>{let O=f;return ge(f,E)?(O=E,ge(Ne(je(E,f),"1"),"0.1")&&(O=z(f,"1.1"))):O=z(f,"1.2"),O=Xe(O,0),O},ue=We(oe,Ot),Ht=We(b,zt),G=()=>{let f={from:N,to:D.to,nonce:D.nonce,gasLimit:S(L),chainId:D.chainId,value:D.value},{inputData:E}=D;E&&E!=="0x"&&(f.data=E),X?(f.maxFeePerGas=S(ue),f.maxPriorityFeePerGas=S(Ht),f.type=nt.FEE_MARKET):f.gasPrice=S(ue);let fe={...et(f)};return fe.walletId=h,fe},Zt=f=>{let E=v(f.value),O=v(f.gasLimit),fe=v(X?f.maxFeePerGas:f.gasPrice),Bi={...f,value:E,from:f.from,to:f.to,gas:O,gasPrice:fe,priorityFee:v(X?f.maxPriorityFeePerGas:0),nonce:v(f.nonce),repeatTxType:a||be.SPEEDING,oldTxHash:j||de};return{coinId:kt.coinId,coinAmount:E,fromAdr:f.from,toAdr:f.to,serviceCharge:z(O,fe),extJson:JSON.stringify(Bi),txSource:tt.NORMAL,inputData:f.data?f.data:""}},B=G(),$e=()=>{if(X)return{...B,gasLimit:L,maxFeePerGas:v(B.maxFeePerGas),maxPriorityFeePerGas:v(B.maxPriorityFeePerGas),value:v(B.value)};let f={...B};return delete f.maxFeePerGas,delete f.maxPriorityFeePerGas,{...f,gasLimit:L,gasPrice:v(f.gasPrice),value:v(f.value)}},[Yt,Ve]=xt({signInfo:l,txParams:$e(),coinId:F}),Ut=Go(oe,k,Ae),Mt=Le(oe,k),u=ct(ue,L,Ae,Ve),T=Le(ue,L),M=ft({gasLimit:L,gasPrice:ue,baseCoin:Ae,L1Fee:Ve}),C=async()=>{try{y(!0);let f=Zt(B);if(!M(f.coinAmount)){Qe.error({title:c("extension_toast_text_insufficient_balance")}),y(!1);return}if(!await _t({callback:s})){y(!1);return}await _(at({txParams:B,walletId:h}));let fe=await it().signAndPublishTransferTransaction({signParams:B,from:B.from,baseChain:Je,publishParams:f});n&&n(fe)}catch(f){if(f.message!==rt){let E=f?.data?.originalError?.msg||c("wallet_home_toast_network_error");Re.error({title:E})}}finally{y(!1)}};return P.default.createElement(ut,{title:c("wallet_extension_popup_title_speedup_transaction"),headerTitle:c("wallet_extension_popup_speedup_transaction_desc"),showLoading:p||Gt||Yt,visible:!Ke(l)&&i,content:P.default.createElement(Ji,{oldFee:Ut,oldFeeDetail:Mt,newFee:u,newFeeDetail:T}),confirmLoading:d||Me,onConfirm:C,onClose:()=>{s&&s()}})}var ji=({data:e={},type:i,onConfirm:n,onCancel:s})=>{let{from:l,coinId:a,isShowSpeedUp:p,isShowCancel:_,isShowSpeedupCancel:d}=e,y=So(a),[h,N]=ko({coinId:a,address:l,chainId:y?.chainId});return!p&&!_&&!d||i===0?null:ne.default.createElement(ne.default.Fragment,null,_&&ne.default.createElement(yt,{tx:e,visible:i===1,onConfirm:n,onClose:s,signInfo:N}),p&&ne.default.createElement(qt,{tx:e,loading:h,visible:i===2,onConfirm:n,onClose:s,signInfo:N}),d&&ne.default.createElement(yt,{tx:e,visible:i===3,onConfirm:n,onClose:s,repeatTxType:3,signInfo:N}))},Xo=(0,ne.memo)(ji);t();o();var Ge=r(x());var Xi=({top:e=24,buttonText:i="",onButtonClick:n,description:s})=>Ge.default.createElement("div",{style:{paddingTop:e}},Ge.default.createElement($t.State,{type:$t.State.TYPE.noRecord,title:null,description:s,buttonText:i,onButtonClick:n})),qo=(0,Ge.memo)(Xi);t();o();var Tt=r(x()),Qo=r(I()),K=r(Ce());var Qt=({children:e,assets:i,align:n})=>{let s=i.length>2?Pe.center:Pe.top,a=(n||s)===Pe.center?"tx-history-list-row-center":"",p=(0,Qo.default)("tx-history-list-row",a);return Tt.default.createElement("div",{className:p},e)};Qt.propTypes={children:K.default.node,assets:K.default.arrayOf(K.default.shape({direction:K.default.number,coinAmount:K.default.oneOfType([K.default.number,K.default.string]),symbol:K.default.string})),align:K.default.string};Qt.defaultProps={children:null,assets:[],align:""};var Ro=(0,Tt.memo)(Qt);t();o();var H=r(x()),re=r(Ce()),ei=r(I());var Rt=({className:e,icons:i,title:n,details:s,label:l,data:a})=>{let p=(0,ei.default)(e,"tx-history__info"),_=(0,H.useMemo)(()=>a?.txStatus===st.PENDING&&a?.isShowPending,[a]);return H.default.createElement("div",{className:p},H.default.createElement(Bo,{srcset:i}),H.default.createElement("div",{className:"tx-history__info-main"},H.default.createElement("div",{className:"tx-history__info-main-top"},H.default.createElement("div",{className:_?"tx-history__info-main-top-pending":"tx-history__info-main-top-title"},n),l),H.default.createElement("div",{className:"tx-history__info-main-details"},s.map((d,y)=>H.default.createElement("div",{className:"tx-history__info-main-details-detail",key:y},d)))))};Rt.propTypes={className:re.default.string,icons:re.default.array,title:re.default.string,details:re.default.arrayOf(re.default.string),label:re.default.node,data:re.default.object};Rt.defaultProps={className:"",icons:[],title:"",details:[],label:null,data:{}};var ti=H.default.memo(Rt);t();o();var Ee=r(x()),Q=r(Ce()),Nt=r(I());ot();A();t();o();var ae=r(x()),Z=r(Ce()),oi=(0,ae.memo)(({className:e,prefix:i,coinAmount:n,symbol:s})=>{let l=`${i}${n} ${s}`;return ae.default.createElement("div",{className:e},l," ")}),le=(0,ae.memo)(e=>ae.default.createElement(oi,{...e,prefix:e.coinAmount===""?"":"+"}));le.propTypes={className:Z.default.string,coinAmount:Z.default.oneOfType([Z.default.number,Z.default.string]),symbol:Z.default.string};le.defaultProps={className:"",coinAmount:"",symbol:""};var me=(0,ae.memo)(e=>ae.default.createElement(oi,{...e,prefix:e.coinAmount===""?"":"-"}));me.propTypes={className:Z.default.string,coinAmount:Z.default.oneOfType([Z.default.number,Z.default.string]),symbol:Z.default.string};me.defaultProps={className:"",coinAmount:"",symbol:""};t();o();var qi=({className:e})=>Ee.default.createElement("div",{type:xe.TYPE.danger,size:xe.SIZE.xs,className:(0,Nt.default)("tx-history__valueless-nft",e),align:xe.ALIGN.right},c("wallet_extension_history_text_risky_transfer")),eo=({className:e,assets:i,isValuelessNftTxType:n=!1})=>{let s=(0,Nt.default)(e,"tx-history__assets"),l="tx-history__assets-asset-sm",a="tx-history__assets-asset-md",p="tx-history__assets-asset-green800",_="tx-history__assets-asset-gray900",d="tx-history__assets-asset-gray400",y=i.length===1?i.map(b=>{let k=b.direction===$.IN?p:_,j=b.direction===$.IN?le:me;return{...b,className:`${a} ${k}`,Comp:j}}):i.map(b=>{let k=b.direction===$.IN?a:l,j=b.direction===$.IN?p:d,de=b.direction===$.IN?le:me;return{...b,className:`${k} ${j}`,Comp:de}}),[h,...N]=y.filter(b=>b.coinAmount!==null),oe=[h,n?{Comp:qi}:void 0,...N].filter(Boolean);return Ee.default.createElement("div",{className:s},oe.map((b,k)=>{let{Comp:j,className:de,...Te}=b,ie=(0,Nt.default)("tx-history__assets-asset",de);return Ee.default.createElement(j,{key:k,className:ie,...Te})}))};eo.propTypes={className:Q.default.string,assets:Q.default.arrayOf(Q.default.shape({direction:Q.default.number,coinAmount:Q.default.oneOfType([Q.default.number,Q.default.string]),symbol:Q.default.string}))};eo.defaultProps={className:"",assets:[]};var ii=(0,Ee.memo)(eo);t();o();var Ct=r(x()),Qi=({children:e})=>Ct.default.createElement("div",{className:"tx-history__date"},e),si=(0,Ct.memo)(Qi);t();o();var ce=r(x());var ni=r(I());var Ri=({type:e,text:i,isPurePending:n})=>e===se.FAILED?ce.default.createElement(No,{iconName:"okx-wallet-plugin-failed",size:we.SIZE.sm,className:"status-tag"},i):e===se.PENDING&&n?ce.default.createElement(W,{className:"okx-wallet-plugin-pending tx-history-label-image-purepending"}):e===se.PENDING?ce.default.createElement(Io,{iconName:"okx-wallet-plugin-pending",iconClassName:"tx-history-label-image",className:"status-tag",size:we.SIZE.sm},i):e===se.WAITING?ce.default.createElement(Co,{iconName:"okx-wallet-plugin-clock",size:we.SIZE.sm,className:"status-tag"},i):e===se.CANCELED?ce.default.createElement(To,{iconName:"okx-wallet-plugin-failed",size:we.SIZE.sm,className:"status-tag"},i):"",ri=({className:e,type:i=se.PENDING,text:n,data:s})=>{let l="tx-history-label",a=s?.txStatus===st.PENDING&&s?.isShowPending&&(s?.repeatTxType===be.CONFIRMING||s.txType===V.GAS_STATION||s.txType===V.DEX_CROSS_CHAIN_SWAP),p=(0,ni.default)(l,a?`${l}-purePending`:`${l}-${i}`,e);return ce.default.createElement("div",{className:p},ce.default.createElement(Ri,{type:i,text:n,isPurePending:a}))};ri.TYPE=se;var ai=ri;t();o();var ve=r(x()),It=r(I());A();var es=(e=[])=>e.length===1||e.length===2?"tx-history-nfts__image-container-size136":"tx-history-nfts__image-container-size86",ts=({className:e,data:i})=>{let{nftImageUrls:n}=i,s=(n||[]).slice(0,6),l=wo({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});if(s.length===0)return null;let a=(0,It.default)("tx-history-nfts__container",e),p=es(s),_=(0,It.default)("tx-history-nfts__image-container",p),d=y=>(0,It.default)("tx-history-nfts__image",{"tx-history-nfts__image-border":y===5});return ve.default.createElement("div",{className:a},s.map((y,h)=>ve.default.createElement("div",{key:h,className:_},ve.default.createElement(Ho,{startStatus:!0,src:y,backupImage:l,classnames:d(h)}),h===5?ve.default.createElement("div",{className:"tx-history-nfts__image-shade"},c("wallet_extension_history_list_text_more")):null)))},li=(0,ve.memo)(ts);t();o();var J=r(x());A();var to=({onClick:e,children:i})=>J.default.createElement(g,{className:"tx-history-actions-button",category:g.CATEGORY.outline,type:g.TYPE.primary,size:g.SIZE.xs,onClick:e},i),os=({data:e={},onRepeat:i})=>{let{coinId:n}=e,{baseCoin:s}=Fo(n,!0),{pendingToastInfo:l,isShowSpeedUp:a,isShowCancel:p,isShowSpeedupCancel:_}=e;if(s.coinId===1||!l&&!a&&!p&&!_)return null;let d=()=>!a&&!p&&!_?null:J.default.createElement("div",{className:"tx-history-actions-buttons-container"},p&&J.default.createElement(to,{onClick:y=>{y.stopPropagation(),i(1)}},c("wallet_extension_history_list_status_btn_cancel_transaction")),a&&J.default.createElement(to,{onClick:y=>{y.stopPropagation(),i(2)}},c("wallet_extension_history_list_status_btn_speed_up")),_&&J.default.createElement(to,{onClick:y=>{y.stopPropagation(),i(3)}},c("wallet_extension_history_list_status_btn_speed_up_cancellation")));return J.default.createElement("div",{className:"tx-history-actions"},l?J.default.createElement("div",{className:"tx-history-actions-pending"},c("wallet_extension_card_toast_pending_transaction_speedup",{pendingTips:1})):null,d())},mi=(0,J.memo)(os);t();o();var bt=r(x()),ci=r(I()),is=({children:e,className:i,onClick:n})=>{let s=(0,ci.default)("tx-history-item-container",i);return bt.default.createElement("div",{className:s,onClick:n},e)},pi=(0,bt.memo)(is);t();o();var Pt=r(x()),ss=({children:e})=>Pt.default.createElement("div",{className:"tx-history-list"},e),_i=(0,Pt.memo)(ss);t();o();var Et=r(x()),di=r(I()),ns=({className:e,style:i,children:n,onContainer:s})=>{let l=(0,di.default)("tx-history-list-container",e);return Et.default.createElement("div",{className:l,style:i,ref:s},n)},ui=(0,Et.memo)(ns);t();o();var Y=r(x());A();t();o();var rs=(0,Y.memo)(e=>{let{showPopup:i}=e;return Y.default.createElement("div",{className:"date-range-selection__time"},c("wallet_extension_history_dropdown_time"),Y.default.createElement(Zo,{flip:i}))});function as({className:e,dates:i,onChange:n,customMinDate:s,mainCoinId:l,setDate:a}){let p=co.subtract(3,"M"),[_,d]=(0,Y.useState)(p),[y,h]=(0,Y.useState)(new Date);return(0,Y.useEffect)(()=>{s&&d(s)},[s,l]),Y.default.createElement(vo.RangePicker,{className:e,inputClassNames:["date-range-selection__input","date-range-selection__input"],customReference:rs,value:i,min:_,max:y,dialogProps:{maskClosable:!0,subTitle:c("wallet_extension_history_desc_select_range")},onOpenChange:N=>{N&&(d(s||p),h(new Date))},onChange:(N,F)=>{n(N,F)},onReset:()=>{a([s||p,new Date])}})}var fi=as;t();o();var oo=r(x()),io=r(I());function ls({className:e,tabs:i,value:n,onSelect:s}){return oo.default.createElement("div",{className:(0,io.default)("tx-history__tabs",e)},i.map(({text:l,value:a})=>oo.default.createElement("div",{className:(0,io.default)("tx-history__tabs-option",{"tx-history__tabs-option--selected":n===a}),key:a,onClick:()=>{s(a)}},l)))}var gi=ls;t();o();var w=r(x());A();function ms({initLoading:e,visible:i,onConfirm:n,loading:s,onClose:l,oldGasFeeDisplay:a,oldGasDetailDisplay:p,newGasFeeDisplay:_,newGasDetailDisplay:d}){return w.default.createElement(Ie.Prompt,{showLoading:e,visible:i,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:n,confirmLoading:s,onClose:()=>{l&&l()},confirmText:c("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg},renderContent:y=>w.default.createElement(y,null,w.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},c("wallet_extension_popup_title_speedup_transaction")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},c("wallet_extension_popup_speedup_transaction_desc")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},c("wallet_extension_popup_speedup_transaction_before")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail"},a),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},p)),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},c("wallet_extension_popup_speedup_transaction_after")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail--speed"},_),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},d)))})}var xi=ms;t();o();var R=r(x());A();function cs({visible:e,onConfirm:i,loading:n,onClose:s,chainSymbol:l,newGasFeeDisplay:a,newGasDetailDisplay:p}){return R.default.createElement(Ie.Prompt,{visible:e,className:"ethereum-tx-cancel-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:i,confirmLoading:n,onClose:()=>{s&&s()},confirmText:c("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg},renderContent:_=>R.default.createElement(_,null,R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__title"},c("wallet_extension_popup_title_cancle_transaction")),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__subtitle"},c("wallet_extension_popup_cancle_transaction_desc",{symbol:l})),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__description"},c("wallet_extension_popup_cancle_transaction_desc2")),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee"},R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__fee-detail"},a),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__gas-detail"},p)))})}var yi=cs;t();o();var hi=r(x()),vi=r(I());t();o();function ps({className:e,children:i}){return hi.default.createElement("div",{className:(0,vi.default)("tx-page-container",e)},i)}var Ti=ps;t();o();var Ni=r(x()),Ci=r(I());function _s({className:e,children:i}){return Ni.default.createElement("div",{className:(0,Ci.default)("tx-filter-container",e)},i)}var Ii=_s;t();o();var Dt=r(x());t();o();A();var ds=()=>Dt.default.createElement("div",{className:"tx-pending__text"},c("wallet_extension_history_tab_pending")),bi=(0,Dt.memo)(ds);t();o();var Be=r(x()),so=r(I()),te=r(Ce());ot();t();o();var ee={assetContainer:"_assetContainer_1uvgf_1",baseAsset:"_baseAsset_1uvgf_5",mt2:"_mt2_1uvgf_11",titleSize:"_titleSize_1uvgf_14",titleColorIn:"_titleColorIn_1uvgf_19",titleColorOut:"_titleColorOut_1uvgf_22",subtitleSize:"_subtitleSize_1uvgf_25",subtitleColor:"_subtitleColor_1uvgf_29"};var no=({className:e,assets:i})=>{let n=i.map((s,l)=>{if(l===0){let d=ee.titleSize,y=s.direction===$.IN?ee.titleColorIn:ee.titleColorOut,h=s.direction===$.IN?le:me;return{...s,className:`${d} ${y}`,Comp:h}}let a=ee.subtitleSize,p=ee.subtitleColor,_=s.direction===$.IN?le:me;return{...s,className:`${ee.mt2} ${a} ${p}`,Comp:_}});return Be.default.createElement("div",{className:(0,so.default)(e,ee.assetContainer)},n.map((s,l)=>{let{Comp:a,className:p,..._}=s,d=(0,so.default)(ee.baseAsset,p);return s.coinAmount===null?null:Be.default.createElement(a,{key:l,className:d,..._})}))};no.propTypes={className:te.default.string,assets:te.default.arrayOf(te.default.shape({direction:te.default.number,coinAmount:te.default.oneOfType([te.default.number,te.default.string]),symbol:te.default.string}))};no.defaultProps={className:"",assets:[]};var Pi=(0,Be.memo)(no);t();o();var Oe=r(x()),Di=r(I());t();o();var Ei={"tx-history-loading":"_tx-history-loading_ca289_1",txHistoryLoading:"_tx-history-loading_ca289_1"};var us=({top:e=24,className:i})=>Oe.default.createElement("div",{className:(0,Di.default)(Ei.txHistoryLoading,i),style:{paddingTop:e}},Oe.default.createElement(ho,null)),Ai=(0,Oe.memo)(us);var Nm={Dialogs:Xo,Empty:qo,Row:Ro,Info:ti,Assets:ii,Date:si,Label:ai,NFTs:li,Actions:mi,ItemContainer:pi,List:_i,ListContainer:ui,DateRangeSelection:fi,FilterTabs:gi,EthereumTxSpeedDialogBase:xi,EthereumTxCancelDialogBase:yi,PageContainer:Ti,FilterContainer:Ii,PendingTag:bi,CoinAssets:Pi,Loading:Ai};t();o();var Li=r(x());t();o();var wi={root:"_root_1fewt_1"};function fs({message:e}){return e?Li.default.createElement("div",{className:wi.root},e):null}var gs=fs;t();o();t();o();var At=r(x()),Bm=r(I());function xs({label:e,value:i,style:n}){return At.default.createElement("div",{className:"tx-detail-info__one",style:n},At.default.createElement("div",{className:"tx-detail-info__label"},e),At.default.createElement("div",{className:"tx-detail-info__value"},i))}var ze=xs;t();o();var pe=r(x()),Si=r(I()),He=r(Ce());A();function ro({className:e,label:i,value:n,message:s,tag:l,addressStyle:a}){let[p,_]=Yo(),d=()=>{p||(_(n),Qe.success({title:s||c("wallet_receive_toast_address_copied"),desc:pe.default.createElement("div",{className:"tx-clipboard__message"},n)}))};return pe.default.createElement("div",{className:(0,Si.default)("tx-clipboard",e)},pe.default.createElement("div",{className:"tx-clipboard__inner"},pe.default.createElement("div",{className:"tx-clipboard__inner-wrap",style:a},i,l&&pe.default.createElement("div",{className:"tx-clipboard__tag"},l)),pe.default.createElement("div",{className:"tx-clipboard__icon",onClick:d},pe.default.createElement(W,{className:"okx-wallet-plugin-copy-1"}))))}var ys=ro;ro.propTypes={label:He.default.any,value:He.default.string,message:He.default.string,className:He.default.string};ro.defaultProps={label:"",value:"",className:"",message:""};t();o();var Fi=r(I()),Ze=r(x());t();o();var wt={"tx-detail-info__status":"_tx-detail-info__status_y51gk_1",txDetailInfoStatus:"_tx-detail-info__status_y51gk_1","tx-detail-info__status__icon":"_tx-detail-info__status__icon_y51gk_8",txDetailInfoStatusIcon:"_tx-detail-info__status__icon_y51gk_8","tx-detail-info__status__icon--loading":"_tx-detail-info__status__icon--loading_y51gk_11",txDetailInfoStatusIconLoading:"_tx-detail-info__status__icon--loading_y51gk_11",spin:"_spin_y51gk_1"};var Lt={SUCCESS:1,PENDING:2,WAITING:3,FAILED:4};function ki({label:e,status:i,statusText:n}){let s,l,a=!1;return i===Lt.SUCCESS?(s="okx-wallet-plugin-completed",l="var(--okd-color-semantic-positive)"):i===Lt.PENDING?(s="okx-wallet-plugin-pending",l="var(--okd-color-semantic-notice)",a=!0):i===Lt.WAITING?(s="okx-wallet-plugin-clock",l="var(--okd-color-content-disabled)"):(s="okx-wallet-plugin-failed",l="var(--okd-color-semantic-negative)"),Ze.default.createElement(ze,{label:e,value:Ze.default.createElement("div",{className:wt["tx-detail-info__status"],style:{color:l}},Ze.default.createElement(W,{className:(0,Fi.default)(s,wt["tx-detail-info__status__icon"],{[wt["tx-detail-info__status__icon--loading"]]:a})}),Ze.default.createElement("span",null,n))})}ki.TxStatusInfoEnum=Lt;var hs=ki;t();o();var Ye=r(x());function vs({label:e,value:i,tip:n}){return Ye.default.createElement(Ye.default.Fragment,null,Ye.default.createElement(ze,{label:e,value:i}),n&&Ye.default.createElement("div",{className:"tx-detail-info__gas-fee"},n))}var Ts=vs;t();o();var St=r(x()),Gi=r(I());function Ns({url:e,text:i}){return e?St.default.createElement("div",{className:"tx-detail-action__link",onClick:()=>{globalThis.platform.openTab({url:e})}},St.default.createElement("span",{className:"tx-detail-action__link-text"},i,St.default.createElement(W,{className:(0,Gi.default)("okx-wallet-plugin-open-link","tx-detail-action__link-icon")}))):null}var Cs=Ns;t();o();var _e=r(x());A();t();o();var ao={"cancel-btn":"_cancel-btn_wmkbd_1",cancelBtn:"_cancel-btn_wmkbd_1","speed-up-btn":"_speed-up-btn_wmkbd_7",speedUpBtn:"_speed-up-btn_wmkbd_7"};function Is({isShowCancel:e,isShowSpeedUp:i,isShowSpeedupCancel:n,showCloseTransaction:s,showTxRepeatBroadcast:l,canAccelerateBtcTx:a,onCancel:p,onSpeedUp:_,onClose:d,onRepeat:y,onBtcSpeedUp:h,isLoading:N}){return!e&&!i&&!n&&!s&&!l&&!a?null:_e.default.createElement(Lo.FooterActions,null,e&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.gray,size:g.SIZE.md,className:ao.cancelBtn,onClick:p},c("wallet_extension_history_list_status_btn_cancel_transaction")),i&&_e.default.createElement(g,{className:ao.speedUpBtn,category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:_},c("wallet_extension_history_list_status_btn_speed_up")),n&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:p},c("wallet_extension_history_list_status_btn_speed_up_cancellation")),s&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.gray,size:g.SIZE.md,block:!0,onClick:d},c("extension_defi_bot_btn_release_utxo")),l&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:y},c("extension_defi_bot_btn_rebroadcast")),a&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,loading:N,onClick:h},c("wallet_extension_history_list_status_btn_speed_up")))}var bs=Is;t();o();var De=r(x());t();o();var Ft={"retina-border-basic":"_retina-border-basic_17ymf_1",retinaBorderBasic:"_retina-border-basic_17ymf_1","tx-detail-info":"_tx-detail-info_17ymf_29",txDetailInfo:"_tx-detail-info_17ymf_29","tx-detail-item":"_tx-detail-item_17ymf_36",txDetailItem:"_tx-detail-item_17ymf_36","tx-detail-item__label":"_tx-detail-item__label_17ymf_81",txDetailItemLabel:"_tx-detail-item__label_17ymf_81","tx-detail-item__value":"_tx-detail-item__value_17ymf_86",txDetailItemValue:"_tx-detail-item__value_17ymf_86"};function Ps({label:e,value:i,style:n,tips:s}){return De.default.createElement("div",{className:Ft["tx-detail-item"],style:n},De.default.createElement("div",{className:Ft["tx-detail-item__label"]},e,s&&De.default.createElement(qe,{title:s,placement:qe.DIRECTION.top,trigger:qe.TRIGGER_TYPES.hover},De.default.createElement(W,{className:"okds-information-circle",style:{fontSize:"14px",color:"var(--okd-color-content-contrast)"}}))),De.default.createElement("div",{className:Ft["tx-detail-item__value"]},i))}var Es=Ps;t();o();var lo=r(x());A();Oi();function qc(e,i){return(0,lo.useMemo)(()=>e.filter(Boolean).length===0&&i.length===1?Pe.center:"",[e,i])}var Qc=(e,i,n={})=>(0,lo.useMemo)(()=>{if(!e)return"";let s=Vt[e]||Vt[V.CONTRACTCALL],{symbol:l,collection:a}=i;if(e===V.AUTHORIZATION||e===V.CANCEL_AUTHORIZATION)return c(s,{symbol:l});if(e===V.ZK_REGISTER){let{mainCoinId:p}=n,d={[po]:"wallet_extension_history_text_register_tab",[_o]:"wallet_history_text_register_zksync_lite"}[p];return d?c(d):""}else{if(e===V.NFT_AUTHORIZATION&&a)return c("wallet_extension_toast_approve_collection",{collection:a});if(e===V.NFT_CANCEL_AUTHORIZATION&&a)return c("wallet_extension_history_list_revoke_asset",{approvedasset:a})}return c(s)},[c,e,i,n]);export{ut as a,yt as b,qt as c,Nm as d,ze as e,ys as f,hs as g,Ts as h,Cs as i,bs as j,gs as k,Es as l,qc as m,Qc as n};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-OZBIAJIW.js.map

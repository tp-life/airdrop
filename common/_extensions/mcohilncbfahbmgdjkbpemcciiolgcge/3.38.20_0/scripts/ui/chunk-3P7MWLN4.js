import{a as He,b as ee,c as _r,d as H}from"./chunk-PTKQOYRE.js";import{a as os}from"./chunk-IFPA53E4.js";import{a as as}from"./chunk-RTOXOPRM.js";import{c as p,m as o,n as h,o as c}from"./chunk-UGZFXKPB.js";var ge=p(S=>{"use strict";o();c();Object.defineProperty(S,"__esModule",{value:!0});S.accountClassHash=S.ProxyAccountClassHash=S.ETHBridge=S.ETH=S.UDC=S.TransactionHashPrefix=S.StarknetChainId=S.NetworkName=S.API_VERSION=S.MASK_251=S.MASK_250=S.ZERO=void 0;S.ZERO=0n;S.MASK_250=2n**250n-1n;S.MASK_251=2n**251n;S.API_VERSION=S.ZERO;var cs;(function(e){e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e.SN_GOERLI2="SN_GOERLI2"})(cs=S.NetworkName||(S.NetworkName={}));var us;(function(e){e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e.SN_GOERLI2="0x534e5f474f45524c4932",e.SN_SEPOLIA="0x534e5f5345504f4c4941"})(us=S.StarknetChainId||(S.StarknetChainId={}));var ls;(function(e){e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572"})(ls=S.TransactionHashPrefix||(S.TransactionHashPrefix={}));S.UDC={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"};S.ETH="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";S.ETHBridge="0x073314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82";S.ProxyAccountClassHash="0x3530cc4759d78042f1b543bf797f5f3d647cde0388c33734cf91b7f7b9314a9";S.accountClassHash="0x309c042d3729173c7f2f91a34f04d8c509c1b292d334679ef1aabf8da0899cc"});var mr=p(We=>{"use strict";o();c();Object.defineProperty(We,"__esModule",{value:!0});We.SignerInterface=void 0;var xt=class{};We.SignerInterface=xt});var te=p(Xe=>{"use strict";o();c();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.starkCurve=void 0;var ds=He();Xe.starkCurve=ds.signUtil.schnorr.stark});var X=p(O=>{"use strict";o();c();Object.defineProperty(O,"__esModule",{value:!0});O.decodeShortString=O.encodeShortString=O.splitLongString=O.isLongText=O.isShortText=O.isText=O.isDecimalString=O.isShortString=O.isASCII=void 0;var br=ee(),Ht=H(),Cr=31;function It(e){return/^[\x00-\x7F]*$/.test(e)}O.isASCII=It;function Ye(e){return e.length<=Cr}O.isShortString=Ye;function Sr(e){return/^[0-9]*$/i.test(e)}O.isDecimalString=Sr;function Dt(e){return typeof e=="string"&&!(0,Ht.isHex)(e)&&!(0,Ht.isStringWholeNumber)(e)}O.isText=Dt;var fs=e=>Dt(e)&&Ye(e);O.isShortText=fs;var gs=e=>Dt(e)&&!Ye(e);O.isLongText=gs;function hs(e){let t=RegExp(`[^]{1,${Cr}}`,"g");return e.match(t)||[]}O.splitLongString=hs;function ps(e){if(!It(e))throw new Error(`${e} is not an ASCII string`);if(!Ye(e))throw new Error(`${e} is too long`);return(0,br.addHexPrefix)(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}O.encodeShortString=ps;function Ar(e){if(!It(e))throw new Error(`${e} is not an ASCII string`);if((0,Ht.isHex)(e))return(0,br.removeHexPrefix)(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(Sr(e))return Ar("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}O.decodeShortString=Ar});var Mt=p(q=>{"use strict";o();c();Object.defineProperty(q,"__esModule",{value:!0});q.bnToUint256=q.isUint256=q.UINT_256_MAX=q.UINT_128_MAX=q.uint256ToBN=void 0;var Tr=ee(),Je=H();function ys(e){return((0,Je.toBigInt)(e.high)<<128n)+(0,Je.toBigInt)(e.low)}q.uint256ToBN=ys;q.UINT_128_MAX=(1n<<128n)-1n;q.UINT_256_MAX=(1n<<256n)-1n;function Er(e){return(0,Je.toBigInt)(e)<=q.UINT_256_MAX}q.isUint256=Er;function _s(e){let t=(0,Je.toBigInt)(e);if(!Er(t))throw new Error("Number is too large");return{low:(0,Tr.addHexPrefix)((t&q.UINT_128_MAX).toString(16)),high:(0,Tr.addHexPrefix)((t>>128n).toString(16))}}q.bnToUint256=_s});var ce=p(E=>{"use strict";o();c();Object.defineProperty(E,"__esModule",{value:!0});E.felt=E.tuple=E.uint256=E.isTypeStruct=E.isTypeNamedTuple=E.isTypeTuple=E.isTypeArray=E.isTypeFeltArray=E.isTypeFelt=E.isLen=void 0;var jt=H(),qt=X(),wr=Mt(),ms=e=>/_len$/.test(e);E.isLen=ms;var bs=e=>e==="felt";E.isTypeFelt=bs;var Cs=e=>e==="felt*";E.isTypeFeltArray=Cs;var Ss=e=>/\*/.test(e);E.isTypeArray=Ss;var As=e=>/^\(.*\)$/i.test(e);E.isTypeTuple=As;var Ts=e=>/\(.*\)/i.test(e)&&e.includes(":");E.isTypeNamedTuple=Ts;var Es=(e,t)=>e in t;E.isTypeStruct=Es;var ws=e=>{let t=BigInt(e);if(!(0,wr.isUint256)(t))throw new Error("Number is too large");return{low:(t&wr.UINT_128_MAX).toString(10),high:(t>>128n).toString(10)}};E.uint256=ws;var Os=(...e)=>({...e});E.tuple=Os;function vs(e){if((0,jt.isBigInt)(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if((0,qt.isText)(e)){if(!(0,qt.isShortString)(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);let t=(0,qt.encodeShortString)(e);return BigInt(t).toString()}if(typeof e=="string"&&(0,jt.isHex)(e))return BigInt(e).toString();if(typeof e=="string"&&(0,jt.isStringWholeNumber)(e))return e;throw new Error(`${e} can't be computed by felt()`)}E.felt=vs});var Ie=p(N=>{"use strict";o();c();Object.defineProperty(N,"__esModule",{value:!0});N.extractSignificantDigits=N.toSafeNumberOrThrow=N.getUnsafeNumberReason=N.UnsafeNumberReason=N.isSafeNumber=N.isNumber=N.isInteger=void 0;function Bt(e){return Ps.test(e)}N.isInteger=Bt;var Ps=/^-?[0-9]+$/;function Ns(e){return xs.test(e)}N.isNumber=Ns;var xs=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Or(e,t){let r=parseFloat(e),n=String(r),s=Lt(e),i=Lt(n);return!!(s===i||t?.approx===!0&&!Bt(e)&&i.length>=14&&s.startsWith(i.substring(0,14)))}N.isSafeNumber=Or;var he;(function(e){e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float"})(he=N.UnsafeNumberReason||(N.UnsafeNumberReason={}));function vr(e){if(Or(e,{approx:!1}))return;if(Bt(e))return he.truncate_integer;let t=parseFloat(e);return isFinite(t)?t===0?he.underflow:he.truncate_float:he.overflow}N.getUnsafeNumberReason=vr;function Hs(e,t){let r=parseFloat(e),n=vr(e);if(t?.approx===!0?n&&n!==he.truncate_float:n){let s=n.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${s} and become ${r}`)}return r}N.toSafeNumberOrThrow=Hs;function Lt(e){return e.replace(Is,"").replace(Ms,"").replace(js,"").replace(Ds,"")}N.extractSignificantDigits=Lt;var Is=/[eE][+-]?\d+$/,Ds=/^-?(0*)?/,Ms=/\./,js=/0+$/});var ze=p(re=>{"use strict";o();c();Object.defineProperty(re,"__esModule",{value:!0});re.toLosslessNumber=re.isLosslessNumber=re.LosslessNumber=void 0;var De=Ie(),Ze=class{constructor(t){if(this.isLosslessNumber=!0,!(0,De.isNumber)(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}valueOf(){let t=(0,De.getUnsafeNumberReason)(this.value);if(t===void 0||t===De.UnsafeNumberReason.truncate_float)return parseFloat(this.value);if((0,De.isInteger)(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${parseFloat(this.value)}`)}toString(){return this.value}};re.LosslessNumber=Ze;function qs(e){return e&&typeof e=="object"&&e.isLosslessNumber===!0||!1}re.isLosslessNumber=qs;function Ls(e){if((0,De.extractSignificantDigits)(e+"").length>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new Ze(String(e))}re.toLosslessNumber=Ls});var $t=p(pe=>{"use strict";o();c();Object.defineProperty(pe,"__esModule",{value:!0});pe.parseNumberAndBigInt=pe.parseLosslessNumber=void 0;var Bs=ze(),$s=Ie();function Rs(e){return new Bs.LosslessNumber(e)}pe.parseLosslessNumber=Rs;function Fs(e){return(0,$s.isInteger)(e)?BigInt(e):parseFloat(e)}pe.parseNumberAndBigInt=Fs});var Pr=p(Qe=>{"use strict";o();c();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.revive=void 0;var Vs=ze();function Us(e,t){return Rt({"":e},"",e,t)}Qe.revive=Us;function Rt(e,t,r,n){return Array.isArray(r)?n.call(e,t,ks(r,n)):r&&typeof r=="object"&&!(0,Vs.isLosslessNumber)(r)?n.call(e,t,Ks(r,n)):n.call(e,t,r)}function Ks(e,t){return Object.keys(e).forEach(r=>{let n=Rt(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function ks(e,t){for(let r=0;r<e.length;r++)e[r]=Rt(e,r+"",e[r],t);return e}});var Mr=p(A=>{"use strict";o();c();Object.defineProperty(A,"__esModule",{value:!0});A.codeLowercaseF=A.codeUppercaseF=A.codeLowercaseE=A.codeUppercaseE=A.codeLowercaseA=A.codeUppercaseA=A.isDeepEqual=A.isValidStringCharacter=A.parse=void 0;var Gs=$t(),Ws=Pr();function Xs(e,t,r=Gs.parseLosslessNumber){let n=0,s=u();return R(s),oe(),t?(0,Ws.revive)(s,t):s;function i(){if(e.charCodeAt(n)===Qs){n++,l();let _={},w=!0;for(;n<e.length&&e.charCodeAt(n)!==xr;){w?w=!1:(T(),l());let W=n,xe=g();if(xe===void 0)throw new SyntaxError(`Quoted object key expected ${V()}`);l(),P();let Nt=u();Nt===void 0&&ns(),Object.prototype.hasOwnProperty.call(_,xe)&&!rt(Nt,_[xe])&&zn(xe,W+1),_[xe]=Nt}return e.charCodeAt(n)!==xr&&Qn(),n++,_}}function a(){if(e.charCodeAt(n)===ei){n++,l();let _=[],w=!0;for(;n<e.length&&e.charCodeAt(n)!==Hr;){w?w=!1:T();let W=u();F(W),_.push(W)}return e.charCodeAt(n)!==Hr&&es(),n++,_}}function u(){l();let _=g()??m()??i()??a()??f("true",!0)??f("false",!1)??f("null",null);return l(),_}function f(_,w){if(e.slice(n,n+_.length)===_)return n+=_.length,w}function l(){for(;Ys(e.charCodeAt(n));)n++}function g(){if(e.charCodeAt(n)===Ft){n++;let _="";for(;n<e.length&&e.charCodeAt(n)!==Ft;){if(e.charCodeAt(n)===zs){let w=e[n+1],W=Zs[w];W!==void 0?(_+=W,n++):w==="u"?et(e.charCodeAt(n+2))&&et(e.charCodeAt(n+3))&&et(e.charCodeAt(n+4))&&et(e.charCodeAt(n+5))?(_+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):ss(n):rs(n)}else Dr(e.charCodeAt(n))?_+=e[n]:ts(e[n]);n++}return Ge(),n++,_}}function m(){let _=n;if(e.charCodeAt(n)===Ir&&(n++,fe(_)),e.charCodeAt(n)===Vt)n++;else if(Js(e.charCodeAt(n)))for(n++;tt(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===ci)for(n++,fe(_);tt(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===A.codeLowercaseE||e.charCodeAt(n)===A.codeUppercaseE)for(n++,(e.charCodeAt(n)===Ir||e.charCodeAt(n)===ii)&&n++,fe(_);tt(e.charCodeAt(n));)n++;if(n>_)return r(e.slice(_,n))}function T(){if(e.charCodeAt(n)!==oi)throw new SyntaxError(`Comma ',' expected after value ${V()}`);n++}function P(){if(e.charCodeAt(n)!==ui)throw new SyntaxError(`Colon ':' expected after property name ${V()}`);n++}function R(_){if(_===void 0)throw new SyntaxError(`JSON value expected ${V()}`)}function F(_){if(_===void 0)throw new SyntaxError(`Array item expected ${V()}`)}function oe(){if(n<e.length)throw new SyntaxError(`Expected end of input ${V()}`)}function fe(_){if(!tt(e.charCodeAt(n))){let w=e.slice(_,n);throw new SyntaxError(`Invalid number '${w}', expecting a digit ${V()}`)}}function Ge(){if(e.charCodeAt(n)!==Ft)throw new SyntaxError(`End of string '"' expected ${V()}`)}function Oo(){throw new SyntaxError(`Quoted object key expected ${V()}`)}function zn(_,w){throw new SyntaxError(`Duplicate key '${_}' encountered at position ${w}`)}function Qn(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${V()}`)}function es(){throw new SyntaxError(`Array item or end of array ']' expected ${V()}`)}function ts(_){throw new SyntaxError(`Invalid character '${_}' ${Ne()}`)}function rs(_){let w=e.slice(_,_+2);throw new SyntaxError(`Invalid escape character '${w}' ${Ne()}`)}function ns(){throw new SyntaxError(`Object value expected after ':' ${Ne()}`)}function ss(_){let w=_+2;for(;/\w/.test(e[w]);)w++;let W=e.slice(_,w);throw new SyntaxError(`Invalid unicode character '${W}' ${Ne()}`)}function Ne(){return`at position ${n}`}function is(){return n<e.length?`but got '${e[n]}'`:"but reached end of input"}function V(){return is()+" "+Ne()}}A.parse=Xs;function Ys(e){return e===ti||e===ri||e===ni||e===si}function et(e){return e>=Vt&&e<=Ut||e>=A.codeUppercaseA&&e<=A.codeUppercaseF||e>=A.codeLowercaseA&&e<=A.codeLowercaseF}function tt(e){return e>=Vt&&e<=Ut}function Js(e){return e>=ai&&e<=Ut}function Dr(e){return e>=32&&e<=1114111}A.isValidStringCharacter=Dr;function rt(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((r,n)=>rt(r,t[n])):Nr(e)&&Nr(t)?[...new Set([...Object.keys(e),...Object.keys(t)])].every(n=>rt(e[n],t[n])):!1}A.isDeepEqual=rt;function Nr(e){return typeof e=="object"&&e!==null}var Zs={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},zs=92,Qs=123,xr=125,ei=91,Hr=93,ti=32,ri=10,ni=9,si=13,Ft=34,ii=43,Ir=45,Vt=48,ai=49,Ut=57,oi=44,ci=46,ui=58;A.codeUppercaseA=65;A.codeLowercaseA=97;A.codeUppercaseE=69;A.codeLowercaseE=101;A.codeUppercaseF=70;A.codeLowercaseF=102});var qr=p(nt=>{"use strict";o();c();Object.defineProperty(nt,"__esModule",{value:!0});nt.stringify=void 0;var li=Ie();function jr(e,t,r,n){let s=di(r),i=typeof t=="function"?t.call({"":e},"",e):e;return a(i,"");function a(g,m){if(Array.isArray(n)){let T=n.find(P=>P.test(g));if(T){let P=T.stringify(g);if(typeof P!="string"||!(0,li.isNumber)(P))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${P})`);return P}}if(typeof g=="boolean"||typeof g=="number"||typeof g=="string"||g===null||g instanceof Date||g instanceof Boolean||g instanceof Number||g instanceof String)return JSON.stringify(g);if(g&&g.isLosslessNumber||typeof g=="bigint")return g.toString();if(Array.isArray(g))return u(g,m);if(g&&typeof g=="object")return f(g,m)}function u(g,m){if(g.length===0)return"[]";let T=s?m+s:void 0,P=s?`[
`:"[";for(let R=0;R<g.length;R++){let F=typeof t=="function"?t.call(g,String(R),g[R]):g[R];s&&(P+=T),typeof F<"u"&&typeof F!="function"?P+=a(F,T):P+="null",R<g.length-1&&(P+=s?`,
`:",")}return P+=s?`
`+m+"]":"]",P}function f(g,m){if(typeof g.toJSON=="function")return jr(g.toJSON(),t,r,void 0);let T=Array.isArray(t)?t.map(String):Object.keys(g);if(T.length===0)return"{}";let P=s?m+s:void 0,R=!0,F=s?`{
`:"{";return T.forEach(oe=>{let fe=typeof t=="function"?t.call(g,oe,g[oe]):g[oe];if(l(oe,fe)){R?R=!1:F+=s?`,
`:",";let Ge=JSON.stringify(oe);F+=s?P+Ge+": ":Ge+":",F+=a(fe,P)}}),F+=s?`
`+m+"}":"}",F}function l(g,m){return typeof m<"u"&&typeof m!="function"&&typeof m!="symbol"}}nt.stringify=jr;function di(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}});var Br=p(Lr=>{"use strict";o();c();Object.defineProperty(Lr,"__esModule",{value:!0})});var Rr=p(C=>{"use strict";o();c();var fi=C&&C.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gi=C&&C.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fi(t,e,r)};Object.defineProperty(C,"__esModule",{value:!0});C.getUnsafeNumberReason=C.toSafeNumberOrThrow=C.isSafeNumber=C.isNumber=C.isInteger=C.UnsafeNumberReason=C.parseNumberAndBigInt=C.parseLosslessNumber=C.toLosslessNumber=C.isLosslessNumber=C.LosslessNumber=C.stringify=C.parse=void 0;var hi=Mr();Object.defineProperty(C,"parse",{enumerable:!0,get:function(){return hi.parse}});var pi=qr();Object.defineProperty(C,"stringify",{enumerable:!0,get:function(){return pi.stringify}});var Kt=ze();Object.defineProperty(C,"LosslessNumber",{enumerable:!0,get:function(){return Kt.LosslessNumber}});Object.defineProperty(C,"isLosslessNumber",{enumerable:!0,get:function(){return Kt.isLosslessNumber}});Object.defineProperty(C,"toLosslessNumber",{enumerable:!0,get:function(){return Kt.toLosslessNumber}});var $r=$t();Object.defineProperty(C,"parseLosslessNumber",{enumerable:!0,get:function(){return $r.parseLosslessNumber}});Object.defineProperty(C,"parseNumberAndBigInt",{enumerable:!0,get:function(){return $r.parseNumberAndBigInt}});var ye=Ie();Object.defineProperty(C,"UnsafeNumberReason",{enumerable:!0,get:function(){return ye.UnsafeNumberReason}});Object.defineProperty(C,"isInteger",{enumerable:!0,get:function(){return ye.isInteger}});Object.defineProperty(C,"isNumber",{enumerable:!0,get:function(){return ye.isNumber}});Object.defineProperty(C,"isSafeNumber",{enumerable:!0,get:function(){return ye.isSafeNumber}});Object.defineProperty(C,"toSafeNumberOrThrow",{enumerable:!0,get:function(){return ye.toSafeNumberOrThrow}});Object.defineProperty(C,"getUnsafeNumberReason",{enumerable:!0,get:function(){return ye.getUnsafeNumberReason}});gi(Br(),C)});var st=p(x=>{"use strict";o();c();var yi=x&&x.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_i=x&&x.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mi=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yi(t,e,r);return _i(t,e),t};Object.defineProperty(x,"__esModule",{value:!0});x.stringifyAlwaysAsBig=x.stringify=x.parseAlwaysAsBig=x.parse=void 0;var Me=mi(Rr()),bi=e=>{if(!Me.isInteger(e))return parseFloat(e);let t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},Ci=e=>Me.parse(String(e),void 0,bi);x.parse=Ci;var Si=e=>Me.parse(String(e),void 0,Me.parseNumberAndBigInt);x.parseAlwaysAsBig=Si;var Ai=(...e)=>Me.stringify(...e);x.stringify=Ai;x.stringifyAlwaysAsBig=x.stringify});var k=p(y=>{"use strict";o();c();Object.defineProperty(y,"__esModule",{value:!0});y.computeContractClassHash=y.computeSierraContractClassHash=y.computeCompiledClassHash=y.computeLegacyContractClassHash=y.formatSpaces=y.calculateContractAddressFromHash=y.calculateTransactionHash=y.calculateDeployAccountTransactionHash=y.calculateDeclareTransactionHash=y.calculateDeployTransactionHash=y.calculateTransactionHashCommon=y.computeHashOnElements=y.getSelector=y.getSelectorFromName=y.starknetKeccak=y.keccakBn=y.feeTransactionVersion=y.transactionVersion_2=y.transactionVersion=void 0;var Ti=He(),J=Ti.signUtil.schnorr.stark,_e=ge(),Ei=ce(),Wt=te(),Y=ee(),K=H(),it=X(),at=st();y.transactionVersion=1n;y.transactionVersion_2=2n;y.feeTransactionVersion=2n**128n+y.transactionVersion;function wi(e){let t=(0,Y.removeHexPrefix)((0,K.toHex)(BigInt(e))),r=t.length%2===0?t:`0${t}`;return(0,Y.addHexPrefix)(J.keccak((0,K.hexToBytes)((0,Y.addHexPrefix)(r))).toString(16))}y.keccakBn=wi;function Oi(e){return(0,Y.addHexPrefix)(J.keccak((0,Y.utf8ToArray)(e)).toString(16))}function Fr(e){return BigInt(Oi(e))&_e.MASK_250}y.starknetKeccak=Fr;function Xt(e){return(0,K.toHex)(Fr(e))}y.getSelectorFromName=Xt;function vi(e){return(0,K.isHex)(e)?e:(0,K.isStringWholeNumber)(e)?(0,K.toHexString)(e):Xt(e)}y.getSelector=vi;function U(e){return[...e,e.length].reduce((t,r)=>Wt.starkCurve.pedersen((0,K.toBigInt)(t),(0,K.toBigInt)(r)),0).toString()}y.computeHashOnElements=U;function je(e,t,r,n,s,i,a,u=[]){let f=U(s),l=[e,t,r,n,f,i,a,...u];return U(l)}y.calculateTransactionHashCommon=je;function Pi(e,t,r,n){return je(_e.TransactionHashPrefix.DEPLOY,r,e,Xt("constructor"),t,0,n)}y.calculateDeployTransactionHash=Pi;function Ni(e,t,r,n,s,i,a){return je(_e.TransactionHashPrefix.DECLARE,r,t,0,[e],n,s,[i,...a?[a]:[]])}y.calculateDeclareTransactionHash=Ni;function xi(e,t,r,n,s,i,a,u){let f=[t,n,...r];return je(_e.TransactionHashPrefix.DEPLOY_ACCOUNT,s,e,0,f,i,a,[u])}y.calculateDeployAccountTransactionHash=xi;function Hi(e,t,r,n,s,i){return je(_e.TransactionHashPrefix.INVOKE,t,e,0,r,n,s,[i])}y.calculateTransactionHash=Hi;function Ii(e,t,r,n){let s=U(r),i=(0,Ei.felt)("0x535441524b4e45545f434f4e54524143545f41444452455353");return U([i,n,e,t,s])}y.calculateContractAddressFromHash=Ii;function Di(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function Yt(e){let t=!1,r="";for(let n of e)n==='"'&&r.endsWith("\\")===!1&&(t=!t),t?r+=n:r+=n===":"?": ":n===","?", ":n;return r}y.formatSpaces=Yt;function Vr(e){let{abi:t,program:r}=e,n={abi:t,program:r},s=Yt((0,at.stringify)(n,Di));return(0,Y.addHexPrefix)(Wt.starkCurve.keccak((0,Y.utf8ToArray)(s)).toString(16))}y.default=Vr;function Ur(e){let t=typeof e=="string"?(0,at.parse)(e):e,r=(0,K.toHex)(_e.API_VERSION),n=U(t.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),s=U(t.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),i=U(t.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),a=U(t.program.builtins.map(l=>(0,it.encodeShortString)(l))),u=Vr(t),f=U(t.program.data);return U([r,n,s,i,a,u,f])}y.computeLegacyContractClassHash=Ur;function Mi(e){return J.poseidonHashMany(e.flatMap(t=>BigInt((0,it.encodeShortString)(t))))}function kt(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),Mi(r.builtins)]);return J.poseidonHashMany(t)}function ji(e){let t="COMPILED_CLASS_V1",r=BigInt((0,it.encodeShortString)(t)),n=kt(e.entry_points_by_type.EXTERNAL),s=kt(e.entry_points_by_type.L1_HANDLER),i=kt(e.entry_points_by_type.CONSTRUCTOR),a=J.poseidonHashMany(e.bytecode.map(u=>BigInt(u)));return(0,K.toHex)(J.poseidonHashMany([r,n,s,i,a]))}y.computeCompiledClassHash=ji;function Gt(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return J.poseidonHashMany(t)}function qi(e){let t=Yt((0,at.stringify)(e.abi,void 0));return BigInt((0,Y.addHexPrefix)(Wt.starkCurve.keccak((0,Y.utf8ToArray)(t)).toString(16)))}function Kr(e){let t="CONTRACT_CLASS_V0.1.0",r=BigInt((0,it.encodeShortString)(t)),n=Gt(e.entry_points_by_type.EXTERNAL),s=Gt(e.entry_points_by_type.L1_HANDLER),i=Gt(e.entry_points_by_type.CONSTRUCTOR),a=qi(e),u=J.poseidonHashMany(e.sierra_program.map(f=>BigInt(f)));return(0,K.toHex)(J.poseidonHashMany([r,n,s,i,a,u]))}y.computeSierraContractClassHash=Kr;function Li(e){let t=typeof e=="string"?(0,at.parse)(e):e;return"sierra_program"in t?Kr(t):Ur(t)}y.computeContractClassHash=Li});var kr=p(Zt=>{"use strict";o();c();Object.defineProperty(Zt,"__esModule",{value:!0});var Bi=H(),$i=X(),Jt={isBN:(e,t,r)=>{if(!(0,Bi.isBigInt)(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function ot(e,t,r){return Object.entries(e).reduce((n,[s,i])=>{let a=r??t[s];if(!(s in t)&&!r)return n[s]=i,n;if(a==="string"){if(Array.isArray(e[s])){let u=ot(e[s],e[s].map(f=>a));return n[s]=Object.values(u).join(""),n}return Jt.isBN(e,t,s),n[s]=(0,$i.decodeShortString)(i),n}if(a==="number")return Jt.isBN(e,t,s),n[s]=Number(i),n;if(typeof a=="function")return n[s]=a(i),n;if(Array.isArray(a)){let u=ot(e[s],a,a[0]);return n[s]=Object.values(u),n}return typeof a=="object"?(n[s]=ot(e[s],a),n):(Jt.unknown(e,t,s),n)},{})}Zt.default=ot});var Qt=p(zt=>{"use strict";o();c();Object.defineProperty(zt,"__esModule",{value:!0});var Ri=ce();function Fi(e){let t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function Vi(e){if(!e.includes("("))return{subTuple:[],result:e};let t=[],r="",n=0;for(;n<e.length;){if(e[n]==="("){let s=1,i=n;for(n++;s;)e[n]===")"&&s--,e[n]==="("&&s++,n++;t.push(e.substring(i,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function Ui(e){let t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=Vi(t),s=n.split(",").map(i=>r.length?i.replace(" ",r.shift()):i);return(0,Ri.isTypeNamedTuple)(e)&&(s=s.reduce((i,a)=>i.concat(Fi(a)),[])),s}zt.default=Ui});var Wr=p(me=>{"use strict";o();c();var Ki=me&&me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(me,"__esModule",{value:!0});me.parseCalldataField=void 0;var Gr=X(),Z=ce(),ki=Ki(Qt());function Gi(e,t){let r=(0,ki.default)(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((s,i)=>({element:n[i],type:s.type??s}))}function ct(e,t,r){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Array.isArray(e))throw Error(`Array inside array (nD) are not supported by cairo. Element: ${e} ${t}`);if(r[t]&&r[t].members.length){let{members:n}=r[t],s=e;return n.reduce((i,a)=>i.concat(ct(s[a.name],a.type,r)),[])}if((0,Z.isTypeTuple)(t))return Gi(e,t).reduce((s,i)=>{let a=ct(i.element,i.type,r);return s.concat(a)},[]);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return(0,Z.felt)(e)}function Wi(e,t,r){let{name:n,type:s}=t,{value:i}=e.next();switch(!0){case(0,Z.isTypeArray)(s):if(!Array.isArray(i)&&!(0,Gr.isText)(i))throw Error(`ABI expected parameter ${n} to be array or long string, got ${i}`);typeof i=="string"&&(i=(0,Gr.splitLongString)(i));let a=[];return a.push((0,Z.felt)(i.length)),i.reduce((u,f)=>((0,Z.isTypeFeltArray)(s)?u.push((0,Z.felt)(f)):u.push(...ct(f,s.replace("*",""),r)),u),a);case((0,Z.isTypeStruct)(s,r)||(0,Z.isTypeTuple)(s)):return ct(i,s,r);default:return(0,Z.felt)(i)}}me.parseCalldataField=Wi});var Xr=p(qe=>{"use strict";o();c();var Xi=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});var ut=ce(),Yi=Xi(Qt());function lt(e,t,r){if(t in r&&r[t])return r[t].members.reduce((s,i)=>(s[i.name]=lt(e,i.type,r),s),{});if((0,ut.isTypeTuple)(t))return(0,Yi.default)(t).reduce((i,a,u)=>{let f=a?.name?a.name:u,l=a?.type?a.type:a;return i[f]=lt(e,l,r),i},{});let n=e.next().value;return BigInt(n)}function Ji(e,t,r,n){let{name:s,type:i}=t,a;switch(!0){case(0,ut.isLen)(s):return a=e.next().value,BigInt(a);case(0,ut.isTypeArray)(i):let u=[];if(n&&n[`${s}_len`]){let f=n[`${s}_len`];for(;u.length<f;)u.push(lt(e,t.type.replace("*",""),r))}return u;case(i in r||(0,ut.isTypeTuple)(i)):return lt(e,i,r);default:return a=e.next().value,BigInt(a)}}qe.default=Ji});var zr=p(Be=>{"use strict";o();c();var Zi=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});var Le=Zi(_r()),zi=X(),z=ce(),Yr=(e,t)=>{(0,Le.default)(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${t.name} should be a felt (string, number, BigNumber)`)},Jr=(e,t,r)=>{(0,Le.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as js object (not array)`),r[t.type].members.forEach(({name:n})=>{(0,Le.default)(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},Zr=(e,t)=>{(0,Le.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},Qi=(e,t,r)=>{let n=t.type.replace("*","");if(!((0,z.isTypeFelt)(n)&&(0,zi.isLongText)(e)))switch((0,Le.default)(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),!0){case(0,z.isTypeFelt)(n):e.forEach(s=>Yr(s,t));break;case(0,z.isTypeTuple)(n):e.forEach(s=>Zr(s,{name:t.name,type:n}));break;case(0,z.isTypeStruct)(n,r):e.forEach(s=>Jr(s,{name:t.name,type:n},r));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${e}`)}};function ea(e,t,r){e.inputs.reduce((n,s)=>{let i=t[n];switch(!0){case(0,z.isLen)(s.name):return n;case(0,z.isTypeFelt)(s.type):Yr(i,s);break;case(0,z.isTypeStruct)(s.type,r):Jr(i,s,r);break;case(0,z.isTypeTuple)(s.type):Zr(i,s);break;case(0,z.isTypeArray)(s.type):Qi(i,s,r);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${i}`)}return n+1},0)}Be.default=ea});var Se=p(Ce=>{"use strict";o();c();var ft=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.CallData=void 0;var ta=ft(_r()),ra=H(),Qr=X(),dt=ce(),na=ft(kr()),sa=Wr(),ia=ft(Xr()),aa=ft(zr()),be=class{constructor(t){this.abi=t,this.structs=be.getAbiStruct(t)}validate(t,r,n=[]){if(t!=="DEPLOY"){let a=this.abi.filter(u=>{if(u.type!=="function")return!1;let f=u.stateMutability==="view"||u.state_mutability==="view";return t==="INVOKE"?!f:f}).map(u=>u.name);(0,ta.default)(a.includes(r),`${t==="INVOKE"?"invocable":"viewable"} method not found in abi`)}let s=this.abi.find(a=>t==="DEPLOY"?a.name===r&&a.type===r:a.name===r&&a.type==="function"),i=be.abiInputsLength(s.inputs);if(n.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${n.length}`);(0,aa.default)(s,n,this.structs)}compile(t,r){let n=t[Symbol.iterator]();return r.reduce((s,i)=>(0,dt.isLen)(i.name)?s:s.concat((0,sa.parseCalldataField)(n,i,this.structs)),[])}static compile(t){let r=s=>{let i=(a,u="")=>{let f=Array.isArray(a)?[a.length.toString(),...a]:a;return Object.entries(f).flatMap(([l,g])=>{let m=g;(0,Qr.isLongText)(m)&&(m=(0,Qr.splitLongString)(m));let T=Array.isArray(f)&&l==="0"?"$$len":l;return(0,ra.isBigInt)(m)?[[`${u}${T}`,(0,dt.felt)(m)]]:Object(m)===m?i(m,`${u}${T}.`):[[`${u}${T}`,(0,dt.felt)(m)]]})};return Object.fromEntries(i(s))},n;if(Array.isArray(t))n=t;else{let s=r(t);n=Object.values(s)}return Object.defineProperty(n,"compiled",{enumerable:!1,writable:!1,value:!0}),n}parse(t,r){let{outputs:n}=this.abi.find(i=>i.name===t),s=r.flat()[Symbol.iterator]();return n.flat().reduce((i,a)=>(i[a.name]=(0,ia.default)(s,a,this.structs,i),i[a.name]&&i[`${a.name}_len`]&&delete i[`${a.name}_len`],i),{})}format(t,r,n){let s=this.parse(t,r);return(0,na.default)(s,n)}static abiInputsLength(t){return t.reduce((r,n)=>(0,dt.isLen)(n.name)?r:r+1,0)}static getAbiStruct(t){return t.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}};Ce.CallData=be});var ht=p(v=>{"use strict";o();c();Object.defineProperty(v,"__esModule",{value:!0});v.getExecuteCalldata=v.fromCallsToExecuteCalldata_cairo1=v.transformCallsToMulticallArrays_cairo1=v.fromCallsToExecuteCalldataWithNonce=v.fromCallsToExecuteCalldata=v.transformCallsToMulticallArrays=void 0;var en=k(),Ae=H(),gt=Se(),oa=e=>{let t=[],r=[];return e.forEach(n=>{let s=gt.CallData.compile(n.calldata||[]);t.push({to:(0,Ae.toBigInt)(n.contractAddress).toString(10),selector:n.entrypoint.startsWith("0x")?(0,Ae.toBigInt)(n.entrypoint):(0,Ae.toBigInt)((0,en.getSelectorFromName)(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:s.length.toString()}),r.push(...s)}),{callArray:t,calldata:gt.CallData.compile({calldata:r})}};v.transformCallsToMulticallArrays=oa;var ca=e=>{let{callArray:t,calldata:r}=(0,v.transformCallsToMulticallArrays)(e);return[...gt.CallData.compile({callArray:t}),...r]};v.fromCallsToExecuteCalldata=ca;var ua=(e,t)=>[...(0,v.fromCallsToExecuteCalldata)(e),(0,Ae.toBigInt)(t).toString()];v.fromCallsToExecuteCalldataWithNonce=ua;var la=e=>e.map(r=>({to:(0,Ae.toBigInt)(r.contractAddress).toString(10),selector:(0,Ae.toBigInt)((0,en.getSelectorFromName)(r.entrypoint)).toString(10),calldata:gt.CallData.compile(r.calldata||[])}));v.transformCallsToMulticallArrays_cairo1=la;var da=e=>{let t=(0,v.transformCallsToMulticallArrays_cairo1)(e);return[t.length.toString(),...t.map(({to:r,selector:n,calldata:s})=>[r,n,s.length.toString(),...s]).flat()]};v.fromCallsToExecuteCalldata_cairo1=da;var fa=(e,t="0")=>t==="1"?(0,v.fromCallsToExecuteCalldata_cairo1)(e):(0,v.fromCallsToExecuteCalldata)(e);v.getExecuteCalldata=fa});var er=p(Te=>{"use strict";o();c();Object.defineProperty(Te,"__esModule",{value:!0});Te.proofMerklePath=Te.MerkleTree=void 0;var ga=te(),tn=H(),ne=class{constructor(t){this.branches=[],this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);let r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(ne.hash(t[n],"0x0")):r.push(ne.hash(t[n],t[n+1]));return this.build(r)}static hash(t,r){let[n,s]=[(0,tn.toBigInt)(t),(0,tn.toBigInt)(r)].sort((i,a)=>i>=a?1:-1);return ga.starkCurve.pedersen(n,s)}getProof(t,r=this.leaves,n=[]){let s=r.indexOf(t);if(s===-1)throw new Error("leaf not found");if(r.length===1)return n;let i=s%2===0,a=(i?r[s+1]:r[s-1])??"0x0",u=[...n,a],f=this.leaves.length===r.length?-1:this.branches.findIndex(g=>g.length===r.length),l=this.branches[f+1]??[this.root];return this.getProof(ne.hash(i?t:a,i?a:t),l,u)}};Te.MerkleTree=ne;function rn(e,t,r){if(r.length===0)return e===t;let[n,...s]=r;return rn(e,ne.hash(t,n),s)}Te.proofMerklePath=rn});var nn=p(pt=>{"use strict";o();c();Object.defineProperty(pt,"__esModule",{value:!0});pt.validateTypedData=void 0;var ha=e=>{let t=e;return Boolean(t.types&&t.primaryType&&t.message)};pt.validateTypedData=ha});var an=p(sn=>{"use strict";o();c();Object.defineProperty(sn,"__esModule",{value:!0})});var yt=p(b=>{"use strict";o();c();var pa=b&&b.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ya=b&&b.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pa(t,e,r)};Object.defineProperty(b,"__esModule",{value:!0});b.getMessageHash=b.getStructHash=b.encodeData=b.encodeValue=b.getTypeHash=b.encodeType=b.getDependencies=b.isMerkleTreeType=b.prepareSelector=void 0;var Ee=k(),_a=er(),tr=H(),on=X(),ma=nn();ya(an(),b);function ba(e){try{return(0,tr.toHex)(e)}catch{if(typeof e=="string")return(0,tr.toHex)((0,on.encodeShortString)(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function cn(e){return(0,tr.isHex)(e)?e:(0,Ee.getSelectorFromName)(e)}b.prepareSelector=cn;function un(e){return e.type==="merkletree"}b.isMerkleTreeType=un;var Ca=(e,t,r=[])=>(t[t.length-1]==="*"&&(t=t.slice(0,-1)),r.includes(t)||!e[t]?r:[t,...e[t].reduce((n,s)=>[...n,...(0,b.getDependencies)(e,s.type,n).filter(i=>!n.includes(i))],[])]);b.getDependencies=Ca;function Sa(e,t){if(t.parent&&t.key){let n=e[t.parent].find(i=>i.name===t.key);if(!un(n))throw new Error(`${t.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return n.contains}return"raw"}var Aa=(e,t)=>{let[r,...n]=(0,b.getDependencies)(e,t);return(r?[r,...n.sort()]:[]).map(i=>`${i}(${e[i].map(a=>`${a.name}:${a.type}`)})`).join("")};b.encodeType=Aa;var Ta=(e,t)=>(0,Ee.getSelectorFromName)((0,b.encodeType)(e,t));b.getTypeHash=Ta;var Ea=(e,t,r,n={})=>{if(e[t])return[t,(0,b.getStructHash)(e,t,r)];if(Object.keys(e).map(s=>`${s}*`).includes(t)){let s=r.map(i=>(0,b.getStructHash)(e,t.slice(0,-1),i));return[t,(0,Ee.computeHashOnElements)(s)]}if(t==="merkletree"){let s=Sa(e,n),i=r.map(u=>(0,b.encodeValue)(e,s,u)[1]),{root:a}=new _a.MerkleTree(i);return["felt",a]}return t==="felt*"?["felt*",(0,Ee.computeHashOnElements)(r)]:t==="selector"?["felt",cn(r)]:[t,ba(r)]};b.encodeValue=Ea;var wa=(e,t,r)=>{let[n,s]=e[t].reduce(([i,a],u)=>{if(r[u.name]===void 0||r[u.name]===null)throw new Error(`Cannot encode data: missing data for '${u.name}'`);let f=r[u.name],[l,g]=(0,b.encodeValue)(e,u.type,f,{parent:t,key:u.name});return[[...i,l],[...a,g]]},[["felt"],[(0,b.getTypeHash)(e,t)]]);return[n,s]};b.encodeData=wa;var Oa=(e,t,r)=>(0,Ee.computeHashOnElements)((0,b.encodeData)(e,t,r)[1]);b.getStructHash=Oa;var va=(e,t)=>{if(!(0,ma.validateTypedData)(e))throw new Error("Typed data does not match JSON schema");let r=[(0,on.encodeShortString)("StarkNet Message"),(0,b.getStructHash)(e.types,"StarkNetDomain",e.domain),t,(0,b.getStructHash)(e.types,e.primaryType,e.message)];return(0,Ee.computeHashOnElements)(r)};b.getMessageHash=va});var ln=p(_t=>{"use strict";o();c();Object.defineProperty(_t,"__esModule",{value:!0});_t.Signer=void 0;var we=te(),Pa=ee(),rr=k(),Na=H(),xa=ht(),Ha=yt(),Ia=Se(),nr=class{constructor(t=we.starkCurve.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?(0,Pa.buf2hex)(t):(0,Na.toHex)(t)}async getPubKey(){return we.starkCurve.getStarkKey(this.pk)}async signMessage(t,r){let n=(0,Ha.getMessageHash)(t,r);return we.starkCurve.sign(n,this.pk)}async signTransaction(t,r,n){if(n&&n.length!==t.length)throw new Error("ABI must be provided for each transaction or no transaction");let s=(0,xa.getExecuteCalldata)(t,r.cairoVersion),i=(0,rr.calculateTransactionHash)(r.walletAddress,r.version,s,r.maxFee,r.chainId,r.nonce);return{signature:we.starkCurve.sign(i,this.pk),hash:i}}async signDeployAccountTransaction({classHash:t,contractAddress:r,constructorCalldata:n,addressSalt:s,maxFee:i,version:a,chainId:u,nonce:f}){let l=(0,rr.calculateDeployAccountTransactionHash)(r,t,Ia.CallData.compile(n),s,a,i,u,f);return{signature:we.starkCurve.sign(l,this.pk),hash:l}}async signDeclareTransaction({classHash:t,senderAddress:r,chainId:n,maxFee:s,version:i,nonce:a,compiledClassHash:u}){let f=(0,rr.calculateDeclareTransactionHash)(t,r,i,s,n,a,u);return we.starkCurve.sign(f,this.pk)}};_t.Signer=nr});var sr=p(se=>{"use strict";o();c();var Da=se&&se.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dn=se&&se.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Da(t,e,r)};Object.defineProperty(se,"__esModule",{value:!0});dn(mr(),se);dn(ln(),se)});var hn=p(gn=>{"use strict";o();c();Object.defineProperty(gn,"__esModule",{value:!0});var fn;(function(e){e[e.function=0]="function",e[e.l1_handler=1]="l1_handler",e[e.constructor=2]="constructor"})(fn||(fn={}))});var yn=p(pn=>{"use strict";o();c();Object.defineProperty(pn,"__esModule",{value:!0})});var mn=p(_n=>{"use strict";o();c();Object.defineProperty(_n,"__esModule",{value:!0})});var bn=p($=>{"use strict";o();c();var Ma=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ir=$&&$.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ma(t,e,r)};Object.defineProperty($,"__esModule",{value:!0});$.EntryPointType=void 0;var ja;(function(e){e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR"})(ja=$.EntryPointType||($.EntryPointType={}));ir(hn(),$);ir(yn(),$);ir(mn(),$)});var Cn=p(L=>{"use strict";o();c();var qa=L&&L.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),La=L&&L.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qa(t,e,r)};Object.defineProperty(L,"__esModule",{value:!0});L.TransactionType=L.TransactionStatus=void 0;var Ba;(function(e){e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.PENDING="PENDING",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED"})(Ba=L.TransactionStatus||(L.TransactionStatus={}));var $a;(function(e){e.INVOKE="INVOKE_FUNCTION",e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT"})($a=L.TransactionType||(L.TransactionType={}));La(bn(),L)});var An=p(Sn=>{"use strict";o();c();Object.defineProperty(Sn,"__esModule",{value:!0})});var En=p(Tn=>{"use strict";o();c();Object.defineProperty(Tn,"__esModule",{value:!0})});var On=p(wn=>{"use strict";o();c();Object.defineProperty(wn,"__esModule",{value:!0})});var Pn=p(vn=>{"use strict";o();c();Object.defineProperty(vn,"__esModule",{value:!0})});var xn=p(Nn=>{"use strict";o();c();Object.defineProperty(Nn,"__esModule",{value:!0})});var Hn=p($e=>{"use strict";o();c();Object.defineProperty($e,"__esModule",{value:!0});$e.RPC=void 0;var Ra;(function(e){let t;(function(r){r.DECLARE="DECLARE",r.DEPLOY="DEPLOY",r.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",r.INVOKE="INVOKE",r.L1_HANDLER="L1_HANDLER"})(t=e.TransactionType||(e.TransactionType={}))})(Ra=$e.RPC||($e.RPC={}))});var ar=p(B=>{"use strict";o();c();var Fa=B&&B.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ue=B&&B.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fa(t,e,r)};Object.defineProperty(B,"__esModule",{value:!0});ue(Cn(),B);ue(An(),B);ue(En(),B);ue(On(),B);ue(Pn(),B);ue(xn(),B);ue(Hn(),B)});var or=p(Oe=>{"use strict";o();c();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.extractContractHashes=Oe.isSierra=void 0;var In=k(),Va=Re();function Dn(e){let t=typeof e=="string"?Va.json.parse(e):e;return"sierra_program"in t}Oe.isSierra=Dn;function Ua(e){let t={...e};if(Dn(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=(0,In.computeCompiledClassHash)(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??(0,In.computeContractClassHash)(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}Oe.extractContractHashes=Ua});var mt=p(I=>{"use strict";o();c();Object.defineProperty(I,"__esModule",{value:!0});I.estimatedFeeToMaxFee=I.signatureToHexArray=I.signatureToDecimalArray=I.formatSignature=I.makeAddress=I.randomAddress=I.compressProgram=void 0;var Mn=He(),Ka=os(),ka=Re(),jn=ee(),le=H();function Ga(e){let t=typeof e=="string"?e:ka.json.stringify(e),r=(0,Ka.gzip)(t);return(0,jn.btoaUniversal)(r)}I.compressProgram=Ga;function Wa(){let e=Mn.signUtil.schnorr.stark.utils.randomPrivateKey();return Mn.signUtil.schnorr.stark.getStarkKey(e)}I.randomAddress=Wa;function Xa(e){return(0,jn.addHexPrefix)(e).toLowerCase()}I.makeAddress=Xa;function cr(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>(0,le.toHex)(t));try{let{r:t,s:r}=e;return[(0,le.toHex)(t),(0,le.toHex)(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}I.formatSignature=cr;function Ya(e){return(0,le.bigNumberishArrayToDecimalStringArray)(cr(e))}I.signatureToDecimalArray=Ya;function Ja(e){return(0,le.bigNumberishArrayToHexadecimalStringArray)(cr(e))}I.signatureToHexArray=Ja;function Za(e,t=.5){let r=Math.round((1+t)*100);return(0,le.toBigInt)(e)*(0,le.toBigInt)(r)/100n}I.estimatedFeeToMaxFee=Za});var Rn=p(G=>{"use strict";o();c();Object.defineProperty(G,"__esModule",{value:!0});G.parseContract=G.createSierraContractClass=G.parseCalldata=G.wait=void 0;var za=or(),qn=k(),Ln=H(),Bn=mt(),ur=Re();function Qa(e){return new Promise(t=>{setTimeout(t,e)})}G.wait=Qa;function eo(e=[]){return e.map(t=>typeof t=="string"&&(0,Ln.isHex)(t)?t:(0,Ln.toHex)(t))}G.parseCalldata=eo;function $n(e){let t={...e};return delete t.sierra_program_debug_info,t.abi=(0,qn.formatSpaces)(ur.json.stringify(e.abi)),t.sierra_program=(0,qn.formatSpaces)(ur.json.stringify(e.sierra_program)),t.sierra_program=(0,Bn.compressProgram)(t.sierra_program),t}G.createSierraContractClass=$n;function to(e){let t=typeof e=="string"?ur.json.parse(e):e;return(0,za.isSierra)(e)?$n(t):{...t,..."program"in t&&{program:(0,Bn.compressProgram)(t.program)}}}G.parseContract=to});var Fn=p(Tt=>{"use strict";o();c();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.Account=void 0;var bt=ge(),ro=sr(),Ct=ar(),St=or(),no=te(),ve=k(),j=H(),so=Rn(),Fe=mt(),io=ht(),ao=yt(),At=Se(),lr=class{constructor(t,r,n="0"){this.address=t.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new ro.Signer(r):r,this.cairoVersion=n}async signMessage(t){return this.signer.signMessage(t,this.address)}async declare(t,r){if(r.nonce===void 0||r.maxFee===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let n=(0,St.extractContractHashes)(t),s={};s.nonce=(0,j.toBigInt)(r.nonce),s.maxFee=r.maxFee,s.chainId=r.chainId,s.version=(0,St.isSierra)(t.contract)?ve.transactionVersion_2:ve.transactionVersion;let i=await this.buildDeclareContractTransaction(n,{...s,walletAddress:this.address,cairoVersion:this.cairoVersion}),{senderAddress:a,contractDefinition:u,signature:f,compiledClassHash:l}=i;return(0,St.isSierra)(u)?{type:Ct.TransactionType.DECLARE,sender_address:a,compiled_class_hash:l,contract_class:u,nonce:(0,j.toHex)(s.nonce),signature:(0,Fe.signatureToDecimalArray)(f),max_fee:(0,j.toHex)(s.maxFee||0),version:"0x2"}:{type:Ct.TransactionType.DECLARE,contract_class:u,nonce:(0,j.toHex)(s.nonce),signature:(0,Fe.signatureToDecimalArray)(f),sender_address:a,max_fee:(0,j.toHex)(s.maxFee||0),version:"0x1"}}async execute(t,r=void 0,n){if(n.nonce===void 0||n.maxFee===void 0||n.chainId===void 0)throw new Error("missing transaction parameter");let s=Array.isArray(t)?t:[t],i=(0,j.toBigInt)(n.nonce),a=n.maxFee,u=(0,j.toBigInt)(ve.transactionVersion),f=n.chainId,l={walletAddress:this.address,nonce:i,maxFee:a,version:u,chainId:f,cairoVersion:this.cairoVersion},g=await this.signer.signTransaction(s,l,r),m=(0,io.getExecuteCalldata)(s,this.cairoVersion);return{txId:g.hash,signature:{type:Ct.TransactionType.INVOKE,sender_address:this.address,calldata:At.CallData.compile(m??[]),max_fee:(0,j.toHex)(a||0),signature:(0,Fe.signatureToDecimalArray)(g.signature),version:"0x1",nonce:(0,j.toHex)(i)}}}async deploy(t,r){let n=[].concat(t).map(a=>{let{classHash:u,salt:f,unique:l=!0,constructorCalldata:g=[]}=a,m=At.CallData.compile(g),T=f??(0,Fe.randomAddress)();return{call:{contractAddress:bt.UDC.ADDRESS,entrypoint:bt.UDC.ENTRYPOINT,calldata:[u,T,(0,j.toCairoBool)(l),m.length,...m]},address:(0,ve.calculateContractAddressFromHash)(l?no.starkCurve.pedersen(this.address,T):T,u,m,l?bt.UDC.ADDRESS:0)}}),s=n.map(a=>a.call),i=n.map(a=>a.address);return await this.execute(s,void 0,r)}async deployAccount({classHash:t,constructorCalldata:r=[],addressSalt:n=0,contractAddress:s},i){if(i.maxFee===void 0||i.chainId===void 0)throw new Error("missing transaction parameter");let a=(0,j.toBigInt)(ve.transactionVersion),u=bt.ZERO,f=i.chainId,l=At.CallData.compile(r),g=s??(0,ve.calculateContractAddressFromHash)(n,t,l,0),m=i.maxFee,T=await this.signer.signDeployAccountTransaction({classHash:t,constructorCalldata:r,contractAddress:g,addressSalt:n,chainId:f,maxFee:m,version:a,nonce:u});return{txId:T.hash,signature:{type:Ct.TransactionType.DEPLOY_ACCOUNT,contract_address_salt:n,constructor_calldata:At.CallData.compile(r??[]),class_hash:(0,j.toHex)(t),max_fee:(0,j.toHex)(m||0),version:(0,j.toHex)(a||0),nonce:(0,j.toHex)(u),signature:(0,Fe.signatureToDecimalArray)(T.signature)}}}async buildDeclareContractTransaction(t,{nonce:r,chainId:n,version:s,walletAddress:i,maxFee:a}){let{classHash:u,contract:f,compiledClassHash:l}=(0,St.extractContractHashes)(t),g=(0,so.parseContract)(f),m=await this.signer.signDeclareTransaction({classHash:u,compiledClassHash:l,senderAddress:i,chainId:n,maxFee:a,version:s,nonce:r});return{senderAddress:i,signature:m,contractDefinition:g,compiledClassHash:l}}async hashMessage(t){return(0,ao.getMessageHash)(t,this.address)}};Tt.Account=lr});var Vn=p(Et=>{"use strict";o();c();Object.defineProperty(Et,"__esModule",{value:!0});Et.AccountInterface=void 0;var dr=class{};Et.AccountInterface=dr});var fr=p(ie=>{"use strict";o();c();var oo=ie&&ie.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Un=ie&&ie.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oo(t,e,r)};Object.defineProperty(ie,"__esModule",{value:!0});Un(Fn(),ie);Un(Vn(),ie)});var gr=p(Pe=>{"use strict";o();c();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.validateAndParseAddress=Pe.addAddressPadding=void 0;var Kn=ge(),kn=ee(),Gn=H();function Wn(e){return(0,kn.addHexPrefix)((0,kn.removeHexPrefix)((0,Gn.toHex)(e)).padStart(64,"0"))}Pe.addAddressPadding=Wn;function co(e){(0,Gn.assertInRange)(e,Kn.ZERO,Kn.MASK_251,"Starknet Address");let t=Wn(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return t}Pe.validateAndParseAddress=co});var Re=p(d=>{o();c();var Yn=d&&d.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uo=d&&d.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),de=d&&d.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Yn(t,e,r)},D=d&&d.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Yn(t,e,r);return uo(t,e),t};Object.defineProperty(d,"__esModule",{value:!0});d.modPrivateKey=d.testSign=d.GetRandomPrivateKey=d.verifyMessage=d.signMessage=d.signMessageWithTypeData=d.CreateMultiContractCall=d.CreateContractCall=d.CreateTransferTx=d.CreateSignedDeployAccountTx=d.CalculateContractAddressFromHash=d.number=d.typedData=d.shortString=d.uint256=d.merkle=d.ec=d.stark=d.transaction=d.num=d.json=d.hash=d.encode=d.constants=void 0;var Ue=fr();de(sr(),d);de(ar(),d);de(k(),d);de(fr(),d);d.constants=D(ge());d.encode=D(ee());d.hash=D(k());d.json=D(st());d.num=D(H());d.transaction=D(ht());d.stark=D(mt());d.ec=D(te());d.merkle=D(er());d.uint256=D(Mt());d.shortString=D(X());d.typedData=D(yt());de(gr(),d);de(Se(),d);de(Xn(),d);var lo=D(H());d.number=lo;var Ve=D(te()),hr=D(k()),wt=ge(),vt=D(st()),fo=gr(),ae=He(),go=te(),Ot=Se(),Ke=ee();function pr(e){let t={implementation:wt.accountClassHash,selector:hr.getSelectorFromName("initialize"),calldata:Ot.CallData.compile({signer:e,guardian:"0"})},r=hr.calculateContractAddressFromHash(e,wt.ProxyAccountClassHash,Ot.CallData.compile(t),0);return(0,fo.addAddressPadding)(r)}d.CalculateContractAddressFromHash=pr;async function ho(e,t,r,n){let s=Ve.starkCurve.getStarkKey(n),i=pr(s),a=new Ue.Account(i,(0,Ke.addHexPrefix)(n)),u={implementation:wt.accountClassHash,selector:hr.getSelectorFromName("initialize"),calldata:Ot.CallData.compile({signer:s,guardian:"0"})},f=Ot.CallData.compile(u),l=await a.deployAccount({addressSalt:s,classHash:wt.ProxyAccountClassHash,constructorCalldata:f,contractAddress:i},{nonce:e,maxFee:t,chainId:r});return{txId:l.txId,signature:vt.stringify(l.signature)}}d.CreateSignedDeployAccountTx=ho;async function po(e,t,r,n,s,i,a,u){let l=await new Ue.Account(t,(0,Ke.addHexPrefix)(u)).execute({contractAddress:e,entrypoint:"transfer",calldata:[r,n,0]},void 0,{nonce:s,maxFee:i,chainId:a});return{txId:l.txId,signature:vt.stringify(l.signature)}}d.CreateTransferTx=po;async function yo(e,t,r,n,s,i,a,u){let f=new Ue.Account(t,(0,Ke.addHexPrefix)(u));n||(n=[]);let l=await f.execute({contractAddress:e,entrypoint:r,calldata:n},void 0,{nonce:s,maxFee:i,chainId:a});return{txId:l.txId,signature:vt.stringify(l.signature)}}d.CreateContractCall=yo;async function _o(e,t,r,n,s,i){let a=new Ue.Account(e,(0,Ke.addHexPrefix)(i)),u=t.map(l=>({contractAddress:l.contract_address?l.contract_address:l.contractAddress,entrypoint:l.entry_point?l.entry_point:l.entrypoint,calldata:l.calldata})),f=await a.execute(u,void 0,{nonce:r,maxFee:n,chainId:s});return{txId:f.txId,signature:vt.stringify(f.signature)}}d.CreateMultiContractCall=_o;async function mo(e,t){let r=ae.signUtil.schnorr.stark.getPublicKey(t),n=Ve.starkCurve.getStarkKey(t),s=pr(n),i=new Ue.Account(s,(0,Ke.addHexPrefix)(t)),a=await i.signMessage(e),u=await i.hashMessage(e);return{signature:a,hash:u,publicKey:r}}d.signMessageWithTypeData=mo;async function bo(e,t){let r=ae.signUtil.schnorr.stark.getPublicKey(t);return{signature:go.starkCurve.sign(e,t),hash:e,publicKey:r}}d.signMessage=bo;function Co(e,t,r){return ae.signUtil.schnorr.stark.verify(e,t,r)}d.verifyMessage=Co;async function So(){for(;;){let e=ae.base.randomBytes(32);if(Ao(e)&&Jn(e.toString("hex")))return`0x${ae.signUtil.schnorr.bytesToHex(e)}`}}d.GetRandomPrivateKey=So;function Jn(e){let t="7465dd6b1bbffdb05442eb17f5ca38ad1aa78a6f56bf4415bdee219114a47a1",r=Ve.starkCurve.sign(t,e),n=ae.signUtil.schnorr.stark.getPublicKey(e);return Ve.starkCurve.verify(r,t,n)}d.testSign=Jn;function Ao(e){let t=new ae.BN(Array.from(e)),r=new ae.BN(Ve.starkCurve.CURVE.n.toString());return t.cmp(r)<0&&!t.isZero()}var To=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583");function Eo(e){let t;!e.startsWith("0x")&&!e.startsWith("0X")?t=`0x${e}`:t=e;let n=BigInt(t.toLowerCase())%To;return"0x"+n.toString(16)}d.modPrivateKey=Eo});var Xn=p(Pt=>{o();c();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.StarknetWallet=void 0;var Q=as(),ke=He(),M=Re();function wo(e){if(!e)return!1;let t=e.toLowerCase().startsWith("0x")?e.substring(2).toLowerCase():e.toLowerCase();return!(t.length===0||!t.match(/^[0-9A-Fa-f]*$/))}function Zn(e){if(!wo(e))return!1;let t=ke.base.fromHex(e.toLowerCase());return!(t.length<25||t.length>33)}var yr=class extends Q.BaseWallet{getRandomPrivateKey(){return(0,M.GetRandomPrivateKey)()}async getDerivedPath(t){return`m/44'/9004'/0'/0/${t.index}`}async getDerivedPrivateKey(t){return ke.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=ke.bip32.fromSeed(r).derivePath("m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(Q.GenPrivateKeyError);let s=h.Buffer.from(n.privateKey),i=ke.bip32.fromSeed(s).derivePath(t.hdPath);if(i.privateKey){let a=ke.base.toHex(i.privateKey),u=M.ec.starkCurve.grindKey(a);return Promise.resolve(`0x${u}`)}else return Promise.reject(Q.GenPrivateKeyError)}).catch(r=>Promise.reject(Q.GenPrivateKeyError+":"+r))}async getNewAddress(t){if(!Zn(t.privateKey))throw new Error("invalid key");try{let r=(0,M.modPrivateKey)(t.privateKey),n=M.ec.starkCurve.getStarkKey(r),i={address:(0,M.CalculateContractAddressFromHash)(n),publicKey:n};return Promise.resolve(i)}catch(r){return Promise.reject(Q.NewAddressError+":"+r)}}async validPrivateKey(t){let n={isValid:Zn(t.privateKey),privateKey:t.privateKey};return Promise.resolve(n)}async signTransaction(t){try{let r=t.data;if(r.nonce===void 0||r.maxFee===void 0)return Promise.reject(Q.SignTxError);let n=r.nonce,s=r.maxFee,i=r.chainId||M.constants.StarknetChainId.SN_MAIN,a=(0,M.modPrivateKey)(t.privateKey);if(r.type=="transfer"&&r.transferData!==void 0){let u=r.transferData.contractAddress,f=r.transferData.from,l=r.transferData.to,g=r.transferData.amount,m=await(0,M.CreateTransferTx)(u,f,l,g,n,s,i,a);return Promise.resolve(m)}else if(r.type=="deploy_account"){let u=await(0,M.CreateSignedDeployAccountTx)(n,s,i,a);return Promise.resolve(u)}else if(r.type=="contract_call"&&r.contractCallData!==void 0){let u=r.contractCallData.contractAddress,f=r.contractCallData.from,l=r.contractCallData.functionName,g=r.contractCallData.callData,m=await(0,M.CreateContractCall)(u,f,l,g,n,s,i,a);return Promise.resolve(m)}else if(r.type=="multi_contract_call"&&r.multiContractCallData!==void 0){let u=r.multiContractCallData.from,f=r.multiContractCallData.calls,l=(0,M.CreateMultiContractCall)(u,f,n,s,i,a);return Promise.resolve(l)}return Promise.reject(Q.SignTxError)}catch(r){return Promise.reject(Q.SignTxError+":"+r)}}async validAddress(t){let r;try{(0,M.validateAndParseAddress)(t.address),r=t.address.startsWith("0x")&&t.address.length>50}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}async signMessage(t){try{let r=(0,M.modPrivateKey)(t.privateKey);if(typeof t.data.message=="string"){let n=t.data.message;if(n.startsWith("0x")){let s=(0,M.signMessage)(n,r);return Promise.resolve(s)}}else{let n=t.data.message,s=await(0,M.signMessageWithTypeData)(n,r);return Promise.resolve(s)}}catch(r){return Promise.reject(Q.SignTxError+":"+r)}}verifyMessage(t){try{let r=t.data.signature,n=t.data.hash,s=t.data.publicKey;return Promise.resolve((0,M.verifyMessage)(r,n,s))}catch(r){return Promise.reject(r)}}};Pt.StarknetWallet=yr});export{Xn as a,Re as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-3P7MWLN4.js.map

import{a as $e}from"./chunk-5Y6FZJ5A.js";import{a as Yi}from"./chunk-S2ACKULX.js";import{a as Qi}from"./chunk-XJG32FMM.js";import{b as rr}from"./chunk-LQWZRQFF.js";import{a as vr,b as Ye,c as Ji,d as Gi,e as Qe}from"./chunk-VGOLUGG3.js";import"./chunk-6SIBAM5N.js";import{a as dr}from"./chunk-42IJDSSW.js";import{a as Xe}from"./chunk-HQ74Q4WH.js";import{B as Zi,C as ji,I as Di,J as Wi,N as Ge,d as We,e as Fi,f as Je}from"./chunk-MTFM4GGW.js";import{c as R,m as k,n as y,o as A}from"./chunk-UGZFXKPB.js";var Ft=R((ti,Xr)=>{k();A();(function(r,s){"use strict";function o(c,t){if(!c)throw new Error(t||"Assertion failed")}function v(c,t){c.super_=t;var i=function(){};i.prototype=t.prototype,c.prototype=new i,c.prototype.constructor=c}function f(c,t,i){if(f.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(i=t,t=10),this._init(c||0,t||10,i||"be"))}typeof r=="object"?r.exports=f:s.BN=f,f.BN=f,f.wordSize=26;var m;try{m=We().Buffer}catch{}f.isBN=function(t){return t instanceof f?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===f.wordSize&&Array.isArray(t.words)},f.max=function(t,i){return t.cmp(i)>0?t:i},f.min=function(t,i){return t.cmp(i)<0?t:i},f.prototype._init=function(t,i,n){if(typeof t=="number")return this._initNumber(t,i,n);if(typeof t=="object")return this._initArray(t,i,n);i==="hex"&&(i=16),o(i===(i|0)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&a++,i===16?this._parseHex(t,a):this._parseBase(t,i,a),t[0]==="-"&&(this.negative=1),this._strip(),n==="le"&&this._initArray(this.toArray(),i,n)},f.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),i,n)},f.prototype._initArray=function(t,i,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u,d,p=0;if(n==="be")for(a=t.length-1,u=0;a>=0;a-=3)d=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[u]|=d<<p&67108863,this.words[u+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,u++);else if(n==="le")for(a=0,u=0;a<t.length;a+=3)d=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[u]|=d<<p&67108863,this.words[u+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,u++);return this._strip()};function w(c,t,i){for(var n=0,a=Math.min(c.length,i),u=0,d=t;d<a;d++){var p=c.charCodeAt(d)-48;n<<=4;var h;p>=49&&p<=54?h=p-49+10:p>=17&&p<=22?h=p-17+10:h=p,n|=h,u|=h}return o(!(u&240),"Invalid character in "+c),n}f.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,u,d=0;for(n=t.length-6,a=0;n>=i;n-=6)u=w(t,n,n+6),this.words[a]|=u<<d&67108863,this.words[a+1]|=u>>>26-d&4194303,d+=24,d>=26&&(d-=26,a++);n+6!==i&&(u=w(t,i,n+6),this.words[a]|=u<<d&67108863,this.words[a+1]|=u>>>26-d&4194303),this._strip()};function K(c,t,i,n){for(var a=0,u=0,d=Math.min(c.length,i),p=t;p<d;p++){var h=c.charCodeAt(p)-48;a*=n,h>=49?u=h-49+10:h>=17?u=h-17+10:u=h,o(h>=0&&u<n,"Invalid character"),a+=u}return a}f.prototype._parseBase=function(t,i,n){this.words=[0],this.length=1;for(var a=0,u=1;u<=67108863;u*=i)a++;a--,u=u/i|0;for(var d=t.length-n,p=d%a,h=Math.min(d,d-p)+n,e=0,l=n;l<h;l+=a)e=K(t,l,l+a,i),this.imuln(u),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(p!==0){var M=1;for(e=K(t,l,t.length,i),l=0;l<p;l++)M*=i;this.imuln(M),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},f.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red};function _(c,t){c.words=t.words,c.length=t.length,c.negative=t.negative,c.red=t.red}if(f.prototype._move=function(t){_(t,this)},f.prototype.clone=function(){var t=new f(null);return this.copy(t),t},f.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},f.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{f.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{f.prototype.inspect=g}else f.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ur=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(t,i){t=t||10,i=i|0||1;var n;if(t===16||t==="hex"){n="";for(var a=0,u=0,d=0;d<this.length;d++){var p=this.words[d],h=((p<<a|u)&16777215).toString(16);u=p>>>24-a&16777215,u!==0||d!==this.length-1?n=S[6-h.length]+h+n:n=h+n,a+=2,a>=26&&(a-=26,d--)}for(u!==0&&(n=u.toString(16)+n);n.length%i!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=Mt[t],l=ur[t];n="";var M=this.clone();for(M.negative=0;!M.isZero();){var b=M.modrn(l).toString(t);M=M.idivn(l),M.isZero()?n=b+n:n=S[e-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%i!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},f.prototype.toJSON=function(){return this.toString(16,2)},m&&(f.prototype.toBuffer=function(t,i){return this.toArrayLike(m,t,i)}),f.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)};var Dt=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)};f.prototype.toArrayLike=function(t,i,n){this._strip();var a=this.byteLength(),u=n||Math.max(1,a);o(a<=u,"byte array longer than desired length"),o(u>0,"Requested array length <= 0");var d=Dt(t,u),p=i==="le"?"LE":"BE";return this["_toArrayLike"+p](d,a),d},f.prototype._toArrayLikeLE=function(t,i){for(var n=0,a=0,u=0,d=0;u<this.length;u++){var p=this.words[u]<<d|a;t[n++]=p&255,n<t.length&&(t[n++]=p>>8&255),n<t.length&&(t[n++]=p>>16&255),d===6?(n<t.length&&(t[n++]=p>>24&255),a=0,d=0):(a=p>>>24,d+=2)}if(n<t.length)for(t[n++]=a;n<t.length;)t[n++]=0},f.prototype._toArrayLikeBE=function(t,i){for(var n=t.length-1,a=0,u=0,d=0;u<this.length;u++){var p=this.words[u]<<d|a;t[n--]=p&255,n>=0&&(t[n--]=p>>8&255),n>=0&&(t[n--]=p>>16&255),d===6?(n>=0&&(t[n--]=p>>24&255),a=0,d=0):(a=p>>>24,d+=2)}if(n>=0)for(t[n--]=a;n>=0;)t[n--]=0},Math.clz32?f.prototype._countBits=function(t){return 32-Math.clz32(t)}:f.prototype._countBits=function(t){var i=t,n=0;return i>=4096&&(n+=13,i>>>=13),i>=64&&(n+=7,i>>>=7),i>=8&&(n+=4,i>>>=4),i>=2&&(n+=2,i>>>=2),n+i},f.prototype._zeroBits=function(t){if(t===0)return 26;var i=t,n=0;return(i&8191)===0&&(n+=13,i>>>=13),(i&127)===0&&(n+=7,i>>>=7),(i&15)===0&&(n+=4,i>>>=4),(i&3)===0&&(n+=2,i>>>=2),(i&1)===0&&n++,n},f.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return(this.length-1)*26+i};function zt(c){for(var t=new Array(c.bitLength()),i=0;i<t.length;i++){var n=i/26|0,a=i%26;t[i]=c.words[n]>>>a&1}return t}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var n=this._zeroBits(this.words[i]);if(t+=n,n!==26)break}return t},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},f.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},f.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},f.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},f.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},f.prototype.iuand=function(t){var i;this.length>t.length?i=t:i=this;for(var n=0;n<i.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=i.length,this._strip()},f.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},f.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},f.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},f.prototype.iuxor=function(t){var i,n;this.length>t.length?(i=this,n=t):(i=t,n=this);for(var a=0;a<n.length;a++)this.words[a]=i.words[a]^n.words[a];if(this!==i)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=i.length,this._strip()},f.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},f.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},f.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},f.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var i=Math.ceil(t/26)|0,n=t%26;this._expand(i),n>0&&i--;for(var a=0;a<i;a++)this.words[a]=~this.words[a]&67108863;return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this._strip()},f.prototype.notn=function(t){return this.clone().inotn(t)},f.prototype.setn=function(t,i){o(typeof t=="number"&&t>=0);var n=t/26|0,a=t%26;return this._expand(n+1),i?this.words[n]=this.words[n]|1<<a:this.words[n]=this.words[n]&~(1<<a),this._strip()},f.prototype.iadd=function(t){var i;if(this.negative!==0&&t.negative===0)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var n,a;this.length>t.length?(n=this,a=t):(n=t,a=this);for(var u=0,d=0;d<a.length;d++)i=(n.words[d]|0)+(a.words[d]|0)+u,this.words[d]=i&67108863,u=i>>>26;for(;u!==0&&d<n.length;d++)i=(n.words[d]|0)+u,this.words[d]=i&67108863,u=i>>>26;if(this.length=n.length,u!==0)this.words[this.length]=u,this.length++;else if(n!==this)for(;d<n.length;d++)this.words[d]=n.words[d];return this},f.prototype.add=function(t){var i;return t.negative!==0&&this.negative===0?(t.negative=0,i=this.sub(t),t.negative^=1,i):t.negative===0&&this.negative!==0?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},f.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,u;n>0?(a=this,u=t):(a=t,u=this);for(var d=0,p=0;p<u.length;p++)i=(a.words[p]|0)-(u.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;for(;d!==0&&p<a.length;p++)i=(a.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;if(d===0&&p<a.length&&a!==this)for(;p<a.length;p++)this.words[p]=a.words[p];return this.length=Math.max(this.length,p),a!==this&&(this.negative=1),this._strip()},f.prototype.sub=function(t){return this.clone().isub(t)};function lr(c,t,i){i.negative=t.negative^c.negative;var n=c.length+t.length|0;i.length=n,n=n-1|0;var a=c.words[0]|0,u=t.words[0]|0,d=a*u,p=d&67108863,h=d/67108864|0;i.words[0]=p;for(var e=1;e<n;e++){for(var l=h>>>26,M=h&67108863,b=Math.min(e,t.length-1),x=Math.max(0,e-c.length+1);x<=b;x++){var E=e-x|0;a=c.words[E]|0,u=t.words[x]|0,d=a*u+M,l+=d/67108864|0,M=d&67108863}i.words[e]=M|0,h=l|0}return h!==0?i.words[e]=h|0:i.length--,i._strip()}var qr=function(t,i,n){var a=t.words,u=i.words,d=n.words,p=0,h,e,l,M=a[0]|0,b=M&8191,x=M>>>13,E=a[1]|0,C=E&8191,I=E>>>13,Lt=a[2]|0,T=Lt&8191,L=Lt>>>13,qe=a[3]|0,V=qe&8191,z=qe>>>13,Pe=a[4]|0,U=Pe&8191,F=Pe>>>13,Ce=a[5]|0,Z=Ce&8191,j=Ce>>>13,Ie=a[6]|0,D=Ie&8191,W=Ie>>>13,Te=a[7]|0,J=Te&8191,G=Te>>>13,Re=a[8]|0,Y=Re&8191,Q=Re>>>13,Le=a[9]|0,X=Le&8191,$=Le>>>13,Oe=u[0]|0,tt=Oe&8191,rt=Oe>>>13,Ne=u[1]|0,et=Ne&8191,it=Ne>>>13,He=u[2]|0,nt=He&8191,ft=He>>>13,Ve=u[3]|0,ot=Ve&8191,st=Ve>>>13,ze=u[4]|0,at=ze&8191,ht=ze>>>13,Ue=u[5]|0,ut=Ue&8191,lt=Ue>>>13,Fe=u[6]|0,ct=Fe&8191,dt=Fe>>>13,Ze=u[7]|0,vt=Ze&8191,pt=Ze>>>13,je=u[8]|0,mt=je&8191,yt=je>>>13,De=u[9]|0,gt=De&8191,wt=De>>>13;n.negative=t.negative^i.negative,n.length=19,h=Math.imul(b,tt),e=Math.imul(b,rt),e=e+Math.imul(x,tt)|0,l=Math.imul(x,rt);var Ir=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,h=Math.imul(C,tt),e=Math.imul(C,rt),e=e+Math.imul(I,tt)|0,l=Math.imul(I,rt),h=h+Math.imul(b,et)|0,e=e+Math.imul(b,it)|0,e=e+Math.imul(x,et)|0,l=l+Math.imul(x,it)|0;var Tr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,h=Math.imul(T,tt),e=Math.imul(T,rt),e=e+Math.imul(L,tt)|0,l=Math.imul(L,rt),h=h+Math.imul(C,et)|0,e=e+Math.imul(C,it)|0,e=e+Math.imul(I,et)|0,l=l+Math.imul(I,it)|0,h=h+Math.imul(b,nt)|0,e=e+Math.imul(b,ft)|0,e=e+Math.imul(x,nt)|0,l=l+Math.imul(x,ft)|0;var Rr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,h=Math.imul(V,tt),e=Math.imul(V,rt),e=e+Math.imul(z,tt)|0,l=Math.imul(z,rt),h=h+Math.imul(T,et)|0,e=e+Math.imul(T,it)|0,e=e+Math.imul(L,et)|0,l=l+Math.imul(L,it)|0,h=h+Math.imul(C,nt)|0,e=e+Math.imul(C,ft)|0,e=e+Math.imul(I,nt)|0,l=l+Math.imul(I,ft)|0,h=h+Math.imul(b,ot)|0,e=e+Math.imul(b,st)|0,e=e+Math.imul(x,ot)|0,l=l+Math.imul(x,st)|0;var Lr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,h=Math.imul(U,tt),e=Math.imul(U,rt),e=e+Math.imul(F,tt)|0,l=Math.imul(F,rt),h=h+Math.imul(V,et)|0,e=e+Math.imul(V,it)|0,e=e+Math.imul(z,et)|0,l=l+Math.imul(z,it)|0,h=h+Math.imul(T,nt)|0,e=e+Math.imul(T,ft)|0,e=e+Math.imul(L,nt)|0,l=l+Math.imul(L,ft)|0,h=h+Math.imul(C,ot)|0,e=e+Math.imul(C,st)|0,e=e+Math.imul(I,ot)|0,l=l+Math.imul(I,st)|0,h=h+Math.imul(b,at)|0,e=e+Math.imul(b,ht)|0,e=e+Math.imul(x,at)|0,l=l+Math.imul(x,ht)|0;var Or=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Or>>>26)|0,Or&=67108863,h=Math.imul(Z,tt),e=Math.imul(Z,rt),e=e+Math.imul(j,tt)|0,l=Math.imul(j,rt),h=h+Math.imul(U,et)|0,e=e+Math.imul(U,it)|0,e=e+Math.imul(F,et)|0,l=l+Math.imul(F,it)|0,h=h+Math.imul(V,nt)|0,e=e+Math.imul(V,ft)|0,e=e+Math.imul(z,nt)|0,l=l+Math.imul(z,ft)|0,h=h+Math.imul(T,ot)|0,e=e+Math.imul(T,st)|0,e=e+Math.imul(L,ot)|0,l=l+Math.imul(L,st)|0,h=h+Math.imul(C,at)|0,e=e+Math.imul(C,ht)|0,e=e+Math.imul(I,at)|0,l=l+Math.imul(I,ht)|0,h=h+Math.imul(b,ut)|0,e=e+Math.imul(b,lt)|0,e=e+Math.imul(x,ut)|0,l=l+Math.imul(x,lt)|0;var Nr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,h=Math.imul(D,tt),e=Math.imul(D,rt),e=e+Math.imul(W,tt)|0,l=Math.imul(W,rt),h=h+Math.imul(Z,et)|0,e=e+Math.imul(Z,it)|0,e=e+Math.imul(j,et)|0,l=l+Math.imul(j,it)|0,h=h+Math.imul(U,nt)|0,e=e+Math.imul(U,ft)|0,e=e+Math.imul(F,nt)|0,l=l+Math.imul(F,ft)|0,h=h+Math.imul(V,ot)|0,e=e+Math.imul(V,st)|0,e=e+Math.imul(z,ot)|0,l=l+Math.imul(z,st)|0,h=h+Math.imul(T,at)|0,e=e+Math.imul(T,ht)|0,e=e+Math.imul(L,at)|0,l=l+Math.imul(L,ht)|0,h=h+Math.imul(C,ut)|0,e=e+Math.imul(C,lt)|0,e=e+Math.imul(I,ut)|0,l=l+Math.imul(I,lt)|0,h=h+Math.imul(b,ct)|0,e=e+Math.imul(b,dt)|0,e=e+Math.imul(x,ct)|0,l=l+Math.imul(x,dt)|0;var Hr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,h=Math.imul(J,tt),e=Math.imul(J,rt),e=e+Math.imul(G,tt)|0,l=Math.imul(G,rt),h=h+Math.imul(D,et)|0,e=e+Math.imul(D,it)|0,e=e+Math.imul(W,et)|0,l=l+Math.imul(W,it)|0,h=h+Math.imul(Z,nt)|0,e=e+Math.imul(Z,ft)|0,e=e+Math.imul(j,nt)|0,l=l+Math.imul(j,ft)|0,h=h+Math.imul(U,ot)|0,e=e+Math.imul(U,st)|0,e=e+Math.imul(F,ot)|0,l=l+Math.imul(F,st)|0,h=h+Math.imul(V,at)|0,e=e+Math.imul(V,ht)|0,e=e+Math.imul(z,at)|0,l=l+Math.imul(z,ht)|0,h=h+Math.imul(T,ut)|0,e=e+Math.imul(T,lt)|0,e=e+Math.imul(L,ut)|0,l=l+Math.imul(L,lt)|0,h=h+Math.imul(C,ct)|0,e=e+Math.imul(C,dt)|0,e=e+Math.imul(I,ct)|0,l=l+Math.imul(I,dt)|0,h=h+Math.imul(b,vt)|0,e=e+Math.imul(b,pt)|0,e=e+Math.imul(x,vt)|0,l=l+Math.imul(x,pt)|0;var Vr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,h=Math.imul(Y,tt),e=Math.imul(Y,rt),e=e+Math.imul(Q,tt)|0,l=Math.imul(Q,rt),h=h+Math.imul(J,et)|0,e=e+Math.imul(J,it)|0,e=e+Math.imul(G,et)|0,l=l+Math.imul(G,it)|0,h=h+Math.imul(D,nt)|0,e=e+Math.imul(D,ft)|0,e=e+Math.imul(W,nt)|0,l=l+Math.imul(W,ft)|0,h=h+Math.imul(Z,ot)|0,e=e+Math.imul(Z,st)|0,e=e+Math.imul(j,ot)|0,l=l+Math.imul(j,st)|0,h=h+Math.imul(U,at)|0,e=e+Math.imul(U,ht)|0,e=e+Math.imul(F,at)|0,l=l+Math.imul(F,ht)|0,h=h+Math.imul(V,ut)|0,e=e+Math.imul(V,lt)|0,e=e+Math.imul(z,ut)|0,l=l+Math.imul(z,lt)|0,h=h+Math.imul(T,ct)|0,e=e+Math.imul(T,dt)|0,e=e+Math.imul(L,ct)|0,l=l+Math.imul(L,dt)|0,h=h+Math.imul(C,vt)|0,e=e+Math.imul(C,pt)|0,e=e+Math.imul(I,vt)|0,l=l+Math.imul(I,pt)|0,h=h+Math.imul(b,mt)|0,e=e+Math.imul(b,yt)|0,e=e+Math.imul(x,mt)|0,l=l+Math.imul(x,yt)|0;var zr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(zr>>>26)|0,zr&=67108863,h=Math.imul(X,tt),e=Math.imul(X,rt),e=e+Math.imul($,tt)|0,l=Math.imul($,rt),h=h+Math.imul(Y,et)|0,e=e+Math.imul(Y,it)|0,e=e+Math.imul(Q,et)|0,l=l+Math.imul(Q,it)|0,h=h+Math.imul(J,nt)|0,e=e+Math.imul(J,ft)|0,e=e+Math.imul(G,nt)|0,l=l+Math.imul(G,ft)|0,h=h+Math.imul(D,ot)|0,e=e+Math.imul(D,st)|0,e=e+Math.imul(W,ot)|0,l=l+Math.imul(W,st)|0,h=h+Math.imul(Z,at)|0,e=e+Math.imul(Z,ht)|0,e=e+Math.imul(j,at)|0,l=l+Math.imul(j,ht)|0,h=h+Math.imul(U,ut)|0,e=e+Math.imul(U,lt)|0,e=e+Math.imul(F,ut)|0,l=l+Math.imul(F,lt)|0,h=h+Math.imul(V,ct)|0,e=e+Math.imul(V,dt)|0,e=e+Math.imul(z,ct)|0,l=l+Math.imul(z,dt)|0,h=h+Math.imul(T,vt)|0,e=e+Math.imul(T,pt)|0,e=e+Math.imul(L,vt)|0,l=l+Math.imul(L,pt)|0,h=h+Math.imul(C,mt)|0,e=e+Math.imul(C,yt)|0,e=e+Math.imul(I,mt)|0,l=l+Math.imul(I,yt)|0,h=h+Math.imul(b,gt)|0,e=e+Math.imul(b,wt)|0,e=e+Math.imul(x,gt)|0,l=l+Math.imul(x,wt)|0;var Ur=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,h=Math.imul(X,et),e=Math.imul(X,it),e=e+Math.imul($,et)|0,l=Math.imul($,it),h=h+Math.imul(Y,nt)|0,e=e+Math.imul(Y,ft)|0,e=e+Math.imul(Q,nt)|0,l=l+Math.imul(Q,ft)|0,h=h+Math.imul(J,ot)|0,e=e+Math.imul(J,st)|0,e=e+Math.imul(G,ot)|0,l=l+Math.imul(G,st)|0,h=h+Math.imul(D,at)|0,e=e+Math.imul(D,ht)|0,e=e+Math.imul(W,at)|0,l=l+Math.imul(W,ht)|0,h=h+Math.imul(Z,ut)|0,e=e+Math.imul(Z,lt)|0,e=e+Math.imul(j,ut)|0,l=l+Math.imul(j,lt)|0,h=h+Math.imul(U,ct)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(F,ct)|0,l=l+Math.imul(F,dt)|0,h=h+Math.imul(V,vt)|0,e=e+Math.imul(V,pt)|0,e=e+Math.imul(z,vt)|0,l=l+Math.imul(z,pt)|0,h=h+Math.imul(T,mt)|0,e=e+Math.imul(T,yt)|0,e=e+Math.imul(L,mt)|0,l=l+Math.imul(L,yt)|0,h=h+Math.imul(C,gt)|0,e=e+Math.imul(C,wt)|0,e=e+Math.imul(I,gt)|0,l=l+Math.imul(I,wt)|0;var Fr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,h=Math.imul(X,nt),e=Math.imul(X,ft),e=e+Math.imul($,nt)|0,l=Math.imul($,ft),h=h+Math.imul(Y,ot)|0,e=e+Math.imul(Y,st)|0,e=e+Math.imul(Q,ot)|0,l=l+Math.imul(Q,st)|0,h=h+Math.imul(J,at)|0,e=e+Math.imul(J,ht)|0,e=e+Math.imul(G,at)|0,l=l+Math.imul(G,ht)|0,h=h+Math.imul(D,ut)|0,e=e+Math.imul(D,lt)|0,e=e+Math.imul(W,ut)|0,l=l+Math.imul(W,lt)|0,h=h+Math.imul(Z,ct)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(j,ct)|0,l=l+Math.imul(j,dt)|0,h=h+Math.imul(U,vt)|0,e=e+Math.imul(U,pt)|0,e=e+Math.imul(F,vt)|0,l=l+Math.imul(F,pt)|0,h=h+Math.imul(V,mt)|0,e=e+Math.imul(V,yt)|0,e=e+Math.imul(z,mt)|0,l=l+Math.imul(z,yt)|0,h=h+Math.imul(T,gt)|0,e=e+Math.imul(T,wt)|0,e=e+Math.imul(L,gt)|0,l=l+Math.imul(L,wt)|0;var Zr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,h=Math.imul(X,ot),e=Math.imul(X,st),e=e+Math.imul($,ot)|0,l=Math.imul($,st),h=h+Math.imul(Y,at)|0,e=e+Math.imul(Y,ht)|0,e=e+Math.imul(Q,at)|0,l=l+Math.imul(Q,ht)|0,h=h+Math.imul(J,ut)|0,e=e+Math.imul(J,lt)|0,e=e+Math.imul(G,ut)|0,l=l+Math.imul(G,lt)|0,h=h+Math.imul(D,ct)|0,e=e+Math.imul(D,dt)|0,e=e+Math.imul(W,ct)|0,l=l+Math.imul(W,dt)|0,h=h+Math.imul(Z,vt)|0,e=e+Math.imul(Z,pt)|0,e=e+Math.imul(j,vt)|0,l=l+Math.imul(j,pt)|0,h=h+Math.imul(U,mt)|0,e=e+Math.imul(U,yt)|0,e=e+Math.imul(F,mt)|0,l=l+Math.imul(F,yt)|0,h=h+Math.imul(V,gt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(z,gt)|0,l=l+Math.imul(z,wt)|0;var jr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(jr>>>26)|0,jr&=67108863,h=Math.imul(X,at),e=Math.imul(X,ht),e=e+Math.imul($,at)|0,l=Math.imul($,ht),h=h+Math.imul(Y,ut)|0,e=e+Math.imul(Y,lt)|0,e=e+Math.imul(Q,ut)|0,l=l+Math.imul(Q,lt)|0,h=h+Math.imul(J,ct)|0,e=e+Math.imul(J,dt)|0,e=e+Math.imul(G,ct)|0,l=l+Math.imul(G,dt)|0,h=h+Math.imul(D,vt)|0,e=e+Math.imul(D,pt)|0,e=e+Math.imul(W,vt)|0,l=l+Math.imul(W,pt)|0,h=h+Math.imul(Z,mt)|0,e=e+Math.imul(Z,yt)|0,e=e+Math.imul(j,mt)|0,l=l+Math.imul(j,yt)|0,h=h+Math.imul(U,gt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul(F,gt)|0,l=l+Math.imul(F,wt)|0;var Dr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,h=Math.imul(X,ut),e=Math.imul(X,lt),e=e+Math.imul($,ut)|0,l=Math.imul($,lt),h=h+Math.imul(Y,ct)|0,e=e+Math.imul(Y,dt)|0,e=e+Math.imul(Q,ct)|0,l=l+Math.imul(Q,dt)|0,h=h+Math.imul(J,vt)|0,e=e+Math.imul(J,pt)|0,e=e+Math.imul(G,vt)|0,l=l+Math.imul(G,pt)|0,h=h+Math.imul(D,mt)|0,e=e+Math.imul(D,yt)|0,e=e+Math.imul(W,mt)|0,l=l+Math.imul(W,yt)|0,h=h+Math.imul(Z,gt)|0,e=e+Math.imul(Z,wt)|0,e=e+Math.imul(j,gt)|0,l=l+Math.imul(j,wt)|0;var Wr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,h=Math.imul(X,ct),e=Math.imul(X,dt),e=e+Math.imul($,ct)|0,l=Math.imul($,dt),h=h+Math.imul(Y,vt)|0,e=e+Math.imul(Y,pt)|0,e=e+Math.imul(Q,vt)|0,l=l+Math.imul(Q,pt)|0,h=h+Math.imul(J,mt)|0,e=e+Math.imul(J,yt)|0,e=e+Math.imul(G,mt)|0,l=l+Math.imul(G,yt)|0,h=h+Math.imul(D,gt)|0,e=e+Math.imul(D,wt)|0,e=e+Math.imul(W,gt)|0,l=l+Math.imul(W,wt)|0;var Jr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,h=Math.imul(X,vt),e=Math.imul(X,pt),e=e+Math.imul($,vt)|0,l=Math.imul($,pt),h=h+Math.imul(Y,mt)|0,e=e+Math.imul(Y,yt)|0,e=e+Math.imul(Q,mt)|0,l=l+Math.imul(Q,yt)|0,h=h+Math.imul(J,gt)|0,e=e+Math.imul(J,wt)|0,e=e+Math.imul(G,gt)|0,l=l+Math.imul(G,wt)|0;var Gr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,h=Math.imul(X,mt),e=Math.imul(X,yt),e=e+Math.imul($,mt)|0,l=Math.imul($,yt),h=h+Math.imul(Y,gt)|0,e=e+Math.imul(Y,wt)|0,e=e+Math.imul(Q,gt)|0,l=l+Math.imul(Q,wt)|0;var Yr=(p+h|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,h=Math.imul(X,gt),e=Math.imul(X,wt),e=e+Math.imul($,gt)|0,l=Math.imul($,wt);var Qr=(p+h|0)+((e&8191)<<13)|0;return p=(l+(e>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,d[0]=Ir,d[1]=Tr,d[2]=Rr,d[3]=Lr,d[4]=Or,d[5]=Nr,d[6]=Hr,d[7]=Vr,d[8]=zr,d[9]=Ur,d[10]=Fr,d[11]=Zr,d[12]=jr,d[13]=Dr,d[14]=Wr,d[15]=Jr,d[16]=Gr,d[17]=Yr,d[18]=Qr,p!==0&&(d[19]=p,n.length++),n};Math.imul||(qr=lr);function Se(c,t,i){i.negative=t.negative^c.negative,i.length=c.length+t.length;for(var n=0,a=0,u=0;u<i.length-1;u++){var d=a;a=0;for(var p=n&67108863,h=Math.min(u,t.length-1),e=Math.max(0,u-c.length+1);e<=h;e++){var l=u-e,M=c.words[l]|0,b=t.words[e]|0,x=M*b,E=x&67108863;d=d+(x/67108864|0)|0,E=E+p|0,p=E&67108863,d=d+(E>>>26)|0,a+=d>>>26,d&=67108863}i.words[u]=p,n=d,d=a}return n!==0?i.words[u]=n:i.length--,i._strip()}function Ke(c,t,i){return Se(c,t,i)}f.prototype.mulTo=function(t,i){var n,a=this.length+t.length;return this.length===10&&t.length===10?n=qr(this,t,i):a<63?n=lr(this,t,i):a<1024?n=Se(this,t,i):n=Ke(this,t,i),n};function Bt(c,t){this.x=c,this.y=t}Bt.prototype.makeRBT=function(t){for(var i=new Array(t),n=f.prototype._countBits(t)-1,a=0;a<t;a++)i[a]=this.revBin(a,n,t);return i},Bt.prototype.revBin=function(t,i,n){if(t===0||t===n-1)return t;for(var a=0,u=0;u<i;u++)a|=(t&1)<<i-u-1,t>>=1;return a},Bt.prototype.permute=function(t,i,n,a,u,d){for(var p=0;p<d;p++)a[p]=i[t[p]],u[p]=n[t[p]]},Bt.prototype.transform=function(t,i,n,a,u,d){this.permute(d,t,i,n,a,u);for(var p=1;p<u;p<<=1)for(var h=p<<1,e=Math.cos(2*Math.PI/h),l=Math.sin(2*Math.PI/h),M=0;M<u;M+=h)for(var b=e,x=l,E=0;E<p;E++){var C=n[M+E],I=a[M+E],Lt=n[M+E+p],T=a[M+E+p],L=b*Lt-x*T;T=b*T+x*Lt,Lt=L,n[M+E]=C+Lt,a[M+E]=I+T,n[M+E+p]=C-Lt,a[M+E+p]=I-T,E!==h&&(L=e*b-l*x,x=e*x+l*b,b=L)}},Bt.prototype.guessLen13b=function(t,i){var n=Math.max(i,t)|1,a=n&1,u=0;for(n=n/2|0;n;n=n>>>1)u++;return 1<<u+1+a},Bt.prototype.conjugate=function(t,i,n){if(!(n<=1))for(var a=0;a<n/2;a++){var u=t[a];t[a]=t[n-a-1],t[n-a-1]=u,u=i[a],i[a]=-i[n-a-1],i[n-a-1]=-u}},Bt.prototype.normalize13b=function(t,i){for(var n=0,a=0;a<i/2;a++){var u=Math.round(t[2*a+1]/i)*8192+Math.round(t[2*a]/i)+n;t[a]=u&67108863,u<67108864?n=0:n=u/67108864|0}return t},Bt.prototype.convert13b=function(t,i,n,a){for(var u=0,d=0;d<i;d++)u=u+(t[d]|0),n[2*d]=u&8191,u=u>>>13,n[2*d+1]=u&8191,u=u>>>13;for(d=2*i;d<a;++d)n[d]=0;o(u===0),o((u&-8192)===0)},Bt.prototype.stub=function(t){for(var i=new Array(t),n=0;n<t;n++)i[n]=0;return i},Bt.prototype.mulp=function(t,i,n){var a=2*this.guessLen13b(t.length,i.length),u=this.makeRBT(a),d=this.stub(a),p=new Array(a),h=new Array(a),e=new Array(a),l=new Array(a),M=new Array(a),b=new Array(a),x=n.words;x.length=a,this.convert13b(t.words,t.length,p,a),this.convert13b(i.words,i.length,l,a),this.transform(p,d,h,e,a,u),this.transform(l,d,M,b,a,u);for(var E=0;E<a;E++){var C=h[E]*M[E]-e[E]*b[E];e[E]=h[E]*b[E]+e[E]*M[E],h[E]=C}return this.conjugate(h,e,a),this.transform(h,e,x,d,a,u),this.conjugate(x,d,a),this.normalize13b(x,a),n.negative=t.negative^i.negative,n.length=t.length+i.length,n._strip()},f.prototype.mul=function(t){var i=new f(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},f.prototype.mulf=function(t){var i=new f(null);return i.words=new Array(this.length+t.length),Ke(this,t,i)},f.prototype.imul=function(t){return this.clone().mulTo(t,this)},f.prototype.imuln=function(t){var i=t<0;i&&(t=-t),o(typeof t=="number"),o(t<67108864);for(var n=0,a=0;a<this.length;a++){var u=(this.words[a]|0)*t,d=(u&67108863)+(n&67108863);n>>=26,n+=u/67108864|0,n+=d>>>26,this.words[a]=d&67108863}return n!==0&&(this.words[a]=n,this.length++),i?this.ineg():this},f.prototype.muln=function(t){return this.clone().imuln(t)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(t){var i=zt(t);if(i.length===0)return new f(1);for(var n=this,a=0;a<i.length&&i[a]===0;a++,n=n.sqr());if(++a<i.length)for(var u=n.sqr();a<i.length;a++,u=u.sqr())i[a]!==0&&(n=n.mul(u));return n},f.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var i=t%26,n=(t-i)/26,a=67108863>>>26-i<<26-i,u;if(i!==0){var d=0;for(u=0;u<this.length;u++){var p=this.words[u]&a,h=(this.words[u]|0)-p<<i;this.words[u]=h|d,d=p>>>26-i}d&&(this.words[u]=d,this.length++)}if(n!==0){for(u=this.length-1;u>=0;u--)this.words[u+n]=this.words[u];for(u=0;u<n;u++)this.words[u]=0;this.length+=n}return this._strip()},f.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},f.prototype.iushrn=function(t,i,n){o(typeof t=="number"&&t>=0);var a;i?a=(i-i%26)/26:a=0;var u=t%26,d=Math.min((t-u)/26,this.length),p=67108863^67108863>>>u<<u,h=n;if(a-=d,a=Math.max(0,a),h){for(var e=0;e<d;e++)h.words[e]=this.words[e];h.length=d}if(d!==0)if(this.length>d)for(this.length-=d,e=0;e<this.length;e++)this.words[e]=this.words[e+d];else this.words[0]=0,this.length=1;var l=0;for(e=this.length-1;e>=0&&(l!==0||e>=a);e--){var M=this.words[e]|0;this.words[e]=l<<26-u|M>>>u,l=M&p}return h&&l!==0&&(h.words[h.length++]=l),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},f.prototype.ishrn=function(t,i,n){return o(this.negative===0),this.iushrn(t,i,n)},f.prototype.shln=function(t){return this.clone().ishln(t)},f.prototype.ushln=function(t){return this.clone().iushln(t)},f.prototype.shrn=function(t){return this.clone().ishrn(t)},f.prototype.ushrn=function(t){return this.clone().iushrn(t)},f.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var i=t%26,n=(t-i)/26,a=1<<i;if(this.length<=n)return!1;var u=this.words[n];return!!(u&a)},f.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var i=t%26,n=(t-i)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(i!==0&&n++,this.length=Math.min(n,this.length),i!==0){var a=67108863^67108863>>>i<<i;this.words[this.length-1]&=a}return this._strip()},f.prototype.maskn=function(t){return this.clone().imaskn(t)},f.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},f.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},f.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},f.prototype.addn=function(t){return this.clone().iaddn(t)},f.prototype.subn=function(t){return this.clone().isubn(t)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(t,i,n){var a=t.length+n,u;this._expand(a);var d,p=0;for(u=0;u<t.length;u++){d=(this.words[u+n]|0)+p;var h=(t.words[u]|0)*i;d-=h&67108863,p=(d>>26)-(h/67108864|0),this.words[u+n]=d&67108863}for(;u<this.length-n;u++)d=(this.words[u+n]|0)+p,p=d>>26,this.words[u+n]=d&67108863;if(p===0)return this._strip();for(o(p===-1),p=0,u=0;u<this.length;u++)d=-(this.words[u]|0)+p,p=d>>26,this.words[u]=d&67108863;return this.negative=1,this._strip()},f.prototype._wordDiv=function(t,i){var n=this.length-t.length,a=this.clone(),u=t,d=u.words[u.length-1]|0,p=this._countBits(d);n=26-p,n!==0&&(u=u.ushln(n),a.iushln(n),d=u.words[u.length-1]|0);var h=a.length-u.length,e;if(i!=="mod"){e=new f(null),e.length=h+1,e.words=new Array(e.length);for(var l=0;l<e.length;l++)e.words[l]=0}var M=a.clone()._ishlnsubmul(u,1,h);M.negative===0&&(a=M,e&&(e.words[h]=1));for(var b=h-1;b>=0;b--){var x=(a.words[u.length+b]|0)*67108864+(a.words[u.length+b-1]|0);for(x=Math.min(x/d|0,67108863),a._ishlnsubmul(u,x,b);a.negative!==0;)x--,a.negative=0,a._ishlnsubmul(u,1,b),a.isZero()||(a.negative^=1);e&&(e.words[b]=x)}return e&&e._strip(),a._strip(),i!=="div"&&n!==0&&a.iushrn(n),{div:e||null,mod:a}},f.prototype.divmod=function(t,i,n){if(o(!t.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var a,u,d;return this.negative!==0&&t.negative===0?(d=this.neg().divmod(t,i),i!=="mod"&&(a=d.div.neg()),i!=="div"&&(u=d.mod.neg(),n&&u.negative!==0&&u.iadd(t)),{div:a,mod:u}):this.negative===0&&t.negative!==0?(d=this.divmod(t.neg(),i),i!=="mod"&&(a=d.div.neg()),{div:a,mod:d.mod}):(this.negative&t.negative)!==0?(d=this.neg().divmod(t.neg(),i),i!=="div"&&(u=d.mod.neg(),n&&u.negative!==0&&u.isub(t)),{div:d.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new f(0),mod:this}:t.length===1?i==="div"?{div:this.divn(t.words[0]),mod:null}:i==="mod"?{div:null,mod:new f(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new f(this.modrn(t.words[0]))}:this._wordDiv(t,i)},f.prototype.div=function(t){return this.divmod(t,"div",!1).div},f.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},f.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},f.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var n=i.div.negative!==0?i.mod.isub(t):i.mod,a=t.ushrn(1),u=t.andln(1),d=n.cmp(a);return d<0||u===1&&d===0?i.div:i.div.negative!==0?i.div.isubn(1):i.div.iaddn(1)},f.prototype.modrn=function(t){var i=t<0;i&&(t=-t),o(t<=67108863);for(var n=(1<<26)%t,a=0,u=this.length-1;u>=0;u--)a=(n*a+(this.words[u]|0))%t;return i?-a:a},f.prototype.modn=function(t){return this.modrn(t)},f.prototype.idivn=function(t){var i=t<0;i&&(t=-t),o(t<=67108863);for(var n=0,a=this.length-1;a>=0;a--){var u=(this.words[a]|0)+n*67108864;this.words[a]=u/t|0,n=u%t}return this._strip(),i?this.ineg():this},f.prototype.divn=function(t){return this.clone().idivn(t)},f.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var i=this,n=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var a=new f(1),u=new f(0),d=new f(0),p=new f(1),h=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++h;for(var e=n.clone(),l=i.clone();!i.isZero();){for(var M=0,b=1;(i.words[0]&b)===0&&M<26;++M,b<<=1);if(M>0)for(i.iushrn(M);M-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(e),u.isub(l)),a.iushrn(1),u.iushrn(1);for(var x=0,E=1;(n.words[0]&E)===0&&x<26;++x,E<<=1);if(x>0)for(n.iushrn(x);x-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(e),p.isub(l)),d.iushrn(1),p.iushrn(1);i.cmp(n)>=0?(i.isub(n),a.isub(d),u.isub(p)):(n.isub(i),d.isub(a),p.isub(u))}return{a:d,b:p,gcd:n.iushln(h)}},f.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var i=this,n=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var a=new f(1),u=new f(0),d=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var p=0,h=1;(i.words[0]&h)===0&&p<26;++p,h<<=1);if(p>0)for(i.iushrn(p);p-- >0;)a.isOdd()&&a.iadd(d),a.iushrn(1);for(var e=0,l=1;(n.words[0]&l)===0&&e<26;++e,l<<=1);if(e>0)for(n.iushrn(e);e-- >0;)u.isOdd()&&u.iadd(d),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),a.isub(u)):(n.isub(i),u.isub(a))}var M;return i.cmpn(1)===0?M=a:M=u,M.cmpn(0)<0&&M.iadd(t),M},f.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),n=t.clone();i.negative=0,n.negative=0;for(var a=0;i.isEven()&&n.isEven();a++)i.iushrn(1),n.iushrn(1);do{for(;i.isEven();)i.iushrn(1);for(;n.isEven();)n.iushrn(1);var u=i.cmp(n);if(u<0){var d=i;i=n,n=d}else if(u===0||n.cmpn(1)===0)break;i.isub(n)}while(!0);return n.iushln(a)},f.prototype.invm=function(t){return this.egcd(t).a.umod(t)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(t){return this.words[0]&t},f.prototype.bincn=function(t){o(typeof t=="number");var i=t%26,n=(t-i)/26,a=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var u=a,d=n;u!==0&&d<this.length;d++){var p=this.words[d]|0;p+=u,u=p>>>26,p&=67108863,this.words[d]=p}return u!==0&&(this.words[d]=u,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(t){var i=t<0;if(this.negative!==0&&!i)return-1;if(this.negative===0&&i)return 1;this._strip();var n;if(this.length>1)n=1;else{i&&(t=-t),o(t<=67108863,"Number is too big");var a=this.words[0]|0;n=a===t?0:a<t?-1:1}return this.negative!==0?-n|0:n},f.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var i=this.ucmp(t);return this.negative!==0?-i|0:i},f.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,n=this.length-1;n>=0;n--){var a=this.words[n]|0,u=t.words[n]|0;if(a!==u){a<u?i=-1:a>u&&(i=1);break}}return i},f.prototype.gtn=function(t){return this.cmpn(t)===1},f.prototype.gt=function(t){return this.cmp(t)===1},f.prototype.gten=function(t){return this.cmpn(t)>=0},f.prototype.gte=function(t){return this.cmp(t)>=0},f.prototype.ltn=function(t){return this.cmpn(t)===-1},f.prototype.lt=function(t){return this.cmp(t)===-1},f.prototype.lten=function(t){return this.cmpn(t)<=0},f.prototype.lte=function(t){return this.cmp(t)<=0},f.prototype.eqn=function(t){return this.cmpn(t)===0},f.prototype.eq=function(t){return this.cmp(t)===0},f.red=function(t){return new N(t)},f.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},f.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(t){return this.red=t,this},f.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},f.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},f.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},f.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},f.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},f.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},f.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},f.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},f.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var Pr={k256:null,p224:null,p192:null,p25519:null};function At(c,t){this.name=c,this.p=new f(t,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}At.prototype._tmp=function(){var t=new f(null);return t.words=new Array(Math.ceil(this.n/13)),t},At.prototype.ireduce=function(t){var i=t,n;do this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),n=i.bitLength();while(n>this.n);var a=n<this.n?-1:i.ucmp(this.p);return a===0?(i.words[0]=0,i.length=1):a>0?i.isub(this.p):i.strip!==void 0?i.strip():i._strip(),i},At.prototype.split=function(t,i){t.iushrn(this.n,0,i)},At.prototype.imulK=function(t){return t.imul(this.k)};function cr(){At.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}v(cr,At),cr.prototype.split=function(t,i){for(var n=4194303,a=Math.min(t.length,9),u=0;u<a;u++)i.words[u]=t.words[u];if(i.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var d=t.words[9];for(i.words[i.length++]=d&n,u=10;u<t.length;u++){var p=t.words[u]|0;t.words[u-10]=(p&n)<<4|d>>>22,d=p}d>>>=22,t.words[u-10]=d,d===0&&t.length>10?t.length-=10:t.length-=9},cr.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,n=0;n<t.length;n++){var a=t.words[n]|0;i+=a*977,t.words[n]=i&67108863,i=a*64+(i/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Ee(){At.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}v(Ee,At);function Be(){At.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}v(Be,At);function Cr(){At.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}v(Cr,At),Cr.prototype.imulK=function(t){for(var i=0,n=0;n<t.length;n++){var a=(t.words[n]|0)*19+i,u=a&67108863;a>>>=26,t.words[n]=u,i=a}return i!==0&&(t.words[t.length++]=i),t},f._prime=function(t){if(Pr[t])return Pr[t];var i;if(t==="k256")i=new cr;else if(t==="p224")i=new Ee;else if(t==="p192")i=new Be;else if(t==="p25519")i=new Cr;else throw new Error("Unknown prime "+t);return Pr[t]=i,i};function N(c){if(typeof c=="string"){var t=f._prime(c);this.m=t.p,this.prime=t}else o(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}N.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},N.prototype._verify2=function(t,i){o((t.negative|i.negative)===0,"red works only with positives"),o(t.red&&t.red===i.red,"red works only with red numbers")},N.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(_(t,t.umod(this.m)._forceRed(this)),t)},N.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},N.prototype.add=function(t,i){this._verify2(t,i);var n=t.add(i);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},N.prototype.iadd=function(t,i){this._verify2(t,i);var n=t.iadd(i);return n.cmp(this.m)>=0&&n.isub(this.m),n},N.prototype.sub=function(t,i){this._verify2(t,i);var n=t.sub(i);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},N.prototype.isub=function(t,i){this._verify2(t,i);var n=t.isub(i);return n.cmpn(0)<0&&n.iadd(this.m),n},N.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},N.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},N.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},N.prototype.isqr=function(t){return this.imul(t,t.clone())},N.prototype.sqr=function(t){return this.mul(t,t)},N.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(o(i%2===1),i===3){var n=this.m.add(new f(1)).iushrn(2);return this.pow(t,n)}for(var a=this.m.subn(1),u=0;!a.isZero()&&a.andln(1)===0;)u++,a.iushrn(1);o(!a.isZero());var d=new f(1).toRed(this),p=d.redNeg(),h=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new f(2*e*e).toRed(this);this.pow(e,h).cmp(p)!==0;)e.redIAdd(p);for(var l=this.pow(e,a),M=this.pow(t,a.addn(1).iushrn(1)),b=this.pow(t,a),x=u;b.cmp(d)!==0;){for(var E=b,C=0;E.cmp(d)!==0;C++)E=E.redSqr();o(C<x);var I=this.pow(l,new f(1).iushln(x-C-1));M=M.redMul(I),l=I.redSqr(),b=b.redMul(l),x=C}return M},N.prototype.invm=function(t){var i=t._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},N.prototype.pow=function(t,i){if(i.isZero())return new f(1).toRed(this);if(i.cmpn(1)===0)return t.clone();var n=4,a=new Array(1<<n);a[0]=new f(1).toRed(this),a[1]=t;for(var u=2;u<a.length;u++)a[u]=this.mul(a[u-1],t);var d=a[0],p=0,h=0,e=i.bitLength()%26;for(e===0&&(e=26),u=i.length-1;u>=0;u--){for(var l=i.words[u],M=e-1;M>=0;M--){var b=l>>M&1;if(d!==a[0]&&(d=this.sqr(d)),b===0&&p===0){h=0;continue}p<<=1,p|=b,h++,!(h!==n&&(u!==0||M!==0))&&(d=this.mul(d,a[p]),h=0,p=0)}e=26}return d},N.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},N.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},f.mont=function(t){return new Ut(t)};function Ut(c){N.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v(Ut,N),Ut.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Ut.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},Ut.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(i),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=n.isub(a).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},Ut.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new f(0)._forceRed(this);var n=t.mul(i),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=n.isub(a).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},Ut.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}})(typeof Xr>"u"||Xr,ti)});var te=R(H=>{"use strict";k();A();Object.defineProperty(H,"__esModule",{value:!0});H.KECCAK256_RLP=H.KECCAK256_RLP_S=H.KECCAK256_RLP_ARRAY=H.KECCAK256_RLP_ARRAY_S=H.KECCAK256_NULL=H.KECCAK256_NULL_S=H.TWO_POW256=H.MAX_INTEGER=void 0;var $r=We().Buffer,ri=Ft();H.MAX_INTEGER=new ri("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);H.TWO_POW256=new ri("10000000000000000000000000000000000000000000000000000000000000000",16);H.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";H.KECCAK256_NULL=$r.from(H.KECCAK256_NULL_S,"hex");H.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";H.KECCAK256_RLP_ARRAY=$r.from(H.KECCAK256_RLP_ARRAY_S,"hex");H.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";H.KECCAK256_RLP=$r.from(H.KECCAK256_RLP_S,"hex")});var er=R(qt=>{"use strict";k();A();Object.defineProperty(qt,"__esModule",{value:!0});qt.assertIsString=qt.assertIsArray=qt.assertIsBuffer=qt.assertIsHexString=void 0;var Xi=rr();qt.assertIsHexString=function(r){if(!Xi.isHexString(r)){var s="This method only supports 0x-prefixed hex strings but input was: "+r;throw new Error(s)}};qt.assertIsBuffer=function(r){if(!y.Buffer.isBuffer(r)){var s="This method only supports Buffer but input was: "+r;throw new Error(s)}};qt.assertIsArray=function(r){if(!Array.isArray(r)){var s="This method only supports number arrays but input was: "+r;throw new Error(s)}};qt.assertIsString=function(r){if(typeof r!="string"){var s="This method only supports strings but input was: "+r;throw new Error(s)}}});var Ot=R(q=>{"use strict";k();A();Object.defineProperty(q,"__esModule",{value:!0});q.baToJSON=q.addHexPrefix=q.toUnsigned=q.fromSigned=q.bufferToHex=q.bufferToInt=q.toBuffer=q.unpadHexString=q.unpadArray=q.unpadBuffer=q.setLengthRight=q.setLengthLeft=q.zeros=void 0;var re=Ft(),Wt=rr(),ir=er();q.zeros=function(r){return y.Buffer.allocUnsafe(r).fill(0)};q.setLengthLeft=function(r,s){return ir.assertIsBuffer(r),ei(r,s,!1)};q.setLengthRight=function(r,s){return ir.assertIsBuffer(r),ei(r,s,!0)};var ei=function(r,s,o){var v=q.zeros(s);return o?r.length<s?(r.copy(v),v):r.slice(0,s):r.length<s?(r.copy(v,s-r.length),v):r.slice(-s)};q.unpadBuffer=function(r){return ir.assertIsBuffer(r),ee(r)};q.unpadArray=function(r){return ir.assertIsArray(r),ee(r)};q.unpadHexString=function(r){return ir.assertIsHexString(r),r=Wt.stripHexPrefix(r),ee(r)};var ee=function(r){for(var s=r[0];r.length>0&&s.toString()==="0";)r=r.slice(1),s=r[0];return r};q.toBuffer=function(r){if(r==null)return y.Buffer.allocUnsafe(0);if(y.Buffer.isBuffer(r))return y.Buffer.from(r);if(Array.isArray(r)||r instanceof Uint8Array)return y.Buffer.from(r);if(typeof r=="string"){if(!Wt.isHexString(r))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+r);return y.Buffer.from(Wt.padToEven(Wt.stripHexPrefix(r)),"hex")}if(typeof r=="number")return Wt.intToBuffer(r);if(re.isBN(r))return r.toArrayLike(y.Buffer);if(r.toArray)return y.Buffer.from(r.toArray());if(r.toBuffer)return y.Buffer.from(r.toBuffer());throw new Error("invalid type")};q.bufferToInt=function(r){return new re(q.toBuffer(r)).toNumber()};q.bufferToHex=function(r){return r=q.toBuffer(r),"0x"+r.toString("hex")};q.fromSigned=function(r){return new re(r).fromTwos(256)};q.toUnsigned=function(r){return y.Buffer.from(r.toTwos(256).toArray())};q.addHexPrefix=function(r){return typeof r!="string"||Wt.isHexPrefixed(r)?r:"0x"+r};q.baToJSON=function(r){if(y.Buffer.isBuffer(r))return"0x"+r.toString("hex");if(r instanceof Array){for(var s=[],o=0;o<r.length;o++)s.push(q.baToJSON(r[o]));return s}}});var mr=R(P=>{"use strict";k();A();Object.defineProperty(P,"__esModule",{value:!0});P.rlphash=P.ripemd160FromArray=P.ripemd160FromString=P.ripemd160=P.sha256FromArray=P.sha256FromString=P.sha256=P.keccakFromArray=P.keccakFromHexString=P.keccakFromString=P.keccak256=P.keccak=void 0;var pr=Ji(),$i=pr.keccak224,tn=pr.keccak384,rn=pr.keccak256,en=pr.keccak512,ii=Zi(),nn=vr(),nr=Ot(),Pt=er();P.keccak=function(r,s){switch(s===void 0&&(s=256),Pt.assertIsBuffer(r),s){case 224:return $i(r);case 256:return rn(r);case 384:return tn(r);case 512:return en(r);default:throw new Error("Invald algorithm: keccak"+s)}};P.keccak256=function(r){return P.keccak(r)};P.keccakFromString=function(r,s){s===void 0&&(s=256),Pt.assertIsString(r);var o=y.Buffer.from(r,"utf8");return P.keccak(o,s)};P.keccakFromHexString=function(r,s){return s===void 0&&(s=256),Pt.assertIsHexString(r),P.keccak(nr.toBuffer(r),s)};P.keccakFromArray=function(r,s){return s===void 0&&(s=256),Pt.assertIsArray(r),P.keccak(nr.toBuffer(r),s)};P.sha256=function(r){return Pt.assertIsBuffer(r),ie(r)};P.sha256FromString=function(r){return Pt.assertIsString(r),ie(r)};P.sha256FromArray=function(r){return Pt.assertIsArray(r),ie(r)};var ie=function(r){return r=nr.toBuffer(r),ii("sha256").update(r).digest()};P.ripemd160=function(r,s){return Pt.assertIsBuffer(r),ne(r,s)};P.ripemd160FromString=function(r,s){return Pt.assertIsString(r),ne(r,s)};P.ripemd160FromArray=function(r,s){return Pt.assertIsArray(r),ne(r,s)};var ne=function(r,s){r=nr.toBuffer(r);var o=ii("rmd160").update(r).digest();return s===!0?nr.setLengthLeft(o,32):o};P.rlphash=function(r){return P.keccak(nn.encode(r))}});var fe=R(Jt=>{"use strict";k();A();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.bnToRlp=Jt.bnToHex=void 0;var fn=Ot();function on(r){return"0x"+r.toString(16)}Jt.bnToHex=on;function sn(r){return fn.unpadBuffer(r.toArrayLike(y.Buffer))}Jt.bnToRlp=sn});var se=R(B=>{"use strict";k();A();Object.defineProperty(B,"__esModule",{value:!0});B.isZeroAddress=B.zeroAddress=B.importPublic=B.privateToPublic=B.privateToAddress=B.publicToAddress=B.pubToAddress=B.isValidPublic=B.isValidPrivate=B.generateAddress2=B.generateAddress=B.isValidChecksumAddress=B.toChecksumAddress=B.isValidAddress=B.Account=void 0;var oe=dr(),Tt=Ft(),ni=vr(),an=rr(),yr=te(),Gt=Ot(),Yt=mr(),St=er(),fi=fe(),gr=Qe(),hn=gr.privateKeyVerify,un=gr.publicKeyCreate,oi=gr.publicKeyVerify,si=gr.publicKeyConvert,ln=function(){function r(s,o,v,f){s===void 0&&(s=new Tt(0)),o===void 0&&(o=new Tt(0)),v===void 0&&(v=yr.KECCAK256_RLP),f===void 0&&(f=yr.KECCAK256_NULL),this.nonce=s,this.balance=o,this.stateRoot=v,this.codeHash=f,this._validate()}return r.fromAccountData=function(s){var o=s.nonce,v=s.balance,f=s.stateRoot,m=s.codeHash;return new r(o?new Tt(Gt.toBuffer(o)):void 0,v?new Tt(Gt.toBuffer(v)):void 0,f?Gt.toBuffer(f):void 0,m?Gt.toBuffer(m):void 0)},r.fromRlpSerializedAccount=function(s){var o=ni.decode(s);if(!Array.isArray(o))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(o)},r.fromValuesArray=function(s){var o=s[0],v=s[1],f=s[2],m=s[3];return new r(o?new Tt(o):void 0,v?new Tt(v):void 0,f,m)},r.prototype._validate=function(){if(this.nonce.lt(new Tt(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new Tt(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},r.prototype.raw=function(){return[fi.bnToRlp(this.nonce),fi.bnToRlp(this.balance),this.stateRoot,this.codeHash]},r.prototype.serialize=function(){return ni.encode(this.raw())},r.prototype.isContract=function(){return!this.codeHash.equals(yr.KECCAK256_NULL)},r.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(yr.KECCAK256_NULL)},r}();B.Account=ln;B.isValidAddress=function(r){return St.assertIsHexString(r),/^0x[0-9a-fA-F]{40}$/.test(r)};B.toChecksumAddress=function(r,s){St.assertIsHexString(r);for(var o=an.stripHexPrefix(r).toLowerCase(),v=s!==void 0?s.toString()+"0x":"",f=Yt.keccakFromString(v+o).toString("hex"),m="0x",w=0;w<o.length;w++)parseInt(f[w],16)>=8?m+=o[w].toUpperCase():m+=o[w];return m};B.isValidChecksumAddress=function(r,s){return B.isValidAddress(r)&&B.toChecksumAddress(r,s)===r};B.generateAddress=function(r,s){St.assertIsBuffer(r),St.assertIsBuffer(s);var o=new Tt(s);return o.isZero()?Yt.rlphash([r,null]).slice(-20):Yt.rlphash([r,y.Buffer.from(o.toArray())]).slice(-20)};B.generateAddress2=function(r,s,o){St.assertIsBuffer(r),St.assertIsBuffer(s),St.assertIsBuffer(o),oe(r.length===20),oe(s.length===32);var v=Yt.keccak256(y.Buffer.concat([y.Buffer.from("ff","hex"),r,s,Yt.keccak256(o)]));return v.slice(-20)};B.isValidPrivate=function(r){return hn(r)};B.isValidPublic=function(r,s){return s===void 0&&(s=!1),St.assertIsBuffer(r),r.length===64?oi(y.Buffer.concat([y.Buffer.from([4]),r])):s?oi(r):!1};B.pubToAddress=function(r,s){return s===void 0&&(s=!1),St.assertIsBuffer(r),s&&r.length!==64&&(r=y.Buffer.from(si(r,!1).slice(1))),oe(r.length===64),Yt.keccak(r).slice(-20)};B.publicToAddress=B.pubToAddress;B.privateToAddress=function(r){return B.publicToAddress(B.privateToPublic(r))};B.privateToPublic=function(r){return St.assertIsBuffer(r),y.Buffer.from(un(r,!1)).slice(1)};B.importPublic=function(r){return St.assertIsBuffer(r),r.length!==64&&(r=y.Buffer.from(si(r,!1).slice(1))),r};B.zeroAddress=function(){var r=20,s=Gt.zeros(r);return Gt.bufferToHex(s)};B.isZeroAddress=function(r){St.assertIsHexString(r);var s=B.zeroAddress();return s===r}});var hi=R(wr=>{"use strict";k();A();Object.defineProperty(wr,"__esModule",{value:!0});wr.Address=void 0;var Zt=dr(),cn=Ft(),ai=Ot(),fr=se(),dn=function(){function r(s){Zt(s.length===20,"Invalid address length"),this.buf=s}return r.zero=function(){return new r(ai.zeros(20))},r.fromString=function(s){return Zt(fr.isValidAddress(s),"Invalid address"),new r(ai.toBuffer(s))},r.fromPublicKey=function(s){Zt(y.Buffer.isBuffer(s),"Public key should be Buffer");var o=fr.pubToAddress(s);return new r(o)},r.fromPrivateKey=function(s){Zt(y.Buffer.isBuffer(s),"Private key should be Buffer");var o=fr.privateToAddress(s);return new r(o)},r.generate=function(s,o){return Zt(cn.isBN(o)),new r(fr.generateAddress(s.buf,o.toArrayLike(y.Buffer)))},r.generate2=function(s,o,v){return Zt(y.Buffer.isBuffer(o)),Zt(y.Buffer.isBuffer(v)),new r(fr.generateAddress2(s.buf,o,v))},r.prototype.equals=function(s){return this.buf.equals(s.buf)},r.prototype.isZero=function(){return this.equals(r.zero())},r.prototype.toString=function(){return"0x"+this.buf.toString("hex")},r.prototype.toBuffer=function(){return y.Buffer.from(this.buf)},r}();wr.Address=dn});var ui=R(kt=>{"use strict";k();A();Object.defineProperty(kt,"__esModule",{value:!0});kt.hashPersonalMessage=kt.isValidSignature=kt.fromRpcSig=kt.toRpcSig=kt.ecrecover=kt.ecsign=void 0;var ae=Qe(),vn=ae.ecdsaSign,pn=ae.ecdsaRecover,mn=ae.publicKeyConvert,Mr=Ft(),Nt=Ot(),yn=mr(),gn=er();kt.ecsign=function(r,s,o){var v=vn(r,s),f=v.recid,m={r:y.Buffer.from(v.signature.slice(0,32)),s:y.Buffer.from(v.signature.slice(32,64)),v:o?f+(o*2+35):f+27};return m};kt.ecrecover=function(r,s,o,v,f){var m=y.Buffer.concat([Nt.setLengthLeft(o,32),Nt.setLengthLeft(v,32)],64),w=he(s,f);if(!ue(w))throw new Error("Invalid signature v value");var K=pn(m,w,r);return y.Buffer.from(mn(K,!1).slice(1))};kt.toRpcSig=function(r,s,o,v){var f=he(r,v);if(!ue(f))throw new Error("Invalid signature v value");return Nt.bufferToHex(y.Buffer.concat([Nt.setLengthLeft(s,32),Nt.setLengthLeft(o,32),Nt.toBuffer(r)]))};kt.fromRpcSig=function(r){var s=Nt.toBuffer(r);if(s.length<65)throw new Error("Invalid signature length");var o=Nt.bufferToInt(s.slice(64));return o<27&&(o+=27),{v:o,r:s.slice(0,32),s:s.slice(32,64)}};kt.isValidSignature=function(r,s,o,v,f){v===void 0&&(v=!0);var m=new Mr("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),w=new Mr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(s.length!==32||o.length!==32||!ue(he(r,f)))return!1;var K=new Mr(s),_=new Mr(o);return!(K.isZero()||K.gt(w)||_.isZero()||_.gt(w)||v&&_.cmp(m)===1)};kt.hashPersonalMessage=function(r){gn.assertIsBuffer(r);var s=y.Buffer.from(`Ethereum Signed Message:
`+r.length.toString(),"utf-8");return yn.keccak(y.Buffer.concat([s,r]))};function he(r,s){return s?r-(2*s+35):r-27}function ue(r){return r===0||r===1}});var di=R(xr=>{"use strict";k();A();Object.defineProperty(xr,"__esModule",{value:!0});xr.defineProperties=void 0;var wn=rr(),li=dr(),ci=vr(),br=Ot();xr.defineProperties=function(r,s,o){if(r.raw=[],r._fields=[],r.toJSON=function(f){if(f===void 0&&(f=!1),f){var m={};return r._fields.forEach(function(w){m[w]="0x"+r[w].toString("hex")}),m}return br.baToJSON(r.raw)},r.serialize=function(){return ci.encode(r.raw)},s.forEach(function(f,m){r._fields.push(f.name);function w(){return r.raw[m]}function K(_){_=br.toBuffer(_),_.toString("hex")==="00"&&!f.allowZero&&(_=y.Buffer.allocUnsafe(0)),f.allowLess&&f.length?(_=br.unpadBuffer(_),li(f.length>=_.length,"The field "+f.name+" must not have more "+f.length+" bytes")):!(f.allowZero&&_.length===0)&&f.length&&li(f.length===_.length,"The field "+f.name+" must have byte length of "+f.length),r.raw[m]=_}Object.defineProperty(r,f.name,{enumerable:!0,configurable:!0,get:w,set:K}),f.default&&(r[f.name]=f.default),f.alias&&Object.defineProperty(r,f.alias,{enumerable:!1,configurable:!0,set:K,get:w})}),o)if(typeof o=="string"&&(o=y.Buffer.from(wn.stripHexPrefix(o),"hex")),y.Buffer.isBuffer(o)&&(o=ci.decode(o)),Array.isArray(o)){if(o.length>r._fields.length)throw new Error("wrong number of fields in data");o.forEach(function(f,m){r[r._fields[m]]=br.toBuffer(f)})}else if(typeof o=="object"){var v=Object.keys(o);s.forEach(function(f){v.indexOf(f.name)!==-1&&(r[f.name]=o[f.name]),v.indexOf(f.alias)!==-1&&(r[f.alias]=o[f.alias])})}else throw new Error("invalid data")}});var vi=R(Qt=>{"use strict";k();A();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.rlp=Qt.BN=void 0;var Mn=Ft();Qt.BN=Mn;var bn=vr();Qt.rlp=bn});var le=R(xt=>{"use strict";k();A();var xn=xt&&xt.__createBinding||(Object.create?function(r,s,o,v){v===void 0&&(v=o),Object.defineProperty(r,v,{enumerable:!0,get:function(){return s[o]}})}:function(r,s,o,v){v===void 0&&(v=o),r[v]=s[o]}),Ct=xt&&xt.__exportStar||function(r,s){for(var o in r)o!=="default"&&!s.hasOwnProperty(o)&&xn(s,r,o)};Object.defineProperty(xt,"__esModule",{value:!0});Ct(te(),xt);Ct(se(),xt);Ct(hi(),xt);Ct(mr(),xt);Ct(ui(),xt);Ct(Ot(),xt);Ct(di(),xt);Ct(vi(),xt);Ct(fe(),xt);Ct(rr(),xt)});var pi=R(ce=>{"use strict";k();A();Object.defineProperty(ce,"__esModule",{value:!0});var _n=Wi().ripemd160,kn=Ye();ce.ripemd160=kn.createHashFunction(function(){return new _n})});var mi=R(de=>{"use strict";k();A();Object.defineProperty(de,"__esModule",{value:!0});var An=Di(),Sn=Ye();de.sha256=Sn.createHashFunction(function(){return new An})});var gi=R(or=>{"use strict";k();A();Object.defineProperty(or,"__esModule",{value:!0});var Kn=pi(),En=mi();or.createHmac=ji();or.randomBytes=Je();var yi=function(){function r(s){this.hashFunction=s,this.buffers=[]}return r.prototype.update=function(s){if(!y.Buffer.isBuffer(s))throw new Error("hdkey-crypto shim is outdated");return this.buffers.push(s),this},r.prototype.digest=function(s){if(s)throw new Error("hdkey-crypto shim is outdated");return this.hashFunction(y.Buffer.concat(this.buffers))},r}();or.createHash=function(r){if(r==="ripemd160")return new yi(Kn.ripemd160);if(r==="sha256")return new yi(En.sha256);throw new Error("hdkey-crypto shim is outdated")}});var wi=R(Kt=>{"use strict";k();A();var Bn=Kt&&Kt.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var o in r)Object.hasOwnProperty.call(r,o)&&(s[o]=r[o]);return s.default=r,s};Object.defineProperty(Kt,"__esModule",{value:!0});var Ht=Bn(Gi());function qn(r){return Ht.privateKeyVerify(r)}Kt.privateKeyVerify=qn;function Pn(r,s){return s===void 0&&(s=!0),y.Buffer.from(Ht.publicKeyCreate(r,s))}Kt.publicKeyCreate=Pn;function Cn(r){return Ht.publicKeyVerify(r)}Kt.publicKeyVerify=Cn;function In(r,s){return s===void 0&&(s=!0),y.Buffer.from(Ht.publicKeyConvert(r,s))}Kt.publicKeyConvert=In;function Tn(r,s){return y.Buffer.from(Ht.privateKeyTweakAdd(y.Buffer.from(r),s))}Kt.privateKeyTweakAdd=Tn;function Rn(r,s,o){return o===void 0&&(o=!0),y.Buffer.from(Ht.publicKeyTweakAdd(y.Buffer.from(r),s,o))}Kt.publicKeyTweakAdd=Rn;function Ln(r,s){var o=Ht.ecdsaSign(r,s);return{signature:y.Buffer.from(o.signature),recovery:o.recid}}Kt.sign=Ln;function On(r,s,o){return Ht.ecdsaVerify(s,r,o)}Kt.verify=On});var Mi=R(_r=>{"use strict";k();A();function Nn(r){for(var s in r)_r.hasOwnProperty(s)||(_r[s]=r[s])}Object.defineProperty(_r,"__esModule",{value:!0});Nn(wi())});var Ai=R((ho,ki)=>{"use strict";k();A();function ve(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var It=ve(dr()),Hn=ve(Fi()),pe=ve(Xe()),sr=gi(),Vt=Mi(),Rt=Hn.Buffer,Vn=Rt.from("Bitcoin seed","utf8"),kr=2147483648,zn=78,bi={private:76066276,public:76067358};function O(r){this.versions=r||bi,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(O.prototype,"fingerprint",{get:function(){return this._fingerprint}});Object.defineProperty(O.prototype,"identifier",{get:function(){return this._identifier}});Object.defineProperty(O.prototype,"pubKeyHash",{get:function(){return this.identifier}});Object.defineProperty(O.prototype,"privateKey",{get:function(){return this._privateKey},set:function(r){It.equal(r.length,32,"Private key must be 32 bytes."),It(Vt.privateKeyVerify(r)===!0,"Invalid private key"),this._privateKey=r,this._publicKey=Vt.publicKeyCreate(r,!0),this._identifier=_i(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});Object.defineProperty(O.prototype,"publicKey",{get:function(){return this._publicKey},set:function(r){It(r.length===33||r.length===65,"Public key must be 33 or 65 bytes."),It(Vt.publicKeyVerify(r)===!0,"Invalid public key"),this._publicKey=Vt.publicKeyConvert(r,!0),this._identifier=_i(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}});Object.defineProperty(O.prototype,"privateExtendedKey",{get:function(){return this._privateKey?pe.encode(xi(this,this.versions.private,Rt.concat([Rt.alloc(1,0),this.privateKey]))):null}});Object.defineProperty(O.prototype,"publicExtendedKey",{get:function(){return pe.encode(xi(this,this.versions.public,this.publicKey))}});O.prototype.derive=function(r){if(r==="m"||r==="M"||r==="m'"||r==="M'")return this;var s=r.split("/"),o=this;return s.forEach(function(v,f){if(f===0){It(/^[mM]{1}/.test(v),'Path must start with "m" or "M"');return}var m=v.length>1&&v[v.length-1]==="'",w=parseInt(v,10);It(w<kr,"Invalid index"),m&&(w+=kr),o=o.deriveChild(w)}),o};O.prototype.deriveChild=function(r){var s=r>=kr,o=Rt.allocUnsafe(4);o.writeUInt32BE(r,0);var v;if(s){It(this.privateKey,"Could not derive hardened child key");var f=this.privateKey,m=Rt.alloc(1,0);f=Rt.concat([m,f]),v=Rt.concat([f,o])}else v=Rt.concat([this.publicKey,o]);var w=sr.createHmac("sha512",this.chainCode).update(v).digest(),K=w.slice(0,32),_=w.slice(32),g=new O(this.versions);if(this.privateKey)try{g.privateKey=Vt.privateKeyTweakAdd(this.privateKey,K)}catch{return this.deriveChild(r+1)}else try{g.publicKey=Vt.publicKeyTweakAdd(this.publicKey,K,!0)}catch{return this.deriveChild(r+1)}return g.chainCode=_,g.depth=this.depth+1,g.parentFingerprint=this.fingerprint,g.index=r,g};O.prototype.sign=function(r){return Vt.sign(r,this.privateKey).signature};O.prototype.verify=function(r,s){return Vt.verify(r,s,this.publicKey)};O.prototype.wipePrivateData=function(){return this._privateKey&&sr.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this};O.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}};O.fromMasterSeed=function(r,s){var o=sr.createHmac("sha512",Vn).update(r).digest(),v=o.slice(0,32),f=o.slice(32),m=new O(s);return m.chainCode=f,m.privateKey=v,m};O.fromExtendedKey=function(r,s){s=s||bi;var o=new O(s),v=pe.decode(r),f=v.readUInt32BE(0);It(f===s.private||f===s.public,"Version mismatch: does not match private or public"),o.depth=v.readUInt8(4),o.parentFingerprint=v.readUInt32BE(5),o.index=v.readUInt32BE(9),o.chainCode=v.slice(13,45);var m=v.slice(45);return m.readUInt8(0)===0?(It(f===s.private,"Version mismatch: version does not match private"),o.privateKey=m.slice(1)):(It(f===s.public,"Version mismatch: version does not match public"),o.publicKey=m),o};O.fromJSON=function(r){return O.fromExtendedKey(r.xpriv)};function xi(r,s,o){var v=Rt.allocUnsafe(zn);v.writeUInt32BE(s,0),v.writeUInt8(r.depth,4);var f=r.depth?r.parentFingerprint:0;return v.writeUInt32BE(f,5),v.writeUInt32BE(r.index,9),r.chainCode.copy(v,13),o.copy(v,45),v}function _i(r){var s=sr.createHash("sha256").update(r).digest();return sr.createHash("ripemd160").update(s).digest()}O.HARDENED_OFFSET=kr;var Un=O;ki.exports=Un});var Si=R(me=>{"use strict";k();A();Object.defineProperty(me,"__esModule",{value:!0});var Fn=Ai();me.HDKey=Fn});var Bi=R(ye=>{"use strict";k();A();Object.defineProperty(ye,"__esModule",{value:!0});var Ki=ge(),Ei=Si(),Zn=function(){function r(s){this._hdkey=s}return r.fromMasterSeed=function(s){return new r(Ei.HDKey.fromMasterSeed(s))},r.fromExtendedKey=function(s){return new r(Ei.HDKey.fromExtendedKey(s))},r.prototype.privateExtendedKey=function(){if(!this._hdkey.privateExtendedKey)throw new Error("This is a public key only wallet");return this._hdkey.privateExtendedKey},r.prototype.publicExtendedKey=function(){return this._hdkey.publicExtendedKey},r.prototype.derivePath=function(s){return new r(this._hdkey.derive(s))},r.prototype.deriveChild=function(s){return new r(this._hdkey.deriveChild(s))},r.prototype.getWallet=function(){return this._hdkey._privateKey?Ki.default.fromPrivateKey(this._hdkey._privateKey):Ki.default.fromPublicKey(this._hdkey._publicKey,!0)},r}();ye.default=Zn});var Ti=R(_t=>{"use strict";k();A();var jn=_t&&_t.__awaiter||function(r,s,o,v){function f(m){return m instanceof o?m:new o(function(w){w(m)})}return new(o||(o=Promise))(function(m,w){function K(S){try{g(v.next(S))}catch(Mt){w(Mt)}}function _(S){try{g(v.throw(S))}catch(Mt){w(Mt)}}function g(S){S.done?m(S.value):f(S.value).then(K,_)}g((v=v.apply(r,s||[])).next())})},Dn=_t&&_t.__generator||function(r,s){var o={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},v,f,m,w;return w={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function K(g){return function(S){return _([g,S])}}function _(g){if(v)throw new TypeError("Generator is already executing.");for(;o;)try{if(v=1,f&&(m=g[0]&2?f.return:g[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,g[1])).done)return m;switch(f=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return o.label++,{value:g[1],done:!1};case 5:o.label++,f=g[1],g=[0];continue;case 7:g=o.ops.pop(),o.trys.pop();continue;default:if(m=o.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){o=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){o.label=g[1];break}if(g[0]===6&&o.label<m[1]){o.label=m[1],m=g;break}if(m&&o.label<m[2]){o.label=m[2],o.ops.push(g);break}m[2]&&o.ops.pop(),o.trys.pop();continue}g=s.call(r,o)}catch(S){g=[6,S],f=0}finally{v=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(_t,"__esModule",{value:!0});_t.fromQuorumWallet=_t.fromKryptoKit=_t.fromEtherCamp=_t.fromEtherWallet=void 0;var Ar=Ge(),Xt=le(),Wn=$e(),Sr=ge(),Jn=Yi(),Gn=Qi();function Yn(r,s){return y.Buffer.concat([r.update(s),r.final()])}var ar={count:1,keysize:16,ivsize:16,digest:"md5"};function Qn(r){return r?{count:r.count||ar.count,keysize:r.keysize||ar.keysize,ivsize:r.ivsize||ar.ivsize,digest:r.digest||ar.digest}:ar}function Xn(r,s,o){var v=Qn(o);function f(_){var g=Ar.createHash(v.digest);g.update(_),g.update(r),g.update(s),_=g.digest();for(var S=1,Mt=v.count;S<Mt;S++)g=Ar.createHash(v.digest),g.update(_),_=g.digest();return _}for(var m=[],w=0;y.Buffer.concat(m).length<v.keysize+v.ivsize;)m[w]=f(w===0?y.Buffer.alloc(0):m[w-1]),w++;var K=y.Buffer.concat(m);return{key:K.slice(0,v.keysize),iv:K.slice(v.keysize,v.keysize+v.ivsize)}}function $n(r){var s=y.Buffer.from(r,"base64");return s.slice(0,8).toString()==="Salted__"?{salt:s.slice(8,16),ciphertext:s.slice(16)}:{ciphertext:s}}function qi(r,s){var o=typeof r=="object"?r:JSON.parse(r),v;if(o.locked){if(typeof s!="string")throw new Error("Password required");if(s.length<7)throw new Error("Password must be at least 7 characters");var f=o.encrypted?o.private.slice(0,128):o.private,m=$n(f);if(!m.salt)throw new Error("Unsupported EtherWallet key format");var w=Xn(y.Buffer.from(s),m.salt,{keysize:32,ivsize:16}),K=Ar.createDecipheriv("aes-256-cbc",w.key,w.iv);v=Yn(K,y.Buffer.from(m.ciphertext)),v=y.Buffer.from(Jn.decode(v.toString()),"hex")}else{if(o.private.length!==64)throw new Error("Invalid private key length");v=y.Buffer.from(o.private,"hex")}var _=new Sr.default(v);if(_.getAddressString()!==o.address)throw new Error("Invalid private key or address");return _}_t.fromEtherWallet=qi;function Pi(r){return new Sr.default(Xt.keccak256(y.Buffer.from(r)))}_t.fromEtherCamp=Pi;function Ci(r,s){return jn(this,void 0,void 0,function(){function o(S){function Mt(lr){try{return decodeURIComponent(lr)}catch{return String.fromCharCode(65533)}}for(var ur="",Dt="",zt=0;zt<S.length;zt++)S[zt]<=127?(ur+=Mt(Dt)+String.fromCharCode(S[zt]),Dt=""):Dt+="%"+S[zt].toString(16);return y.Buffer.from(ur+Mt(Dt))}var v,f,m,w,K,_,g;return Dn(this,function(S){switch(S.label){case 0:return r[0]==="#"&&(r=r.slice(1)),v=r[0],r=r.slice(1),v!=="d"?[3,1]:(f=Xt.sha256(Xt.toBuffer(r)),[3,4]);case 1:if(v!=="q")return[3,3];if(typeof s!="string")throw new Error("Password required");return m=Xt.sha256(y.Buffer.from(r.slice(0,30))),w=r.slice(30,46),K=o(m),[4,Wn.scrypt(y.Buffer.from(s,"utf8"),K,16384,8,1,32)];case 2:if(_=S.sent(),g=new Gn.ModeOfOperation.ecb(_),f=y.Buffer.concat([y.Buffer.from(g.decrypt(m.slice(0,16))),y.Buffer.from(g.decrypt(m.slice(16,32)))]),w.length>0&&w!==Xt.sha256(Xt.sha256(f)).slice(0,8).toString("hex"))throw new Error("Failed to decrypt input - possibly invalid passphrase");return[3,4];case 3:throw new Error("Unsupported or invalid entropy type");case 4:return[2,new Sr.default(f)]}})})}_t.fromKryptoKit=Ci;function Ii(r,s){if(r.length<10)throw new Error("Passphrase must be at least 10 characters");if(s.length<10)throw new Error("User id must be at least 10 characters");var o=r+s,v=Ar.pbkdf2Sync(o,o,2e3,32,"sha256");return new Sr.default(v)}_t.fromQuorumWallet=Ii;var tf={fromEtherWallet:qi,fromEtherCamp:Pi,fromKryptoKit:Ci,fromQuorumWallet:Ii};_t.default=tf});var Li=R((xo,be)=>{k();A();var Ri=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);Ri?(we=new Uint8Array(16),be.exports=function(){return Ri(we),we}):(Me=new Array(16),be.exports=function(){for(var s=0,o;s<16;s++)(s&3)===0&&(o=Math.random()*4294967296),Me[s]=o>>>((s&3)<<3)&255;return Me});var we,Me});var Hi=R((Ao,Ni)=>{k();A();var Oi=[];for(hr=0;hr<256;++hr)Oi[hr]=(hr+256).toString(16).substr(1);var hr;function rf(r,s){var o=s||0,v=Oi;return[v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]]].join("")}Ni.exports=rf});var zi=R((Eo,Vi)=>{k();A();var ef=Li(),nf=Hi();function ff(r,s,o){var v=s&&o||0;typeof r=="string"&&(s=r==="binary"?new Array(16):null,r=null),r=r||{};var f=r.random||(r.rng||ef)();if(f[6]=f[6]&15|64,f[8]=f[8]&63|128,s)for(var m=0;m<16;++m)s[v+m]=f[m];return s||nf(f)}Vi.exports=ff});var ge=R(Et=>{k();A();var tr=Et&&Et.__assign||function(){return tr=Object.assign||function(r){for(var s,o=1,v=arguments.length;o<v;o++){s=arguments[o];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(r[f]=s[f])}return r},tr.apply(this,arguments)},Kr=Et&&Et.__awaiter||function(r,s,o,v){function f(m){return m instanceof o?m:new o(function(w){w(m)})}return new(o||(o=Promise))(function(m,w){function K(S){try{g(v.next(S))}catch(Mt){w(Mt)}}function _(S){try{g(v.throw(S))}catch(Mt){w(Mt)}}function g(S){S.done?m(S.value):f(S.value).then(K,_)}g((v=v.apply(r,s||[])).next())})},Er=Et&&Et.__generator||function(r,s){var o={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},v,f,m,w;return w={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function K(g){return function(S){return _([g,S])}}function _(g){if(v)throw new TypeError("Generator is already executing.");for(;o;)try{if(v=1,f&&(m=g[0]&2?f.return:g[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,g[1])).done)return m;switch(f=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return o.label++,{value:g[1],done:!1};case 5:o.label++,f=g[1],g=[0];continue;case 7:g=o.ops.pop(),o.trys.pop();continue;default:if(m=o.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){o=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){o.label=g[1];break}if(g[0]===6&&o.label<m[1]){o.label=m[1],m=g;break}if(m&&o.label<m[2]){o.label=m[2],o.ops.push(g);break}m[2]&&o.ops.pop(),o.trys.pop();continue}g=s.call(r,o)}catch(S){g=[6,S],f=0}finally{v=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(Et,"__esModule",{value:!0});var jt=Ge(),bt=le(),xe=$e(),of=Bi();Object.defineProperty(Et,"hdkey",{enumerable:!0,get:function(){return of.default}});var sf=Ti();Object.defineProperty(Et,"thirdparty",{enumerable:!0,get:function(){return sf.default}});var Ui=Xe(),$t=Je(),af=zi();function _e(r,s,o){if(s.toLowerCase().startsWith("0x")&&(s=s.slice(2)),!s&&!o)return s;if(o%2)throw new Error("Invalid length argument, must be an even number");if(typeof o=="number"&&s.length!==o)throw new Error("Invalid "+r+", string must be "+o+" hex characters");if(!/^([0-9a-f]{2})+$/i.test(s)){var v=typeof o=="number"?o:"empty or a non-zero even number of";throw new Error("Invalid "+r+", string must be "+v+" hex characters")}return s}function ke(r,s,o){if(!y.Buffer.isBuffer(s)){var v=typeof o=="number"?""+o*2:"empty or a non-zero even number of",f=typeof o=="number"?" ("+o+" bytes)":"";throw new Error("Invalid "+r+", must be a string ("+v+" hex characters) or buffer"+f)}if(typeof o=="number"&&s.length!==o)throw new Error("Invalid "+r+", buffer must be "+o+" bytes");return s}function hf(r){var s={cipher:"aes-128-ctr",kdf:"scrypt",salt:$t(32),iv:$t(16),uuid:$t(16),dklen:32,c:262144,n:262144,r:8,p:1};return r?(typeof r.salt=="string"&&(r.salt=y.Buffer.from(_e("salt",r.salt),"hex")),typeof r.iv=="string"&&(r.iv=y.Buffer.from(_e("iv",r.iv,32),"hex")),typeof r.uuid=="string"&&(r.uuid=y.Buffer.from(_e("uuid",r.uuid,32),"hex")),r.salt&&ke("salt",r.salt),r.iv&&ke("iv",r.iv,16),r.uuid&&ke("uuid",r.uuid,16),tr(tr({},s),r)):s}function uf(r){return{dklen:r.dklen,salt:r.salt,c:r.c,prf:"hmac-sha256"}}function lf(r){return{dklen:r.dklen,salt:r.salt,n:r.n,r:r.r,p:r.p}}var cf=function(){function r(s,o){if(o===void 0&&(o=void 0),this.privateKey=s,this.publicKey=o,s&&o)throw new Error("Cannot supply both a private and a public key to the constructor");if(s&&!bt.isValidPrivate(s))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(o&&!bt.isValidPublic(o))throw new Error("Invalid public key")}return r.generate=function(s){if(s===void 0&&(s=!1),s)for(var o=new bt.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var v=$t(32);if(new bt.BN(bt.privateToAddress(v)).lte(o))return new r(v)}else return new r($t(32))},r.generateVanityAddress=function(s){for(s instanceof RegExp||(s=new RegExp(s));;){var o=$t(32),v=bt.privateToAddress(o);if(s.test(v.toString("hex")))return new r(o)}},r.fromPublicKey=function(s,o){return o===void 0&&(o=!1),o&&(s=bt.importPublic(s)),new r(void 0,s)},r.fromExtendedPublicKey=function(s){if(s.slice(0,4)!=="xpub")throw new Error("Not an extended public key");var o=Ui.decode(s).slice(45);return r.fromPublicKey(o,!0)},r.fromPrivateKey=function(s){return new r(s)},r.fromExtendedPrivateKey=function(s){if(s.slice(0,4)!=="xprv")throw new Error("Not an extended private key");var o=Ui.decode(s);if(o[45]!==0)throw new Error("Invalid extended private key");return r.fromPrivateKey(o.slice(46))},r.fromV1=function(s,o){return Kr(this,void 0,void 0,function(){var v,f,m,w,K,_,g;return Er(this,function(S){switch(S.label){case 0:if(v=typeof s=="object"?s:JSON.parse(s),v.Version!=="1")throw new Error("Not a V1 Wallet");if(v.Crypto.KeyHeader.Kdf!=="scrypt")throw new Error("Unsupported key derivation scheme");return f=v.Crypto.KeyHeader.KdfParams,[4,xe.scrypt(y.Buffer.from(o),y.Buffer.from(v.Crypto.Salt,"hex"),f.N,f.R,f.P,f.DkLen)];case 1:if(m=S.sent(),w=y.Buffer.from(v.Crypto.CipherText,"hex"),K=bt.keccak256(y.Buffer.concat([m.slice(16,32),w])),K.toString("hex")!==v.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");return _=jt.createDecipheriv("aes-128-cbc",bt.keccak256(m.slice(0,16)).slice(0,16),y.Buffer.from(v.Crypto.IV,"hex")),g=Br(_,w),[2,new r(g)]}})})},r.fromV3=function(s,o,v){return v===void 0&&(v=!1),Kr(this,void 0,void 0,function(){var f,m,w,K,_,g,S;return Er(this,function(Mt){switch(Mt.label){case 0:if(f=typeof s=="object"?s:JSON.parse(v?s.toLowerCase():s),f.version!==3)throw new Error("Not a V3 wallet");return f.crypto.kdf!=="scrypt"?[3,2]:(w=f.crypto.kdfparams,[4,xe.scrypt(y.Buffer.from(o),y.Buffer.from(w.salt,"hex"),w.n,w.r,w.p,w.dklen)]);case 1:return m=Mt.sent(),[3,3];case 2:if(f.crypto.kdf==="pbkdf2"){if(w=f.crypto.kdfparams,w.prf!=="hmac-sha256")throw new Error("Unsupported parameters to PBKDF2");m=jt.pbkdf2Sync(y.Buffer.from(o),y.Buffer.from(w.salt,"hex"),w.c,w.dklen,"sha256")}else throw new Error("Unsupported key derivation scheme");Mt.label=3;case 3:if(K=y.Buffer.from(f.crypto.ciphertext,"hex"),_=bt.keccak256(y.Buffer.concat([y.Buffer.from(m.slice(16,32)),K])),_.toString("hex")!==f.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");return g=jt.createDecipheriv(f.crypto.cipher,m.slice(0,16),y.Buffer.from(f.crypto.cipherparams.iv,"hex")),S=Br(g,K),[2,new r(S)]}})})},r.fromEthSale=function(s,o){var v=typeof s=="object"?s:JSON.parse(s),f=y.Buffer.from(v.encseed,"hex"),m=jt.pbkdf2Sync(o,o,2e3,32,"sha256").slice(0,16),w=jt.createDecipheriv("aes-128-cbc",m,f.slice(0,16)),K=Br(w,f.slice(16)),_=new r(bt.keccak256(K));if(_.getAddress().toString("hex")!==v.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return _},Object.defineProperty(r.prototype,"pubKey",{get:function(){return Ae(this.publicKey)||(this.publicKey=bt.privateToPublic(this.privateKey)),this.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"privKey",{get:function(){if(!Ae(this.privateKey))throw new Error("This is a public key only wallet");return this.privateKey},enumerable:!1,configurable:!0}),r.prototype.getPrivateKey=function(){return this.privKey},r.prototype.getPrivateKeyString=function(){return bt.bufferToHex(this.privKey)},r.prototype.getPublicKey=function(){return this.pubKey},r.prototype.getPublicKeyString=function(){return bt.bufferToHex(this.getPublicKey())},r.prototype.getAddress=function(){return bt.publicToAddress(this.pubKey)},r.prototype.getAddressString=function(){return bt.bufferToHex(this.getAddress())},r.prototype.getChecksumAddressString=function(){return bt.toChecksumAddress(this.getAddressString())},r.prototype.toV3=function(s,o){return Kr(this,void 0,void 0,function(){var v,f,m,w,K,_,g;return Er(this,function(S){switch(S.label){case 0:if(!Ae(this.privateKey))throw new Error("This is a public key only wallet");switch(v=hf(o),w=v.kdf,w){case"pbkdf2":return[3,1];case"scrypt":return[3,2]}return[3,4];case 1:return f=uf(v),m=jt.pbkdf2Sync(y.Buffer.from(s),f.salt,f.c,f.dklen,"sha256"),[3,5];case 2:return f=lf(v),[4,xe.scrypt(y.Buffer.from(s),f.salt,f.n,f.r,f.p,f.dklen)];case 3:return m=S.sent(),[3,5];case 4:throw new Error("Unsupported kdf");case 5:if(K=jt.createCipheriv(v.cipher,m.slice(0,16),v.iv),!K)throw new Error("Unsupported cipher");return _=Br(K,this.privKey),g=bt.keccak256(y.Buffer.concat([y.Buffer.from(m.slice(16,32)),y.Buffer.from(_)])),[2,{version:3,id:af({random:v.uuid}),address:this.getAddress().toString("hex"),crypto:{ciphertext:_.toString("hex"),cipherparams:{iv:v.iv.toString("hex")},cipher:v.cipher,kdf:v.kdf,kdfparams:tr(tr({},f),{salt:f.salt.toString("hex")}),mac:g.toString("hex")}}]}})})},r.prototype.getV3Filename=function(s){var o=s?new Date(s):new Date;return["UTC--",o.toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},r.prototype.toV3String=function(s,o){return Kr(this,void 0,void 0,function(){var v,f;return Er(this,function(m){switch(m.label){case 0:return f=(v=JSON).stringify,[4,this.toV3(s,o)];case 1:return[2,f.apply(v,[m.sent()])]}})})},r}();Et.default=cf;function Br(r,s){return y.Buffer.concat([r.update(s),r.final()])}function Ae(r){return r!=null}});export default ge();

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=dist-A2T2H4TV.js.map

import{$ as f,La as s,Pa as _,V as K,W as S,X as b,Y as R,Z as h,_ as m,a as I,c as x,da as O,j as v,k}from"./chunk-KSCBZ3RY.js";import{c as a,d as g,f as T}from"./chunk-37O7OMRA.js";import{a as B}from"./chunk-5LMNZ6ME.js";import{f as p,m as y,o as A}from"./chunk-UGZFXKPB.js";y();A();var d=p(I());T();O();_();K();var M=p(B());async function D(){return await g().getAllWalletsBalance()}async function X(){return await g().getCurrentWalletBalance()}function W(e,...o){return t=>{let r;return new Promise((n,u)=>{e(...o,(i,l)=>{if(!(0,M.isNil)(i)){u(i);return}r=l,n()})}).then(async()=>(await s(t),r)).catch(async n=>(await s(t),t(f(n.message)),Promise.reject(n)))}}function j(e=!0){return{type:x,value:e}}function w(){return e=>new Promise(o=>{a().unMarkPasswordForgotten(()=>{e(j(!1)),o()})}).then(()=>s(e))}function q(){return async e=>{try{await new Promise((o,t)=>a().markPasswordForgotten(r=>{if(r){t(r);return}o()}))}finally{e(m()),e(j()),await s(e)}}}function z(){return W(a().createWallet)}function J(...e){return o=>new Promise((t,r)=>{a().importWalletWithMnemonic(...e,(n,u)=>{if(n){r(n);return}t(u)})}).then(async t=>(await s(o),t)).catch(t=>Promise.reject(t))}function Q(...e){return W(a().importWalletWithPrivateKey,...e)}function V(...e){return W(a().removeWallet,...e)}function Y(...e){return W(a().removeWallets,...e)}function Z(...e){return W(a().updateWalletAddress,...e)}function $(e,o){return t=>{let r;return new Promise((n,u)=>{a().setSelectedWallet(e,(i,l)=>{if(i){u(i);return}r=l,n()})}).then(async()=>(await s(t),r)).catch(async n=>(await s(t),t(f(n.message)),Promise.reject(n)))}}function ee(e){return o=>(o(S()),new Promise((t,r)=>{a().submitPassword(e,n=>{if(n){r(n);return}t()})}).then(()=>(o(R()),s(o))).catch(t=>(o(b(t.message)),Promise.reject(t))))}function te(e){return o=>{d.default.debug("background.createWalletAndRestore");let t;return new Promise((r,n)=>{a().createWalletAndRestore(e,(u,i)=>{if(u){n(u);return}t=i,r()})}).then(()=>o(w())).then(()=>(o(N()),t)).catch(r=>(o(f(r.message)),Promise.reject(r)))}}function re(e,o,t={}){return r=>{d.default.debug("background.importWalletWithMnemonicAndRestore");let n;return new Promise((u,i)=>{a().importWalletWithMnemonicAndRestore(e,o,t,(l,c)=>{if(l){i(l);return}n=c,u()})}).then(()=>r(w())).then(()=>(r(N()),n)).catch(u=>(r(f(u.message)),Promise.reject(u)))}}function ne(e,o,t,r=!1){return n=>{d.default.debug("background.importWalletWithPrivateKeyAndRestore");let u;return new Promise((i,l)=>{a().importWalletWithPrivateKeyAndRestore(e,o,t,r,(c,P)=>{if(c){l(c);return}u=P,i()})}).then(()=>n(w())).then(()=>(n(m()),u)).catch(i=>(n(m()),Promise.reject(i)))}}function oe(e,{cipherText:o,privateKey:t},r,n){return u=>{!n&&u(h()),d.default.debug("background.importWalletWithMpcAndRestore");let i;return new Promise((l,c)=>{a().importWalletWithMpcAndRestore(e,{cipherText:o,privateKey:t},r,(P,F)=>{if(P){c(P);return}i=F,l()})}).then(()=>u(w())).then(()=>(u(m()),i)).catch(l=>(u(m()),Promise.reject(l)))}}function ue(e){return new Promise((o,t)=>{a().verifyPassword(e,r=>{if(r){t(r);return}o(!0)})})}function ae(e,o){return async t=>{await new Promise((r,n)=>{a().addPermittedAccount(e,o,u=>{if(u){n(u);return}r()})}),await s(t)}}function ie(e,o){return async t=>{await new Promise((r,n)=>{a().removePermittedAccount(e,o,u=>{if(u){n(u);return}r()})}),await s(t)}}function N(){return{type:v}}function le({id:e}={}){return{type:k,id:e}}export{D as a,X as b,q as c,z as d,J as e,Q as f,V as g,Y as h,Z as i,$ as j,ee as k,te as l,re as m,ne as n,oe as o,ue as p,ae as q,ie as r,le as s};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-DRPGNVVL.js.map

import{a as _}from"./chunk-L5MAEEVU.js";import{a as s}from"./chunk-3RJOXTRR.js";import{f as l}from"./chunk-NNO7KFUF.js";import{a as T}from"./chunk-3L5C5CQB.js";import{h as g,i as k}from"./chunk-OCTREJ3R.js";import{m as h}from"./chunk-GTSNHSPT.js";import{ac as j}from"./chunk-NTISK7TT.js";import{La as e,Pa as Y}from"./chunk-KSCBZ3RY.js";import{Wa as w,Ya as W}from"./chunk-YILNSICT.js";import{N as S,w as u}from"./chunk-V63HWKAL.js";import{a as H}from"./chunk-B75PPTYD.js";import{f,m as C,o as d}from"./chunk-UGZFXKPB.js";C();d();var y=f(H()),B=f(j());S();Y();W();var G=({unapproved:a,needCheckMpc:b,onConfirm:o,onConfirmReplace:I,onCancel:L,preExecInfo:O={}})=>{let t=(0,B.useDispatch)(),{id:n,walletId:i,chainEvents:P={}}=a,c=_(i),A=h(i),r=w(a.localType),E=(0,y.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",network:r,dapp_url:a.origin}),await t(g(n)),await e(t)},[c,t,n,r]),m=L||E,{loading:F,onClick:N}=s(m),D={btnText:u("wallet_dapp_connection_btn_reject"),actionType:l.ACTION_TYPE.CANCEL,onClick:N,loading:F},M=async()=>{try{if(b&&!await T({walletId:i,callback:m}))return;if(o&&I){await o();return}P?.beforeConfirm?.(),c({trade:"sign",all_confirmation:"confirm",network:r,dapp_url:a.origin}),await t(k(n)),await e(t),await o?.()}catch(p){console.log(p)}},{loading:R,onClick:q}=s(M),x={loading:R,onClick:q,disabled:A||O?.canConfirm===!1,actionType:l.ACTION_TYPE.CONFIRM};return[D,x]},tt=G;export{tt as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-QCAVIM5G.js.map

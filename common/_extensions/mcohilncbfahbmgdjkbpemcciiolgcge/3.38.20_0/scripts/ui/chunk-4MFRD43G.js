import{b as l}from"./chunk-IVA2TTR4.js";import{d as n}from"./chunk-45FKVGCF.js";import{Rc as d,Wc as b,Xc as y,Yc as q,kc as k,oc as A}from"./chunk-YILNSICT.js";import{a as P}from"./chunk-B75PPTYD.js";import{f as E,m as a,o as i}from"./chunk-UGZFXKPB.js";a();i();var _={CAN:"1",CANT:"0"},R={EVM:"0"},L={init:"INIT",loading:"LOADING",success:"SUCCESS",failed:"FAILED"},U=(c,s)=>c?.uniqueId===s?.uniqueId;a();i();var u=E(P());A();q();a();i();async function h(c){try{return await(await Promise.resolve(n.rpc_networks)).delete(c),!0}catch{return!1}}b();var S=c=>{let s={...c};return s?.chainId.startsWith("0x")||(s.chainId=`0x${l(s.chainId)}`),s};var K=()=>{let[c,s]=(0,u.useState)("loading"),[I,w]=(0,u.useState)({rpcNetworks:[],customNets:[],defaultNets:[]}),m=async e=>{let t=e,o=Number.parseInt(t.chainId,16);try{let{data:r}=await d(y.getRpcNetworkByChainId,{chainIds:[o]});if(Array.isArray(r)){let p=r.find(v=>v.chainId===o);t.faucetUrl=p?.faucets?.[0]||""}}catch{t.faucetUrl=""}return t},N=e=>{let t=e.filter(r=>r.isCustom),o=e.filter(r=>!r.isCustom).sort((r,p)=>r.order-p.order);return{rpcNetworks:[...o,...t],customNets:t,defaultNets:o}},C=async e=>{try{let t=await Promise.resolve(n.rpc_networks),o={...e,uniqueId:e.uniqueId||k(),type:R.EVM,isCustom:!0},r=await m(S(o));return await t.set(r),r}catch{return{}}},T=async e=>{try{let t=await Promise.resolve(n.rpc_networks),o=await m(S(e));return await t.get(e.uniqueId)&&await t.set(o),o}catch{return{}}},x=async e=>{try{let o=await(await Promise.resolve(n.rpc_networks)).query(e);w(N(o)),s("success")}catch{s("failed")}},g=async e=>{try{await h(e.uniqueId)}catch(t){console.log(t)}};return(0,u.useEffect)(()=>{let e;return(async()=>(await x({}),e=(await Promise.resolve(n.rpc_networks)).liveQuery().subscribe((o,r)=>{if(!r){let p=N(o);w(p),s("success")}})))(),()=>{e&&e?.unsubscribe()}},[]),{addRpcNetwork:C,updateRpcNetwork:T,deleteRpcNetwork:g,status:c,...I}};export{_ as a,L as b,U as c,K as d};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-4MFRD43G.js.map

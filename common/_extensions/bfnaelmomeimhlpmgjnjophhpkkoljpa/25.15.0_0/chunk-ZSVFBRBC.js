import{a as De}from"./chunk-RKEWOY4Z.js";import{a as Ae,b as ve,c as Ee,d as Be,e as Ve,h as Ie,i as Le,j as Me,k as He}from"./chunk-EP6S65FY.js";import{a as Z}from"./chunk-5YDSFBVN.js";import{a as ke}from"./chunk-V3Q3BLTU.js";import{W as v}from"./chunk-QY52VKIT.js";import{a as Ce}from"./chunk-5RY5S5F7.js";import{a as xe}from"./chunk-H6OI2N7M.js";import{a as Pe}from"./chunk-ZJHRYWCW.js";import{a as be}from"./chunk-752G45NS.js";import{f as we}from"./chunk-4HMU6WOI.js";import{b as ye}from"./chunk-E67GFDH7.js";import{a as he}from"./chunk-ACPUL5BT.js";import{e as Te}from"./chunk-YN37DKRO.js";import{a as G}from"./chunk-R2LHCBUO.js";import{b as A,f as q}from"./chunk-DLKGATEC.js";import{b as ce}from"./chunk-KQPLPV6X.js";import{b as de}from"./chunk-RP4HT6XN.js";import{a as Fe,c as Se,d as j}from"./chunk-H7ATUB7C.js";import{Y as fe,c as ge,db as E}from"./chunk-7N5UY74L.js";import{f as b}from"./chunk-ORJUPAX4.js";import{q as U}from"./chunk-US2EC2AF.js";import{e as me}from"./chunk-7F2GBYX5.js";import{Rc as pe,td as ue}from"./chunk-EIQDOUTB.js";import{Ya as ee,fd as re}from"./chunk-D7Z6MPRS.js";import{C as ie,D as se,Ha as le,Q as Y,W as ae,j as oe,q as ne,s as p,v as te,w as a,x as L}from"./chunk-27TD4NX4.js";import{s as R}from"./chunk-YJV3X2ON.js";import{Q as X}from"./chunk-TKSJVOQZ.js";import{a as D}from"./chunk-UA6ADLWZ.js";import{f as I,h as S,n as y}from"./chunk-3KENBVE7.js";S();y();S();y();var e=I(D());S();y();var K=I(D());var B=({children:r})=>{let{popDetailView:n}=A(),{handleHideModalVisibility:t}=v(),l=(0,K.useCallback)(()=>{n(),t("sendFungibleForm"),t("sendFungibleSelect")},[n,t]);return K.default.createElement(Ae,{goHome:l},r)};S();y();var C=I(D());var Ne=({networkID:r})=>{let{t:n}=oe();return ee.isBitcoinNetworkID(r)?C.default.createElement(Ye,null,C.default.createElement(le,{alignment:"rightCenter",index:0,content:C.default.createElement(Je,null,C.default.createElement(Qe,null,n("sendFungibleSatProtectionExplainer")," ",C.default.createElement("span",{onClick:()=>void de({url:ue})},n("commandLearnMore")))),closeOnSecondClick:!1},C.default.createElement(Xe,null,C.default.createElement(fe,{width:16}),C.default.createElement(We,null," ",n("sendFungibleSatProtectionTitle"))))):null},Je=b.div`
  padding: 16px;
  width: 256px;
`,Qe=b(E).attrs({size:15,lineHeight:20,color:p.colors.legacy.textPrimary})`
  text-align: left;
  span {
    color: ${p.colors.legacy.accentPrimary};
    cursor: pointer;
  }
`,Xe=b.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
`,We=b(E).attrs({size:14,color:p.colors.legacy.textPrimary,hoverColor:p.colors.legacy.accentPrimary})`
  display: flex;
  align-items: center;
`,Ye=b.div`
  padding: 15px;
  background: ${p.colors.legacy.bgRow};
  border-radius: 9px;
  width: 100%;
  cursor: pointer;
  position: relative;

  &:hover {
    ${We} {
      color: ${p.colors.legacy.accentPrimary};
    }
    svg {
      fill: ${p.colors.legacy.accentPrimary};
      path {
        fill: ${p.colors.legacy.accentPrimary};
      }
    }
  }
`;S();y();var i=I(D());S();y();var o=I(D());var Ze=b(G).attrs({align:"center"})`
  height: 100%;
`,Re=b(G).attrs({align:"center",justify:"center"})`
  flex: 1;
  flex-grow: 1;
`,eo=b(G).attrs({align:"center",justify:"center",margin:"0 0 15px 0"})`
  position: relative;
  border-radius: 50%;
  background-color: ${X(p.colors.legacy.accentPrimary,.2)};
  box-shadow: 0 0 0 20px ${X(p.colors.legacy.accentPrimary,.2)};
`,oo=b(E).attrs({size:28,lineHeight:33.89,weight:500,margin:"20px 0 10px 0"})``,ro=b(E).attrs({size:16,lineHeight:20.8,weight:500,color:p.colors.legacy.accentPrimary})`
  margin-top: 12px;
`,no=()=>{let{popDetailView:r}=A(),{handleHideModalVisibility:n}=v(),{closeAllModals:t}=ye(),l=ge(),[g,u]=(0,o.useState)(!0),[d,h]=(0,o.useState)(),f=(0,o.useCallback)(k=>{self.open(k)},[]),T=(0,o.useCallback)(()=>{r(),n("sendFungibleForm"),n("sendFungibleSelect")},[r,n]),x=(0,o.useCallback)(k=>{switch(T(),k){case"history":l("/notifications");break;case"home":l("/");break}},[l,T]),{handleTokenTransfer:F,isLedger:c,ledgerApp:s,...m}=Ie({sendSequenceAnalytics:me.send,onTransactionLinkPress:f,onClose:x,onCancel:T,onBack:r,mobileSignWithLedger:!1,ledgerSupported:!0}),V=(0,o.useCallback)(async()=>{c?h(o.default.createElement(we,{ledgerAction:async()=>{await F(),u(!1)},cancel:t,ledgerApp:s})):await F()},[c,F,t,s]);return{...m,isLedger:c,ledgerApp:s,handleTokenTransfer:V,needsLedgerApproval:g,ledgerContent:d}},to=o.default.memo(({isLedger:r,isError:n,isSuccess:t,MessageElement:l,txReceipt:g,handleTransactionLinkPress:u,i18nStrings:d,handleRetry:h,handleClose:f,handleCancel:T,handleTokenTransfer:x,isLoadingSelectedAccountStatus:F,ledgerContent:c,needsLedgerApproval:s})=>{let m=F;return(0,o.useEffect)(()=>{m||(!r||s)&&x()},[m]),r&&s?o.default.createElement(o.default.Fragment,null,c??null):o.default.createElement(Ze,null,o.default.createElement(Re,null,o.default.createElement(se,{mode:"wait",initial:!0},o.default.createElement(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},n?o.default.createElement(Z,{type:"failure"}):t?o.default.createElement(Z,{type:"success"}):o.default.createElement(eo,null,o.default.createElement(Fe,{diameter:54,color:p.colors.legacy.accentPrimary,trackColor:p.colors.legacy.bgArea})))),o.default.createElement(oo,null,d.titleText),l,g&&o.default.createElement(ro,{onClick:u},d.viewTransactionText)),n&&o.default.createElement(j,{primaryText:d.retryText,onPrimaryClicked:h,secondaryText:d.cancelText,onSecondaryClicked:T}),!n&&!!g&&o.default.createElement(be,{justify:"center"},o.default.createElement(Se,{onClick:f},d.closeText)))}),io=()=>{let r=no();return o.default.createElement(to,{...r})},Oe=()=>o.default.createElement(B,null,o.default.createElement(io,null));var so=i.default.createElement(Pe,{width:"75px",height:"8px",borderRadius:"8px"}),ao=()=>{let{popDetailView:r,pushDetailView:n}=A(),{handleHideModalVisibility:t,handleShowModalVisibility:l}=v(),g=(0,i.useCallback)(({transactionSpeed:f,transactionUnitAmount:T,networkID:x,sendFormValues:F,setSendFormValues:c})=>{n(i.default.createElement(ke,{onSelectTransactionSpeed:s=>{c({...F,transactionSpeed:s})},selectedTransactionSpeed:f,networkID:x,transactionUnitAmount:T,closeModal:r}))},[r,n]),u=(0,i.useCallback)(f=>{l("txSubmissionCheckFailure",{...f,onButtonClick:()=>{t("txSubmissionCheckFailure")}})},[t,l]),d=(0,i.useCallback)(()=>{r(),t("sendFungibleForm"),t("sendFungibleSelect")},[r,t]),h=(0,i.useCallback)(()=>{n(i.default.createElement(Oe,null))},[n]);return Be({onNext:h,onClose:d,ValueLoader:so,onTransactionSpeedChange:g,onSubmissionCheckFail:u,copyToClipboard:he})},lo=i.default.memo(({canSend:r,summaryRows:n,i18nStrings:t,handleNext:l,handleClose:g,networkID:u,senderAddress:d})=>i.default.createElement(a,{height:"100%"},i.default.createElement(q,null,t.title),i.default.createElement(a,{height:"100%",overflow:"scroll",marginBottom:8},i.default.createElement(a,{width:"100%",flex:1},i.default.createElement(Me,null),i.default.createElement(He,{networkId:u,senderAddress:d}),i.default.createElement(Ce,{networkID:u,rows:n,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}))),i.default.createElement(ae,{direction:"row"},i.default.createElement(Y,{onClick:g,theme:"secondary"},t.cancel),i.default.createElement(Y,{disabled:!r,onClick:l,theme:"primary"},t.send)))),mo=()=>{let r=ao();return i.default.createElement(lo,{...r})},$e=()=>i.default.createElement(B,null,i.default.createElement(mo,null));var po={form:ne({width:"100%"})},uo=()=>{let{popDetailView:r,pushDetailView:n}=A(),{handleHideModalVisibility:t}=v(),l=(0,e.useCallback)(()=>{r(),t("sendFungibleForm"),t("sendFungibleSelect")},[r,t]),g=(0,e.useCallback)(()=>{n(e.default.createElement($e,null))},[n]),{canGoNext:u,...d}=Ve({onClose:l,onNext:g}),[h,f]=(0,e.useState)(R),{data:T=[]}=re(),{networkID:x,senderAddress:F}=ve(),c=U(w=>w.sendFormValues.recipient),s=U(w=>w.sendFormValues),m=U(w=>w.setSendFormValues),{addressBookRecipient:V}=s,{recipientError:k,disabledDueToRecipient:H,isStaleRecipient:N,isRecipientLoading:J}=pe(c,x),{sendAddressWarning:W,sendAddressVariant:O}=Ee({senderAddress:F.address,senderAccounts:T,networkID:x,recipient:c}),$=c&&!!W&&!k&&!N,Q=(0,e.useCallback)(w=>{f(z=>({...z,recipientError:void 0})),m({...s,recipient:w,addressBookRecipient:w})},[s,m]);return{...d,canGoNext:u&&!H&&O!=="danger",senderAddress:F.address,addressBookRecipient:V,isStaleRecipient:N,recipientError:k,isRecipientLoading:J,sendAddressWarning:$?W:null,sendAddressVariant:O,sendFormValues:s,sendFormErrors:h,handleAddressSelection:Q,setSendFormValues:m,setSendFormErrors:f}},co=e.default.memo(({networkID:r,handleClose:n,handleInputChange:t,handleNext:l,primaryText:g,primarySymbol:u,toggleDenomination:d,errorText:h,secondaryText:f,formattedMaxAmount:T,symbol:x,decimals:F,logoUri:c,canGoNext:s,i18nStrings:m,handleSetMax:V,showSecondaryText:k,canSendCurrencyAmount:H,isMemoEnabled:N,memo:J,handleMemoChange:W,senderAddress:O,addressBookRecipient:$,isStaleRecipient:Q,recipientError:_,isRecipientLoading:w,sendAddressWarning:z,sendAddressVariant:_e,sendFormValues:ze,sendFormErrors:Ue,handleAddressSelection:je,setSendFormValues:qe,setSendFormErrors:Ge})=>{let Ke=k?e.default.createElement(a,{direction:"row",justifyContent:"space-between",width:"100%"},e.default.createElement(a,{direction:"row",alignItems:"center",cursor:"pointer",color:{base:"textTertiary",hover:"accentPrimary"}},e.default.createElement(L,{font:"caption",onPress:H?d:void 0},f),H?e.default.createElement(a,{marginLeft:4},e.default.createElement(te.Swap2Vertical,{size:12})):null),e.default.createElement(L,{font:"caption",color:"textTertiary"},`${m.available} ${T}`)):null;return e.default.createElement(a,{justifyContent:"space-between",height:"100%"},e.default.createElement(a,null,e.default.createElement(q,null,m.pageTitle),e.default.createElement(a,{marginBottom:20,marginTop:10,marginLeft:"auto",marginRight:"auto"},e.default.createElement(ce,{image:{type:"fungible",src:c,fallback:x},size:72})),e.default.createElement("form",{onSubmit:l,className:po.form},e.default.createElement(a,{marginBottom:10},e.default.createElement(Le,{addressBookRecipient:$,networkID:r,senderAddress:O,symbol:u,sendFormValues:ze,sendFormErrors:Ue,recipientError:_,handleAddressSelection:je,setSendFormValues:qe,setSendFormErrors:Ge,isLoading:w})),!$&&!Q&&_&&e.default.createElement(a,{marginBottom:10},e.default.createElement(L,{children:_,color:"accentAlert",font:"body"})),e.default.createElement(a,{marginBottom:10},e.default.createElement(a,{position:"relative"},e.default.createElement(xe,{name:"amount",value:g,symbol:u,alignSymbol:"right",buttonText:m.maxInput,width:47,maxLength:20,decimalLimit:F,warning:!!h,placeholder:m.inputAmountPlaceholder,onSetTarget:V,onKeyPress:P=>s&&P.key==="Enter"&&P.preventDefault(),onUserInput:t}))),N&&e.default.createElement(a,{marginBottom:10},e.default.createElement(Te,{name:"memo",placeholder:m.memoPlaceholder,value:J,maxLength:240,onKeyDown:P=>s&&P.key==="Enter"&&P.preventDefault(),onChange:P=>{P.target.validity.valid?W(P.target.value):P.preventDefault()}}))),h?e.default.createElement(a,null,e.default.createElement(L,{color:"accentAlert",font:"body"},h)):Ke,e.default.createElement(a,{marginTop:16},e.default.createElement(Ne,{networkID:r})),z&&e.default.createElement(De,{message:z,variant:_e,actions:[]})),e.default.createElement(j,{primaryText:m.next,secondaryText:m.cancel,onPrimaryClicked:l,onSecondaryClicked:n,primaryTheme:s?"primary":"default",primaryDisabled:!s}))}),go=()=>{let r=uo();return e.default.createElement(co,{...r})},fo=()=>e.default.createElement(B,null,e.default.createElement(go,null)),zr=fo;export{zr as a};
//# sourceMappingURL=chunk-ZSVFBRBC.js.map

import{Y as _,Zd as P,cb as d}from"./chunk-D7Z6MPRS.js";import{g as y,j as A,z as E}from"./chunk-E2H5RB2U.js";import{z as f}from"./chunk-FBDT5S2M.js";import{w as c}from"./chunk-TKSJVOQZ.js";import{h as e}from"./chunk-UA6ADLWZ.js";import{h as i,n}from"./chunk-3KENBVE7.js";i();n();var K={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"token.name",weight:.4},{name:"token.symbol",weight:.4},{name:"token.caip19.chainId",weight:.2}]};var g=30,w=6,T=3e4,h=5,x=["100","500","1000"];i();n();var C=e.object({name:e.string().nullish().default(null),symbol:e.string().nullish().default(null),decimals:e.number(),caip19:d,logoURI:e.string().nullish().default(null)}),N=e.object({token:C,addressType:_.optional()}),l=e.object({id:e.string(),name:e.string(),tag:e.string(),logo:e.string(),quote:e.object({displaySourceAmount:e.string(),displayDestinationAmount:e.string(),displayFee:e.string()}).optional()}),M=(s=>(s.CARD="CARD",s.MOBILE_WALLET="MOBILE_WALLET",s.BANK_TRANSFER="BANK_TRANSFER",s.EXCHANGE="EXCHANGE",s.LOCAL="LOCAL",s))(M||{}),F=e.object({id:e.string(),type:e.nativeEnum(M),name:e.string(),estimatedArrival:e.string(),assets:e.object({icon:e.string(),roundIcon:e.string()}),description:e.string().optional()}),J=e.object({groups:e.array(e.object({groupName:e.string(),tokens:e.array(N)}))}),Z=e.object({paymentMethods:e.array(F),provider:l.optional()}),ee=e.object({providers:e.array(l),paymentMethod:F,token:d}),te=e.object({provider:l,paymentMethod:F,location:e.object({countryCode:e.string(),subdivision:e.string().optional()}).optional(),token:d.optional(),tokenAmount:e.string().optional(),fiatAmount:e.string().optional(),fiatCurrencyCode:e.string().optional(),minPurchaseAmount:e.string().optional(),maxPurchaseAmount:e.string().optional(),quickSelectDenominations:e.array(e.string()).optional()}),oe=e.object({url:e.string(),sessionId:e.string()}),v=(a=>(a.PENDING="PENDING",a.COMPLETED="COMPLETED",a.FAILED="FAILED",a))(v||{}),re=e.object({status:e.nativeEnum(v),tokenAmount:e.number().optional(),fiatCurrencyCode:e.string().optional(),usdFiatAmount:e.number().optional(),usdFiatFeeAmount:e.number().optional(),fiatFeeAmount:e.number().optional(),cryptoTransactionId:e.string().optional(),createdAt:e.date().optional(),updatedAt:e.date().optional()}),u=class extends Error{constructor(o){super(o),this.name="FiatRampError"}};i();n();var U={onClose:()=>{},context:"modal",fungible:void 0,purchaseAmount:"0",purchaseType:"currency",isPurchaseAmountValid:!1,error:void 0,ownerPublicKey:"",price:0,minPurchaseAmountUsd:h,maxPurchaseAmountUsd:T,quickSelectDenominations:x,paymentMethod:void 0,provider:void 0,checkoutQuoteType:"recommended",redirectURL:void 0},me=P(t=>({...U,setState:o=>t(r=>({...r,...o})),reset:()=>{t(U)}}));i();n();i();n();var b=new u("Failed to get FiatRampProviders"),I=async(t,o,r)=>{try{let a=await y.api().headers(t).bearer(r).post("/fiat_ramp/v2/onramp/providers",o);if(!A(a))throw b;return a.data}catch{throw b}};i();n();var p="@phantom/fiat-ramp",L=`${p}:fungibles`,O=`${p}:payment-methods`,Q=`${p}:providers`,q=`${p}:recommended-quote`,H=`${p}:status`,Y=`${p}:completed`,S={fiatRampTokens(t,o,r){return[L,t,o,r]},fiatRampPaymentMethods(t,o,r){return[O,t,o,r]},fiatRampProviders(t,o,r){return[Q,t,o,r]},fiatRampRecommendedQuote(t,o,r){return[q,t,o,r]},fiatRampStatus(t,o,r){return[H,t,o,r]},fiatRampCompleted(t,o,r){return[Y,t,o,r]}};var W=c({seconds:g}),j=c({hours:1}),ve=(t,o,r,a)=>{let R={"x-client-platform":t,"x-client-app-version":o,"x-client-locale":r},{data:s}=E(),k=s?.userID,D=s?.accessToken;return f({queryKey:S.fiatRampProviders(R,a,k),queryFn:()=>I(R,a,D),gcTime:j,staleTime:W,enabled:!!a.destinationAddress})};export{K as a,g as b,w as c,T as d,h as e,x as f,l as g,u as h,U as i,me as j,L as k,Q as l,S as m,ve as n};
//# sourceMappingURL=chunk-5W7YPRT3.js.map

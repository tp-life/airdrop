import{da as L}from"./chunk-O3RSUGZX.js";import{g,j as b}from"./chunk-E2H5RB2U.js";import{m as i,n as l,o as E}from"./chunk-27TD4NX4.js";import{z as p}from"./chunk-FBDT5S2M.js";import{a as s,w as x}from"./chunk-TKSJVOQZ.js";import{a as F}from"./chunk-UA6ADLWZ.js";import{f as S,h as r,n as t}from"./chunk-3KENBVE7.js";r();t();r();t();r();t();r();t();r();t();var I="/currency_exchange/v1/rates",R=async()=>{let o=await g.api().get(`${I}?from=USD&currencies=${Object.keys(i).join(",")}`);if(!b(o))throw new Error("Failed to fetch exchange rates");return await o.data};var _=x({hours:2}),f=o=>p({queryKey:E.currencyExchangeRates(),queryFn:R,enabled:!!o,staleTime:_,select(e){return o?e?.rates[o]:1}});var n=S(F()),N=(0,n.createContext)(null),w=({children:o})=>{let{data:e}=L(),{data:c,isLoading:h}=f(e),d=e&&c?i[e].languageCode:l.languageCode,y=e||l.value,P=e&&c?i[e].symbol:l.symbol,z=(0,n.useCallback)((a,m)=>Intl.NumberFormat(d,{style:"currency",currency:y,...m}).format(a),[y,d]),U=(0,n.useCallback)(a=>!e||!c?Number(a):s(a).div(s(c)).toNumber(),[e,c]),v=(0,n.useCallback)((a,m)=>{if(!e||!c)return Number(a);let C=s(a).times(s(c));return m===void 0?C.toNumber():C.decimalPlaces(m).toNumber()},[e,c]),O={isLoading:h,currencyLocale:d,currencySymbol:P,currencyCode:y,toUsd:U,fromUsd:v,formatLocalizedPrice:z};return n.default.createElement(N.Provider,{value:O},o)},T=()=>{let o=(0,n.useContext)(N);if(!o)throw new Error("useLocalizedCurrency must be used within a LocalizedCurrencyProvider");return o};r();t();r();t();export{w as a,T as b};
//# sourceMappingURL=chunk-NEKSPHVV.js.map

import{P as ot,c as tt,d as P,e as A,f as D,g as C,h as k,j as et,s as nt}from"./chunk-G7OTLN34.js";import{c as z}from"./chunk-US2EC2AF.js";import{Ab as Z,Ba as W,Da as G,G as _,Ma as K,fd as Y,lb as V,mb as h,n as v,o as R,qb as X,rb as q,s as U,t as $,tb as j,ub as H,v as O}from"./chunk-EIQDOUTB.js";import{d as J,h as Q}from"./chunk-3IV4Y5QP.js";import{K as S,L as g,Ya as b,c as bt,r as Ct,yc as F}from"./chunk-D7Z6MPRS.js";import{n as w}from"./chunk-NZAWO25Q.js";import{M,W as L,X as Tt}from"./chunk-TKSJVOQZ.js";import{f as T,h as o,l as yt,m as Buffer,n as r}from"./chunk-3KENBVE7.js";o();r();o();r();var I=T(bt(),1);var at=T(Ct(),1);var rt=(0,I.struct)([(0,I.u8)("instruction"),X("amount")]);function it(t,e,n,a,i=[],c=h){let s=j([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,i),m=Buffer.alloc(rt.span);return rt.encode({instruction:q.Burn,amount:BigInt(a)},m),new at.TransactionInstruction({keys:s,programId:c,data:m})}var St=({t,apiErrors:e,clientErrors:n})=>{let a={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return e.isSellErrorCode?e?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:e?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:e?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:a:n.hasEnoughGas?n.executeSellError?n.executeSellError.message===ot?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:a:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}};o();r();var ht=t=>k(t)?t.standard==="ERC1155":C(t)?t.standard==="SemiFungible":!1;o();r();var It=t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),xt=(t,e)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let n=M({url:t.externalUrl,format:"domain"});if(n)return n}if(e?.name){let n=It(e.name);if(n)return n}if(e?.symbol)return e.symbol};o();r();var N=T(yt());o();r();async function st(t){let{mint:e}=t,n=new S.Transaction,a=await nt({networkID:"solana:101",mintAddress:e});return n.add(await U({...t,...a})),n}var Pt=async({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:a,tokenEdition:i,compression:c,programId:s,isProgrammable:m,connection:x})=>{let u=new S.Transaction,p=new g.PublicKey(t),d=await H(p,e);if(c?.compressed)return st({compression:c,mint:t});if(s===R)return V({mint:t,connection:x,owner:e.toBase58()});if(m)return O({senderAddress:e,senderAccount:d,mintAddress:new g.PublicKey(t)});if(i===null||!tt(i)){let f=it(d,p,e,n),y=z(d,e,e);u.add(f,y)}else{let f=N.Buffer.from(p.toBytes()),y=P(f),mt=A(f),B;if(a!==null){let ft=new g.PublicKey(a),gt=N.Buffer.from(ft.toBytes());B=D(gt)}let pt={metadata:y,owner:e,mint:p,tokenAccount:d,masterEditionAccount:mt,splTokenProgram:h,collectionMetadata:B},{createBurnNftInstruction:ut}=await $(),dt=ut(pt,v);u.add(dt)}return u},At=async({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:a,tokenEdition:i,chainId:c,compression:s,programId:m,isProgrammable:x})=>{let u=G(c),p=await Pt({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:a,tokenEdition:i,compression:s,programId:m,isProgrammable:x,connection:u});p.recentBlockhash=(await u.getLatestBlockhash("confirmed")).blockhash,p.feePayer=e;let d=await K(p,{connection:u}),f=await Z(c,[d.compileMessage()]),y=_(f);return{burnTxWithPriority:d,networkFeeUiAmount:y}};o();r();function lt({chainID:t,amount:e,collectible:n,symbol:a}){let i=Q(t);switch(i.chainName){case"solana":return{...i,asset:{amount:e.toString(),mint:"mint"in n?n.mint:"UNKNOWN",symbol:a,type:"collectible"}};case"ethereum":case"polygon":case"base":case"arbitrum":case"monad":return{...i,asset:{amount:e.toString(),address:"contract"in n?n.contract:"UNKNOWN",symbol:a,type:"collectible"}};case"bitcoin":return{...i,asset:{id:"firstCreatedInscriptionId"in n?n.firstCreatedInscriptionId:"UNKNOWN",symbol:a,type:"collectible"}};case"sui":return{...i,asset:{amount:e.toString(),address:"not yet implemented",symbol:a,type:"collectible"}}}}o();r();var Dt="list",ct=t=>new J(t,Dt),kt=L(F,t=>ct(t));o();r();o();r();o();r();var Nt=(t,e="standard",n,a,i,c,s)=>{if(b.isEVMNetworkID(t)){let m=W.get(t).transactionSpeedSeconds(e);return{ownerAddress:n.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:w.parse({from:n.address}),estimatedTimeToMineInSeconds:m},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}},detail:{header:`${c} ${a}`,uiRecipient:i}}}}else{if(b.isSolanaNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};if(b.isBitcoinNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};if(b.isSuiNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}};o();r();var Et=(t,e)=>{if(C(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:e,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}};o();r();var E=T(Tt()),Bt=1e6,wt=1e4,Mt=t=>t>Bt?">1M":t<wt?(0,E.default)(t).format("0,0.[000]"):(0,E.default)(t).format("0.[0]a").toUpperCase();o();r();o();r();function Lt(t){if(!t)return!1;let e=Y(t),n=t.chainData&&et(t.chainData)&&!!t.chainData.kioskId;return e||!!n}export{St as a,ht as b,Nt as c,xt as d,Et as e,Mt as f,At as g,lt as h,kt as i,Lt as j};
//# sourceMappingURL=chunk-YQDBMSRB.js.map

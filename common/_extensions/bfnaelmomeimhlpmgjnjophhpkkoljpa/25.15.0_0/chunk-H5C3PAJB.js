import{d as Jt}from"./chunk-SDNWZK3I.js";import{a as Rt,d as tr,e as rr,f as or}from"./chunk-X3SZXC4S.js";import{a as j,c as ne,d as q,f as Zt,h as Fe}from"./chunk-54OJQHT7.js";import{a as Qt,c as Xt}from"./chunk-NMUIMOFA.js";import{D as _t,E as Kt,F as $e,G as Gt,f as ve,i as Ot,m as $t,y as Nt}from"./chunk-QY52VKIT.js";import{a as Yt}from"./chunk-ZJHRYWCW.js";import{a as Z}from"./chunk-752G45NS.js";import{b as Ce,g as jt}from"./chunk-YN37DKRO.js";import{b as H,d as zt,g as E}from"./chunk-DLKGATEC.js";import{a as qt}from"./chunk-P7AH56UI.js";import{f as Mt}from"./chunk-UDB3GXAG.js";import{a as Ut}from"./chunk-XF5OACZG.js";import{a as er,b as sr}from"./chunk-JFTAOGWZ.js";import{e as Lt}from"./chunk-FOBVHFVM.js";import{h as xt,i as At,j as Tt}from"./chunk-RP4HT6XN.js";import{a as Vt}from"./chunk-AK42W2OZ.js";import{c as Ht,d as se}from"./chunk-H7ATUB7C.js";import{A as Wt,D as be,G as Dt,N as Bt,db as M,p as ze}from"./chunk-7N5UY74L.js";import{f as x}from"./chunk-ORJUPAX4.js";import{Lb as Et,mb as It,nb as kt,oa as bt,qa as vt}from"./chunk-ZTXKK5SN.js";import{a as Ft}from"./chunk-JOA3PMVO.js";import{a as Pt,c as oe}from"./chunk-7F2GBYX5.js";import{a as Ar}from"./chunk-HYOCMEEG.js";import{a as Ct}from"./chunk-IBEI3NGL.js";import{L as ft,M as gt,P as Te,Q as St,W as yt,X as ht,ea as wt,g as pt}from"./chunk-O3RSUGZX.js";import{g as Ze,h as Re,p as de}from"./chunk-65FAE5DM.js";import{Ec as He,Fc as xe,Hc as Ae,Ic as ot,Jc as st,Kc as te,Ld as ct,Nd as Oe,Od as lt,Ya as Be,Yd as dt,_c as nt,_d as Ve,fd as G,gd as it,ld as re,sd as at,yc as rt}from"./chunk-D7Z6MPRS.js";import{B as Pe,I as et,J as tt}from"./chunk-E2H5RB2U.js";import{C as mt,D as ut,Ea as T,U as pe,j as g,s as P,v as le,w as k,x as K}from"./chunk-27TD4NX4.js";import{q as Qe}from"./chunk-YJV3X2ON.js";import{D as N}from"./chunk-FBDT5S2M.js";import{F as Xe,G as we,H as De,Q as Je}from"./chunk-TKSJVOQZ.js";import{a as L,w as Ye}from"./chunk-UA6ADLWZ.js";import{f as v,h as u,i as C,m as Buffer,n as f}from"./chunk-3KENBVE7.js";u();f();var Ne=v(L());var nr=({value:e,onChange:t})=>{let{t:r}=g();return Ne.default.createElement(Tr,null,Ne.default.createElement(jt,{placeholder:r("assetListSearch"),value:e,onChange:s=>{"value"in s.target&&typeof s.target.value=="string"&&t(s.target.value)},showClearIcon:!!e,onClear:()=>{t("")}}))},Tr=x.div`
  padding: 14px 0 14px;
  background: ${P.colors.legacy.bgWallet};
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid ${P.colors.legacy.borderPrimary};
  }
`;u();f();var l=v(L());u();f();u();f();u();f();u();f();var R=v(L()),br=({navigateToPublicAddresses:e,toastController:t})=>{let{t:r}=g(),s=te(),n=Oe(),{PRIVACY_STATE_DISPLAY_METADATA:a}=Me(),{mutateAsync:i}=Ae();return R.default.createElement(k,{direction:"column",width:"100%",gap:16},R.default.createElement(T,{rows:["public","private","invisible"].map(o=>{let{icon:S,title:m,description:d}=a[o],h=S,p=o===n;return{type:"radio",id:`privacy-state--${o}`,active:p,alignStartNodeItems:"ascender",start:R.default.createElement(h,{size:18,color:"accentPrimary"}),topLeft:{text:m},bottomLeft:{component:()=>R.default.createElement(K,{align:"left",font:"label",color:"textSecondary",children:d})},onPress:()=>{p||i({privacyState:o},{onSuccess:()=>{s.onPrivacyStateUpdated(o),t.success(r("settingsManageUserProfileUpdatePrivacyStateToast"),{id:"privacy-state-toast"})},onError:()=>t.error(r("settingsManageUserProfileUpdatePrivacyStateToastFailure"),{id:"privacy-state-toast"})})}}})}),R.default.createElement(T,{rows:[{type:"drawer",disabled:n==="invisible",start:R.default.createElement(le.Search,{size:18,color:"accentPrimary"}),topLeft:{text:r("settingsClaimUsernameManageAddressesTitle")},topRight:n==="invisible"?{text:r("pastParticipleDisabled")}:void 0,onPress:e}]}))},Me=()=>{let{t:e}=g(),t=Oe(),r=(0,R.useMemo)(()=>({public:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:le.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")},private:{title:e("settingsManageUserProfilePrivacyStatePrivate"),icon:le.Lock,description:e("settingsManageUserProfilePrivacyStatePrivateDescription")},invisible:{title:e("settingsManageUserProfilePrivacyStateInvisible"),icon:le.EyeOff,description:e("settingsManageUserProfilePrivacyStateInvisibleDescription")},hidden:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:le.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")}}),[e]);return{currentPrivacyState:r[t],PRIVACY_STATE_DISPLAY_METADATA:r}};u();f();var me=v(Ct()),ee=v(L()),vr=({accountAvatarGenerator:e,toastController:t})=>{let{t:r}=g(),s=te(),n=nt(),{data:a=[]}=G(),i=lt(),{mutateAsync:o,isPending:S}=Ae(),m=(0,ee.useMemo)(()=>n.map(d=>{let h=Be.getChainID(d),A=a.filter(b=>b.addresses.some(U=>(0,me.default)(U.networkID,d))).map(b=>{let U=a.findIndex(y=>(0,me.default)(y.identifier,b.identifier)),D=b.addresses.find(y=>(0,me.default)(y.networkID,d))?.address;if(!D)throw new Error(`Unable to find address for Chain (${d}) in account: ${b.identifier}`);let w=b.addresses.some(y=>(0,me.default)(i?.[d],y.address));return{start:e(b.name,b.icon,U),topLeft:{text:b.name,font:"body"},bottomLeft:{text:Re(D||"")},active:w,disabled:S,type:"radio",onPress:async()=>{try{let y={...i,[d]:D};await o({addresses:y}),t.success(r("settingsManageUserProfileUpdatePublicAddressToast")),s.onPublicAddressesUpdated(Object.entries(y).filter(([I,F])=>!!F).map(([I])=>I))}catch(y){N.captureError(y,"account"),t.error(r("settingsManageUserProfileUpdatePublicAddressToastFailure"))}}}});return A.length===1&&A[0]?.type==="check"&&A[0]?.active&&(A[0].disabled=!0),ee.default.createElement(k,{key:d,direction:"column",gap:16},ee.default.createElement(k,{direction:"row",gap:12,alignItems:"center",justifyContent:"flex-start"},ee.default.createElement(Ft,{networkID:d,size:24}),ee.default.createElement(K,{font:"captionSemibold",color:"textPrimary",children:r(Be.getChainName(h))})),ee.default.createElement(T,{rows:A}))}),[e,a,n,S,s,o,i,r,t]);return ee.default.createElement(k,{direction:"column",width:"100%",gap:24},m)};u();f();var _e=v(Ct()),ue=v(L()),Cr=({accountAvatarGenerator:e,toastController:t})=>{let{t:r}=g(),s=te(),{data:n=[]}=G(),{data:a}=xe(),{mutateAsync:i}=ot(),{mutateAsync:o}=st(),S=(0,ue.useMemo)(()=>n.filter(m=>Ze(m)).map(m=>{let d=n.findIndex(p=>(0,_e.default)(p.identifier,m.identifier)),h=a?.some(p=>(0,_e.default)(p.accountHash,m.identifier))||!1;return{type:"check",active:h,start:e(m.name,m.icon,d),topLeft:{text:m.name,font:"body"},onPress:async()=>{try{let p=a?.length??0;h?(await o(m.identifier),p--):(await i(m.identifier),p++),t.success(r("settingsManageUserProfileUpdateLinkedWalletsToast")),s.onLinkedWalletsUpdated(p,n.length)}catch(p){N.captureError(p,"account"),t.error(r("settingsManageUserProfileUpdateLinkedWalletsToastFailure"))}}}}),[n,a,e,t,r,s,o,i]);return ue.default.createElement(k,{width:"100%"},ue.default.createElement(T,{rows:S}))};u();f();var Y=v(L()),Fr=({accountAvatarGenerator:e,toastController:t})=>{let{t:r}=g(),s=te(),{data:n=[]}=G(),{data:a=[]}=re("all"),{data:i}=Pe(),o=Object.values(i||{}).filter(w=>w?.isExistingAuthFactor).length,{mutateAsync:S}=et(),{mutateAsync:m}=tt(),d=Mr(),[h,p]=(0,Y.useMemo)(()=>{let w=Object.keys(i||{}),y=new Set,I=new Set;for(let F of n)F.type==="seed"||F.type==="seedless"?F.seedIdentifier&&w.includes(F.seedIdentifier)&&y.add(F.seedIdentifier):F.type==="privateKey"&&F.privateKeyIdentifier&&w.includes(F.privateKeyIdentifier)&&I.add(F.privateKeyIdentifier);return[[...y],[...I]]},[n,i]),A=(0,Y.useCallback)(async w=>{try{let y=o;i?.[w]?.isExistingAuthFactor?(await m({authenticationPublicKey:i[w]?.authenticationPublicKey}),y--):(await S({secretIdentifier:w}),y++),t.success(r("settingsManageUserProfileUpdateAuthFactorsToast")),s.onAuthFactorsUpdated(y,h.length+p.length)}catch(y){N.captureError(y,"account"),t.error(r("settingsManageUserProfileUpdateAuthFactorsToastFailure"))}},[S,i,s,m,r,t,o,p.length,h.length]),b=h.map(w=>{let y=i?.[w]?.isExistingAuthFactor??!1,I=y&&o===1,F=a.findIndex(ce=>ce.identifier===w);return d({accountAvatarGenerator:e,secretType:"secret-phrase",secretIndex:F,secretId:w,isActive:y,accounts:de(n,w),onPress:A,disabled:I})}),U=p.map((w,y)=>{let I=i?.[w]?.isExistingAuthFactor??!1,F=I&&o===1;return d({accountAvatarGenerator:e,secretType:"private-key",secretIndex:y,secretId:w,isActive:I,accounts:de(n,w),onPress:A,disabled:F})}),D=[...b,...U];return Y.default.createElement(k,{width:"100%"},Y.default.createElement(T,{rows:D}))},Mr=()=>{let{t:e}=g(),t=(0,Y.useCallback)((n,a)=>{switch(n){case"secret-phrase":return e("addAccountSecretPhraseDefaultLabel",{number:a+1});case"private-key":return e("addAccountPrivateKeyDefaultLabel",{number:a+1});default:return""}},[e]),r=(0,Y.useCallback)(n=>n===1?e("settingsClaimUsernameNoOfAccountsSingular"):n>0?e("settingsClaimUsernameNoOfAccounts",{noOfAccounts:n}):e("settingsClaimUsernameEmptyAccounts"),[e]);return(0,Y.useCallback)(({accountAvatarGenerator:n,secretId:a,secretType:i,secretIndex:o,accounts:S,isActive:m,onPress:d,disabled:h})=>{let p=S[0],A=t(i,o),b=r(S.length),U=p?n(p?.name||"",p?.icon,0):void 0;return{key:`auth-factor-${a}`,type:"check",active:m,topLeft:A,bottomLeft:{text:b,before:U},onPress:()=>d(a),disabled:h}},[r,t])};u();f();var _=v(L());var Ir=({navigateToEditUsername:e,navigateToAuthFactors:t,navigateToEditBiography:r,navigateToSyncedAccounts:s,navigateToPrivacyState:n,navigateToFollowers:a})=>{let{t:i}=g(),o=ct(),{data:S,isPending:m}=He(),d=S?.biography,{data:h,isPending:p}=Pe(),A=Object.values(h||{}),b=A.filter(J=>J?.isExistingAuthFactor)?.length?.toString(),U=p||A?.length===0,{data:D,isPending:w}=xe(),y=w?void 0:D?.length?.toString()||"0",{currentPrivacyState:I}=Me(),F=I?.icon,{data:ce}=He(),{isPending:ye}=bt(ce?.id),{formattedFollowers:he}=vt(ce?.id),Ee=(0,_.useMemo)(()=>{let J=[{type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutUsername")},topRight:o&&{text:`@${o}`},onPress:e}];return r&&J.push({type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutBio")},topRight:{text:d},disabled:m,onPress:r}),J},[d,m,r,e,i,o]),Ue=(0,_.useMemo)(()=>{let J=[{type:"drawer",topLeft:{text:i("settingsManageUserProfileAuthFactors")},topRight:!U&&{text:b},disabled:U,onPress:t},{type:"drawer",topLeft:{text:i("settingsManageUserProfileLinkedWallets")},topRight:y&&{text:y},disabled:w,onPress:s},{type:"drawer",topLeft:{text:i("settingsManageUserProfilePrivacy")},topRight:!m&&{text:I.title,before:_.default.createElement(F,{size:16,color:"textSecondary"})},disabled:m,onPress:n}];return a&&J.unshift({type:"drawer",topLeft:{text:i("followers")},topRight:{text:he},disabled:ye,onPress:a}),J},[F,U,I.title,b,he,ye,w,m,t,a,n,s,y,i]);return _.default.createElement(k,{gap:24,width:"100%"},_.default.createElement(k,{gap:"section",width:"100%"},_.default.createElement(K,{font:"title3Semibold",color:"textSecondary",children:i("settingsManageUserProfileAbout")}),_.default.createElement(T,{rows:Ee})),_.default.createElement(k,{gap:"section",width:"100%"},_.default.createElement(K,{font:"title3Semibold",color:"textSecondary",children:i("settingsManageUserProfileManage")}),_.default.createElement(T,{rows:Ue})))};u();f();var Q=v(L()),Ge=Q.default.memo(({type:e,onSuccess:t,isMobile:r=!1})=>{let{t:s}=g(),[n,a]=Q.default.useState(!1),i=e==="privateKey",o=s(i?"exportSecretPrivateKey":"exportSecretRecoveryPhrase"),S=i?"exportPrivateKey":"exportMnemonic",m=(0,Q.useMemo)(()=>[{key:"warning-1",icon:Q.default.createElement(pe,{icon:"Key",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretOnlyWayDescription",{secretNameText:o})},{key:"warning-2",icon:Q.default.createElement(pe,{icon:"EyeOff",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretDoNotShowDescription",{secretNameText:o})},{key:"warning-3",icon:Q.default.createElement(pe,{icon:"AlertOctagon",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretNeverShareDescription",{secretNameText:o})}],[s,o]);return Q.default.createElement(Ot,{marginX:r?0:"-16",marginBottom:r?0:"-16",mobileTitleSheetInset:r,image:Q.default.createElement(pe,{icon:"ShieldWarning",size:64,backgroundColor:"accentAlert",shape:"circle"}),title:s("exportSecretShowSecretRecoveryPhraseModalTitle",{secretNameText:o}),items:m,primaryButton:{theme:"secondary",children:s("commandContinue"),onAction:t,disabled:!n,testID:"primary-button"},displayEvent:{event:S},footer:{checkbox:{shape:"square",label:{text:s("exportSecretWillNotShare",{secretNameText:o})},checked:n,onChange:()=>a(d=>!d),id:"export-secret-warning-checkbox",testID:"export-secret-warning-checkbox"}}})});var fe=v(L());var ir=({onSuccess:e,type:t})=>{let{t:r}=g(),s=t==="privateKey",n=r(s?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return fe.default.createElement(fe.default.Fragment,null,fe.default.createElement(E,{shouldWrap:!0},n),fe.default.createElement(Ge,{onSuccess:e,type:t}))};u();f();var V=v(L());u();f();var ie=v(L());var ar=ie.default.memo(({indexes:e,wordlist:t})=>ie.default.createElement(Ur,null,e.length&&t.length?e.map((r,s)=>ie.default.createElement(kr,{key:s},ie.default.createElement(Lr,null,`${s+1}.`),ie.default.createElement(Wr,{"data-testid":`secret-recovery-phrase-word-input-${s}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:t[r],pattern:"[A-Za-z\\s]+"}))):Array.from({length:e?e.length:12},(r,s)=>ie.default.createElement(Er,{key:s})))),kr=x(Z).attrs({align:"center",justify:"center"})`
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  color: ${P.colors.legacy.textPrimary};
  background: ${P.colors.legacy.bgArea};
  border: 1px solid ${P.colors.legacy.borderSecondary};
  border-radius: 6px;
  align-self: center;
  height: 41px;
`,Er=x(Yt).attrs({backgroundColor:P.colors.legacy.borderPrimary,borderRadius:"6px",height:"41px"})``,Ur=x.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,Lr=x(M).attrs({size:14,weight:400,color:P.colors.legacy.textSecondary})`
  padding-left: 8px;
  padding-right: 2px;
`,Wr=x.input`
  color: ${P.colors.legacy.textPrimary};
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;u();f();var ge=v(L());var cr=({type:e})=>{let{t}=g(),r=e==="privateKey"?t("exportSecretPrivateKey"):t("exportSecretRecoveryPhrase");return ge.default.createElement(Dr,{"data-testid":`warning-island-${e}`},ge.default.createElement($t,{color:P.colors.legacy.accentAlert,title:ge.default.createElement(Vt,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:r}},"Do ",ge.default.createElement("u",null,"not")," share your ",r,"!"),description:t("exportSecretWarningSecondaryInterpolated",{secretNameText:r})}))},Dr=x.div`
  margin-bottom: 20px;
`;var lr=({accountIdentifier:e,password:t})=>{let{t:r}=g(),{popDetailView:s}=H(),[{indexes:n,wordlist:a},i]=(0,V.useState)({indexes:[],wordlist:[]}),{data:o}=it(e);return(0,V.useEffect)(()=>{(async()=>{if((o?.type==="seed"||o?.type==="seedless")&&o?.seedIdentifier)try{let S=await t.foldAsync(p=>Lt(Buffer.from(p).toString("utf-8"),o.seedIdentifier));if(!S)throw new Error("Could not get mnemonic");let m=await Ut(),d=S.fold(m.fromEntropy),h=Array.from(await d.getIndexes());i({indexes:h,wordlist:m.wordlist}),N.addBreadcrumb("account",`\u2705 Exported S*ed for Account: ${e}`,"info"),oe.capture("exportMnemonic")}catch{throw N.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(o)}"`,"error"),new Error("Could not get mnemonic")}else N.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(o)}"`,"error")})()},[o,e,t]),V.default.createElement(V.default.Fragment,null,V.default.createElement(E,{shouldWrap:!0},r("exportSecretYourSecretRecoveryPhrase")),V.default.createElement(j,null,V.default.createElement(q,null,V.default.createElement(cr,{type:"mnemonic"}),V.default.createElement(ar,{indexes:n,wordlist:a}))),V.default.createElement(Ht,{onClick:()=>{s(),s(),s()}},r("pastParticipleDone")))};u();f();var c=v(L());var je=({navigationCallback:e})=>{let{t}=g(),{data:r=[]}=G(),{data:s=[]}=re("all"),a=!(s?.length>0),i=Ve(d=>d.editableAccountMetadata),o=Ve(d=>d.setEditableAccountMetadata),S=(0,c.useCallback)(d=>{o&&o({...i,seedIdentifier:d})},[i,o]),m=(0,c.useCallback)(d=>{S(d),e(d)},[S,e]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(E,{icon:c.default.createElement(Dt,{fill:P.colors.legacy.textSecondary})},t("settingsSelectSecretPhrase")),c.default.createElement(j,null,a?c.default.createElement(K,{children:t("addAccountNoSecretPhrases"),font:"labelBold"}):c.default.createElement(k,{gap:8},c.default.createElement(Or,null,s?.map((d,h)=>c.default.createElement(Br,{key:`seed-select-${d.identifier}`,accounts:de(r,d.identifier),seedIdentifier:d.identifier,onClick:m,index:h}))))))},Br=({accounts:e,seedIdentifier:t,index:r,onClick:s})=>{let{t:n}=g(),[a,i]=(0,c.useState)(!1),[o,S]=(0,c.useState)(!1),m=(0,c.useCallback)(()=>{i(!a)},[a,i]),d=(0,c.useCallback)(()=>{o||s(t)},[o,s,t]),h=(0,c.useMemo)(()=>e.length>1?n(a?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(a?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,a,n]),p=(0,c.useMemo)(()=>e.length>=1?{onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:m}:null,[e.length,m]);return c.default.createElement(Vr,{onClick:d},c.default.createElement(pr,null,c.default.createElement(zr,null,c.default.createElement($r,null,c.default.createElement(Nr,null,n("addAccountSecretPhraseDefaultLabel",{number:r+1})),c.default.createElement(Kr,{...p},h)),c.default.createElement(Z,{width:"fit-content"},c.default.createElement(mr,null,c.default.createElement(ze,{fill:P.colors.legacy.textSecondary,width:10})))),c.default.createElement(Hr,{accounts:e,expanded:a})))},Hr=({accounts:e,expanded:t})=>{let[r,{height:s}]=Mt(),n=(0,c.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:s},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[s]);return c.default.createElement(ut,{mode:"wait"},t&&e.length>0&&c.default.createElement(dr,{...n},c.default.createElement(dr,{ref:r},c.default.createElement(Gr,null,e.map((a,i)=>c.default.createElement(Z,{key:`account-${a.identifier}`,justify:"flex-start"},c.default.createElement(Rt,{size:24,accountIcon:a.icon,accountName:a.name,accountIndex:i}),c.default.createElement(_r,{style:{marginLeft:6}},a.name)))))))},Or=x.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,Vr=x(Z).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: ${P.colors.legacy.bgRow};
  border-radius: 8px;
  &:hover {
    background-color: ${P.colors.legacy.bgButton};
  }
`,zr=x(Z).attrs({justify:"space-between"})`
  padding: 15px;
`,$r=x.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,Nr=x(M).attrs({size:16,weight:500,lineHeight:19})``,_r=x(M).attrs({size:15,weight:500,lineHeight:19})``,Kr=x(M).attrs({size:13,weight:500,lineHeight:19})`
  color: ${P.colors.legacy.accentPrimary};
  margin-top: 2px;
`,pr=x.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,Gr=x(pr)`
  border-top: 1px solid ${P.colors.legacy.bgWallet};
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,dr=x(mt.div)`
  overflow: hidden;
`,En=({accounts:e,seedMetas:t,onClick:r,selectedSeedIdentifier:s})=>{let{t:n}=g(),a=(0,c.useMemo)(()=>{if(!t||!s)return 0;let o=t.find(S=>S.identifier===s);return o?t.indexOf(o):0},[t,s]),i=(0,c.useMemo)(()=>!e||!s?[]:e.filter(o=>(o.type==="seed"||o.type==="seedless")&&o.seedIdentifier===s),[e,s]);return c.default.createElement(jr,null,c.default.createElement(Xr,null,n("addAccountSecretPhraseLabel")),c.default.createElement(qr,{onClick:r,"data-testid":"select-secret-phrase-button"},c.default.createElement(Z,{justify:"space-between"},c.default.createElement(Z,null,c.default.createElement(Yr,null,n("addAccountSecretPhraseDefaultLabel",{number:a+1})," ",c.default.createElement(Qr,null,"(",i.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:i.length}):n("addAccountOneAccountsForSeed"),")"))),c.default.createElement(mr,null,c.default.createElement(ze,{fill:P.colors.legacy.textSecondary,width:10})))),c.default.createElement(ur,null,n("addAccountSelectSeedDescription")))},jr=x(Qt)`
  width: 100%;
  position: relative;
`,qr=x(Xt)`
  padding: 8px 16px 8px 12px;
`,mr=x.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,Yr=x(M).attrs({size:16,weight:400,lineHeight:19})``,Qr=x(M).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: ${P.colors.legacy.textSecondary};
`,ur=x(M).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: ${P.colors.legacy.textSecondary};
`,Xr=x(ur)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;u();f();var X=v(L());var Se=[0,1,5,10,15,30,60,240,480],fr=()=>{let{t:e}=g(),{popDetailView:t}=H(),{data:r}=Te(),{mutateAsync:s}=St(),n=(0,X.useCallback)(async i=>{try{let o=De(i);await s({lockTimeInMs:o}),oe.capture("changeLockTimerDuration",{data:{mins:i}}),t(),r!==o&&ve.success(e("changeLockTimerToast"))}catch(o){console.error(o)}},[r,t,s,e]),a=(0,X.useMemo)(()=>{if(r===void 0)return[];let i=Xe(r);return Jr(i),Se.map(o=>({topLeft:{text:we(e,De(o))},active:i===o,type:"check",onClick:()=>n(o)}))},[r,n,e]);return X.default.createElement(X.default.Fragment,null,X.default.createElement(E,null,e("changeLockTimerPrimaryText")),X.default.createElement(j,null,X.default.createElement(T,{rows:a})))},Jr=async e=>{if(!Se.includes(e)){let t=Se.findIndex(r=>r>e);t?Se.splice(t,0,e):Se.push(e)}};u();f();var W=v(L());var Zr={currentPassword:"",password:"",confirmPassword:""},Rr={currentPassword:void 0,password:void 0,confirmPassword:void 0},gr=()=>{let{t:e}=g(),{popDetailView:t}=H(),[r,s]=(0,W.useState)(Zr),{currentPassword:n,password:a,confirmPassword:i}=r,[o,S]=(0,W.useState)(Rr),m=o.password??o.confirmPassword??o.currentPassword,d=!n||!a||!i,[h,p]=(0,W.useState)(!1),A=U=>{let D=U.currentTarget.name,w=U.currentTarget.value;s({...r,[D]:w})};return W.default.createElement(Fe,{onSubmit:async U=>{U.preventDefault(),p(!0);let D,w=tr(a)??or(n,a),y=rr(a,i);if(w||y)return S({...o,password:w,confirmPassword:y}),p(!1);try{if(!await _t(n))throw new Error("Incorrect password");await Kt(i),p(!1),t(),ve.success(e("changePasswordToast"))}catch(I){N.captureError(I,"account"),D=I?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),S({...o,currentPassword:D}),p(!1)}}},W.default.createElement(E,null,e("changePasswordPrimaryText")),W.default.createElement(ne,{size:"large"},W.default.createElement(q,null,W.default.createElement(Wt,null),W.default.createElement(M,{size:26,weight:500},e("changePasswordPrimaryText")),W.default.createElement(Zt,null,W.default.createElement(Ce,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!o.currentPassword,onChange:A}),W.default.createElement(Ce,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!o.password,onChange:A}),W.default.createElement(Ce.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!o.confirmPassword,warningMessage:m,onChange:A}))),W.default.createElement(se,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:t,primaryDisabled:d||h,primaryLoading:h})))};u();f();var O=v(L());var eo=x.div`
  border: 1px solid ${P.colors.legacy.accentWarning};
  border-radius: 6px;
  padding: 8px 16px;
`,Sr=O.default.memo(()=>{let{t:e}=g(),{downloadLogs:t,goSupportDesk:r,isFetching:s}=sr();return O.default.createElement(Fe,{onSubmit:t},O.default.createElement(E,null,e("settingsDownloadApplicationLogs")),O.default.createElement(ne,{size:"medium"},O.default.createElement("div",null),O.default.createElement(q,null,O.default.createElement(qt,{diameter:96,color:Je(P.colors.legacy.accentPrimary,.1)},O.default.createElement(Bt,null)),O.default.createElement(M,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px"},e("settingsDownloadApplicationLogs")),O.default.createElement(M,{size:16,color:P.colors.legacy.textSecondary,lineHeight:19,margin:"0 0 4px"},e("settingsDownloadApplicationLogsHelper")),O.default.createElement(eo,null,O.default.createElement(M,{size:14,color:P.colors.legacy.accentWarning,lineHeight:20,weight:500},e("settingsDownloadApplicationLogsWarning")))),O.default.createElement(se,{primaryDisabled:s,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:r})))});u();f();var z=v(L());var yr=({seedIdentifier:e})=>{let{t}=g(),{hideSettingsMenu:r}=zt(),{mutate:s}=at(),{data:n=[]}=re("all"),a=n.findIndex(S=>S.identifier===e)??0,i=(0,z.useCallback)(()=>{s({seedIdentifier:e}),oe.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),r()},[r,s,e,n]),{popDetailView:o}=H();return z.default.createElement(z.default.Fragment,null,z.default.createElement(E,null,t("settingsRemoveSecretPhrase")),z.default.createElement(ne,{size:"large"},z.default.createElement("div",null),z.default.createElement(q,null,z.default.createElement(be,null),z.default.createElement(M,{size:28,weight:500,lineHeight:34},t("removeSeedPrimaryText",{number:a+1})),z.default.createElement(M,{size:16,color:P.colors.legacy.textSecondary,lineHeight:19,maxWidth:"312px"},t("removeSeedSecondaryText",{number:a+1}))),z.default.createElement(se,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:o})))};u();f();var $=v(L()),hr=v(Ar());var to=new Pt,wr=()=>{let{t:e}=g(),{mutateAsync:t}=It(),{mutateAsync:r}=kt(),[s,n]=(0,$.useState)("idle"),a=s==="resetting",i=async()=>{n("resetting"),oe.capture("resetApp"),await to.clear(),await er.logOut(),await Nt(),await t(!0),await r(!0),hr.default.runtime.reload()},{popDetailView:o}=H();return $.default.createElement($.default.Fragment,null,$.default.createElement(E,null,e("settingsResetApp")),$.default.createElement(ne,{size:"large"},$.default.createElement("div",null),$.default.createElement(q,null,$.default.createElement(be,null),$.default.createElement(M,{size:28,weight:500,lineHeight:34},e("resetSeedPrimaryText")),$.default.createElement(M,{size:16,color:P.colors.legacy.textSecondary,lineHeight:19,maxWidth:"312px"},e("resetSeedSecondaryText"))),$.default.createElement(se,{primaryDisabled:a,primaryLoading:a,primaryText:e("commandContinue"),secondaryText:e("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:o})))};var ro=e=>e.type==="seed"||e.type==="seedless",ba=()=>{let{t:e}=g(),{pushDetailViewCallback:t,pushDetailView:r}=H(),{data:s=[]}=G(),n=s.filter(ro),a=n.filter(B=>B.type==="seed"),i=n.filter(B=>B.type==="seedless"),{additionalPermissionRows:o}=oo(),{data:S=[]}=re("recoverable-only"),m=dt(),{data:d}=Te(),{data:h,isPending:p}=ft(),{mutate:A}=gt(),{data:b,isPending:U}=yt(),{mutate:D}=ht(),w=(0,l.useCallback)(()=>{A({isAnalyticsOptedOut:!h})},[h,A]),y=(0,l.useCallback)(()=>{D({showWalletShortcuts:!b}),Et.invalidateQueries({queryKey:[Jt]})},[b,D]),I=(0,l.useCallback)(B=>{r(l.default.createElement(Gt,{password:B,isSettings:!0}))},[r]),F=t(l.default.createElement($e,{type:"seedless",onSuccess:I})),ce=(0,l.useMemo)(()=>{let B=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:t(l.default.createElement(gr,null))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:we(e,d)},type:"drawer",onClick:t(l.default.createElement(fr,null))}];return S.length&&B.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:F}),B},[S.length,d,t,F,e]),ye=(0,l.useMemo)(()=>{let B=[{topLeft:{text:e("settingsResetApp"),color:"accentAlert"},onClick:t(l.default.createElement(wr,null))}];return m&&B.unshift({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"accentAlert"},onClick:t(l.default.createElement(je,{navigationCallback:Le=>r(l.default.createElement(yr,{seedIdentifier:Le}))}))}),B},[r,t,m,e]),he=(0,l.useMemo)(()=>p?[]:[{id:"toggleAnalytics",active:!h,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:w}],[h,p,w,e]),Ee=(0,l.useMemo)(()=>[{topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:t(l.default.createElement(Sr,null))}],[t,e]),Ue=(0,l.useMemo)(()=>U?[]:[{id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:b??pt,type:"toggle",onClick:y}],[b,U,y,e]),J=(0,l.useMemo)(()=>{let B=[],Le=Pr=>{let qe=n.find(We=>We.seedIdentifier===Pr);if(!qe)return;let xr=We=>{r(l.default.createElement(ir,{type:"mnemonic",onSuccess:()=>r(l.default.createElement(lr,{accountIdentifier:qe.identifier,password:We}))}))};r(l.default.createElement($e,{type:"mnemonic",onSuccess:xr}))};return(a.length||i.length)&&B.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:t(l.default.createElement(je,{navigationCallback:Le}))}),B},[t,r,n,a.length,i.length,e]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(E,null,e("settingsSecurityPrimary")),l.default.createElement(j,null,l.default.createElement(k,{gap:"section"},l.default.createElement(T,{rows:ce}),l.default.createElement(T,{rows:Ee}),o.length>0?l.default.createElement(T,{rows:o}):null,l.default.createElement(T,{rows:Ue}),l.default.createElement(k,{gap:"list"},l.default.createElement(T,{rows:he}),l.default.createElement(k,{paddingX:4},l.default.createElement(K,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textSecondary"}))),l.default.createElement(T,{rows:J}),l.default.createElement(T,{rows:ye}))))};function oo(){let e=rt(),{t}=g(),r=Ye(C.IS_FIREFOX),s=Qe.isFeatureEnabled("always-show-all-sites-permissions"),[n,a]=(0,l.useState)(null),[i,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let p=!0;return(async()=>{let A=await xt();p&&a(A)})(),()=>{p=!1}},[a]);let[S,m]=(0,l.useState)(!1),d=(0,l.useCallback)(async()=>{m(!0);try{let p=!!n;if(p)await Tt(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:p,newValue:!1}}),a(!1);else{let A=await At();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:p,newValue:A}}),a(A)}}catch(p){p instanceof Error&&p.message.includes("You cannot remove required permissions")?o(!0):(console.error("Failed to set permissions"),console.error(p))}finally{m(!1)}},[n,e]),h=(0,l.useMemo)(()=>r||s?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:i||S,onClick:d,type:"toggle",topLeft:t("settingsAllSitesPermissionsTitle"),helperText:t(i?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[r,s,n,i,S,d,t]);return(0,l.useMemo)(()=>({additionalPermissionRows:h}),[h])}u();f();var ae=v(L());var Da=()=>{let{t:e}=g(),{popDetailView:t}=H(),{currencyRows:r,searchQuery:s,setSearchQuery:n}=wt({goBack:t});return ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(E,null,e("settingsCurrency")),ae.default.createElement(nr,{value:s,onChange:n}),ae.default.createElement(j,null,ae.default.createElement(T,{rows:r})))};export{je as a,En as b,ar as c,cr as d,br as e,vr as f,Cr as g,Fr as h,Ir as i,ir as j,lr as k,nr as l,Da as m,fr as n,gr as o,Sr as p,yr as q,ba as r};
//# sourceMappingURL=chunk-H5C3PAJB.js.map

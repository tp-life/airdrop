import{C as fo,D as wo,a as co,b as se,k as mo,r as uo,y as go}from"./chunk-ND2RBZIW.js";import{a as lo}from"./chunk-3C4HISZP.js";import"./chunk-OIWCHA5L.js";import{a as J,b as po,c as ee}from"./chunk-MNWUE4AR.js";import{U as so,W as oe}from"./chunk-QY52VKIT.js";import"./chunk-FWNN4T46.js";import"./chunk-6N4LSHMD.js";import"./chunk-RQLATSAD.js";import"./chunk-ZMMJWM5T.js";import"./chunk-TQGXB7FB.js";import"./chunk-UMB7TYLX.js";import"./chunk-5RY5S5F7.js";import"./chunk-H6OI2N7M.js";import"./chunk-TMG2ZPKO.js";import"./chunk-MDZMKEZM.js";import{a as Z}from"./chunk-ZJHRYWCW.js";import"./chunk-752G45NS.js";import{a as xe,c as io,e as ao}from"./chunk-SQR6EK5U.js";import"./chunk-4HMU6WOI.js";import"./chunk-HV4BNC77.js";import"./chunk-E67GFDH7.js";import"./chunk-NXLKAZNL.js";import"./chunk-ACPUL5BT.js";import{h as G}from"./chunk-YN37DKRO.js";import{a as ge}from"./chunk-R2LHCBUO.js";import{b as no}from"./chunk-DLKGATEC.js";import"./chunk-P7AH56UI.js";import{a as to}from"./chunk-C4LAG2JY.js";import"./chunk-ZO4HQTNS.js";import"./chunk-UDB3GXAG.js";import{a as _}from"./chunk-NUJWAPIJ.js";import{b as ue}from"./chunk-KQPLPV6X.js";import"./chunk-FOBVHFVM.js";import"./chunk-ZDSEL3RH.js";import"./chunk-PB6PA2EI.js";import"./chunk-RP4HT6XN.js";import"./chunk-AK42W2OZ.js";import"./chunk-WIQ6K6RU.js";import"./chunk-26VAF3RA.js";import"./chunk-NAWTYQ77.js";import"./chunk-7ZVEM3WY.js";import"./chunk-LEN5VG3M.js";import{c as ro}from"./chunk-H7ATUB7C.js";import{db as be,j as eo,x as oo}from"./chunk-7N5UY74L.js";import{b as ze,f as B}from"./chunk-ORJUPAX4.js";import{$a as Ke,Ab as ae,Eb as Xe,Gb as Ze,Ha as ie,Hb as Je,Ia as Ve,Ja as Re,Ka as Qe,Qa as $e,Sa as He,Xa as _e,Ya as Ge,_a as Ue,ua as Me,wb as Ye,xa as Oe,xb as je,yb as qe}from"./chunk-ZTXKK5SN.js";import"./chunk-UCBZOSRF.js";import"./chunk-HIWDTKJJ.js";import"./chunk-3XC45JK7.js";import"./chunk-G7OTLN34.js";import"./chunk-GDBECYVT.js";import"./chunk-US2EC2AF.js";import"./chunk-JOA3PMVO.js";import"./chunk-MWXM4F4N.js";import{c as Ee}from"./chunk-7F2GBYX5.js";import"./chunk-7XSNALQR.js";import"./chunk-HYOCMEEG.js";import"./chunk-LTDRBNZN.js";import"./chunk-IBEI3NGL.js";import"./chunk-O2N6PUOM.js";import"./chunk-QY3T2P2H.js";import"./chunk-DZ3GQOT6.js";import"./chunk-EIQDOUTB.js";import"./chunk-WFPABEAU.js";import"./chunk-3IV4Y5QP.js";import"./chunk-XJI624TH.js";import"./chunk-NEKSPHVV.js";import"./chunk-O3RSUGZX.js";import"./chunk-65FAE5DM.js";import"./chunk-DBO6DP4Z.js";import"./chunk-5W7YPRT3.js";import{Dd as Le,Ya as me,eb as De,yc as Ne}from"./chunk-D7Z6MPRS.js";import"./chunk-NZAWO25Q.js";import"./chunk-E2H5RB2U.js";import"./chunk-CWJVYWRL.js";import{$ as X,U as q,Z as de,_ as Be,aa as We,d,j as S,q as y,s as g,v as H,w as c,wa as he,x as F}from"./chunk-27TD4NX4.js";import"./chunk-YJV3X2ON.js";import"./chunk-FBDT5S2M.js";import{Q as Se,Y as ye}from"./chunk-TKSJVOQZ.js";import{a as b}from"./chunk-UA6ADLWZ.js";import"./chunk-TVMPABNZ.js";import"./chunk-4M6V6BRQ.js";import"./chunk-UNDMYLJW.js";import{f as h,h as a,n as s}from"./chunk-3KENBVE7.js";a();s();var f=h(b());a();s();var v=h(b());a();s();var O=h(b());var Xo=O.default.memo(({retryString:e,message:o,errorCode:r,onRetry:t})=>r==="InsufficientSellAmount"?O.default.createElement(c,{width:"100%"},O.default.createElement(he,{level:"1-critical-alert"},o)):O.default.createElement(c,{gap:10,width:"100%"},O.default.createElement(c,{width:"100%"},O.default.createElement(he,{level:"2-alert",actions:[{children:e,onPress:t}]},o)))),So=O.default.memo(({message:e,errorCode:o,onRetry:r})=>{let{t}=S(),n=t("swapQuestionRetry");return O.default.createElement(Xo,{retryString:n,message:e,errorCode:o,onRetry:r})});a();s();var le=h(b());a();s();var T=h(b());var yo={disclaimerText:y({textAlign:"left"}),secondaryTooltipText:y({textAlign:"left",marginLeft:4,marginRight:4})},ho=({networkFee:e,tokenAccountFee:o,bridgeFee:r,phantomFeePercent:t,destinationNetworkFee:n,liquidityProviderFee:p})=>T.default.createElement(T.default.Fragment,null,T.default.createElement(pe,{...e}),T.default.createElement(pe,{...r}),T.default.createElement(pe,{...o}),T.default.createElement(pe,{...n}),T.default.createElement(pe,{...p}),t?.value&&T.default.createElement(F,{className:yo.disclaimerText,font:"captionItalic",color:"textTertiary",children:t.label})),pe=({label:e,maxValueUsd:o,valueUsd:r})=>{let{t}=S();return r?T.default.createElement(io,null,T.default.createElement(xe,null,e,o&&T.default.createElement(T.default.Fragment,null,T.default.createElement(F,{children:` ${t("swapperMax")} \xB7 `,className:yo.secondaryTooltipText,color:"textTertiary",font:"captionItalic"}),T.default.createElement(_,{color:"textTertiary",font:"captionItalic",minimumResolutionValue:1e-4,value:o}))),T.default.createElement(xe,null,T.default.createElement(_,{font:"caption",minimumResolutionValue:1e-4,value:r}))):null};a();s();var U=h(b());var Pe={row:y({display:"flex",flexDirection:"row",minWidth:0}),iconContainer:y({position:"relative",top:1,marginLeft:4})},bo=({label:e,tooltipContent:o,isLoading:r,value:t,disabled:n,onClick:p,accessoryIcon:i})=>{let l=i?U.default.createElement("span",null,i==="chevron-right"?U.default.createElement(H.ChevronRight,{className:Pe.iconContainer,color:"textSecondary",size:16}):U.default.createElement(H.Swap,{className:Pe.iconContainer,color:"textSecondary",size:16})):null;return U.default.createElement(J,{label:e,tooltipContent:o,isLoading:r,onClick:n?void 0:p},U.default.createElement("div",{className:Pe.row},U.default.createElement(ee,null,t),n?null:l))};a();s();var D=h(b());var xo=({label:e,value:o,tooltipContent:r,onClick:t})=>{let[n,p]=(0,D.useState)(o),[i,l]=(0,D.useState)(!1),w=(0,D.useRef)(!1);(0,D.useEffect)(()=>{if(o===n)return;if(w.current){w.current=!1,p(o);return}l(!0);let I=setTimeout(()=>{let E=setTimeout(()=>{l(!1),p(o)},150);return()=>clearTimeout(E)},150);return()=>clearTimeout(I)},[n,o]);let u=(0,D.useMemo)(()=>i?D.default.createElement(Z,{width:"75px",height:"15px",borderRadius:"50px",backgroundColor:g.colors.legacy.borderSecondary}):D.default.createElement(ee,{onClick:()=>{t&&(w.current=!0,t())}},n),[i,t,n]);return D.default.createElement(c,{direction:"row",gap:16,backgroundColor:"bgRow",padding:16,alignItems:"center",justifyContent:"space-between"},D.default.createElement(ao,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:400,info:r?D.default.createElement(po,{tooltipContent:r}):null,textColor:g.colors.legacy.textPrimary},e),u)};a();s();var Po=h(b()),Co=e=>{switch(e.type){case"provider":return{type:"generic",label:d.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,tooltipContent:d.t("swapFeesProviderDisclaimer")};case"providerPressable":return{type:"generic",label:d.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,accessoryIcon:"chevron-right",disabled:!e.selectProviderEnabled,onClick:e.showProviders,tooltipContent:d.t("swapFeesProviderDisclaimer")};case"exchangeRate":return{type:"generic",label:d.t("swapFeesRate"),tooltipContent:d.t("swapFeesRateDisclaimerMultichain"),isLoading:e.isFetchingQuote,value:e.exchangeRate.rate,onClick:e.exchangeRate.flip,accessoryIcon:"swap"};case"pricing":return{type:"generic",label:d.t("swapFeesPricing"),tooltipContent:d.t("swapFeesRateDisclaimerMultichain"),value:e.exchangeRate.rate,isLoading:e.isFetchingQuote,accessoryIcon:"chevron-right",onClick:e.showSwapPricing};case"slippage":return{type:"generic",isLoading:e.isFetchingQuote,label:d.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:d.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"slippagePressable":return{type:"generic",isLoading:e.isFetchingQuote,label:d.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:d.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage}),onClick:e.showSwapSettings,accessoryIcon:"chevron-right"};case"priceImpact":return{type:"generic",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:d.t("swapFeesPriceImpact"),tooltipContent:d.t("swapFeesPriceImpactDisclaimer")};case"network":return{type:"generic",isLoading:e.isFetchingQuote,label:d.t("nounNetwork"),value:`${e.sellNetwork} \u2794 ${e.buyNetwork}`};case"executionDuration":return{type:"generic",isLoading:e.isFetchingQuote,label:d.t("swapEstimatedTimeShort"),value:e.uiEstimatedTime,tooltipContent:d.t("swapEstimatedTimeDisclaimer")};case"fees":return{type:"generic",label:d.t("swapFeesFees"),isLoading:e.isFetchingQuote||e.fees.isFetchingFees,value:Po.default.createElement(_,{font:"caption",value:e.fees.totalFees.amountUsd})};case"highPriceImpact":return{type:"warning",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:d.t("swapFeesHighPriceImpact"),tooltipContent:d.t("swapFeesPriceImpactDisclaimer")};case"highSlippage":return{type:"warning",isLoading:e.isFetchingQuote,value:e.slippage?.text,label:d.t("swapFeesHighSlippage"),tooltipContent:d.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"transferFees":return{type:"warning",isLoading:e.isFetchingQuote,value:`${e.transferFees.totalPercentFees}%`,label:d.t("swapTransferFee"),tooltipContent:e.transferFees.fees.length>1?d.t("swapTransferFeeDisclaimerMany",{feePercent:e.transferFees.totalPercentFees}):d.t("swapTransferFeeDisclaimer",{symbol:e.transferFees.fees[0].symbol,feePercent:e.transferFees.fees[0].percentFee})}}};a();s();var fe=h(b());var Fo=({label:e,tooltipContent:o,isLoading:r,value:t})=>fe.default.createElement(J,{label:e,icon:fe.default.createElement(oo,{width:"14",height:"14",fill:g.colors.legacy.bgWallet}),tooltipContent:o,customBackground:g.colors.legacy.accentWarning,color:g.colors.legacy.bgWallet,isLoading:r},fe.default.createElement(ee,{color:g.colors.legacy.bgWallet},t));var vo=e=>{let o=Co(e);switch(o?.type){case"generic":let r=o,t=e.type==="fees"?e.feeBreakdown&&le.default.createElement(ho,{...e.feeBreakdown}):r.tooltipContent;return e.rowDisplayStrategy===0?le.default.createElement(bo,{tooltipContent:t,...o}):le.default.createElement(xo,{tooltipContent:t,...o});case"warning":return le.default.createElement(Fo,{...o});default:return null}};var Jo=e=>{let{t:o}=S(),{handleShowModalVisibility:r}=oe(),t=(0,v.useCallback)(()=>{r("swapProviders",void 0,{event:"showSwapModal",payload:{data:{uiContext:"SwapProviders"}}})},[r]),n=(0,v.useCallback)(()=>{r("swapSettings")},[r]),p=(0,v.useCallback)(()=>{r("swapPricing")},[r]),i=Xe({isSwapReview:e,showProviders:t,showSwapSettings:n,showSwapPricing:p}),{exchangeRate:l,fees:w}=i,u=l.rate?l.isBestRate?g.colors.legacy.accentSuccess:g.colors.legacy.textPrimary:"",I=Ue(w);return{...i,exchangeRateColor:u,feeBreakdown:I,isSwapReview:e,showSwapProvidersModal:t,t:o}},er=v.default.memo(({displayPhantomFeeRow:e,fees:o,isFetchingQuote:r,rows:t,t:n,sharedRowProps:p,rowDisplayStrategy:i})=>{let l=!!o.phantomFee.pct,w=(0,v.useMemo)(()=>{switch(i){case 1:return e&&l;case 0:return e&&l&&!r}},[r,e,l,i]),u=t.map((I,E)=>v.default.createElement(vo,{key:`r-${E}`,...p,type:I,rowDisplayStrategy:i}));return v.default.createElement(c,{gap:1,width:"100%"},v.default.createElement(c,{borderTopRadius:8,borderBottomRadius:8,gap:1,overflow:"hidden"},u),w?v.default.createElement(c,{borderBottomRadius:8,overflow:"hidden"},v.default.createElement(J,{customBackground:g.colors.legacy.bgWallet,fontWeight:400,lineHeight:18,label:n("swapQuoteFeeDisclaimer",{feePercentage:ye(o.phantomFee.pct)}),tooltipContent:n("swapFeesPhantomFeeDisclaimer",{feePercentage:ye(o.phantomFee.pct)}),color:g.colors.legacy.textSecondary})):null)}),or=({isSwapReview:e,rowDisplayStrategy:o})=>{let r=Jo(e);return v.default.createElement(er,{...r,rowDisplayStrategy:o})},Io={direction:"row",marginY:10,width:"100%"},ko=({isSwapReview:e,rowDisplayStrategy:o})=>{let r=ie(i=>i.hasNoRoutes),t=ie(i=>i.error),{clearQuotes:n}=Ve(),p=(0,v.useCallback)(()=>{n()},[n]);return t&&r?v.default.createElement(c,{...Io},v.default.createElement(So,{message:t.message,errorCode:t.code,onRetry:p})):v.default.createElement(c,{...Io},v.default.createElement(or,{isSwapReview:e,rowDisplayStrategy:o??0}))};a();s();var W=h(b());a();s();var C=h(b());a();s();var rr=h(b());var re=B.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Tt=B.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var At=B.div`
  color: ${g.colors.legacy.accentPrimary};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${g.colors.legacy.bgButton};
  }
`;a();s();var N=h(b()),te=({input:e,isLoading:o,onSelectorPress:r,perspective:t,selectorIcon:n,selectorLabel:p,accessories:i,footer:l})=>{let{t:w}=S(),u=w(t==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),I=(0,N.useMemo)(()=>{if(i)return N.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},i)},[i]);(0,N.useEffect)(()=>{t==="buy"?ae.markFrame("buyTokenUpdated"):ae.markFrame("sellTokenUpdated")},[p,t]);let E=N.default.createElement(c,{display:"flex",direction:"column",gap:0,backgroundColor:"bgRow",borderRadius:"table",padding:20},N.default.createElement(F,{font:"labelSemibold",color:"textTertiary",children:u}),N.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,N.default.createElement(c,{flex:1}),o?N.default.createElement(X,{width:112,height:24}):N.default.createElement(c,{onPress:r,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderPrimary"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${t}-token-button`},n,N.default.createElement(F,{font:"captionSemibold",color:"textPrimary",children:p}),N.default.createElement(H.ChevronDown,{size:14}))),I);return tr(E,l)},tr=(e,o)=>o?N.default.createElement(c,{direction:"column",backgroundColor:"bgRow",borderRadius:"table"},e,o):e;a();s();var z=h(b()),To=({warnings:e})=>{if(e.length===0)return null;let o=e[0],r=p=>{switch(p.level){case"warn":return{backgroundColor:"accentWarning",textColor:"bgWallet"};case"info":return{backgroundColor:"bgRow",textColor:"textPrimary"}}},{backgroundColor:t,textColor:n}=r(o);return z.default.createElement(z.default.Fragment,null,z.default.createElement(c,{width:"100%",height:1,backgroundColor:"bgWallet"}),z.default.createElement(c,{gap:8,direction:"row",backgroundColor:t,padding:"screen",borderBottomRadius:"table"},z.default.createElement(c,{flexShrink:0},z.default.createElement(H.AlertTriangle,{color:n,size:18})),z.default.createElement(F,{flexShrink:1,font:"caption",color:n,children:d.t(o.titleKey,o.options)})))};a();s();var Ao=32,we="_4ag7710",Do="_4ag7712 _51gaznxf _51gazn13m _51gaznyw";a();s();var V=h(b()),No={secondaryContainer:y({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),pointer:y({cursor:"pointer"})},Lo=({isLoading:e,usdAmount:o,cryptoSubtitle:r,supportsCurrencyDenominationSwitching:t,switchCurrencyDenomination:n})=>{let p=ie(l=>l.primaryCurrency),i=(0,V.useMemo)(()=>e?V.default.createElement(X,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"}):p==="crypto"&&o!==void 0?V.default.createElement(_,{font:"caption",color:"textSecondary",value:o,intlNumberFormatOptions:{notation:"compact"}}):p==="fiat"&&r?V.default.createElement(F,{font:"caption",color:"textSecondary",children:r}):null,[r,p,e,o]);return V.default.createElement("div",{className:No.secondaryContainer,onClick:n},i,t?V.default.createElement(q,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary",className:No.pointer}):null)};var Ce={filters:y({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),currencyPrefix:y({marginRight:2}),accessoryContainer:y({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:y({flex:1})},Bo=({asset:e,perspective:o,onInputChange:r,onFungibleTap:t,onFilterTap:n,switchCurrencyDenomination:p,onBalanceTap:i})=>{let{amount:l,balance:w,fungible:u,isAmountEditable:I,isAmountLoading:E,isSecondaryCryptoSubtitleLoading:L,isWarning:P,secondaryCryptoSubtitle:Y,amountPrefix:R,selectedFilter:m,filters:Q,supportsCurrencyDenominationSwitching:ce,usdAmount:Ie}=e,{t:ke}=S(),Uo=C.default.createElement(ue,{image:{type:"fungible",src:u.data?.logoUri,fallback:u.data?.symbol||u.data?.tokenAddress},size:32,tokenType:u.type,chainMeta:u.data?.chain}),Ko=$=>$.length>16?16:$.length>14?18:$.length>12?20:22,Yo=(0,C.useMemo)(()=>{let $=Ko(l);return E?C.default.createElement(X,{width:100,height:18,borderRadius:12}):C.default.createElement(re,{hasWarning:P,fontSize:$},C.default.createElement(F,{font:"heading3",children:R,className:Ce.currencyPrefix}),C.default.createElement(G,{name:"amount",border:"0",placeholder:"0",warning:P,value:l,decimalLimit:u.data?.decimals,disabled:!I,onUserInput:r}))},[E,P,R,l,u.data?.decimals,I,r]),Te=(0,C.useMemo)(()=>C.default.createElement(Lo,{isLoading:L,usdAmount:Ie,cryptoSubtitle:Y,supportsCurrencyDenominationSwitching:ce,switchCurrencyDenomination:p}),[L,Ie,Y,ce,p]),Ae=(0,C.useMemo)(()=>{let $=j=>{switch(j){case .25:return"25%";case .5:return"50%";case 1:return ke("swapAssetCardMaxButton")}};return Q.map(j=>C.default.createElement(de,{key:j,active:j===m,children:$(j),onChange:()=>n(j),className:we}))},[Q,ke,m,n]),jo=(0,C.useMemo)(()=>C.default.createElement(C.default.Fragment,null,Te,C.default.createElement("div",{className:Ce.spacer}),C.default.createElement(F,{font:"caption",color:{base:"textSecondary",hover:i?"textPrimary":void 0},children:w,onPress:i}),C.default.createElement("div",{className:Ce.filters},Ae)),[w,Ae,i,Te]),qo=(0,C.useMemo)(()=>{if(e.warnings.length!==0)return C.default.createElement(To,{warnings:e.warnings})},[e.warnings]);return C.default.createElement(te,{perspective:o,input:Yo,selectorIcon:Uo,selectorLabel:u.data?.symbol??"",onSelectorPress:t,accessories:jo,footer:qo})};a();s();var ne=h(b());var Wo=({onSelectorTap:e,perspective:o})=>{let{t:r}=S();return ne.default.createElement(te,{perspective:o,input:ne.default.createElement(re,{hasWarning:!1,fontSize:32},ne.default.createElement(G,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:ne.default.createElement(q,{icon:"Plus",size:28,shape:"circle",color:"textPrimary",backgroundColor:"bgArea"}),selectorLabel:r("commandSelect"),onSelectorPress:e,accessories:ne.default.createElement(F,{font:"caption",color:"textSecondary",children:"$0"})})};a();s();var k=h(b());var Fe={filters:y({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:y({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:y({marginRight:2}),accessoryContainer:y({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:y({flex:1})},nr=[.5,1],Eo=({perspective:e})=>{let{t:o}=S(),r=(0,k.useMemo)(()=>{let i=Number(g.typography.font.heading3.fontSize.replace("px",""));return k.default.createElement(re,{fontSize:i},k.default.createElement(G,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),t=(0,k.useMemo)(()=>k.default.createElement(F,{font:"caption",color:"textSecondary",children:"$0"}),[]),n=(0,k.useMemo)(()=>{let i=l=>{switch(l){case .25:return"25%";case .5:return"50%";case 1:return o("swapAssetCardMaxButton")}};return nr.map(l=>k.default.createElement(de,{active:!1,children:i(l),onChange:()=>{},className:we}))},[o]),p=(0,k.useMemo)(()=>k.default.createElement(k.default.Fragment,null,k.default.createElement("div",{className:Fe.secondaryContainer},t,e==="sell"?k.default.createElement(q,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),k.default.createElement("div",{className:Fe.spacer}),k.default.createElement(We,{font:"caption",width:64}),e==="sell"?k.default.createElement("div",{className:Fe.filters},n):null),[n,t,e]);return k.default.createElement(te,{perspective:e,input:r,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:p})};var Mo={container:y({display:"flex",flexDirection:"column",flex:1}),assets:y({gap:12,display:"flex",flexDirection:"column"})},Oo=({onSelectAsset:e,isLoadingInitialAssets:o})=>{let{buy:r,sell:t,switchPerspective:n,setAmount:p,switchCurrencyDenomination:i,setFilter:l}=Ge(),{t:w}=S(),u=(0,W.useCallback)(L=>{ae.startTrace("switchButtonClick",L),n()},[n]),I=(0,W.useCallback)(async(L,P)=>{await Ee.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:L}}),l(L,P)},[l]),E=(0,W.useMemo)(()=>[{perspective:"sell",asset:t},{perspective:"buy",asset:r}].map(({asset:L,perspective:P})=>{if(!L)return W.default.createElement(Wo,{key:P+"select",perspective:P,onSelectorTap:()=>e(P)});if(o)return W.default.createElement(Eo,{key:P+"loading",perspective:P});let Y=L.filters.length>0?()=>l(1,P):void 0,R=W.default.createElement(Bo,{key:P,asset:L,perspective:P,switchCurrencyDenomination:i,onFungibleTap:()=>e(P),onInputChange:m=>{p(P,m)},onFilterTap:m=>I(m,P),onBalanceTap:Y});return P==="buy"?W.default.createElement(c,{position:"relative",key:P+"swap-button"},R,W.default.createElement("div",{className:Do,style:{pointerEvents:"none"}},W.default.createElement(Be,{label:w("swapperSwitchTokens"),size:Ao,shape:"circle",onClick:u,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):R}),[t,r,o,i,I,e,p,l,u,w]);return W.default.createElement("div",{className:Mo.container},W.default.createElement("div",{className:Mo.assets},E))};a();s();var A=h(b());var ir=A.default.memo(({rankAlgo:e,limit:o})=>{let{t:r}=S(),t=Ne(),n=se(m=>m.sortBy),p=se(m=>m.sortDirection),i=se(m=>m.timeFrame),l=se(m=>m.network),{data:w,error:u,isLoading:I,refetch:E}=Oe({sortBy:n,sortDirection:p,timeFrame:i,limit:o,rankAlgo:e,network:l}),{pushDetailView:L}=no(),P=(0,A.useCallback)(({item:m,index:Q})=>{let ce=De({chainId:m.chainId,address:m.address,resourceType:"address"});t.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:Q,title:m.name||m.symbol,id:`${m.address}-${m.chainId}`}}}}),L(A.default.createElement(so,{caip19:ce,title:m.name??void 0,entryPoint:"exploreInSwap"}))},[t,L]),Y=!!u||w?.items.length===0,R=I||typeof w>"u";return A.default.createElement(c,{direction:"column",paddingTop:24,flex:1},A.default.createElement(c,{paddingX:"screen",paddingBottom:10},A.default.createElement(F,{font:"title2",color:"textPrimary"},r("exploreTokens"))),A.default.createElement(go,{isError:Y,isLoading:R,refetch:E,filters:A.default.createElement(fo,null),listHeader:A.default.createElement(mo,null),rows:(w?.items??[]).map((m,Q)=>({...uo({item:m,sortBy:n,image:A.default.createElement(wo,{index:Q,displayRank:!0,image:A.default.createElement(ue,{image:{type:"fungible",src:m.logoUrl,fallback:m.symbol||m.name},size:48,badge:{type:"network",preset:me.getChainID(m.chainId)}})})}),onClick:()=>P({item:m,index:Q})}))}))});function ar(){let e=Me("tokens");return e?A.default.createElement(co,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault},A.default.createElement(ir,{rankAlgo:e.rankAlgo,limit:10})):null}var zo=A.default.memo(ar);a();s();var Qo=h(b());a();s();var Vo=h(b());var sr={autoSlippageOptIn:"autoSlippageOptIn"},Ro=()=>{let{handleShowModalVisibility:e}=oe();return(0,Vo.useCallback)(o=>{let r=sr[o];if(!r)throw new Error(`Swap review interceptor modal not found or configured for ${o}.`);e(r)},[e])};var $o=()=>{let{goToInsufficientBalance:e,goToSwapTermsOfService:o,goToConfirmation:r}=lo(),t=Ro(),{disabled:n,title:p,type:i,onClick:l}=qe({goToInsufficientBalance:e,goToSwapTermsOfService:o,goToConfirmation:r,showOverlay:t,showFungibleDetails:()=>{},showBuyFungibleScreen:()=>{},navigateToSwapper:()=>{}});function w(u){return u==="primary"?"primary":u==="alert"?"warning":"default"}return Qo.default.createElement(ro,{type:"submit",theme:w(i),disabled:n,onClick:l,width:"90%"},p)};a();s();var K=h(b());a();s();var M=h(b());var pr=B.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,lr=B.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,cr=B.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${Se(g.colors.legacy.bgWallet,.75)};
`,Ho=B.div`
  background-color: ${Se(g.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,_o=B(be).attrs({size:14,lineHeight:19,weight:500,color:g.colors.legacy.textPrimary,textAlign:"left"})``,ve=({message:e,swapDisabled:o=!0,children:r})=>o?M.default.createElement(M.default.Fragment,null,M.default.createElement(cr,{"data-testid":"disable-overlay"},M.default.createElement(Ho,null,M.default.createElement(_o,null,e))),M.default.createElement(lr,{"data-testid":"disable-wrapper"},r)):M.default.createElement(pr,null,M.default.createElement(Ho,null,M.default.createElement(_o,null,e)),M.default.createElement(M.default.Fragment,null,r));var mr=B.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,Go=K.default.memo(({children:e})=>{let o=Le(),r=o.every(l=>me.isMainnetNetworkID(l)),n=Qe().some(l=>o.includes(l)),{t:p}=S(),i=(0,K.useMemo)(()=>({availableOnlyOnMainnet:p("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:p("swapNotAvailableOnSelectedNetwork")}),[p]);return r?n?K.default.createElement(mr,null,e):K.default.createElement(ve,{message:i.notAvailableOnSelectedNetwork,swapDisabled:!0},e):K.default.createElement(ve,{message:i.availableOnlyOnMainnet,swapDisabled:!0},e)});var dr=B(ge)`
  position: fixed;
  bottom: 70px;
  left: 16px;
  padding: 16px;
`,ur=()=>{let[e]=eo(),o=e.get("sellFungible")??void 0,r=e.get("sellAmount")??void 0,t=e.get("buyFungible")??void 0,n=Ke(),{getSwapQuotesStrategy:p,onSwapTabExit:i}=je();_e({getSwapQuotesStrategy:p,skipInitialBuyFungible:!0}),$e();let{isLoading:l}=He({paramsSellFungible:o,paramsSellAmount:r,paramsBuyFungible:t});return(0,f.useLayoutEffect)(()=>()=>{i(),n()},[i,n]),{isLoadingInitialAssets:l}},gr=({isLoadingInitialAssets:e})=>{let{t:o}=S(),{quoteResponse:r,hasNoRoutes:t}=Re(),{handleShowModalVisibility:n}=oe(),p=(0,f.useCallback)(I=>{n(I==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[n]),i=Ze({goToAssetSelect:p}),l=(0,f.useCallback)(()=>{n("messageOverlay",{title:o("swapProviderAutoUpdateTitle"),message:o("swapProviderAutoUpdateMessage")})},[n,o]);Je({showDefaultAutoProvider:l});let w=(0,f.useMemo)(()=>f.default.createElement(Oo,{onSelectAsset:i,isLoadingInitialAssets:e}),[e,i]),u=(0,f.useMemo)(()=>!r&&!t,[r,t]);return f.default.createElement(Go,null,f.default.createElement(ge,{justify:"space-between",flex:1},f.default.createElement(ge,{align:"normal",padding:"16px 16px 0 16px",margin:r?"0 0 70px 0":"0"},w,r||t?f.default.createElement(ko,null):null),u?f.default.createElement(zo,null):null,f.default.createElement(dr,null,r?f.default.createElement(to,{removeFooterExpansion:!1,cssOverride:ze`
                background: ${g.colors.legacy.bgRow};
              `},f.default.createElement($o,null)):null)))},fr=()=>f.default.createElement(Ye,null,f.default.createElement(wr,null)),wr=()=>{let{isLoadingInitialAssets:e}=ur();return e?f.default.createElement(c,{gap:1},f.default.createElement(Z,{height:"120px",borderRadius:"8px 8px 0 0"}),f.default.createElement(Z,{height:"120px",borderRadius:"0 0 8px 8px"})):f.default.createElement(gr,{isLoadingInitialAssets:e})},Ia=fr;export{Ia as default};
//# sourceMappingURL=SwapTabPage-SHT67ZHX.js.map

import{a as ro,b as so}from"./chunk-EGRGBQB7.js";import"./chunk-YAO7REK7.js";import{b as ao}from"./chunk-V6DLTT4B.js";import"./chunk-V47DZOML.js";import{a as oo,b as to}from"./chunk-LWVOT36P.js";import{a as io}from"./chunk-X52DLVW7.js";import{a as no}from"./chunk-GTKJB5LD.js";import"./chunk-RKEWOY4Z.js";import"./chunk-ZIC7YPJ4.js";import"./chunk-JQSA5TIP.js";import"./chunk-72HNNDKS.js";import"./chunk-GYMVMXJW.js";import"./chunk-H5C3PAJB.js";import"./chunk-KG4BIB75.js";import"./chunk-VDEE4JHX.js";import"./chunk-M7QPXI67.js";import"./chunk-ZDNYM3HY.js";import"./chunk-YQDBMSRB.js";import"./chunk-SDNWZK3I.js";import"./chunk-X3SZXC4S.js";import"./chunk-54OJQHT7.js";import"./chunk-NMUIMOFA.js";import"./chunk-JB6B3MIH.js";import{H as je,I as qe,J as Ke,O as Qe,P as Xe,Q as Ye,R as Je,T as Re,V as eo,W as te,w as $e}from"./chunk-QY52VKIT.js";import{e as Ze}from"./chunk-FWNN4T46.js";import"./chunk-6N4LSHMD.js";import"./chunk-RQLATSAD.js";import"./chunk-ZMMJWM5T.js";import"./chunk-TQGXB7FB.js";import"./chunk-UMB7TYLX.js";import"./chunk-5RY5S5F7.js";import"./chunk-H6OI2N7M.js";import"./chunk-TMG2ZPKO.js";import"./chunk-MDZMKEZM.js";import{a as Ge}from"./chunk-ZJHRYWCW.js";import{a as I}from"./chunk-752G45NS.js";import"./chunk-SQR6EK5U.js";import"./chunk-4HMU6WOI.js";import"./chunk-HV4BNC77.js";import"./chunk-E67GFDH7.js";import"./chunk-NXLKAZNL.js";import"./chunk-ACPUL5BT.js";import"./chunk-YN37DKRO.js";import{a as v}from"./chunk-R2LHCBUO.js";import{b as We,d as _e}from"./chunk-DLKGATEC.js";import"./chunk-P7AH56UI.js";import"./chunk-C4LAG2JY.js";import"./chunk-ZO4HQTNS.js";import"./chunk-UDB3GXAG.js";import{a as re}from"./chunk-NUJWAPIJ.js";import"./chunk-KQPLPV6X.js";import"./chunk-XF5OACZG.js";import"./chunk-JFTAOGWZ.js";import"./chunk-FOBVHFVM.js";import"./chunk-ZDSEL3RH.js";import{b as Ue}from"./chunk-PB6PA2EI.js";import"./chunk-SYHI4WMU.js";import"./chunk-RP4HT6XN.js";import"./chunk-AK42W2OZ.js";import"./chunk-WIQ6K6RU.js";import"./chunk-26VAF3RA.js";import"./chunk-NAWTYQ77.js";import"./chunk-7ZVEM3WY.js";import"./chunk-LEN5VG3M.js";import"./chunk-H7ATUB7C.js";import{L as De,db as y,ha as ze,ma as Ve}from"./chunk-7N5UY74L.js";import{f as a}from"./chunk-ORJUPAX4.js";import{p as Ce,q as ke,rb as Ne,s as ve,sb as Le,tb as He}from"./chunk-ZTXKK5SN.js";import"./chunk-UCBZOSRF.js";import"./chunk-HIWDTKJJ.js";import"./chunk-3XC45JK7.js";import"./chunk-G7OTLN34.js";import"./chunk-GDBECYVT.js";import{X as Oe,d as Be,i as Fe,q as Pe}from"./chunk-US2EC2AF.js";import"./chunk-JOA3PMVO.js";import"./chunk-MWXM4F4N.js";import{c as Ae}from"./chunk-7F2GBYX5.js";import"./chunk-7XSNALQR.js";import"./chunk-HYOCMEEG.js";import"./chunk-LTDRBNZN.js";import"./chunk-IBEI3NGL.js";import"./chunk-O2N6PUOM.js";import"./chunk-QY3T2P2H.js";import"./chunk-DZ3GQOT6.js";import{Rb as Ee,ld as Ie,nd as Me}from"./chunk-EIQDOUTB.js";import"./chunk-WFPABEAU.js";import"./chunk-3IV4Y5QP.js";import"./chunk-XJI624TH.js";import"./chunk-NEKSPHVV.js";import"./chunk-O3RSUGZX.js";import"./chunk-65FAE5DM.js";import"./chunk-DBO6DP4Z.js";import"./chunk-5W7YPRT3.js";import{Dd as fe,Qd as he,Sd as oe,Xd as be,Ya as de,dd as pe,eb as ue,wd as ee,xd as ge}from"./chunk-D7Z6MPRS.js";import"./chunk-NZAWO25Q.js";import"./chunk-E2H5RB2U.js";import"./chunk-CWJVYWRL.js";import{ca as xe,j as L,qa as we,s as c,ta as Te,ua as Se,w as k,x as ye}from"./chunk-27TD4NX4.js";import{L as me}from"./chunk-YJV3X2ON.js";import"./chunk-FBDT5S2M.js";import{Q as ce,w as ne}from"./chunk-TKSJVOQZ.js";import{a as P}from"./chunk-UA6ADLWZ.js";import"./chunk-TVMPABNZ.js";import"./chunk-4M6V6BRQ.js";import"./chunk-UNDMYLJW.js";import{f as E,h as u,i as x,n as p}from"./chunk-3KENBVE7.js";u();p();var e=E(P());u();p();var n=E(P());u();p();var w=E(P()),lo=({children:o,maxFontSize:i})=>{let l=(0,w.useRef)(null),[r,t]=(0,w.useState)(i);return(0,w.useEffect)(()=>{let s=l.current;if(!s)return;let m=new ResizeObserver(()=>{let g=r;s.querySelectorAll("*").forEach(b=>{for(;b.scrollWidth>s.clientWidth&&g>10;)g-=1,b.style.fontSize=`${g}px`}),t(g)});return m.observe(s),()=>{m.disconnect()}},[r]),w.default.createElement(k,{ref:l,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},w.default.createElement("div",{style:{fontSize:`${r}px`,whiteSpace:"nowrap"}},o))};u();p();var G=E(P());var co=()=>{let{data:o}=ee(),{caip19:i,tokenName:l,tokenSymbol:r}=he(),{handleShowModalVisibility:t,handleHideModalVisibility:s}=te(),{openBuy:m}=Qe({caip19:i,context:"nux",analyticsEvent:"nuxBuyTokenClickedByUser"}),g=(0,G.useCallback)(()=>{o&&t("receive",{account:o,onCloseClick:()=>s("receive")})},[s,t,o]);return G.default.createElement($e,{image:G.default.createElement(xe,{src:"https://assets.phantom.app/assets/nux-illustration-gm.webp",width:249,height:96}),onClickBuyToken:m,onClickReceive:g,tokenName:l,tokenSymbol:r})};var vo=a(v).attrs({align:"center"})`
  margin-top: 2rem;
`,Ao=a(v).attrs({align:"center"})`
  padding-left: 16px;
  padding-right: 16px;
  padding-top: 16px;
  padding-bottom: 0;
  margin-bottom: -8px; // Forces spacing between nux and CTA buttons to be 24px
`,se=a(v).attrs({align:"center",justify:"center",width:"100%"})`
  height: 5.3rem;
`,mo=a(Ge).attrs({height:"8px",borderRadius:"6px",backgroundColor:c.colors.legacy.borderPrimary})`
  opacity: 0.2;
`,uo=a(I)`
  height: 8px;
  border-radius: 6px;
  background-color: rgba(from ${c.colors.legacy.textSecondary} r g b / 50%);
  opacity: 0.5;
`,Bo=a.div`
  display: flex;
  flex-direction: row;
  padding: 16px 5px;
  justify-content: center;
  align-items: center;
  gap: 6px;
  flex: 1 0 0;
  border-radius: 62px;
  background: ${c.colors.legacy.bgButton};
`,Fo=a(y).attrs({size:15,weight:"600",color:c.colors.legacy.textPrimary,lineHeight:20})``,Eo=a(y).attrs({size:36,weight:"bold",color:c.colors.legacy.textSecondary})``,Po=a(I).attrs({justify:"center"})``,Io=a(y).attrs({weight:500,size:18})`
  border-radius: 6px;
  padding: 2px 5px;
`,Mo=a.div`
  > * {
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.16);
  }
  display: flex;
  flex-direction: row;
  gap: 8px;
  width: 326px;
  margin-top: 2rem;
  margin-bottom: 22px;
  margin-left: auto;
  margin-right: auto;
`,Oo=a.div`
  padding: 16px;
  padding-bottom: 0px;
`,No=a.div`
  padding: 32px 16px;
  width: 100%;
`,Lo={minimumFractionDigits:2,maximumFractionDigits:2},po=n.default.memo(({hasFungibles:o,isErrorTokens:i,isLoading:l,isHidingAllFungibles:r,isReadOnlyAccount:t,value:s,earnings:m,showDollarValues:g,shouldShowPartialError:h,partialErrorMessage:b,ctaActions:S})=>{let{t:f}=L(),A=Ho(m),C=Do(s,m),{buttonDisabled:D}=zo({isLoading:l,isEnabled:o||r,isErrorTokens:i}),z=Le();return n.default.createElement(k,{width:"100%"},h?n.default.createElement(Oo,null,n.default.createElement(Xe,{partialErrorMessage:b})):null,z?n.default.createElement(Ao,null,n.default.createElement(co,null)):n.default.createElement(vo,null,g?l?n.default.createElement(se,null,n.default.createElement(mo,{width:"184px",margin:"0 0 10px 0"}),n.default.createElement(mo,{width:"112px"})):o||r?n.default.createElement(n.default.Fragment,null,n.default.createElement(k,{width:"100%",marginBottom:10},n.default.createElement(lo,{maxFontSize:38},n.default.createElement(re,{font:"inherit",fontWeight:"semibold",value:s,intlNumberFormatOptions:Lo}))),n.default.createElement(Po,null,n.default.createElement(re,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:m}),n.default.createElement(Io,{color:A,backgroundColor:ce(A,.1)},C))):i?n.default.createElement(se,null,n.default.createElement(uo,{width:"184px",margin:"0 0 10px 0"}),n.default.createElement(uo,{width:"112px"})):null:n.default.createElement(se,null,n.default.createElement(Eo,null,"\u2013"))),n.default.createElement(no,null),t?n.default.createElement(Mo,null,n.default.createElement(Bo,null,n.default.createElement(De,{width:20,height:20,fill:c.colors.legacy.textPrimary}),n.default.createElement(Fo,null,f("readOnlyAccountBannerWarning")))):n.default.createElement(No,null,n.default.createElement(Je,{disabled:D,actions:S,uiContextName:"home",maxButtons:4})))}),Ho=o=>o===void 0||o===0?c.colors.legacy.textSecondary:o>0?c.colors.legacy.accentSuccess:c.colors.legacy.accentAlert,Do=(o,i)=>{let l=o===void 0,r=i===void 0,t=r||i>=0?"+":"-";return l||r?"-":`${t}${Math.abs(Ee(o-i,o)).toFixed(2)}%`},zo=({isLoading:o,isEnabled:i,isErrorTokens:l})=>{let r="primary",t=!1;switch(!0){case o:r="secondary",t=!0;break;case i:r="primary",t=!1;break;case l:r="secondary",t=!0}return{buttonTheme:r,buttonDisabled:t}};u();p();var T=E(P());var Vo=a(v).attrs({align:"center"})``,Uo=a.div`
  width: 48px;
  height: 48px;
  position: relative;
  margin-bottom: 15px;
  border-radius: 100%;
  background: ${c.colors.legacy.bgRow};
`,Wo=a(I).attrs({align:"center",justify:"center"})`
  height: 100%;
`,_o=a(y).attrs({size:17,weight:500,lineHeight:22,margin:"0 0 10px 0"})``,$o=a(y).attrs({size:15,weight:500,lineHeight:21,margin:"0 0 15px 0",color:c.colors.legacy.textSecondary})``,Go=a(y).attrs({size:16,weight:500,lineHeight:22,margin:"0",color:c.colors.legacy.accentPrimary})``,go=T.default.memo(o=>T.default.createElement(Vo,null,T.default.createElement(Uo,null,T.default.createElement(Wo,null,T.default.createElement(Ve,{width:22,exclamationFill:"transparent",circleFill:c.colors.brand.yellowMoon}))),T.default.createElement(_o,null,o.title),T.default.createElement($o,null,o.description),T.default.createElement(Go,{onClick:o.refetch},o.buttonText)));u();p();var H=E(P());var Zo=a(I).attrs({justify:"center",margin:"0 auto",width:"auto"})`
  cursor: pointer;
  height: 48px;
  margin-bottom: 10px;
  p {
    font-weight: 500;
  }
  &:hover {
    p {
      color: ${c.colors.legacy.accentPrimary} !important;
    }
    svg {
      fill: ${c.colors.legacy.accentPrimary};
      path {
        stroke: ${c.colors.legacy.accentPrimary};
      }
      circle {
        stroke: ${c.colors.legacy.accentPrimary};
      }
    }
  }
`,jo=a(y).attrs({size:16,color:c.colors.legacy.textSecondary,weight:500,margin:"0 0 0 10px",lineHeight:19,noWrap:!0})``,ae=H.default.memo(o=>H.default.createElement(Zo,{onClick:o.onClick},H.default.createElement(Ue,null,H.default.createElement(ze,null)),H.default.createElement(jo,null,o.buttonText)));u();p();var Z=E(P());function fo(o,i,l){let r=oe(),[t,s]=(0,Z.useState)(!1);(0,Z.useEffect)(()=>{r||s(!1)},[l,r]),(0,Z.useEffect)(()=>{t||!i.length||!o.length||r||(Ye.walletBalance(l,i,o),s(!0))},[l,i,o,t,r])}u();p();var ho=()=>x.ENVIRONMENT==="e2e";var qo=Be(!0),Ko=e.default.memo(({listRowProps:o,fungible:i,isMainnet:l,visibilityOverrides:r})=>{let{t}=L(),{pushDetailView:s}=We(),{chain:m,name:g,tokenAddress:h}=i.data,b=g??t("assetDetailUnknownToken"),S=ue(Ie(i)),f=(0,e.useCallback)(()=>{Ae.capture("assetDetailClick",{data:{address:h,chain:m.name,chainId:de.getChainID(m.id),isNativeOfType:m.name,networkId:m.id,type:"fungible",spamStatus:i.data.spamStatus,name:b}}),s(e.default.createElement(eo,{caip19:S,fungibleKey:i.data.key,splTokenAccount:i.type==="SPL"?i.data.splTokenAccountPubkey:void 0,isSplCompressed:i.type==="CompressedSPL",entryPoint:"home"}))},[i,m,S,s,b,h]);return e.default.createElement("div",{key:o.key,style:o.style},e.default.createElement(qe,{...Ke(i,r),onClick:()=>f(),showBalance:!0,showCurrencyValues:l,enableAnimations:!0}))}),Qo=ne({seconds:5}),Xo=ne({seconds:10}),Yo=()=>{let{data:o}=ee(),{data:i}=pe(o?.identifier),{shouldShowAdditionalPermissionsInterstitial:l}=to(),r=Re(),{handleShowModalVisibility:t,handleHideModalVisibility:s,isAnyModalOpen:m}=te(),g=(0,e.useCallback)(()=>{o&&t("onramp")},[t,o]),h=(0,e.useCallback)(()=>{o&&t("receive",{account:o,onCloseClick:()=>s("receive")})},[s,t,o]),b=(0,e.useCallback)(()=>{r({})},[r]),S=(0,e.useCallback)(()=>{t("sendFungibleSelect")},[t]),{t:f}=L(),A=(0,e.useMemo)(()=>({manageTokenList:f("homeManageTokenList"),errorTitle:f("homeErrorTitle"),errorDescription:f("homeErrorDescription"),errorButton:f("homeErrorButtonText")}),[f]),{ctaActions:C,shouldShowPartialError:D,partialErrorMessage:z}=Oe({onTappingBuy:g,onTappingReceive:h,onTappingSend:S,onTappingSwap:b,account:o}),B=(0,e.useCallback)(()=>{s("unifiedInterstitial")},[s]),{isOpen:j}=_e(),{shouldShow:V,showFlow:U}=Ne(),{interstitial:q,shouldShow:K}=Ce({onPrimaryAction:B,condition:()=>!j,image:e.default.createElement("img",{src:"/images/sui/onboarding.svg",style:{paddingTop:"16px"}})}),{interstitial:Q,shouldShow:W}=ke({onPrimaryAction:B,onSecondaryAction:B,condition:()=>!j,image:e.default.createElement("img",{src:"/images/arbitrum/onboarding.svg",style:{paddingTop:"16px"}})}),{shouldShowTermsOfServiceUpdateInterstitial:_,setTermsAcknowledgement:ie}=He(),{interstitial:X}=ve({onConfirm:()=>{ie(!0),B()},openUrl:async N=>{self.open(N,"_blank")}});(0,e.useEffect)(()=>{let N=setTimeout(()=>{m()||(_?t("unifiedInterstitial",X):V?U(()=>t("quickClaimUsername",{isDismissable:!1})):K?t("unifiedInterstitial",q):W&&t("unifiedInterstitial",Q))},500);return()=>clearTimeout(N)},[q,t,K,V,U,m,_,X,Q,W]);let{accountBalance:M,accountId:O}=(0,e.useMemo)(()=>({accountBalance:i?.value,accountId:o?.identifier??""}),[i?.value,o?.identifier]),d=o?.isReadOnly,F=!oe(),Y=Pe(N=>N.resetSendSlice);(0,e.useEffect)(function(){O&&Y()},[O,Y]);let{fungibles:$,visibilityOverrides:J,portfolio:R,isHidingAllFungibles:bo,isLoadingVisibilityOverrides:yo,isLoadingTokens:xo,isLoadingPrices:wo,isErrorTokens:To,refetch:So}=Me({useTokenQueryOptions:{staleTime:Qo,refetchInterval:Xo}}),{mutate:Co}=ge();be({accountBalance:M,accountId:O,enabled:F,value:R.value,setAccountBalance:Co});let ko=fe();return fo($,ko,O),{data:(0,e.useMemo)(()=>({fungibles:$,earnings:R.earnings,value:R.value,isMainnet:F,translations:A,visibilityOverrides:J,ctaActions:C,showReceiveModal:h,handleShowModalVisibility:t,handleHideModalVisibility:s}),[J,$,R,A,F,h,t,s,C]),isHidingAllFungibles:bo,isLoading:yo||xo||wo,isErrorTokens:To,isReadOnlyAccount:d,refetch:So,shouldShowPartialError:D,partialErrorMessage:z,shouldShowAdditionalPermissionsInterstitial:l}},le="home-tab",Jo=()=>{let{data:[o]}=me(["enable-merge-collectibles"]),{t:i}=L(),{data:l,isHidingAllFungibles:r,isLoading:t,isErrorTokens:s,isReadOnlyAccount:m,refetch:g,shouldShowPartialError:h,partialErrorMessage:b,shouldShowAdditionalPermissionsInterstitial:S}=Yo(),{fungibles:f,translations:A,isMainnet:C,earnings:D,value:z,visibilityOverrides:B,ctaActions:j,handleShowModalVisibility:V}=l,{manageTokenList:U,errorTitle:q,errorDescription:K,errorButton:Q}=A,W=f.length>0,_=(0,e.useRef)(document.getElementById(le));(0,e.useEffect)(()=>{let d=document.getElementById(le);d&&(_.current=d)},[]);let[ie,X]=Fe(qo),M=o?ie:!0,O=(0,e.useCallback)(d=>e.default.createElement(Ko,{key:d.key,listRowProps:d,fungible:f[d.index],isMainnet:C,visibilityOverrides:B}),[f,C,B]);return e.default.createElement("div",{id:le,style:{overflowY:M?"auto":void 0,overflowX:"hidden"}},e.default.createElement(po,{earnings:D,value:z,hasFungibles:W,isErrorTokens:s,isLoading:t,isHidingAllFungibles:r,isReadOnlyAccount:m,showDollarValues:C,shouldShowPartialError:h,partialErrorMessage:b,ctaActions:j}),e.default.createElement(v,{align:"center",padding:"0 16px 16px"},!m&&e.default.createElement(e.default.Fragment,null,e.default.createElement(so,null),e.default.createElement(ro,null)),!ho()&&e.default.createElement(e.default.Fragment,null,e.default.createElement(io,null)),S&&e.default.createElement(oo,null),o?e.default.createElement(k,{direction:"row",gap:12,width:"100%",marginBottom:12},[{title:i("portfolioHomeTokens"),isActive:M},{title:i("portfolioHomeCollectibles"),isActive:!M}].map(d=>e.default.createElement(ye,{key:d.title,font:"title1Semibold",onPress:d.isActive?void 0:()=>X(F=>!F),color:d.isActive?"textPrimary":"textSecondary"},d.title))):null,t?[1,2,3].map(d=>e.default.createElement(Ze,{key:`fungible-token-row-loader-${d}`})):W?M?e.default.createElement(e.default.Fragment,null,e.default.createElement(Se,{scrollElement:_.current??void 0},({height:d=0,isScrolling:F,registerChild:Y,scrollTop:$})=>e.default.createElement("div",{style:{width:"100%"},ref:Y},e.default.createElement(we,{disableHeight:!0},({width:J})=>e.default.createElement(Te,{autoHeight:!0,width:J,height:d,scrollTop:$,isScrolling:F,rowCount:f.length,rowHeight:je+10,rowRenderer:O})))),e.default.createElement(ae,{buttonText:U,onClick:()=>V("fungibleVisibility")})):e.default.createElement(k,{size:"100%"},e.default.createElement(ao,{hideSearch:!0,padding:0})):r?e.default.createElement(ae,{buttonText:U,onClick:()=>V("fungibleVisibility")}):e.default.createElement(go,{title:q,description:K,buttonText:Q,refetch:g})))},Di=Jo;export{Di as default};
//# sourceMappingURL=HomeTabPage-W4KWDWQ2.js.map
